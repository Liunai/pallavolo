(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))r(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&r(d)}).observe(document,{childList:!0,subtree:!0});function i(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function r(l){if(l.ep)return;l.ep=!0;const c=i(l);fetch(l.href,c)}})();var Yd={exports:{}},Pl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var iv;function KA(){if(iv)return Pl;iv=1;var s=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function i(r,l,c){var d=null;if(c!==void 0&&(d=""+c),l.key!==void 0&&(d=""+l.key),"key"in l){c={};for(var p in l)p!=="key"&&(c[p]=l[p])}else c=l;return l=c.ref,{$$typeof:s,type:r,key:d,ref:l!==void 0?l:null,props:c}}return Pl.Fragment=t,Pl.jsx=i,Pl.jsxs=i,Pl}var sv;function XA(){return sv||(sv=1,Yd.exports=KA()),Yd.exports}var S=XA(),Kd={exports:{}},Nt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rv;function $A(){if(rv)return Nt;rv=1;var s=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),_=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),b=Symbol.for("react.activity"),N=Symbol.iterator;function Y(V){return V===null||typeof V!="object"?null:(V=N&&V[N]||V["@@iterator"],typeof V=="function"?V:null)}var et={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},lt=Object.assign,nt={};function pt(V,F,st){this.props=V,this.context=F,this.refs=nt,this.updater=st||et}pt.prototype.isReactComponent={},pt.prototype.setState=function(V,F){if(typeof V!="object"&&typeof V!="function"&&V!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,V,F,"setState")},pt.prototype.forceUpdate=function(V){this.updater.enqueueForceUpdate(this,V,"forceUpdate")};function wt(){}wt.prototype=pt.prototype;function Et(V,F,st){this.props=V,this.context=F,this.refs=nt,this.updater=st||et}var Zt=Et.prototype=new wt;Zt.constructor=Et,lt(Zt,pt.prototype),Zt.isPureReactComponent=!0;var ie=Array.isArray;function Ft(){}var x={H:null,A:null,T:null,S:null},w=Object.prototype.hasOwnProperty;function I(V,F,st){var J=st.ref;return{$$typeof:s,type:V,key:F,ref:J!==void 0?J:null,props:st}}function U(V,F){return I(V.type,F,V.props)}function D(V){return typeof V=="object"&&V!==null&&V.$$typeof===s}function L(V){var F={"=":"=0",":":"=2"};return"$"+V.replace(/[=:]/g,function(st){return F[st]})}var R=/\/+/g;function de(V,F){return typeof V=="object"&&V!==null&&V.key!=null?L(""+V.key):F.toString(36)}function Se(V){switch(V.status){case"fulfilled":return V.value;case"rejected":throw V.reason;default:switch(typeof V.status=="string"?V.then(Ft,Ft):(V.status="pending",V.then(function(F){V.status==="pending"&&(V.status="fulfilled",V.value=F)},function(F){V.status==="pending"&&(V.status="rejected",V.reason=F)})),V.status){case"fulfilled":return V.value;case"rejected":throw V.reason}}throw V}function G(V,F,st,J,Tt){var xt=typeof V;(xt==="undefined"||xt==="boolean")&&(V=null);var Ut=!1;if(V===null)Ut=!0;else switch(xt){case"bigint":case"string":case"number":Ut=!0;break;case"object":switch(V.$$typeof){case s:case t:Ut=!0;break;case A:return Ut=V._init,G(Ut(V._payload),F,st,J,Tt)}}if(Ut)return Tt=Tt(V),Ut=J===""?"."+de(V,0):J,ie(Tt)?(st="",Ut!=null&&(st=Ut.replace(R,"$&/")+"/"),G(Tt,F,st,"",function(Qn){return Qn})):Tt!=null&&(D(Tt)&&(Tt=U(Tt,st+(Tt.key==null||V&&V.key===Tt.key?"":(""+Tt.key).replace(R,"$&/")+"/")+Ut)),F.push(Tt)),1;Ut=0;var me=J===""?".":J+":";if(ie(V))for(var ge=0;ge<V.length;ge++)J=V[ge],xt=me+de(J,ge),Ut+=G(J,F,st,xt,Tt);else if(ge=Y(V),typeof ge=="function")for(V=ge.call(V),ge=0;!(J=V.next()).done;)J=J.value,xt=me+de(J,ge++),Ut+=G(J,F,st,xt,Tt);else if(xt==="object"){if(typeof V.then=="function")return G(Se(V),F,st,J,Tt);throw F=String(V),Error("Objects are not valid as a React child (found: "+(F==="[object Object]"?"object with keys {"+Object.keys(V).join(", ")+"}":F)+"). If you meant to render a collection of children, use an array instead.")}return Ut}function at(V,F,st){if(V==null)return V;var J=[],Tt=0;return G(V,J,"","",function(xt){return F.call(st,xt,Tt++)}),J}function gt(V){if(V._status===-1){var F=V._result;F=F(),F.then(function(st){(V._status===0||V._status===-1)&&(V._status=1,V._result=st)},function(st){(V._status===0||V._status===-1)&&(V._status=2,V._result=st)}),V._status===-1&&(V._status=0,V._result=F)}if(V._status===1)return V._result.default;throw V._result}var Kt=typeof reportError=="function"?reportError:function(V){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var F=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof V=="object"&&V!==null&&typeof V.message=="string"?String(V.message):String(V),error:V});if(!window.dispatchEvent(F))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",V);return}console.error(V)},te={map:at,forEach:function(V,F,st){at(V,function(){F.apply(this,arguments)},st)},count:function(V){var F=0;return at(V,function(){F++}),F},toArray:function(V){return at(V,function(F){return F})||[]},only:function(V){if(!D(V))throw Error("React.Children.only expected to receive a single React element child.");return V}};return Nt.Activity=b,Nt.Children=te,Nt.Component=pt,Nt.Fragment=i,Nt.Profiler=l,Nt.PureComponent=Et,Nt.StrictMode=r,Nt.Suspense=_,Nt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=x,Nt.__COMPILER_RUNTIME={__proto__:null,c:function(V){return x.H.useMemoCache(V)}},Nt.cache=function(V){return function(){return V.apply(null,arguments)}},Nt.cacheSignal=function(){return null},Nt.cloneElement=function(V,F,st){if(V==null)throw Error("The argument must be a React element, but you passed "+V+".");var J=lt({},V.props),Tt=V.key;if(F!=null)for(xt in F.key!==void 0&&(Tt=""+F.key),F)!w.call(F,xt)||xt==="key"||xt==="__self"||xt==="__source"||xt==="ref"&&F.ref===void 0||(J[xt]=F[xt]);var xt=arguments.length-2;if(xt===1)J.children=st;else if(1<xt){for(var Ut=Array(xt),me=0;me<xt;me++)Ut[me]=arguments[me+2];J.children=Ut}return I(V.type,Tt,J)},Nt.createContext=function(V){return V={$$typeof:d,_currentValue:V,_currentValue2:V,_threadCount:0,Provider:null,Consumer:null},V.Provider=V,V.Consumer={$$typeof:c,_context:V},V},Nt.createElement=function(V,F,st){var J,Tt={},xt=null;if(F!=null)for(J in F.key!==void 0&&(xt=""+F.key),F)w.call(F,J)&&J!=="key"&&J!=="__self"&&J!=="__source"&&(Tt[J]=F[J]);var Ut=arguments.length-2;if(Ut===1)Tt.children=st;else if(1<Ut){for(var me=Array(Ut),ge=0;ge<Ut;ge++)me[ge]=arguments[ge+2];Tt.children=me}if(V&&V.defaultProps)for(J in Ut=V.defaultProps,Ut)Tt[J]===void 0&&(Tt[J]=Ut[J]);return I(V,xt,Tt)},Nt.createRef=function(){return{current:null}},Nt.forwardRef=function(V){return{$$typeof:p,render:V}},Nt.isValidElement=D,Nt.lazy=function(V){return{$$typeof:A,_payload:{_status:-1,_result:V},_init:gt}},Nt.memo=function(V,F){return{$$typeof:y,type:V,compare:F===void 0?null:F}},Nt.startTransition=function(V){var F=x.T,st={};x.T=st;try{var J=V(),Tt=x.S;Tt!==null&&Tt(st,J),typeof J=="object"&&J!==null&&typeof J.then=="function"&&J.then(Ft,Kt)}catch(xt){Kt(xt)}finally{F!==null&&st.types!==null&&(F.types=st.types),x.T=F}},Nt.unstable_useCacheRefresh=function(){return x.H.useCacheRefresh()},Nt.use=function(V){return x.H.use(V)},Nt.useActionState=function(V,F,st){return x.H.useActionState(V,F,st)},Nt.useCallback=function(V,F){return x.H.useCallback(V,F)},Nt.useContext=function(V){return x.H.useContext(V)},Nt.useDebugValue=function(){},Nt.useDeferredValue=function(V,F){return x.H.useDeferredValue(V,F)},Nt.useEffect=function(V,F){return x.H.useEffect(V,F)},Nt.useEffectEvent=function(V){return x.H.useEffectEvent(V)},Nt.useId=function(){return x.H.useId()},Nt.useImperativeHandle=function(V,F,st){return x.H.useImperativeHandle(V,F,st)},Nt.useInsertionEffect=function(V,F){return x.H.useInsertionEffect(V,F)},Nt.useLayoutEffect=function(V,F){return x.H.useLayoutEffect(V,F)},Nt.useMemo=function(V,F){return x.H.useMemo(V,F)},Nt.useOptimistic=function(V,F){return x.H.useOptimistic(V,F)},Nt.useReducer=function(V,F,st){return x.H.useReducer(V,F,st)},Nt.useRef=function(V){return x.H.useRef(V)},Nt.useState=function(V){return x.H.useState(V)},Nt.useSyncExternalStore=function(V,F,st){return x.H.useSyncExternalStore(V,F,st)},Nt.useTransition=function(){return x.H.useTransition()},Nt.version="19.2.0",Nt}var av;function km(){return av||(av=1,Kd.exports=$A()),Kd.exports}var Yt=km(),Xd={exports:{}},jl={},$d={exports:{}},Zd={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ov;function ZA(){return ov||(ov=1,(function(s){function t(G,at){var gt=G.length;G.push(at);t:for(;0<gt;){var Kt=gt-1>>>1,te=G[Kt];if(0<l(te,at))G[Kt]=at,G[gt]=te,gt=Kt;else break t}}function i(G){return G.length===0?null:G[0]}function r(G){if(G.length===0)return null;var at=G[0],gt=G.pop();if(gt!==at){G[0]=gt;t:for(var Kt=0,te=G.length,V=te>>>1;Kt<V;){var F=2*(Kt+1)-1,st=G[F],J=F+1,Tt=G[J];if(0>l(st,gt))J<te&&0>l(Tt,st)?(G[Kt]=Tt,G[J]=gt,Kt=J):(G[Kt]=st,G[F]=gt,Kt=F);else if(J<te&&0>l(Tt,gt))G[Kt]=Tt,G[J]=gt,Kt=J;else break t}}return at}function l(G,at){var gt=G.sortIndex-at.sortIndex;return gt!==0?gt:G.id-at.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;s.unstable_now=function(){return c.now()}}else{var d=Date,p=d.now();s.unstable_now=function(){return d.now()-p}}var _=[],y=[],A=1,b=null,N=3,Y=!1,et=!1,lt=!1,nt=!1,pt=typeof setTimeout=="function"?setTimeout:null,wt=typeof clearTimeout=="function"?clearTimeout:null,Et=typeof setImmediate<"u"?setImmediate:null;function Zt(G){for(var at=i(y);at!==null;){if(at.callback===null)r(y);else if(at.startTime<=G)r(y),at.sortIndex=at.expirationTime,t(_,at);else break;at=i(y)}}function ie(G){if(lt=!1,Zt(G),!et)if(i(_)!==null)et=!0,Ft||(Ft=!0,L());else{var at=i(y);at!==null&&Se(ie,at.startTime-G)}}var Ft=!1,x=-1,w=5,I=-1;function U(){return nt?!0:!(s.unstable_now()-I<w)}function D(){if(nt=!1,Ft){var G=s.unstable_now();I=G;var at=!0;try{t:{et=!1,lt&&(lt=!1,wt(x),x=-1),Y=!0;var gt=N;try{e:{for(Zt(G),b=i(_);b!==null&&!(b.expirationTime>G&&U());){var Kt=b.callback;if(typeof Kt=="function"){b.callback=null,N=b.priorityLevel;var te=Kt(b.expirationTime<=G);if(G=s.unstable_now(),typeof te=="function"){b.callback=te,Zt(G),at=!0;break e}b===i(_)&&r(_),Zt(G)}else r(_);b=i(_)}if(b!==null)at=!0;else{var V=i(y);V!==null&&Se(ie,V.startTime-G),at=!1}}break t}finally{b=null,N=gt,Y=!1}at=void 0}}finally{at?L():Ft=!1}}}var L;if(typeof Et=="function")L=function(){Et(D)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,de=R.port2;R.port1.onmessage=D,L=function(){de.postMessage(null)}}else L=function(){pt(D,0)};function Se(G,at){x=pt(function(){G(s.unstable_now())},at)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(G){G.callback=null},s.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):w=0<G?Math.floor(1e3/G):5},s.unstable_getCurrentPriorityLevel=function(){return N},s.unstable_next=function(G){switch(N){case 1:case 2:case 3:var at=3;break;default:at=N}var gt=N;N=at;try{return G()}finally{N=gt}},s.unstable_requestPaint=function(){nt=!0},s.unstable_runWithPriority=function(G,at){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var gt=N;N=G;try{return at()}finally{N=gt}},s.unstable_scheduleCallback=function(G,at,gt){var Kt=s.unstable_now();switch(typeof gt=="object"&&gt!==null?(gt=gt.delay,gt=typeof gt=="number"&&0<gt?Kt+gt:Kt):gt=Kt,G){case 1:var te=-1;break;case 2:te=250;break;case 5:te=1073741823;break;case 4:te=1e4;break;default:te=5e3}return te=gt+te,G={id:A++,callback:at,priorityLevel:G,startTime:gt,expirationTime:te,sortIndex:-1},gt>Kt?(G.sortIndex=gt,t(y,G),i(_)===null&&G===i(y)&&(lt?(wt(x),x=-1):lt=!0,Se(ie,gt-Kt))):(G.sortIndex=te,t(_,G),et||Y||(et=!0,Ft||(Ft=!0,L()))),G},s.unstable_shouldYield=U,s.unstable_wrapCallback=function(G){var at=N;return function(){var gt=N;N=at;try{return G.apply(this,arguments)}finally{N=gt}}}})(Zd)),Zd}var lv;function JA(){return lv||(lv=1,$d.exports=ZA()),$d.exports}var Jd={exports:{}},mn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var uv;function WA(){if(uv)return mn;uv=1;var s=km();function t(_){var y="https://react.dev/errors/"+_;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var A=2;A<arguments.length;A++)y+="&args[]="+encodeURIComponent(arguments[A])}return"Minified React error #"+_+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var r={d:{f:i,r:function(){throw Error(t(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},l=Symbol.for("react.portal");function c(_,y,A){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:b==null?null:""+b,children:_,containerInfo:y,implementation:A}}var d=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(_,y){if(_==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return mn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,mn.createPortal=function(_,y){var A=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(t(299));return c(_,y,null,A)},mn.flushSync=function(_){var y=d.T,A=r.p;try{if(d.T=null,r.p=2,_)return _()}finally{d.T=y,r.p=A,r.d.f()}},mn.preconnect=function(_,y){typeof _=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,r.d.C(_,y))},mn.prefetchDNS=function(_){typeof _=="string"&&r.d.D(_)},mn.preinit=function(_,y){if(typeof _=="string"&&y&&typeof y.as=="string"){var A=y.as,b=p(A,y.crossOrigin),N=typeof y.integrity=="string"?y.integrity:void 0,Y=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;A==="style"?r.d.S(_,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:b,integrity:N,fetchPriority:Y}):A==="script"&&r.d.X(_,{crossOrigin:b,integrity:N,fetchPriority:Y,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},mn.preinitModule=function(_,y){if(typeof _=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var A=p(y.as,y.crossOrigin);r.d.M(_,{crossOrigin:A,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&r.d.M(_)},mn.preload=function(_,y){if(typeof _=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var A=y.as,b=p(A,y.crossOrigin);r.d.L(_,A,{crossOrigin:b,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},mn.preloadModule=function(_,y){if(typeof _=="string")if(y){var A=p(y.as,y.crossOrigin);r.d.m(_,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:A,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else r.d.m(_)},mn.requestFormReset=function(_){r.d.r(_)},mn.unstable_batchedUpdates=function(_,y){return _(y)},mn.useFormState=function(_,y,A){return d.H.useFormState(_,y,A)},mn.useFormStatus=function(){return d.H.useHostTransitionStatus()},mn.version="19.2.0",mn}var cv;function tS(){if(cv)return Jd.exports;cv=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(t){console.error(t)}}return s(),Jd.exports=WA(),Jd.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hv;function eS(){if(hv)return jl;hv=1;var s=JA(),t=km(),i=tS();function r(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)n+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function c(e){var n=e,a=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(a=n.return),e=n.return;while(e)}return n.tag===3?a:null}function d(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function p(e){if(e.tag===31){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function _(e){if(c(e)!==e)throw Error(r(188))}function y(e){var n=e.alternate;if(!n){if(n=c(e),n===null)throw Error(r(188));return n!==e?null:e}for(var a=e,o=n;;){var h=a.return;if(h===null)break;var f=h.alternate;if(f===null){if(o=h.return,o!==null){a=o;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===a)return _(h),e;if(f===o)return _(h),n;f=f.sibling}throw Error(r(188))}if(a.return!==o.return)a=h,o=f;else{for(var g=!1,E=h.child;E;){if(E===a){g=!0,a=h,o=f;break}if(E===o){g=!0,o=h,a=f;break}E=E.sibling}if(!g){for(E=f.child;E;){if(E===a){g=!0,a=f,o=h;break}if(E===o){g=!0,o=f,a=h;break}E=E.sibling}if(!g)throw Error(r(189))}}if(a.alternate!==o)throw Error(r(190))}if(a.tag!==3)throw Error(r(188));return a.stateNode.current===a?e:n}function A(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=A(e),n!==null)return n;e=e.sibling}return null}var b=Object.assign,N=Symbol.for("react.element"),Y=Symbol.for("react.transitional.element"),et=Symbol.for("react.portal"),lt=Symbol.for("react.fragment"),nt=Symbol.for("react.strict_mode"),pt=Symbol.for("react.profiler"),wt=Symbol.for("react.consumer"),Et=Symbol.for("react.context"),Zt=Symbol.for("react.forward_ref"),ie=Symbol.for("react.suspense"),Ft=Symbol.for("react.suspense_list"),x=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),U=Symbol.for("react.memo_cache_sentinel"),D=Symbol.iterator;function L(e){return e===null||typeof e!="object"?null:(e=D&&e[D]||e["@@iterator"],typeof e=="function"?e:null)}var R=Symbol.for("react.client.reference");function de(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===R?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case lt:return"Fragment";case pt:return"Profiler";case nt:return"StrictMode";case ie:return"Suspense";case Ft:return"SuspenseList";case I:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case et:return"Portal";case Et:return e.displayName||"Context";case wt:return(e._context.displayName||"Context")+".Consumer";case Zt:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case x:return n=e.displayName||null,n!==null?n:de(e.type)||"Memo";case w:n=e._payload,e=e._init;try{return de(e(n))}catch{}}return null}var Se=Array.isArray,G=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,at=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,gt={pending:!1,data:null,method:null,action:null},Kt=[],te=-1;function V(e){return{current:e}}function F(e){0>te||(e.current=Kt[te],Kt[te]=null,te--)}function st(e,n){te++,Kt[te]=e.current,e.current=n}var J=V(null),Tt=V(null),xt=V(null),Ut=V(null);function me(e,n){switch(st(xt,n),st(Tt,e),st(J,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?R_(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=R_(n),e=I_(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}F(J),st(J,e)}function ge(){F(J),F(Tt),F(xt)}function Qn(e){e.memoizedState!==null&&st(Ut,e);var n=J.current,a=I_(n,e.type);n!==a&&(st(Tt,e),st(J,a))}function dn(e){Tt.current===e&&(F(J),F(Tt)),Ut.current===e&&(F(Ut),Vl._currentValue=gt)}var Zi,Gt;function Yn(e){if(Zi===void 0)try{throw Error()}catch(a){var n=a.stack.trim().match(/\n( *(at )?)/);Zi=n&&n[1]||"",Gt=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Zi+e+Gt}var Ai=!1;function Si(e,n){if(!e||Ai)return"";Ai=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(n){var $=function(){throw Error()};if(Object.defineProperty($.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct($,[])}catch(H){var B=H}Reflect.construct(e,[],$)}else{try{$.call()}catch(H){B=H}e.call($.prototype)}}else{try{throw Error()}catch(H){B=H}($=e())&&typeof $.catch=="function"&&$.catch(function(){})}}catch(H){if(H&&B&&typeof H.stack=="string")return[H.stack,B.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=o.DetermineComponentFrameRoot(),g=f[0],E=f[1];if(g&&E){var C=g.split(`
`),z=E.split(`
`);for(h=o=0;o<C.length&&!C[o].includes("DetermineComponentFrameRoot");)o++;for(;h<z.length&&!z[h].includes("DetermineComponentFrameRoot");)h++;if(o===C.length||h===z.length)for(o=C.length-1,h=z.length-1;1<=o&&0<=h&&C[o]!==z[h];)h--;for(;1<=o&&0<=h;o--,h--)if(C[o]!==z[h]){if(o!==1||h!==1)do if(o--,h--,0>h||C[o]!==z[h]){var Q=`
`+C[o].replace(" at new "," at ");return e.displayName&&Q.includes("<anonymous>")&&(Q=Q.replace("<anonymous>",e.displayName)),Q}while(1<=o&&0<=h);break}}}finally{Ai=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?Yn(a):""}function Ds(e,n){switch(e.tag){case 26:case 27:case 5:return Yn(e.type);case 16:return Yn("Lazy");case 13:return e.child!==n&&n!==null?Yn("Suspense Fallback"):Yn("Suspense");case 19:return Yn("SuspenseList");case 0:case 15:return Si(e.type,!1);case 11:return Si(e.type.render,!1);case 1:return Si(e.type,!0);case 31:return Yn("Activity");default:return""}}function Ji(e){try{var n="",a=null;do n+=Ds(e,a),a=e,e=e.return;while(e);return n}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}var Ie=Object.prototype.hasOwnProperty,Me=s.unstable_scheduleCallback,bi=s.unstable_cancelCallback,Po=s.unstable_shouldYield,Ms=s.unstable_requestPaint,en=s.unstable_now,Wi=s.unstable_getCurrentPriorityLevel,Mr=s.unstable_ImmediatePriority,Or=s.unstable_UserBlockingPriority,An=s.unstable_NormalPriority,Os=s.unstable_LowPriority,Vr=s.unstable_IdlePriority,Ur=s.log,va=s.unstable_setDisableYieldValue,Sn=null,Ye=null;function nn(e){if(typeof Ur=="function"&&va(e),Ye&&typeof Ye.setStrictMode=="function")try{Ye.setStrictMode(Sn,e)}catch{}}var ye=Math.clz32?Math.clz32:Ta,Ea=Math.log,ts=Math.LN2;function Ta(e){return e>>>=0,e===0?32:31-(Ea(e)/ts|0)|0}var Mn=256,wi=262144,Ce=4194304;function Kn(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Xn(e,n,a){var o=e.pendingLanes;if(o===0)return 0;var h=0,f=e.suspendedLanes,g=e.pingedLanes;e=e.warmLanes;var E=o&134217727;return E!==0?(o=E&~f,o!==0?h=Kn(o):(g&=E,g!==0?h=Kn(g):a||(a=E&~e,a!==0&&(h=Kn(a))))):(E=o&~f,E!==0?h=Kn(E):g!==0?h=Kn(g):a||(a=o&~e,a!==0&&(h=Kn(a)))),h===0?0:n!==0&&n!==h&&(n&f)===0&&(f=h&-h,a=n&-n,f>=a||f===32&&(a&4194048)!==0)?n:h}function On(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function jo(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Aa(){var e=Ce;return Ce<<=1,(Ce&62914560)===0&&(Ce=4194304),e}function $n(e){for(var n=[],a=0;31>a;a++)n.push(e);return n}function es(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function zo(e,n,a,o,h,f){var g=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var E=e.entanglements,C=e.expirationTimes,z=e.hiddenUpdates;for(a=g&~a;0<a;){var Q=31-ye(a),$=1<<Q;E[Q]=0,C[Q]=-1;var B=z[Q];if(B!==null)for(z[Q]=null,Q=0;Q<B.length;Q++){var H=B[Q];H!==null&&(H.lane&=-536870913)}a&=~$}o!==0&&ns(e,o,0),f!==0&&h===0&&e.tag!==0&&(e.suspendedLanes|=f&~(g&~n))}function ns(e,n,a){e.pendingLanes|=n,e.suspendedLanes&=~n;var o=31-ye(n);e.entangledLanes|=n,e.entanglements[o]=e.entanglements[o]|1073741824|a&261930}function O(e,n){var a=e.entangledLanes|=n;for(e=e.entanglements;a;){var o=31-ye(a),h=1<<o;h&n|e[o]&n&&(e[o]|=n),a&=~h}}function tt(e,n){var a=n&-n;return a=(a&42)!==0?1:W(a),(a&(e.suspendedLanes|n))!==0?0:a}function W(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function it(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function _t(){var e=at.p;return e!==0?e:(e=window.event,e===void 0?32:$_(e.type))}function Rt(e,n){var a=at.p;try{return at.p=e,n()}finally{at.p=a}}var Ot=Math.random().toString(36).slice(2),ut="__reactFiber$"+Ot,At="__reactProps$"+Ot,Ct="__reactContainer$"+Ot,xe="__reactEvents$"+Ot,Ke="__reactListeners$"+Ot,Sa="__reactHandles$"+Ot,Iu="__reactResources$"+Ot,Ri="__reactMarker$"+Ot;function ba(e){delete e[ut],delete e[At],delete e[xe],delete e[Ke],delete e[Sa]}function Ii(e){var n=e[ut];if(n)return n;for(var a=e.parentNode;a;){if(n=a[Ct]||a[ut]){if(a=n.alternate,n.child!==null||a!==null&&a.child!==null)for(e=V_(e);e!==null;){if(a=e[ut])return a;e=V_(e)}return n}e=a,a=e.parentNode}return null}function Zn(e){if(e=e[ut]||e[Ct]){var n=e.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return e}return null}function Vn(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(r(33))}function Ci(e){var n=e[Iu];return n||(n=e[Iu]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function ke(e){e[Ri]=!0}var Bo=new Set,qo={};function xi(e,n){Ni(e,n),Ni(e+"Capture",n)}function Ni(e,n){for(qo[e]=n,e=0;e<n.length;e++)Bo.add(n[e])}var Ho=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Fo={},Go={};function Cu(e){return Ie.call(Go,e)?!0:Ie.call(Fo,e)?!1:Ho.test(e)?Go[e]=!0:(Fo[e]=!0,!1)}function wa(e,n,a){if(Cu(n))if(a===null)e.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var o=n.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+a)}}function Un(e,n,a){if(a===null)e.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+a)}}function Pe(e,n,a,o){if(o===null)e.removeAttribute(a);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(n,a,""+o)}}function Ze(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Vs(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Qo(e,n,a){var o=Object.getOwnPropertyDescriptor(e.constructor.prototype,n);if(!e.hasOwnProperty(n)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var h=o.get,f=o.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return h.call(this)},set:function(g){a=""+g,f.call(this,g)}}),Object.defineProperty(e,n,{enumerable:o.enumerable}),{getValue:function(){return a},setValue:function(g){a=""+g},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function se(e){if(!e._valueTracker){var n=Vs(e)?"checked":"value";e._valueTracker=Qo(e,n,""+e[n])}}function Lr(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var a=n.getValue(),o="";return e&&(o=Vs(e)?e.checked?"true":"false":e.value),e=o,e!==a?(n.setValue(e),!0):!1}function Di(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var kr=/[\n"\\]/g;function bn(e){return e.replace(kr,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function Ra(e,n,a,o,h,f,g,E){e.name="",g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"?e.type=g:e.removeAttribute("type"),n!=null?g==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+Ze(n)):e.value!==""+Ze(n)&&(e.value=""+Ze(n)):g!=="submit"&&g!=="reset"||e.removeAttribute("value"),n!=null?Yo(e,g,Ze(n)):a!=null?Yo(e,g,Ze(a)):o!=null&&e.removeAttribute("value"),h==null&&f!=null&&(e.defaultChecked=!!f),h!=null&&(e.checked=h&&typeof h!="function"&&typeof h!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?e.name=""+Ze(E):e.removeAttribute("name")}function xu(e,n,a,o,h,f,g,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(e.type=f),n!=null||a!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){se(e);return}a=a!=null?""+Ze(a):"",n=n!=null?""+Ze(n):a,E||n===e.value||(e.value=n),e.defaultValue=n}o=o??h,o=typeof o!="function"&&typeof o!="symbol"&&!!o,e.checked=E?e.checked:!!o,e.defaultChecked=!!o,g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(e.name=g),se(e)}function Yo(e,n,a){n==="number"&&Di(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function Us(e,n,a,o){if(e=e.options,n){n={};for(var h=0;h<a.length;h++)n["$"+a[h]]=!0;for(a=0;a<e.length;a++)h=n.hasOwnProperty("$"+e[a].value),e[a].selected!==h&&(e[a].selected=h),h&&o&&(e[a].defaultSelected=!0)}else{for(a=""+Ze(a),n=null,h=0;h<e.length;h++){if(e[h].value===a){e[h].selected=!0,o&&(e[h].defaultSelected=!0);return}n!==null||e[h].disabled||(n=e[h])}n!==null&&(n.selected=!0)}}function Nu(e,n,a){if(n!=null&&(n=""+Ze(n),n!==e.value&&(e.value=n),a==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=a!=null?""+Ze(a):""}function Ls(e,n,a,o){if(n==null){if(o!=null){if(a!=null)throw Error(r(92));if(Se(o)){if(1<o.length)throw Error(r(93));o=o[0]}a=o}a==null&&(a=""),n=a}a=Ze(n),e.defaultValue=a,o=e.textContent,o===a&&o!==""&&o!==null&&(e.value=o),se(e)}function wn(e,n){if(n){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=n;return}}e.textContent=n}var Du=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ko(e,n,a){var o=n.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?o?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":o?e.setProperty(n,a):typeof a!="number"||a===0||Du.has(n)?n==="float"?e.cssFloat=a:e[n]=(""+a).trim():e[n]=a+"px"}function Xo(e,n,a){if(n!=null&&typeof n!="object")throw Error(r(62));if(e=e.style,a!=null){for(var o in a)!a.hasOwnProperty(o)||n!=null&&n.hasOwnProperty(o)||(o.indexOf("--")===0?e.setProperty(o,""):o==="float"?e.cssFloat="":e[o]="");for(var h in n)o=n[h],n.hasOwnProperty(h)&&a[h]!==o&&Ko(e,h,o)}else for(var f in n)n.hasOwnProperty(f)&&Ko(e,f,n[f])}function Ia(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Mu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),ks=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ca(e){return ks.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function ci(){}var $o=null;function Jn(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ps=null,Mi=null;function Pr(e){var n=Zn(e);if(n&&(e=n.stateNode)){var a=e[At]||null;t:switch(e=n.stateNode,n.type){case"input":if(Ra(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),n=a.name,a.type==="radio"&&n!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+bn(""+n)+'"][type="radio"]'),n=0;n<a.length;n++){var o=a[n];if(o!==e&&o.form===e.form){var h=o[At]||null;if(!h)throw Error(r(90));Ra(o,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<a.length;n++)o=a[n],o.form===e.form&&Lr(o)}break t;case"textarea":Nu(e,a.value,a.defaultValue);break t;case"select":n=a.value,n!=null&&Us(e,!!a.multiple,n,!1)}}}var xa=!1;function js(e,n,a){if(xa)return e(n,a);xa=!0;try{var o=e(n);return o}finally{if(xa=!1,(Ps!==null||Mi!==null)&&(wc(),Ps&&(n=Ps,e=Mi,Mi=Ps=null,Pr(n),e)))for(n=0;n<e.length;n++)Pr(e[n])}}function hi(e,n){var a=e.stateNode;if(a===null)return null;var o=a[At]||null;if(o===null)return null;a=o[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(e=e.type,o=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!o;break t;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(r(231,n,typeof a));return a}var Wn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),jr=!1;if(Wn)try{var oe={};Object.defineProperty(oe,"passive",{get:function(){jr=!0}}),window.addEventListener("test",oe,oe),window.removeEventListener("test",oe,oe)}catch{jr=!1}var Oi=null,Zo=null,zr=null;function Jo(){if(zr)return zr;var e,n=Zo,a=n.length,o,h="value"in Oi?Oi.value:Oi.textContent,f=h.length;for(e=0;e<a&&n[e]===h[e];e++);var g=a-e;for(o=1;o<=g&&n[a-o]===h[f-o];o++);return zr=h.slice(e,1<o?1-o:void 0)}function Br(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function is(){return!0}function fi(){return!1}function sn(e){function n(a,o,h,f,g){this._reactName=a,this._targetInst=h,this.type=o,this.nativeEvent=f,this.target=g,this.currentTarget=null;for(var E in e)e.hasOwnProperty(E)&&(a=e[E],this[E]=a?a(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?is:fi,this.isPropagationStopped=fi,this}return b(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=is)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=is)},persist:function(){},isPersistent:is}),n}var ss={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Vi=sn(ss),zs=b({},ss,{view:0,detail:0}),Wo=sn(zs),Bs,Na,Ui,Da=b({},zs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:qs,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ui&&(Ui&&e.type==="mousemove"?(Bs=e.screenX-Ui.screenX,Na=e.screenY-Ui.screenY):Na=Bs=0,Ui=e),Bs)},movementY:function(e){return"movementY"in e?e.movementY:Na}}),tl=sn(Da),qr=b({},Da,{dataTransfer:0}),Ou=sn(qr),Vu=b({},zs,{relatedTarget:0}),Hr=sn(Vu),el=b({},ss,{animationName:0,elapsedTime:0,pseudoElement:0}),Uu=sn(el),Ma=b({},ss,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Lu=sn(Ma),ku=b({},ss,{data:0}),Li=sn(ku),Pu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ju={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},zu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Bu(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=zu[e])?!!n[e]:!1}function qs(){return Bu}var _n=b({},zs,{key:function(e){if(e.key){var n=Pu[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=Br(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?ju[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:qs,charCode:function(e){return e.type==="keypress"?Br(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Br(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),qu=sn(_n),Hu=b({},Da,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),rs=sn(Hu),u=b({},zs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:qs}),m=sn(u),v=b({},ss,{propertyName:0,elapsedTime:0,pseudoElement:0}),T=sn(v),P=b({},Da,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),q=sn(P),rt=b({},ss,{newState:0,oldState:0}),Dt=sn(rt),Oe=[9,13,27,32],ee=Wn&&"CompositionEvent"in window,Te=null;Wn&&"documentMode"in document&&(Te=document.documentMode);var ti=Wn&&"TextEvent"in window&&!Te,ki=Wn&&(!ee||Te&&8<Te&&11>=Te),di=" ",mi=!1;function Fr(e,n){switch(e){case"keyup":return Oe.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Oa(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Va=!1;function _1(e,n){switch(e){case"compositionend":return Oa(n);case"keypress":return n.which!==32?null:(mi=!0,di);case"textInput":return e=n.data,e===di&&mi?null:e;default:return null}}function v1(e,n){if(Va)return e==="compositionend"||!ee&&Fr(e,n)?(e=Jo(),zr=Zo=Oi=null,Va=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return ki&&n.locale!=="ko"?null:n.data;default:return null}}var E1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function kg(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!E1[e.type]:n==="textarea"}function Pg(e,n,a,o){Ps?Mi?Mi.push(o):Mi=[o]:Ps=o,n=Mc(n,"onChange"),0<n.length&&(a=new Vi("onChange","change",null,a,o),e.push({event:a,listeners:n}))}var nl=null,il=null;function T1(e){E_(e,0)}function Fu(e){var n=Vn(e);if(Lr(n))return e}function jg(e,n){if(e==="change")return n}var zg=!1;if(Wn){var Wh;if(Wn){var tf="oninput"in document;if(!tf){var Bg=document.createElement("div");Bg.setAttribute("oninput","return;"),tf=typeof Bg.oninput=="function"}Wh=tf}else Wh=!1;zg=Wh&&(!document.documentMode||9<document.documentMode)}function qg(){nl&&(nl.detachEvent("onpropertychange",Hg),il=nl=null)}function Hg(e){if(e.propertyName==="value"&&Fu(il)){var n=[];Pg(n,il,e,Jn(e)),js(T1,n)}}function A1(e,n,a){e==="focusin"?(qg(),nl=n,il=a,nl.attachEvent("onpropertychange",Hg)):e==="focusout"&&qg()}function S1(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Fu(il)}function b1(e,n){if(e==="click")return Fu(n)}function w1(e,n){if(e==="input"||e==="change")return Fu(n)}function R1(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var Ln=typeof Object.is=="function"?Object.is:R1;function sl(e,n){if(Ln(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var a=Object.keys(e),o=Object.keys(n);if(a.length!==o.length)return!1;for(o=0;o<a.length;o++){var h=a[o];if(!Ie.call(n,h)||!Ln(e[h],n[h]))return!1}return!0}function Fg(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Gg(e,n){var a=Fg(e);e=0;for(var o;a;){if(a.nodeType===3){if(o=e+a.textContent.length,e<=n&&o>=n)return{node:a,offset:n-e};e=o}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=Fg(a)}}function Qg(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?Qg(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function Yg(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=Di(e.document);n instanceof e.HTMLIFrameElement;){try{var a=typeof n.contentWindow.location.href=="string"}catch{a=!1}if(a)e=n.contentWindow;else break;n=Di(e.document)}return n}function ef(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var I1=Wn&&"documentMode"in document&&11>=document.documentMode,Ua=null,nf=null,rl=null,sf=!1;function Kg(e,n,a){var o=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;sf||Ua==null||Ua!==Di(o)||(o=Ua,"selectionStart"in o&&ef(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),rl&&sl(rl,o)||(rl=o,o=Mc(nf,"onSelect"),0<o.length&&(n=new Vi("onSelect","select",null,n,a),e.push({event:n,listeners:o}),n.target=Ua)))}function Gr(e,n){var a={};return a[e.toLowerCase()]=n.toLowerCase(),a["Webkit"+e]="webkit"+n,a["Moz"+e]="moz"+n,a}var La={animationend:Gr("Animation","AnimationEnd"),animationiteration:Gr("Animation","AnimationIteration"),animationstart:Gr("Animation","AnimationStart"),transitionrun:Gr("Transition","TransitionRun"),transitionstart:Gr("Transition","TransitionStart"),transitioncancel:Gr("Transition","TransitionCancel"),transitionend:Gr("Transition","TransitionEnd")},rf={},Xg={};Wn&&(Xg=document.createElement("div").style,"AnimationEvent"in window||(delete La.animationend.animation,delete La.animationiteration.animation,delete La.animationstart.animation),"TransitionEvent"in window||delete La.transitionend.transition);function Qr(e){if(rf[e])return rf[e];if(!La[e])return e;var n=La[e],a;for(a in n)if(n.hasOwnProperty(a)&&a in Xg)return rf[e]=n[a];return e}var $g=Qr("animationend"),Zg=Qr("animationiteration"),Jg=Qr("animationstart"),C1=Qr("transitionrun"),x1=Qr("transitionstart"),N1=Qr("transitioncancel"),Wg=Qr("transitionend"),tp=new Map,af="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");af.push("scrollEnd");function gi(e,n){tp.set(e,n),xi(n,[e])}var Gu=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},ei=[],ka=0,of=0;function Qu(){for(var e=ka,n=of=ka=0;n<e;){var a=ei[n];ei[n++]=null;var o=ei[n];ei[n++]=null;var h=ei[n];ei[n++]=null;var f=ei[n];if(ei[n++]=null,o!==null&&h!==null){var g=o.pending;g===null?h.next=h:(h.next=g.next,g.next=h),o.pending=h}f!==0&&ep(a,h,f)}}function Yu(e,n,a,o){ei[ka++]=e,ei[ka++]=n,ei[ka++]=a,ei[ka++]=o,of|=o,e.lanes|=o,e=e.alternate,e!==null&&(e.lanes|=o)}function lf(e,n,a,o){return Yu(e,n,a,o),Ku(e)}function Yr(e,n){return Yu(e,null,null,n),Ku(e)}function ep(e,n,a){e.lanes|=a;var o=e.alternate;o!==null&&(o.lanes|=a);for(var h=!1,f=e.return;f!==null;)f.childLanes|=a,o=f.alternate,o!==null&&(o.childLanes|=a),f.tag===22&&(e=f.stateNode,e===null||e._visibility&1||(h=!0)),e=f,f=f.return;return e.tag===3?(f=e.stateNode,h&&n!==null&&(h=31-ye(a),e=f.hiddenUpdates,o=e[h],o===null?e[h]=[n]:o.push(n),n.lane=a|536870912),f):null}function Ku(e){if(50<Il)throw Il=0,yd=null,Error(r(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var Pa={};function D1(e,n,a,o){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function kn(e,n,a,o){return new D1(e,n,a,o)}function uf(e){return e=e.prototype,!(!e||!e.isReactComponent)}function as(e,n){var a=e.alternate;return a===null?(a=kn(e.tag,n,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=n,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,n=e.dependencies,a.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function np(e,n){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,n=a.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function Xu(e,n,a,o,h,f){var g=0;if(o=e,typeof e=="function")uf(e)&&(g=1);else if(typeof e=="string")g=LA(e,a,J.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case I:return e=kn(31,a,n,h),e.elementType=I,e.lanes=f,e;case lt:return Kr(a.children,h,f,n);case nt:g=8,h|=24;break;case pt:return e=kn(12,a,n,h|2),e.elementType=pt,e.lanes=f,e;case ie:return e=kn(13,a,n,h),e.elementType=ie,e.lanes=f,e;case Ft:return e=kn(19,a,n,h),e.elementType=Ft,e.lanes=f,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Et:g=10;break t;case wt:g=9;break t;case Zt:g=11;break t;case x:g=14;break t;case w:g=16,o=null;break t}g=29,a=Error(r(130,e===null?"null":typeof e,"")),o=null}return n=kn(g,a,n,h),n.elementType=e,n.type=o,n.lanes=f,n}function Kr(e,n,a,o){return e=kn(7,e,o,n),e.lanes=a,e}function cf(e,n,a){return e=kn(6,e,null,n),e.lanes=a,e}function ip(e){var n=kn(18,null,null,0);return n.stateNode=e,n}function hf(e,n,a){return n=kn(4,e.children!==null?e.children:[],e.key,n),n.lanes=a,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var sp=new WeakMap;function ni(e,n){if(typeof e=="object"&&e!==null){var a=sp.get(e);return a!==void 0?a:(n={value:e,source:n,stack:Ji(n)},sp.set(e,n),n)}return{value:e,source:n,stack:Ji(n)}}var ja=[],za=0,$u=null,al=0,ii=[],si=0,Hs=null,Pi=1,ji="";function os(e,n){ja[za++]=al,ja[za++]=$u,$u=e,al=n}function rp(e,n,a){ii[si++]=Pi,ii[si++]=ji,ii[si++]=Hs,Hs=e;var o=Pi;e=ji;var h=32-ye(o)-1;o&=~(1<<h),a+=1;var f=32-ye(n)+h;if(30<f){var g=h-h%5;f=(o&(1<<g)-1).toString(32),o>>=g,h-=g,Pi=1<<32-ye(n)+h|a<<h|o,ji=f+e}else Pi=1<<f|a<<h|o,ji=e}function ff(e){e.return!==null&&(os(e,1),rp(e,1,0))}function df(e){for(;e===$u;)$u=ja[--za],ja[za]=null,al=ja[--za],ja[za]=null;for(;e===Hs;)Hs=ii[--si],ii[si]=null,ji=ii[--si],ii[si]=null,Pi=ii[--si],ii[si]=null}function ap(e,n){ii[si++]=Pi,ii[si++]=ji,ii[si++]=Hs,Pi=n.id,ji=n.overflow,Hs=e}var rn=null,_e=null,Qt=!1,Fs=null,ri=!1,mf=Error(r(519));function Gs(e){var n=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw ol(ni(n,e)),mf}function op(e){var n=e.stateNode,a=e.type,o=e.memoizedProps;switch(n[ut]=e,n[At]=o,a){case"dialog":kt("cancel",n),kt("close",n);break;case"iframe":case"object":case"embed":kt("load",n);break;case"video":case"audio":for(a=0;a<xl.length;a++)kt(xl[a],n);break;case"source":kt("error",n);break;case"img":case"image":case"link":kt("error",n),kt("load",n);break;case"details":kt("toggle",n);break;case"input":kt("invalid",n),xu(n,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0);break;case"select":kt("invalid",n);break;case"textarea":kt("invalid",n),Ls(n,o.value,o.defaultValue,o.children)}a=o.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||n.textContent===""+a||o.suppressHydrationWarning===!0||b_(n.textContent,a)?(o.popover!=null&&(kt("beforetoggle",n),kt("toggle",n)),o.onScroll!=null&&kt("scroll",n),o.onScrollEnd!=null&&kt("scrollend",n),o.onClick!=null&&(n.onclick=ci),n=!0):n=!1,n||Gs(e,!0)}function lp(e){for(rn=e.return;rn;)switch(rn.tag){case 5:case 31:case 13:ri=!1;return;case 27:case 3:ri=!0;return;default:rn=rn.return}}function Ba(e){if(e!==rn)return!1;if(!Qt)return lp(e),Qt=!0,!1;var n=e.tag,a;if((a=n!==3&&n!==27)&&((a=n===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||Md(e.type,e.memoizedProps)),a=!a),a&&_e&&Gs(e),lp(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));_e=O_(e)}else if(n===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));_e=O_(e)}else n===27?(n=_e,rr(e.type)?(e=kd,kd=null,_e=e):_e=n):_e=rn?oi(e.stateNode.nextSibling):null;return!0}function Xr(){_e=rn=null,Qt=!1}function gf(){var e=Fs;return e!==null&&(xn===null?xn=e:xn.push.apply(xn,e),Fs=null),e}function ol(e){Fs===null?Fs=[e]:Fs.push(e)}var pf=V(null),$r=null,ls=null;function Qs(e,n,a){st(pf,n._currentValue),n._currentValue=a}function us(e){e._currentValue=pf.current,F(pf)}function yf(e,n,a){for(;e!==null;){var o=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,o!==null&&(o.childLanes|=n)):o!==null&&(o.childLanes&n)!==n&&(o.childLanes|=n),e===a)break;e=e.return}}function _f(e,n,a,o){var h=e.child;for(h!==null&&(h.return=e);h!==null;){var f=h.dependencies;if(f!==null){var g=h.child;f=f.firstContext;t:for(;f!==null;){var E=f;f=h;for(var C=0;C<n.length;C++)if(E.context===n[C]){f.lanes|=a,E=f.alternate,E!==null&&(E.lanes|=a),yf(f.return,a,e),o||(g=null);break t}f=E.next}}else if(h.tag===18){if(g=h.return,g===null)throw Error(r(341));g.lanes|=a,f=g.alternate,f!==null&&(f.lanes|=a),yf(g,a,e),g=null}else g=h.child;if(g!==null)g.return=h;else for(g=h;g!==null;){if(g===e){g=null;break}if(h=g.sibling,h!==null){h.return=g.return,g=h;break}g=g.return}h=g}}function qa(e,n,a,o){e=null;for(var h=n,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var g=h.alternate;if(g===null)throw Error(r(387));if(g=g.memoizedProps,g!==null){var E=h.type;Ln(h.pendingProps.value,g.value)||(e!==null?e.push(E):e=[E])}}else if(h===Ut.current){if(g=h.alternate,g===null)throw Error(r(387));g.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(e!==null?e.push(Vl):e=[Vl])}h=h.return}e!==null&&_f(n,e,a,o),n.flags|=262144}function Zu(e){for(e=e.firstContext;e!==null;){if(!Ln(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Zr(e){$r=e,ls=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function an(e){return up($r,e)}function Ju(e,n){return $r===null&&Zr(e),up(e,n)}function up(e,n){var a=n._currentValue;if(n={context:n,memoizedValue:a,next:null},ls===null){if(e===null)throw Error(r(308));ls=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else ls=ls.next=n;return a}var M1=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(a,o){e.push(o)}};this.abort=function(){n.aborted=!0,e.forEach(function(a){return a()})}},O1=s.unstable_scheduleCallback,V1=s.unstable_NormalPriority,je={$$typeof:Et,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function vf(){return{controller:new M1,data:new Map,refCount:0}}function ll(e){e.refCount--,e.refCount===0&&O1(V1,function(){e.controller.abort()})}var ul=null,Ef=0,Ha=0,Fa=null;function U1(e,n){if(ul===null){var a=ul=[];Ef=0,Ha=Sd(),Fa={status:"pending",value:void 0,then:function(o){a.push(o)}}}return Ef++,n.then(cp,cp),n}function cp(){if(--Ef===0&&ul!==null){Fa!==null&&(Fa.status="fulfilled");var e=ul;ul=null,Ha=0,Fa=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function L1(e,n){var a=[],o={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return e.then(function(){o.status="fulfilled",o.value=n;for(var h=0;h<a.length;h++)(0,a[h])(n)},function(h){for(o.status="rejected",o.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),o}var hp=G.S;G.S=function(e,n){Ky=en(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&U1(e,n),hp!==null&&hp(e,n)};var Jr=V(null);function Tf(){var e=Jr.current;return e!==null?e:pe.pooledCache}function Wu(e,n){n===null?st(Jr,Jr.current):st(Jr,n.pool)}function fp(){var e=Tf();return e===null?null:{parent:je._currentValue,pool:e}}var Ga=Error(r(460)),Af=Error(r(474)),tc=Error(r(542)),ec={then:function(){}};function dp(e){return e=e.status,e==="fulfilled"||e==="rejected"}function mp(e,n,a){switch(a=e[a],a===void 0?e.push(n):a!==n&&(n.then(ci,ci),n=a),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,pp(e),e;default:if(typeof n.status=="string")n.then(ci,ci);else{if(e=pe,e!==null&&100<e.shellSuspendCounter)throw Error(r(482));e=n,e.status="pending",e.then(function(o){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=o}},function(o){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=o}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,pp(e),e}throw ta=n,Ga}}function Wr(e){try{var n=e._init;return n(e._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(ta=a,Ga):a}}var ta=null;function gp(){if(ta===null)throw Error(r(459));var e=ta;return ta=null,e}function pp(e){if(e===Ga||e===tc)throw Error(r(483))}var Qa=null,cl=0;function nc(e){var n=cl;return cl+=1,Qa===null&&(Qa=[]),mp(Qa,e,n)}function hl(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function ic(e,n){throw n.$$typeof===N?Error(r(525)):(e=Object.prototype.toString.call(n),Error(r(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function yp(e){function n(k,M){if(e){var j=k.deletions;j===null?(k.deletions=[M],k.flags|=16):j.push(M)}}function a(k,M){if(!e)return null;for(;M!==null;)n(k,M),M=M.sibling;return null}function o(k){for(var M=new Map;k!==null;)k.key!==null?M.set(k.key,k):M.set(k.index,k),k=k.sibling;return M}function h(k,M){return k=as(k,M),k.index=0,k.sibling=null,k}function f(k,M,j){return k.index=j,e?(j=k.alternate,j!==null?(j=j.index,j<M?(k.flags|=67108866,M):j):(k.flags|=67108866,M)):(k.flags|=1048576,M)}function g(k){return e&&k.alternate===null&&(k.flags|=67108866),k}function E(k,M,j,X){return M===null||M.tag!==6?(M=cf(j,k.mode,X),M.return=k,M):(M=h(M,j),M.return=k,M)}function C(k,M,j,X){var mt=j.type;return mt===lt?Q(k,M,j.props.children,X,j.key):M!==null&&(M.elementType===mt||typeof mt=="object"&&mt!==null&&mt.$$typeof===w&&Wr(mt)===M.type)?(M=h(M,j.props),hl(M,j),M.return=k,M):(M=Xu(j.type,j.key,j.props,null,k.mode,X),hl(M,j),M.return=k,M)}function z(k,M,j,X){return M===null||M.tag!==4||M.stateNode.containerInfo!==j.containerInfo||M.stateNode.implementation!==j.implementation?(M=hf(j,k.mode,X),M.return=k,M):(M=h(M,j.children||[]),M.return=k,M)}function Q(k,M,j,X,mt){return M===null||M.tag!==7?(M=Kr(j,k.mode,X,mt),M.return=k,M):(M=h(M,j),M.return=k,M)}function $(k,M,j){if(typeof M=="string"&&M!==""||typeof M=="number"||typeof M=="bigint")return M=cf(""+M,k.mode,j),M.return=k,M;if(typeof M=="object"&&M!==null){switch(M.$$typeof){case Y:return j=Xu(M.type,M.key,M.props,null,k.mode,j),hl(j,M),j.return=k,j;case et:return M=hf(M,k.mode,j),M.return=k,M;case w:return M=Wr(M),$(k,M,j)}if(Se(M)||L(M))return M=Kr(M,k.mode,j,null),M.return=k,M;if(typeof M.then=="function")return $(k,nc(M),j);if(M.$$typeof===Et)return $(k,Ju(k,M),j);ic(k,M)}return null}function B(k,M,j,X){var mt=M!==null?M.key:null;if(typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint")return mt!==null?null:E(k,M,""+j,X);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case Y:return j.key===mt?C(k,M,j,X):null;case et:return j.key===mt?z(k,M,j,X):null;case w:return j=Wr(j),B(k,M,j,X)}if(Se(j)||L(j))return mt!==null?null:Q(k,M,j,X,null);if(typeof j.then=="function")return B(k,M,nc(j),X);if(j.$$typeof===Et)return B(k,M,Ju(k,j),X);ic(k,j)}return null}function H(k,M,j,X,mt){if(typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint")return k=k.get(j)||null,E(M,k,""+X,mt);if(typeof X=="object"&&X!==null){switch(X.$$typeof){case Y:return k=k.get(X.key===null?j:X.key)||null,C(M,k,X,mt);case et:return k=k.get(X.key===null?j:X.key)||null,z(M,k,X,mt);case w:return X=Wr(X),H(k,M,j,X,mt)}if(Se(X)||L(X))return k=k.get(j)||null,Q(M,k,X,mt,null);if(typeof X.then=="function")return H(k,M,j,nc(X),mt);if(X.$$typeof===Et)return H(k,M,j,Ju(M,X),mt);ic(M,X)}return null}function ht(k,M,j,X){for(var mt=null,Jt=null,ft=M,Vt=M=0,zt=null;ft!==null&&Vt<j.length;Vt++){ft.index>Vt?(zt=ft,ft=null):zt=ft.sibling;var Wt=B(k,ft,j[Vt],X);if(Wt===null){ft===null&&(ft=zt);break}e&&ft&&Wt.alternate===null&&n(k,ft),M=f(Wt,M,Vt),Jt===null?mt=Wt:Jt.sibling=Wt,Jt=Wt,ft=zt}if(Vt===j.length)return a(k,ft),Qt&&os(k,Vt),mt;if(ft===null){for(;Vt<j.length;Vt++)ft=$(k,j[Vt],X),ft!==null&&(M=f(ft,M,Vt),Jt===null?mt=ft:Jt.sibling=ft,Jt=ft);return Qt&&os(k,Vt),mt}for(ft=o(ft);Vt<j.length;Vt++)zt=H(ft,k,Vt,j[Vt],X),zt!==null&&(e&&zt.alternate!==null&&ft.delete(zt.key===null?Vt:zt.key),M=f(zt,M,Vt),Jt===null?mt=zt:Jt.sibling=zt,Jt=zt);return e&&ft.forEach(function(cr){return n(k,cr)}),Qt&&os(k,Vt),mt}function vt(k,M,j,X){if(j==null)throw Error(r(151));for(var mt=null,Jt=null,ft=M,Vt=M=0,zt=null,Wt=j.next();ft!==null&&!Wt.done;Vt++,Wt=j.next()){ft.index>Vt?(zt=ft,ft=null):zt=ft.sibling;var cr=B(k,ft,Wt.value,X);if(cr===null){ft===null&&(ft=zt);break}e&&ft&&cr.alternate===null&&n(k,ft),M=f(cr,M,Vt),Jt===null?mt=cr:Jt.sibling=cr,Jt=cr,ft=zt}if(Wt.done)return a(k,ft),Qt&&os(k,Vt),mt;if(ft===null){for(;!Wt.done;Vt++,Wt=j.next())Wt=$(k,Wt.value,X),Wt!==null&&(M=f(Wt,M,Vt),Jt===null?mt=Wt:Jt.sibling=Wt,Jt=Wt);return Qt&&os(k,Vt),mt}for(ft=o(ft);!Wt.done;Vt++,Wt=j.next())Wt=H(ft,k,Vt,Wt.value,X),Wt!==null&&(e&&Wt.alternate!==null&&ft.delete(Wt.key===null?Vt:Wt.key),M=f(Wt,M,Vt),Jt===null?mt=Wt:Jt.sibling=Wt,Jt=Wt);return e&&ft.forEach(function(YA){return n(k,YA)}),Qt&&os(k,Vt),mt}function ce(k,M,j,X){if(typeof j=="object"&&j!==null&&j.type===lt&&j.key===null&&(j=j.props.children),typeof j=="object"&&j!==null){switch(j.$$typeof){case Y:t:{for(var mt=j.key;M!==null;){if(M.key===mt){if(mt=j.type,mt===lt){if(M.tag===7){a(k,M.sibling),X=h(M,j.props.children),X.return=k,k=X;break t}}else if(M.elementType===mt||typeof mt=="object"&&mt!==null&&mt.$$typeof===w&&Wr(mt)===M.type){a(k,M.sibling),X=h(M,j.props),hl(X,j),X.return=k,k=X;break t}a(k,M);break}else n(k,M);M=M.sibling}j.type===lt?(X=Kr(j.props.children,k.mode,X,j.key),X.return=k,k=X):(X=Xu(j.type,j.key,j.props,null,k.mode,X),hl(X,j),X.return=k,k=X)}return g(k);case et:t:{for(mt=j.key;M!==null;){if(M.key===mt)if(M.tag===4&&M.stateNode.containerInfo===j.containerInfo&&M.stateNode.implementation===j.implementation){a(k,M.sibling),X=h(M,j.children||[]),X.return=k,k=X;break t}else{a(k,M);break}else n(k,M);M=M.sibling}X=hf(j,k.mode,X),X.return=k,k=X}return g(k);case w:return j=Wr(j),ce(k,M,j,X)}if(Se(j))return ht(k,M,j,X);if(L(j)){if(mt=L(j),typeof mt!="function")throw Error(r(150));return j=mt.call(j),vt(k,M,j,X)}if(typeof j.then=="function")return ce(k,M,nc(j),X);if(j.$$typeof===Et)return ce(k,M,Ju(k,j),X);ic(k,j)}return typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint"?(j=""+j,M!==null&&M.tag===6?(a(k,M.sibling),X=h(M,j),X.return=k,k=X):(a(k,M),X=cf(j,k.mode,X),X.return=k,k=X),g(k)):a(k,M)}return function(k,M,j,X){try{cl=0;var mt=ce(k,M,j,X);return Qa=null,mt}catch(ft){if(ft===Ga||ft===tc)throw ft;var Jt=kn(29,ft,null,k.mode);return Jt.lanes=X,Jt.return=k,Jt}finally{}}}var ea=yp(!0),_p=yp(!1),Ys=!1;function Sf(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function bf(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Ks(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Xs(e,n,a){var o=e.updateQueue;if(o===null)return null;if(o=o.shared,(ne&2)!==0){var h=o.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),o.pending=n,n=Ku(e),ep(e,null,a),n}return Yu(e,o,n,a),Ku(e)}function fl(e,n,a){if(n=n.updateQueue,n!==null&&(n=n.shared,(a&4194048)!==0)){var o=n.lanes;o&=e.pendingLanes,a|=o,n.lanes=a,O(e,a)}}function wf(e,n){var a=e.updateQueue,o=e.alternate;if(o!==null&&(o=o.updateQueue,a===o)){var h=null,f=null;if(a=a.firstBaseUpdate,a!==null){do{var g={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};f===null?h=f=g:f=f.next=g,a=a.next}while(a!==null);f===null?h=f=n:f=f.next=n}else h=f=n;a={baseState:o.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:o.shared,callbacks:o.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=n:e.next=n,a.lastBaseUpdate=n}var Rf=!1;function dl(){if(Rf){var e=Fa;if(e!==null)throw e}}function ml(e,n,a,o){Rf=!1;var h=e.updateQueue;Ys=!1;var f=h.firstBaseUpdate,g=h.lastBaseUpdate,E=h.shared.pending;if(E!==null){h.shared.pending=null;var C=E,z=C.next;C.next=null,g===null?f=z:g.next=z,g=C;var Q=e.alternate;Q!==null&&(Q=Q.updateQueue,E=Q.lastBaseUpdate,E!==g&&(E===null?Q.firstBaseUpdate=z:E.next=z,Q.lastBaseUpdate=C))}if(f!==null){var $=h.baseState;g=0,Q=z=C=null,E=f;do{var B=E.lane&-536870913,H=B!==E.lane;if(H?(jt&B)===B:(o&B)===B){B!==0&&B===Ha&&(Rf=!0),Q!==null&&(Q=Q.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var ht=e,vt=E;B=n;var ce=a;switch(vt.tag){case 1:if(ht=vt.payload,typeof ht=="function"){$=ht.call(ce,$,B);break t}$=ht;break t;case 3:ht.flags=ht.flags&-65537|128;case 0:if(ht=vt.payload,B=typeof ht=="function"?ht.call(ce,$,B):ht,B==null)break t;$=b({},$,B);break t;case 2:Ys=!0}}B=E.callback,B!==null&&(e.flags|=64,H&&(e.flags|=8192),H=h.callbacks,H===null?h.callbacks=[B]:H.push(B))}else H={lane:B,tag:E.tag,payload:E.payload,callback:E.callback,next:null},Q===null?(z=Q=H,C=$):Q=Q.next=H,g|=B;if(E=E.next,E===null){if(E=h.shared.pending,E===null)break;H=E,E=H.next,H.next=null,h.lastBaseUpdate=H,h.shared.pending=null}}while(!0);Q===null&&(C=$),h.baseState=C,h.firstBaseUpdate=z,h.lastBaseUpdate=Q,f===null&&(h.shared.lanes=0),tr|=g,e.lanes=g,e.memoizedState=$}}function vp(e,n){if(typeof e!="function")throw Error(r(191,e));e.call(n)}function Ep(e,n){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)vp(a[e],n)}var Ya=V(null),sc=V(0);function Tp(e,n){e=_s,st(sc,e),st(Ya,n),_s=e|n.baseLanes}function If(){st(sc,_s),st(Ya,Ya.current)}function Cf(){_s=sc.current,F(Ya),F(sc)}var Pn=V(null),ai=null;function $s(e){var n=e.alternate;st(Ve,Ve.current&1),st(Pn,e),ai===null&&(n===null||Ya.current!==null||n.memoizedState!==null)&&(ai=e)}function xf(e){st(Ve,Ve.current),st(Pn,e),ai===null&&(ai=e)}function Ap(e){e.tag===22?(st(Ve,Ve.current),st(Pn,e),ai===null&&(ai=e)):Zs()}function Zs(){st(Ve,Ve.current),st(Pn,Pn.current)}function jn(e){F(Pn),ai===e&&(ai=null),F(Ve)}var Ve=V(0);function rc(e){for(var n=e;n!==null;){if(n.tag===13){var a=n.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||Ud(a)||Ld(a)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var cs=0,Mt=null,le=null,ze=null,ac=!1,Ka=!1,na=!1,oc=0,gl=0,Xa=null,k1=0;function Ne(){throw Error(r(321))}function Nf(e,n){if(n===null)return!1;for(var a=0;a<n.length&&a<e.length;a++)if(!Ln(e[a],n[a]))return!1;return!0}function Df(e,n,a,o,h,f){return cs=f,Mt=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,G.H=e===null||e.memoizedState===null?ry:Qf,na=!1,f=a(o,h),na=!1,Ka&&(f=bp(n,a,o,h)),Sp(e),f}function Sp(e){G.H=_l;var n=le!==null&&le.next!==null;if(cs=0,ze=le=Mt=null,ac=!1,gl=0,Xa=null,n)throw Error(r(300));e===null||Be||(e=e.dependencies,e!==null&&Zu(e)&&(Be=!0))}function bp(e,n,a,o){Mt=e;var h=0;do{if(Ka&&(Xa=null),gl=0,Ka=!1,25<=h)throw Error(r(301));if(h+=1,ze=le=null,e.updateQueue!=null){var f=e.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}G.H=ay,f=n(a,o)}while(Ka);return f}function P1(){var e=G.H,n=e.useState()[0];return n=typeof n.then=="function"?pl(n):n,e=e.useState()[0],(le!==null?le.memoizedState:null)!==e&&(Mt.flags|=1024),n}function Mf(){var e=oc!==0;return oc=0,e}function Of(e,n,a){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~a}function Vf(e){if(ac){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}ac=!1}cs=0,ze=le=Mt=null,Ka=!1,gl=oc=0,Xa=null}function vn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ze===null?Mt.memoizedState=ze=e:ze=ze.next=e,ze}function Ue(){if(le===null){var e=Mt.alternate;e=e!==null?e.memoizedState:null}else e=le.next;var n=ze===null?Mt.memoizedState:ze.next;if(n!==null)ze=n,le=e;else{if(e===null)throw Mt.alternate===null?Error(r(467)):Error(r(310));le=e,e={memoizedState:le.memoizedState,baseState:le.baseState,baseQueue:le.baseQueue,queue:le.queue,next:null},ze===null?Mt.memoizedState=ze=e:ze=ze.next=e}return ze}function lc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function pl(e){var n=gl;return gl+=1,Xa===null&&(Xa=[]),e=mp(Xa,e,n),n=Mt,(ze===null?n.memoizedState:ze.next)===null&&(n=n.alternate,G.H=n===null||n.memoizedState===null?ry:Qf),e}function uc(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return pl(e);if(e.$$typeof===Et)return an(e)}throw Error(r(438,String(e)))}function Uf(e){var n=null,a=Mt.updateQueue;if(a!==null&&(n=a.memoCache),n==null){var o=Mt.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(n={data:o.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),a===null&&(a=lc(),Mt.updateQueue=a),a.memoCache=n,a=n.data[n.index],a===void 0)for(a=n.data[n.index]=Array(e),o=0;o<e;o++)a[o]=U;return n.index++,a}function hs(e,n){return typeof n=="function"?n(e):n}function cc(e){var n=Ue();return Lf(n,le,e)}function Lf(e,n,a){var o=e.queue;if(o===null)throw Error(r(311));o.lastRenderedReducer=a;var h=e.baseQueue,f=o.pending;if(f!==null){if(h!==null){var g=h.next;h.next=f.next,f.next=g}n.baseQueue=h=f,o.pending=null}if(f=e.baseState,h===null)e.memoizedState=f;else{n=h.next;var E=g=null,C=null,z=n,Q=!1;do{var $=z.lane&-536870913;if($!==z.lane?(jt&$)===$:(cs&$)===$){var B=z.revertLane;if(B===0)C!==null&&(C=C.next={lane:0,revertLane:0,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null}),$===Ha&&(Q=!0);else if((cs&B)===B){z=z.next,B===Ha&&(Q=!0);continue}else $={lane:0,revertLane:z.revertLane,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},C===null?(E=C=$,g=f):C=C.next=$,Mt.lanes|=B,tr|=B;$=z.action,na&&a(f,$),f=z.hasEagerState?z.eagerState:a(f,$)}else B={lane:$,revertLane:z.revertLane,gesture:z.gesture,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},C===null?(E=C=B,g=f):C=C.next=B,Mt.lanes|=$,tr|=$;z=z.next}while(z!==null&&z!==n);if(C===null?g=f:C.next=E,!Ln(f,e.memoizedState)&&(Be=!0,Q&&(a=Fa,a!==null)))throw a;e.memoizedState=f,e.baseState=g,e.baseQueue=C,o.lastRenderedState=f}return h===null&&(o.lanes=0),[e.memoizedState,o.dispatch]}function kf(e){var n=Ue(),a=n.queue;if(a===null)throw Error(r(311));a.lastRenderedReducer=e;var o=a.dispatch,h=a.pending,f=n.memoizedState;if(h!==null){a.pending=null;var g=h=h.next;do f=e(f,g.action),g=g.next;while(g!==h);Ln(f,n.memoizedState)||(Be=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),a.lastRenderedState=f}return[f,o]}function wp(e,n,a){var o=Mt,h=Ue(),f=Qt;if(f){if(a===void 0)throw Error(r(407));a=a()}else a=n();var g=!Ln((le||h).memoizedState,a);if(g&&(h.memoizedState=a,Be=!0),h=h.queue,zf(Cp.bind(null,o,h,e),[e]),h.getSnapshot!==n||g||ze!==null&&ze.memoizedState.tag&1){if(o.flags|=2048,$a(9,{destroy:void 0},Ip.bind(null,o,h,a,n),null),pe===null)throw Error(r(349));f||(cs&127)!==0||Rp(o,n,a)}return a}function Rp(e,n,a){e.flags|=16384,e={getSnapshot:n,value:a},n=Mt.updateQueue,n===null?(n=lc(),Mt.updateQueue=n,n.stores=[e]):(a=n.stores,a===null?n.stores=[e]:a.push(e))}function Ip(e,n,a,o){n.value=a,n.getSnapshot=o,xp(n)&&Np(e)}function Cp(e,n,a){return a(function(){xp(n)&&Np(e)})}function xp(e){var n=e.getSnapshot;e=e.value;try{var a=n();return!Ln(e,a)}catch{return!0}}function Np(e){var n=Yr(e,2);n!==null&&Nn(n,e,2)}function Pf(e){var n=vn();if(typeof e=="function"){var a=e;if(e=a(),na){nn(!0);try{a()}finally{nn(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:hs,lastRenderedState:e},n}function Dp(e,n,a,o){return e.baseState=a,Lf(e,le,typeof o=="function"?o:hs)}function j1(e,n,a,o,h){if(dc(e))throw Error(r(485));if(e=n.action,e!==null){var f={payload:h,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(g){f.listeners.push(g)}};G.T!==null?a(!0):f.isTransition=!1,o(f),a=n.pending,a===null?(f.next=n.pending=f,Mp(n,f)):(f.next=a.next,n.pending=a.next=f)}}function Mp(e,n){var a=n.action,o=n.payload,h=e.state;if(n.isTransition){var f=G.T,g={};G.T=g;try{var E=a(h,o),C=G.S;C!==null&&C(g,E),Op(e,n,E)}catch(z){jf(e,n,z)}finally{f!==null&&g.types!==null&&(f.types=g.types),G.T=f}}else try{f=a(h,o),Op(e,n,f)}catch(z){jf(e,n,z)}}function Op(e,n,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(o){Vp(e,n,o)},function(o){return jf(e,n,o)}):Vp(e,n,a)}function Vp(e,n,a){n.status="fulfilled",n.value=a,Up(n),e.state=a,n=e.pending,n!==null&&(a=n.next,a===n?e.pending=null:(a=a.next,n.next=a,Mp(e,a)))}function jf(e,n,a){var o=e.pending;if(e.pending=null,o!==null){o=o.next;do n.status="rejected",n.reason=a,Up(n),n=n.next;while(n!==o)}e.action=null}function Up(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function Lp(e,n){return n}function kp(e,n){if(Qt){var a=pe.formState;if(a!==null){t:{var o=Mt;if(Qt){if(_e){e:{for(var h=_e,f=ri;h.nodeType!==8;){if(!f){h=null;break e}if(h=oi(h.nextSibling),h===null){h=null;break e}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){_e=oi(h.nextSibling),o=h.data==="F!";break t}}Gs(o)}o=!1}o&&(n=a[0])}}return a=vn(),a.memoizedState=a.baseState=n,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Lp,lastRenderedState:n},a.queue=o,a=ny.bind(null,Mt,o),o.dispatch=a,o=Pf(!1),f=Gf.bind(null,Mt,!1,o.queue),o=vn(),h={state:n,dispatch:null,action:e,pending:null},o.queue=h,a=j1.bind(null,Mt,h,f,a),h.dispatch=a,o.memoizedState=e,[n,a,!1]}function Pp(e){var n=Ue();return jp(n,le,e)}function jp(e,n,a){if(n=Lf(e,n,Lp)[0],e=cc(hs)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var o=pl(n)}catch(g){throw g===Ga?tc:g}else o=n;n=Ue();var h=n.queue,f=h.dispatch;return a!==n.memoizedState&&(Mt.flags|=2048,$a(9,{destroy:void 0},z1.bind(null,h,a),null)),[o,f,e]}function z1(e,n){e.action=n}function zp(e){var n=Ue(),a=le;if(a!==null)return jp(n,a,e);Ue(),n=n.memoizedState,a=Ue();var o=a.queue.dispatch;return a.memoizedState=e,[n,o,!1]}function $a(e,n,a,o){return e={tag:e,create:a,deps:o,inst:n,next:null},n=Mt.updateQueue,n===null&&(n=lc(),Mt.updateQueue=n),a=n.lastEffect,a===null?n.lastEffect=e.next=e:(o=a.next,a.next=e,e.next=o,n.lastEffect=e),e}function Bp(){return Ue().memoizedState}function hc(e,n,a,o){var h=vn();Mt.flags|=e,h.memoizedState=$a(1|n,{destroy:void 0},a,o===void 0?null:o)}function fc(e,n,a,o){var h=Ue();o=o===void 0?null:o;var f=h.memoizedState.inst;le!==null&&o!==null&&Nf(o,le.memoizedState.deps)?h.memoizedState=$a(n,f,a,o):(Mt.flags|=e,h.memoizedState=$a(1|n,f,a,o))}function qp(e,n){hc(8390656,8,e,n)}function zf(e,n){fc(2048,8,e,n)}function B1(e){Mt.flags|=4;var n=Mt.updateQueue;if(n===null)n=lc(),Mt.updateQueue=n,n.events=[e];else{var a=n.events;a===null?n.events=[e]:a.push(e)}}function Hp(e){var n=Ue().memoizedState;return B1({ref:n,nextImpl:e}),function(){if((ne&2)!==0)throw Error(r(440));return n.impl.apply(void 0,arguments)}}function Fp(e,n){return fc(4,2,e,n)}function Gp(e,n){return fc(4,4,e,n)}function Qp(e,n){if(typeof n=="function"){e=e();var a=n(e);return function(){typeof a=="function"?a():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function Yp(e,n,a){a=a!=null?a.concat([e]):null,fc(4,4,Qp.bind(null,n,e),a)}function Bf(){}function Kp(e,n){var a=Ue();n=n===void 0?null:n;var o=a.memoizedState;return n!==null&&Nf(n,o[1])?o[0]:(a.memoizedState=[e,n],e)}function Xp(e,n){var a=Ue();n=n===void 0?null:n;var o=a.memoizedState;if(n!==null&&Nf(n,o[1]))return o[0];if(o=e(),na){nn(!0);try{e()}finally{nn(!1)}}return a.memoizedState=[o,n],o}function qf(e,n,a){return a===void 0||(cs&1073741824)!==0&&(jt&261930)===0?e.memoizedState=n:(e.memoizedState=a,e=$y(),Mt.lanes|=e,tr|=e,a)}function $p(e,n,a,o){return Ln(a,n)?a:Ya.current!==null?(e=qf(e,a,o),Ln(e,n)||(Be=!0),e):(cs&42)===0||(cs&1073741824)!==0&&(jt&261930)===0?(Be=!0,e.memoizedState=a):(e=$y(),Mt.lanes|=e,tr|=e,n)}function Zp(e,n,a,o,h){var f=at.p;at.p=f!==0&&8>f?f:8;var g=G.T,E={};G.T=E,Gf(e,!1,n,a);try{var C=h(),z=G.S;if(z!==null&&z(E,C),C!==null&&typeof C=="object"&&typeof C.then=="function"){var Q=L1(C,o);yl(e,n,Q,qn(e))}else yl(e,n,o,qn(e))}catch($){yl(e,n,{then:function(){},status:"rejected",reason:$},qn())}finally{at.p=f,g!==null&&E.types!==null&&(g.types=E.types),G.T=g}}function q1(){}function Hf(e,n,a,o){if(e.tag!==5)throw Error(r(476));var h=Jp(e).queue;Zp(e,h,n,gt,a===null?q1:function(){return Wp(e),a(o)})}function Jp(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:gt,baseState:gt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:hs,lastRenderedState:gt},next:null};var a={};return n.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:hs,lastRenderedState:a},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function Wp(e){var n=Jp(e);n.next===null&&(n=e.alternate.memoizedState),yl(e,n.next.queue,{},qn())}function Ff(){return an(Vl)}function ty(){return Ue().memoizedState}function ey(){return Ue().memoizedState}function H1(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var a=qn();e=Ks(a);var o=Xs(n,e,a);o!==null&&(Nn(o,n,a),fl(o,n,a)),n={cache:vf()},e.payload=n;return}n=n.return}}function F1(e,n,a){var o=qn();a={lane:o,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},dc(e)?iy(n,a):(a=lf(e,n,a,o),a!==null&&(Nn(a,e,o),sy(a,n,o)))}function ny(e,n,a){var o=qn();yl(e,n,a,o)}function yl(e,n,a,o){var h={lane:o,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(dc(e))iy(n,h);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var g=n.lastRenderedState,E=f(g,a);if(h.hasEagerState=!0,h.eagerState=E,Ln(E,g))return Yu(e,n,h,0),pe===null&&Qu(),!1}catch{}finally{}if(a=lf(e,n,h,o),a!==null)return Nn(a,e,o),sy(a,n,o),!0}return!1}function Gf(e,n,a,o){if(o={lane:2,revertLane:Sd(),gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},dc(e)){if(n)throw Error(r(479))}else n=lf(e,a,o,2),n!==null&&Nn(n,e,2)}function dc(e){var n=e.alternate;return e===Mt||n!==null&&n===Mt}function iy(e,n){Ka=ac=!0;var a=e.pending;a===null?n.next=n:(n.next=a.next,a.next=n),e.pending=n}function sy(e,n,a){if((a&4194048)!==0){var o=n.lanes;o&=e.pendingLanes,a|=o,n.lanes=a,O(e,a)}}var _l={readContext:an,use:uc,useCallback:Ne,useContext:Ne,useEffect:Ne,useImperativeHandle:Ne,useLayoutEffect:Ne,useInsertionEffect:Ne,useMemo:Ne,useReducer:Ne,useRef:Ne,useState:Ne,useDebugValue:Ne,useDeferredValue:Ne,useTransition:Ne,useSyncExternalStore:Ne,useId:Ne,useHostTransitionStatus:Ne,useFormState:Ne,useActionState:Ne,useOptimistic:Ne,useMemoCache:Ne,useCacheRefresh:Ne};_l.useEffectEvent=Ne;var ry={readContext:an,use:uc,useCallback:function(e,n){return vn().memoizedState=[e,n===void 0?null:n],e},useContext:an,useEffect:qp,useImperativeHandle:function(e,n,a){a=a!=null?a.concat([e]):null,hc(4194308,4,Qp.bind(null,n,e),a)},useLayoutEffect:function(e,n){return hc(4194308,4,e,n)},useInsertionEffect:function(e,n){hc(4,2,e,n)},useMemo:function(e,n){var a=vn();n=n===void 0?null:n;var o=e();if(na){nn(!0);try{e()}finally{nn(!1)}}return a.memoizedState=[o,n],o},useReducer:function(e,n,a){var o=vn();if(a!==void 0){var h=a(n);if(na){nn(!0);try{a(n)}finally{nn(!1)}}}else h=n;return o.memoizedState=o.baseState=h,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:h},o.queue=e,e=e.dispatch=F1.bind(null,Mt,e),[o.memoizedState,e]},useRef:function(e){var n=vn();return e={current:e},n.memoizedState=e},useState:function(e){e=Pf(e);var n=e.queue,a=ny.bind(null,Mt,n);return n.dispatch=a,[e.memoizedState,a]},useDebugValue:Bf,useDeferredValue:function(e,n){var a=vn();return qf(a,e,n)},useTransition:function(){var e=Pf(!1);return e=Zp.bind(null,Mt,e.queue,!0,!1),vn().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,a){var o=Mt,h=vn();if(Qt){if(a===void 0)throw Error(r(407));a=a()}else{if(a=n(),pe===null)throw Error(r(349));(jt&127)!==0||Rp(o,n,a)}h.memoizedState=a;var f={value:a,getSnapshot:n};return h.queue=f,qp(Cp.bind(null,o,f,e),[e]),o.flags|=2048,$a(9,{destroy:void 0},Ip.bind(null,o,f,a,n),null),a},useId:function(){var e=vn(),n=pe.identifierPrefix;if(Qt){var a=ji,o=Pi;a=(o&~(1<<32-ye(o)-1)).toString(32)+a,n="_"+n+"R_"+a,a=oc++,0<a&&(n+="H"+a.toString(32)),n+="_"}else a=k1++,n="_"+n+"r_"+a.toString(32)+"_";return e.memoizedState=n},useHostTransitionStatus:Ff,useFormState:kp,useActionState:kp,useOptimistic:function(e){var n=vn();n.memoizedState=n.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=a,n=Gf.bind(null,Mt,!0,a),a.dispatch=n,[e,n]},useMemoCache:Uf,useCacheRefresh:function(){return vn().memoizedState=H1.bind(null,Mt)},useEffectEvent:function(e){var n=vn(),a={impl:e};return n.memoizedState=a,function(){if((ne&2)!==0)throw Error(r(440));return a.impl.apply(void 0,arguments)}}},Qf={readContext:an,use:uc,useCallback:Kp,useContext:an,useEffect:zf,useImperativeHandle:Yp,useInsertionEffect:Fp,useLayoutEffect:Gp,useMemo:Xp,useReducer:cc,useRef:Bp,useState:function(){return cc(hs)},useDebugValue:Bf,useDeferredValue:function(e,n){var a=Ue();return $p(a,le.memoizedState,e,n)},useTransition:function(){var e=cc(hs)[0],n=Ue().memoizedState;return[typeof e=="boolean"?e:pl(e),n]},useSyncExternalStore:wp,useId:ty,useHostTransitionStatus:Ff,useFormState:Pp,useActionState:Pp,useOptimistic:function(e,n){var a=Ue();return Dp(a,le,e,n)},useMemoCache:Uf,useCacheRefresh:ey};Qf.useEffectEvent=Hp;var ay={readContext:an,use:uc,useCallback:Kp,useContext:an,useEffect:zf,useImperativeHandle:Yp,useInsertionEffect:Fp,useLayoutEffect:Gp,useMemo:Xp,useReducer:kf,useRef:Bp,useState:function(){return kf(hs)},useDebugValue:Bf,useDeferredValue:function(e,n){var a=Ue();return le===null?qf(a,e,n):$p(a,le.memoizedState,e,n)},useTransition:function(){var e=kf(hs)[0],n=Ue().memoizedState;return[typeof e=="boolean"?e:pl(e),n]},useSyncExternalStore:wp,useId:ty,useHostTransitionStatus:Ff,useFormState:zp,useActionState:zp,useOptimistic:function(e,n){var a=Ue();return le!==null?Dp(a,le,e,n):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:Uf,useCacheRefresh:ey};ay.useEffectEvent=Hp;function Yf(e,n,a,o){n=e.memoizedState,a=a(o,n),a=a==null?n:b({},n,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var Kf={enqueueSetState:function(e,n,a){e=e._reactInternals;var o=qn(),h=Ks(o);h.payload=n,a!=null&&(h.callback=a),n=Xs(e,h,o),n!==null&&(Nn(n,e,o),fl(n,e,o))},enqueueReplaceState:function(e,n,a){e=e._reactInternals;var o=qn(),h=Ks(o);h.tag=1,h.payload=n,a!=null&&(h.callback=a),n=Xs(e,h,o),n!==null&&(Nn(n,e,o),fl(n,e,o))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var a=qn(),o=Ks(a);o.tag=2,n!=null&&(o.callback=n),n=Xs(e,o,a),n!==null&&(Nn(n,e,a),fl(n,e,a))}};function oy(e,n,a,o,h,f,g){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(o,f,g):n.prototype&&n.prototype.isPureReactComponent?!sl(a,o)||!sl(h,f):!0}function ly(e,n,a,o){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(a,o),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(a,o),n.state!==e&&Kf.enqueueReplaceState(n,n.state,null)}function ia(e,n){var a=n;if("ref"in n){a={};for(var o in n)o!=="ref"&&(a[o]=n[o])}if(e=e.defaultProps){a===n&&(a=b({},a));for(var h in e)a[h]===void 0&&(a[h]=e[h])}return a}function uy(e){Gu(e)}function cy(e){console.error(e)}function hy(e){Gu(e)}function mc(e,n){try{var a=e.onUncaughtError;a(n.value,{componentStack:n.stack})}catch(o){setTimeout(function(){throw o})}}function fy(e,n,a){try{var o=e.onCaughtError;o(a.value,{componentStack:a.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Xf(e,n,a){return a=Ks(a),a.tag=3,a.payload={element:null},a.callback=function(){mc(e,n)},a}function dy(e){return e=Ks(e),e.tag=3,e}function my(e,n,a,o){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var f=o.value;e.payload=function(){return h(f)},e.callback=function(){fy(n,a,o)}}var g=a.stateNode;g!==null&&typeof g.componentDidCatch=="function"&&(e.callback=function(){fy(n,a,o),typeof h!="function"&&(er===null?er=new Set([this]):er.add(this));var E=o.stack;this.componentDidCatch(o.value,{componentStack:E!==null?E:""})})}function G1(e,n,a,o,h){if(a.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(n=a.alternate,n!==null&&qa(n,a,h,!0),a=Pn.current,a!==null){switch(a.tag){case 31:case 13:return ai===null?Rc():a.alternate===null&&De===0&&(De=3),a.flags&=-257,a.flags|=65536,a.lanes=h,o===ec?a.flags|=16384:(n=a.updateQueue,n===null?a.updateQueue=new Set([o]):n.add(o),Ed(e,o,h)),!1;case 22:return a.flags|=65536,o===ec?a.flags|=16384:(n=a.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([o])},a.updateQueue=n):(a=n.retryQueue,a===null?n.retryQueue=new Set([o]):a.add(o)),Ed(e,o,h)),!1}throw Error(r(435,a.tag))}return Ed(e,o,h),Rc(),!1}if(Qt)return n=Pn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,o!==mf&&(e=Error(r(422),{cause:o}),ol(ni(e,a)))):(o!==mf&&(n=Error(r(423),{cause:o}),ol(ni(n,a))),e=e.current.alternate,e.flags|=65536,h&=-h,e.lanes|=h,o=ni(o,a),h=Xf(e.stateNode,o,h),wf(e,h),De!==4&&(De=2)),!1;var f=Error(r(520),{cause:o});if(f=ni(f,a),Rl===null?Rl=[f]:Rl.push(f),De!==4&&(De=2),n===null)return!0;o=ni(o,a),a=n;do{switch(a.tag){case 3:return a.flags|=65536,e=h&-h,a.lanes|=e,e=Xf(a.stateNode,o,e),wf(a,e),!1;case 1:if(n=a.type,f=a.stateNode,(a.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(er===null||!er.has(f))))return a.flags|=65536,h&=-h,a.lanes|=h,h=dy(h),my(h,e,a,o),wf(a,h),!1}a=a.return}while(a!==null);return!1}var $f=Error(r(461)),Be=!1;function on(e,n,a,o){n.child=e===null?_p(n,null,a,o):ea(n,e.child,a,o)}function gy(e,n,a,o,h){a=a.render;var f=n.ref;if("ref"in o){var g={};for(var E in o)E!=="ref"&&(g[E]=o[E])}else g=o;return Zr(n),o=Df(e,n,a,g,f,h),E=Mf(),e!==null&&!Be?(Of(e,n,h),fs(e,n,h)):(Qt&&E&&ff(n),n.flags|=1,on(e,n,o,h),n.child)}function py(e,n,a,o,h){if(e===null){var f=a.type;return typeof f=="function"&&!uf(f)&&f.defaultProps===void 0&&a.compare===null?(n.tag=15,n.type=f,yy(e,n,f,o,h)):(e=Xu(a.type,null,o,n,n.mode,h),e.ref=n.ref,e.return=n,n.child=e)}if(f=e.child,!sd(e,h)){var g=f.memoizedProps;if(a=a.compare,a=a!==null?a:sl,a(g,o)&&e.ref===n.ref)return fs(e,n,h)}return n.flags|=1,e=as(f,o),e.ref=n.ref,e.return=n,n.child=e}function yy(e,n,a,o,h){if(e!==null){var f=e.memoizedProps;if(sl(f,o)&&e.ref===n.ref)if(Be=!1,n.pendingProps=o=f,sd(e,h))(e.flags&131072)!==0&&(Be=!0);else return n.lanes=e.lanes,fs(e,n,h)}return Zf(e,n,a,o,h)}function _y(e,n,a,o){var h=o.children,f=e!==null?e.memoizedState:null;if(e===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|a:a,e!==null){for(o=n.child=e.child,h=0;o!==null;)h=h|o.lanes|o.childLanes,o=o.sibling;o=h&~f}else o=0,n.child=null;return vy(e,n,f,a,o)}if((a&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&Wu(n,f!==null?f.cachePool:null),f!==null?Tp(n,f):If(),Ap(n);else return o=n.lanes=536870912,vy(e,n,f!==null?f.baseLanes|a:a,a,o)}else f!==null?(Wu(n,f.cachePool),Tp(n,f),Zs(),n.memoizedState=null):(e!==null&&Wu(n,null),If(),Zs());return on(e,n,h,a),n.child}function vl(e,n){return e!==null&&e.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function vy(e,n,a,o,h){var f=Tf();return f=f===null?null:{parent:je._currentValue,pool:f},n.memoizedState={baseLanes:a,cachePool:f},e!==null&&Wu(n,null),If(),Ap(n),e!==null&&qa(e,n,o,!0),n.childLanes=h,null}function gc(e,n){return n=yc({mode:n.mode,children:n.children},e.mode),n.ref=e.ref,e.child=n,n.return=e,n}function Ey(e,n,a){return ea(n,e.child,null,a),e=gc(n,n.pendingProps),e.flags|=2,jn(n),n.memoizedState=null,e}function Q1(e,n,a){var o=n.pendingProps,h=(n.flags&128)!==0;if(n.flags&=-129,e===null){if(Qt){if(o.mode==="hidden")return e=gc(n,o),n.lanes=536870912,vl(null,e);if(xf(n),(e=_e)?(e=M_(e,ri),e=e!==null&&e.data==="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:Hs!==null?{id:Pi,overflow:ji}:null,retryLane:536870912,hydrationErrors:null},a=ip(e),a.return=n,n.child=a,rn=n,_e=null)):e=null,e===null)throw Gs(n);return n.lanes=536870912,null}return gc(n,o)}var f=e.memoizedState;if(f!==null){var g=f.dehydrated;if(xf(n),h)if(n.flags&256)n.flags&=-257,n=Ey(e,n,a);else if(n.memoizedState!==null)n.child=e.child,n.flags|=128,n=null;else throw Error(r(558));else if(Be||qa(e,n,a,!1),h=(a&e.childLanes)!==0,Be||h){if(o=pe,o!==null&&(g=tt(o,a),g!==0&&g!==f.retryLane))throw f.retryLane=g,Yr(e,g),Nn(o,e,g),$f;Rc(),n=Ey(e,n,a)}else e=f.treeContext,_e=oi(g.nextSibling),rn=n,Qt=!0,Fs=null,ri=!1,e!==null&&ap(n,e),n=gc(n,o),n.flags|=4096;return n}return e=as(e.child,{mode:o.mode,children:o.children}),e.ref=n.ref,n.child=e,e.return=n,e}function pc(e,n){var a=n.ref;if(a===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(r(284));(e===null||e.ref!==a)&&(n.flags|=4194816)}}function Zf(e,n,a,o,h){return Zr(n),a=Df(e,n,a,o,void 0,h),o=Mf(),e!==null&&!Be?(Of(e,n,h),fs(e,n,h)):(Qt&&o&&ff(n),n.flags|=1,on(e,n,a,h),n.child)}function Ty(e,n,a,o,h,f){return Zr(n),n.updateQueue=null,a=bp(n,o,a,h),Sp(e),o=Mf(),e!==null&&!Be?(Of(e,n,f),fs(e,n,f)):(Qt&&o&&ff(n),n.flags|=1,on(e,n,a,f),n.child)}function Ay(e,n,a,o,h){if(Zr(n),n.stateNode===null){var f=Pa,g=a.contextType;typeof g=="object"&&g!==null&&(f=an(g)),f=new a(o,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Kf,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=o,f.state=n.memoizedState,f.refs={},Sf(n),g=a.contextType,f.context=typeof g=="object"&&g!==null?an(g):Pa,f.state=n.memoizedState,g=a.getDerivedStateFromProps,typeof g=="function"&&(Yf(n,a,g,o),f.state=n.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(g=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),g!==f.state&&Kf.enqueueReplaceState(f,f.state,null),ml(n,o,f,h),dl(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!0}else if(e===null){f=n.stateNode;var E=n.memoizedProps,C=ia(a,E);f.props=C;var z=f.context,Q=a.contextType;g=Pa,typeof Q=="object"&&Q!==null&&(g=an(Q));var $=a.getDerivedStateFromProps;Q=typeof $=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,Q||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||z!==g)&&ly(n,f,o,g),Ys=!1;var B=n.memoizedState;f.state=B,ml(n,o,f,h),dl(),z=n.memoizedState,E||B!==z||Ys?(typeof $=="function"&&(Yf(n,a,$,o),z=n.memoizedState),(C=Ys||oy(n,a,C,o,B,z,g))?(Q||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=o,n.memoizedState=z),f.props=o,f.state=z,f.context=g,o=C):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!1)}else{f=n.stateNode,bf(e,n),g=n.memoizedProps,Q=ia(a,g),f.props=Q,$=n.pendingProps,B=f.context,z=a.contextType,C=Pa,typeof z=="object"&&z!==null&&(C=an(z)),E=a.getDerivedStateFromProps,(z=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(g!==$||B!==C)&&ly(n,f,o,C),Ys=!1,B=n.memoizedState,f.state=B,ml(n,o,f,h),dl();var H=n.memoizedState;g!==$||B!==H||Ys||e!==null&&e.dependencies!==null&&Zu(e.dependencies)?(typeof E=="function"&&(Yf(n,a,E,o),H=n.memoizedState),(Q=Ys||oy(n,a,Q,o,B,H,C)||e!==null&&e.dependencies!==null&&Zu(e.dependencies))?(z||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(o,H,C),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(o,H,C)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||g===e.memoizedProps&&B===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&B===e.memoizedState||(n.flags|=1024),n.memoizedProps=o,n.memoizedState=H),f.props=o,f.state=H,f.context=C,o=Q):(typeof f.componentDidUpdate!="function"||g===e.memoizedProps&&B===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&B===e.memoizedState||(n.flags|=1024),o=!1)}return f=o,pc(e,n),o=(n.flags&128)!==0,f||o?(f=n.stateNode,a=o&&typeof a.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,e!==null&&o?(n.child=ea(n,e.child,null,h),n.child=ea(n,null,a,h)):on(e,n,a,h),n.memoizedState=f.state,e=n.child):e=fs(e,n,h),e}function Sy(e,n,a,o){return Xr(),n.flags|=256,on(e,n,a,o),n.child}var Jf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Wf(e){return{baseLanes:e,cachePool:fp()}}function td(e,n,a){return e=e!==null?e.childLanes&~a:0,n&&(e|=Bn),e}function by(e,n,a){var o=n.pendingProps,h=!1,f=(n.flags&128)!==0,g;if((g=f)||(g=e!==null&&e.memoizedState===null?!1:(Ve.current&2)!==0),g&&(h=!0,n.flags&=-129),g=(n.flags&32)!==0,n.flags&=-33,e===null){if(Qt){if(h?$s(n):Zs(),(e=_e)?(e=M_(e,ri),e=e!==null&&e.data!=="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:Hs!==null?{id:Pi,overflow:ji}:null,retryLane:536870912,hydrationErrors:null},a=ip(e),a.return=n,n.child=a,rn=n,_e=null)):e=null,e===null)throw Gs(n);return Ld(e)?n.lanes=32:n.lanes=536870912,null}var E=o.children;return o=o.fallback,h?(Zs(),h=n.mode,E=yc({mode:"hidden",children:E},h),o=Kr(o,h,a,null),E.return=n,o.return=n,E.sibling=o,n.child=E,o=n.child,o.memoizedState=Wf(a),o.childLanes=td(e,g,a),n.memoizedState=Jf,vl(null,o)):($s(n),ed(n,E))}var C=e.memoizedState;if(C!==null&&(E=C.dehydrated,E!==null)){if(f)n.flags&256?($s(n),n.flags&=-257,n=nd(e,n,a)):n.memoizedState!==null?(Zs(),n.child=e.child,n.flags|=128,n=null):(Zs(),E=o.fallback,h=n.mode,o=yc({mode:"visible",children:o.children},h),E=Kr(E,h,a,null),E.flags|=2,o.return=n,E.return=n,o.sibling=E,n.child=o,ea(n,e.child,null,a),o=n.child,o.memoizedState=Wf(a),o.childLanes=td(e,g,a),n.memoizedState=Jf,n=vl(null,o));else if($s(n),Ld(E)){if(g=E.nextSibling&&E.nextSibling.dataset,g)var z=g.dgst;g=z,o=Error(r(419)),o.stack="",o.digest=g,ol({value:o,source:null,stack:null}),n=nd(e,n,a)}else if(Be||qa(e,n,a,!1),g=(a&e.childLanes)!==0,Be||g){if(g=pe,g!==null&&(o=tt(g,a),o!==0&&o!==C.retryLane))throw C.retryLane=o,Yr(e,o),Nn(g,e,o),$f;Ud(E)||Rc(),n=nd(e,n,a)}else Ud(E)?(n.flags|=192,n.child=e.child,n=null):(e=C.treeContext,_e=oi(E.nextSibling),rn=n,Qt=!0,Fs=null,ri=!1,e!==null&&ap(n,e),n=ed(n,o.children),n.flags|=4096);return n}return h?(Zs(),E=o.fallback,h=n.mode,C=e.child,z=C.sibling,o=as(C,{mode:"hidden",children:o.children}),o.subtreeFlags=C.subtreeFlags&65011712,z!==null?E=as(z,E):(E=Kr(E,h,a,null),E.flags|=2),E.return=n,o.return=n,o.sibling=E,n.child=o,vl(null,o),o=n.child,E=e.child.memoizedState,E===null?E=Wf(a):(h=E.cachePool,h!==null?(C=je._currentValue,h=h.parent!==C?{parent:C,pool:C}:h):h=fp(),E={baseLanes:E.baseLanes|a,cachePool:h}),o.memoizedState=E,o.childLanes=td(e,g,a),n.memoizedState=Jf,vl(e.child,o)):($s(n),a=e.child,e=a.sibling,a=as(a,{mode:"visible",children:o.children}),a.return=n,a.sibling=null,e!==null&&(g=n.deletions,g===null?(n.deletions=[e],n.flags|=16):g.push(e)),n.child=a,n.memoizedState=null,a)}function ed(e,n){return n=yc({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function yc(e,n){return e=kn(22,e,null,n),e.lanes=0,e}function nd(e,n,a){return ea(n,e.child,null,a),e=ed(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function wy(e,n,a){e.lanes|=n;var o=e.alternate;o!==null&&(o.lanes|=n),yf(e.return,n,a)}function id(e,n,a,o,h,f){var g=e.memoizedState;g===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:o,tail:a,tailMode:h,treeForkCount:f}:(g.isBackwards=n,g.rendering=null,g.renderingStartTime=0,g.last=o,g.tail=a,g.tailMode=h,g.treeForkCount=f)}function Ry(e,n,a){var o=n.pendingProps,h=o.revealOrder,f=o.tail;o=o.children;var g=Ve.current,E=(g&2)!==0;if(E?(g=g&1|2,n.flags|=128):g&=1,st(Ve,g),on(e,n,o,a),o=Qt?al:0,!E&&e!==null&&(e.flags&128)!==0)t:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&wy(e,a,n);else if(e.tag===19)wy(e,a,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break t;for(;e.sibling===null;){if(e.return===null||e.return===n)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(h){case"forwards":for(a=n.child,h=null;a!==null;)e=a.alternate,e!==null&&rc(e)===null&&(h=a),a=a.sibling;a=h,a===null?(h=n.child,n.child=null):(h=a.sibling,a.sibling=null),id(n,!1,h,a,f,o);break;case"backwards":case"unstable_legacy-backwards":for(a=null,h=n.child,n.child=null;h!==null;){if(e=h.alternate,e!==null&&rc(e)===null){n.child=h;break}e=h.sibling,h.sibling=a,a=h,h=e}id(n,!0,a,null,f,o);break;case"together":id(n,!1,null,null,void 0,o);break;default:n.memoizedState=null}return n.child}function fs(e,n,a){if(e!==null&&(n.dependencies=e.dependencies),tr|=n.lanes,(a&n.childLanes)===0)if(e!==null){if(qa(e,n,a,!1),(a&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(r(153));if(n.child!==null){for(e=n.child,a=as(e,e.pendingProps),n.child=a,a.return=n;e.sibling!==null;)e=e.sibling,a=a.sibling=as(e,e.pendingProps),a.return=n;a.sibling=null}return n.child}function sd(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&Zu(e)))}function Y1(e,n,a){switch(n.tag){case 3:me(n,n.stateNode.containerInfo),Qs(n,je,e.memoizedState.cache),Xr();break;case 27:case 5:Qn(n);break;case 4:me(n,n.stateNode.containerInfo);break;case 10:Qs(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,xf(n),null;break;case 13:var o=n.memoizedState;if(o!==null)return o.dehydrated!==null?($s(n),n.flags|=128,null):(a&n.child.childLanes)!==0?by(e,n,a):($s(n),e=fs(e,n,a),e!==null?e.sibling:null);$s(n);break;case 19:var h=(e.flags&128)!==0;if(o=(a&n.childLanes)!==0,o||(qa(e,n,a,!1),o=(a&n.childLanes)!==0),h){if(o)return Ry(e,n,a);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),st(Ve,Ve.current),o)break;return null;case 22:return n.lanes=0,_y(e,n,a,n.pendingProps);case 24:Qs(n,je,e.memoizedState.cache)}return fs(e,n,a)}function Iy(e,n,a){if(e!==null)if(e.memoizedProps!==n.pendingProps)Be=!0;else{if(!sd(e,a)&&(n.flags&128)===0)return Be=!1,Y1(e,n,a);Be=(e.flags&131072)!==0}else Be=!1,Qt&&(n.flags&1048576)!==0&&rp(n,al,n.index);switch(n.lanes=0,n.tag){case 16:t:{var o=n.pendingProps;if(e=Wr(n.elementType),n.type=e,typeof e=="function")uf(e)?(o=ia(e,o),n.tag=1,n=Ay(null,n,e,o,a)):(n.tag=0,n=Zf(null,n,e,o,a));else{if(e!=null){var h=e.$$typeof;if(h===Zt){n.tag=11,n=gy(null,n,e,o,a);break t}else if(h===x){n.tag=14,n=py(null,n,e,o,a);break t}}throw n=de(e)||e,Error(r(306,n,""))}}return n;case 0:return Zf(e,n,n.type,n.pendingProps,a);case 1:return o=n.type,h=ia(o,n.pendingProps),Ay(e,n,o,h,a);case 3:t:{if(me(n,n.stateNode.containerInfo),e===null)throw Error(r(387));o=n.pendingProps;var f=n.memoizedState;h=f.element,bf(e,n),ml(n,o,null,a);var g=n.memoizedState;if(o=g.cache,Qs(n,je,o),o!==f.cache&&_f(n,[je],a,!0),dl(),o=g.element,f.isDehydrated)if(f={element:o,isDehydrated:!1,cache:g.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=Sy(e,n,o,a);break t}else if(o!==h){h=ni(Error(r(424)),n),ol(h),n=Sy(e,n,o,a);break t}else{switch(e=n.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(_e=oi(e.firstChild),rn=n,Qt=!0,Fs=null,ri=!0,a=_p(n,null,o,a),n.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Xr(),o===h){n=fs(e,n,a);break t}on(e,n,o,a)}n=n.child}return n;case 26:return pc(e,n),e===null?(a=P_(n.type,null,n.pendingProps,null))?n.memoizedState=a:Qt||(a=n.type,e=n.pendingProps,o=Oc(xt.current).createElement(a),o[ut]=n,o[At]=e,ln(o,a,e),ke(o),n.stateNode=o):n.memoizedState=P_(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return Qn(n),e===null&&Qt&&(o=n.stateNode=U_(n.type,n.pendingProps,xt.current),rn=n,ri=!0,h=_e,rr(n.type)?(kd=h,_e=oi(o.firstChild)):_e=h),on(e,n,n.pendingProps.children,a),pc(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&Qt&&((h=o=_e)&&(o=SA(o,n.type,n.pendingProps,ri),o!==null?(n.stateNode=o,rn=n,_e=oi(o.firstChild),ri=!1,h=!0):h=!1),h||Gs(n)),Qn(n),h=n.type,f=n.pendingProps,g=e!==null?e.memoizedProps:null,o=f.children,Md(h,f)?o=null:g!==null&&Md(h,g)&&(n.flags|=32),n.memoizedState!==null&&(h=Df(e,n,P1,null,null,a),Vl._currentValue=h),pc(e,n),on(e,n,o,a),n.child;case 6:return e===null&&Qt&&((e=a=_e)&&(a=bA(a,n.pendingProps,ri),a!==null?(n.stateNode=a,rn=n,_e=null,e=!0):e=!1),e||Gs(n)),null;case 13:return by(e,n,a);case 4:return me(n,n.stateNode.containerInfo),o=n.pendingProps,e===null?n.child=ea(n,null,o,a):on(e,n,o,a),n.child;case 11:return gy(e,n,n.type,n.pendingProps,a);case 7:return on(e,n,n.pendingProps,a),n.child;case 8:return on(e,n,n.pendingProps.children,a),n.child;case 12:return on(e,n,n.pendingProps.children,a),n.child;case 10:return o=n.pendingProps,Qs(n,n.type,o.value),on(e,n,o.children,a),n.child;case 9:return h=n.type._context,o=n.pendingProps.children,Zr(n),h=an(h),o=o(h),n.flags|=1,on(e,n,o,a),n.child;case 14:return py(e,n,n.type,n.pendingProps,a);case 15:return yy(e,n,n.type,n.pendingProps,a);case 19:return Ry(e,n,a);case 31:return Q1(e,n,a);case 22:return _y(e,n,a,n.pendingProps);case 24:return Zr(n),o=an(je),e===null?(h=Tf(),h===null&&(h=pe,f=vf(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=a),h=f),n.memoizedState={parent:o,cache:h},Sf(n),Qs(n,je,h)):((e.lanes&a)!==0&&(bf(e,n),ml(n,null,null,a),dl()),h=e.memoizedState,f=n.memoizedState,h.parent!==o?(h={parent:o,cache:o},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),Qs(n,je,o)):(o=f.cache,Qs(n,je,o),o!==h.cache&&_f(n,[je],a,!0))),on(e,n,n.pendingProps.children,a),n.child;case 29:throw n.pendingProps}throw Error(r(156,n.tag))}function ds(e){e.flags|=4}function rd(e,n,a,o,h){if((n=(e.mode&32)!==0)&&(n=!1),n){if(e.flags|=16777216,(h&335544128)===h)if(e.stateNode.complete)e.flags|=8192;else if(t_())e.flags|=8192;else throw ta=ec,Af}else e.flags&=-16777217}function Cy(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!H_(n))if(t_())e.flags|=8192;else throw ta=ec,Af}function _c(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?Aa():536870912,e.lanes|=n,to|=n)}function El(e,n){if(!Qt)switch(e.tailMode){case"hidden":n=e.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var o=null;a!==null;)a.alternate!==null&&(o=a),a=a.sibling;o===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:o.sibling=null}}function ve(e){var n=e.alternate!==null&&e.alternate.child===e.child,a=0,o=0;if(n)for(var h=e.child;h!==null;)a|=h.lanes|h.childLanes,o|=h.subtreeFlags&65011712,o|=h.flags&65011712,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)a|=h.lanes|h.childLanes,o|=h.subtreeFlags,o|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=o,e.childLanes=a,n}function K1(e,n,a){var o=n.pendingProps;switch(df(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ve(n),null;case 1:return ve(n),null;case 3:return a=n.stateNode,o=null,e!==null&&(o=e.memoizedState.cache),n.memoizedState.cache!==o&&(n.flags|=2048),us(je),ge(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(Ba(n)?ds(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,gf())),ve(n),null;case 26:var h=n.type,f=n.memoizedState;return e===null?(ds(n),f!==null?(ve(n),Cy(n,f)):(ve(n),rd(n,h,null,o,a))):f?f!==e.memoizedState?(ds(n),ve(n),Cy(n,f)):(ve(n),n.flags&=-16777217):(e=e.memoizedProps,e!==o&&ds(n),ve(n),rd(n,h,e,o,a)),null;case 27:if(dn(n),a=xt.current,h=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&ds(n);else{if(!o){if(n.stateNode===null)throw Error(r(166));return ve(n),null}e=J.current,Ba(n)?op(n):(e=U_(h,o,a),n.stateNode=e,ds(n))}return ve(n),null;case 5:if(dn(n),h=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&ds(n);else{if(!o){if(n.stateNode===null)throw Error(r(166));return ve(n),null}if(f=J.current,Ba(n))op(n);else{var g=Oc(xt.current);switch(f){case 1:f=g.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:f=g.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":f=g.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":f=g.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":f=g.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof o.is=="string"?g.createElement("select",{is:o.is}):g.createElement("select"),o.multiple?f.multiple=!0:o.size&&(f.size=o.size);break;default:f=typeof o.is=="string"?g.createElement(h,{is:o.is}):g.createElement(h)}}f[ut]=n,f[At]=o;t:for(g=n.child;g!==null;){if(g.tag===5||g.tag===6)f.appendChild(g.stateNode);else if(g.tag!==4&&g.tag!==27&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===n)break t;for(;g.sibling===null;){if(g.return===null||g.return===n)break t;g=g.return}g.sibling.return=g.return,g=g.sibling}n.stateNode=f;t:switch(ln(f,h,o),h){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break t;case"img":o=!0;break t;default:o=!1}o&&ds(n)}}return ve(n),rd(n,n.type,e===null?null:e.memoizedProps,n.pendingProps,a),null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==o&&ds(n);else{if(typeof o!="string"&&n.stateNode===null)throw Error(r(166));if(e=xt.current,Ba(n)){if(e=n.stateNode,a=n.memoizedProps,o=null,h=rn,h!==null)switch(h.tag){case 27:case 5:o=h.memoizedProps}e[ut]=n,e=!!(e.nodeValue===a||o!==null&&o.suppressHydrationWarning===!0||b_(e.nodeValue,a)),e||Gs(n,!0)}else e=Oc(e).createTextNode(o),e[ut]=n,n.stateNode=e}return ve(n),null;case 31:if(a=n.memoizedState,e===null||e.memoizedState!==null){if(o=Ba(n),a!==null){if(e===null){if(!o)throw Error(r(318));if(e=n.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(557));e[ut]=n}else Xr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ve(n),e=!1}else a=gf(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=a),e=!0;if(!e)return n.flags&256?(jn(n),n):(jn(n),null);if((n.flags&128)!==0)throw Error(r(558))}return ve(n),null;case 13:if(o=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(h=Ba(n),o!==null&&o.dehydrated!==null){if(e===null){if(!h)throw Error(r(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(r(317));h[ut]=n}else Xr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ve(n),h=!1}else h=gf(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(jn(n),n):(jn(n),null)}return jn(n),(n.flags&128)!==0?(n.lanes=a,n):(a=o!==null,e=e!==null&&e.memoizedState!==null,a&&(o=n.child,h=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(h=o.alternate.memoizedState.cachePool.pool),f=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),f!==h&&(o.flags|=2048)),a!==e&&a&&(n.child.flags|=8192),_c(n,n.updateQueue),ve(n),null);case 4:return ge(),e===null&&Id(n.stateNode.containerInfo),ve(n),null;case 10:return us(n.type),ve(n),null;case 19:if(F(Ve),o=n.memoizedState,o===null)return ve(n),null;if(h=(n.flags&128)!==0,f=o.rendering,f===null)if(h)El(o,!1);else{if(De!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(f=rc(e),f!==null){for(n.flags|=128,El(o,!1),e=f.updateQueue,n.updateQueue=e,_c(n,e),n.subtreeFlags=0,e=a,a=n.child;a!==null;)np(a,e),a=a.sibling;return st(Ve,Ve.current&1|2),Qt&&os(n,o.treeForkCount),n.child}e=e.sibling}o.tail!==null&&en()>Sc&&(n.flags|=128,h=!0,El(o,!1),n.lanes=4194304)}else{if(!h)if(e=rc(f),e!==null){if(n.flags|=128,h=!0,e=e.updateQueue,n.updateQueue=e,_c(n,e),El(o,!0),o.tail===null&&o.tailMode==="hidden"&&!f.alternate&&!Qt)return ve(n),null}else 2*en()-o.renderingStartTime>Sc&&a!==536870912&&(n.flags|=128,h=!0,El(o,!1),n.lanes=4194304);o.isBackwards?(f.sibling=n.child,n.child=f):(e=o.last,e!==null?e.sibling=f:n.child=f,o.last=f)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=en(),e.sibling=null,a=Ve.current,st(Ve,h?a&1|2:a&1),Qt&&os(n,o.treeForkCount),e):(ve(n),null);case 22:case 23:return jn(n),Cf(),o=n.memoizedState!==null,e!==null?e.memoizedState!==null!==o&&(n.flags|=8192):o&&(n.flags|=8192),o?(a&536870912)!==0&&(n.flags&128)===0&&(ve(n),n.subtreeFlags&6&&(n.flags|=8192)):ve(n),a=n.updateQueue,a!==null&&_c(n,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),o=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),o!==a&&(n.flags|=2048),e!==null&&F(Jr),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),n.memoizedState.cache!==a&&(n.flags|=2048),us(je),ve(n),null;case 25:return null;case 30:return null}throw Error(r(156,n.tag))}function X1(e,n){switch(df(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return us(je),ge(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return dn(n),null;case 31:if(n.memoizedState!==null){if(jn(n),n.alternate===null)throw Error(r(340));Xr()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 13:if(jn(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(r(340));Xr()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return F(Ve),null;case 4:return ge(),null;case 10:return us(n.type),null;case 22:case 23:return jn(n),Cf(),e!==null&&F(Jr),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return us(je),null;case 25:return null;default:return null}}function xy(e,n){switch(df(n),n.tag){case 3:us(je),ge();break;case 26:case 27:case 5:dn(n);break;case 4:ge();break;case 31:n.memoizedState!==null&&jn(n);break;case 13:jn(n);break;case 19:F(Ve);break;case 10:us(n.type);break;case 22:case 23:jn(n),Cf(),e!==null&&F(Jr);break;case 24:us(je)}}function Tl(e,n){try{var a=n.updateQueue,o=a!==null?a.lastEffect:null;if(o!==null){var h=o.next;a=h;do{if((a.tag&e)===e){o=void 0;var f=a.create,g=a.inst;o=f(),g.destroy=o}a=a.next}while(a!==h)}}catch(E){ae(n,n.return,E)}}function Js(e,n,a){try{var o=n.updateQueue,h=o!==null?o.lastEffect:null;if(h!==null){var f=h.next;o=f;do{if((o.tag&e)===e){var g=o.inst,E=g.destroy;if(E!==void 0){g.destroy=void 0,h=n;var C=a,z=E;try{z()}catch(Q){ae(h,C,Q)}}}o=o.next}while(o!==f)}}catch(Q){ae(n,n.return,Q)}}function Ny(e){var n=e.updateQueue;if(n!==null){var a=e.stateNode;try{Ep(n,a)}catch(o){ae(e,e.return,o)}}}function Dy(e,n,a){a.props=ia(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(o){ae(e,n,o)}}function Al(e,n){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var o=e.stateNode;break;case 30:o=e.stateNode;break;default:o=e.stateNode}typeof a=="function"?e.refCleanup=a(o):a.current=o}}catch(h){ae(e,n,h)}}function zi(e,n){var a=e.ref,o=e.refCleanup;if(a!==null)if(typeof o=="function")try{o()}catch(h){ae(e,n,h)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){ae(e,n,h)}else a.current=null}function My(e){var n=e.type,a=e.memoizedProps,o=e.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":a.autoFocus&&o.focus();break t;case"img":a.src?o.src=a.src:a.srcSet&&(o.srcset=a.srcSet)}}catch(h){ae(e,e.return,h)}}function ad(e,n,a){try{var o=e.stateNode;yA(o,e.type,a,n),o[At]=n}catch(h){ae(e,e.return,h)}}function Oy(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&rr(e.type)||e.tag===4}function od(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||Oy(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&rr(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function ld(e,n,a){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,n):(n=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,n.appendChild(e),a=a._reactRootContainer,a!=null||n.onclick!==null||(n.onclick=ci));else if(o!==4&&(o===27&&rr(e.type)&&(a=e.stateNode,n=null),e=e.child,e!==null))for(ld(e,n,a),e=e.sibling;e!==null;)ld(e,n,a),e=e.sibling}function vc(e,n,a){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?a.insertBefore(e,n):a.appendChild(e);else if(o!==4&&(o===27&&rr(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(vc(e,n,a),e=e.sibling;e!==null;)vc(e,n,a),e=e.sibling}function Vy(e){var n=e.stateNode,a=e.memoizedProps;try{for(var o=e.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);ln(n,o,a),n[ut]=e,n[At]=a}catch(f){ae(e,e.return,f)}}var ms=!1,qe=!1,ud=!1,Uy=typeof WeakSet=="function"?WeakSet:Set,Je=null;function $1(e,n){if(e=e.containerInfo,Nd=zc,e=Yg(e),ef(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else t:{a=(a=e.ownerDocument)&&a.defaultView||window;var o=a.getSelection&&a.getSelection();if(o&&o.rangeCount!==0){a=o.anchorNode;var h=o.anchorOffset,f=o.focusNode;o=o.focusOffset;try{a.nodeType,f.nodeType}catch{a=null;break t}var g=0,E=-1,C=-1,z=0,Q=0,$=e,B=null;e:for(;;){for(var H;$!==a||h!==0&&$.nodeType!==3||(E=g+h),$!==f||o!==0&&$.nodeType!==3||(C=g+o),$.nodeType===3&&(g+=$.nodeValue.length),(H=$.firstChild)!==null;)B=$,$=H;for(;;){if($===e)break e;if(B===a&&++z===h&&(E=g),B===f&&++Q===o&&(C=g),(H=$.nextSibling)!==null)break;$=B,B=$.parentNode}$=H}a=E===-1||C===-1?null:{start:E,end:C}}else a=null}a=a||{start:0,end:0}}else a=null;for(Dd={focusedElem:e,selectionRange:a},zc=!1,Je=n;Je!==null;)if(n=Je,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,Je=e;else for(;Je!==null;){switch(n=Je,f=n.alternate,e=n.flags,n.tag){case 0:if((e&4)!==0&&(e=n.updateQueue,e=e!==null?e.events:null,e!==null))for(a=0;a<e.length;a++)h=e[a],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&f!==null){e=void 0,a=n,h=f.memoizedProps,f=f.memoizedState,o=a.stateNode;try{var ht=ia(a.type,h);e=o.getSnapshotBeforeUpdate(ht,f),o.__reactInternalSnapshotBeforeUpdate=e}catch(vt){ae(a,a.return,vt)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,a=e.nodeType,a===9)Vd(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Vd(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(r(163))}if(e=n.sibling,e!==null){e.return=n.return,Je=e;break}Je=n.return}}function Ly(e,n,a){var o=a.flags;switch(a.tag){case 0:case 11:case 15:ps(e,a),o&4&&Tl(5,a);break;case 1:if(ps(e,a),o&4)if(e=a.stateNode,n===null)try{e.componentDidMount()}catch(g){ae(a,a.return,g)}else{var h=ia(a.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(h,n,e.__reactInternalSnapshotBeforeUpdate)}catch(g){ae(a,a.return,g)}}o&64&&Ny(a),o&512&&Al(a,a.return);break;case 3:if(ps(e,a),o&64&&(e=a.updateQueue,e!==null)){if(n=null,a.child!==null)switch(a.child.tag){case 27:case 5:n=a.child.stateNode;break;case 1:n=a.child.stateNode}try{Ep(e,n)}catch(g){ae(a,a.return,g)}}break;case 27:n===null&&o&4&&Vy(a);case 26:case 5:ps(e,a),n===null&&o&4&&My(a),o&512&&Al(a,a.return);break;case 12:ps(e,a);break;case 31:ps(e,a),o&4&&jy(e,a);break;case 13:ps(e,a),o&4&&zy(e,a),o&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=rA.bind(null,a),wA(e,a))));break;case 22:if(o=a.memoizedState!==null||ms,!o){n=n!==null&&n.memoizedState!==null||qe,h=ms;var f=qe;ms=o,(qe=n)&&!f?ys(e,a,(a.subtreeFlags&8772)!==0):ps(e,a),ms=h,qe=f}break;case 30:break;default:ps(e,a)}}function ky(e){var n=e.alternate;n!==null&&(e.alternate=null,ky(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&ba(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Ae=null,Rn=!1;function gs(e,n,a){for(a=a.child;a!==null;)Py(e,n,a),a=a.sibling}function Py(e,n,a){if(Ye&&typeof Ye.onCommitFiberUnmount=="function")try{Ye.onCommitFiberUnmount(Sn,a)}catch{}switch(a.tag){case 26:qe||zi(a,n),gs(e,n,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:qe||zi(a,n);var o=Ae,h=Rn;rr(a.type)&&(Ae=a.stateNode,Rn=!1),gs(e,n,a),Dl(a.stateNode),Ae=o,Rn=h;break;case 5:qe||zi(a,n);case 6:if(o=Ae,h=Rn,Ae=null,gs(e,n,a),Ae=o,Rn=h,Ae!==null)if(Rn)try{(Ae.nodeType===9?Ae.body:Ae.nodeName==="HTML"?Ae.ownerDocument.body:Ae).removeChild(a.stateNode)}catch(f){ae(a,n,f)}else try{Ae.removeChild(a.stateNode)}catch(f){ae(a,n,f)}break;case 18:Ae!==null&&(Rn?(e=Ae,N_(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),lo(e)):N_(Ae,a.stateNode));break;case 4:o=Ae,h=Rn,Ae=a.stateNode.containerInfo,Rn=!0,gs(e,n,a),Ae=o,Rn=h;break;case 0:case 11:case 14:case 15:Js(2,a,n),qe||Js(4,a,n),gs(e,n,a);break;case 1:qe||(zi(a,n),o=a.stateNode,typeof o.componentWillUnmount=="function"&&Dy(a,n,o)),gs(e,n,a);break;case 21:gs(e,n,a);break;case 22:qe=(o=qe)||a.memoizedState!==null,gs(e,n,a),qe=o;break;default:gs(e,n,a)}}function jy(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{lo(e)}catch(a){ae(n,n.return,a)}}}function zy(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{lo(e)}catch(a){ae(n,n.return,a)}}function Z1(e){switch(e.tag){case 31:case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new Uy),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new Uy),n;default:throw Error(r(435,e.tag))}}function Ec(e,n){var a=Z1(e);n.forEach(function(o){if(!a.has(o)){a.add(o);var h=aA.bind(null,e,o);o.then(h,h)}})}function In(e,n){var a=n.deletions;if(a!==null)for(var o=0;o<a.length;o++){var h=a[o],f=e,g=n,E=g;t:for(;E!==null;){switch(E.tag){case 27:if(rr(E.type)){Ae=E.stateNode,Rn=!1;break t}break;case 5:Ae=E.stateNode,Rn=!1;break t;case 3:case 4:Ae=E.stateNode.containerInfo,Rn=!0;break t}E=E.return}if(Ae===null)throw Error(r(160));Py(f,g,h),Ae=null,Rn=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)By(n,e),n=n.sibling}var pi=null;function By(e,n){var a=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:In(n,e),Cn(e),o&4&&(Js(3,e,e.return),Tl(3,e),Js(5,e,e.return));break;case 1:In(n,e),Cn(e),o&512&&(qe||a===null||zi(a,a.return)),o&64&&ms&&(e=e.updateQueue,e!==null&&(o=e.callbacks,o!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?o:a.concat(o))));break;case 26:var h=pi;if(In(n,e),Cn(e),o&512&&(qe||a===null||zi(a,a.return)),o&4){var f=a!==null?a.memoizedState:null;if(o=e.memoizedState,a===null)if(o===null)if(e.stateNode===null){t:{o=e.type,a=e.memoizedProps,h=h.ownerDocument||h;e:switch(o){case"title":f=h.getElementsByTagName("title")[0],(!f||f[Ri]||f[ut]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(o),h.head.insertBefore(f,h.querySelector("head > title"))),ln(f,o,a),f[ut]=e,ke(f),o=f;break t;case"link":var g=B_("link","href",h).get(o+(a.href||""));if(g){for(var E=0;E<g.length;E++)if(f=g[E],f.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&f.getAttribute("rel")===(a.rel==null?null:a.rel)&&f.getAttribute("title")===(a.title==null?null:a.title)&&f.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){g.splice(E,1);break e}}f=h.createElement(o),ln(f,o,a),h.head.appendChild(f);break;case"meta":if(g=B_("meta","content",h).get(o+(a.content||""))){for(E=0;E<g.length;E++)if(f=g[E],f.getAttribute("content")===(a.content==null?null:""+a.content)&&f.getAttribute("name")===(a.name==null?null:a.name)&&f.getAttribute("property")===(a.property==null?null:a.property)&&f.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&f.getAttribute("charset")===(a.charSet==null?null:a.charSet)){g.splice(E,1);break e}}f=h.createElement(o),ln(f,o,a),h.head.appendChild(f);break;default:throw Error(r(468,o))}f[ut]=e,ke(f),o=f}e.stateNode=o}else q_(h,e.type,e.stateNode);else e.stateNode=z_(h,o,e.memoizedProps);else f!==o?(f===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):f.count--,o===null?q_(h,e.type,e.stateNode):z_(h,o,e.memoizedProps)):o===null&&e.stateNode!==null&&ad(e,e.memoizedProps,a.memoizedProps)}break;case 27:In(n,e),Cn(e),o&512&&(qe||a===null||zi(a,a.return)),a!==null&&o&4&&ad(e,e.memoizedProps,a.memoizedProps);break;case 5:if(In(n,e),Cn(e),o&512&&(qe||a===null||zi(a,a.return)),e.flags&32){h=e.stateNode;try{wn(h,"")}catch(ht){ae(e,e.return,ht)}}o&4&&e.stateNode!=null&&(h=e.memoizedProps,ad(e,h,a!==null?a.memoizedProps:h)),o&1024&&(ud=!0);break;case 6:if(In(n,e),Cn(e),o&4){if(e.stateNode===null)throw Error(r(162));o=e.memoizedProps,a=e.stateNode;try{a.nodeValue=o}catch(ht){ae(e,e.return,ht)}}break;case 3:if(Lc=null,h=pi,pi=Vc(n.containerInfo),In(n,e),pi=h,Cn(e),o&4&&a!==null&&a.memoizedState.isDehydrated)try{lo(n.containerInfo)}catch(ht){ae(e,e.return,ht)}ud&&(ud=!1,qy(e));break;case 4:o=pi,pi=Vc(e.stateNode.containerInfo),In(n,e),Cn(e),pi=o;break;case 12:In(n,e),Cn(e);break;case 31:In(n,e),Cn(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Ec(e,o)));break;case 13:In(n,e),Cn(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Ac=en()),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Ec(e,o)));break;case 22:h=e.memoizedState!==null;var C=a!==null&&a.memoizedState!==null,z=ms,Q=qe;if(ms=z||h,qe=Q||C,In(n,e),qe=Q,ms=z,Cn(e),o&8192)t:for(n=e.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(a===null||C||ms||qe||sa(e)),a=null,n=e;;){if(n.tag===5||n.tag===26){if(a===null){C=a=n;try{if(f=C.stateNode,h)g=f.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none";else{E=C.stateNode;var $=C.memoizedProps.style,B=$!=null&&$.hasOwnProperty("display")?$.display:null;E.style.display=B==null||typeof B=="boolean"?"":(""+B).trim()}}catch(ht){ae(C,C.return,ht)}}}else if(n.tag===6){if(a===null){C=n;try{C.stateNode.nodeValue=h?"":C.memoizedProps}catch(ht){ae(C,C.return,ht)}}}else if(n.tag===18){if(a===null){C=n;try{var H=C.stateNode;h?D_(H,!0):D_(C.stateNode,!1)}catch(ht){ae(C,C.return,ht)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break t;for(;n.sibling===null;){if(n.return===null||n.return===e)break t;a===n&&(a=null),n=n.return}a===n&&(a=null),n.sibling.return=n.return,n=n.sibling}o&4&&(o=e.updateQueue,o!==null&&(a=o.retryQueue,a!==null&&(o.retryQueue=null,Ec(e,a))));break;case 19:In(n,e),Cn(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Ec(e,o)));break;case 30:break;case 21:break;default:In(n,e),Cn(e)}}function Cn(e){var n=e.flags;if(n&2){try{for(var a,o=e.return;o!==null;){if(Oy(o)){a=o;break}o=o.return}if(a==null)throw Error(r(160));switch(a.tag){case 27:var h=a.stateNode,f=od(e);vc(e,f,h);break;case 5:var g=a.stateNode;a.flags&32&&(wn(g,""),a.flags&=-33);var E=od(e);vc(e,E,g);break;case 3:case 4:var C=a.stateNode.containerInfo,z=od(e);ld(e,z,C);break;default:throw Error(r(161))}}catch(Q){ae(e,e.return,Q)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function qy(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;qy(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function ps(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)Ly(e,n.alternate,n),n=n.sibling}function sa(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:Js(4,n,n.return),sa(n);break;case 1:zi(n,n.return);var a=n.stateNode;typeof a.componentWillUnmount=="function"&&Dy(n,n.return,a),sa(n);break;case 27:Dl(n.stateNode);case 26:case 5:zi(n,n.return),sa(n);break;case 22:n.memoizedState===null&&sa(n);break;case 30:sa(n);break;default:sa(n)}e=e.sibling}}function ys(e,n,a){for(a=a&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var o=n.alternate,h=e,f=n,g=f.flags;switch(f.tag){case 0:case 11:case 15:ys(h,f,a),Tl(4,f);break;case 1:if(ys(h,f,a),o=f,h=o.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(z){ae(o,o.return,z)}if(o=f,h=o.updateQueue,h!==null){var E=o.stateNode;try{var C=h.shared.hiddenCallbacks;if(C!==null)for(h.shared.hiddenCallbacks=null,h=0;h<C.length;h++)vp(C[h],E)}catch(z){ae(o,o.return,z)}}a&&g&64&&Ny(f),Al(f,f.return);break;case 27:Vy(f);case 26:case 5:ys(h,f,a),a&&o===null&&g&4&&My(f),Al(f,f.return);break;case 12:ys(h,f,a);break;case 31:ys(h,f,a),a&&g&4&&jy(h,f);break;case 13:ys(h,f,a),a&&g&4&&zy(h,f);break;case 22:f.memoizedState===null&&ys(h,f,a),Al(f,f.return);break;case 30:break;default:ys(h,f,a)}n=n.sibling}}function cd(e,n){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&ll(a))}function hd(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&ll(e))}function yi(e,n,a,o){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Hy(e,n,a,o),n=n.sibling}function Hy(e,n,a,o){var h=n.flags;switch(n.tag){case 0:case 11:case 15:yi(e,n,a,o),h&2048&&Tl(9,n);break;case 1:yi(e,n,a,o);break;case 3:yi(e,n,a,o),h&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&ll(e)));break;case 12:if(h&2048){yi(e,n,a,o),e=n.stateNode;try{var f=n.memoizedProps,g=f.id,E=f.onPostCommit;typeof E=="function"&&E(g,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(C){ae(n,n.return,C)}}else yi(e,n,a,o);break;case 31:yi(e,n,a,o);break;case 13:yi(e,n,a,o);break;case 23:break;case 22:f=n.stateNode,g=n.alternate,n.memoizedState!==null?f._visibility&2?yi(e,n,a,o):Sl(e,n):f._visibility&2?yi(e,n,a,o):(f._visibility|=2,Za(e,n,a,o,(n.subtreeFlags&10256)!==0||!1)),h&2048&&cd(g,n);break;case 24:yi(e,n,a,o),h&2048&&hd(n.alternate,n);break;default:yi(e,n,a,o)}}function Za(e,n,a,o,h){for(h=h&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=e,g=n,E=a,C=o,z=g.flags;switch(g.tag){case 0:case 11:case 15:Za(f,g,E,C,h),Tl(8,g);break;case 23:break;case 22:var Q=g.stateNode;g.memoizedState!==null?Q._visibility&2?Za(f,g,E,C,h):Sl(f,g):(Q._visibility|=2,Za(f,g,E,C,h)),h&&z&2048&&cd(g.alternate,g);break;case 24:Za(f,g,E,C,h),h&&z&2048&&hd(g.alternate,g);break;default:Za(f,g,E,C,h)}n=n.sibling}}function Sl(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var a=e,o=n,h=o.flags;switch(o.tag){case 22:Sl(a,o),h&2048&&cd(o.alternate,o);break;case 24:Sl(a,o),h&2048&&hd(o.alternate,o);break;default:Sl(a,o)}n=n.sibling}}var bl=8192;function Ja(e,n,a){if(e.subtreeFlags&bl)for(e=e.child;e!==null;)Fy(e,n,a),e=e.sibling}function Fy(e,n,a){switch(e.tag){case 26:Ja(e,n,a),e.flags&bl&&e.memoizedState!==null&&kA(a,pi,e.memoizedState,e.memoizedProps);break;case 5:Ja(e,n,a);break;case 3:case 4:var o=pi;pi=Vc(e.stateNode.containerInfo),Ja(e,n,a),pi=o;break;case 22:e.memoizedState===null&&(o=e.alternate,o!==null&&o.memoizedState!==null?(o=bl,bl=16777216,Ja(e,n,a),bl=o):Ja(e,n,a));break;default:Ja(e,n,a)}}function Gy(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function wl(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var o=n[a];Je=o,Yy(o,e)}Gy(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Qy(e),e=e.sibling}function Qy(e){switch(e.tag){case 0:case 11:case 15:wl(e),e.flags&2048&&Js(9,e,e.return);break;case 3:wl(e);break;case 12:wl(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,Tc(e)):wl(e);break;default:wl(e)}}function Tc(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var o=n[a];Je=o,Yy(o,e)}Gy(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:Js(8,n,n.return),Tc(n);break;case 22:a=n.stateNode,a._visibility&2&&(a._visibility&=-3,Tc(n));break;default:Tc(n)}e=e.sibling}}function Yy(e,n){for(;Je!==null;){var a=Je;switch(a.tag){case 0:case 11:case 15:Js(8,a,n);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var o=a.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:ll(a.memoizedState.cache)}if(o=a.child,o!==null)o.return=a,Je=o;else t:for(a=e;Je!==null;){o=Je;var h=o.sibling,f=o.return;if(ky(o),o===a){Je=null;break t}if(h!==null){h.return=f,Je=h;break t}Je=f}}}var J1={getCacheForType:function(e){var n=an(je),a=n.data.get(e);return a===void 0&&(a=e(),n.data.set(e,a)),a},cacheSignal:function(){return an(je).controller.signal}},W1=typeof WeakMap=="function"?WeakMap:Map,ne=0,pe=null,Lt=null,jt=0,re=0,zn=null,Ws=!1,Wa=!1,fd=!1,_s=0,De=0,tr=0,ra=0,dd=0,Bn=0,to=0,Rl=null,xn=null,md=!1,Ac=0,Ky=0,Sc=1/0,bc=null,er=null,Xe=0,nr=null,eo=null,vs=0,gd=0,pd=null,Xy=null,Il=0,yd=null;function qn(){return(ne&2)!==0&&jt!==0?jt&-jt:G.T!==null?Sd():_t()}function $y(){if(Bn===0)if((jt&536870912)===0||Qt){var e=wi;wi<<=1,(wi&3932160)===0&&(wi=262144),Bn=e}else Bn=536870912;return e=Pn.current,e!==null&&(e.flags|=32),Bn}function Nn(e,n,a){(e===pe&&(re===2||re===9)||e.cancelPendingCommit!==null)&&(no(e,0),ir(e,jt,Bn,!1)),es(e,a),((ne&2)===0||e!==pe)&&(e===pe&&((ne&2)===0&&(ra|=a),De===4&&ir(e,jt,Bn,!1)),Bi(e))}function Zy(e,n,a){if((ne&6)!==0)throw Error(r(327));var o=!a&&(n&127)===0&&(n&e.expiredLanes)===0||On(e,n),h=o?nA(e,n):vd(e,n,!0),f=o;do{if(h===0){Wa&&!o&&ir(e,n,0,!1);break}else{if(a=e.current.alternate,f&&!tA(a)){h=vd(e,n,!1),f=!1;continue}if(h===2){if(f=n,e.errorRecoveryDisabledLanes&f)var g=0;else g=e.pendingLanes&-536870913,g=g!==0?g:g&536870912?536870912:0;if(g!==0){n=g;t:{var E=e;h=Rl;var C=E.current.memoizedState.isDehydrated;if(C&&(no(E,g).flags|=256),g=vd(E,g,!1),g!==2){if(fd&&!C){E.errorRecoveryDisabledLanes|=f,ra|=f,h=4;break t}f=xn,xn=h,f!==null&&(xn===null?xn=f:xn.push.apply(xn,f))}h=g}if(f=!1,h!==2)continue}}if(h===1){no(e,0),ir(e,n,0,!0);break}t:{switch(o=e,f=h,f){case 0:case 1:throw Error(r(345));case 4:if((n&4194048)!==n)break;case 6:ir(o,n,Bn,!Ws);break t;case 2:xn=null;break;case 3:case 5:break;default:throw Error(r(329))}if((n&62914560)===n&&(h=Ac+300-en(),10<h)){if(ir(o,n,Bn,!Ws),Xn(o,0,!0)!==0)break t;vs=n,o.timeoutHandle=C_(Jy.bind(null,o,a,xn,bc,md,n,Bn,ra,to,Ws,f,"Throttled",-0,0),h);break t}Jy(o,a,xn,bc,md,n,Bn,ra,to,Ws,f,null,-0,0)}}break}while(!0);Bi(e)}function Jy(e,n,a,o,h,f,g,E,C,z,Q,$,B,H){if(e.timeoutHandle=-1,$=n.subtreeFlags,$&8192||($&16785408)===16785408){$={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ci},Fy(n,f,$);var ht=(f&62914560)===f?Ac-en():(f&4194048)===f?Ky-en():0;if(ht=PA($,ht),ht!==null){vs=f,e.cancelPendingCommit=ht(a_.bind(null,e,n,f,a,o,h,g,E,C,Q,$,null,B,H)),ir(e,f,g,!z);return}}a_(e,n,f,a,o,h,g,E,C)}function tA(e){for(var n=e;;){var a=n.tag;if((a===0||a===11||a===15)&&n.flags&16384&&(a=n.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var o=0;o<a.length;o++){var h=a[o],f=h.getSnapshot;h=h.value;try{if(!Ln(f(),h))return!1}catch{return!1}}if(a=n.child,n.subtreeFlags&16384&&a!==null)a.return=n,n=a;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function ir(e,n,a,o){n&=~dd,n&=~ra,e.suspendedLanes|=n,e.pingedLanes&=~n,o&&(e.warmLanes|=n),o=e.expirationTimes;for(var h=n;0<h;){var f=31-ye(h),g=1<<f;o[f]=-1,h&=~g}a!==0&&ns(e,a,n)}function wc(){return(ne&6)===0?(Cl(0),!1):!0}function _d(){if(Lt!==null){if(re===0)var e=Lt.return;else e=Lt,ls=$r=null,Vf(e),Qa=null,cl=0,e=Lt;for(;e!==null;)xy(e.alternate,e),e=e.return;Lt=null}}function no(e,n){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,EA(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),vs=0,_d(),pe=e,Lt=a=as(e.current,null),jt=n,re=0,zn=null,Ws=!1,Wa=On(e,n),fd=!1,to=Bn=dd=ra=tr=De=0,xn=Rl=null,md=!1,(n&8)!==0&&(n|=n&32);var o=e.entangledLanes;if(o!==0)for(e=e.entanglements,o&=n;0<o;){var h=31-ye(o),f=1<<h;n|=e[h],o&=~f}return _s=n,Qu(),a}function Wy(e,n){Mt=null,G.H=_l,n===Ga||n===tc?(n=gp(),re=3):n===Af?(n=gp(),re=4):re=n===$f?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,zn=n,Lt===null&&(De=1,mc(e,ni(n,e.current)))}function t_(){var e=Pn.current;return e===null?!0:(jt&4194048)===jt?ai===null:(jt&62914560)===jt||(jt&536870912)!==0?e===ai:!1}function e_(){var e=G.H;return G.H=_l,e===null?_l:e}function n_(){var e=G.A;return G.A=J1,e}function Rc(){De=4,Ws||(jt&4194048)!==jt&&Pn.current!==null||(Wa=!0),(tr&134217727)===0&&(ra&134217727)===0||pe===null||ir(pe,jt,Bn,!1)}function vd(e,n,a){var o=ne;ne|=2;var h=e_(),f=n_();(pe!==e||jt!==n)&&(bc=null,no(e,n)),n=!1;var g=De;t:do try{if(re!==0&&Lt!==null){var E=Lt,C=zn;switch(re){case 8:_d(),g=6;break t;case 3:case 2:case 9:case 6:Pn.current===null&&(n=!0);var z=re;if(re=0,zn=null,io(e,E,C,z),a&&Wa){g=0;break t}break;default:z=re,re=0,zn=null,io(e,E,C,z)}}eA(),g=De;break}catch(Q){Wy(e,Q)}while(!0);return n&&e.shellSuspendCounter++,ls=$r=null,ne=o,G.H=h,G.A=f,Lt===null&&(pe=null,jt=0,Qu()),g}function eA(){for(;Lt!==null;)i_(Lt)}function nA(e,n){var a=ne;ne|=2;var o=e_(),h=n_();pe!==e||jt!==n?(bc=null,Sc=en()+500,no(e,n)):Wa=On(e,n);t:do try{if(re!==0&&Lt!==null){n=Lt;var f=zn;e:switch(re){case 1:re=0,zn=null,io(e,n,f,1);break;case 2:case 9:if(dp(f)){re=0,zn=null,s_(n);break}n=function(){re!==2&&re!==9||pe!==e||(re=7),Bi(e)},f.then(n,n);break t;case 3:re=7;break t;case 4:re=5;break t;case 7:dp(f)?(re=0,zn=null,s_(n)):(re=0,zn=null,io(e,n,f,7));break;case 5:var g=null;switch(Lt.tag){case 26:g=Lt.memoizedState;case 5:case 27:var E=Lt;if(g?H_(g):E.stateNode.complete){re=0,zn=null;var C=E.sibling;if(C!==null)Lt=C;else{var z=E.return;z!==null?(Lt=z,Ic(z)):Lt=null}break e}}re=0,zn=null,io(e,n,f,5);break;case 6:re=0,zn=null,io(e,n,f,6);break;case 8:_d(),De=6;break t;default:throw Error(r(462))}}iA();break}catch(Q){Wy(e,Q)}while(!0);return ls=$r=null,G.H=o,G.A=h,ne=a,Lt!==null?0:(pe=null,jt=0,Qu(),De)}function iA(){for(;Lt!==null&&!Po();)i_(Lt)}function i_(e){var n=Iy(e.alternate,e,_s);e.memoizedProps=e.pendingProps,n===null?Ic(e):Lt=n}function s_(e){var n=e,a=n.alternate;switch(n.tag){case 15:case 0:n=Ty(a,n,n.pendingProps,n.type,void 0,jt);break;case 11:n=Ty(a,n,n.pendingProps,n.type.render,n.ref,jt);break;case 5:Vf(n);default:xy(a,n),n=Lt=np(n,_s),n=Iy(a,n,_s)}e.memoizedProps=e.pendingProps,n===null?Ic(e):Lt=n}function io(e,n,a,o){ls=$r=null,Vf(n),Qa=null,cl=0;var h=n.return;try{if(G1(e,h,n,a,jt)){De=1,mc(e,ni(a,e.current)),Lt=null;return}}catch(f){if(h!==null)throw Lt=h,f;De=1,mc(e,ni(a,e.current)),Lt=null;return}n.flags&32768?(Qt||o===1?e=!0:Wa||(jt&536870912)!==0?e=!1:(Ws=e=!0,(o===2||o===9||o===3||o===6)&&(o=Pn.current,o!==null&&o.tag===13&&(o.flags|=16384))),r_(n,e)):Ic(n)}function Ic(e){var n=e;do{if((n.flags&32768)!==0){r_(n,Ws);return}e=n.return;var a=K1(n.alternate,n,_s);if(a!==null){Lt=a;return}if(n=n.sibling,n!==null){Lt=n;return}Lt=n=e}while(n!==null);De===0&&(De=5)}function r_(e,n){do{var a=X1(e.alternate,e);if(a!==null){a.flags&=32767,Lt=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!n&&(e=e.sibling,e!==null)){Lt=e;return}Lt=e=a}while(e!==null);De=6,Lt=null}function a_(e,n,a,o,h,f,g,E,C){e.cancelPendingCommit=null;do Cc();while(Xe!==0);if((ne&6)!==0)throw Error(r(327));if(n!==null){if(n===e.current)throw Error(r(177));if(f=n.lanes|n.childLanes,f|=of,zo(e,a,f,g,E,C),e===pe&&(Lt=pe=null,jt=0),eo=n,nr=e,vs=a,gd=f,pd=h,Xy=o,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,oA(An,function(){return h_(),null})):(e.callbackNode=null,e.callbackPriority=0),o=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||o){o=G.T,G.T=null,h=at.p,at.p=2,g=ne,ne|=4;try{$1(e,n,a)}finally{ne=g,at.p=h,G.T=o}}Xe=1,o_(),l_(),u_()}}function o_(){if(Xe===1){Xe=0;var e=nr,n=eo,a=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||a){a=G.T,G.T=null;var o=at.p;at.p=2;var h=ne;ne|=4;try{By(n,e);var f=Dd,g=Yg(e.containerInfo),E=f.focusedElem,C=f.selectionRange;if(g!==E&&E&&E.ownerDocument&&Qg(E.ownerDocument.documentElement,E)){if(C!==null&&ef(E)){var z=C.start,Q=C.end;if(Q===void 0&&(Q=z),"selectionStart"in E)E.selectionStart=z,E.selectionEnd=Math.min(Q,E.value.length);else{var $=E.ownerDocument||document,B=$&&$.defaultView||window;if(B.getSelection){var H=B.getSelection(),ht=E.textContent.length,vt=Math.min(C.start,ht),ce=C.end===void 0?vt:Math.min(C.end,ht);!H.extend&&vt>ce&&(g=ce,ce=vt,vt=g);var k=Gg(E,vt),M=Gg(E,ce);if(k&&M&&(H.rangeCount!==1||H.anchorNode!==k.node||H.anchorOffset!==k.offset||H.focusNode!==M.node||H.focusOffset!==M.offset)){var j=$.createRange();j.setStart(k.node,k.offset),H.removeAllRanges(),vt>ce?(H.addRange(j),H.extend(M.node,M.offset)):(j.setEnd(M.node,M.offset),H.addRange(j))}}}}for($=[],H=E;H=H.parentNode;)H.nodeType===1&&$.push({element:H,left:H.scrollLeft,top:H.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<$.length;E++){var X=$[E];X.element.scrollLeft=X.left,X.element.scrollTop=X.top}}zc=!!Nd,Dd=Nd=null}finally{ne=h,at.p=o,G.T=a}}e.current=n,Xe=2}}function l_(){if(Xe===2){Xe=0;var e=nr,n=eo,a=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||a){a=G.T,G.T=null;var o=at.p;at.p=2;var h=ne;ne|=4;try{Ly(e,n.alternate,n)}finally{ne=h,at.p=o,G.T=a}}Xe=3}}function u_(){if(Xe===4||Xe===3){Xe=0,Ms();var e=nr,n=eo,a=vs,o=Xy;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Xe=5:(Xe=0,eo=nr=null,c_(e,e.pendingLanes));var h=e.pendingLanes;if(h===0&&(er=null),it(a),n=n.stateNode,Ye&&typeof Ye.onCommitFiberRoot=="function")try{Ye.onCommitFiberRoot(Sn,n,void 0,(n.current.flags&128)===128)}catch{}if(o!==null){n=G.T,h=at.p,at.p=2,G.T=null;try{for(var f=e.onRecoverableError,g=0;g<o.length;g++){var E=o[g];f(E.value,{componentStack:E.stack})}}finally{G.T=n,at.p=h}}(vs&3)!==0&&Cc(),Bi(e),h=e.pendingLanes,(a&261930)!==0&&(h&42)!==0?e===yd?Il++:(Il=0,yd=e):Il=0,Cl(0)}}function c_(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,ll(n)))}function Cc(){return o_(),l_(),u_(),h_()}function h_(){if(Xe!==5)return!1;var e=nr,n=gd;gd=0;var a=it(vs),o=G.T,h=at.p;try{at.p=32>a?32:a,G.T=null,a=pd,pd=null;var f=nr,g=vs;if(Xe=0,eo=nr=null,vs=0,(ne&6)!==0)throw Error(r(331));var E=ne;if(ne|=4,Qy(f.current),Hy(f,f.current,g,a),ne=E,Cl(0,!1),Ye&&typeof Ye.onPostCommitFiberRoot=="function")try{Ye.onPostCommitFiberRoot(Sn,f)}catch{}return!0}finally{at.p=h,G.T=o,c_(e,n)}}function f_(e,n,a){n=ni(a,n),n=Xf(e.stateNode,n,2),e=Xs(e,n,2),e!==null&&(es(e,2),Bi(e))}function ae(e,n,a){if(e.tag===3)f_(e,e,a);else for(;n!==null;){if(n.tag===3){f_(n,e,a);break}else if(n.tag===1){var o=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(er===null||!er.has(o))){e=ni(a,e),a=dy(2),o=Xs(n,a,2),o!==null&&(my(a,o,n,e),es(o,2),Bi(o));break}}n=n.return}}function Ed(e,n,a){var o=e.pingCache;if(o===null){o=e.pingCache=new W1;var h=new Set;o.set(n,h)}else h=o.get(n),h===void 0&&(h=new Set,o.set(n,h));h.has(a)||(fd=!0,h.add(a),e=sA.bind(null,e,n,a),n.then(e,e))}function sA(e,n,a){var o=e.pingCache;o!==null&&o.delete(n),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,pe===e&&(jt&a)===a&&(De===4||De===3&&(jt&62914560)===jt&&300>en()-Ac?(ne&2)===0&&no(e,0):dd|=a,to===jt&&(to=0)),Bi(e)}function d_(e,n){n===0&&(n=Aa()),e=Yr(e,n),e!==null&&(es(e,n),Bi(e))}function rA(e){var n=e.memoizedState,a=0;n!==null&&(a=n.retryLane),d_(e,a)}function aA(e,n){var a=0;switch(e.tag){case 31:case 13:var o=e.stateNode,h=e.memoizedState;h!==null&&(a=h.retryLane);break;case 19:o=e.stateNode;break;case 22:o=e.stateNode._retryCache;break;default:throw Error(r(314))}o!==null&&o.delete(n),d_(e,a)}function oA(e,n){return Me(e,n)}var xc=null,so=null,Td=!1,Nc=!1,Ad=!1,sr=0;function Bi(e){e!==so&&e.next===null&&(so===null?xc=so=e:so=so.next=e),Nc=!0,Td||(Td=!0,uA())}function Cl(e,n){if(!Ad&&Nc){Ad=!0;do for(var a=!1,o=xc;o!==null;){if(e!==0){var h=o.pendingLanes;if(h===0)var f=0;else{var g=o.suspendedLanes,E=o.pingedLanes;f=(1<<31-ye(42|e)+1)-1,f&=h&~(g&~E),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(a=!0,y_(o,f))}else f=jt,f=Xn(o,o===pe?f:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(f&3)===0||On(o,f)||(a=!0,y_(o,f));o=o.next}while(a);Ad=!1}}function lA(){m_()}function m_(){Nc=Td=!1;var e=0;sr!==0&&vA()&&(e=sr);for(var n=en(),a=null,o=xc;o!==null;){var h=o.next,f=g_(o,n);f===0?(o.next=null,a===null?xc=h:a.next=h,h===null&&(so=a)):(a=o,(e!==0||(f&3)!==0)&&(Nc=!0)),o=h}Xe!==0&&Xe!==5||Cl(e),sr!==0&&(sr=0)}function g_(e,n){for(var a=e.suspendedLanes,o=e.pingedLanes,h=e.expirationTimes,f=e.pendingLanes&-62914561;0<f;){var g=31-ye(f),E=1<<g,C=h[g];C===-1?((E&a)===0||(E&o)!==0)&&(h[g]=jo(E,n)):C<=n&&(e.expiredLanes|=E),f&=~E}if(n=pe,a=jt,a=Xn(e,e===n?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o=e.callbackNode,a===0||e===n&&(re===2||re===9)||e.cancelPendingCommit!==null)return o!==null&&o!==null&&bi(o),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||On(e,a)){if(n=a&-a,n===e.callbackPriority)return n;switch(o!==null&&bi(o),it(a)){case 2:case 8:a=Or;break;case 32:a=An;break;case 268435456:a=Vr;break;default:a=An}return o=p_.bind(null,e),a=Me(a,o),e.callbackPriority=n,e.callbackNode=a,n}return o!==null&&o!==null&&bi(o),e.callbackPriority=2,e.callbackNode=null,2}function p_(e,n){if(Xe!==0&&Xe!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(Cc()&&e.callbackNode!==a)return null;var o=jt;return o=Xn(e,e===pe?o:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o===0?null:(Zy(e,o,n),g_(e,en()),e.callbackNode!=null&&e.callbackNode===a?p_.bind(null,e):null)}function y_(e,n){if(Cc())return null;Zy(e,n,!0)}function uA(){TA(function(){(ne&6)!==0?Me(Mr,lA):m_()})}function Sd(){if(sr===0){var e=Ha;e===0&&(e=Mn,Mn<<=1,(Mn&261888)===0&&(Mn=256)),sr=e}return sr}function __(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Ca(""+e)}function v_(e,n){var a=n.ownerDocument.createElement("input");return a.name=n.name,a.value=n.value,e.id&&a.setAttribute("form",e.id),n.parentNode.insertBefore(a,n),e=new FormData(e),a.parentNode.removeChild(a),e}function cA(e,n,a,o,h){if(n==="submit"&&a&&a.stateNode===h){var f=__((h[At]||null).action),g=o.submitter;g&&(n=(n=g[At]||null)?__(n.formAction):g.getAttribute("formAction"),n!==null&&(f=n,g=null));var E=new Vi("action","action",null,o,h);e.push({event:E,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(sr!==0){var C=g?v_(h,g):new FormData(h);Hf(a,{pending:!0,data:C,method:h.method,action:f},null,C)}}else typeof f=="function"&&(E.preventDefault(),C=g?v_(h,g):new FormData(h),Hf(a,{pending:!0,data:C,method:h.method,action:f},f,C))},currentTarget:h}]})}}for(var bd=0;bd<af.length;bd++){var wd=af[bd],hA=wd.toLowerCase(),fA=wd[0].toUpperCase()+wd.slice(1);gi(hA,"on"+fA)}gi($g,"onAnimationEnd"),gi(Zg,"onAnimationIteration"),gi(Jg,"onAnimationStart"),gi("dblclick","onDoubleClick"),gi("focusin","onFocus"),gi("focusout","onBlur"),gi(C1,"onTransitionRun"),gi(x1,"onTransitionStart"),gi(N1,"onTransitionCancel"),gi(Wg,"onTransitionEnd"),Ni("onMouseEnter",["mouseout","mouseover"]),Ni("onMouseLeave",["mouseout","mouseover"]),Ni("onPointerEnter",["pointerout","pointerover"]),Ni("onPointerLeave",["pointerout","pointerover"]),xi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),xi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),xi("onBeforeInput",["compositionend","keypress","textInput","paste"]),xi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),xi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),xi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var xl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),dA=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(xl));function E_(e,n){n=(n&4)!==0;for(var a=0;a<e.length;a++){var o=e[a],h=o.event;o=o.listeners;t:{var f=void 0;if(n)for(var g=o.length-1;0<=g;g--){var E=o[g],C=E.instance,z=E.currentTarget;if(E=E.listener,C!==f&&h.isPropagationStopped())break t;f=E,h.currentTarget=z;try{f(h)}catch(Q){Gu(Q)}h.currentTarget=null,f=C}else for(g=0;g<o.length;g++){if(E=o[g],C=E.instance,z=E.currentTarget,E=E.listener,C!==f&&h.isPropagationStopped())break t;f=E,h.currentTarget=z;try{f(h)}catch(Q){Gu(Q)}h.currentTarget=null,f=C}}}}function kt(e,n){var a=n[xe];a===void 0&&(a=n[xe]=new Set);var o=e+"__bubble";a.has(o)||(T_(n,e,2,!1),a.add(o))}function Rd(e,n,a){var o=0;n&&(o|=4),T_(a,e,o,n)}var Dc="_reactListening"+Math.random().toString(36).slice(2);function Id(e){if(!e[Dc]){e[Dc]=!0,Bo.forEach(function(a){a!=="selectionchange"&&(dA.has(a)||Rd(a,!1,e),Rd(a,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[Dc]||(n[Dc]=!0,Rd("selectionchange",!1,n))}}function T_(e,n,a,o){switch($_(n)){case 2:var h=BA;break;case 8:h=qA;break;default:h=qd}a=h.bind(null,n,a,e),h=void 0,!jr||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),o?h!==void 0?e.addEventListener(n,a,{capture:!0,passive:h}):e.addEventListener(n,a,!0):h!==void 0?e.addEventListener(n,a,{passive:h}):e.addEventListener(n,a,!1)}function Cd(e,n,a,o,h){var f=o;if((n&1)===0&&(n&2)===0&&o!==null)t:for(;;){if(o===null)return;var g=o.tag;if(g===3||g===4){var E=o.stateNode.containerInfo;if(E===h)break;if(g===4)for(g=o.return;g!==null;){var C=g.tag;if((C===3||C===4)&&g.stateNode.containerInfo===h)return;g=g.return}for(;E!==null;){if(g=Ii(E),g===null)return;if(C=g.tag,C===5||C===6||C===26||C===27){o=f=g;continue t}E=E.parentNode}}o=o.return}js(function(){var z=f,Q=Jn(a),$=[];t:{var B=tp.get(e);if(B!==void 0){var H=Vi,ht=e;switch(e){case"keypress":if(Br(a)===0)break t;case"keydown":case"keyup":H=qu;break;case"focusin":ht="focus",H=Hr;break;case"focusout":ht="blur",H=Hr;break;case"beforeblur":case"afterblur":H=Hr;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":H=tl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":H=Ou;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":H=m;break;case $g:case Zg:case Jg:H=Uu;break;case Wg:H=T;break;case"scroll":case"scrollend":H=Wo;break;case"wheel":H=q;break;case"copy":case"cut":case"paste":H=Lu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":H=rs;break;case"toggle":case"beforetoggle":H=Dt}var vt=(n&4)!==0,ce=!vt&&(e==="scroll"||e==="scrollend"),k=vt?B!==null?B+"Capture":null:B;vt=[];for(var M=z,j;M!==null;){var X=M;if(j=X.stateNode,X=X.tag,X!==5&&X!==26&&X!==27||j===null||k===null||(X=hi(M,k),X!=null&&vt.push(Nl(M,X,j))),ce)break;M=M.return}0<vt.length&&(B=new H(B,ht,null,a,Q),$.push({event:B,listeners:vt}))}}if((n&7)===0){t:{if(B=e==="mouseover"||e==="pointerover",H=e==="mouseout"||e==="pointerout",B&&a!==$o&&(ht=a.relatedTarget||a.fromElement)&&(Ii(ht)||ht[Ct]))break t;if((H||B)&&(B=Q.window===Q?Q:(B=Q.ownerDocument)?B.defaultView||B.parentWindow:window,H?(ht=a.relatedTarget||a.toElement,H=z,ht=ht?Ii(ht):null,ht!==null&&(ce=c(ht),vt=ht.tag,ht!==ce||vt!==5&&vt!==27&&vt!==6)&&(ht=null)):(H=null,ht=z),H!==ht)){if(vt=tl,X="onMouseLeave",k="onMouseEnter",M="mouse",(e==="pointerout"||e==="pointerover")&&(vt=rs,X="onPointerLeave",k="onPointerEnter",M="pointer"),ce=H==null?B:Vn(H),j=ht==null?B:Vn(ht),B=new vt(X,M+"leave",H,a,Q),B.target=ce,B.relatedTarget=j,X=null,Ii(Q)===z&&(vt=new vt(k,M+"enter",ht,a,Q),vt.target=j,vt.relatedTarget=ce,X=vt),ce=X,H&&ht)e:{for(vt=mA,k=H,M=ht,j=0,X=k;X;X=vt(X))j++;X=0;for(var mt=M;mt;mt=vt(mt))X++;for(;0<j-X;)k=vt(k),j--;for(;0<X-j;)M=vt(M),X--;for(;j--;){if(k===M||M!==null&&k===M.alternate){vt=k;break e}k=vt(k),M=vt(M)}vt=null}else vt=null;H!==null&&A_($,B,H,vt,!1),ht!==null&&ce!==null&&A_($,ce,ht,vt,!0)}}t:{if(B=z?Vn(z):window,H=B.nodeName&&B.nodeName.toLowerCase(),H==="select"||H==="input"&&B.type==="file")var Jt=jg;else if(kg(B))if(zg)Jt=w1;else{Jt=S1;var ft=A1}else H=B.nodeName,!H||H.toLowerCase()!=="input"||B.type!=="checkbox"&&B.type!=="radio"?z&&Ia(z.elementType)&&(Jt=jg):Jt=b1;if(Jt&&(Jt=Jt(e,z))){Pg($,Jt,a,Q);break t}ft&&ft(e,B,z),e==="focusout"&&z&&B.type==="number"&&z.memoizedProps.value!=null&&Yo(B,"number",B.value)}switch(ft=z?Vn(z):window,e){case"focusin":(kg(ft)||ft.contentEditable==="true")&&(Ua=ft,nf=z,rl=null);break;case"focusout":rl=nf=Ua=null;break;case"mousedown":sf=!0;break;case"contextmenu":case"mouseup":case"dragend":sf=!1,Kg($,a,Q);break;case"selectionchange":if(I1)break;case"keydown":case"keyup":Kg($,a,Q)}var Vt;if(ee)t:{switch(e){case"compositionstart":var zt="onCompositionStart";break t;case"compositionend":zt="onCompositionEnd";break t;case"compositionupdate":zt="onCompositionUpdate";break t}zt=void 0}else Va?Fr(e,a)&&(zt="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(zt="onCompositionStart");zt&&(ki&&a.locale!=="ko"&&(Va||zt!=="onCompositionStart"?zt==="onCompositionEnd"&&Va&&(Vt=Jo()):(Oi=Q,Zo="value"in Oi?Oi.value:Oi.textContent,Va=!0)),ft=Mc(z,zt),0<ft.length&&(zt=new Li(zt,e,null,a,Q),$.push({event:zt,listeners:ft}),Vt?zt.data=Vt:(Vt=Oa(a),Vt!==null&&(zt.data=Vt)))),(Vt=ti?_1(e,a):v1(e,a))&&(zt=Mc(z,"onBeforeInput"),0<zt.length&&(ft=new Li("onBeforeInput","beforeinput",null,a,Q),$.push({event:ft,listeners:zt}),ft.data=Vt)),cA($,e,z,a,Q)}E_($,n)})}function Nl(e,n,a){return{instance:e,listener:n,currentTarget:a}}function Mc(e,n){for(var a=n+"Capture",o=[];e!==null;){var h=e,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=hi(e,a),h!=null&&o.unshift(Nl(e,h,f)),h=hi(e,n),h!=null&&o.push(Nl(e,h,f))),e.tag===3)return o;e=e.return}return[]}function mA(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function A_(e,n,a,o,h){for(var f=n._reactName,g=[];a!==null&&a!==o;){var E=a,C=E.alternate,z=E.stateNode;if(E=E.tag,C!==null&&C===o)break;E!==5&&E!==26&&E!==27||z===null||(C=z,h?(z=hi(a,f),z!=null&&g.unshift(Nl(a,z,C))):h||(z=hi(a,f),z!=null&&g.push(Nl(a,z,C)))),a=a.return}g.length!==0&&e.push({event:n,listeners:g})}var gA=/\r\n?/g,pA=/\u0000|\uFFFD/g;function S_(e){return(typeof e=="string"?e:""+e).replace(gA,`
`).replace(pA,"")}function b_(e,n){return n=S_(n),S_(e)===n}function ue(e,n,a,o,h,f){switch(a){case"children":typeof o=="string"?n==="body"||n==="textarea"&&o===""||wn(e,o):(typeof o=="number"||typeof o=="bigint")&&n!=="body"&&wn(e,""+o);break;case"className":Un(e,"class",o);break;case"tabIndex":Un(e,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":Un(e,a,o);break;case"style":Xo(e,o,f);break;case"data":if(n!=="object"){Un(e,"data",o);break}case"src":case"href":if(o===""&&(n!=="a"||a!=="href")){e.removeAttribute(a);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(a);break}o=Ca(""+o),e.setAttribute(a,o);break;case"action":case"formAction":if(typeof o=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(a==="formAction"?(n!=="input"&&ue(e,n,"name",h.name,h,null),ue(e,n,"formEncType",h.formEncType,h,null),ue(e,n,"formMethod",h.formMethod,h,null),ue(e,n,"formTarget",h.formTarget,h,null)):(ue(e,n,"encType",h.encType,h,null),ue(e,n,"method",h.method,h,null),ue(e,n,"target",h.target,h,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(a);break}o=Ca(""+o),e.setAttribute(a,o);break;case"onClick":o!=null&&(e.onclick=ci);break;case"onScroll":o!=null&&kt("scroll",e);break;case"onScrollEnd":o!=null&&kt("scrollend",e);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(r(61));if(a=o.__html,a!=null){if(h.children!=null)throw Error(r(60));e.innerHTML=a}}break;case"multiple":e.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":e.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){e.removeAttribute("xlink:href");break}a=Ca(""+o),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(a,""+o):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":o===!0?e.setAttribute(a,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(a,o):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?e.setAttribute(a,o):e.removeAttribute(a);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?e.removeAttribute(a):e.setAttribute(a,o);break;case"popover":kt("beforetoggle",e),kt("toggle",e),wa(e,"popover",o);break;case"xlinkActuate":Pe(e,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":Pe(e,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":Pe(e,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":Pe(e,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":Pe(e,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":Pe(e,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":Pe(e,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":Pe(e,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":Pe(e,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":wa(e,"is",o);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Mu.get(a)||a,wa(e,a,o))}}function xd(e,n,a,o,h,f){switch(a){case"style":Xo(e,o,f);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(r(61));if(a=o.__html,a!=null){if(h.children!=null)throw Error(r(60));e.innerHTML=a}}break;case"children":typeof o=="string"?wn(e,o):(typeof o=="number"||typeof o=="bigint")&&wn(e,""+o);break;case"onScroll":o!=null&&kt("scroll",e);break;case"onScrollEnd":o!=null&&kt("scrollend",e);break;case"onClick":o!=null&&(e.onclick=ci);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!qo.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),n=a.slice(2,h?a.length-7:void 0),f=e[At]||null,f=f!=null?f[a]:null,typeof f=="function"&&e.removeEventListener(n,f,h),typeof o=="function")){typeof f!="function"&&f!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(n,o,h);break t}a in e?e[a]=o:o===!0?e.setAttribute(a,""):wa(e,a,o)}}}function ln(e,n,a){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":kt("error",e),kt("load",e);var o=!1,h=!1,f;for(f in a)if(a.hasOwnProperty(f)){var g=a[f];if(g!=null)switch(f){case"src":o=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,n));default:ue(e,n,f,g,a,null)}}h&&ue(e,n,"srcSet",a.srcSet,a,null),o&&ue(e,n,"src",a.src,a,null);return;case"input":kt("invalid",e);var E=f=g=h=null,C=null,z=null;for(o in a)if(a.hasOwnProperty(o)){var Q=a[o];if(Q!=null)switch(o){case"name":h=Q;break;case"type":g=Q;break;case"checked":C=Q;break;case"defaultChecked":z=Q;break;case"value":f=Q;break;case"defaultValue":E=Q;break;case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(r(137,n));break;default:ue(e,n,o,Q,a,null)}}xu(e,f,E,C,z,g,h,!1);return;case"select":kt("invalid",e),o=g=f=null;for(h in a)if(a.hasOwnProperty(h)&&(E=a[h],E!=null))switch(h){case"value":f=E;break;case"defaultValue":g=E;break;case"multiple":o=E;default:ue(e,n,h,E,a,null)}n=f,a=g,e.multiple=!!o,n!=null?Us(e,!!o,n,!1):a!=null&&Us(e,!!o,a,!0);return;case"textarea":kt("invalid",e),f=h=o=null;for(g in a)if(a.hasOwnProperty(g)&&(E=a[g],E!=null))switch(g){case"value":o=E;break;case"defaultValue":h=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(r(91));break;default:ue(e,n,g,E,a,null)}Ls(e,o,h,f);return;case"option":for(C in a)if(a.hasOwnProperty(C)&&(o=a[C],o!=null))switch(C){case"selected":e.selected=o&&typeof o!="function"&&typeof o!="symbol";break;default:ue(e,n,C,o,a,null)}return;case"dialog":kt("beforetoggle",e),kt("toggle",e),kt("cancel",e),kt("close",e);break;case"iframe":case"object":kt("load",e);break;case"video":case"audio":for(o=0;o<xl.length;o++)kt(xl[o],e);break;case"image":kt("error",e),kt("load",e);break;case"details":kt("toggle",e);break;case"embed":case"source":case"link":kt("error",e),kt("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(z in a)if(a.hasOwnProperty(z)&&(o=a[z],o!=null))switch(z){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,n));default:ue(e,n,z,o,a,null)}return;default:if(Ia(n)){for(Q in a)a.hasOwnProperty(Q)&&(o=a[Q],o!==void 0&&xd(e,n,Q,o,a,void 0));return}}for(E in a)a.hasOwnProperty(E)&&(o=a[E],o!=null&&ue(e,n,E,o,a,null))}function yA(e,n,a,o){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,g=null,E=null,C=null,z=null,Q=null;for(H in a){var $=a[H];if(a.hasOwnProperty(H)&&$!=null)switch(H){case"checked":break;case"value":break;case"defaultValue":C=$;default:o.hasOwnProperty(H)||ue(e,n,H,null,o,$)}}for(var B in o){var H=o[B];if($=a[B],o.hasOwnProperty(B)&&(H!=null||$!=null))switch(B){case"type":f=H;break;case"name":h=H;break;case"checked":z=H;break;case"defaultChecked":Q=H;break;case"value":g=H;break;case"defaultValue":E=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(r(137,n));break;default:H!==$&&ue(e,n,B,H,o,$)}}Ra(e,g,E,C,z,Q,f,h);return;case"select":H=g=E=B=null;for(f in a)if(C=a[f],a.hasOwnProperty(f)&&C!=null)switch(f){case"value":break;case"multiple":H=C;default:o.hasOwnProperty(f)||ue(e,n,f,null,o,C)}for(h in o)if(f=o[h],C=a[h],o.hasOwnProperty(h)&&(f!=null||C!=null))switch(h){case"value":B=f;break;case"defaultValue":E=f;break;case"multiple":g=f;default:f!==C&&ue(e,n,h,f,o,C)}n=E,a=g,o=H,B!=null?Us(e,!!a,B,!1):!!o!=!!a&&(n!=null?Us(e,!!a,n,!0):Us(e,!!a,a?[]:"",!1));return;case"textarea":H=B=null;for(E in a)if(h=a[E],a.hasOwnProperty(E)&&h!=null&&!o.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:ue(e,n,E,null,o,h)}for(g in o)if(h=o[g],f=a[g],o.hasOwnProperty(g)&&(h!=null||f!=null))switch(g){case"value":B=h;break;case"defaultValue":H=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(r(91));break;default:h!==f&&ue(e,n,g,h,o,f)}Nu(e,B,H);return;case"option":for(var ht in a)if(B=a[ht],a.hasOwnProperty(ht)&&B!=null&&!o.hasOwnProperty(ht))switch(ht){case"selected":e.selected=!1;break;default:ue(e,n,ht,null,o,B)}for(C in o)if(B=o[C],H=a[C],o.hasOwnProperty(C)&&B!==H&&(B!=null||H!=null))switch(C){case"selected":e.selected=B&&typeof B!="function"&&typeof B!="symbol";break;default:ue(e,n,C,B,o,H)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var vt in a)B=a[vt],a.hasOwnProperty(vt)&&B!=null&&!o.hasOwnProperty(vt)&&ue(e,n,vt,null,o,B);for(z in o)if(B=o[z],H=a[z],o.hasOwnProperty(z)&&B!==H&&(B!=null||H!=null))switch(z){case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(r(137,n));break;default:ue(e,n,z,B,o,H)}return;default:if(Ia(n)){for(var ce in a)B=a[ce],a.hasOwnProperty(ce)&&B!==void 0&&!o.hasOwnProperty(ce)&&xd(e,n,ce,void 0,o,B);for(Q in o)B=o[Q],H=a[Q],!o.hasOwnProperty(Q)||B===H||B===void 0&&H===void 0||xd(e,n,Q,B,o,H);return}}for(var k in a)B=a[k],a.hasOwnProperty(k)&&B!=null&&!o.hasOwnProperty(k)&&ue(e,n,k,null,o,B);for($ in o)B=o[$],H=a[$],!o.hasOwnProperty($)||B===H||B==null&&H==null||ue(e,n,$,B,o,H)}function w_(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function _A(){if(typeof performance.getEntriesByType=="function"){for(var e=0,n=0,a=performance.getEntriesByType("resource"),o=0;o<a.length;o++){var h=a[o],f=h.transferSize,g=h.initiatorType,E=h.duration;if(f&&E&&w_(g)){for(g=0,E=h.responseEnd,o+=1;o<a.length;o++){var C=a[o],z=C.startTime;if(z>E)break;var Q=C.transferSize,$=C.initiatorType;Q&&w_($)&&(C=C.responseEnd,g+=Q*(C<E?1:(E-z)/(C-z)))}if(--o,n+=8*(f+g)/(h.duration/1e3),e++,10<e)break}}if(0<e)return n/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var Nd=null,Dd=null;function Oc(e){return e.nodeType===9?e:e.ownerDocument}function R_(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function I_(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function Md(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Od=null;function vA(){var e=window.event;return e&&e.type==="popstate"?e===Od?!1:(Od=e,!0):(Od=null,!1)}var C_=typeof setTimeout=="function"?setTimeout:void 0,EA=typeof clearTimeout=="function"?clearTimeout:void 0,x_=typeof Promise=="function"?Promise:void 0,TA=typeof queueMicrotask=="function"?queueMicrotask:typeof x_<"u"?function(e){return x_.resolve(null).then(e).catch(AA)}:C_;function AA(e){setTimeout(function(){throw e})}function rr(e){return e==="head"}function N_(e,n){var a=n,o=0;do{var h=a.nextSibling;if(e.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"||a==="/&"){if(o===0){e.removeChild(h),lo(n);return}o--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")o++;else if(a==="html")Dl(e.ownerDocument.documentElement);else if(a==="head"){a=e.ownerDocument.head,Dl(a);for(var f=a.firstChild;f;){var g=f.nextSibling,E=f.nodeName;f[Ri]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&f.rel.toLowerCase()==="stylesheet"||a.removeChild(f),f=g}}else a==="body"&&Dl(e.ownerDocument.body);a=h}while(a);lo(n)}function D_(e,n){var a=e;e=0;do{var o=a.nextSibling;if(a.nodeType===1?n?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(n?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),o&&o.nodeType===8)if(a=o.data,a==="/$"){if(e===0)break;e--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||e++;a=o}while(a)}function Vd(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var a=n;switch(n=n.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Vd(a),ba(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function SA(e,n,a,o){for(;e.nodeType===1;){var h=a;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!o&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(o){if(!e[Ri])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(f=e.getAttribute("rel"),f==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(f!==h.rel||e.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||e.getAttribute("title")!==(h.title==null?null:h.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(f=e.getAttribute("src"),(f!==(h.src==null?null:h.src)||e.getAttribute("type")!==(h.type==null?null:h.type)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&e.getAttribute("name")===f)return e}else return e;if(e=oi(e.nextSibling),e===null)break}return null}function bA(e,n,a){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=oi(e.nextSibling),e===null))return null;return e}function M_(e,n){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=oi(e.nextSibling),e===null))return null;return e}function Ud(e){return e.data==="$?"||e.data==="$~"}function Ld(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function wA(e,n){var a=e.ownerDocument;if(e.data==="$~")e._reactRetry=n;else if(e.data!=="$?"||a.readyState!=="loading")n();else{var o=function(){n(),a.removeEventListener("DOMContentLoaded",o)};a.addEventListener("DOMContentLoaded",o),e._reactRetry=o}}function oi(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return e}var kd=null;function O_(e){e=e.nextSibling;for(var n=0;e;){if(e.nodeType===8){var a=e.data;if(a==="/$"||a==="/&"){if(n===0)return oi(e.nextSibling);n--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||n++}e=e.nextSibling}return null}function V_(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(n===0)return e;n--}else a!=="/$"&&a!=="/&"||n++}e=e.previousSibling}return null}function U_(e,n,a){switch(n=Oc(a),e){case"html":if(e=n.documentElement,!e)throw Error(r(452));return e;case"head":if(e=n.head,!e)throw Error(r(453));return e;case"body":if(e=n.body,!e)throw Error(r(454));return e;default:throw Error(r(451))}}function Dl(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);ba(e)}var li=new Map,L_=new Set;function Vc(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Es=at.d;at.d={f:RA,r:IA,D:CA,C:xA,L:NA,m:DA,X:OA,S:MA,M:VA};function RA(){var e=Es.f(),n=wc();return e||n}function IA(e){var n=Zn(e);n!==null&&n.tag===5&&n.type==="form"?Wp(n):Es.r(e)}var ro=typeof document>"u"?null:document;function k_(e,n,a){var o=ro;if(o&&typeof n=="string"&&n){var h=bn(n);h='link[rel="'+e+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),L_.has(h)||(L_.add(h),e={rel:e,crossOrigin:a,href:n},o.querySelector(h)===null&&(n=o.createElement("link"),ln(n,"link",e),ke(n),o.head.appendChild(n)))}}function CA(e){Es.D(e),k_("dns-prefetch",e,null)}function xA(e,n){Es.C(e,n),k_("preconnect",e,n)}function NA(e,n,a){Es.L(e,n,a);var o=ro;if(o&&e&&n){var h='link[rel="preload"][as="'+bn(n)+'"]';n==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+bn(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+bn(a.imageSizes)+'"]')):h+='[href="'+bn(e)+'"]';var f=h;switch(n){case"style":f=ao(e);break;case"script":f=oo(e)}li.has(f)||(e=b({rel:"preload",href:n==="image"&&a&&a.imageSrcSet?void 0:e,as:n},a),li.set(f,e),o.querySelector(h)!==null||n==="style"&&o.querySelector(Ml(f))||n==="script"&&o.querySelector(Ol(f))||(n=o.createElement("link"),ln(n,"link",e),ke(n),o.head.appendChild(n)))}}function DA(e,n){Es.m(e,n);var a=ro;if(a&&e){var o=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+bn(o)+'"][href="'+bn(e)+'"]',f=h;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=oo(e)}if(!li.has(f)&&(e=b({rel:"modulepreload",href:e},n),li.set(f,e),a.querySelector(h)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Ol(f)))return}o=a.createElement("link"),ln(o,"link",e),ke(o),a.head.appendChild(o)}}}function MA(e,n,a){Es.S(e,n,a);var o=ro;if(o&&e){var h=Ci(o).hoistableStyles,f=ao(e);n=n||"default";var g=h.get(f);if(!g){var E={loading:0,preload:null};if(g=o.querySelector(Ml(f)))E.loading=5;else{e=b({rel:"stylesheet",href:e,"data-precedence":n},a),(a=li.get(f))&&Pd(e,a);var C=g=o.createElement("link");ke(C),ln(C,"link",e),C._p=new Promise(function(z,Q){C.onload=z,C.onerror=Q}),C.addEventListener("load",function(){E.loading|=1}),C.addEventListener("error",function(){E.loading|=2}),E.loading|=4,Uc(g,n,o)}g={type:"stylesheet",instance:g,count:1,state:E},h.set(f,g)}}}function OA(e,n){Es.X(e,n);var a=ro;if(a&&e){var o=Ci(a).hoistableScripts,h=oo(e),f=o.get(h);f||(f=a.querySelector(Ol(h)),f||(e=b({src:e,async:!0},n),(n=li.get(h))&&jd(e,n),f=a.createElement("script"),ke(f),ln(f,"link",e),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function VA(e,n){Es.M(e,n);var a=ro;if(a&&e){var o=Ci(a).hoistableScripts,h=oo(e),f=o.get(h);f||(f=a.querySelector(Ol(h)),f||(e=b({src:e,async:!0,type:"module"},n),(n=li.get(h))&&jd(e,n),f=a.createElement("script"),ke(f),ln(f,"link",e),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function P_(e,n,a,o){var h=(h=xt.current)?Vc(h):null;if(!h)throw Error(r(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(n=ao(a.href),a=Ci(h).hoistableStyles,o=a.get(n),o||(o={type:"style",instance:null,count:0,state:null},a.set(n,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=ao(a.href);var f=Ci(h).hoistableStyles,g=f.get(e);if(g||(h=h.ownerDocument||h,g={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(e,g),(f=h.querySelector(Ml(e)))&&!f._p&&(g.instance=f,g.state.loading=5),li.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},li.set(e,a),f||UA(h,e,a,g.state))),n&&o===null)throw Error(r(528,""));return g}if(n&&o!==null)throw Error(r(529,""));return null;case"script":return n=a.async,a=a.src,typeof a=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=oo(a),a=Ci(h).hoistableScripts,o=a.get(n),o||(o={type:"script",instance:null,count:0,state:null},a.set(n,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,e))}}function ao(e){return'href="'+bn(e)+'"'}function Ml(e){return'link[rel="stylesheet"]['+e+"]"}function j_(e){return b({},e,{"data-precedence":e.precedence,precedence:null})}function UA(e,n,a,o){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?o.loading=1:(n=e.createElement("link"),o.preload=n,n.addEventListener("load",function(){return o.loading|=1}),n.addEventListener("error",function(){return o.loading|=2}),ln(n,"link",a),ke(n),e.head.appendChild(n))}function oo(e){return'[src="'+bn(e)+'"]'}function Ol(e){return"script[async]"+e}function z_(e,n,a){if(n.count++,n.instance===null)switch(n.type){case"style":var o=e.querySelector('style[data-href~="'+bn(a.href)+'"]');if(o)return n.instance=o,ke(o),o;var h=b({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return o=(e.ownerDocument||e).createElement("style"),ke(o),ln(o,"style",h),Uc(o,a.precedence,e),n.instance=o;case"stylesheet":h=ao(a.href);var f=e.querySelector(Ml(h));if(f)return n.state.loading|=4,n.instance=f,ke(f),f;o=j_(a),(h=li.get(h))&&Pd(o,h),f=(e.ownerDocument||e).createElement("link"),ke(f);var g=f;return g._p=new Promise(function(E,C){g.onload=E,g.onerror=C}),ln(f,"link",o),n.state.loading|=4,Uc(f,a.precedence,e),n.instance=f;case"script":return f=oo(a.src),(h=e.querySelector(Ol(f)))?(n.instance=h,ke(h),h):(o=a,(h=li.get(f))&&(o=b({},a),jd(o,h)),e=e.ownerDocument||e,h=e.createElement("script"),ke(h),ln(h,"link",o),e.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(r(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(o=n.instance,n.state.loading|=4,Uc(o,a.precedence,e));return n.instance}function Uc(e,n,a){for(var o=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=o.length?o[o.length-1]:null,f=h,g=0;g<o.length;g++){var E=o[g];if(E.dataset.precedence===n)f=E;else if(f!==h)break}f?f.parentNode.insertBefore(e,f.nextSibling):(n=a.nodeType===9?a.head:a,n.insertBefore(e,n.firstChild))}function Pd(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function jd(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var Lc=null;function B_(e,n,a){if(Lc===null){var o=new Map,h=Lc=new Map;h.set(a,o)}else h=Lc,o=h.get(a),o||(o=new Map,h.set(a,o));if(o.has(e))return o;for(o.set(e,null),a=a.getElementsByTagName(e),h=0;h<a.length;h++){var f=a[h];if(!(f[Ri]||f[ut]||e==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var g=f.getAttribute(n)||"";g=e+g;var E=o.get(g);E?E.push(f):o.set(g,[f])}}return o}function q_(e,n,a){e=e.ownerDocument||e,e.head.insertBefore(a,n==="title"?e.querySelector("head > title"):null)}function LA(e,n,a){if(a===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return e=n.disabled,typeof n.precedence=="string"&&e==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function H_(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function kA(e,n,a,o){if(a.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var h=ao(o.href),f=n.querySelector(Ml(h));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(e.count++,e=kc.bind(e),n.then(e,e)),a.state.loading|=4,a.instance=f,ke(f);return}f=n.ownerDocument||n,o=j_(o),(h=li.get(h))&&Pd(o,h),f=f.createElement("link"),ke(f);var g=f;g._p=new Promise(function(E,C){g.onload=E,g.onerror=C}),ln(f,"link",o),a.instance=f}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(a,n),(n=a.state.preload)&&(a.state.loading&3)===0&&(e.count++,a=kc.bind(e),n.addEventListener("load",a),n.addEventListener("error",a))}}var zd=0;function PA(e,n){return e.stylesheets&&e.count===0&&jc(e,e.stylesheets),0<e.count||0<e.imgCount?function(a){var o=setTimeout(function(){if(e.stylesheets&&jc(e,e.stylesheets),e.unsuspend){var f=e.unsuspend;e.unsuspend=null,f()}},6e4+n);0<e.imgBytes&&zd===0&&(zd=62500*_A());var h=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&jc(e,e.stylesheets),e.unsuspend)){var f=e.unsuspend;e.unsuspend=null,f()}},(e.imgBytes>zd?50:800)+n);return e.unsuspend=a,function(){e.unsuspend=null,clearTimeout(o),clearTimeout(h)}}:null}function kc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)jc(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Pc=null;function jc(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Pc=new Map,n.forEach(jA,e),Pc=null,kc.call(e))}function jA(e,n){if(!(n.state.loading&4)){var a=Pc.get(e);if(a)var o=a.get(null);else{a=new Map,Pc.set(e,a);for(var h=e.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var g=h[f];(g.nodeName==="LINK"||g.getAttribute("media")!=="not all")&&(a.set(g.dataset.precedence,g),o=g)}o&&a.set(null,o)}h=n.instance,g=h.getAttribute("data-precedence"),f=a.get(g)||o,f===o&&a.set(null,h),a.set(g,h),this.count++,o=kc.bind(this),h.addEventListener("load",o),h.addEventListener("error",o),f?f.parentNode.insertBefore(h,f.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(h,e.firstChild)),n.state.loading|=4}}var Vl={$$typeof:Et,Provider:null,Consumer:null,_currentValue:gt,_currentValue2:gt,_threadCount:0};function zA(e,n,a,o,h,f,g,E,C){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=$n(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=$n(0),this.hiddenUpdates=$n(null),this.identifierPrefix=o,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=g,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=C,this.incompleteTransitions=new Map}function F_(e,n,a,o,h,f,g,E,C,z,Q,$){return e=new zA(e,n,a,g,C,z,Q,$,E),n=1,f===!0&&(n|=24),f=kn(3,null,null,n),e.current=f,f.stateNode=e,n=vf(),n.refCount++,e.pooledCache=n,n.refCount++,f.memoizedState={element:o,isDehydrated:a,cache:n},Sf(f),e}function G_(e){return e?(e=Pa,e):Pa}function Q_(e,n,a,o,h,f){h=G_(h),o.context===null?o.context=h:o.pendingContext=h,o=Ks(n),o.payload={element:a},f=f===void 0?null:f,f!==null&&(o.callback=f),a=Xs(e,o,n),a!==null&&(Nn(a,e,n),fl(a,e,n))}function Y_(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<n?a:n}}function Bd(e,n){Y_(e,n),(e=e.alternate)&&Y_(e,n)}function K_(e){if(e.tag===13||e.tag===31){var n=Yr(e,67108864);n!==null&&Nn(n,e,67108864),Bd(e,67108864)}}function X_(e){if(e.tag===13||e.tag===31){var n=qn();n=W(n);var a=Yr(e,n);a!==null&&Nn(a,e,n),Bd(e,n)}}var zc=!0;function BA(e,n,a,o){var h=G.T;G.T=null;var f=at.p;try{at.p=2,qd(e,n,a,o)}finally{at.p=f,G.T=h}}function qA(e,n,a,o){var h=G.T;G.T=null;var f=at.p;try{at.p=8,qd(e,n,a,o)}finally{at.p=f,G.T=h}}function qd(e,n,a,o){if(zc){var h=Hd(o);if(h===null)Cd(e,n,o,Bc,a),Z_(e,o);else if(FA(h,e,n,a,o))o.stopPropagation();else if(Z_(e,o),n&4&&-1<HA.indexOf(e)){for(;h!==null;){var f=Zn(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var g=Kn(f.pendingLanes);if(g!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;g;){var C=1<<31-ye(g);E.entanglements[1]|=C,g&=~C}Bi(f),(ne&6)===0&&(Sc=en()+500,Cl(0))}}break;case 31:case 13:E=Yr(f,2),E!==null&&Nn(E,f,2),wc(),Bd(f,2)}if(f=Hd(o),f===null&&Cd(e,n,o,Bc,a),f===h)break;h=f}h!==null&&o.stopPropagation()}else Cd(e,n,o,null,a)}}function Hd(e){return e=Jn(e),Fd(e)}var Bc=null;function Fd(e){if(Bc=null,e=Ii(e),e!==null){var n=c(e);if(n===null)e=null;else{var a=n.tag;if(a===13){if(e=d(n),e!==null)return e;e=null}else if(a===31){if(e=p(n),e!==null)return e;e=null}else if(a===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return Bc=e,null}function $_(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Wi()){case Mr:return 2;case Or:return 8;case An:case Os:return 32;case Vr:return 268435456;default:return 32}default:return 32}}var Gd=!1,ar=null,or=null,lr=null,Ul=new Map,Ll=new Map,ur=[],HA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Z_(e,n){switch(e){case"focusin":case"focusout":ar=null;break;case"dragenter":case"dragleave":or=null;break;case"mouseover":case"mouseout":lr=null;break;case"pointerover":case"pointerout":Ul.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ll.delete(n.pointerId)}}function kl(e,n,a,o,h,f){return e===null||e.nativeEvent!==f?(e={blockedOn:n,domEventName:a,eventSystemFlags:o,nativeEvent:f,targetContainers:[h]},n!==null&&(n=Zn(n),n!==null&&K_(n)),e):(e.eventSystemFlags|=o,n=e.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),e)}function FA(e,n,a,o,h){switch(n){case"focusin":return ar=kl(ar,e,n,a,o,h),!0;case"dragenter":return or=kl(or,e,n,a,o,h),!0;case"mouseover":return lr=kl(lr,e,n,a,o,h),!0;case"pointerover":var f=h.pointerId;return Ul.set(f,kl(Ul.get(f)||null,e,n,a,o,h)),!0;case"gotpointercapture":return f=h.pointerId,Ll.set(f,kl(Ll.get(f)||null,e,n,a,o,h)),!0}return!1}function J_(e){var n=Ii(e.target);if(n!==null){var a=c(n);if(a!==null){if(n=a.tag,n===13){if(n=d(a),n!==null){e.blockedOn=n,Rt(e.priority,function(){X_(a)});return}}else if(n===31){if(n=p(a),n!==null){e.blockedOn=n,Rt(e.priority,function(){X_(a)});return}}else if(n===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function qc(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var a=Hd(e.nativeEvent);if(a===null){a=e.nativeEvent;var o=new a.constructor(a.type,a);$o=o,a.target.dispatchEvent(o),$o=null}else return n=Zn(a),n!==null&&K_(n),e.blockedOn=a,!1;n.shift()}return!0}function W_(e,n,a){qc(e)&&a.delete(n)}function GA(){Gd=!1,ar!==null&&qc(ar)&&(ar=null),or!==null&&qc(or)&&(or=null),lr!==null&&qc(lr)&&(lr=null),Ul.forEach(W_),Ll.forEach(W_)}function Hc(e,n){e.blockedOn===n&&(e.blockedOn=null,Gd||(Gd=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,GA)))}var Fc=null;function tv(e){Fc!==e&&(Fc=e,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){Fc===e&&(Fc=null);for(var n=0;n<e.length;n+=3){var a=e[n],o=e[n+1],h=e[n+2];if(typeof o!="function"){if(Fd(o||a)===null)continue;break}var f=Zn(a);f!==null&&(e.splice(n,3),n-=3,Hf(f,{pending:!0,data:h,method:a.method,action:o},o,h))}}))}function lo(e){function n(C){return Hc(C,e)}ar!==null&&Hc(ar,e),or!==null&&Hc(or,e),lr!==null&&Hc(lr,e),Ul.forEach(n),Ll.forEach(n);for(var a=0;a<ur.length;a++){var o=ur[a];o.blockedOn===e&&(o.blockedOn=null)}for(;0<ur.length&&(a=ur[0],a.blockedOn===null);)J_(a),a.blockedOn===null&&ur.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(o=0;o<a.length;o+=3){var h=a[o],f=a[o+1],g=h[At]||null;if(typeof f=="function")g||tv(a);else if(g){var E=null;if(f&&f.hasAttribute("formAction")){if(h=f,g=f[At]||null)E=g.formAction;else if(Fd(h)!==null)continue}else E=g.action;typeof E=="function"?a[o+1]=E:(a.splice(o,3),o-=3),tv(a)}}}function ev(){function e(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(g){return h=g})},focusReset:"manual",scroll:"manual"})}function n(){h!==null&&(h(),h=null),o||setTimeout(a,20)}function a(){if(!o&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var o=!1,h=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(a,100),function(){o=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),h!==null&&(h(),h=null)}}}function Qd(e){this._internalRoot=e}Gc.prototype.render=Qd.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(r(409));var a=n.current,o=qn();Q_(a,o,e,n,null,null)},Gc.prototype.unmount=Qd.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;Q_(e.current,2,null,e,null,null),wc(),n[Ct]=null}};function Gc(e){this._internalRoot=e}Gc.prototype.unstable_scheduleHydration=function(e){if(e){var n=_t();e={blockedOn:null,target:e,priority:n};for(var a=0;a<ur.length&&n!==0&&n<ur[a].priority;a++);ur.splice(a,0,e),a===0&&J_(e)}};var nv=t.version;if(nv!=="19.2.0")throw Error(r(527,nv,"19.2.0"));at.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(r(188)):(e=Object.keys(e).join(","),Error(r(268,e)));return e=y(n),e=e!==null?A(e):null,e=e===null?null:e.stateNode,e};var QA={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:G,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Qc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Qc.isDisabled&&Qc.supportsFiber)try{Sn=Qc.inject(QA),Ye=Qc}catch{}}return jl.createRoot=function(e,n){if(!l(e))throw Error(r(299));var a=!1,o="",h=uy,f=cy,g=hy;return n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(g=n.onRecoverableError)),n=F_(e,1,!1,null,null,a,o,null,h,f,g,ev),e[Ct]=n.current,Id(e),new Qd(n)},jl.hydrateRoot=function(e,n,a){if(!l(e))throw Error(r(299));var o=!1,h="",f=uy,g=cy,E=hy,C=null;return a!=null&&(a.unstable_strictMode===!0&&(o=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(f=a.onUncaughtError),a.onCaughtError!==void 0&&(g=a.onCaughtError),a.onRecoverableError!==void 0&&(E=a.onRecoverableError),a.formState!==void 0&&(C=a.formState)),n=F_(e,1,!0,n,a??null,o,h,C,f,g,E,ev),n.context=G_(null),a=n.current,o=qn(),o=W(o),h=Ks(o),h.callback=null,Xs(a,h,o),a=o,n.current.lanes=a,es(n,a),Bi(n),e[Ct]=n.current,Id(e),new Gc(n)},jl.version="19.2.0",jl}var fv;function nS(){if(fv)return Xd.exports;fv=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(t){console.error(t)}}return s(),Xd.exports=eS(),Xd.exports}var iS=nS();/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sS=s=>s.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),rS=s=>s.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,i,r)=>r?r.toUpperCase():i.toLowerCase()),dv=s=>{const t=rS(s);return t.charAt(0).toUpperCase()+t.slice(1)},Y0=(...s)=>s.filter((t,i,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===i).join(" ").trim(),aS=s=>{for(const t in s)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var oS={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lS=Yt.forwardRef(({color:s="currentColor",size:t=24,strokeWidth:i=2,absoluteStrokeWidth:r,className:l="",children:c,iconNode:d,...p},_)=>Yt.createElement("svg",{ref:_,...oS,width:t,height:t,stroke:s,strokeWidth:r?Number(i)*24/Number(t):i,className:Y0("lucide",l),...!c&&!aS(p)&&{"aria-hidden":"true"},...p},[...d.map(([y,A])=>Yt.createElement(y,A)),...Array.isArray(c)?c:[c]]));/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cr=(s,t)=>{const i=Yt.forwardRef(({className:r,...l},c)=>Yt.createElement(lS,{ref:c,iconNode:t,className:Y0(`lucide-${sS(dv(s))}`,`lucide-${s}`,r),...l}));return i.displayName=dv(s),i};/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uS=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],mv=Cr("award",uS);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cS=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],hS=Cr("calendar",cS);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fS=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],dS=Cr("clock",fS);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mS=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],gS=Cr("history",mS);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pS=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],yS=Cr("house",pS);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _S=[["path",{d:"m16 11 2 2 4-4",key:"9rsbq5"}],["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],vS=Cr("user-check",_S);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ES=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],TS=Cr("user-plus",ES);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AS=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],gv=Cr("users",AS),SS=()=>{};var pv={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K0=function(s){const t=[];let i=0;for(let r=0;r<s.length;r++){let l=s.charCodeAt(r);l<128?t[i++]=l:l<2048?(t[i++]=l>>6|192,t[i++]=l&63|128):(l&64512)===55296&&r+1<s.length&&(s.charCodeAt(r+1)&64512)===56320?(l=65536+((l&1023)<<10)+(s.charCodeAt(++r)&1023),t[i++]=l>>18|240,t[i++]=l>>12&63|128,t[i++]=l>>6&63|128,t[i++]=l&63|128):(t[i++]=l>>12|224,t[i++]=l>>6&63|128,t[i++]=l&63|128)}return t},bS=function(s){const t=[];let i=0,r=0;for(;i<s.length;){const l=s[i++];if(l<128)t[r++]=String.fromCharCode(l);else if(l>191&&l<224){const c=s[i++];t[r++]=String.fromCharCode((l&31)<<6|c&63)}else if(l>239&&l<365){const c=s[i++],d=s[i++],p=s[i++],_=((l&7)<<18|(c&63)<<12|(d&63)<<6|p&63)-65536;t[r++]=String.fromCharCode(55296+(_>>10)),t[r++]=String.fromCharCode(56320+(_&1023))}else{const c=s[i++],d=s[i++];t[r++]=String.fromCharCode((l&15)<<12|(c&63)<<6|d&63)}}return t.join("")},X0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,t){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let l=0;l<s.length;l+=3){const c=s[l],d=l+1<s.length,p=d?s[l+1]:0,_=l+2<s.length,y=_?s[l+2]:0,A=c>>2,b=(c&3)<<4|p>>4;let N=(p&15)<<2|y>>6,Y=y&63;_||(Y=64,d||(N=64)),r.push(i[A],i[b],i[N],i[Y])}return r.join("")},encodeString(s,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(s):this.encodeByteArray(K0(s),t)},decodeString(s,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(s):bS(this.decodeStringToByteArray(s,t))},decodeStringToByteArray(s,t){this.init_();const i=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let l=0;l<s.length;){const c=i[s.charAt(l++)],p=l<s.length?i[s.charAt(l)]:0;++l;const y=l<s.length?i[s.charAt(l)]:64;++l;const b=l<s.length?i[s.charAt(l)]:64;if(++l,c==null||p==null||y==null||b==null)throw new wS;const N=c<<2|p>>4;if(r.push(N),y!==64){const Y=p<<4&240|y>>2;if(r.push(Y),b!==64){const et=y<<6&192|b;r.push(et)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class wS extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const RS=function(s){const t=K0(s);return X0.encodeByteArray(t,!0)},ch=function(s){return RS(s).replace(/\./g,"")},$0=function(s){try{return X0.decodeString(s,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IS(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CS=()=>IS().__FIREBASE_DEFAULTS__,xS=()=>{if(typeof process>"u"||typeof pv>"u")return;const s=pv.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},NS=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=s&&$0(s[1]);return t&&JSON.parse(t)},Nh=()=>{try{return SS()||CS()||xS()||NS()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},Z0=s=>Nh()?.emulatorHosts?.[s],DS=s=>{const t=Z0(s);if(!t)return;const i=t.lastIndexOf(":");if(i<=0||i+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(i+1),10);return t[0]==="["?[t.substring(1,i-1),r]:[t.substring(0,i),r]},J0=()=>Nh()?.config,W0=s=>Nh()?.[`_${s}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MS{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,i)=>{this.resolve=t,this.reject=i})}wrapCallback(t){return(i,r)=>{i?this.reject(i):this.resolve(r),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(i):t(i,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function No(s){try{return(s.startsWith("http://")||s.startsWith("https://")?new URL(s).hostname:s).endsWith(".cloudworkstations.dev")}catch{return!1}}async function tE(s){return(await fetch(s,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OS(s,t){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},r=t||"demo-project",l=s.iat||0,c=s.sub||s.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${r}`,aud:r,iat:l,exp:l+3600,auth_time:l,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...s};return[ch(JSON.stringify(i)),ch(JSON.stringify(d)),""].join(".")}const Yl={};function VS(){const s={prod:[],emulator:[]};for(const t of Object.keys(Yl))Yl[t]?s.emulator.push(t):s.prod.push(t);return s}function US(s){let t=document.getElementById(s),i=!1;return t||(t=document.createElement("div"),t.setAttribute("id",s),i=!0),{created:i,element:t}}let yv=!1;function eE(s,t){if(typeof window>"u"||typeof document>"u"||!No(window.location.host)||Yl[s]===t||Yl[s]||yv)return;Yl[s]=t;function i(N){return`__firebase__banner__${N}`}const r="__firebase__banner",c=VS().prod.length>0;function d(){const N=document.getElementById(r);N&&N.remove()}function p(N){N.style.display="flex",N.style.background="#7faaf0",N.style.position="fixed",N.style.bottom="5px",N.style.left="5px",N.style.padding=".5em",N.style.borderRadius="5px",N.style.alignItems="center"}function _(N,Y){N.setAttribute("width","24"),N.setAttribute("id",Y),N.setAttribute("height","24"),N.setAttribute("viewBox","0 0 24 24"),N.setAttribute("fill","none"),N.style.marginLeft="-6px"}function y(){const N=document.createElement("span");return N.style.cursor="pointer",N.style.marginLeft="16px",N.style.fontSize="24px",N.innerHTML=" &times;",N.onclick=()=>{yv=!0,d()},N}function A(N,Y){N.setAttribute("id",Y),N.innerText="Learn more",N.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",N.setAttribute("target","__blank"),N.style.paddingLeft="5px",N.style.textDecoration="underline"}function b(){const N=US(r),Y=i("text"),et=document.getElementById(Y)||document.createElement("span"),lt=i("learnmore"),nt=document.getElementById(lt)||document.createElement("a"),pt=i("preprendIcon"),wt=document.getElementById(pt)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(N.created){const Et=N.element;p(Et),A(nt,lt);const Zt=y();_(wt,pt),Et.append(wt,et,nt,Zt),document.body.appendChild(Et)}c?(et.innerText="Preview backend disconnected.",wt.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(wt.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,et.innerText="Preview backend running in this workspace."),et.setAttribute("id",Y)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",b):b()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function LS(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(yn())}function kS(){const s=Nh()?.forceEnvironment;if(s==="node")return!0;if(s==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function PS(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function jS(){const s=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof s=="object"&&s.id!==void 0}function zS(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function BS(){const s=yn();return s.indexOf("MSIE ")>=0||s.indexOf("Trident/")>=0}function qS(){return!kS()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function HS(){try{return typeof indexedDB=="object"}catch{return!1}}function FS(){return new Promise((s,t)=>{try{let i=!0;const r="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(r);l.onsuccess=()=>{l.result.close(),i||self.indexedDB.deleteDatabase(r),s(!0)},l.onupgradeneeded=()=>{i=!1},l.onerror=()=>{t(l.error?.message||"")}}catch(i){t(i)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GS="FirebaseError";class Ns extends Error{constructor(t,i,r){super(i),this.code=t,this.customData=r,this.name=GS,Object.setPrototypeOf(this,Ns.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,hu.prototype.create)}}class hu{constructor(t,i,r){this.service=t,this.serviceName=i,this.errors=r}create(t,...i){const r=i[0]||{},l=`${this.service}/${t}`,c=this.errors[t],d=c?QS(c,r):"Error",p=`${this.serviceName}: ${d} (${l}).`;return new Ns(l,p,r)}}function QS(s,t){return s.replace(YS,(i,r)=>{const l=t[r];return l!=null?String(l):`<${r}?>`})}const YS=/\{\$([^}]+)}/g;function KS(s){for(const t in s)if(Object.prototype.hasOwnProperty.call(s,t))return!1;return!0}function fa(s,t){if(s===t)return!0;const i=Object.keys(s),r=Object.keys(t);for(const l of i){if(!r.includes(l))return!1;const c=s[l],d=t[l];if(_v(c)&&_v(d)){if(!fa(c,d))return!1}else if(c!==d)return!1}for(const l of r)if(!i.includes(l))return!1;return!0}function _v(s){return s!==null&&typeof s=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fu(s){const t=[];for(const[i,r]of Object.entries(s))Array.isArray(r)?r.forEach(l=>{t.push(encodeURIComponent(i)+"="+encodeURIComponent(l))}):t.push(encodeURIComponent(i)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function XS(s,t){const i=new $S(s,t);return i.subscribe.bind(i)}class $S{constructor(t,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{t(this)}).catch(r=>{this.error(r)})}next(t){this.forEachObserver(i=>{i.next(t)})}error(t){this.forEachObserver(i=>{i.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,i,r){let l;if(t===void 0&&i===void 0&&r===void 0)throw new Error("Missing Observer.");ZS(t,["next","error","complete"])?l=t:l={next:t,error:i,complete:r},l.next===void 0&&(l.next=Wd),l.error===void 0&&(l.error=Wd),l.complete===void 0&&(l.complete=Wd);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),c}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,t)}sendOne(t,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{i(this.observers[t])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function ZS(s,t){if(typeof s!="object"||s===null)return!1;for(const i of t)if(i in s&&typeof s[i]=="function")return!0;return!1}function Wd(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qe(s){return s&&s._delegate?s._delegate:s}class da{constructor(t,i,r){this.name=t,this.instanceFactory=i,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oa="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JS{constructor(t,i){this.name=t,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const i=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(i)){const r=new MS;if(this.instancesDeferred.set(i,r),this.isInitialized(i)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:i});l&&r.resolve(l)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(t){const i=this.normalizeInstanceIdentifier(t?.identifier),r=t?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(l){if(r)return null;throw l}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(tb(t))try{this.getOrInitializeService({instanceIdentifier:oa})}catch{}for(const[i,r]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);try{const c=this.getOrInitializeService({instanceIdentifier:l});r.resolve(c)}catch{}}}}clearInstance(t=oa){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...t.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=oa){return this.instances.has(t)}getOptions(t=oa){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:i={}}=t,r=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:r,options:i});for(const[c,d]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(c);r===p&&d.resolve(l)}return l}onInit(t,i){const r=this.normalizeInstanceIdentifier(i),l=this.onInitCallbacks.get(r)??new Set;l.add(t),this.onInitCallbacks.set(r,l);const c=this.instances.get(r);return c&&t(c,r),()=>{l.delete(t)}}invokeOnInitCallbacks(t,i){const r=this.onInitCallbacks.get(i);if(r)for(const l of r)try{l(t,i)}catch{}}getOrInitializeService({instanceIdentifier:t,options:i={}}){let r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:WS(t),options:i}),this.instances.set(t,r),this.instancesOptions.set(t,i),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch{}return r||null}normalizeInstanceIdentifier(t=oa){return this.component?this.component.multipleInstances?t:oa:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function WS(s){return s===oa?void 0:s}function tb(s){return s.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eb{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const i=this.getProvider(t.name);if(i.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);i.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const i=new JS(t,this);return this.providers.set(t,i),i}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Bt;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(Bt||(Bt={}));const nb={debug:Bt.DEBUG,verbose:Bt.VERBOSE,info:Bt.INFO,warn:Bt.WARN,error:Bt.ERROR,silent:Bt.SILENT},ib=Bt.INFO,sb={[Bt.DEBUG]:"log",[Bt.VERBOSE]:"log",[Bt.INFO]:"info",[Bt.WARN]:"warn",[Bt.ERROR]:"error"},rb=(s,t,...i)=>{if(t<s.logLevel)return;const r=new Date().toISOString(),l=sb[t];if(l)console[l](`[${r}]  ${s.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class Pm{constructor(t){this.name=t,this._logLevel=ib,this._logHandler=rb,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Bt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?nb[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Bt.DEBUG,...t),this._logHandler(this,Bt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Bt.VERBOSE,...t),this._logHandler(this,Bt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Bt.INFO,...t),this._logHandler(this,Bt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Bt.WARN,...t),this._logHandler(this,Bt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Bt.ERROR,...t),this._logHandler(this,Bt.ERROR,...t)}}const ab=(s,t)=>t.some(i=>s instanceof i);let vv,Ev;function ob(){return vv||(vv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function lb(){return Ev||(Ev=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const nE=new WeakMap,fm=new WeakMap,iE=new WeakMap,tm=new WeakMap,jm=new WeakMap;function ub(s){const t=new Promise((i,r)=>{const l=()=>{s.removeEventListener("success",c),s.removeEventListener("error",d)},c=()=>{i(pr(s.result)),l()},d=()=>{r(s.error),l()};s.addEventListener("success",c),s.addEventListener("error",d)});return t.then(i=>{i instanceof IDBCursor&&nE.set(i,s)}).catch(()=>{}),jm.set(t,s),t}function cb(s){if(fm.has(s))return;const t=new Promise((i,r)=>{const l=()=>{s.removeEventListener("complete",c),s.removeEventListener("error",d),s.removeEventListener("abort",d)},c=()=>{i(),l()},d=()=>{r(s.error||new DOMException("AbortError","AbortError")),l()};s.addEventListener("complete",c),s.addEventListener("error",d),s.addEventListener("abort",d)});fm.set(s,t)}let dm={get(s,t,i){if(s instanceof IDBTransaction){if(t==="done")return fm.get(s);if(t==="objectStoreNames")return s.objectStoreNames||iE.get(s);if(t==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return pr(s[t])},set(s,t,i){return s[t]=i,!0},has(s,t){return s instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in s}};function hb(s){dm=s(dm)}function fb(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...i){const r=s.call(em(this),t,...i);return iE.set(r,t.sort?t.sort():[t]),pr(r)}:lb().includes(s)?function(...t){return s.apply(em(this),t),pr(nE.get(this))}:function(...t){return pr(s.apply(em(this),t))}}function db(s){return typeof s=="function"?fb(s):(s instanceof IDBTransaction&&cb(s),ab(s,ob())?new Proxy(s,dm):s)}function pr(s){if(s instanceof IDBRequest)return ub(s);if(tm.has(s))return tm.get(s);const t=db(s);return t!==s&&(tm.set(s,t),jm.set(t,s)),t}const em=s=>jm.get(s);function mb(s,t,{blocked:i,upgrade:r,blocking:l,terminated:c}={}){const d=indexedDB.open(s,t),p=pr(d);return r&&d.addEventListener("upgradeneeded",_=>{r(pr(d.result),_.oldVersion,_.newVersion,pr(d.transaction),_)}),i&&d.addEventListener("blocked",_=>i(_.oldVersion,_.newVersion,_)),p.then(_=>{c&&_.addEventListener("close",()=>c()),l&&_.addEventListener("versionchange",y=>l(y.oldVersion,y.newVersion,y))}).catch(()=>{}),p}const gb=["get","getKey","getAll","getAllKeys","count"],pb=["put","add","delete","clear"],nm=new Map;function Tv(s,t){if(!(s instanceof IDBDatabase&&!(t in s)&&typeof t=="string"))return;if(nm.get(t))return nm.get(t);const i=t.replace(/FromIndex$/,""),r=t!==i,l=pb.includes(i);if(!(i in(r?IDBIndex:IDBObjectStore).prototype)||!(l||gb.includes(i)))return;const c=async function(d,...p){const _=this.transaction(d,l?"readwrite":"readonly");let y=_.store;return r&&(y=y.index(p.shift())),(await Promise.all([y[i](...p),l&&_.done]))[0]};return nm.set(t,c),c}hb(s=>({...s,get:(t,i,r)=>Tv(t,i)||s.get(t,i,r),has:(t,i)=>!!Tv(t,i)||s.has(t,i)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yb{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(_b(i)){const r=i.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(i=>i).join(" ")}}function _b(s){return s.getComponent()?.type==="VERSION"}const mm="@firebase/app",Av="0.14.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rs=new Pm("@firebase/app"),vb="@firebase/app-compat",Eb="@firebase/analytics-compat",Tb="@firebase/analytics",Ab="@firebase/app-check-compat",Sb="@firebase/app-check",bb="@firebase/auth",wb="@firebase/auth-compat",Rb="@firebase/database",Ib="@firebase/data-connect",Cb="@firebase/database-compat",xb="@firebase/functions",Nb="@firebase/functions-compat",Db="@firebase/installations",Mb="@firebase/installations-compat",Ob="@firebase/messaging",Vb="@firebase/messaging-compat",Ub="@firebase/performance",Lb="@firebase/performance-compat",kb="@firebase/remote-config",Pb="@firebase/remote-config-compat",jb="@firebase/storage",zb="@firebase/storage-compat",Bb="@firebase/firestore",qb="@firebase/ai",Hb="@firebase/firestore-compat",Fb="firebase",Gb="12.3.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gm="[DEFAULT]",Qb={[mm]:"fire-core",[vb]:"fire-core-compat",[Tb]:"fire-analytics",[Eb]:"fire-analytics-compat",[Sb]:"fire-app-check",[Ab]:"fire-app-check-compat",[bb]:"fire-auth",[wb]:"fire-auth-compat",[Rb]:"fire-rtdb",[Ib]:"fire-data-connect",[Cb]:"fire-rtdb-compat",[xb]:"fire-fn",[Nb]:"fire-fn-compat",[Db]:"fire-iid",[Mb]:"fire-iid-compat",[Ob]:"fire-fcm",[Vb]:"fire-fcm-compat",[Ub]:"fire-perf",[Lb]:"fire-perf-compat",[kb]:"fire-rc",[Pb]:"fire-rc-compat",[jb]:"fire-gcs",[zb]:"fire-gcs-compat",[Bb]:"fire-fst",[Hb]:"fire-fst-compat",[qb]:"fire-vertex","fire-js":"fire-js",[Fb]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hh=new Map,Yb=new Map,pm=new Map;function Sv(s,t){try{s.container.addComponent(t)}catch(i){Rs.debug(`Component ${t.name} failed to register with FirebaseApp ${s.name}`,i)}}function Ao(s){const t=s.name;if(pm.has(t))return Rs.debug(`There were multiple attempts to register component ${t}.`),!1;pm.set(t,s);for(const i of hh.values())Sv(i,s);for(const i of Yb.values())Sv(i,s);return!0}function zm(s,t){const i=s.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),s.container.getProvider(t)}function _i(s){return s==null?!1:s.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kb={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},yr=new hu("app","Firebase",Kb);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xb{constructor(t,i,r){this._isDeleted=!1,this._options={...t},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new da("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw yr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Do=Gb;function sE(s,t={}){let i=s;typeof t!="object"&&(t={name:t});const r={name:gm,automaticDataCollectionEnabled:!0,...t},l=r.name;if(typeof l!="string"||!l)throw yr.create("bad-app-name",{appName:String(l)});if(i||(i=J0()),!i)throw yr.create("no-options");const c=hh.get(l);if(c){if(fa(i,c.options)&&fa(r,c.config))return c;throw yr.create("duplicate-app",{appName:l})}const d=new eb(l);for(const _ of pm.values())d.addComponent(_);const p=new Xb(i,r,d);return hh.set(l,p),p}function rE(s=gm){const t=hh.get(s);if(!t&&s===gm&&J0())return sE();if(!t)throw yr.create("no-app",{appName:s});return t}function _r(s,t,i){let r=Qb[s]??s;i&&(r+=`-${i}`);const l=r.match(/\s|\//),c=t.match(/\s|\//);if(l||c){const d=[`Unable to register library "${r}" with version "${t}":`];l&&d.push(`library name "${r}" contains illegal characters (whitespace or "/")`),l&&c&&d.push("and"),c&&d.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Rs.warn(d.join(" "));return}Ao(new da(`${r}-version`,()=>({library:r,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $b="firebase-heartbeat-database",Zb=1,tu="firebase-heartbeat-store";let im=null;function aE(){return im||(im=mb($b,Zb,{upgrade:(s,t)=>{switch(t){case 0:try{s.createObjectStore(tu)}catch(i){console.warn(i)}}}}).catch(s=>{throw yr.create("idb-open",{originalErrorMessage:s.message})})),im}async function Jb(s){try{const i=(await aE()).transaction(tu),r=await i.objectStore(tu).get(oE(s));return await i.done,r}catch(t){if(t instanceof Ns)Rs.warn(t.message);else{const i=yr.create("idb-get",{originalErrorMessage:t?.message});Rs.warn(i.message)}}}async function bv(s,t){try{const r=(await aE()).transaction(tu,"readwrite");await r.objectStore(tu).put(t,oE(s)),await r.done}catch(i){if(i instanceof Ns)Rs.warn(i.message);else{const r=yr.create("idb-set",{originalErrorMessage:i?.message});Rs.warn(r.message)}}}function oE(s){return`${s.name}!${s.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wb=1024,tw=30;class ew{constructor(t){this.container=t,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new iw(i),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=wv();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(l=>l.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:i}),this._heartbeatsCache.heartbeats.length>tw){const l=sw(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){Rs.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=wv(),{heartbeatsToSend:i,unsentEntries:r}=nw(this._heartbeatsCache.heartbeats),l=ch(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(t){return Rs.warn(t),""}}}function wv(){return new Date().toISOString().substring(0,10)}function nw(s,t=Wb){const i=[];let r=s.slice();for(const l of s){const c=i.find(d=>d.agent===l.agent);if(c){if(c.dates.push(l.date),Rv(i)>t){c.dates.pop();break}}else if(i.push({agent:l.agent,dates:[l.date]}),Rv(i)>t){i.pop();break}r=r.slice(1)}return{heartbeatsToSend:i,unsentEntries:r}}class iw{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return HS()?FS().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await Jb(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const r=await this.read();return bv(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const r=await this.read();return bv(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...t.heartbeats]})}else return}}function Rv(s){return ch(JSON.stringify({version:2,heartbeats:s})).length}function sw(s){if(s.length===0)return-1;let t=0,i=s[0].date;for(let r=1;r<s.length;r++)s[r].date<i&&(i=s[r].date,t=r);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rw(s){Ao(new da("platform-logger",t=>new yb(t),"PRIVATE")),Ao(new da("heartbeat",t=>new ew(t),"PRIVATE")),_r(mm,Av,s),_r(mm,Av,"esm2020"),_r("fire-js","")}rw("");var aw="firebase",ow="12.3.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */_r(aw,ow,"app");function lE(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const lw=lE,uE=new hu("auth","Firebase",lE());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fh=new Pm("@firebase/auth");function uw(s,...t){fh.logLevel<=Bt.WARN&&fh.warn(`Auth (${Do}): ${s}`,...t)}function th(s,...t){fh.logLevel<=Bt.ERROR&&fh.error(`Auth (${Do}): ${s}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ki(s,...t){throw qm(s,...t)}function Ei(s,...t){return qm(s,...t)}function Bm(s,t,i){const r={...lw(),[t]:i};return new hu("auth","Firebase",r).create(t,{appName:s.name})}function ca(s){return Bm(s,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function cw(s,t,i){const r=i;if(!(t instanceof r))throw r.name!==t.constructor.name&&Ki(s,"argument-error"),Bm(s,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function qm(s,...t){if(typeof s!="string"){const i=t[0],r=[...t.slice(1)];return r[0]&&(r[0].appName=s.name),s._errorFactory.create(i,...r)}return uE.create(s,...t)}function bt(s,t,...i){if(!s)throw qm(t,...i)}function bs(s){const t="INTERNAL ASSERTION FAILED: "+s;throw th(t),new Error(t)}function Is(s,t){s||bs(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ym(){return typeof self<"u"&&self.location?.href||""}function hw(){return Iv()==="http:"||Iv()==="https:"}function Iv(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fw(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(hw()||jS()||"connection"in navigator)?navigator.onLine:!0}function dw(){if(typeof navigator>"u")return null;const s=navigator;return s.languages&&s.languages[0]||s.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class du{constructor(t,i){this.shortDelay=t,this.longDelay=i,Is(i>t,"Short delay should be less than long delay!"),this.isMobile=LS()||zS()}get(){return fw()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hm(s,t){Is(s.emulator,"Emulator should always be set here");const{url:i}=s.emulator;return t?`${i}${t.startsWith("/")?t.slice(1):t}`:i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cE{static initialize(t,i,r){this.fetchImpl=t,i&&(this.headersImpl=i),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;bs("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;bs("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;bs("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mw={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gw=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],pw=new du(3e4,6e4);function Fm(s,t){return s.tenantId&&!t.tenantId?{...t,tenantId:s.tenantId}:t}async function Mo(s,t,i,r,l={}){return hE(s,l,async()=>{let c={},d={};r&&(t==="GET"?d=r:c={body:JSON.stringify(r)});const p=fu({key:s.config.apiKey,...d}).slice(1),_=await s._getAdditionalHeaders();_["Content-Type"]="application/json",s.languageCode&&(_["X-Firebase-Locale"]=s.languageCode);const y={method:t,headers:_,...c};return PS()||(y.referrerPolicy="no-referrer"),s.emulatorConfig&&No(s.emulatorConfig.host)&&(y.credentials="include"),cE.fetch()(await fE(s,s.config.apiHost,i,p),y)})}async function hE(s,t,i){s._canInitEmulator=!1;const r={...mw,...t};try{const l=new _w(s),c=await Promise.race([i(),l.promise]);l.clearNetworkTimeout();const d=await c.json();if("needConfirmation"in d)throw Yc(s,"account-exists-with-different-credential",d);if(c.ok&&!("errorMessage"in d))return d;{const p=c.ok?d.errorMessage:d.error.message,[_,y]=p.split(" : ");if(_==="FEDERATED_USER_ID_ALREADY_LINKED")throw Yc(s,"credential-already-in-use",d);if(_==="EMAIL_EXISTS")throw Yc(s,"email-already-in-use",d);if(_==="USER_DISABLED")throw Yc(s,"user-disabled",d);const A=r[_]||_.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw Bm(s,A,y);Ki(s,A)}}catch(l){if(l instanceof Ns)throw l;Ki(s,"network-request-failed",{message:String(l)})}}async function yw(s,t,i,r,l={}){const c=await Mo(s,t,i,r,l);return"mfaPendingCredential"in c&&Ki(s,"multi-factor-auth-required",{_serverResponse:c}),c}async function fE(s,t,i,r){const l=`${t}${i}?${r}`,c=s,d=c.config.emulator?Hm(s.config,l):`${s.config.apiScheme}://${l}`;return gw.includes(i)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(d).toString():d}class _w{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((i,r)=>{this.timer=setTimeout(()=>r(Ei(this.auth,"network-request-failed")),pw.get())})}}function Yc(s,t,i){const r={appName:s.name};i.email&&(r.email=i.email),i.phoneNumber&&(r.phoneNumber=i.phoneNumber);const l=Ei(s,t,r);return l.customData._tokenResponse=i,l}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vw(s,t){return Mo(s,"POST","/v1/accounts:delete",t)}async function dh(s,t){return Mo(s,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kl(s){if(s)try{const t=new Date(Number(s));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function Ew(s,t=!1){const i=Qe(s),r=await i.getIdToken(t),l=Gm(r);bt(l&&l.exp&&l.auth_time&&l.iat,i.auth,"internal-error");const c=typeof l.firebase=="object"?l.firebase:void 0,d=c?.sign_in_provider;return{claims:l,token:r,authTime:Kl(sm(l.auth_time)),issuedAtTime:Kl(sm(l.iat)),expirationTime:Kl(sm(l.exp)),signInProvider:d||null,signInSecondFactor:c?.sign_in_second_factor||null}}function sm(s){return Number(s)*1e3}function Gm(s){const[t,i,r]=s.split(".");if(t===void 0||i===void 0||r===void 0)return th("JWT malformed, contained fewer than 3 sections"),null;try{const l=$0(i);return l?JSON.parse(l):(th("Failed to decode base64 JWT payload"),null)}catch(l){return th("Caught error parsing JWT payload as JSON",l?.toString()),null}}function Cv(s){const t=Gm(s);return bt(t,"internal-error"),bt(typeof t.exp<"u","internal-error"),bt(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eu(s,t,i=!1){if(i)return t;try{return await t}catch(r){throw r instanceof Ns&&Tw(r)&&s.auth.currentUser===s&&await s.auth.signOut(),r}}function Tw({code:s}){return s==="auth/user-disabled"||s==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aw{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(t=!1){if(!this.isRunning)return;const i=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _m{constructor(t,i){this.createdAt=t,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=Kl(this.lastLoginAt),this.creationTime=Kl(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mh(s){const t=s.auth,i=await s.getIdToken(),r=await eu(s,dh(t,{idToken:i}));bt(r?.users.length,t,"internal-error");const l=r.users[0];s._notifyReloadListener(l);const c=l.providerUserInfo?.length?dE(l.providerUserInfo):[],d=bw(s.providerData,c),p=s.isAnonymous,_=!(s.email&&l.passwordHash)&&!d?.length,y=p?_:!1,A={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:d,metadata:new _m(l.createdAt,l.lastLoginAt),isAnonymous:y};Object.assign(s,A)}async function Sw(s){const t=Qe(s);await mh(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function bw(s,t){return[...s.filter(r=>!t.some(l=>l.providerId===r.providerId)),...t]}function dE(s){return s.map(({providerId:t,...i})=>({providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ww(s,t){const i=await hE(s,{},async()=>{const r=fu({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:l,apiKey:c}=s.config,d=await fE(s,l,"/v1/token",`key=${c}`),p=await s._getAdditionalHeaders();p["Content-Type"]="application/x-www-form-urlencoded";const _={method:"POST",headers:p,body:r};return s.emulatorConfig&&No(s.emulatorConfig.host)&&(_.credentials="include"),cE.fetch()(d,_)});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function Rw(s,t){return Mo(s,"POST","/v2/accounts:revokeToken",Fm(s,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _o{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){bt(t.idToken,"internal-error"),bt(typeof t.idToken<"u","internal-error"),bt(typeof t.refreshToken<"u","internal-error");const i="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):Cv(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,i)}updateFromIdToken(t){bt(t.length!==0,"internal-error");const i=Cv(t);this.updateTokensAndExpiration(t,null,i)}async getToken(t,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(bt(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,i){const{accessToken:r,refreshToken:l,expiresIn:c}=await ww(t,i);this.updateTokensAndExpiration(r,l,Number(c))}updateTokensAndExpiration(t,i,r){this.refreshToken=i||null,this.accessToken=t||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(t,i){const{refreshToken:r,accessToken:l,expirationTime:c}=i,d=new _o;return r&&(bt(typeof r=="string","internal-error",{appName:t}),d.refreshToken=r),l&&(bt(typeof l=="string","internal-error",{appName:t}),d.accessToken=l),c&&(bt(typeof c=="number","internal-error",{appName:t}),d.expirationTime=c),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new _o,this.toJSON())}_performRefresh(){return bs("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hr(s,t){bt(typeof s=="string"||typeof s>"u","internal-error",{appName:t})}class vi{constructor({uid:t,auth:i,stsTokenManager:r,...l}){this.providerId="firebase",this.proactiveRefresh=new Aw(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new _m(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(t){const i=await eu(this,this.stsTokenManager.getToken(this.auth,t));return bt(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(t){return Ew(this,t)}reload(){return Sw(this)}_assign(t){this!==t&&(bt(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(i=>({...i})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const i=new vi({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return i.metadata._copy(this.metadata),i}_onReload(t){bt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,i=!1){let r=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),i&&await mh(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(_i(this.auth.app))return Promise.reject(ca(this.auth));const t=await this.getIdToken();return await eu(this,vw(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,i){const r=i.displayName??void 0,l=i.email??void 0,c=i.phoneNumber??void 0,d=i.photoURL??void 0,p=i.tenantId??void 0,_=i._redirectEventId??void 0,y=i.createdAt??void 0,A=i.lastLoginAt??void 0,{uid:b,emailVerified:N,isAnonymous:Y,providerData:et,stsTokenManager:lt}=i;bt(b&&lt,t,"internal-error");const nt=_o.fromJSON(this.name,lt);bt(typeof b=="string",t,"internal-error"),hr(r,t.name),hr(l,t.name),bt(typeof N=="boolean",t,"internal-error"),bt(typeof Y=="boolean",t,"internal-error"),hr(c,t.name),hr(d,t.name),hr(p,t.name),hr(_,t.name),hr(y,t.name),hr(A,t.name);const pt=new vi({uid:b,auth:t,email:l,emailVerified:N,displayName:r,isAnonymous:Y,photoURL:d,phoneNumber:c,tenantId:p,stsTokenManager:nt,createdAt:y,lastLoginAt:A});return et&&Array.isArray(et)&&(pt.providerData=et.map(wt=>({...wt}))),_&&(pt._redirectEventId=_),pt}static async _fromIdTokenResponse(t,i,r=!1){const l=new _o;l.updateFromServerResponse(i);const c=new vi({uid:i.localId,auth:t,stsTokenManager:l,isAnonymous:r});return await mh(c),c}static async _fromGetAccountInfoResponse(t,i,r){const l=i.users[0];bt(l.localId!==void 0,"internal-error");const c=l.providerUserInfo!==void 0?dE(l.providerUserInfo):[],d=!(l.email&&l.passwordHash)&&!c?.length,p=new _o;p.updateFromIdToken(r);const _=new vi({uid:l.localId,auth:t,stsTokenManager:p,isAnonymous:d}),y={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:c,metadata:new _m(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!c?.length};return Object.assign(_,y),_}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xv=new Map;function ws(s){Is(s instanceof Function,"Expected a class definition");let t=xv.get(s);return t?(Is(t instanceof s,"Instance stored in cache mismatched with class"),t):(t=new s,xv.set(s,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mE{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,i){this.storage[t]=i}async _get(t){const i=this.storage[t];return i===void 0?null:i}async _remove(t){delete this.storage[t]}_addListener(t,i){}_removeListener(t,i){}}mE.type="NONE";const Nv=mE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eh(s,t,i){return`firebase:${s}:${t}:${i}`}class vo{constructor(t,i,r){this.persistence=t,this.auth=i,this.userKey=r;const{config:l,name:c}=this.auth;this.fullUserKey=eh(this.userKey,l.apiKey,c),this.fullPersistenceKey=eh("persistence",l.apiKey,c),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const i=await dh(this.auth,{idToken:t}).catch(()=>{});return i?vi._fromGetAccountInfoResponse(this.auth,i,t):null}return vi._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,i,r="authUser"){if(!i.length)return new vo(ws(Nv),t,r);const l=(await Promise.all(i.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let c=l[0]||ws(Nv);const d=eh(r,t.config.apiKey,t.name);let p=null;for(const y of i)try{const A=await y._get(d);if(A){let b;if(typeof A=="string"){const N=await dh(t,{idToken:A}).catch(()=>{});if(!N)break;b=await vi._fromGetAccountInfoResponse(t,N,A)}else b=vi._fromJSON(t,A);y!==c&&(p=b),c=y;break}}catch{}const _=l.filter(y=>y._shouldAllowMigration);return!c._shouldAllowMigration||!_.length?new vo(c,t,r):(c=_[0],p&&await c._set(d,p.toJSON()),await Promise.all(i.map(async y=>{if(y!==c)try{await y._remove(d)}catch{}})),new vo(c,t,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dv(s){const t=s.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(_E(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(gE(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(EE(t))return"Blackberry";if(TE(t))return"Webos";if(pE(t))return"Safari";if((t.includes("chrome/")||yE(t))&&!t.includes("edge/"))return"Chrome";if(vE(t))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=s.match(i);if(r?.length===2)return r[1]}return"Other"}function gE(s=yn()){return/firefox\//i.test(s)}function pE(s=yn()){const t=s.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function yE(s=yn()){return/crios\//i.test(s)}function _E(s=yn()){return/iemobile/i.test(s)}function vE(s=yn()){return/android/i.test(s)}function EE(s=yn()){return/blackberry/i.test(s)}function TE(s=yn()){return/webos/i.test(s)}function Qm(s=yn()){return/iphone|ipad|ipod/i.test(s)||/macintosh/i.test(s)&&/mobile/i.test(s)}function Iw(s=yn()){return Qm(s)&&!!window.navigator?.standalone}function Cw(){return BS()&&document.documentMode===10}function AE(s=yn()){return Qm(s)||vE(s)||TE(s)||EE(s)||/windows phone/i.test(s)||_E(s)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SE(s,t=[]){let i;switch(s){case"Browser":i=Dv(yn());break;case"Worker":i=`${Dv(yn())}-${s}`;break;default:i=s}const r=t.length?t.join(","):"FirebaseCore-web";return`${i}/JsCore/${Do}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xw{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,i){const r=c=>new Promise((d,p)=>{try{const _=t(c);d(_)}catch(_){p(_)}});r.onAbort=i,this.queue.push(r);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const i=[];try{for(const r of this.queue)await r(t),r.onAbort&&i.push(r.onAbort)}catch(r){i.reverse();for(const l of i)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Nw(s,t={}){return Mo(s,"GET","/v2/passwordPolicy",Fm(s,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dw=6;class Mw{constructor(t){const i=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=i.minPasswordLength??Dw,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),i.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),i.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),i.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),i.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const i={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,i),this.validatePasswordCharacterOptions(t,i),i.isValid&&(i.isValid=i.meetsMinPasswordLength??!0),i.isValid&&(i.isValid=i.meetsMaxPasswordLength??!0),i.isValid&&(i.isValid=i.containsLowercaseLetter??!0),i.isValid&&(i.isValid=i.containsUppercaseLetter??!0),i.isValid&&(i.isValid=i.containsNumericCharacter??!0),i.isValid&&(i.isValid=i.containsNonAlphanumericCharacter??!0),i}validatePasswordLengthOptions(t,i){const r=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;r&&(i.meetsMinPasswordLength=t.length>=r),l&&(i.meetsMaxPasswordLength=t.length<=l)}validatePasswordCharacterOptions(t,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let r;for(let l=0;l<t.length;l++)r=t.charAt(l),this.updatePasswordCharacterOptionsStatuses(i,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(t,i,r,l,c){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ow{constructor(t,i,r,l){this.app=t,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=r,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Mv(this),this.idTokenSubscription=new Mv(this),this.beforeStateQueue=new xw(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=uE,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=l.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(t,i){return i&&(this._popupRedirectResolver=ws(i)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await vo.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const i=await dh(this,{idToken:t}),r=await vi._fromGetAccountInfoResponse(this,i,t);await this.directlySetCurrentUser(r)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(_i(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let r=i,l=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,d=r?._redirectEventId,p=await this.tryRedirectSignIn(t);(!c||c===d)&&p?.user&&(r=p.user,l=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(r)}catch(c){r=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return bt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(t){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(t){try{await mh(t)}catch(i){if(i?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=dw()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(_i(this.app))return Promise.reject(ca(this));const i=t?Qe(t):null;return i&&bt(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(t,i=!1){if(!this._deleted)return t&&bt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return _i(this.app)?Promise.reject(ca(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return _i(this.app)?Promise.reject(ca(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ws(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await Nw(this),i=new Mw(t);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new hu("auth","Firebase",t())}onAuthStateChanged(t,i,r){return this.registerStateListener(this.authStateSubscription,t,i,r)}beforeAuthStateChanged(t,i){return this.beforeStateQueue.pushCallback(t,i)}onIdTokenChanged(t,i,r){return this.registerStateListener(this.idTokenSubscription,t,i,r)}authStateReady(){return new Promise((t,i)=>{if(this.currentUser)t();else{const r=this.onAuthStateChanged(()=>{r(),t()},i)}})}async revokeAccessToken(t){if(this.currentUser){const i=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:i};this.tenantId!=null&&(r.tenantId=this.tenantId),await Rw(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,i){const r=await this.getOrInitRedirectPersistenceManager(i);return t===null?r.removeCurrentUser():r.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const i=t&&ws(t)||this._popupRedirectResolver;bt(i,this,"argument-error"),this.redirectPersistenceManager=await vo.create(this,[ws(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,i,r,l){if(this._deleted)return()=>{};const c=typeof i=="function"?i:i.next.bind(i);let d=!1;const p=this._isInitialized?Promise.resolve():this._initializationPromise;if(bt(p,this,"internal-error"),p.then(()=>{d||c(this.currentUser)}),typeof i=="function"){const _=t.addObserver(i,r,l);return()=>{d=!0,_()}}else{const _=t.addObserver(i);return()=>{d=!0,_()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return bt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=SE(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const i=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();i&&(t["X-Firebase-Client"]=i);const r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){if(_i(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&uw(`Error while retrieving App Check token: ${t.error}`),t?.token}}function Dh(s){return Qe(s)}class Mv{constructor(t){this.auth=t,this.observer=null,this.addObserver=XS(i=>this.observer=i)}get next(){return bt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ym={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Vw(s){Ym=s}function Uw(s){return Ym.loadJS(s)}function Lw(){return Ym.gapiScript}function kw(s){return`__${s}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pw(s,t){const i=zm(s,"auth");if(i.isInitialized()){const l=i.getImmediate(),c=i.getOptions();if(fa(c,t??{}))return l;Ki(l,"already-initialized")}return i.initialize({options:t})}function jw(s,t){const i=t?.persistence||[],r=(Array.isArray(i)?i:[i]).map(ws);t?.errorMap&&s._updateErrorMap(t.errorMap),s._initializeWithPersistence(r,t?.popupRedirectResolver)}function zw(s,t,i){const r=Dh(s);bt(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const l=!1,c=bE(t),{host:d,port:p}=Bw(t),_=p===null?"":`:${p}`,y={url:`${c}//${d}${_}/`},A=Object.freeze({host:d,port:p,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!r._canInitEmulator){bt(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),bt(fa(y,r.config.emulator)&&fa(A,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=y,r.emulatorConfig=A,r.settings.appVerificationDisabledForTesting=!0,No(d)?(tE(`${c}//${d}${_}`),eE("Auth",!0)):qw()}function bE(s){const t=s.indexOf(":");return t<0?"":s.substr(0,t+1)}function Bw(s){const t=bE(s),i=/(\/\/)?([^?#/]+)/.exec(s.substr(t.length));if(!i)return{host:"",port:null};const r=i[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(r);if(l){const c=l[1];return{host:c,port:Ov(r.substr(c.length+1))}}else{const[c,d]=r.split(":");return{host:c,port:Ov(d)}}}function Ov(s){if(!s)return null;const t=Number(s);return isNaN(t)?null:t}function qw(){function s(){const t=document.createElement("p"),i=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",s):s())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wE{constructor(t,i){this.providerId=t,this.signInMethod=i}toJSON(){return bs("not implemented")}_getIdTokenResponse(t){return bs("not implemented")}_linkToIdToken(t,i){return bs("not implemented")}_getReauthenticationResolver(t){return bs("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Eo(s,t){return yw(s,"POST","/v1/accounts:signInWithIdp",Fm(s,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hw="http://localhost";class ma extends wE{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const i=new ma(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(i.idToken=t.idToken),t.accessToken&&(i.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(i.nonce=t.nonce),t.pendingToken&&(i.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(i.accessToken=t.oauthToken,i.secret=t.oauthTokenSecret):Ki("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const i=typeof t=="string"?JSON.parse(t):t,{providerId:r,signInMethod:l,...c}=i;if(!r||!l)return null;const d=new ma(r,l);return d.idToken=c.idToken||void 0,d.accessToken=c.accessToken||void 0,d.secret=c.secret,d.nonce=c.nonce,d.pendingToken=c.pendingToken||null,d}_getIdTokenResponse(t){const i=this.buildRequest();return Eo(t,i)}_linkToIdToken(t,i){const r=this.buildRequest();return r.idToken=i,Eo(t,r)}_getReauthenticationResolver(t){const i=this.buildRequest();return i.autoCreate=!1,Eo(t,i)}buildRequest(){const t={requestUri:Hw,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),t.postBody=fu(i)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Km{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mu extends Km{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fr extends mu{constructor(){super("facebook.com")}static credential(t){return ma._fromParams({providerId:fr.PROVIDER_ID,signInMethod:fr.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return fr.credentialFromTaggedObject(t)}static credentialFromError(t){return fr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return fr.credential(t.oauthAccessToken)}catch{return null}}}fr.FACEBOOK_SIGN_IN_METHOD="facebook.com";fr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ss extends mu{constructor(){super("google.com"),this.addScope("profile")}static credential(t,i){return ma._fromParams({providerId:Ss.PROVIDER_ID,signInMethod:Ss.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:i})}static credentialFromResult(t){return Ss.credentialFromTaggedObject(t)}static credentialFromError(t){return Ss.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:i,oauthAccessToken:r}=t;if(!i&&!r)return null;try{return Ss.credential(i,r)}catch{return null}}}Ss.GOOGLE_SIGN_IN_METHOD="google.com";Ss.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dr extends mu{constructor(){super("github.com")}static credential(t){return ma._fromParams({providerId:dr.PROVIDER_ID,signInMethod:dr.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return dr.credentialFromTaggedObject(t)}static credentialFromError(t){return dr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return dr.credential(t.oauthAccessToken)}catch{return null}}}dr.GITHUB_SIGN_IN_METHOD="github.com";dr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mr extends mu{constructor(){super("twitter.com")}static credential(t,i){return ma._fromParams({providerId:mr.PROVIDER_ID,signInMethod:mr.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:i})}static credentialFromResult(t){return mr.credentialFromTaggedObject(t)}static credentialFromError(t){return mr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:i,oauthTokenSecret:r}=t;if(!i||!r)return null;try{return mr.credential(i,r)}catch{return null}}}mr.TWITTER_SIGN_IN_METHOD="twitter.com";mr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class So{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,i,r,l=!1){const c=await vi._fromIdTokenResponse(t,r,l),d=Vv(r);return new So({user:c,providerId:d,_tokenResponse:r,operationType:i})}static async _forOperation(t,i,r){await t._updateTokensIfNecessary(r,!0);const l=Vv(r);return new So({user:t,providerId:l,_tokenResponse:r,operationType:i})}}function Vv(s){return s.providerId?s.providerId:"phoneNumber"in s?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gh extends Ns{constructor(t,i,r,l){super(i.code,i.message),this.operationType=r,this.user=l,Object.setPrototypeOf(this,gh.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:i.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(t,i,r,l){return new gh(t,i,r,l)}}function RE(s,t,i,r){return(t==="reauthenticate"?i._getReauthenticationResolver(s):i._getIdTokenResponse(s)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?gh._fromErrorAndOperation(s,c,t,r):c})}async function Fw(s,t,i=!1){const r=await eu(s,t._linkToIdToken(s.auth,await s.getIdToken()),i);return So._forOperation(s,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Gw(s,t,i=!1){const{auth:r}=s;if(_i(r.app))return Promise.reject(ca(r));const l="reauthenticate";try{const c=await eu(s,RE(r,l,t,s),i);bt(c.idToken,r,"internal-error");const d=Gm(c.idToken);bt(d,r,"internal-error");const{sub:p}=d;return bt(s.uid===p,r,"user-mismatch"),So._forOperation(s,l,c)}catch(c){throw c?.code==="auth/user-not-found"&&Ki(r,"user-mismatch"),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Qw(s,t,i=!1){if(_i(s.app))return Promise.reject(ca(s));const r="signIn",l=await RE(s,r,t),c=await So._fromIdTokenResponse(s,r,l);return i||await s._updateCurrentUser(c.user),c}function Yw(s,t,i,r){return Qe(s).onIdTokenChanged(t,i,r)}function Kw(s,t,i){return Qe(s).beforeAuthStateChanged(t,i)}function Xw(s,t,i,r){return Qe(s).onAuthStateChanged(t,i,r)}function $w(s){return Qe(s).signOut()}const ph="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IE{constructor(t,i){this.storageRetriever=t,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(ph,"1"),this.storage.removeItem(ph),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,i){return this.storage.setItem(t,JSON.stringify(i)),Promise.resolve()}_get(t){const i=this.storage.getItem(t);return Promise.resolve(i?JSON.parse(i):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zw=1e3,Jw=10;class CE extends IE{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,i)=>this.onStorageEvent(t,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=AE(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const i of Object.keys(this.listeners)){const r=this.storage.getItem(i),l=this.localCache[i];r!==l&&t(i,l,r)}}onStorageEvent(t,i=!1){if(!t.key){this.forAllChangedKeys((d,p,_)=>{this.notifyListeners(d,_)});return}const r=t.key;i?this.detachListener():this.stopPolling();const l=()=>{const d=this.storage.getItem(r);!i&&this.localCache[r]===d||this.notifyListeners(r,d)},c=this.storage.getItem(r);Cw()&&c!==t.newValue&&t.newValue!==t.oldValue?setTimeout(l,Jw):l()}notifyListeners(t,i){this.localCache[t]=i;const r=this.listeners[t];if(r)for(const l of Array.from(r))l(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,i,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:i,newValue:r}),!0)})},Zw)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,i){await super._set(t,i),this.localCache[t]=JSON.stringify(i)}async _get(t){const i=await super._get(t);return this.localCache[t]=JSON.stringify(i),i}async _remove(t){await super._remove(t),delete this.localCache[t]}}CE.type="LOCAL";const Ww=CE;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xE extends IE{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,i){}_removeListener(t,i){}}xE.type="SESSION";const NE=xE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tR(s){return Promise.all(s.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(i){return{fulfilled:!1,reason:i}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mh{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const i=this.receivers.find(l=>l.isListeningto(t));if(i)return i;const r=new Mh(t);return this.receivers.push(r),r}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const i=t,{eventId:r,eventType:l,data:c}=i.data,d=this.handlersMap[l];if(!d?.size)return;i.ports[0].postMessage({status:"ack",eventId:r,eventType:l});const p=Array.from(d).map(async y=>y(i.origin,c)),_=await tR(p);i.ports[0].postMessage({status:"done",eventId:r,eventType:l,response:_})}_subscribe(t,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(i)}_unsubscribe(t,i){this.handlersMap[t]&&i&&this.handlersMap[t].delete(i),(!i||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Mh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xm(s="",t=10){let i="";for(let r=0;r<t;r++)i+=Math.floor(Math.random()*10);return s+i}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eR{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,i,r=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let c,d;return new Promise((p,_)=>{const y=Xm("",20);l.port1.start();const A=setTimeout(()=>{_(new Error("unsupported_event"))},r);d={messageChannel:l,onMessage(b){const N=b;if(N.data.eventId===y)switch(N.data.status){case"ack":clearTimeout(A),c=setTimeout(()=>{_(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),p(N.data.response);break;default:clearTimeout(A),clearTimeout(c),_(new Error("invalid_response"));break}}},this.handlers.add(d),l.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:t,eventId:y,data:i},[l.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hi(){return window}function nR(s){Hi().location.href=s}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DE(){return typeof Hi().WorkerGlobalScope<"u"&&typeof Hi().importScripts=="function"}async function iR(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function sR(){return navigator?.serviceWorker?.controller||null}function rR(){return DE()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ME="firebaseLocalStorageDb",aR=1,yh="firebaseLocalStorage",OE="fbase_key";class gu{constructor(t){this.request=t}toPromise(){return new Promise((t,i)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function Oh(s,t){return s.transaction([yh],t?"readwrite":"readonly").objectStore(yh)}function oR(){const s=indexedDB.deleteDatabase(ME);return new gu(s).toPromise()}function vm(){const s=indexedDB.open(ME,aR);return new Promise((t,i)=>{s.addEventListener("error",()=>{i(s.error)}),s.addEventListener("upgradeneeded",()=>{const r=s.result;try{r.createObjectStore(yh,{keyPath:OE})}catch(l){i(l)}}),s.addEventListener("success",async()=>{const r=s.result;r.objectStoreNames.contains(yh)?t(r):(r.close(),await oR(),t(await vm()))})})}async function Uv(s,t,i){const r=Oh(s,!0).put({[OE]:t,value:i});return new gu(r).toPromise()}async function lR(s,t){const i=Oh(s,!1).get(t),r=await new gu(i).toPromise();return r===void 0?null:r.value}function Lv(s,t){const i=Oh(s,!0).delete(t);return new gu(i).toPromise()}const uR=800,cR=3;class VE{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await vm(),this.db)}async _withRetries(t){let i=0;for(;;)try{const r=await this._openDb();return await t(r)}catch(r){if(i++>cR)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return DE()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Mh._getInstance(rR()),this.receiver._subscribe("keyChanged",async(t,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(t,i)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await iR(),!this.activeServiceWorker)return;this.sender=new eR(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||sR()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await vm();return await Uv(t,ph,"1"),await Lv(t,ph),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,i){return this._withPendingWrite(async()=>(await this._withRetries(r=>Uv(r,t,i)),this.localCache[t]=i,this.notifyServiceWorker(t)))}async _get(t){const i=await this._withRetries(r=>lR(r,t));return this.localCache[t]=i,i}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(i=>Lv(i,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(l=>{const c=Oh(l,!1).getAll();return new gu(c).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const i=[],r=new Set;if(t.length!==0)for(const{fbase_key:l,value:c}of t)r.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(c)&&(this.notifyListeners(l,c),i.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!r.has(l)&&(this.notifyListeners(l,null),i.push(l));return i}notifyListeners(t,i){this.localCache[t]=i;const r=this.listeners[t];if(r)for(const l of Array.from(r))l(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),uR)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}VE.type="LOCAL";const hR=VE;new du(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UE(s,t){return t?ws(t):(bt(s._popupRedirectResolver,s,"argument-error"),s._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $m extends wE{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Eo(t,this._buildIdpRequest())}_linkToIdToken(t,i){return Eo(t,this._buildIdpRequest(i))}_getReauthenticationResolver(t){return Eo(t,this._buildIdpRequest())}_buildIdpRequest(t){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(i.idToken=t),i}}function fR(s){return Qw(s.auth,new $m(s),s.bypassAuthState)}function dR(s){const{auth:t,user:i}=s;return bt(i,t,"internal-error"),Gw(i,new $m(s),s.bypassAuthState)}async function mR(s){const{auth:t,user:i}=s;return bt(i,t,"internal-error"),Fw(i,new $m(s),s.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LE{constructor(t,i,r,l,c=!1){this.auth=t,this.resolver=r,this.user=l,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(t,i)=>{this.pendingPromise={resolve:t,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(t){const{urlResponse:i,sessionId:r,postBody:l,tenantId:c,error:d,type:p}=t;if(d){this.reject(d);return}const _={auth:this.auth,requestUri:i,sessionId:r,tenantId:c||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(p)(_))}catch(y){this.reject(y)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return fR;case"linkViaPopup":case"linkViaRedirect":return mR;case"reauthViaPopup":case"reauthViaRedirect":return dR;default:Ki(this.auth,"internal-error")}}resolve(t){Is(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){Is(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gR=new du(2e3,1e4);async function pR(s,t,i){if(_i(s.app))return Promise.reject(Ei(s,"operation-not-supported-in-this-environment"));const r=Dh(s);cw(s,t,Km);const l=UE(r,i);return new la(r,"signInViaPopup",t,l).executeNotNull()}class la extends LE{constructor(t,i,r,l,c){super(t,i,l,c),this.provider=r,this.authWindow=null,this.pollId=null,la.currentPopupAction&&la.currentPopupAction.cancel(),la.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return bt(t,this.auth,"internal-error"),t}async onExecution(){Is(this.filter.length===1,"Popup operations only handle one event");const t=Xm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(Ei(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Ei(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,la.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ei(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,gR.get())};t()}}la.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yR="pendingRedirect",nh=new Map;class _R extends LE{constructor(t,i,r=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,r),this.eventId=null}async execute(){let t=nh.get(this.auth._key());if(!t){try{const r=await vR(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(r)}catch(i){t=()=>Promise.reject(i)}nh.set(this.auth._key(),t)}return this.bypassAuthState||nh.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const i=await this.auth._redirectUserForId(t.eventId);if(i)return this.user=i,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function vR(s,t){const i=AR(t),r=TR(s);if(!await r._isAvailable())return!1;const l=await r._get(i)==="true";return await r._remove(i),l}function ER(s,t){nh.set(s._key(),t)}function TR(s){return ws(s._redirectPersistence)}function AR(s){return eh(yR,s.config.apiKey,s.name)}async function SR(s,t,i=!1){if(_i(s.app))return Promise.reject(ca(s));const r=Dh(s),l=UE(r,t),d=await new _R(r,l,i).execute();return d&&!i&&(delete d.user._redirectEventId,await r._persistUserIfCurrent(d.user),await r._setRedirectUser(null,t)),d}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bR=600*1e3;class wR{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let i=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(t,r)&&(i=!0,this.sendToConsumer(t,r),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!RR(t)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=t,i=!0)),i}sendToConsumer(t,i){if(t.error&&!kE(t)){const r=t.error.code?.split("auth/")[1]||"internal-error";i.onError(Ei(this.auth,r))}else i.onAuthEvent(t)}isEventForConsumer(t,i){const r=i.eventId===null||!!t.eventId&&t.eventId===i.eventId;return i.filter.includes(t.type)&&r}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=bR&&this.cachedEventUids.clear(),this.cachedEventUids.has(kv(t))}saveEventToCache(t){this.cachedEventUids.add(kv(t)),this.lastProcessedEventTime=Date.now()}}function kv(s){return[s.type,s.eventId,s.sessionId,s.tenantId].filter(t=>t).join("-")}function kE({type:s,error:t}){return s==="unknown"&&t?.code==="auth/no-auth-event"}function RR(s){switch(s.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return kE(s);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function IR(s,t={}){return Mo(s,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CR=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,xR=/^https?/;async function NR(s){if(s.config.emulator)return;const{authorizedDomains:t}=await IR(s);for(const i of t)try{if(DR(i))return}catch{}Ki(s,"unauthorized-domain")}function DR(s){const t=ym(),{protocol:i,hostname:r}=new URL(t);if(s.startsWith("chrome-extension://")){const d=new URL(s);return d.hostname===""&&r===""?i==="chrome-extension:"&&s.replace("chrome-extension://","")===t.replace("chrome-extension://",""):i==="chrome-extension:"&&d.hostname===r}if(!xR.test(i))return!1;if(CR.test(s))return r===s;const l=s.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MR=new du(3e4,6e4);function Pv(){const s=Hi().___jsl;if(s?.H){for(const t of Object.keys(s.H))if(s.H[t].r=s.H[t].r||[],s.H[t].L=s.H[t].L||[],s.H[t].r=[...s.H[t].L],s.CP)for(let i=0;i<s.CP.length;i++)s.CP[i]=null}}function OR(s){return new Promise((t,i)=>{function r(){Pv(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{Pv(),i(Ei(s,"network-request-failed"))},timeout:MR.get()})}if(Hi().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(Hi().gapi?.load)r();else{const l=kw("iframefcb");return Hi()[l]=()=>{gapi.load?r():i(Ei(s,"network-request-failed"))},Uw(`${Lw()}?onload=${l}`).catch(c=>i(c))}}).catch(t=>{throw ih=null,t})}let ih=null;function VR(s){return ih=ih||OR(s),ih}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UR=new du(5e3,15e3),LR="__/auth/iframe",kR="emulator/auth/iframe",PR={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},jR=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function zR(s){const t=s.config;bt(t.authDomain,s,"auth-domain-config-required");const i=t.emulator?Hm(t,kR):`https://${s.config.authDomain}/${LR}`,r={apiKey:t.apiKey,appName:s.name,v:Do},l=jR.get(s.config.apiHost);l&&(r.eid=l);const c=s._getFrameworks();return c.length&&(r.fw=c.join(",")),`${i}?${fu(r).slice(1)}`}async function BR(s){const t=await VR(s),i=Hi().gapi;return bt(i,s,"internal-error"),t.open({where:document.body,url:zR(s),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:PR,dontclear:!0},r=>new Promise(async(l,c)=>{await r.restyle({setHideOnLeave:!1});const d=Ei(s,"network-request-failed"),p=Hi().setTimeout(()=>{c(d)},UR.get());function _(){Hi().clearTimeout(p),l(r)}r.ping(_).then(_,()=>{c(d)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qR={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},HR=500,FR=600,GR="_blank",QR="http://localhost";class jv{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function YR(s,t,i,r=HR,l=FR){const c=Math.max((window.screen.availHeight-l)/2,0).toString(),d=Math.max((window.screen.availWidth-r)/2,0).toString();let p="";const _={...qR,width:r.toString(),height:l.toString(),top:c,left:d},y=yn().toLowerCase();i&&(p=yE(y)?GR:i),gE(y)&&(t=t||QR,_.scrollbars="yes");const A=Object.entries(_).reduce((N,[Y,et])=>`${N}${Y}=${et},`,"");if(Iw(y)&&p!=="_self")return KR(t||"",p),new jv(null);const b=window.open(t||"",p,A);bt(b,s,"popup-blocked");try{b.focus()}catch{}return new jv(b)}function KR(s,t){const i=document.createElement("a");i.href=s,i.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XR="__/auth/handler",$R="emulator/auth/handler",ZR=encodeURIComponent("fac");async function zv(s,t,i,r,l,c){bt(s.config.authDomain,s,"auth-domain-config-required"),bt(s.config.apiKey,s,"invalid-api-key");const d={apiKey:s.config.apiKey,appName:s.name,authType:i,redirectUrl:r,v:Do,eventId:l};if(t instanceof Km){t.setDefaultLanguage(s.languageCode),d.providerId=t.providerId||"",KS(t.getCustomParameters())||(d.customParameters=JSON.stringify(t.getCustomParameters()));for(const[A,b]of Object.entries({}))d[A]=b}if(t instanceof mu){const A=t.getScopes().filter(b=>b!=="");A.length>0&&(d.scopes=A.join(","))}s.tenantId&&(d.tid=s.tenantId);const p=d;for(const A of Object.keys(p))p[A]===void 0&&delete p[A];const _=await s._getAppCheckToken(),y=_?`#${ZR}=${encodeURIComponent(_)}`:"";return`${JR(s)}?${fu(p).slice(1)}${y}`}function JR({config:s}){return s.emulator?Hm(s,$R):`https://${s.authDomain}/${XR}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rm="webStorageSupport";class WR{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=NE,this._completeRedirectFn=SR,this._overrideRedirectResult=ER}async _openPopup(t,i,r,l){Is(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const c=await zv(t,i,r,ym(),l);return YR(t,c,Xm())}async _openRedirect(t,i,r,l){await this._originValidation(t);const c=await zv(t,i,r,ym(),l);return nR(c),new Promise(()=>{})}_initialize(t){const i=t._key();if(this.eventManagers[i]){const{manager:l,promise:c}=this.eventManagers[i];return l?Promise.resolve(l):(Is(c,"If manager is not set, promise should be"),c)}const r=this.initAndGetManager(t);return this.eventManagers[i]={promise:r},r.catch(()=>{delete this.eventManagers[i]}),r}async initAndGetManager(t){const i=await BR(t),r=new wR(t);return i.register("authEvent",l=>(bt(l?.authEvent,t,"invalid-auth-event"),{status:r.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=i,r}_isIframeWebStorageSupported(t,i){this.iframes[t._key()].send(rm,{type:rm},l=>{const c=l?.[0]?.[rm];c!==void 0&&i(!!c),Ki(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const i=t._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=NR(t)),this.originValidationPromises[i]}get _shouldInitProactively(){return AE()||pE()||Qm()}}const t2=WR;var Bv="@firebase/auth",qv="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e2{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const i=this.auth.onIdTokenChanged(r=>{t(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,i),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const i=this.internalListeners.get(t);i&&(this.internalListeners.delete(t),i(),this.updateProactiveRefresh())}assertAuthConfigured(){bt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n2(s){switch(s){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function i2(s){Ao(new da("auth",(t,{options:i})=>{const r=t.getProvider("app").getImmediate(),l=t.getProvider("heartbeat"),c=t.getProvider("app-check-internal"),{apiKey:d,authDomain:p}=r.options;bt(d&&!d.includes(":"),"invalid-api-key",{appName:r.name});const _={apiKey:d,authDomain:p,clientPlatform:s,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:SE(s)},y=new Ow(r,l,c,_);return jw(y,i),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,i,r)=>{t.getProvider("auth-internal").initialize()})),Ao(new da("auth-internal",t=>{const i=Dh(t.getProvider("auth").getImmediate());return(r=>new e2(r))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),_r(Bv,qv,n2(s)),_r(Bv,qv,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s2=300,r2=W0("authIdTokenMaxAge")||s2;let Hv=null;const a2=s=>async t=>{const i=t&&await t.getIdTokenResult(),r=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(r&&r>r2)return;const l=i?.token;Hv!==l&&(Hv=l,await fetch(s,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function o2(s=rE()){const t=zm(s,"auth");if(t.isInitialized())return t.getImmediate();const i=Pw(s,{popupRedirectResolver:t2,persistence:[hR,Ww,NE]}),r=W0("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(r,location.origin);if(location.origin===c.origin){const d=a2(c.toString());Kw(i,d,()=>d(i.currentUser)),Yw(i,p=>d(p))}}const l=Z0("auth");return l&&zw(i,`http://${l}`),i}function l2(){return document.getElementsByTagName("head")?.[0]??document}Vw({loadJS(s){return new Promise((t,i)=>{const r=document.createElement("script");r.setAttribute("src",s),r.onload=t,r.onerror=l=>{const c=Ei("internal-error");c.customData=l,i(c)},r.type="text/javascript",r.charset="UTF-8",l2().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});i2("Browser");var Fv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var vr,PE;(function(){var s;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(x,w){function I(){}I.prototype=w.prototype,x.F=w.prototype,x.prototype=new I,x.prototype.constructor=x,x.D=function(U,D,L){for(var R=Array(arguments.length-2),de=2;de<arguments.length;de++)R[de-2]=arguments[de];return w.prototype[D].apply(U,R)}}function i(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(r,i),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(x,w,I){I||(I=0);const U=Array(16);if(typeof w=="string")for(var D=0;D<16;++D)U[D]=w.charCodeAt(I++)|w.charCodeAt(I++)<<8|w.charCodeAt(I++)<<16|w.charCodeAt(I++)<<24;else for(D=0;D<16;++D)U[D]=w[I++]|w[I++]<<8|w[I++]<<16|w[I++]<<24;w=x.g[0],I=x.g[1],D=x.g[2];let L=x.g[3],R;R=w+(L^I&(D^L))+U[0]+3614090360&4294967295,w=I+(R<<7&4294967295|R>>>25),R=L+(D^w&(I^D))+U[1]+3905402710&4294967295,L=w+(R<<12&4294967295|R>>>20),R=D+(I^L&(w^I))+U[2]+606105819&4294967295,D=L+(R<<17&4294967295|R>>>15),R=I+(w^D&(L^w))+U[3]+3250441966&4294967295,I=D+(R<<22&4294967295|R>>>10),R=w+(L^I&(D^L))+U[4]+4118548399&4294967295,w=I+(R<<7&4294967295|R>>>25),R=L+(D^w&(I^D))+U[5]+1200080426&4294967295,L=w+(R<<12&4294967295|R>>>20),R=D+(I^L&(w^I))+U[6]+2821735955&4294967295,D=L+(R<<17&4294967295|R>>>15),R=I+(w^D&(L^w))+U[7]+4249261313&4294967295,I=D+(R<<22&4294967295|R>>>10),R=w+(L^I&(D^L))+U[8]+1770035416&4294967295,w=I+(R<<7&4294967295|R>>>25),R=L+(D^w&(I^D))+U[9]+2336552879&4294967295,L=w+(R<<12&4294967295|R>>>20),R=D+(I^L&(w^I))+U[10]+4294925233&4294967295,D=L+(R<<17&4294967295|R>>>15),R=I+(w^D&(L^w))+U[11]+2304563134&4294967295,I=D+(R<<22&4294967295|R>>>10),R=w+(L^I&(D^L))+U[12]+1804603682&4294967295,w=I+(R<<7&4294967295|R>>>25),R=L+(D^w&(I^D))+U[13]+4254626195&4294967295,L=w+(R<<12&4294967295|R>>>20),R=D+(I^L&(w^I))+U[14]+2792965006&4294967295,D=L+(R<<17&4294967295|R>>>15),R=I+(w^D&(L^w))+U[15]+1236535329&4294967295,I=D+(R<<22&4294967295|R>>>10),R=w+(D^L&(I^D))+U[1]+4129170786&4294967295,w=I+(R<<5&4294967295|R>>>27),R=L+(I^D&(w^I))+U[6]+3225465664&4294967295,L=w+(R<<9&4294967295|R>>>23),R=D+(w^I&(L^w))+U[11]+643717713&4294967295,D=L+(R<<14&4294967295|R>>>18),R=I+(L^w&(D^L))+U[0]+3921069994&4294967295,I=D+(R<<20&4294967295|R>>>12),R=w+(D^L&(I^D))+U[5]+3593408605&4294967295,w=I+(R<<5&4294967295|R>>>27),R=L+(I^D&(w^I))+U[10]+38016083&4294967295,L=w+(R<<9&4294967295|R>>>23),R=D+(w^I&(L^w))+U[15]+3634488961&4294967295,D=L+(R<<14&4294967295|R>>>18),R=I+(L^w&(D^L))+U[4]+3889429448&4294967295,I=D+(R<<20&4294967295|R>>>12),R=w+(D^L&(I^D))+U[9]+568446438&4294967295,w=I+(R<<5&4294967295|R>>>27),R=L+(I^D&(w^I))+U[14]+3275163606&4294967295,L=w+(R<<9&4294967295|R>>>23),R=D+(w^I&(L^w))+U[3]+4107603335&4294967295,D=L+(R<<14&4294967295|R>>>18),R=I+(L^w&(D^L))+U[8]+1163531501&4294967295,I=D+(R<<20&4294967295|R>>>12),R=w+(D^L&(I^D))+U[13]+2850285829&4294967295,w=I+(R<<5&4294967295|R>>>27),R=L+(I^D&(w^I))+U[2]+4243563512&4294967295,L=w+(R<<9&4294967295|R>>>23),R=D+(w^I&(L^w))+U[7]+1735328473&4294967295,D=L+(R<<14&4294967295|R>>>18),R=I+(L^w&(D^L))+U[12]+2368359562&4294967295,I=D+(R<<20&4294967295|R>>>12),R=w+(I^D^L)+U[5]+4294588738&4294967295,w=I+(R<<4&4294967295|R>>>28),R=L+(w^I^D)+U[8]+2272392833&4294967295,L=w+(R<<11&4294967295|R>>>21),R=D+(L^w^I)+U[11]+1839030562&4294967295,D=L+(R<<16&4294967295|R>>>16),R=I+(D^L^w)+U[14]+4259657740&4294967295,I=D+(R<<23&4294967295|R>>>9),R=w+(I^D^L)+U[1]+2763975236&4294967295,w=I+(R<<4&4294967295|R>>>28),R=L+(w^I^D)+U[4]+1272893353&4294967295,L=w+(R<<11&4294967295|R>>>21),R=D+(L^w^I)+U[7]+4139469664&4294967295,D=L+(R<<16&4294967295|R>>>16),R=I+(D^L^w)+U[10]+3200236656&4294967295,I=D+(R<<23&4294967295|R>>>9),R=w+(I^D^L)+U[13]+681279174&4294967295,w=I+(R<<4&4294967295|R>>>28),R=L+(w^I^D)+U[0]+3936430074&4294967295,L=w+(R<<11&4294967295|R>>>21),R=D+(L^w^I)+U[3]+3572445317&4294967295,D=L+(R<<16&4294967295|R>>>16),R=I+(D^L^w)+U[6]+76029189&4294967295,I=D+(R<<23&4294967295|R>>>9),R=w+(I^D^L)+U[9]+3654602809&4294967295,w=I+(R<<4&4294967295|R>>>28),R=L+(w^I^D)+U[12]+3873151461&4294967295,L=w+(R<<11&4294967295|R>>>21),R=D+(L^w^I)+U[15]+530742520&4294967295,D=L+(R<<16&4294967295|R>>>16),R=I+(D^L^w)+U[2]+3299628645&4294967295,I=D+(R<<23&4294967295|R>>>9),R=w+(D^(I|~L))+U[0]+4096336452&4294967295,w=I+(R<<6&4294967295|R>>>26),R=L+(I^(w|~D))+U[7]+1126891415&4294967295,L=w+(R<<10&4294967295|R>>>22),R=D+(w^(L|~I))+U[14]+2878612391&4294967295,D=L+(R<<15&4294967295|R>>>17),R=I+(L^(D|~w))+U[5]+4237533241&4294967295,I=D+(R<<21&4294967295|R>>>11),R=w+(D^(I|~L))+U[12]+1700485571&4294967295,w=I+(R<<6&4294967295|R>>>26),R=L+(I^(w|~D))+U[3]+2399980690&4294967295,L=w+(R<<10&4294967295|R>>>22),R=D+(w^(L|~I))+U[10]+4293915773&4294967295,D=L+(R<<15&4294967295|R>>>17),R=I+(L^(D|~w))+U[1]+2240044497&4294967295,I=D+(R<<21&4294967295|R>>>11),R=w+(D^(I|~L))+U[8]+1873313359&4294967295,w=I+(R<<6&4294967295|R>>>26),R=L+(I^(w|~D))+U[15]+4264355552&4294967295,L=w+(R<<10&4294967295|R>>>22),R=D+(w^(L|~I))+U[6]+2734768916&4294967295,D=L+(R<<15&4294967295|R>>>17),R=I+(L^(D|~w))+U[13]+1309151649&4294967295,I=D+(R<<21&4294967295|R>>>11),R=w+(D^(I|~L))+U[4]+4149444226&4294967295,w=I+(R<<6&4294967295|R>>>26),R=L+(I^(w|~D))+U[11]+3174756917&4294967295,L=w+(R<<10&4294967295|R>>>22),R=D+(w^(L|~I))+U[2]+718787259&4294967295,D=L+(R<<15&4294967295|R>>>17),R=I+(L^(D|~w))+U[9]+3951481745&4294967295,x.g[0]=x.g[0]+w&4294967295,x.g[1]=x.g[1]+(D+(R<<21&4294967295|R>>>11))&4294967295,x.g[2]=x.g[2]+D&4294967295,x.g[3]=x.g[3]+L&4294967295}r.prototype.v=function(x,w){w===void 0&&(w=x.length);const I=w-this.blockSize,U=this.C;let D=this.h,L=0;for(;L<w;){if(D==0)for(;L<=I;)l(this,x,L),L+=this.blockSize;if(typeof x=="string"){for(;L<w;)if(U[D++]=x.charCodeAt(L++),D==this.blockSize){l(this,U),D=0;break}}else for(;L<w;)if(U[D++]=x[L++],D==this.blockSize){l(this,U),D=0;break}}this.h=D,this.o+=w},r.prototype.A=function(){var x=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);x[0]=128;for(var w=1;w<x.length-8;++w)x[w]=0;w=this.o*8;for(var I=x.length-8;I<x.length;++I)x[I]=w&255,w/=256;for(this.v(x),x=Array(16),w=0,I=0;I<4;++I)for(let U=0;U<32;U+=8)x[w++]=this.g[I]>>>U&255;return x};function c(x,w){var I=p;return Object.prototype.hasOwnProperty.call(I,x)?I[x]:I[x]=w(x)}function d(x,w){this.h=w;const I=[];let U=!0;for(let D=x.length-1;D>=0;D--){const L=x[D]|0;U&&L==w||(I[D]=L,U=!1)}this.g=I}var p={};function _(x){return-128<=x&&x<128?c(x,function(w){return new d([w|0],w<0?-1:0)}):new d([x|0],x<0?-1:0)}function y(x){if(isNaN(x)||!isFinite(x))return b;if(x<0)return nt(y(-x));const w=[];let I=1;for(let U=0;x>=I;U++)w[U]=x/I|0,I*=4294967296;return new d(w,0)}function A(x,w){if(x.length==0)throw Error("number format error: empty string");if(w=w||10,w<2||36<w)throw Error("radix out of range: "+w);if(x.charAt(0)=="-")return nt(A(x.substring(1),w));if(x.indexOf("-")>=0)throw Error('number format error: interior "-" character');const I=y(Math.pow(w,8));let U=b;for(let L=0;L<x.length;L+=8){var D=Math.min(8,x.length-L);const R=parseInt(x.substring(L,L+D),w);D<8?(D=y(Math.pow(w,D)),U=U.j(D).add(y(R))):(U=U.j(I),U=U.add(y(R)))}return U}var b=_(0),N=_(1),Y=_(16777216);s=d.prototype,s.m=function(){if(lt(this))return-nt(this).m();let x=0,w=1;for(let I=0;I<this.g.length;I++){const U=this.i(I);x+=(U>=0?U:4294967296+U)*w,w*=4294967296}return x},s.toString=function(x){if(x=x||10,x<2||36<x)throw Error("radix out of range: "+x);if(et(this))return"0";if(lt(this))return"-"+nt(this).toString(x);const w=y(Math.pow(x,6));var I=this;let U="";for(;;){const D=Zt(I,w).g;I=pt(I,D.j(w));let L=((I.g.length>0?I.g[0]:I.h)>>>0).toString(x);if(I=D,et(I))return L+U;for(;L.length<6;)L="0"+L;U=L+U}},s.i=function(x){return x<0?0:x<this.g.length?this.g[x]:this.h};function et(x){if(x.h!=0)return!1;for(let w=0;w<x.g.length;w++)if(x.g[w]!=0)return!1;return!0}function lt(x){return x.h==-1}s.l=function(x){return x=pt(this,x),lt(x)?-1:et(x)?0:1};function nt(x){const w=x.g.length,I=[];for(let U=0;U<w;U++)I[U]=~x.g[U];return new d(I,~x.h).add(N)}s.abs=function(){return lt(this)?nt(this):this},s.add=function(x){const w=Math.max(this.g.length,x.g.length),I=[];let U=0;for(let D=0;D<=w;D++){let L=U+(this.i(D)&65535)+(x.i(D)&65535),R=(L>>>16)+(this.i(D)>>>16)+(x.i(D)>>>16);U=R>>>16,L&=65535,R&=65535,I[D]=R<<16|L}return new d(I,I[I.length-1]&-2147483648?-1:0)};function pt(x,w){return x.add(nt(w))}s.j=function(x){if(et(this)||et(x))return b;if(lt(this))return lt(x)?nt(this).j(nt(x)):nt(nt(this).j(x));if(lt(x))return nt(this.j(nt(x)));if(this.l(Y)<0&&x.l(Y)<0)return y(this.m()*x.m());const w=this.g.length+x.g.length,I=[];for(var U=0;U<2*w;U++)I[U]=0;for(U=0;U<this.g.length;U++)for(let D=0;D<x.g.length;D++){const L=this.i(U)>>>16,R=this.i(U)&65535,de=x.i(D)>>>16,Se=x.i(D)&65535;I[2*U+2*D]+=R*Se,wt(I,2*U+2*D),I[2*U+2*D+1]+=L*Se,wt(I,2*U+2*D+1),I[2*U+2*D+1]+=R*de,wt(I,2*U+2*D+1),I[2*U+2*D+2]+=L*de,wt(I,2*U+2*D+2)}for(x=0;x<w;x++)I[x]=I[2*x+1]<<16|I[2*x];for(x=w;x<2*w;x++)I[x]=0;return new d(I,0)};function wt(x,w){for(;(x[w]&65535)!=x[w];)x[w+1]+=x[w]>>>16,x[w]&=65535,w++}function Et(x,w){this.g=x,this.h=w}function Zt(x,w){if(et(w))throw Error("division by zero");if(et(x))return new Et(b,b);if(lt(x))return w=Zt(nt(x),w),new Et(nt(w.g),nt(w.h));if(lt(w))return w=Zt(x,nt(w)),new Et(nt(w.g),w.h);if(x.g.length>30){if(lt(x)||lt(w))throw Error("slowDivide_ only works with positive integers.");for(var I=N,U=w;U.l(x)<=0;)I=ie(I),U=ie(U);var D=Ft(I,1),L=Ft(U,1);for(U=Ft(U,2),I=Ft(I,2);!et(U);){var R=L.add(U);R.l(x)<=0&&(D=D.add(I),L=R),U=Ft(U,1),I=Ft(I,1)}return w=pt(x,D.j(w)),new Et(D,w)}for(D=b;x.l(w)>=0;){for(I=Math.max(1,Math.floor(x.m()/w.m())),U=Math.ceil(Math.log(I)/Math.LN2),U=U<=48?1:Math.pow(2,U-48),L=y(I),R=L.j(w);lt(R)||R.l(x)>0;)I-=U,L=y(I),R=L.j(w);et(L)&&(L=N),D=D.add(L),x=pt(x,R)}return new Et(D,x)}s.B=function(x){return Zt(this,x).h},s.and=function(x){const w=Math.max(this.g.length,x.g.length),I=[];for(let U=0;U<w;U++)I[U]=this.i(U)&x.i(U);return new d(I,this.h&x.h)},s.or=function(x){const w=Math.max(this.g.length,x.g.length),I=[];for(let U=0;U<w;U++)I[U]=this.i(U)|x.i(U);return new d(I,this.h|x.h)},s.xor=function(x){const w=Math.max(this.g.length,x.g.length),I=[];for(let U=0;U<w;U++)I[U]=this.i(U)^x.i(U);return new d(I,this.h^x.h)};function ie(x){const w=x.g.length+1,I=[];for(let U=0;U<w;U++)I[U]=x.i(U)<<1|x.i(U-1)>>>31;return new d(I,x.h)}function Ft(x,w){const I=w>>5;w%=32;const U=x.g.length-I,D=[];for(let L=0;L<U;L++)D[L]=w>0?x.i(L+I)>>>w|x.i(L+I+1)<<32-w:x.i(L+I);return new d(D,x.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,PE=r,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=y,d.fromString=A,vr=d}).apply(typeof Fv<"u"?Fv:typeof self<"u"?self:typeof window<"u"?window:{});var Kc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var jE,Hl,zE,sh,Em,BE,qE,HE;(function(){var s,t=Object.defineProperty;function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Kc=="object"&&Kc];for(var m=0;m<u.length;++m){var v=u[m];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var r=i(this);function l(u,m){if(m)t:{var v=r;u=u.split(".");for(var T=0;T<u.length-1;T++){var P=u[T];if(!(P in v))break t;v=v[P]}u=u[u.length-1],T=v[u],m=m(T),m!=T&&m!=null&&t(v,u,{configurable:!0,writable:!0,value:m})}}l("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),l("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),l("Object.entries",function(u){return u||function(m){var v=[],T;for(T in m)Object.prototype.hasOwnProperty.call(m,T)&&v.push([T,m[T]]);return v}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var c=c||{},d=this||self;function p(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function _(u,m,v){return u.call.apply(u.bind,arguments)}function y(u,m,v){return y=_,y.apply(null,arguments)}function A(u,m){var v=Array.prototype.slice.call(arguments,1);return function(){var T=v.slice();return T.push.apply(T,arguments),u.apply(this,T)}}function b(u,m){function v(){}v.prototype=m.prototype,u.Z=m.prototype,u.prototype=new v,u.prototype.constructor=u,u.Ob=function(T,P,q){for(var rt=Array(arguments.length-2),Dt=2;Dt<arguments.length;Dt++)rt[Dt-2]=arguments[Dt];return m.prototype[P].apply(T,rt)}}var N=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function Y(u){const m=u.length;if(m>0){const v=Array(m);for(let T=0;T<m;T++)v[T]=u[T];return v}return[]}function et(u,m){for(let T=1;T<arguments.length;T++){const P=arguments[T];var v=typeof P;if(v=v!="object"?v:P?Array.isArray(P)?"array":v:"null",v=="array"||v=="object"&&typeof P.length=="number"){v=u.length||0;const q=P.length||0;u.length=v+q;for(let rt=0;rt<q;rt++)u[v+rt]=P[rt]}else u.push(P)}}class lt{constructor(m,v){this.i=m,this.j=v,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function nt(u){d.setTimeout(()=>{throw u},0)}function pt(){var u=x;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class wt{constructor(){this.h=this.g=null}add(m,v){const T=Et.get();T.set(m,v),this.h?this.h.next=T:this.g=T,this.h=T}}var Et=new lt(()=>new Zt,u=>u.reset());class Zt{constructor(){this.next=this.g=this.h=null}set(m,v){this.h=m,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let ie,Ft=!1,x=new wt,w=()=>{const u=Promise.resolve(void 0);ie=()=>{u.then(I)}};function I(){for(var u;u=pt();){try{u.h.call(u.g)}catch(v){nt(v)}var m=Et;m.j(u),m.h<100&&(m.h++,u.next=m.g,m.g=u)}Ft=!1}function U(){this.u=this.u,this.C=this.C}U.prototype.u=!1,U.prototype.dispose=function(){this.u||(this.u=!0,this.N())},U.prototype[Symbol.dispose]=function(){this.dispose()},U.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function D(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}D.prototype.h=function(){this.defaultPrevented=!0};var L=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const v=()=>{};d.addEventListener("test",v,m),d.removeEventListener("test",v,m)}catch{}return u})();function R(u){return/^[\s\xa0]*$/.test(u)}function de(u,m){D.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,m)}b(de,D),de.prototype.init=function(u,m){const v=this.type=u.type,T=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget,m||(v=="mouseover"?m=u.fromElement:v=="mouseout"&&(m=u.toElement)),this.relatedTarget=m,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&de.Z.h.call(this)},de.prototype.h=function(){de.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var Se="closure_listenable_"+(Math.random()*1e6|0),G=0;function at(u,m,v,T,P){this.listener=u,this.proxy=null,this.src=m,this.type=v,this.capture=!!T,this.ha=P,this.key=++G,this.da=this.fa=!1}function gt(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Kt(u,m,v){for(const T in u)m.call(v,u[T],T,u)}function te(u,m){for(const v in u)m.call(void 0,u[v],v,u)}function V(u){const m={};for(const v in u)m[v]=u[v];return m}const F="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function st(u,m){let v,T;for(let P=1;P<arguments.length;P++){T=arguments[P];for(v in T)u[v]=T[v];for(let q=0;q<F.length;q++)v=F[q],Object.prototype.hasOwnProperty.call(T,v)&&(u[v]=T[v])}}function J(u){this.src=u,this.g={},this.h=0}J.prototype.add=function(u,m,v,T,P){const q=u.toString();u=this.g[q],u||(u=this.g[q]=[],this.h++);const rt=xt(u,m,T,P);return rt>-1?(m=u[rt],v||(m.fa=!1)):(m=new at(m,this.src,q,!!T,P),m.fa=v,u.push(m)),m};function Tt(u,m){const v=m.type;if(v in u.g){var T=u.g[v],P=Array.prototype.indexOf.call(T,m,void 0),q;(q=P>=0)&&Array.prototype.splice.call(T,P,1),q&&(gt(m),u.g[v].length==0&&(delete u.g[v],u.h--))}}function xt(u,m,v,T){for(let P=0;P<u.length;++P){const q=u[P];if(!q.da&&q.listener==m&&q.capture==!!v&&q.ha==T)return P}return-1}var Ut="closure_lm_"+(Math.random()*1e6|0),me={};function ge(u,m,v,T,P){if(Array.isArray(m)){for(let q=0;q<m.length;q++)ge(u,m[q],v,T,P);return null}return v=Ji(v),u&&u[Se]?u.J(m,v,p(T)?!!T.capture:!1,P):Qn(u,m,v,!1,T,P)}function Qn(u,m,v,T,P,q){if(!m)throw Error("Invalid event type");const rt=p(P)?!!P.capture:!!P;let Dt=Si(u);if(Dt||(u[Ut]=Dt=new J(u)),v=Dt.add(m,v,T,rt,q),v.proxy)return v;if(T=dn(),v.proxy=T,T.src=u,T.listener=v,u.addEventListener)L||(P=rt),P===void 0&&(P=!1),u.addEventListener(m.toString(),T,P);else if(u.attachEvent)u.attachEvent(Yn(m.toString()),T);else if(u.addListener&&u.removeListener)u.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return v}function dn(){function u(v){return m.call(u.src,u.listener,v)}const m=Ai;return u}function Zi(u,m,v,T,P){if(Array.isArray(m))for(var q=0;q<m.length;q++)Zi(u,m[q],v,T,P);else T=p(T)?!!T.capture:!!T,v=Ji(v),u&&u[Se]?(u=u.i,q=String(m).toString(),q in u.g&&(m=u.g[q],v=xt(m,v,T,P),v>-1&&(gt(m[v]),Array.prototype.splice.call(m,v,1),m.length==0&&(delete u.g[q],u.h--)))):u&&(u=Si(u))&&(m=u.g[m.toString()],u=-1,m&&(u=xt(m,v,T,P)),(v=u>-1?m[u]:null)&&Gt(v))}function Gt(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[Se])Tt(m.i,u);else{var v=u.type,T=u.proxy;m.removeEventListener?m.removeEventListener(v,T,u.capture):m.detachEvent?m.detachEvent(Yn(v),T):m.addListener&&m.removeListener&&m.removeListener(T),(v=Si(m))?(Tt(v,u),v.h==0&&(v.src=null,m[Ut]=null)):gt(u)}}}function Yn(u){return u in me?me[u]:me[u]="on"+u}function Ai(u,m){if(u.da)u=!0;else{m=new de(m,this);const v=u.listener,T=u.ha||u.src;u.fa&&Gt(u),u=v.call(T,m)}return u}function Si(u){return u=u[Ut],u instanceof J?u:null}var Ds="__closure_events_fn_"+(Math.random()*1e9>>>0);function Ji(u){return typeof u=="function"?u:(u[Ds]||(u[Ds]=function(m){return u.handleEvent(m)}),u[Ds])}function Ie(){U.call(this),this.i=new J(this),this.M=this,this.G=null}b(Ie,U),Ie.prototype[Se]=!0,Ie.prototype.removeEventListener=function(u,m,v,T){Zi(this,u,m,v,T)};function Me(u,m){var v,T=u.G;if(T)for(v=[];T;T=T.G)v.push(T);if(u=u.M,T=m.type||m,typeof m=="string")m=new D(m,u);else if(m instanceof D)m.target=m.target||u;else{var P=m;m=new D(T,u),st(m,P)}P=!0;let q,rt;if(v)for(rt=v.length-1;rt>=0;rt--)q=m.g=v[rt],P=bi(q,T,!0,m)&&P;if(q=m.g=u,P=bi(q,T,!0,m)&&P,P=bi(q,T,!1,m)&&P,v)for(rt=0;rt<v.length;rt++)q=m.g=v[rt],P=bi(q,T,!1,m)&&P}Ie.prototype.N=function(){if(Ie.Z.N.call(this),this.i){var u=this.i;for(const m in u.g){const v=u.g[m];for(let T=0;T<v.length;T++)gt(v[T]);delete u.g[m],u.h--}}this.G=null},Ie.prototype.J=function(u,m,v,T){return this.i.add(String(u),m,!1,v,T)},Ie.prototype.K=function(u,m,v,T){return this.i.add(String(u),m,!0,v,T)};function bi(u,m,v,T){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();let P=!0;for(let q=0;q<m.length;++q){const rt=m[q];if(rt&&!rt.da&&rt.capture==v){const Dt=rt.listener,Oe=rt.ha||rt.src;rt.fa&&Tt(u.i,rt),P=Dt.call(Oe,T)!==!1&&P}}return P&&!T.defaultPrevented}function Po(u,m){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=y(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(u,m||0)}function Ms(u){u.g=Po(()=>{u.g=null,u.i&&(u.i=!1,Ms(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class en extends U{constructor(m,v){super(),this.m=m,this.l=v,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:Ms(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Wi(u){U.call(this),this.h=u,this.g={}}b(Wi,U);var Mr=[];function Or(u){Kt(u.g,function(m,v){this.g.hasOwnProperty(v)&&Gt(m)},u),u.g={}}Wi.prototype.N=function(){Wi.Z.N.call(this),Or(this)},Wi.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var An=d.JSON.stringify,Os=d.JSON.parse,Vr=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function Ur(){}function va(){}var Sn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Ye(){D.call(this,"d")}b(Ye,D);function nn(){D.call(this,"c")}b(nn,D);var ye={},Ea=null;function ts(){return Ea=Ea||new Ie}ye.Ia="serverreachability";function Ta(u){D.call(this,ye.Ia,u)}b(Ta,D);function Mn(u){const m=ts();Me(m,new Ta(m))}ye.STAT_EVENT="statevent";function wi(u,m){D.call(this,ye.STAT_EVENT,u),this.stat=m}b(wi,D);function Ce(u){const m=ts();Me(m,new wi(m,u))}ye.Ja="timingevent";function Kn(u,m){D.call(this,ye.Ja,u),this.size=m}b(Kn,D);function Xn(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},m)}function On(){this.g=!0}On.prototype.ua=function(){this.g=!1};function jo(u,m,v,T,P,q){u.info(function(){if(u.g)if(q){var rt="",Dt=q.split("&");for(let ee=0;ee<Dt.length;ee++){var Oe=Dt[ee].split("=");if(Oe.length>1){const Te=Oe[0];Oe=Oe[1];const ti=Te.split("_");rt=ti.length>=2&&ti[1]=="type"?rt+(Te+"="+Oe+"&"):rt+(Te+"=redacted&")}}}else rt=null;else rt=q;return"XMLHTTP REQ ("+T+") [attempt "+P+"]: "+m+`
`+v+`
`+rt})}function Aa(u,m,v,T,P,q,rt){u.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+P+"]: "+m+`
`+v+`
`+q+" "+rt})}function $n(u,m,v,T){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+zo(u,v)+(T?" "+T:"")})}function es(u,m){u.info(function(){return"TIMEOUT: "+m})}On.prototype.info=function(){};function zo(u,m){if(!u.g)return m;if(!m)return null;try{const q=JSON.parse(m);if(q){for(u=0;u<q.length;u++)if(Array.isArray(q[u])){var v=q[u];if(!(v.length<2)){var T=v[1];if(Array.isArray(T)&&!(T.length<1)){var P=T[0];if(P!="noop"&&P!="stop"&&P!="close")for(let rt=1;rt<T.length;rt++)T[rt]=""}}}}return An(q)}catch{return m}}var ns={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},O={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},tt;function W(){}b(W,Ur),W.prototype.g=function(){return new XMLHttpRequest},tt=new W;function it(u){return encodeURIComponent(String(u))}function _t(u){var m=1;u=u.split(":");const v=[];for(;m>0&&u.length;)v.push(u.shift()),m--;return u.length&&v.push(u.join(":")),v}function Rt(u,m,v,T){this.j=u,this.i=m,this.l=v,this.S=T||1,this.V=new Wi(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Ot}function Ot(){this.i=null,this.g="",this.h=!1}var ut={},At={};function Ct(u,m,v){u.M=1,u.A=Lr(Pe(m)),u.u=v,u.R=!0,xe(u,null)}function xe(u,m){u.F=Date.now(),Ri(u),u.B=Pe(u.A);var v=u.B,T=u.S;Array.isArray(T)||(T=[String(T)]),Ia(v.i,"t",T),u.C=0,v=u.j.L,u.h=new Ot,u.g=zu(u.j,v?m:null,!u.u),u.P>0&&(u.O=new en(y(u.Y,u,u.g),u.P)),m=u.V,v=u.g,T=u.ba;var P="readystatechange";Array.isArray(P)||(P&&(Mr[0]=P.toString()),P=Mr);for(let q=0;q<P.length;q++){const rt=ge(v,P[q],T||m.handleEvent,!1,m.h||m);if(!rt)break;m.g[rt.key]=rt}m=u.J?V(u.J):{},u.u?(u.v||(u.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,m)):(u.v="GET",u.g.ea(u.B,u.v,null,m)),Mn(),jo(u.i,u.v,u.B,u.l,u.S,u.u)}Rt.prototype.ba=function(u){u=u.target;const m=this.O;m&&fi(u)==3?m.j():this.Y(u)},Rt.prototype.Y=function(u){try{if(u==this.g)t:{const Dt=fi(this.g),Oe=this.g.ya(),ee=this.g.ca();if(!(Dt<3)&&(Dt!=3||this.g&&(this.h.h||this.g.la()||sn(this.g)))){this.K||Dt!=4||Oe==7||(Oe==8||ee<=0?Mn(3):Mn(2)),Ii(this);var m=this.g.ca();this.X=m;var v=Ke(this);if(this.o=m==200,Aa(this.i,this.v,this.B,this.l,this.S,Dt,m),this.o){if(this.U&&!this.L){e:{if(this.g){var T,P=this.g;if((T=P.g?P.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!R(T)){var q=T;break e}}q=null}if(u=q)$n(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Ci(this,u);else{this.o=!1,this.m=3,Ce(12),Vn(this),Zn(this);break t}}if(this.R){u=!0;let Te;for(;!this.K&&this.C<v.length;)if(Te=Iu(this,v),Te==At){Dt==4&&(this.m=4,Ce(14),u=!1),$n(this.i,this.l,null,"[Incomplete Response]");break}else if(Te==ut){this.m=4,Ce(15),$n(this.i,this.l,v,"[Invalid Chunk]"),u=!1;break}else $n(this.i,this.l,Te,null),Ci(this,Te);if(Sa(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Dt!=4||v.length!=0||this.h.h||(this.m=1,Ce(16),u=!1),this.o=this.o&&u,!u)$n(this.i,this.l,v,"[Invalid Chunked Response]"),Vn(this),Zn(this);else if(v.length>0&&!this.W){this.W=!0;var rt=this.j;rt.g==this&&rt.aa&&!rt.P&&(rt.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),el(rt),rt.P=!0,Ce(11))}}else $n(this.i,this.l,v,null),Ci(this,v);Dt==4&&Vn(this),this.o&&!this.K&&(Dt==4?Lu(this.j,this):(this.o=!1,Ri(this)))}else ss(this.g),m==400&&v.indexOf("Unknown SID")>0?(this.m=3,Ce(12)):(this.m=0,Ce(13)),Vn(this),Zn(this)}}}catch{}finally{}};function Ke(u){if(!Sa(u))return u.g.la();const m=sn(u.g);if(m==="")return"";let v="";const T=m.length,P=fi(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return Vn(u),Zn(u),"";u.h.i=new d.TextDecoder}for(let q=0;q<T;q++)u.h.h=!0,v+=u.h.i.decode(m[q],{stream:!(P&&q==T-1)});return m.length=0,u.h.g+=v,u.C=0,u.h.g}function Sa(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function Iu(u,m){var v=u.C,T=m.indexOf(`
`,v);return T==-1?At:(v=Number(m.substring(v,T)),isNaN(v)?ut:(T+=1,T+v>m.length?At:(m=m.slice(T,T+v),u.C=T+v,m)))}Rt.prototype.cancel=function(){this.K=!0,Vn(this)};function Ri(u){u.T=Date.now()+u.H,ba(u,u.H)}function ba(u,m){if(u.D!=null)throw Error("WatchDog timer not null");u.D=Xn(y(u.aa,u),m)}function Ii(u){u.D&&(d.clearTimeout(u.D),u.D=null)}Rt.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(es(this.i,this.B),this.M!=2&&(Mn(),Ce(17)),Vn(this),this.m=2,Zn(this)):ba(this,this.T-u)};function Zn(u){u.j.I==0||u.K||Lu(u.j,u)}function Vn(u){Ii(u);var m=u.O;m&&typeof m.dispose=="function"&&m.dispose(),u.O=null,Or(u.V),u.g&&(m=u.g,u.g=null,m.abort(),m.dispose())}function Ci(u,m){try{var v=u.j;if(v.I!=0&&(v.g==u||Ni(v.h,u))){if(!u.L&&Ni(v.h,u)&&v.I==3){try{var T=v.Ba.g.parse(m)}catch{T=null}if(Array.isArray(T)&&T.length==3){var P=T;if(P[0]==0){t:if(!v.v){if(v.g)if(v.g.F+3e3<u.F)Ma(v),Bs(v);else break t;Hr(v),Ce(18)}}else v.xa=P[1],0<v.xa-v.K&&P[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=Xn(y(v.Va,v),6e3));xi(v.h)<=1&&v.ta&&(v.ta=void 0)}else Li(v,11)}else if((u.L||v.g==u)&&Ma(v),!R(m))for(P=v.Ba.g.parse(m),m=0;m<P.length;m++){let ee=P[m];const Te=ee[0];if(!(Te<=v.K))if(v.K=Te,ee=ee[1],v.I==2)if(ee[0]=="c"){v.M=ee[1],v.ba=ee[2];const ti=ee[3];ti!=null&&(v.ka=ti,v.j.info("VER="+v.ka));const ki=ee[4];ki!=null&&(v.za=ki,v.j.info("SVER="+v.za));const di=ee[5];di!=null&&typeof di=="number"&&di>0&&(T=1.5*di,v.O=T,v.j.info("backChannelRequestTimeoutMs_="+T)),T=v;const mi=u.g;if(mi){const Fr=mi.g?mi.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Fr){var q=T.h;q.g||Fr.indexOf("spdy")==-1&&Fr.indexOf("quic")==-1&&Fr.indexOf("h2")==-1||(q.j=q.l,q.g=new Set,q.h&&(Ho(q,q.h),q.h=null))}if(T.G){const Oa=mi.g?mi.g.getResponseHeader("X-HTTP-Session-Id"):null;Oa&&(T.wa=Oa,se(T.J,T.G,Oa))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-u.F,v.j.info("Handshake RTT: "+v.T+"ms")),T=v;var rt=u;if(T.na=ju(T,T.L?T.ba:null,T.W),rt.L){Fo(T.h,rt);var Dt=rt,Oe=T.O;Oe&&(Dt.H=Oe),Dt.D&&(Ii(Dt),Ri(Dt)),T.g=rt}else Vu(T);v.i.length>0&&Ui(v)}else ee[0]!="stop"&&ee[0]!="close"||Li(v,7);else v.I==3&&(ee[0]=="stop"||ee[0]=="close"?ee[0]=="stop"?Li(v,7):Wo(v):ee[0]!="noop"&&v.l&&v.l.qa(ee),v.A=0)}}Mn(4)}catch{}}var ke=class{constructor(u,m){this.g=u,this.map=m}};function Bo(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function qo(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function xi(u){return u.h?1:u.g?u.g.size:0}function Ni(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function Ho(u,m){u.g?u.g.add(m):u.h=m}function Fo(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}Bo.prototype.cancel=function(){if(this.i=Go(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Go(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const v of u.g.values())m=m.concat(v.G);return m}return Y(u.i)}var Cu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function wa(u,m){if(u){u=u.split("&");for(let v=0;v<u.length;v++){const T=u[v].indexOf("=");let P,q=null;T>=0?(P=u[v].substring(0,T),q=u[v].substring(T+1)):P=u[v],m(P,q?decodeURIComponent(q.replace(/\+/g," ")):"")}}}function Un(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;u instanceof Un?(this.l=u.l,Ze(this,u.j),this.o=u.o,this.g=u.g,Vs(this,u.u),this.h=u.h,Qo(this,Mu(u.i)),this.m=u.m):u&&(m=String(u).match(Cu))?(this.l=!1,Ze(this,m[1]||"",!0),this.o=Di(m[2]||""),this.g=Di(m[3]||"",!0),Vs(this,m[4]),this.h=Di(m[5]||"",!0),Qo(this,m[6]||"",!0),this.m=Di(m[7]||"")):(this.l=!1,this.i=new Ls(null,this.l))}Un.prototype.toString=function(){const u=[];var m=this.j;m&&u.push(kr(m,Ra,!0),":");var v=this.g;return(v||m=="file")&&(u.push("//"),(m=this.o)&&u.push(kr(m,Ra,!0),"@"),u.push(it(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&u.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&u.push("/"),u.push(kr(v,v.charAt(0)=="/"?Yo:xu,!0))),(v=this.i.toString())&&u.push("?",v),(v=this.m)&&u.push("#",kr(v,Nu)),u.join("")},Un.prototype.resolve=function(u){const m=Pe(this);let v=!!u.j;v?Ze(m,u.j):v=!!u.o,v?m.o=u.o:v=!!u.g,v?m.g=u.g:v=u.u!=null;var T=u.h;if(v)Vs(m,u.u);else if(v=!!u.h){if(T.charAt(0)!="/")if(this.g&&!this.h)T="/"+T;else{var P=m.h.lastIndexOf("/");P!=-1&&(T=m.h.slice(0,P+1)+T)}if(P=T,P==".."||P==".")T="";else if(P.indexOf("./")!=-1||P.indexOf("/.")!=-1){T=P.lastIndexOf("/",0)==0,P=P.split("/");const q=[];for(let rt=0;rt<P.length;){const Dt=P[rt++];Dt=="."?T&&rt==P.length&&q.push(""):Dt==".."?((q.length>1||q.length==1&&q[0]!="")&&q.pop(),T&&rt==P.length&&q.push("")):(q.push(Dt),T=!0)}T=q.join("/")}else T=P}return v?m.h=T:v=u.i.toString()!=="",v?Qo(m,Mu(u.i)):v=!!u.m,v&&(m.m=u.m),m};function Pe(u){return new Un(u)}function Ze(u,m,v){u.j=v?Di(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function Vs(u,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);u.u=m}else u.u=null}function Qo(u,m,v){m instanceof Ls?(u.i=m,Ca(u.i,u.l)):(v||(m=kr(m,Us)),u.i=new Ls(m,u.l))}function se(u,m,v){u.i.set(m,v)}function Lr(u){return se(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function Di(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function kr(u,m,v){return typeof u=="string"?(u=encodeURI(u).replace(m,bn),v&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function bn(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var Ra=/[#\/\?@]/g,xu=/[#\?:]/g,Yo=/[#\?]/g,Us=/[#\?@]/g,Nu=/#/g;function Ls(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function wn(u){u.g||(u.g=new Map,u.h=0,u.i&&wa(u.i,function(m,v){u.add(decodeURIComponent(m.replace(/\+/g," ")),v)}))}s=Ls.prototype,s.add=function(u,m){wn(this),this.i=null,u=ks(this,u);let v=this.g.get(u);return v||this.g.set(u,v=[]),v.push(m),this.h+=1,this};function Du(u,m){wn(u),m=ks(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function Ko(u,m){return wn(u),m=ks(u,m),u.g.has(m)}s.forEach=function(u,m){wn(this),this.g.forEach(function(v,T){v.forEach(function(P){u.call(m,P,T,this)},this)},this)};function Xo(u,m){wn(u);let v=[];if(typeof m=="string")Ko(u,m)&&(v=v.concat(u.g.get(ks(u,m))));else for(u=Array.from(u.g.values()),m=0;m<u.length;m++)v=v.concat(u[m]);return v}s.set=function(u,m){return wn(this),this.i=null,u=ks(this,u),Ko(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},s.get=function(u,m){return u?(u=Xo(this,u),u.length>0?String(u[0]):m):m};function Ia(u,m,v){Du(u,m),v.length>0&&(u.i=null,u.g.set(ks(u,m),Y(v)),u.h+=v.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(let T=0;T<m.length;T++){var v=m[T];const P=it(v);v=Xo(this,v);for(let q=0;q<v.length;q++){let rt=P;v[q]!==""&&(rt+="="+it(v[q])),u.push(rt)}}return this.i=u.join("&")};function Mu(u){const m=new Ls;return m.i=u.i,u.g&&(m.g=new Map(u.g),m.h=u.h),m}function ks(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function Ca(u,m){m&&!u.j&&(wn(u),u.i=null,u.g.forEach(function(v,T){const P=T.toLowerCase();T!=P&&(Du(this,T),Ia(this,P,v))},u)),u.j=m}function ci(u,m){const v=new On;if(d.Image){const T=new Image;T.onload=A(Jn,v,"TestLoadImage: loaded",!0,m,T),T.onerror=A(Jn,v,"TestLoadImage: error",!1,m,T),T.onabort=A(Jn,v,"TestLoadImage: abort",!1,m,T),T.ontimeout=A(Jn,v,"TestLoadImage: timeout",!1,m,T),d.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=u}else m(!1)}function $o(u,m){const v=new On,T=new AbortController,P=setTimeout(()=>{T.abort(),Jn(v,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:T.signal}).then(q=>{clearTimeout(P),q.ok?Jn(v,"TestPingServer: ok",!0,m):Jn(v,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(P),Jn(v,"TestPingServer: error",!1,m)})}function Jn(u,m,v,T,P){try{P&&(P.onload=null,P.onerror=null,P.onabort=null,P.ontimeout=null),T(v)}catch{}}function Ps(){this.g=new Vr}function Mi(u){this.i=u.Sb||null,this.h=u.ab||!1}b(Mi,Ur),Mi.prototype.g=function(){return new Pr(this.i,this.h)};function Pr(u,m){Ie.call(this),this.H=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}b(Pr,Ie),s=Pr.prototype,s.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=m,this.readyState=1,hi(this)},s.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(m.body=u),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,js(this)),this.readyState=0},s.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,hi(this)),this.g&&(this.readyState=3,hi(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;xa(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function xa(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}s.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?js(this):hi(this),this.readyState==3&&xa(this)}},s.Oa=function(u){this.g&&(this.response=this.responseText=u,js(this))},s.Na=function(u){this.g&&(this.response=u,js(this))},s.ga=function(){this.g&&js(this)};function js(u){u.readyState=4,u.l=null,u.j=null,u.B=null,hi(u)}s.setRequestHeader=function(u,m){this.A.append(u,m)},s.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var v=m.next();!v.done;)v=v.value,u.push(v[0]+": "+v[1]),v=m.next();return u.join(`\r
`)};function hi(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Pr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Wn(u){let m="";return Kt(u,function(v,T){m+=T,m+=":",m+=v,m+=`\r
`}),m}function jr(u,m,v){t:{for(T in v){var T=!1;break t}T=!0}T||(v=Wn(v),typeof u=="string"?v!=null&&it(v):se(u,m,v))}function oe(u){Ie.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}b(oe,Ie);var Oi=/^https?$/i,Zo=["POST","PUT"];s=oe.prototype,s.Fa=function(u){this.H=u},s.ea=function(u,m,v,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():tt.g(),this.g.onreadystatechange=N(y(this.Ca,this));try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(q){zr(this,q);return}if(u=v||"",v=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var P in T)v.set(P,T[P]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const q of T.keys())v.set(q,T.get(q));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(v.keys()).find(q=>q.toLowerCase()=="content-type"),P=d.FormData&&u instanceof d.FormData,!(Array.prototype.indexOf.call(Zo,m,void 0)>=0)||T||P||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[q,rt]of v)this.g.setRequestHeader(q,rt);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(q){zr(this,q)}};function zr(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.o=5,Jo(u),is(u)}function Jo(u){u.A||(u.A=!0,Me(u,"complete"),Me(u,"error"))}s.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,Me(this,"complete"),Me(this,"abort"),is(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),is(this,!0)),oe.Z.N.call(this)},s.Ca=function(){this.u||(this.B||this.v||this.j?Br(this):this.Xa())},s.Xa=function(){Br(this)};function Br(u){if(u.h&&typeof c<"u"){if(u.v&&fi(u)==4)setTimeout(u.Ca.bind(u),0);else if(Me(u,"readystatechange"),fi(u)==4){u.h=!1;try{const q=u.ca();t:switch(q){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var v;if(!(v=m)){var T;if(T=q===0){let rt=String(u.D).match(Cu)[1]||null;!rt&&d.self&&d.self.location&&(rt=d.self.location.protocol.slice(0,-1)),T=!Oi.test(rt?rt.toLowerCase():"")}v=T}if(v)Me(u,"complete"),Me(u,"success");else{u.o=6;try{var P=fi(u)>2?u.g.statusText:""}catch{P=""}u.l=P+" ["+u.ca()+"]",Jo(u)}}finally{is(u)}}}}function is(u,m){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const v=u.g;u.g=null,m||Me(u,"ready");try{v.onreadystatechange=null}catch{}}}s.isActive=function(){return!!this.g};function fi(u){return u.g?u.g.readyState:0}s.ca=function(){try{return fi(this)>2?this.g.status:-1}catch{return-1}},s.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.La=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),Os(m)}};function sn(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function ss(u){const m={};u=(u.g&&fi(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<u.length;T++){if(R(u[T]))continue;var v=_t(u[T]);const P=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const q=m[P]||[];m[P]=q,q.push(v)}te(m,function(T){return T.join(", ")})}s.ya=function(){return this.o},s.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Vi(u,m,v){return v&&v.internalChannelParams&&v.internalChannelParams[u]||m}function zs(u){this.za=0,this.i=[],this.j=new On,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Vi("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Vi("baseRetryDelayMs",5e3,u),this.Za=Vi("retryDelaySeedMs",1e4,u),this.Ta=Vi("forwardChannelMaxRetries",2,u),this.va=Vi("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new Bo(u&&u.concurrentRequestLimit),this.Ba=new Ps,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}s=zs.prototype,s.ka=8,s.I=1,s.connect=function(u,m,v,T){Ce(0),this.W=u,this.H=m||{},v&&T!==void 0&&(this.H.OSID=v,this.H.OAID=T),this.F=this.X,this.J=ju(this,null,this.W),Ui(this)};function Wo(u){if(Na(u),u.I==3){var m=u.V++,v=Pe(u.J);if(se(v,"SID",u.M),se(v,"RID",m),se(v,"TYPE","terminate"),qr(u,v),m=new Rt(u,u.j,m),m.M=2,m.A=Lr(Pe(v)),v=!1,d.navigator&&d.navigator.sendBeacon)try{v=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!v&&d.Image&&(new Image().src=m.A,v=!0),v||(m.g=zu(m.j,null),m.g.ea(m.A)),m.F=Date.now(),Ri(m)}Pu(u)}function Bs(u){u.g&&(el(u),u.g.cancel(),u.g=null)}function Na(u){Bs(u),u.v&&(d.clearTimeout(u.v),u.v=null),Ma(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&d.clearTimeout(u.m),u.m=null)}function Ui(u){if(!qo(u.h)&&!u.m){u.m=!0;var m=u.Ea;ie||w(),Ft||(ie(),Ft=!0),x.add(m,u),u.D=0}}function Da(u,m){return xi(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=m.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=Xn(y(u.Ea,u,m),ku(u,u.D)),u.D++,!0)}s.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const P=new Rt(this,this.j,u);let q=this.o;if(this.U&&(q?(q=V(q),st(q,this.U)):q=this.U),this.u!==null||this.R||(P.J=q,q=null),this.S)t:{for(var m=0,v=0;v<this.i.length;v++){e:{var T=this.i[v];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break e}T=void 0}if(T===void 0)break;if(m+=T,m>4096){m=v;break t}if(m===4096||v===this.i.length-1){m=v+1;break t}}m=1e3}else m=1e3;m=Ou(this,P,m),v=Pe(this.J),se(v,"RID",u),se(v,"CVER",22),this.G&&se(v,"X-HTTP-Session-Id",this.G),qr(this,v),q&&(this.R?m="headers="+it(Wn(q))+"&"+m:this.u&&jr(v,this.u,q)),Ho(this.h,P),this.Ra&&se(v,"TYPE","init"),this.S?(se(v,"$req",m),se(v,"SID","null"),P.U=!0,Ct(P,v,null)):Ct(P,v,m),this.I=2}}else this.I==3&&(u?tl(this,u):this.i.length==0||qo(this.h)||tl(this))};function tl(u,m){var v;m?v=m.l:v=u.V++;const T=Pe(u.J);se(T,"SID",u.M),se(T,"RID",v),se(T,"AID",u.K),qr(u,T),u.u&&u.o&&jr(T,u.u,u.o),v=new Rt(u,u.j,v,u.D+1),u.u===null&&(v.J=u.o),m&&(u.i=m.G.concat(u.i)),m=Ou(u,v,1e3),v.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),Ho(u.h,v),Ct(v,T,m)}function qr(u,m){u.H&&Kt(u.H,function(v,T){se(m,T,v)}),u.l&&Kt({},function(v,T){se(m,T,v)})}function Ou(u,m,v){v=Math.min(u.i.length,v);const T=u.l?y(u.l.Ka,u.l,u):null;t:{var P=u.i;let Dt=-1;for(;;){const Oe=["count="+v];Dt==-1?v>0?(Dt=P[0].g,Oe.push("ofs="+Dt)):Dt=0:Oe.push("ofs="+Dt);let ee=!0;for(let Te=0;Te<v;Te++){var q=P[Te].g;const ti=P[Te].map;if(q-=Dt,q<0)Dt=Math.max(0,P[Te].g-100),ee=!1;else try{q="req"+q+"_"||"";try{var rt=ti instanceof Map?ti:Object.entries(ti);for(const[ki,di]of rt){let mi=di;p(di)&&(mi=An(di)),Oe.push(q+ki+"="+encodeURIComponent(mi))}}catch(ki){throw Oe.push(q+"type="+encodeURIComponent("_badmap")),ki}}catch{T&&T(ti)}}if(ee){rt=Oe.join("&");break t}}rt=void 0}return u=u.i.splice(0,v),m.G=u,rt}function Vu(u){if(!u.g&&!u.v){u.Y=1;var m=u.Da;ie||w(),Ft||(ie(),Ft=!0),x.add(m,u),u.A=0}}function Hr(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=Xn(y(u.Da,u),ku(u,u.A)),u.A++,!0)}s.Da=function(){if(this.v=null,Uu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=Xn(y(this.Wa,this),u)}},s.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Ce(10),Bs(this),Uu(this))};function el(u){u.B!=null&&(d.clearTimeout(u.B),u.B=null)}function Uu(u){u.g=new Rt(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var m=Pe(u.na);se(m,"RID","rpc"),se(m,"SID",u.M),se(m,"AID",u.K),se(m,"CI",u.F?"0":"1"),!u.F&&u.ia&&se(m,"TO",u.ia),se(m,"TYPE","xmlhttp"),qr(u,m),u.u&&u.o&&jr(m,u.u,u.o),u.O&&(u.g.H=u.O);var v=u.g;u=u.ba,v.M=1,v.A=Lr(Pe(m)),v.u=null,v.R=!0,xe(v,u)}s.Va=function(){this.C!=null&&(this.C=null,Bs(this),Hr(this),Ce(19))};function Ma(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function Lu(u,m){var v=null;if(u.g==m){Ma(u),el(u),u.g=null;var T=2}else if(Ni(u.h,m))v=m.G,Fo(u.h,m),T=1;else return;if(u.I!=0){if(m.o)if(T==1){v=m.u?m.u.length:0,m=Date.now()-m.F;var P=u.D;T=ts(),Me(T,new Kn(T,v)),Ui(u)}else Vu(u);else if(P=m.m,P==3||P==0&&m.X>0||!(T==1&&Da(u,m)||T==2&&Hr(u)))switch(v&&v.length>0&&(m=u.h,m.i=m.i.concat(v)),P){case 1:Li(u,5);break;case 4:Li(u,10);break;case 3:Li(u,6);break;default:Li(u,2)}}}function ku(u,m){let v=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(v*=2),v*m}function Li(u,m){if(u.j.info("Error code "+m),m==2){var v=y(u.bb,u),T=u.Ua;const P=!T;T=new Un(T||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Ze(T,"https"),Lr(T),P?ci(T.toString(),v):$o(T.toString(),v)}else Ce(2);u.I=0,u.l&&u.l.pa(m),Pu(u),Na(u)}s.bb=function(u){u?(this.j.info("Successfully pinged google.com"),Ce(2)):(this.j.info("Failed to ping google.com"),Ce(1))};function Pu(u){if(u.I=0,u.ja=[],u.l){const m=Go(u.h);(m.length!=0||u.i.length!=0)&&(et(u.ja,m),et(u.ja,u.i),u.h.i.length=0,Y(u.i),u.i.length=0),u.l.oa()}}function ju(u,m,v){var T=v instanceof Un?Pe(v):new Un(v);if(T.g!="")m&&(T.g=m+"."+T.g),Vs(T,T.u);else{var P=d.location;T=P.protocol,m=m?m+"."+P.hostname:P.hostname,P=+P.port;const q=new Un(null);T&&Ze(q,T),m&&(q.g=m),P&&Vs(q,P),v&&(q.h=v),T=q}return v=u.G,m=u.wa,v&&m&&se(T,v,m),se(T,"VER",u.ka),qr(u,T),T}function zu(u,m,v){if(m&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Aa&&!u.ma?new oe(new Mi({ab:v})):new oe(u.ma),m.Fa(u.L),m}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function Bu(){}s=Bu.prototype,s.ra=function(){},s.qa=function(){},s.pa=function(){},s.oa=function(){},s.isActive=function(){return!0},s.Ka=function(){};function qs(){}qs.prototype.g=function(u,m){return new _n(u,m)};function _n(u,m){Ie.call(this),this.g=new zs(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(u?u["X-WebChannel-Client-Profile"]=m.sa:u={"X-WebChannel-Client-Profile":m.sa}),this.g.U=u,(u=m&&m.Qb)&&!R(u)&&(this.g.u=u),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!R(m)&&(this.g.G=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new rs(this)}b(_n,Ie),_n.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},_n.prototype.close=function(){Wo(this.g)},_n.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var v={};v.__data__=u,u=v}else this.v&&(v={},v.__data__=An(u),u=v);m.i.push(new ke(m.Ya++,u)),m.I==3&&Ui(m)},_n.prototype.N=function(){this.g.l=null,delete this.j,Wo(this.g),delete this.g,_n.Z.N.call(this)};function qu(u){Ye.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){t:{for(const v in m){u=v;break t}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}b(qu,Ye);function Hu(){nn.call(this),this.status=1}b(Hu,nn);function rs(u){this.g=u}b(rs,Bu),rs.prototype.ra=function(){Me(this.g,"a")},rs.prototype.qa=function(u){Me(this.g,new qu(u))},rs.prototype.pa=function(u){Me(this.g,new Hu)},rs.prototype.oa=function(){Me(this.g,"b")},qs.prototype.createWebChannel=qs.prototype.g,_n.prototype.send=_n.prototype.o,_n.prototype.open=_n.prototype.m,_n.prototype.close=_n.prototype.close,HE=function(){return new qs},qE=function(){return ts()},BE=ye,Em={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},ns.NO_ERROR=0,ns.TIMEOUT=8,ns.HTTP_ERROR=6,sh=ns,O.COMPLETE="complete",zE=O,va.EventType=Sn,Sn.OPEN="a",Sn.CLOSE="b",Sn.ERROR="c",Sn.MESSAGE="d",Ie.prototype.listen=Ie.prototype.J,Hl=va,oe.prototype.listenOnce=oe.prototype.K,oe.prototype.getLastError=oe.prototype.Ha,oe.prototype.getLastErrorCode=oe.prototype.ya,oe.prototype.getStatus=oe.prototype.ca,oe.prototype.getResponseJson=oe.prototype.La,oe.prototype.getResponseText=oe.prototype.la,oe.prototype.send=oe.prototype.ea,oe.prototype.setWithCredentials=oe.prototype.Fa,jE=oe}).apply(typeof Kc<"u"?Kc:typeof self<"u"?self:typeof window<"u"?window:{});const Gv="@firebase/firestore",Qv="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pn{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}pn.UNAUTHENTICATED=new pn(null),pn.GOOGLE_CREDENTIALS=new pn("google-credentials-uid"),pn.FIRST_PARTY=new pn("first-party-uid"),pn.MOCK_USER=new pn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Oo="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ga=new Pm("@firebase/firestore");function fo(){return ga.logLevel}function ct(s,...t){if(ga.logLevel<=Bt.DEBUG){const i=t.map(Zm);ga.debug(`Firestore (${Oo}): ${s}`,...i)}}function Cs(s,...t){if(ga.logLevel<=Bt.ERROR){const i=t.map(Zm);ga.error(`Firestore (${Oo}): ${s}`,...i)}}function bo(s,...t){if(ga.logLevel<=Bt.WARN){const i=t.map(Zm);ga.warn(`Firestore (${Oo}): ${s}`,...i)}}function Zm(s){if(typeof s=="string")return s;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(i){return JSON.stringify(i)})(s)}catch{return s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yt(s,t,i){let r="Unexpected state";typeof t=="string"?r=t:i=t,FE(s,r,i)}function FE(s,t,i){let r=`FIRESTORE (${Oo}) INTERNAL ASSERTION FAILED: ${t} (ID: ${s.toString(16)})`;if(i!==void 0)try{r+=" CONTEXT: "+JSON.stringify(i)}catch{r+=" CONTEXT: "+i}throw Cs(r),new Error(r)}function $t(s,t,i,r){let l="Unexpected state";typeof i=="string"?l=i:r=i,s||FE(t,l,r)}function It(s,t){return s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ot extends Ns{constructor(t,i){super(t,i),this.code=t,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fi{constructor(){this.promise=new Promise(((t,i)=>{this.resolve=t,this.reject=i}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GE{constructor(t,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class u2{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,i){t.enqueueRetryable((()=>i(pn.UNAUTHENTICATED)))}shutdown(){}}class c2{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,i){this.changeListener=i,t.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class h2{constructor(t){this.t=t,this.currentUser=pn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,i){$t(this.o===void 0,42304);let r=this.i;const l=_=>this.i!==r?(r=this.i,i(_)):Promise.resolve();let c=new Fi;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new Fi,t.enqueueRetryable((()=>l(this.currentUser)))};const d=()=>{const _=c;t.enqueueRetryable((async()=>{await _.promise,await l(this.currentUser)}))},p=_=>{ct("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=_,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((_=>p(_))),setTimeout((()=>{if(!this.auth){const _=this.t.getImmediate({optional:!0});_?p(_):(ct("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new Fi)}}),0),d()}getToken(){const t=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((r=>this.i!==t?(ct("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?($t(typeof r.accessToken=="string",31837,{l:r}),new GE(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return $t(t===null||typeof t=="string",2055,{h:t}),new pn(t)}}class f2{constructor(t,i,r){this.P=t,this.T=i,this.I=r,this.type="FirstParty",this.user=pn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class d2{constructor(t,i,r){this.P=t,this.T=i,this.I=r}getToken(){return Promise.resolve(new f2(this.P,this.T,this.I))}start(t,i){t.enqueueRetryable((()=>i(pn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Yv{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class m2{constructor(t,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,_i(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,i){$t(this.o===void 0,3512);const r=c=>{c.error!=null&&ct("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.m;return this.m=c.token,ct("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(c.token):Promise.resolve()};this.o=c=>{t.enqueueRetryable((()=>r(c)))};const l=c=>{ct("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>l(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?l(c):ct("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new Yv(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((i=>i?($t(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new Yv(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g2(s){const t=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(s);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(i);else for(let r=0;r<s;r++)i[r]=Math.floor(256*Math.random());return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jm{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const l=g2(40);for(let c=0;c<l.length;++c)r.length<20&&l[c]<i&&(r+=t.charAt(l[c]%62))}return r}}function qt(s,t){return s<t?-1:s>t?1:0}function Tm(s,t){const i=Math.min(s.length,t.length);for(let r=0;r<i;r++){const l=s.charAt(r),c=t.charAt(r);if(l!==c)return am(l)===am(c)?qt(l,c):am(l)?1:-1}return qt(s.length,t.length)}const p2=55296,y2=57343;function am(s){const t=s.charCodeAt(0);return t>=p2&&t<=y2}function wo(s,t,i){return s.length===t.length&&s.every(((r,l)=>i(r,t[l])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kv="__name__";class qi{constructor(t,i,r){i===void 0?i=0:i>t.length&&yt(637,{offset:i,range:t.length}),r===void 0?r=t.length-i:r>t.length-i&&yt(1746,{length:r,range:t.length-i}),this.segments=t,this.offset=i,this.len=r}get length(){return this.len}isEqual(t){return qi.comparator(this,t)===0}child(t){const i=this.segments.slice(this.offset,this.limit());return t instanceof qi?t.forEach((r=>{i.push(r)})):i.push(t),this.construct(i)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}forEach(t){for(let i=this.offset,r=this.limit();i<r;i++)t(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,i){const r=Math.min(t.length,i.length);for(let l=0;l<r;l++){const c=qi.compareSegments(t.get(l),i.get(l));if(c!==0)return c}return qt(t.length,i.length)}static compareSegments(t,i){const r=qi.isNumericId(t),l=qi.isNumericId(i);return r&&!l?-1:!r&&l?1:r&&l?qi.extractNumericId(t).compare(qi.extractNumericId(i)):Tm(t,i)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return vr.fromString(t.substring(4,t.length-2))}}class fe extends qi{construct(t,i,r){return new fe(t,i,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const i=[];for(const r of t){if(r.indexOf("//")>=0)throw new ot(K.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);i.push(...r.split("/").filter((l=>l.length>0)))}return new fe(i)}static emptyPath(){return new fe([])}}const _2=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class cn extends qi{construct(t,i,r){return new cn(t,i,r)}static isValidIdentifier(t){return _2.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),cn.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Kv}static keyField(){return new cn([Kv])}static fromServerFormat(t){const i=[];let r="",l=0;const c=()=>{if(r.length===0)throw new ot(K.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(r),r=""};let d=!1;for(;l<t.length;){const p=t[l];if(p==="\\"){if(l+1===t.length)throw new ot(K.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const _=t[l+1];if(_!=="\\"&&_!=="."&&_!=="`")throw new ot(K.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=_,l+=2}else p==="`"?(d=!d,l++):p!=="."||d?(r+=p,l++):(c(),l++)}if(c(),d)throw new ot(K.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new cn(i)}static emptyPath(){return new cn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dt{constructor(t){this.path=t}static fromPath(t){return new dt(fe.fromString(t))}static fromName(t){return new dt(fe.fromString(t).popFirst(5))}static empty(){return new dt(fe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&fe.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,i){return fe.comparator(t.path,i.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new dt(new fe(t.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QE(s,t,i){if(!i)throw new ot(K.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${t}.`)}function v2(s,t,i,r){if(t===!0&&r===!0)throw new ot(K.INVALID_ARGUMENT,`${s} and ${i} cannot be used together.`)}function Xv(s){if(!dt.isDocumentKey(s))throw new ot(K.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function $v(s){if(dt.isDocumentKey(s))throw new ot(K.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${s} has ${s.length}.`)}function YE(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}function Vh(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const t=(function(r){return r.constructor?r.constructor.name:null})(s);return t?`a custom ${t} object`:"an object"}}return typeof s=="function"?"a function":yt(12329,{type:typeof s})}function Tn(s,t){if("_delegate"in s&&(s=s._delegate),!(s instanceof t)){if(t.name===s.constructor.name)throw new ot(K.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=Vh(s);throw new ot(K.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${i}`)}}return s}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ge(s,t){const i={typeString:s};return t&&(i.value=t),i}function pu(s,t){if(!YE(s))throw new ot(K.INVALID_ARGUMENT,"JSON must be an object");let i;for(const r in t)if(t[r]){const l=t[r].typeString,c="value"in t[r]?{value:t[r].value}:void 0;if(!(r in s)){i=`JSON missing required field: '${r}'`;break}const d=s[r];if(l&&typeof d!==l){i=`JSON field '${r}' must be a ${l}.`;break}if(c!==void 0&&d!==c.value){i=`Expected '${r}' field to equal '${c.value}'`;break}}if(i)throw new ot(K.INVALID_ARGUMENT,i);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zv=-62135596800,Jv=1e6;class Ee{static now(){return Ee.fromMillis(Date.now())}static fromDate(t){return Ee.fromMillis(t.getTime())}static fromMillis(t){const i=Math.floor(t/1e3),r=Math.floor((t-1e3*i)*Jv);return new Ee(i,r)}constructor(t,i){if(this.seconds=t,this.nanoseconds=i,i<0)throw new ot(K.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new ot(K.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(t<Zv)throw new ot(K.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new ot(K.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Jv}_compareTo(t){return this.seconds===t.seconds?qt(this.nanoseconds,t.nanoseconds):qt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Ee._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(pu(t,Ee._jsonSchema))return new Ee(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-Zv;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Ee._jsonSchemaVersion="firestore/timestamp/1.0",Ee._jsonSchema={type:Ge("string",Ee._jsonSchemaVersion),seconds:Ge("number"),nanoseconds:Ge("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class St{static fromTimestamp(t){return new St(t)}static min(){return new St(new Ee(0,0))}static max(){return new St(new Ee(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nu=-1;function E2(s,t){const i=s.toTimestamp().seconds,r=s.toTimestamp().nanoseconds+1,l=St.fromTimestamp(r===1e9?new Ee(i+1,0):new Ee(i,r));return new Ar(l,dt.empty(),t)}function T2(s){return new Ar(s.readTime,s.key,nu)}class Ar{constructor(t,i,r){this.readTime=t,this.documentKey=i,this.largestBatchId=r}static min(){return new Ar(St.min(),dt.empty(),nu)}static max(){return new Ar(St.max(),dt.empty(),nu)}}function A2(s,t){let i=s.readTime.compareTo(t.readTime);return i!==0?i:(i=dt.comparator(s.documentKey,t.documentKey),i!==0?i:qt(s.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S2="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class b2{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Vo(s){if(s.code!==K.FAILED_PRECONDITION||s.message!==S2)throw s;ct("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(t){return this.next(void 0,t)}next(t,i){return this.callbackAttached&&yt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(t,this.result):new Z(((r,l)=>{this.nextCallback=c=>{this.wrapSuccess(t,c).next(r,l)},this.catchCallback=c=>{this.wrapFailure(i,c).next(r,l)}}))}toPromise(){return new Promise(((t,i)=>{this.next(t,i)}))}wrapUserFunction(t){try{const i=t();return i instanceof Z?i:Z.resolve(i)}catch(i){return Z.reject(i)}}wrapSuccess(t,i){return t?this.wrapUserFunction((()=>t(i))):Z.resolve(i)}wrapFailure(t,i){return t?this.wrapUserFunction((()=>t(i))):Z.reject(i)}static resolve(t){return new Z(((i,r)=>{i(t)}))}static reject(t){return new Z(((i,r)=>{r(t)}))}static waitFor(t){return new Z(((i,r)=>{let l=0,c=0,d=!1;t.forEach((p=>{++l,p.next((()=>{++c,d&&c===l&&i()}),(_=>r(_)))})),d=!0,c===l&&i()}))}static or(t){let i=Z.resolve(!1);for(const r of t)i=i.next((l=>l?Z.resolve(l):r()));return i}static forEach(t,i){const r=[];return t.forEach(((l,c)=>{r.push(i.call(this,l,c))})),this.waitFor(r)}static mapArray(t,i){return new Z(((r,l)=>{const c=t.length,d=new Array(c);let p=0;for(let _=0;_<c;_++){const y=_;i(t[y]).next((A=>{d[y]=A,++p,p===c&&r(d)}),(A=>l(A)))}}))}static doWhile(t,i){return new Z(((r,l)=>{const c=()=>{t()===!0?i().next((()=>{c()}),l):r()};c()}))}}function w2(s){const t=s.match(/Android ([\d.]+)/i),i=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function Uo(s){return s.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uh{constructor(t,i){this.previousValue=t,i&&(i.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>i.writeSequenceNumber(r))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}Uh.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wm=-1;function yu(s){return s==null}function _h(s){return s===0&&1/s==-1/0}function R2(s){return typeof s=="number"&&Number.isInteger(s)&&!_h(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KE="";function I2(s){let t="";for(let i=0;i<s.length;i++)t.length>0&&(t=Wv(t)),t=C2(s.get(i),t);return Wv(t)}function C2(s,t){let i=t;const r=s.length;for(let l=0;l<r;l++){const c=s.charAt(l);switch(c){case"\0":i+="";break;case KE:i+="";break;default:i+=c}}return i}function Wv(s){return s+KE+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t0(s){let t=0;for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&t++;return t}function xr(s,t){for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&t(i,s[i])}function XE(s){for(const t in s)if(Object.prototype.hasOwnProperty.call(s,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Re{constructor(t,i){this.comparator=t,this.root=i||un.EMPTY}insert(t,i){return new Re(this.comparator,this.root.insert(t,i,this.comparator).copy(null,null,un.BLACK,null,null))}remove(t){return new Re(this.comparator,this.root.remove(t,this.comparator).copy(null,null,un.BLACK,null,null))}get(t){let i=this.root;for(;!i.isEmpty();){const r=this.comparator(t,i.key);if(r===0)return i.value;r<0?i=i.left:r>0&&(i=i.right)}return null}indexOf(t){let i=0,r=this.root;for(;!r.isEmpty();){const l=this.comparator(t,r.key);if(l===0)return i+r.left.size;l<0?r=r.left:(i+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((i,r)=>(t(i,r),!1)))}toString(){const t=[];return this.inorderTraversal(((i,r)=>(t.push(`${i}:${r}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Xc(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Xc(this.root,t,this.comparator,!1)}getReverseIterator(){return new Xc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Xc(this.root,t,this.comparator,!0)}}class Xc{constructor(t,i,r,l){this.isReverse=l,this.nodeStack=[];let c=1;for(;!t.isEmpty();)if(c=i?r(t.key,i):1,i&&l&&(c*=-1),c<0)t=this.isReverse?t.left:t.right;else{if(c===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const i={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class un{constructor(t,i,r,l,c){this.key=t,this.value=i,this.color=r??un.RED,this.left=l??un.EMPTY,this.right=c??un.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,i,r,l,c){return new un(t??this.key,i??this.value,r??this.color,l??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,i,r){let l=this;const c=r(t,l.key);return l=c<0?l.copy(null,null,null,l.left.insert(t,i,r),null):c===0?l.copy(null,i,null,null,null):l.copy(null,null,null,null,l.right.insert(t,i,r)),l.fixUp()}removeMin(){if(this.left.isEmpty())return un.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,i){let r,l=this;if(i(t,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(t,i),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),i(t,l.key)===0){if(l.right.isEmpty())return un.EMPTY;r=l.right.min(),l=l.copy(r.key,r.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(t,i))}return l.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,un.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,un.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,i)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw yt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw yt(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw yt(27949);return t+(this.isRed()?0:1)}}un.EMPTY=null,un.RED=!0,un.BLACK=!1;un.EMPTY=new class{constructor(){this.size=0}get key(){throw yt(57766)}get value(){throw yt(16141)}get color(){throw yt(16727)}get left(){throw yt(29726)}get right(){throw yt(36894)}copy(t,i,r,l,c){return this}insert(t,i,r){return new un(t,i)}remove(t,i){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $e{constructor(t){this.comparator=t,this.data=new Re(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((i,r)=>(t(i),!1)))}forEachInRange(t,i){const r=this.data.getIteratorFrom(t[0]);for(;r.hasNext();){const l=r.getNext();if(this.comparator(l.key,t[1])>=0)return;i(l.key)}}forEachWhile(t,i){let r;for(r=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();r.hasNext();)if(!t(r.getNext().key))return}firstAfterOrEqual(t){const i=this.data.getIteratorFrom(t);return i.hasNext()?i.getNext().key:null}getIterator(){return new e0(this.data.getIterator())}getIteratorFrom(t){return new e0(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let i=this;return i.size<t.size&&(i=t,t=this),t.forEach((r=>{i=i.add(r)})),i}isEqual(t){if(!(t instanceof $e)||this.size!==t.size)return!1;const i=this.data.getIterator(),r=t.data.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=r.getNext().key;if(this.comparator(l,c)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((i=>{t.push(i)})),t}toString(){const t=[];return this.forEach((i=>t.push(i))),"SortedSet("+t.toString()+")"}copy(t){const i=new $e(this.comparator);return i.data=t,i}}class e0{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fn{constructor(t){this.fields=t,t.sort(cn.comparator)}static empty(){return new Fn([])}unionWith(t){let i=new $e(cn.comparator);for(const r of this.fields)i=i.add(r);for(const r of t)i=i.add(r);return new Fn(i.toArray())}covers(t){for(const i of this.fields)if(i.isPrefixOf(t))return!0;return!1}isEqual(t){return wo(this.fields,t.fields,((i,r)=>i.isEqual(r)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $E extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fn{constructor(t){this.binaryString=t}static fromBase64String(t){const i=(function(l){try{return atob(l)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new $E("Invalid base64 string: "+c):c}})(t);return new fn(i)}static fromUint8Array(t){const i=(function(l){let c="";for(let d=0;d<l.length;++d)c+=String.fromCharCode(l[d]);return c})(t);return new fn(i)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const r=new Uint8Array(i.length);for(let l=0;l<i.length;l++)r[l]=i.charCodeAt(l);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return qt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}fn.EMPTY_BYTE_STRING=new fn("");const x2=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Sr(s){if($t(!!s,39018),typeof s=="string"){let t=0;const i=x2.exec(s);if($t(!!i,46558,{timestamp:s}),i[1]){let l=i[1];l=(l+"000000000").substr(0,9),t=Number(l)}const r=new Date(s);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:Le(s.seconds),nanos:Le(s.nanos)}}function Le(s){return typeof s=="number"?s:typeof s=="string"?Number(s):0}function br(s){return typeof s=="string"?fn.fromBase64String(s):fn.fromUint8Array(s)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZE="server_timestamp",JE="__type__",WE="__previous_value__",tT="__local_write_time__";function tg(s){return(s?.mapValue?.fields||{})[JE]?.stringValue===ZE}function Lh(s){const t=s.mapValue.fields[WE];return tg(t)?Lh(t):t}function iu(s){const t=Sr(s.mapValue.fields[tT].timestampValue);return new Ee(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N2{constructor(t,i,r,l,c,d,p,_,y,A){this.databaseId=t,this.appId=i,this.persistenceKey=r,this.host=l,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=p,this.longPollingOptions=_,this.useFetchStreams=y,this.isUsingEmulator=A}}const vh="(default)";class su{constructor(t,i){this.projectId=t,this.database=i||vh}static empty(){return new su("","")}get isDefaultDatabase(){return this.database===vh}isEqual(t){return t instanceof su&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eT="__type__",D2="__max__",$c={mapValue:{}},nT="__vector__",Eh="value";function wr(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?tg(s)?4:O2(s)?9007199254740991:M2(s)?10:11:yt(28295,{value:s})}function Xi(s,t){if(s===t)return!0;const i=wr(s);if(i!==wr(t))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===t.booleanValue;case 4:return iu(s).isEqual(iu(t));case 3:return(function(l,c){if(typeof l.timestampValue=="string"&&typeof c.timestampValue=="string"&&l.timestampValue.length===c.timestampValue.length)return l.timestampValue===c.timestampValue;const d=Sr(l.timestampValue),p=Sr(c.timestampValue);return d.seconds===p.seconds&&d.nanos===p.nanos})(s,t);case 5:return s.stringValue===t.stringValue;case 6:return(function(l,c){return br(l.bytesValue).isEqual(br(c.bytesValue))})(s,t);case 7:return s.referenceValue===t.referenceValue;case 8:return(function(l,c){return Le(l.geoPointValue.latitude)===Le(c.geoPointValue.latitude)&&Le(l.geoPointValue.longitude)===Le(c.geoPointValue.longitude)})(s,t);case 2:return(function(l,c){if("integerValue"in l&&"integerValue"in c)return Le(l.integerValue)===Le(c.integerValue);if("doubleValue"in l&&"doubleValue"in c){const d=Le(l.doubleValue),p=Le(c.doubleValue);return d===p?_h(d)===_h(p):isNaN(d)&&isNaN(p)}return!1})(s,t);case 9:return wo(s.arrayValue.values||[],t.arrayValue.values||[],Xi);case 10:case 11:return(function(l,c){const d=l.mapValue.fields||{},p=c.mapValue.fields||{};if(t0(d)!==t0(p))return!1;for(const _ in d)if(d.hasOwnProperty(_)&&(p[_]===void 0||!Xi(d[_],p[_])))return!1;return!0})(s,t);default:return yt(52216,{left:s})}}function ru(s,t){return(s.values||[]).find((i=>Xi(i,t)))!==void 0}function Ro(s,t){if(s===t)return 0;const i=wr(s),r=wr(t);if(i!==r)return qt(i,r);switch(i){case 0:case 9007199254740991:return 0;case 1:return qt(s.booleanValue,t.booleanValue);case 2:return(function(c,d){const p=Le(c.integerValue||c.doubleValue),_=Le(d.integerValue||d.doubleValue);return p<_?-1:p>_?1:p===_?0:isNaN(p)?isNaN(_)?0:-1:1})(s,t);case 3:return n0(s.timestampValue,t.timestampValue);case 4:return n0(iu(s),iu(t));case 5:return Tm(s.stringValue,t.stringValue);case 6:return(function(c,d){const p=br(c),_=br(d);return p.compareTo(_)})(s.bytesValue,t.bytesValue);case 7:return(function(c,d){const p=c.split("/"),_=d.split("/");for(let y=0;y<p.length&&y<_.length;y++){const A=qt(p[y],_[y]);if(A!==0)return A}return qt(p.length,_.length)})(s.referenceValue,t.referenceValue);case 8:return(function(c,d){const p=qt(Le(c.latitude),Le(d.latitude));return p!==0?p:qt(Le(c.longitude),Le(d.longitude))})(s.geoPointValue,t.geoPointValue);case 9:return i0(s.arrayValue,t.arrayValue);case 10:return(function(c,d){const p=c.fields||{},_=d.fields||{},y=p[Eh]?.arrayValue,A=_[Eh]?.arrayValue,b=qt(y?.values?.length||0,A?.values?.length||0);return b!==0?b:i0(y,A)})(s.mapValue,t.mapValue);case 11:return(function(c,d){if(c===$c.mapValue&&d===$c.mapValue)return 0;if(c===$c.mapValue)return 1;if(d===$c.mapValue)return-1;const p=c.fields||{},_=Object.keys(p),y=d.fields||{},A=Object.keys(y);_.sort(),A.sort();for(let b=0;b<_.length&&b<A.length;++b){const N=Tm(_[b],A[b]);if(N!==0)return N;const Y=Ro(p[_[b]],y[A[b]]);if(Y!==0)return Y}return qt(_.length,A.length)})(s.mapValue,t.mapValue);default:throw yt(23264,{he:i})}}function n0(s,t){if(typeof s=="string"&&typeof t=="string"&&s.length===t.length)return qt(s,t);const i=Sr(s),r=Sr(t),l=qt(i.seconds,r.seconds);return l!==0?l:qt(i.nanos,r.nanos)}function i0(s,t){const i=s.values||[],r=t.values||[];for(let l=0;l<i.length&&l<r.length;++l){const c=Ro(i[l],r[l]);if(c)return c}return qt(i.length,r.length)}function Io(s){return Am(s)}function Am(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?(function(i){const r=Sr(i);return`time(${r.seconds},${r.nanos})`})(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?(function(i){return br(i).toBase64()})(s.bytesValue):"referenceValue"in s?(function(i){return dt.fromName(i).toString()})(s.referenceValue):"geoPointValue"in s?(function(i){return`geo(${i.latitude},${i.longitude})`})(s.geoPointValue):"arrayValue"in s?(function(i){let r="[",l=!0;for(const c of i.values||[])l?l=!1:r+=",",r+=Am(c);return r+"]"})(s.arrayValue):"mapValue"in s?(function(i){const r=Object.keys(i.fields||{}).sort();let l="{",c=!0;for(const d of r)c?c=!1:l+=",",l+=`${d}:${Am(i.fields[d])}`;return l+"}"})(s.mapValue):yt(61005,{value:s})}function rh(s){switch(wr(s)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=Lh(s);return t?16+rh(t):16;case 5:return 2*s.stringValue.length;case 6:return br(s.bytesValue).approximateByteSize();case 7:return s.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((l,c)=>l+rh(c)),0)})(s.arrayValue);case 10:case 11:return(function(r){let l=0;return xr(r.fields,((c,d)=>{l+=c.length+rh(d)})),l})(s.mapValue);default:throw yt(13486,{value:s})}}function s0(s,t){return{referenceValue:`projects/${s.projectId}/databases/${s.database}/documents/${t.path.canonicalString()}`}}function Sm(s){return!!s&&"integerValue"in s}function eg(s){return!!s&&"arrayValue"in s}function r0(s){return!!s&&"nullValue"in s}function a0(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function ah(s){return!!s&&"mapValue"in s}function M2(s){return(s?.mapValue?.fields||{})[eT]?.stringValue===nT}function Xl(s){if(s.geoPointValue)return{geoPointValue:{...s.geoPointValue}};if(s.timestampValue&&typeof s.timestampValue=="object")return{timestampValue:{...s.timestampValue}};if(s.mapValue){const t={mapValue:{fields:{}}};return xr(s.mapValue.fields,((i,r)=>t.mapValue.fields[i]=Xl(r))),t}if(s.arrayValue){const t={arrayValue:{values:[]}};for(let i=0;i<(s.arrayValue.values||[]).length;++i)t.arrayValue.values[i]=Xl(s.arrayValue.values[i]);return t}return{...s}}function O2(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue===D2}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class En{constructor(t){this.value=t}static empty(){return new En({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let i=this.value;for(let r=0;r<t.length-1;++r)if(i=(i.mapValue.fields||{})[t.get(r)],!ah(i))return null;return i=(i.mapValue.fields||{})[t.lastSegment()],i||null}}set(t,i){this.getFieldsMap(t.popLast())[t.lastSegment()]=Xl(i)}setAll(t){let i=cn.emptyPath(),r={},l=[];t.forEach(((d,p)=>{if(!i.isImmediateParentOf(p)){const _=this.getFieldsMap(i);this.applyChanges(_,r,l),r={},l=[],i=p.popLast()}d?r[p.lastSegment()]=Xl(d):l.push(p.lastSegment())}));const c=this.getFieldsMap(i);this.applyChanges(c,r,l)}delete(t){const i=this.field(t.popLast());ah(i)&&i.mapValue.fields&&delete i.mapValue.fields[t.lastSegment()]}isEqual(t){return Xi(this.value,t.value)}getFieldsMap(t){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let r=0;r<t.length;++r){let l=i.mapValue.fields[t.get(r)];ah(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},i.mapValue.fields[t.get(r)]=l),i=l}return i.mapValue.fields}applyChanges(t,i,r){xr(i,((l,c)=>t[l]=c));for(const l of r)delete t[l]}clone(){return new En(Xl(this.value))}}function iT(s){const t=[];return xr(s.fields,((i,r)=>{const l=new cn([i]);if(ah(r)){const c=iT(r.mapValue).fields;if(c.length===0)t.push(l);else for(const d of c)t.push(l.child(d))}else t.push(l)})),new Fn(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tn{constructor(t,i,r,l,c,d,p){this.key=t,this.documentType=i,this.version=r,this.readTime=l,this.createTime=c,this.data=d,this.documentState=p}static newInvalidDocument(t){return new tn(t,0,St.min(),St.min(),St.min(),En.empty(),0)}static newFoundDocument(t,i,r,l){return new tn(t,1,i,St.min(),r,l,0)}static newNoDocument(t,i){return new tn(t,2,i,St.min(),St.min(),En.empty(),0)}static newUnknownDocument(t,i){return new tn(t,3,i,St.min(),St.min(),En.empty(),2)}convertToFoundDocument(t,i){return!this.createTime.isEqual(St.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=En.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=En.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=St.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof tn&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new tn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Th{constructor(t,i){this.position=t,this.inclusive=i}}function o0(s,t,i){let r=0;for(let l=0;l<s.position.length;l++){const c=t[l],d=s.position[l];if(c.field.isKeyField()?r=dt.comparator(dt.fromName(d.referenceValue),i.key):r=Ro(d,i.data.field(c.field)),c.dir==="desc"&&(r*=-1),r!==0)break}return r}function l0(s,t){if(s===null)return t===null;if(t===null||s.inclusive!==t.inclusive||s.position.length!==t.position.length)return!1;for(let i=0;i<s.position.length;i++)if(!Xi(s.position[i],t.position[i]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class au{constructor(t,i="asc"){this.field=t,this.dir=i}}function V2(s,t){return s.dir===t.dir&&s.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sT{}class Fe extends sT{constructor(t,i,r){super(),this.field=t,this.op=i,this.value=r}static create(t,i,r){return t.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(t,i,r):new L2(t,i,r):i==="array-contains"?new j2(t,r):i==="in"?new z2(t,r):i==="not-in"?new B2(t,r):i==="array-contains-any"?new q2(t,r):new Fe(t,i,r)}static createKeyFieldInFilter(t,i,r){return i==="in"?new k2(t,r):new P2(t,r)}matches(t){const i=t.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(Ro(i,this.value)):i!==null&&wr(this.value)===wr(i)&&this.matchesComparison(Ro(i,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return yt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ti extends sT{constructor(t,i){super(),this.filters=t,this.op=i,this.Pe=null}static create(t,i){return new Ti(t,i)}matches(t){return rT(this)?this.filters.find((i=>!i.matches(t)))===void 0:this.filters.find((i=>i.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,i)=>t.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function rT(s){return s.op==="and"}function aT(s){return U2(s)&&rT(s)}function U2(s){for(const t of s.filters)if(t instanceof Ti)return!1;return!0}function bm(s){if(s instanceof Fe)return s.field.canonicalString()+s.op.toString()+Io(s.value);if(aT(s))return s.filters.map((t=>bm(t))).join(",");{const t=s.filters.map((i=>bm(i))).join(",");return`${s.op}(${t})`}}function oT(s,t){return s instanceof Fe?(function(r,l){return l instanceof Fe&&r.op===l.op&&r.field.isEqual(l.field)&&Xi(r.value,l.value)})(s,t):s instanceof Ti?(function(r,l){return l instanceof Ti&&r.op===l.op&&r.filters.length===l.filters.length?r.filters.reduce(((c,d,p)=>c&&oT(d,l.filters[p])),!0):!1})(s,t):void yt(19439)}function lT(s){return s instanceof Fe?(function(i){return`${i.field.canonicalString()} ${i.op} ${Io(i.value)}`})(s):s instanceof Ti?(function(i){return i.op.toString()+" {"+i.getFilters().map(lT).join(" ,")+"}"})(s):"Filter"}class L2 extends Fe{constructor(t,i,r){super(t,i,r),this.key=dt.fromName(r.referenceValue)}matches(t){const i=dt.comparator(t.key,this.key);return this.matchesComparison(i)}}class k2 extends Fe{constructor(t,i){super(t,"in",i),this.keys=uT("in",i)}matches(t){return this.keys.some((i=>i.isEqual(t.key)))}}class P2 extends Fe{constructor(t,i){super(t,"not-in",i),this.keys=uT("not-in",i)}matches(t){return!this.keys.some((i=>i.isEqual(t.key)))}}function uT(s,t){return(t.arrayValue?.values||[]).map((i=>dt.fromName(i.referenceValue)))}class j2 extends Fe{constructor(t,i){super(t,"array-contains",i)}matches(t){const i=t.data.field(this.field);return eg(i)&&ru(i.arrayValue,this.value)}}class z2 extends Fe{constructor(t,i){super(t,"in",i)}matches(t){const i=t.data.field(this.field);return i!==null&&ru(this.value.arrayValue,i)}}class B2 extends Fe{constructor(t,i){super(t,"not-in",i)}matches(t){if(ru(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=t.data.field(this.field);return i!==null&&i.nullValue===void 0&&!ru(this.value.arrayValue,i)}}class q2 extends Fe{constructor(t,i){super(t,"array-contains-any",i)}matches(t){const i=t.data.field(this.field);return!(!eg(i)||!i.arrayValue.values)&&i.arrayValue.values.some((r=>ru(this.value.arrayValue,r)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H2{constructor(t,i=null,r=[],l=[],c=null,d=null,p=null){this.path=t,this.collectionGroup=i,this.orderBy=r,this.filters=l,this.limit=c,this.startAt=d,this.endAt=p,this.Te=null}}function u0(s,t=null,i=[],r=[],l=null,c=null,d=null){return new H2(s,t,i,r,l,c,d)}function ng(s){const t=It(s);if(t.Te===null){let i=t.path.canonicalString();t.collectionGroup!==null&&(i+="|cg:"+t.collectionGroup),i+="|f:",i+=t.filters.map((r=>bm(r))).join(","),i+="|ob:",i+=t.orderBy.map((r=>(function(c){return c.field.canonicalString()+c.dir})(r))).join(","),yu(t.limit)||(i+="|l:",i+=t.limit),t.startAt&&(i+="|lb:",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map((r=>Io(r))).join(",")),t.endAt&&(i+="|ub:",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map((r=>Io(r))).join(",")),t.Te=i}return t.Te}function ig(s,t){if(s.limit!==t.limit||s.orderBy.length!==t.orderBy.length)return!1;for(let i=0;i<s.orderBy.length;i++)if(!V2(s.orderBy[i],t.orderBy[i]))return!1;if(s.filters.length!==t.filters.length)return!1;for(let i=0;i<s.filters.length;i++)if(!oT(s.filters[i],t.filters[i]))return!1;return s.collectionGroup===t.collectionGroup&&!!s.path.isEqual(t.path)&&!!l0(s.startAt,t.startAt)&&l0(s.endAt,t.endAt)}function wm(s){return dt.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lo{constructor(t,i=null,r=[],l=[],c=null,d="F",p=null,_=null){this.path=t,this.collectionGroup=i,this.explicitOrderBy=r,this.filters=l,this.limit=c,this.limitType=d,this.startAt=p,this.endAt=_,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function F2(s,t,i,r,l,c,d,p){return new Lo(s,t,i,r,l,c,d,p)}function kh(s){return new Lo(s)}function c0(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}function cT(s){return s.collectionGroup!==null}function $l(s){const t=It(s);if(t.Ie===null){t.Ie=[];const i=new Set;for(const c of t.explicitOrderBy)t.Ie.push(c),i.add(c.field.canonicalString());const r=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(d){let p=new $e(cn.comparator);return d.filters.forEach((_=>{_.getFlattenedFilters().forEach((y=>{y.isInequality()&&(p=p.add(y.field))}))})),p})(t).forEach((c=>{i.has(c.canonicalString())||c.isKeyField()||t.Ie.push(new au(c,r))})),i.has(cn.keyField().canonicalString())||t.Ie.push(new au(cn.keyField(),r))}return t.Ie}function Gi(s){const t=It(s);return t.Ee||(t.Ee=G2(t,$l(s))),t.Ee}function G2(s,t){if(s.limitType==="F")return u0(s.path,s.collectionGroup,t,s.filters,s.limit,s.startAt,s.endAt);{t=t.map((l=>{const c=l.dir==="desc"?"asc":"desc";return new au(l.field,c)}));const i=s.endAt?new Th(s.endAt.position,s.endAt.inclusive):null,r=s.startAt?new Th(s.startAt.position,s.startAt.inclusive):null;return u0(s.path,s.collectionGroup,t,s.filters,s.limit,i,r)}}function Rm(s,t){const i=s.filters.concat([t]);return new Lo(s.path,s.collectionGroup,s.explicitOrderBy.slice(),i,s.limit,s.limitType,s.startAt,s.endAt)}function Im(s,t,i){return new Lo(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),t,i,s.startAt,s.endAt)}function Ph(s,t){return ig(Gi(s),Gi(t))&&s.limitType===t.limitType}function hT(s){return`${ng(Gi(s))}|lt:${s.limitType}`}function mo(s){return`Query(target=${(function(i){let r=i.path.canonicalString();return i.collectionGroup!==null&&(r+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(r+=`, filters: [${i.filters.map((l=>lT(l))).join(", ")}]`),yu(i.limit)||(r+=", limit: "+i.limit),i.orderBy.length>0&&(r+=`, orderBy: [${i.orderBy.map((l=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(l))).join(", ")}]`),i.startAt&&(r+=", startAt: ",r+=i.startAt.inclusive?"b:":"a:",r+=i.startAt.position.map((l=>Io(l))).join(",")),i.endAt&&(r+=", endAt: ",r+=i.endAt.inclusive?"a:":"b:",r+=i.endAt.position.map((l=>Io(l))).join(",")),`Target(${r})`})(Gi(s))}; limitType=${s.limitType})`}function jh(s,t){return t.isFoundDocument()&&(function(r,l){const c=l.key.path;return r.collectionGroup!==null?l.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(c):dt.isDocumentKey(r.path)?r.path.isEqual(c):r.path.isImmediateParentOf(c)})(s,t)&&(function(r,l){for(const c of $l(r))if(!c.field.isKeyField()&&l.data.field(c.field)===null)return!1;return!0})(s,t)&&(function(r,l){for(const c of r.filters)if(!c.matches(l))return!1;return!0})(s,t)&&(function(r,l){return!(r.startAt&&!(function(d,p,_){const y=o0(d,p,_);return d.inclusive?y<=0:y<0})(r.startAt,$l(r),l)||r.endAt&&!(function(d,p,_){const y=o0(d,p,_);return d.inclusive?y>=0:y>0})(r.endAt,$l(r),l))})(s,t)}function Q2(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function fT(s){return(t,i)=>{let r=!1;for(const l of $l(s)){const c=Y2(l,t,i);if(c!==0)return c;r=r||l.field.isKeyField()}return 0}}function Y2(s,t,i){const r=s.field.isKeyField()?dt.comparator(t.key,i.key):(function(c,d,p){const _=d.data.field(c),y=p.data.field(c);return _!==null&&y!==null?Ro(_,y):yt(42886)})(s.field,t,i);switch(s.dir){case"asc":return r;case"desc":return-1*r;default:return yt(19790,{direction:s.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ya{constructor(t,i){this.mapKeyFn=t,this.equalsFn=i,this.inner={},this.innerSize=0}get(t){const i=this.mapKeyFn(t),r=this.inner[i];if(r!==void 0){for(const[l,c]of r)if(this.equalsFn(l,t))return c}}has(t){return this.get(t)!==void 0}set(t,i){const r=this.mapKeyFn(t),l=this.inner[r];if(l===void 0)return this.inner[r]=[[t,i]],void this.innerSize++;for(let c=0;c<l.length;c++)if(this.equalsFn(l[c][0],t))return void(l[c]=[t,i]);l.push([t,i]),this.innerSize++}delete(t){const i=this.mapKeyFn(t),r=this.inner[i];if(r===void 0)return!1;for(let l=0;l<r.length;l++)if(this.equalsFn(r[l][0],t))return r.length===1?delete this.inner[i]:r.splice(l,1),this.innerSize--,!0;return!1}forEach(t){xr(this.inner,((i,r)=>{for(const[l,c]of r)t(l,c)}))}isEmpty(){return XE(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K2=new Re(dt.comparator);function xs(){return K2}const dT=new Re(dt.comparator);function Fl(...s){let t=dT;for(const i of s)t=t.insert(i.key,i);return t}function mT(s){let t=dT;return s.forEach(((i,r)=>t=t.insert(i,r.overlayedDocument))),t}function ua(){return Zl()}function gT(){return Zl()}function Zl(){return new ya((s=>s.toString()),((s,t)=>s.isEqual(t)))}const X2=new Re(dt.comparator),$2=new $e(dt.comparator);function Ht(...s){let t=$2;for(const i of s)t=t.add(i);return t}const Z2=new $e(qt);function J2(){return Z2}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sg(s,t){if(s.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:_h(t)?"-0":t}}function pT(s){return{integerValue:""+s}}function yT(s,t){return R2(t)?pT(t):sg(s,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zh{constructor(){this._=void 0}}function W2(s,t,i){return s instanceof ou?(function(l,c){const d={fields:{[JE]:{stringValue:ZE},[tT]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return c&&tg(c)&&(c=Lh(c)),c&&(d.fields[WE]=c),{mapValue:d}})(i,t):s instanceof lu?vT(s,t):s instanceof uu?ET(s,t):(function(l,c){const d=_T(l,c),p=h0(d)+h0(l.Ae);return Sm(d)&&Sm(l.Ae)?pT(p):sg(l.serializer,p)})(s,t)}function tI(s,t,i){return s instanceof lu?vT(s,t):s instanceof uu?ET(s,t):i}function _T(s,t){return s instanceof cu?(function(r){return Sm(r)||(function(c){return!!c&&"doubleValue"in c})(r)})(t)?t:{integerValue:0}:null}class ou extends zh{}class lu extends zh{constructor(t){super(),this.elements=t}}function vT(s,t){const i=TT(t);for(const r of s.elements)i.some((l=>Xi(l,r)))||i.push(r);return{arrayValue:{values:i}}}class uu extends zh{constructor(t){super(),this.elements=t}}function ET(s,t){let i=TT(t);for(const r of s.elements)i=i.filter((l=>!Xi(l,r)));return{arrayValue:{values:i}}}class cu extends zh{constructor(t,i){super(),this.serializer=t,this.Ae=i}}function h0(s){return Le(s.integerValue||s.doubleValue)}function TT(s){return eg(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AT{constructor(t,i){this.field=t,this.transform=i}}function eI(s,t){return s.field.isEqual(t.field)&&(function(r,l){return r instanceof lu&&l instanceof lu||r instanceof uu&&l instanceof uu?wo(r.elements,l.elements,Xi):r instanceof cu&&l instanceof cu?Xi(r.Ae,l.Ae):r instanceof ou&&l instanceof ou})(s.transform,t.transform)}class nI{constructor(t,i){this.version=t,this.transformResults=i}}class hn{constructor(t,i){this.updateTime=t,this.exists=i}static none(){return new hn}static exists(t){return new hn(void 0,t)}static updateTime(t){return new hn(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function oh(s,t){return s.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(s.updateTime):s.exists===void 0||s.exists===t.isFoundDocument()}class Bh{}function ST(s,t){if(!s.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return s.isNoDocument()?new qh(s.key,hn.none()):new _u(s.key,s.data,hn.none());{const i=s.data,r=En.empty();let l=new $e(cn.comparator);for(let c of t.fields)if(!l.has(c)){let d=i.field(c);d===null&&c.length>1&&(c=c.popLast(),d=i.field(c)),d===null?r.delete(c):r.set(c,d),l=l.add(c)}return new Nr(s.key,r,new Fn(l.toArray()),hn.none())}}function iI(s,t,i){s instanceof _u?(function(l,c,d){const p=l.value.clone(),_=d0(l.fieldTransforms,c,d.transformResults);p.setAll(_),c.convertToFoundDocument(d.version,p).setHasCommittedMutations()})(s,t,i):s instanceof Nr?(function(l,c,d){if(!oh(l.precondition,c))return void c.convertToUnknownDocument(d.version);const p=d0(l.fieldTransforms,c,d.transformResults),_=c.data;_.setAll(bT(l)),_.setAll(p),c.convertToFoundDocument(d.version,_).setHasCommittedMutations()})(s,t,i):(function(l,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()})(0,t,i)}function Jl(s,t,i,r){return s instanceof _u?(function(c,d,p,_){if(!oh(c.precondition,d))return p;const y=c.value.clone(),A=m0(c.fieldTransforms,_,d);return y.setAll(A),d.convertToFoundDocument(d.version,y).setHasLocalMutations(),null})(s,t,i,r):s instanceof Nr?(function(c,d,p,_){if(!oh(c.precondition,d))return p;const y=m0(c.fieldTransforms,_,d),A=d.data;return A.setAll(bT(c)),A.setAll(y),d.convertToFoundDocument(d.version,A).setHasLocalMutations(),p===null?null:p.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((b=>b.field)))})(s,t,i,r):(function(c,d,p){return oh(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):p})(s,t,i)}function sI(s,t){let i=null;for(const r of s.fieldTransforms){const l=t.data.field(r.field),c=_T(r.transform,l||null);c!=null&&(i===null&&(i=En.empty()),i.set(r.field,c))}return i||null}function f0(s,t){return s.type===t.type&&!!s.key.isEqual(t.key)&&!!s.precondition.isEqual(t.precondition)&&!!(function(r,l){return r===void 0&&l===void 0||!(!r||!l)&&wo(r,l,((c,d)=>eI(c,d)))})(s.fieldTransforms,t.fieldTransforms)&&(s.type===0?s.value.isEqual(t.value):s.type!==1||s.data.isEqual(t.data)&&s.fieldMask.isEqual(t.fieldMask))}class _u extends Bh{constructor(t,i,r,l=[]){super(),this.key=t,this.value=i,this.precondition=r,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class Nr extends Bh{constructor(t,i,r,l,c=[]){super(),this.key=t,this.data=i,this.fieldMask=r,this.precondition=l,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function bT(s){const t=new Map;return s.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const r=s.data.field(i);t.set(i,r)}})),t}function d0(s,t,i){const r=new Map;$t(s.length===i.length,32656,{Re:i.length,Ve:s.length});for(let l=0;l<i.length;l++){const c=s[l],d=c.transform,p=t.data.field(c.field);r.set(c.field,tI(d,p,i[l]))}return r}function m0(s,t,i){const r=new Map;for(const l of s){const c=l.transform,d=i.data.field(l.field);r.set(l.field,W2(c,d,t))}return r}class qh extends Bh{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class wT extends Bh{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rI{constructor(t,i,r,l){this.batchId=t,this.localWriteTime=i,this.baseMutations=r,this.mutations=l}applyToRemoteDocument(t,i){const r=i.mutationResults;for(let l=0;l<this.mutations.length;l++){const c=this.mutations[l];c.key.isEqual(t.key)&&iI(c,t,r[l])}}applyToLocalView(t,i){for(const r of this.baseMutations)r.key.isEqual(t.key)&&(i=Jl(r,t,i,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(t.key)&&(i=Jl(r,t,i,this.localWriteTime));return i}applyToLocalDocumentSet(t,i){const r=gT();return this.mutations.forEach((l=>{const c=t.get(l.key),d=c.overlayedDocument;let p=this.applyToLocalView(d,c.mutatedFields);p=i.has(l.key)?null:p;const _=ST(d,p);_!==null&&r.set(l.key,_),d.isValidDocument()||d.convertToNoDocument(St.min())})),r}keys(){return this.mutations.reduce(((t,i)=>t.add(i.key)),Ht())}isEqual(t){return this.batchId===t.batchId&&wo(this.mutations,t.mutations,((i,r)=>f0(i,r)))&&wo(this.baseMutations,t.baseMutations,((i,r)=>f0(i,r)))}}class rg{constructor(t,i,r,l){this.batch=t,this.commitVersion=i,this.mutationResults=r,this.docVersions=l}static from(t,i,r){$t(t.mutations.length===r.length,58842,{me:t.mutations.length,fe:r.length});let l=(function(){return X2})();const c=t.mutations;for(let d=0;d<c.length;d++)l=l.insert(c[d].key,r[d].version);return new rg(t,i,r,l)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aI{constructor(t,i){this.largestBatchId=t,this.mutation=i}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oI{constructor(t,i){this.count=t,this.unchangedNames=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var He,Xt;function RT(s){switch(s){case K.OK:return yt(64938);case K.CANCELLED:case K.UNKNOWN:case K.DEADLINE_EXCEEDED:case K.RESOURCE_EXHAUSTED:case K.INTERNAL:case K.UNAVAILABLE:case K.UNAUTHENTICATED:return!1;case K.INVALID_ARGUMENT:case K.NOT_FOUND:case K.ALREADY_EXISTS:case K.PERMISSION_DENIED:case K.FAILED_PRECONDITION:case K.ABORTED:case K.OUT_OF_RANGE:case K.UNIMPLEMENTED:case K.DATA_LOSS:return!0;default:return yt(15467,{code:s})}}function IT(s){if(s===void 0)return Cs("GRPC error has no .code"),K.UNKNOWN;switch(s){case He.OK:return K.OK;case He.CANCELLED:return K.CANCELLED;case He.UNKNOWN:return K.UNKNOWN;case He.DEADLINE_EXCEEDED:return K.DEADLINE_EXCEEDED;case He.RESOURCE_EXHAUSTED:return K.RESOURCE_EXHAUSTED;case He.INTERNAL:return K.INTERNAL;case He.UNAVAILABLE:return K.UNAVAILABLE;case He.UNAUTHENTICATED:return K.UNAUTHENTICATED;case He.INVALID_ARGUMENT:return K.INVALID_ARGUMENT;case He.NOT_FOUND:return K.NOT_FOUND;case He.ALREADY_EXISTS:return K.ALREADY_EXISTS;case He.PERMISSION_DENIED:return K.PERMISSION_DENIED;case He.FAILED_PRECONDITION:return K.FAILED_PRECONDITION;case He.ABORTED:return K.ABORTED;case He.OUT_OF_RANGE:return K.OUT_OF_RANGE;case He.UNIMPLEMENTED:return K.UNIMPLEMENTED;case He.DATA_LOSS:return K.DATA_LOSS;default:return yt(39323,{code:s})}}(Xt=He||(He={}))[Xt.OK=0]="OK",Xt[Xt.CANCELLED=1]="CANCELLED",Xt[Xt.UNKNOWN=2]="UNKNOWN",Xt[Xt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Xt[Xt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Xt[Xt.NOT_FOUND=5]="NOT_FOUND",Xt[Xt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Xt[Xt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Xt[Xt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Xt[Xt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Xt[Xt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Xt[Xt.ABORTED=10]="ABORTED",Xt[Xt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Xt[Xt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Xt[Xt.INTERNAL=13]="INTERNAL",Xt[Xt.UNAVAILABLE=14]="UNAVAILABLE",Xt[Xt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lI(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uI=new vr([4294967295,4294967295],0);function g0(s){const t=lI().encode(s),i=new PE;return i.update(t),new Uint8Array(i.digest())}function p0(s){const t=new DataView(s.buffer),i=t.getUint32(0,!0),r=t.getUint32(4,!0),l=t.getUint32(8,!0),c=t.getUint32(12,!0);return[new vr([i,r],0),new vr([l,c],0)]}class ag{constructor(t,i,r){if(this.bitmap=t,this.padding=i,this.hashCount=r,i<0||i>=8)throw new Gl(`Invalid padding: ${i}`);if(r<0)throw new Gl(`Invalid hash count: ${r}`);if(t.length>0&&this.hashCount===0)throw new Gl(`Invalid hash count: ${r}`);if(t.length===0&&i!==0)throw new Gl(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*t.length-i,this.pe=vr.fromNumber(this.ge)}ye(t,i,r){let l=t.add(i.multiply(vr.fromNumber(r)));return l.compare(uI)===1&&(l=new vr([l.getBits(0),l.getBits(1)],0)),l.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const i=g0(t),[r,l]=p0(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(r,l,c);if(!this.we(d))return!1}return!0}static create(t,i,r){const l=t%8==0?0:8-t%8,c=new Uint8Array(Math.ceil(t/8)),d=new ag(c,l,i);return r.forEach((p=>d.insert(p))),d}insert(t){if(this.ge===0)return;const i=g0(t),[r,l]=p0(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(r,l,c);this.Se(d)}}Se(t){const i=Math.floor(t/8),r=t%8;this.bitmap[i]|=1<<r}}class Gl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hh{constructor(t,i,r,l,c){this.snapshotVersion=t,this.targetChanges=i,this.targetMismatches=r,this.documentUpdates=l,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(t,i,r){const l=new Map;return l.set(t,vu.createSynthesizedTargetChangeForCurrentChange(t,i,r)),new Hh(St.min(),l,new Re(qt),xs(),Ht())}}class vu{constructor(t,i,r,l,c){this.resumeToken=t,this.current=i,this.addedDocuments=r,this.modifiedDocuments=l,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(t,i,r){return new vu(r,i,Ht(),Ht(),Ht())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lh{constructor(t,i,r,l){this.be=t,this.removedTargetIds=i,this.key=r,this.De=l}}class CT{constructor(t,i){this.targetId=t,this.Ce=i}}class xT{constructor(t,i,r=fn.EMPTY_BYTE_STRING,l=null){this.state=t,this.targetIds=i,this.resumeToken=r,this.cause=l}}class y0{constructor(){this.ve=0,this.Fe=_0(),this.Me=fn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=Ht(),i=Ht(),r=Ht();return this.Fe.forEach(((l,c)=>{switch(c){case 0:t=t.add(l);break;case 2:i=i.add(l);break;case 1:r=r.add(l);break;default:yt(38017,{changeType:c})}})),new vu(this.Me,this.xe,t,i,r)}qe(){this.Oe=!1,this.Fe=_0()}Qe(t,i){this.Oe=!0,this.Fe=this.Fe.insert(t,i)}$e(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}Ue(){this.ve+=1}Ke(){this.ve-=1,$t(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class cI{constructor(t){this.Ge=t,this.ze=new Map,this.je=xs(),this.Je=Zc(),this.He=Zc(),this.Ye=new Re(qt)}Ze(t){for(const i of t.be)t.De&&t.De.isFoundDocument()?this.Xe(i,t.De):this.et(i,t.key,t.De);for(const i of t.removedTargetIds)this.et(i,t.key,t.De)}tt(t){this.forEachTarget(t,(i=>{const r=this.nt(i);switch(t.state){case 0:this.rt(i)&&r.Le(t.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(t.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(r.We(),r.Le(t.resumeToken));break;case 4:this.rt(i)&&(this.it(i),r.Le(t.resumeToken));break;default:yt(56790,{state:t.state})}}))}forEachTarget(t,i){t.targetIds.length>0?t.targetIds.forEach(i):this.ze.forEach(((r,l)=>{this.rt(l)&&i(l)}))}st(t){const i=t.targetId,r=t.Ce.count,l=this.ot(i);if(l){const c=l.target;if(wm(c))if(r===0){const d=new dt(c.path);this.et(i,d,tn.newNoDocument(d,St.min()))}else $t(r===1,20013,{expectedCount:r});else{const d=this._t(i);if(d!==r){const p=this.ut(t),_=p?this.ct(p,t,d):1;if(_!==0){this.it(i);const y=_===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(i,y)}}}}}ut(t){const i=t.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:r="",padding:l=0},hashCount:c=0}=i;let d,p;try{d=br(r).toUint8Array()}catch(_){if(_ instanceof $E)return bo("Decoding the base64 bloom filter in existence filter failed ("+_.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw _}try{p=new ag(d,l,c)}catch(_){return bo(_ instanceof Gl?"BloomFilter error: ":"Applying bloom filter failed: ",_),null}return p.ge===0?null:p}ct(t,i,r){return i.Ce.count===r-this.Pt(t,i.targetId)?0:2}Pt(t,i){const r=this.Ge.getRemoteKeysForTarget(i);let l=0;return r.forEach((c=>{const d=this.Ge.ht(),p=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;t.mightContain(p)||(this.et(i,c,null),l++)})),l}Tt(t){const i=new Map;this.ze.forEach(((c,d)=>{const p=this.ot(d);if(p){if(c.current&&wm(p.target)){const _=new dt(p.target.path);this.It(_).has(d)||this.Et(d,_)||this.et(d,_,tn.newNoDocument(_,t))}c.Be&&(i.set(d,c.ke()),c.qe())}}));let r=Ht();this.He.forEach(((c,d)=>{let p=!0;d.forEachWhile((_=>{const y=this.ot(_);return!y||y.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)})),p&&(r=r.add(c))})),this.je.forEach(((c,d)=>d.setReadTime(t)));const l=new Hh(t,i,this.Ye,this.je,r);return this.je=xs(),this.Je=Zc(),this.He=Zc(),this.Ye=new Re(qt),l}Xe(t,i){if(!this.rt(t))return;const r=this.Et(t,i.key)?2:0;this.nt(t).Qe(i.key,r),this.je=this.je.insert(i.key,i),this.Je=this.Je.insert(i.key,this.It(i.key).add(t)),this.He=this.He.insert(i.key,this.dt(i.key).add(t))}et(t,i,r){if(!this.rt(t))return;const l=this.nt(t);this.Et(t,i)?l.Qe(i,1):l.$e(i),this.He=this.He.insert(i,this.dt(i).delete(t)),this.He=this.He.insert(i,this.dt(i).add(t)),r&&(this.je=this.je.insert(i,r))}removeTarget(t){this.ze.delete(t)}_t(t){const i=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+i.addedDocuments.size-i.removedDocuments.size}Ue(t){this.nt(t).Ue()}nt(t){let i=this.ze.get(t);return i||(i=new y0,this.ze.set(t,i)),i}dt(t){let i=this.He.get(t);return i||(i=new $e(qt),this.He=this.He.insert(t,i)),i}It(t){let i=this.Je.get(t);return i||(i=new $e(qt),this.Je=this.Je.insert(t,i)),i}rt(t){const i=this.ot(t)!==null;return i||ct("WatchChangeAggregator","Detected inactive target",t),i}ot(t){const i=this.ze.get(t);return i&&i.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new y0),this.Ge.getRemoteKeysForTarget(t).forEach((i=>{this.et(t,i,null)}))}Et(t,i){return this.Ge.getRemoteKeysForTarget(t).has(i)}}function Zc(){return new Re(dt.comparator)}function _0(){return new Re(dt.comparator)}const hI={asc:"ASCENDING",desc:"DESCENDING"},fI={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},dI={and:"AND",or:"OR"};class mI{constructor(t,i){this.databaseId=t,this.useProto3Json=i}}function Cm(s,t){return s.useProto3Json||yu(t)?t:{value:t}}function Ah(s,t){return s.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function NT(s,t){return s.useProto3Json?t.toBase64():t.toUint8Array()}function gI(s,t){return Ah(s,t.toTimestamp())}function Gn(s){return $t(!!s,49232),St.fromTimestamp((function(i){const r=Sr(i);return new Ee(r.seconds,r.nanos)})(s))}function og(s,t){return xm(s,t).canonicalString()}function xm(s,t){const i=(function(l){return new fe(["projects",l.projectId,"databases",l.database])})(s).child("documents");return t===void 0?i:i.child(t)}function DT(s){const t=fe.fromString(s);return $t(kT(t),10190,{key:t.toString()}),t}function Sh(s,t){return og(s.databaseId,t.path)}function Wl(s,t){const i=DT(t);if(i.get(1)!==s.databaseId.projectId)throw new ot(K.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+s.databaseId.projectId);if(i.get(3)!==s.databaseId.database)throw new ot(K.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+s.databaseId.database);return new dt(OT(i))}function MT(s,t){return og(s.databaseId,t)}function pI(s){const t=DT(s);return t.length===4?fe.emptyPath():OT(t)}function Nm(s){return new fe(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function OT(s){return $t(s.length>4&&s.get(4)==="documents",29091,{key:s.toString()}),s.popFirst(5)}function v0(s,t,i){return{name:Sh(s,t),fields:i.value.mapValue.fields}}function yI(s,t){return"found"in t?(function(r,l){$t(!!l.found,43571),l.found.name,l.found.updateTime;const c=Wl(r,l.found.name),d=Gn(l.found.updateTime),p=l.found.createTime?Gn(l.found.createTime):St.min(),_=new En({mapValue:{fields:l.found.fields}});return tn.newFoundDocument(c,d,p,_)})(s,t):"missing"in t?(function(r,l){$t(!!l.missing,3894),$t(!!l.readTime,22933);const c=Wl(r,l.missing),d=Gn(l.readTime);return tn.newNoDocument(c,d)})(s,t):yt(7234,{result:t})}function _I(s,t){let i;if("targetChange"in t){t.targetChange;const r=(function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:yt(39313,{state:y})})(t.targetChange.targetChangeType||"NO_CHANGE"),l=t.targetChange.targetIds||[],c=(function(y,A){return y.useProto3Json?($t(A===void 0||typeof A=="string",58123),fn.fromBase64String(A||"")):($t(A===void 0||A instanceof Buffer||A instanceof Uint8Array,16193),fn.fromUint8Array(A||new Uint8Array))})(s,t.targetChange.resumeToken),d=t.targetChange.cause,p=d&&(function(y){const A=y.code===void 0?K.UNKNOWN:IT(y.code);return new ot(A,y.message||"")})(d);i=new xT(r,l,c,p||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const l=Wl(s,r.document.name),c=Gn(r.document.updateTime),d=r.document.createTime?Gn(r.document.createTime):St.min(),p=new En({mapValue:{fields:r.document.fields}}),_=tn.newFoundDocument(l,c,d,p),y=r.targetIds||[],A=r.removedTargetIds||[];i=new lh(y,A,_.key,_)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const l=Wl(s,r.document),c=r.readTime?Gn(r.readTime):St.min(),d=tn.newNoDocument(l,c),p=r.removedTargetIds||[];i=new lh([],p,d.key,d)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const l=Wl(s,r.document),c=r.removedTargetIds||[];i=new lh([],c,l,null)}else{if(!("filter"in t))return yt(11601,{Rt:t});{t.filter;const r=t.filter;r.targetId;const{count:l=0,unchangedNames:c}=r,d=new oI(l,c),p=r.targetId;i=new CT(p,d)}}return i}function VT(s,t){let i;if(t instanceof _u)i={update:v0(s,t.key,t.value)};else if(t instanceof qh)i={delete:Sh(s,t.key)};else if(t instanceof Nr)i={update:v0(s,t.key,t.data),updateMask:II(t.fieldMask)};else{if(!(t instanceof wT))return yt(16599,{Vt:t.type});i={verify:Sh(s,t.key)}}return t.fieldTransforms.length>0&&(i.updateTransforms=t.fieldTransforms.map((r=>(function(c,d){const p=d.transform;if(p instanceof ou)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof lu)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof uu)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof cu)return{fieldPath:d.field.canonicalString(),increment:p.Ae};throw yt(20930,{transform:d.transform})})(0,r)))),t.precondition.isNone||(i.currentDocument=(function(l,c){return c.updateTime!==void 0?{updateTime:gI(l,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:yt(27497)})(s,t.precondition)),i}function vI(s,t){return s&&s.length>0?($t(t!==void 0,14353),s.map((i=>(function(l,c){let d=l.updateTime?Gn(l.updateTime):Gn(c);return d.isEqual(St.min())&&(d=Gn(c)),new nI(d,l.transformResults||[])})(i,t)))):[]}function EI(s,t){return{documents:[MT(s,t.path)]}}function TI(s,t){const i={structuredQuery:{}},r=t.path;let l;t.collectionGroup!==null?(l=r,i.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(l=r.popLast(),i.structuredQuery.from=[{collectionId:r.lastSegment()}]),i.parent=MT(s,l);const c=(function(y){if(y.length!==0)return LT(Ti.create(y,"and"))})(t.filters);c&&(i.structuredQuery.where=c);const d=(function(y){if(y.length!==0)return y.map((A=>(function(N){return{field:go(N.field),direction:bI(N.dir)}})(A)))})(t.orderBy);d&&(i.structuredQuery.orderBy=d);const p=Cm(s,t.limit);return p!==null&&(i.structuredQuery.limit=p),t.startAt&&(i.structuredQuery.startAt=(function(y){return{before:y.inclusive,values:y.position}})(t.startAt)),t.endAt&&(i.structuredQuery.endAt=(function(y){return{before:!y.inclusive,values:y.position}})(t.endAt)),{ft:i,parent:l}}function AI(s){let t=pI(s.parent);const i=s.structuredQuery,r=i.from?i.from.length:0;let l=null;if(r>0){$t(r===1,65062);const A=i.from[0];A.allDescendants?l=A.collectionId:t=t.child(A.collectionId)}let c=[];i.where&&(c=(function(b){const N=UT(b);return N instanceof Ti&&aT(N)?N.getFilters():[N]})(i.where));let d=[];i.orderBy&&(d=(function(b){return b.map((N=>(function(et){return new au(po(et.field),(function(nt){switch(nt){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(et.direction))})(N)))})(i.orderBy));let p=null;i.limit&&(p=(function(b){let N;return N=typeof b=="object"?b.value:b,yu(N)?null:N})(i.limit));let _=null;i.startAt&&(_=(function(b){const N=!!b.before,Y=b.values||[];return new Th(Y,N)})(i.startAt));let y=null;return i.endAt&&(y=(function(b){const N=!b.before,Y=b.values||[];return new Th(Y,N)})(i.endAt)),F2(t,l,d,c,p,"F",_,y)}function SI(s,t){const i=(function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return yt(28987,{purpose:l})}})(t.purpose);return i==null?null:{"goog-listen-tags":i}}function UT(s){return s.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const r=po(i.unaryFilter.field);return Fe.create(r,"==",{doubleValue:NaN});case"IS_NULL":const l=po(i.unaryFilter.field);return Fe.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=po(i.unaryFilter.field);return Fe.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=po(i.unaryFilter.field);return Fe.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return yt(61313);default:return yt(60726)}})(s):s.fieldFilter!==void 0?(function(i){return Fe.create(po(i.fieldFilter.field),(function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return yt(58110);default:return yt(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(s):s.compositeFilter!==void 0?(function(i){return Ti.create(i.compositeFilter.filters.map((r=>UT(r))),(function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return yt(1026)}})(i.compositeFilter.op))})(s):yt(30097,{filter:s})}function bI(s){return hI[s]}function wI(s){return fI[s]}function RI(s){return dI[s]}function go(s){return{fieldPath:s.canonicalString()}}function po(s){return cn.fromServerFormat(s.fieldPath)}function LT(s){return s instanceof Fe?(function(i){if(i.op==="=="){if(a0(i.value))return{unaryFilter:{field:go(i.field),op:"IS_NAN"}};if(r0(i.value))return{unaryFilter:{field:go(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(a0(i.value))return{unaryFilter:{field:go(i.field),op:"IS_NOT_NAN"}};if(r0(i.value))return{unaryFilter:{field:go(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:go(i.field),op:wI(i.op),value:i.value}}})(s):s instanceof Ti?(function(i){const r=i.getFilters().map((l=>LT(l)));return r.length===1?r[0]:{compositeFilter:{op:RI(i.op),filters:r}}})(s):yt(54877,{filter:s})}function II(s){const t=[];return s.fields.forEach((i=>t.push(i.canonicalString()))),{fieldPaths:t}}function kT(s){return s.length>=4&&s.get(0)==="projects"&&s.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gr{constructor(t,i,r,l,c=St.min(),d=St.min(),p=fn.EMPTY_BYTE_STRING,_=null){this.target=t,this.targetId=i,this.purpose=r,this.sequenceNumber=l,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=p,this.expectedCount=_}withSequenceNumber(t){return new gr(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,i){return new gr(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new gr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new gr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CI{constructor(t){this.yt=t}}function xI(s){const t=AI({parent:s.parent,structuredQuery:s.structuredQuery});return s.limitType==="LAST"?Im(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NI{constructor(){this.Cn=new DI}addToCollectionParentIndex(t,i){return this.Cn.add(i),Z.resolve()}getCollectionParents(t,i){return Z.resolve(this.Cn.getEntries(i))}addFieldIndex(t,i){return Z.resolve()}deleteFieldIndex(t,i){return Z.resolve()}deleteAllFieldIndexes(t){return Z.resolve()}createTargetIndexes(t,i){return Z.resolve()}getDocumentsMatchingTarget(t,i){return Z.resolve(null)}getIndexType(t,i){return Z.resolve(0)}getFieldIndexes(t,i){return Z.resolve([])}getNextCollectionGroupToUpdate(t){return Z.resolve(null)}getMinOffset(t,i){return Z.resolve(Ar.min())}getMinOffsetFromCollectionGroup(t,i){return Z.resolve(Ar.min())}updateCollectionGroup(t,i,r){return Z.resolve()}updateIndexEntries(t,i){return Z.resolve()}}class DI{constructor(){this.index={}}add(t){const i=t.lastSegment(),r=t.popLast(),l=this.index[i]||new $e(fe.comparator),c=!l.has(r);return this.index[i]=l.add(r),c}has(t){const i=t.lastSegment(),r=t.popLast(),l=this.index[i];return l&&l.has(r)}getEntries(t){return(this.index[t]||new $e(fe.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},PT=41943040;class Dn{static withCacheSize(t){return new Dn(t,Dn.DEFAULT_COLLECTION_PERCENTILE,Dn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,i,r){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Dn.DEFAULT_COLLECTION_PERCENTILE=10,Dn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Dn.DEFAULT=new Dn(PT,Dn.DEFAULT_COLLECTION_PERCENTILE,Dn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Dn.DISABLED=new Dn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Co{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new Co(0)}static cr(){return new Co(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T0="LruGarbageCollector",MI=1048576;function A0([s,t],[i,r]){const l=qt(s,i);return l===0?qt(t,r):l}class OI{constructor(t){this.Ir=t,this.buffer=new $e(A0),this.Er=0}dr(){return++this.Er}Ar(t){const i=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(i);else{const r=this.buffer.last();A0(i,r)<0&&(this.buffer=this.buffer.delete(r).add(i))}}get maxValue(){return this.buffer.last()[0]}}class VI{constructor(t,i,r){this.garbageCollector=t,this.asyncQueue=i,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(t){ct(T0,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){Uo(i)?ct(T0,"Ignoring IndexedDB error during garbage collection: ",i):await Vo(i)}await this.Vr(3e5)}))}}class UI{constructor(t,i){this.mr=t,this.params=i}calculateTargetCount(t,i){return this.mr.gr(t).next((r=>Math.floor(i/100*r)))}nthSequenceNumber(t,i){if(i===0)return Z.resolve(Uh.ce);const r=new OI(i);return this.mr.forEachTarget(t,(l=>r.Ar(l.sequenceNumber))).next((()=>this.mr.pr(t,(l=>r.Ar(l))))).next((()=>r.maxValue))}removeTargets(t,i,r){return this.mr.removeTargets(t,i,r)}removeOrphanedDocuments(t,i){return this.mr.removeOrphanedDocuments(t,i)}collect(t,i){return this.params.cacheSizeCollectionThreshold===-1?(ct("LruGarbageCollector","Garbage collection skipped; disabled"),Z.resolve(E0)):this.getCacheSize(t).next((r=>r<this.params.cacheSizeCollectionThreshold?(ct("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),E0):this.yr(t,i)))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,i){let r,l,c,d,p,_,y;const A=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((b=>(b>this.params.maximumSequenceNumbersToCollect?(ct("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${b}`),l=this.params.maximumSequenceNumbersToCollect):l=b,d=Date.now(),this.nthSequenceNumber(t,l)))).next((b=>(r=b,p=Date.now(),this.removeTargets(t,r,i)))).next((b=>(c=b,_=Date.now(),this.removeOrphanedDocuments(t,r)))).next((b=>(y=Date.now(),fo()<=Bt.DEBUG&&ct("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-A}ms
	Determined least recently used ${l} in `+(p-d)+`ms
	Removed ${c} targets in `+(_-p)+`ms
	Removed ${b} documents in `+(y-_)+`ms
Total Duration: ${y-A}ms`),Z.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:c,documentsRemoved:b}))))}}function LI(s,t){return new UI(s,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kI{constructor(){this.changes=new ya((t=>t.toString()),((t,i)=>t.isEqual(i))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,i){this.assertNotApplied(),this.changes.set(t,tn.newInvalidDocument(t).setReadTime(i))}getEntry(t,i){this.assertNotApplied();const r=this.changes.get(i);return r!==void 0?Z.resolve(r):this.getFromCache(t,i)}getEntries(t,i){return this.getAllFromCache(t,i)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PI{constructor(t,i){this.overlayedDocument=t,this.mutatedFields=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jI{constructor(t,i,r,l){this.remoteDocumentCache=t,this.mutationQueue=i,this.documentOverlayCache=r,this.indexManager=l}getDocument(t,i){let r=null;return this.documentOverlayCache.getOverlay(t,i).next((l=>(r=l,this.remoteDocumentCache.getEntry(t,i)))).next((l=>(r!==null&&Jl(r.mutation,l,Fn.empty(),Ee.now()),l)))}getDocuments(t,i){return this.remoteDocumentCache.getEntries(t,i).next((r=>this.getLocalViewOfDocuments(t,r,Ht()).next((()=>r))))}getLocalViewOfDocuments(t,i,r=Ht()){const l=ua();return this.populateOverlays(t,l,i).next((()=>this.computeViews(t,i,l,r).next((c=>{let d=Fl();return c.forEach(((p,_)=>{d=d.insert(p,_.overlayedDocument)})),d}))))}getOverlayedDocuments(t,i){const r=ua();return this.populateOverlays(t,r,i).next((()=>this.computeViews(t,i,r,Ht())))}populateOverlays(t,i,r){const l=[];return r.forEach((c=>{i.has(c)||l.push(c)})),this.documentOverlayCache.getOverlays(t,l).next((c=>{c.forEach(((d,p)=>{i.set(d,p)}))}))}computeViews(t,i,r,l){let c=xs();const d=Zl(),p=(function(){return Zl()})();return i.forEach(((_,y)=>{const A=r.get(y.key);l.has(y.key)&&(A===void 0||A.mutation instanceof Nr)?c=c.insert(y.key,y):A!==void 0?(d.set(y.key,A.mutation.getFieldMask()),Jl(A.mutation,y,A.mutation.getFieldMask(),Ee.now())):d.set(y.key,Fn.empty())})),this.recalculateAndSaveOverlays(t,c).next((_=>(_.forEach(((y,A)=>d.set(y,A))),i.forEach(((y,A)=>p.set(y,new PI(A,d.get(y)??null)))),p)))}recalculateAndSaveOverlays(t,i){const r=Zl();let l=new Re(((d,p)=>d-p)),c=Ht();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,i).next((d=>{for(const p of d)p.keys().forEach((_=>{const y=i.get(_);if(y===null)return;let A=r.get(_)||Fn.empty();A=p.applyToLocalView(y,A),r.set(_,A);const b=(l.get(p.batchId)||Ht()).add(_);l=l.insert(p.batchId,b)}))})).next((()=>{const d=[],p=l.getReverseIterator();for(;p.hasNext();){const _=p.getNext(),y=_.key,A=_.value,b=gT();A.forEach((N=>{if(!c.has(N)){const Y=ST(i.get(N),r.get(N));Y!==null&&b.set(N,Y),c=c.add(N)}})),d.push(this.documentOverlayCache.saveOverlays(t,y,b))}return Z.waitFor(d)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(t,i){return this.remoteDocumentCache.getEntries(t,i).next((r=>this.recalculateAndSaveOverlays(t,r)))}getDocumentsMatchingQuery(t,i,r,l){return(function(d){return dt.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0})(i)?this.getDocumentsMatchingDocumentQuery(t,i.path):cT(i)?this.getDocumentsMatchingCollectionGroupQuery(t,i,r,l):this.getDocumentsMatchingCollectionQuery(t,i,r,l)}getNextDocuments(t,i,r,l){return this.remoteDocumentCache.getAllFromCollectionGroup(t,i,r,l).next((c=>{const d=l-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,i,r.largestBatchId,l-c.size):Z.resolve(ua());let p=nu,_=c;return d.next((y=>Z.forEach(y,((A,b)=>(p<b.largestBatchId&&(p=b.largestBatchId),c.get(A)?Z.resolve():this.remoteDocumentCache.getEntry(t,A).next((N=>{_=_.insert(A,N)}))))).next((()=>this.populateOverlays(t,y,c))).next((()=>this.computeViews(t,_,y,Ht()))).next((A=>({batchId:p,changes:mT(A)})))))}))}getDocumentsMatchingDocumentQuery(t,i){return this.getDocument(t,new dt(i)).next((r=>{let l=Fl();return r.isFoundDocument()&&(l=l.insert(r.key,r)),l}))}getDocumentsMatchingCollectionGroupQuery(t,i,r,l){const c=i.collectionGroup;let d=Fl();return this.indexManager.getCollectionParents(t,c).next((p=>Z.forEach(p,(_=>{const y=(function(b,N){return new Lo(N,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt)})(i,_.child(c));return this.getDocumentsMatchingCollectionQuery(t,y,r,l).next((A=>{A.forEach(((b,N)=>{d=d.insert(b,N)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(t,i,r,l){let c;return this.documentOverlayCache.getOverlaysForCollection(t,i.path,r.largestBatchId).next((d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(t,i,r,c,l)))).next((d=>{c.forEach(((_,y)=>{const A=y.getKey();d.get(A)===null&&(d=d.insert(A,tn.newInvalidDocument(A)))}));let p=Fl();return d.forEach(((_,y)=>{const A=c.get(_);A!==void 0&&Jl(A.mutation,y,Fn.empty(),Ee.now()),jh(i,y)&&(p=p.insert(_,y))})),p}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zI{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,i){return Z.resolve(this.Lr.get(i))}saveBundleMetadata(t,i){return this.Lr.set(i.id,(function(l){return{id:l.id,version:l.version,createTime:Gn(l.createTime)}})(i)),Z.resolve()}getNamedQuery(t,i){return Z.resolve(this.kr.get(i))}saveNamedQuery(t,i){return this.kr.set(i.name,(function(l){return{name:l.name,query:xI(l.bundledQuery),readTime:Gn(l.readTime)}})(i)),Z.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BI{constructor(){this.overlays=new Re(dt.comparator),this.qr=new Map}getOverlay(t,i){return Z.resolve(this.overlays.get(i))}getOverlays(t,i){const r=ua();return Z.forEach(i,(l=>this.getOverlay(t,l).next((c=>{c!==null&&r.set(l,c)})))).next((()=>r))}saveOverlays(t,i,r){return r.forEach(((l,c)=>{this.St(t,i,c)})),Z.resolve()}removeOverlaysForBatchId(t,i,r){const l=this.qr.get(r);return l!==void 0&&(l.forEach((c=>this.overlays=this.overlays.remove(c))),this.qr.delete(r)),Z.resolve()}getOverlaysForCollection(t,i,r){const l=ua(),c=i.length+1,d=new dt(i.child("")),p=this.overlays.getIteratorFrom(d);for(;p.hasNext();){const _=p.getNext().value,y=_.getKey();if(!i.isPrefixOf(y.path))break;y.path.length===c&&_.largestBatchId>r&&l.set(_.getKey(),_)}return Z.resolve(l)}getOverlaysForCollectionGroup(t,i,r,l){let c=new Re(((y,A)=>y-A));const d=this.overlays.getIterator();for(;d.hasNext();){const y=d.getNext().value;if(y.getKey().getCollectionGroup()===i&&y.largestBatchId>r){let A=c.get(y.largestBatchId);A===null&&(A=ua(),c=c.insert(y.largestBatchId,A)),A.set(y.getKey(),y)}}const p=ua(),_=c.getIterator();for(;_.hasNext()&&(_.getNext().value.forEach(((y,A)=>p.set(y,A))),!(p.size()>=l)););return Z.resolve(p)}St(t,i,r){const l=this.overlays.get(r.key);if(l!==null){const d=this.qr.get(l.largestBatchId).delete(r.key);this.qr.set(l.largestBatchId,d)}this.overlays=this.overlays.insert(r.key,new aI(i,r));let c=this.qr.get(i);c===void 0&&(c=Ht(),this.qr.set(i,c)),this.qr.set(i,c.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qI{constructor(){this.sessionToken=fn.EMPTY_BYTE_STRING}getSessionToken(t){return Z.resolve(this.sessionToken)}setSessionToken(t,i){return this.sessionToken=i,Z.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lg{constructor(){this.Qr=new $e(We.$r),this.Ur=new $e(We.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,i){const r=new We(t,i);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(t,i){t.forEach((r=>this.addReference(r,i)))}removeReference(t,i){this.Gr(new We(t,i))}zr(t,i){t.forEach((r=>this.removeReference(r,i)))}jr(t){const i=new dt(new fe([])),r=new We(i,t),l=new We(i,t+1),c=[];return this.Ur.forEachInRange([r,l],(d=>{this.Gr(d),c.push(d.key)})),c}Jr(){this.Qr.forEach((t=>this.Gr(t)))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){const i=new dt(new fe([])),r=new We(i,t),l=new We(i,t+1);let c=Ht();return this.Ur.forEachInRange([r,l],(d=>{c=c.add(d.key)})),c}containsKey(t){const i=new We(t,0),r=this.Qr.firstAfterOrEqual(i);return r!==null&&t.isEqual(r.key)}}class We{constructor(t,i){this.key=t,this.Yr=i}static $r(t,i){return dt.comparator(t.key,i.key)||qt(t.Yr,i.Yr)}static Kr(t,i){return qt(t.Yr,i.Yr)||dt.comparator(t.key,i.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HI{constructor(t,i){this.indexManager=t,this.referenceDelegate=i,this.mutationQueue=[],this.tr=1,this.Zr=new $e(We.$r)}checkEmpty(t){return Z.resolve(this.mutationQueue.length===0)}addMutationBatch(t,i,r,l){const c=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new rI(c,i,r,l);this.mutationQueue.push(d);for(const p of l)this.Zr=this.Zr.add(new We(p.key,c)),this.indexManager.addToCollectionParentIndex(t,p.key.path.popLast());return Z.resolve(d)}lookupMutationBatch(t,i){return Z.resolve(this.Xr(i))}getNextMutationBatchAfterBatchId(t,i){const r=i+1,l=this.ei(r),c=l<0?0:l;return Z.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return Z.resolve(this.mutationQueue.length===0?Wm:this.tr-1)}getAllMutationBatches(t){return Z.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,i){const r=new We(i,0),l=new We(i,Number.POSITIVE_INFINITY),c=[];return this.Zr.forEachInRange([r,l],(d=>{const p=this.Xr(d.Yr);c.push(p)})),Z.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(t,i){let r=new $e(qt);return i.forEach((l=>{const c=new We(l,0),d=new We(l,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([c,d],(p=>{r=r.add(p.Yr)}))})),Z.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(t,i){const r=i.path,l=r.length+1;let c=r;dt.isDocumentKey(c)||(c=c.child(""));const d=new We(new dt(c),0);let p=new $e(qt);return this.Zr.forEachWhile((_=>{const y=_.key.path;return!!r.isPrefixOf(y)&&(y.length===l&&(p=p.add(_.Yr)),!0)}),d),Z.resolve(this.ti(p))}ti(t){const i=[];return t.forEach((r=>{const l=this.Xr(r);l!==null&&i.push(l)})),i}removeMutationBatch(t,i){$t(this.ni(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return Z.forEach(i.mutations,(l=>{const c=new We(l.key,i.batchId);return r=r.delete(c),this.referenceDelegate.markPotentiallyOrphaned(t,l.key)})).next((()=>{this.Zr=r}))}ir(t){}containsKey(t,i){const r=new We(i,0),l=this.Zr.firstAfterOrEqual(r);return Z.resolve(i.isEqual(l&&l.key))}performConsistencyCheck(t){return this.mutationQueue.length,Z.resolve()}ni(t,i){return this.ei(t)}ei(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Xr(t){const i=this.ei(t);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FI{constructor(t){this.ri=t,this.docs=(function(){return new Re(dt.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,i){const r=i.key,l=this.docs.get(r),c=l?l.size:0,d=this.ri(i);return this.docs=this.docs.insert(r,{document:i.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(t,r.path.popLast())}removeEntry(t){const i=this.docs.get(t);i&&(this.docs=this.docs.remove(t),this.size-=i.size)}getEntry(t,i){const r=this.docs.get(i);return Z.resolve(r?r.document.mutableCopy():tn.newInvalidDocument(i))}getEntries(t,i){let r=xs();return i.forEach((l=>{const c=this.docs.get(l);r=r.insert(l,c?c.document.mutableCopy():tn.newInvalidDocument(l))})),Z.resolve(r)}getDocumentsMatchingQuery(t,i,r,l){let c=xs();const d=i.path,p=new dt(d.child("__id-9223372036854775808__")),_=this.docs.getIteratorFrom(p);for(;_.hasNext();){const{key:y,value:{document:A}}=_.getNext();if(!d.isPrefixOf(y.path))break;y.path.length>d.length+1||A2(T2(A),r)<=0||(l.has(A.key)||jh(i,A))&&(c=c.insert(A.key,A.mutableCopy()))}return Z.resolve(c)}getAllFromCollectionGroup(t,i,r,l){yt(9500)}ii(t,i){return Z.forEach(this.docs,(r=>i(r)))}newChangeBuffer(t){return new GI(this)}getSize(t){return Z.resolve(this.size)}}class GI extends kI{constructor(t){super(),this.Nr=t}applyChanges(t){const i=[];return this.changes.forEach(((r,l)=>{l.isValidDocument()?i.push(this.Nr.addEntry(t,l)):this.Nr.removeEntry(r)})),Z.waitFor(i)}getFromCache(t,i){return this.Nr.getEntry(t,i)}getAllFromCache(t,i){return this.Nr.getEntries(t,i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QI{constructor(t){this.persistence=t,this.si=new ya((i=>ng(i)),ig),this.lastRemoteSnapshotVersion=St.min(),this.highestTargetId=0,this.oi=0,this._i=new lg,this.targetCount=0,this.ai=Co.ur()}forEachTarget(t,i){return this.si.forEach(((r,l)=>i(l))),Z.resolve()}getLastRemoteSnapshotVersion(t){return Z.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return Z.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),Z.resolve(this.highestTargetId)}setTargetsMetadata(t,i,r){return r&&(this.lastRemoteSnapshotVersion=r),i>this.oi&&(this.oi=i),Z.resolve()}Pr(t){this.si.set(t.target,t);const i=t.targetId;i>this.highestTargetId&&(this.ai=new Co(i),this.highestTargetId=i),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,i){return this.Pr(i),this.targetCount+=1,Z.resolve()}updateTargetData(t,i){return this.Pr(i),Z.resolve()}removeTargetData(t,i){return this.si.delete(i.target),this._i.jr(i.targetId),this.targetCount-=1,Z.resolve()}removeTargets(t,i,r){let l=0;const c=[];return this.si.forEach(((d,p)=>{p.sequenceNumber<=i&&r.get(p.targetId)===null&&(this.si.delete(d),c.push(this.removeMatchingKeysForTargetId(t,p.targetId)),l++)})),Z.waitFor(c).next((()=>l))}getTargetCount(t){return Z.resolve(this.targetCount)}getTargetData(t,i){const r=this.si.get(i)||null;return Z.resolve(r)}addMatchingKeys(t,i,r){return this._i.Wr(i,r),Z.resolve()}removeMatchingKeys(t,i,r){this._i.zr(i,r);const l=this.persistence.referenceDelegate,c=[];return l&&i.forEach((d=>{c.push(l.markPotentiallyOrphaned(t,d))})),Z.waitFor(c)}removeMatchingKeysForTargetId(t,i){return this._i.jr(i),Z.resolve()}getMatchingKeysForTargetId(t,i){const r=this._i.Hr(i);return Z.resolve(r)}containsKey(t,i){return Z.resolve(this._i.containsKey(i))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jT{constructor(t,i){this.ui={},this.overlays={},this.ci=new Uh(0),this.li=!1,this.li=!0,this.hi=new qI,this.referenceDelegate=t(this),this.Pi=new QI(this),this.indexManager=new NI,this.remoteDocumentCache=(function(l){return new FI(l)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new CI(i),this.Ii=new zI(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let i=this.overlays[t.toKey()];return i||(i=new BI,this.overlays[t.toKey()]=i),i}getMutationQueue(t,i){let r=this.ui[t.toKey()];return r||(r=new HI(i,this.referenceDelegate),this.ui[t.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,i,r){ct("MemoryPersistence","Starting transaction:",t);const l=new YI(this.ci.next());return this.referenceDelegate.Ei(),r(l).next((c=>this.referenceDelegate.di(l).next((()=>c)))).toPromise().then((c=>(l.raiseOnCommittedEvent(),c)))}Ai(t,i){return Z.or(Object.values(this.ui).map((r=>()=>r.containsKey(t,i))))}}class YI extends b2{constructor(t){super(),this.currentSequenceNumber=t}}class ug{constructor(t){this.persistence=t,this.Ri=new lg,this.Vi=null}static mi(t){return new ug(t)}get fi(){if(this.Vi)return this.Vi;throw yt(60996)}addReference(t,i,r){return this.Ri.addReference(r,i),this.fi.delete(r.toString()),Z.resolve()}removeReference(t,i,r){return this.Ri.removeReference(r,i),this.fi.add(r.toString()),Z.resolve()}markPotentiallyOrphaned(t,i){return this.fi.add(i.toString()),Z.resolve()}removeTarget(t,i){this.Ri.jr(i.targetId).forEach((l=>this.fi.add(l.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,i.targetId).next((l=>{l.forEach((c=>this.fi.add(c.toString())))})).next((()=>r.removeTargetData(t,i)))}Ei(){this.Vi=new Set}di(t){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Z.forEach(this.fi,(r=>{const l=dt.fromPath(r);return this.gi(t,l).next((c=>{c||i.removeEntry(l,St.min())}))})).next((()=>(this.Vi=null,i.apply(t))))}updateLimboDocument(t,i){return this.gi(t,i).next((r=>{r?this.fi.delete(i.toString()):this.fi.add(i.toString())}))}Ti(t){return 0}gi(t,i){return Z.or([()=>Z.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(t,i),()=>this.persistence.Ai(t,i)])}}class bh{constructor(t,i){this.persistence=t,this.pi=new ya((r=>I2(r.path)),((r,l)=>r.isEqual(l))),this.garbageCollector=LI(this,i)}static mi(t,i){return new bh(t,i)}Ei(){}di(t){return Z.resolve()}forEachTarget(t,i){return this.persistence.getTargetCache().forEachTarget(t,i)}gr(t){const i=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next((r=>i.next((l=>r+l))))}wr(t){let i=0;return this.pr(t,(r=>{i++})).next((()=>i))}pr(t,i){return Z.forEach(this.pi,((r,l)=>this.br(t,r,l).next((c=>c?Z.resolve():i(l)))))}removeTargets(t,i,r){return this.persistence.getTargetCache().removeTargets(t,i,r)}removeOrphanedDocuments(t,i){let r=0;const l=this.persistence.getRemoteDocumentCache(),c=l.newChangeBuffer();return l.ii(t,(d=>this.br(t,d,i).next((p=>{p||(r++,c.removeEntry(d,St.min()))})))).next((()=>c.apply(t))).next((()=>r))}markPotentiallyOrphaned(t,i){return this.pi.set(i,t.currentSequenceNumber),Z.resolve()}removeTarget(t,i){const r=i.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,r)}addReference(t,i,r){return this.pi.set(r,t.currentSequenceNumber),Z.resolve()}removeReference(t,i,r){return this.pi.set(r,t.currentSequenceNumber),Z.resolve()}updateLimboDocument(t,i){return this.pi.set(i,t.currentSequenceNumber),Z.resolve()}Ti(t){let i=t.key.toString().length;return t.isFoundDocument()&&(i+=rh(t.data.value)),i}br(t,i,r){return Z.or([()=>this.persistence.Ai(t,i),()=>this.persistence.getTargetCache().containsKey(t,i),()=>{const l=this.pi.get(i);return Z.resolve(l!==void 0&&l>r)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cg{constructor(t,i,r,l){this.targetId=t,this.fromCache=i,this.Es=r,this.ds=l}static As(t,i){let r=Ht(),l=Ht();for(const c of i.docChanges)switch(c.type){case 0:r=r.add(c.doc.key);break;case 1:l=l.add(c.doc.key)}return new cg(t,i.fromCache,r,l)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KI{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XI{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return qS()?8:w2(yn())>0?6:4})()}initialize(t,i){this.ps=t,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(t,i,r,l){const c={result:null};return this.ys(t,i).next((d=>{c.result=d})).next((()=>{if(!c.result)return this.ws(t,i,l,r).next((d=>{c.result=d}))})).next((()=>{if(c.result)return;const d=new KI;return this.Ss(t,i,d).next((p=>{if(c.result=p,this.Vs)return this.bs(t,i,d,p.size)}))})).next((()=>c.result))}bs(t,i,r,l){return r.documentReadCount<this.fs?(fo()<=Bt.DEBUG&&ct("QueryEngine","SDK will not create cache indexes for query:",mo(i),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),Z.resolve()):(fo()<=Bt.DEBUG&&ct("QueryEngine","Query:",mo(i),"scans",r.documentReadCount,"local documents and returns",l,"documents as results."),r.documentReadCount>this.gs*l?(fo()<=Bt.DEBUG&&ct("QueryEngine","The SDK decides to create cache indexes for query:",mo(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Gi(i))):Z.resolve())}ys(t,i){if(c0(i))return Z.resolve(null);let r=Gi(i);return this.indexManager.getIndexType(t,r).next((l=>l===0?null:(i.limit!==null&&l===1&&(i=Im(i,null,"F"),r=Gi(i)),this.indexManager.getDocumentsMatchingTarget(t,r).next((c=>{const d=Ht(...c);return this.ps.getDocuments(t,d).next((p=>this.indexManager.getMinOffset(t,r).next((_=>{const y=this.Ds(i,p);return this.Cs(i,y,d,_.readTime)?this.ys(t,Im(i,null,"F")):this.vs(t,y,i,_)}))))})))))}ws(t,i,r,l){return c0(i)||l.isEqual(St.min())?Z.resolve(null):this.ps.getDocuments(t,r).next((c=>{const d=this.Ds(i,c);return this.Cs(i,d,r,l)?Z.resolve(null):(fo()<=Bt.DEBUG&&ct("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),mo(i)),this.vs(t,d,i,E2(l,nu)).next((p=>p)))}))}Ds(t,i){let r=new $e(fT(t));return i.forEach(((l,c)=>{jh(t,c)&&(r=r.add(c))})),r}Cs(t,i,r,l){if(t.limit===null)return!1;if(r.size!==i.size)return!0;const c=t.limitType==="F"?i.last():i.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(l)>0)}Ss(t,i,r){return fo()<=Bt.DEBUG&&ct("QueryEngine","Using full collection scan to execute query:",mo(i)),this.ps.getDocumentsMatchingQuery(t,i,Ar.min(),r)}vs(t,i,r,l){return this.ps.getDocumentsMatchingQuery(t,r,l).next((c=>(i.forEach((d=>{c=c.insert(d.key,d)})),c)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hg="LocalStore",$I=3e8;class ZI{constructor(t,i,r,l){this.persistence=t,this.Fs=i,this.serializer=l,this.Ms=new Re(qt),this.xs=new ya((c=>ng(c)),ig),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(r)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new jI(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>t.collect(i,this.Ms)))}}function JI(s,t,i,r){return new ZI(s,t,i,r)}async function zT(s,t){const i=It(s);return await i.persistence.runTransaction("Handle user change","readonly",(r=>{let l;return i.mutationQueue.getAllMutationBatches(r).next((c=>(l=c,i.Bs(t),i.mutationQueue.getAllMutationBatches(r)))).next((c=>{const d=[],p=[];let _=Ht();for(const y of l){d.push(y.batchId);for(const A of y.mutations)_=_.add(A.key)}for(const y of c){p.push(y.batchId);for(const A of y.mutations)_=_.add(A.key)}return i.localDocuments.getDocuments(r,_).next((y=>({Ls:y,removedBatchIds:d,addedBatchIds:p})))}))}))}function WI(s,t){const i=It(s);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const l=t.batch.keys(),c=i.Ns.newChangeBuffer({trackRemovals:!0});return(function(p,_,y,A){const b=y.batch,N=b.keys();let Y=Z.resolve();return N.forEach((et=>{Y=Y.next((()=>A.getEntry(_,et))).next((lt=>{const nt=y.docVersions.get(et);$t(nt!==null,48541),lt.version.compareTo(nt)<0&&(b.applyToRemoteDocument(lt,y),lt.isValidDocument()&&(lt.setReadTime(y.commitVersion),A.addEntry(lt)))}))})),Y.next((()=>p.mutationQueue.removeMutationBatch(_,b)))})(i,r,t,c).next((()=>c.apply(r))).next((()=>i.mutationQueue.performConsistencyCheck(r))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(r,l,t.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(p){let _=Ht();for(let y=0;y<p.mutationResults.length;++y)p.mutationResults[y].transformResults.length>0&&(_=_.add(p.batch.mutations[y].key));return _})(t)))).next((()=>i.localDocuments.getDocuments(r,l)))}))}function BT(s){const t=It(s);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>t.Pi.getLastRemoteSnapshotVersion(i)))}function tC(s,t){const i=It(s),r=t.snapshotVersion;let l=i.Ms;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const d=i.Ns.newChangeBuffer({trackRemovals:!0});l=i.Ms;const p=[];t.targetChanges.forEach(((A,b)=>{const N=l.get(b);if(!N)return;p.push(i.Pi.removeMatchingKeys(c,A.removedDocuments,b).next((()=>i.Pi.addMatchingKeys(c,A.addedDocuments,b))));let Y=N.withSequenceNumber(c.currentSequenceNumber);t.targetMismatches.get(b)!==null?Y=Y.withResumeToken(fn.EMPTY_BYTE_STRING,St.min()).withLastLimboFreeSnapshotVersion(St.min()):A.resumeToken.approximateByteSize()>0&&(Y=Y.withResumeToken(A.resumeToken,r)),l=l.insert(b,Y),(function(lt,nt,pt){return lt.resumeToken.approximateByteSize()===0||nt.snapshotVersion.toMicroseconds()-lt.snapshotVersion.toMicroseconds()>=$I?!0:pt.addedDocuments.size+pt.modifiedDocuments.size+pt.removedDocuments.size>0})(N,Y,A)&&p.push(i.Pi.updateTargetData(c,Y))}));let _=xs(),y=Ht();if(t.documentUpdates.forEach((A=>{t.resolvedLimboDocuments.has(A)&&p.push(i.persistence.referenceDelegate.updateLimboDocument(c,A))})),p.push(eC(c,d,t.documentUpdates).next((A=>{_=A.ks,y=A.qs}))),!r.isEqual(St.min())){const A=i.Pi.getLastRemoteSnapshotVersion(c).next((b=>i.Pi.setTargetsMetadata(c,c.currentSequenceNumber,r)));p.push(A)}return Z.waitFor(p).next((()=>d.apply(c))).next((()=>i.localDocuments.getLocalViewOfDocuments(c,_,y))).next((()=>_))})).then((c=>(i.Ms=l,c)))}function eC(s,t,i){let r=Ht(),l=Ht();return i.forEach((c=>r=r.add(c))),t.getEntries(s,r).next((c=>{let d=xs();return i.forEach(((p,_)=>{const y=c.get(p);_.isFoundDocument()!==y.isFoundDocument()&&(l=l.add(p)),_.isNoDocument()&&_.version.isEqual(St.min())?(t.removeEntry(p,_.readTime),d=d.insert(p,_)):!y.isValidDocument()||_.version.compareTo(y.version)>0||_.version.compareTo(y.version)===0&&y.hasPendingWrites?(t.addEntry(_),d=d.insert(p,_)):ct(hg,"Ignoring outdated watch update for ",p,". Current version:",y.version," Watch version:",_.version)})),{ks:d,qs:l}}))}function nC(s,t){const i=It(s);return i.persistence.runTransaction("Get next mutation batch","readonly",(r=>(t===void 0&&(t=Wm),i.mutationQueue.getNextMutationBatchAfterBatchId(r,t))))}function iC(s,t){const i=It(s);return i.persistence.runTransaction("Allocate target","readwrite",(r=>{let l;return i.Pi.getTargetData(r,t).next((c=>c?(l=c,Z.resolve(l)):i.Pi.allocateTargetId(r).next((d=>(l=new gr(t,d,"TargetPurposeListen",r.currentSequenceNumber),i.Pi.addTargetData(r,l).next((()=>l)))))))})).then((r=>{const l=i.Ms.get(r.targetId);return(l===null||r.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(i.Ms=i.Ms.insert(r.targetId,r),i.xs.set(t,r.targetId)),r}))}async function Dm(s,t,i){const r=It(s),l=r.Ms.get(t),c=i?"readwrite":"readwrite-primary";try{i||await r.persistence.runTransaction("Release target",c,(d=>r.persistence.referenceDelegate.removeTarget(d,l)))}catch(d){if(!Uo(d))throw d;ct(hg,`Failed to update sequence numbers for target ${t}: ${d}`)}r.Ms=r.Ms.remove(t),r.xs.delete(l.target)}function S0(s,t,i){const r=It(s);let l=St.min(),c=Ht();return r.persistence.runTransaction("Execute query","readwrite",(d=>(function(_,y,A){const b=It(_),N=b.xs.get(A);return N!==void 0?Z.resolve(b.Ms.get(N)):b.Pi.getTargetData(y,A)})(r,d,Gi(t)).next((p=>{if(p)return l=p.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(d,p.targetId).next((_=>{c=_}))})).next((()=>r.Fs.getDocumentsMatchingQuery(d,t,i?l:St.min(),i?c:Ht()))).next((p=>(sC(r,Q2(t),p),{documents:p,Qs:c})))))}function sC(s,t,i){let r=s.Os.get(t)||St.min();i.forEach(((l,c)=>{c.readTime.compareTo(r)>0&&(r=c.readTime)})),s.Os.set(t,r)}class b0{constructor(){this.activeTargetIds=J2()}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class rC{constructor(){this.Mo=new b0,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,i,r){}addLocalQueryTarget(t,i=!0){return i&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,i,r){this.xo[t]=i}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new b0,Promise.resolve()}handleUserChange(t,i,r){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aC{Oo(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w0="ConnectivityMonitor";class R0{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ct(w0,"Network connectivity changed: AVAILABLE");for(const t of this.qo)t(0)}ko(){ct(w0,"Network connectivity changed: UNAVAILABLE");for(const t of this.qo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Jc=null;function Mm(){return Jc===null?Jc=(function(){return 268435456+Math.round(2147483648*Math.random())})():Jc++,"0x"+Jc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const om="RestConnection",oC={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class lC{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const i=t.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.Uo=i+"://"+t.host,this.Ko=`projects/${r}/databases/${l}`,this.Wo=this.databaseId.database===vh?`project_id=${r}`:`project_id=${r}&database_id=${l}`}Go(t,i,r,l,c){const d=Mm(),p=this.zo(t,i.toUriEncodedString());ct(om,`Sending RPC '${t}' ${d}:`,p,r);const _={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(_,l,c);const{host:y}=new URL(p),A=No(y);return this.Jo(t,p,_,r,A).then((b=>(ct(om,`Received RPC '${t}' ${d}: `,b),b)),(b=>{throw bo(om,`RPC '${t}' ${d} failed with error: `,b,"url: ",p,"request:",r),b}))}Ho(t,i,r,l,c,d){return this.Go(t,i,r,l,c)}jo(t,i,r){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Oo})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((l,c)=>t[c]=l)),r&&r.headers.forEach(((l,c)=>t[c]=l))}zo(t,i){const r=oC[t];return`${this.Uo}/v1/${i}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uC{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gn="WebChannelConnection";class cC extends lC{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,i,r,l,c){const d=Mm();return new Promise(((p,_)=>{const y=new jE;y.setWithCredentials(!0),y.listenOnce(zE.COMPLETE,(()=>{try{switch(y.getLastErrorCode()){case sh.NO_ERROR:const b=y.getResponseJson();ct(gn,`XHR for RPC '${t}' ${d} received:`,JSON.stringify(b)),p(b);break;case sh.TIMEOUT:ct(gn,`RPC '${t}' ${d} timed out`),_(new ot(K.DEADLINE_EXCEEDED,"Request time out"));break;case sh.HTTP_ERROR:const N=y.getStatus();if(ct(gn,`RPC '${t}' ${d} failed with status:`,N,"response text:",y.getResponseText()),N>0){let Y=y.getResponseJson();Array.isArray(Y)&&(Y=Y[0]);const et=Y?.error;if(et&&et.status&&et.message){const lt=(function(pt){const wt=pt.toLowerCase().replace(/_/g,"-");return Object.values(K).indexOf(wt)>=0?wt:K.UNKNOWN})(et.status);_(new ot(lt,et.message))}else _(new ot(K.UNKNOWN,"Server responded with status "+y.getStatus()))}else _(new ot(K.UNAVAILABLE,"Connection failed."));break;default:yt(9055,{l_:t,streamId:d,h_:y.getLastErrorCode(),P_:y.getLastError()})}}finally{ct(gn,`RPC '${t}' ${d} completed.`)}}));const A=JSON.stringify(l);ct(gn,`RPC '${t}' ${d} sending request:`,l),y.send(i,"POST",A,r,15)}))}T_(t,i,r){const l=Mm(),c=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],d=HE(),p=qE(),_={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(_.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(_.useFetchStreams=!0),this.jo(_.initMessageHeaders,i,r),_.encodeInitMessageHeaders=!0;const A=c.join("");ct(gn,`Creating RPC '${t}' stream ${l}: ${A}`,_);const b=d.createWebChannel(A,_);this.I_(b);let N=!1,Y=!1;const et=new uC({Yo:nt=>{Y?ct(gn,`Not sending because RPC '${t}' stream ${l} is closed:`,nt):(N||(ct(gn,`Opening RPC '${t}' stream ${l} transport.`),b.open(),N=!0),ct(gn,`RPC '${t}' stream ${l} sending:`,nt),b.send(nt))},Zo:()=>b.close()}),lt=(nt,pt,wt)=>{nt.listen(pt,(Et=>{try{wt(Et)}catch(Zt){setTimeout((()=>{throw Zt}),0)}}))};return lt(b,Hl.EventType.OPEN,(()=>{Y||(ct(gn,`RPC '${t}' stream ${l} transport opened.`),et.o_())})),lt(b,Hl.EventType.CLOSE,(()=>{Y||(Y=!0,ct(gn,`RPC '${t}' stream ${l} transport closed`),et.a_(),this.E_(b))})),lt(b,Hl.EventType.ERROR,(nt=>{Y||(Y=!0,bo(gn,`RPC '${t}' stream ${l} transport errored. Name:`,nt.name,"Message:",nt.message),et.a_(new ot(K.UNAVAILABLE,"The operation could not be completed")))})),lt(b,Hl.EventType.MESSAGE,(nt=>{if(!Y){const pt=nt.data[0];$t(!!pt,16349);const wt=pt,Et=wt?.error||wt[0]?.error;if(Et){ct(gn,`RPC '${t}' stream ${l} received error:`,Et);const Zt=Et.status;let ie=(function(w){const I=He[w];if(I!==void 0)return IT(I)})(Zt),Ft=Et.message;ie===void 0&&(ie=K.INTERNAL,Ft="Unknown error status: "+Zt+" with message "+Et.message),Y=!0,et.a_(new ot(ie,Ft)),b.close()}else ct(gn,`RPC '${t}' stream ${l} received:`,pt),et.u_(pt)}})),lt(p,BE.STAT_EVENT,(nt=>{nt.stat===Em.PROXY?ct(gn,`RPC '${t}' stream ${l} detected buffering proxy`):nt.stat===Em.NOPROXY&&ct(gn,`RPC '${t}' stream ${l} detected no buffering proxy`)})),setTimeout((()=>{et.__()}),0),et}terminate(){this.c_.forEach((t=>t.close())),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter((i=>i===t))}}function lm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fh(s){return new mI(s,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fg{constructor(t,i,r=1e3,l=1.5,c=6e4){this.Mi=t,this.timerId=i,this.d_=r,this.A_=l,this.R_=c,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const i=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),l=Math.max(0,i-r);l>0&&ct("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.V_} ms, delay with jitter: ${i} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,l,(()=>(this.f_=Date.now(),t()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I0="PersistentStream";class qT{constructor(t,i,r,l,c,d,p,_){this.Mi=t,this.S_=r,this.b_=l,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=p,this.listener=_,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new fg(t,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(t){this.Q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,i){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():i&&i.code===K.RESOURCE_EXHAUSTED?(Cs(i.toString()),Cs("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===K.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.r_(i)}K_(){}auth(){this.state=1;const t=this.W_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,l])=>{this.D_===i&&this.G_(r,l)}),(r=>{t((()=>{const l=new ot(K.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(l)}))}))}G_(t,i){const r=this.W_(this.D_);this.stream=this.j_(t,i),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((l=>{r((()=>this.z_(l)))})),this.stream.onMessage((l=>{r((()=>++this.F_==1?this.J_(l):this.onNext(l)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return ct(I0,`close with error: ${t}`),this.stream=null,this.close(4,t)}W_(t){return i=>{this.Mi.enqueueAndForget((()=>this.D_===t?i():(ct(I0,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class hC extends qT{constructor(t,i,r,l,c,d){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,r,l,d),this.serializer=c}j_(t,i){return this.connection.T_("Listen",t,i)}J_(t){return this.onNext(t)}onNext(t){this.M_.reset();const i=_I(this.serializer,t),r=(function(c){if(!("targetChange"in c))return St.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?St.min():d.readTime?Gn(d.readTime):St.min()})(t);return this.listener.H_(i,r)}Y_(t){const i={};i.database=Nm(this.serializer),i.addTarget=(function(c,d){let p;const _=d.target;if(p=wm(_)?{documents:EI(c,_)}:{query:TI(c,_).ft},p.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){p.resumeToken=NT(c,d.resumeToken);const y=Cm(c,d.expectedCount);y!==null&&(p.expectedCount=y)}else if(d.snapshotVersion.compareTo(St.min())>0){p.readTime=Ah(c,d.snapshotVersion.toTimestamp());const y=Cm(c,d.expectedCount);y!==null&&(p.expectedCount=y)}return p})(this.serializer,t);const r=SI(this.serializer,t);r&&(i.labels=r),this.q_(i)}Z_(t){const i={};i.database=Nm(this.serializer),i.removeTarget=t,this.q_(i)}}class fC extends qT{constructor(t,i,r,l,c,d){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,r,l,d),this.serializer=c}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(t,i){return this.connection.T_("Write",t,i)}J_(t){return $t(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,$t(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){$t(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const i=vI(t.writeResults,t.commitTime),r=Gn(t.commitTime);return this.listener.na(r,i)}ra(){const t={};t.database=Nm(this.serializer),this.q_(t)}ea(t){const i={streamToken:this.lastStreamToken,writes:t.map((r=>VT(this.serializer,r)))};this.q_(i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dC{}class mC extends dC{constructor(t,i,r,l){super(),this.authCredentials=t,this.appCheckCredentials=i,this.connection=r,this.serializer=l,this.ia=!1}sa(){if(this.ia)throw new ot(K.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,i,r,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Go(t,xm(i,r),l,c,d))).catch((c=>{throw c.name==="FirebaseError"?(c.code===K.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new ot(K.UNKNOWN,c.toString())}))}Ho(t,i,r,l,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,p])=>this.connection.Ho(t,xm(i,r),l,d,p,c))).catch((d=>{throw d.name==="FirebaseError"?(d.code===K.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new ot(K.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class gC{constructor(t,i){this.asyncQueue=t,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const i=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Cs(i),this.aa=!1):ct("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pa="RemoteStore";class pC{constructor(t,i,r,l,c){this.localStore=t,this.datastore=i,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=c,this.Aa.Oo((d=>{r.enqueueAndForget((async()=>{_a(this)&&(ct(pa,"Restarting streams for network reachability change."),await(async function(_){const y=It(_);y.Ea.add(4),await Eu(y),y.Ra.set("Unknown"),y.Ea.delete(4),await Gh(y)})(this))}))})),this.Ra=new gC(r,l)}}async function Gh(s){if(_a(s))for(const t of s.da)await t(!0)}async function Eu(s){for(const t of s.da)await t(!1)}function HT(s,t){const i=It(s);i.Ia.has(t.targetId)||(i.Ia.set(t.targetId,t),pg(i)?gg(i):ko(i).O_()&&mg(i,t))}function dg(s,t){const i=It(s),r=ko(i);i.Ia.delete(t),r.O_()&&FT(i,t),i.Ia.size===0&&(r.O_()?r.L_():_a(i)&&i.Ra.set("Unknown"))}function mg(s,t){if(s.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(St.min())>0){const i=s.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(i)}ko(s).Y_(t)}function FT(s,t){s.Va.Ue(t),ko(s).Z_(t)}function gg(s){s.Va=new cI({getRemoteKeysForTarget:t=>s.remoteSyncer.getRemoteKeysForTarget(t),At:t=>s.Ia.get(t)||null,ht:()=>s.datastore.serializer.databaseId}),ko(s).start(),s.Ra.ua()}function pg(s){return _a(s)&&!ko(s).x_()&&s.Ia.size>0}function _a(s){return It(s).Ea.size===0}function GT(s){s.Va=void 0}async function yC(s){s.Ra.set("Online")}async function _C(s){s.Ia.forEach(((t,i)=>{mg(s,t)}))}async function vC(s,t){GT(s),pg(s)?(s.Ra.ha(t),gg(s)):s.Ra.set("Unknown")}async function EC(s,t,i){if(s.Ra.set("Online"),t instanceof xT&&t.state===2&&t.cause)try{await(async function(l,c){const d=c.cause;for(const p of c.targetIds)l.Ia.has(p)&&(await l.remoteSyncer.rejectListen(p,d),l.Ia.delete(p),l.Va.removeTarget(p))})(s,t)}catch(r){ct(pa,"Failed to remove targets %s: %s ",t.targetIds.join(","),r),await wh(s,r)}else if(t instanceof lh?s.Va.Ze(t):t instanceof CT?s.Va.st(t):s.Va.tt(t),!i.isEqual(St.min()))try{const r=await BT(s.localStore);i.compareTo(r)>=0&&await(function(c,d){const p=c.Va.Tt(d);return p.targetChanges.forEach(((_,y)=>{if(_.resumeToken.approximateByteSize()>0){const A=c.Ia.get(y);A&&c.Ia.set(y,A.withResumeToken(_.resumeToken,d))}})),p.targetMismatches.forEach(((_,y)=>{const A=c.Ia.get(_);if(!A)return;c.Ia.set(_,A.withResumeToken(fn.EMPTY_BYTE_STRING,A.snapshotVersion)),FT(c,_);const b=new gr(A.target,_,y,A.sequenceNumber);mg(c,b)})),c.remoteSyncer.applyRemoteEvent(p)})(s,i)}catch(r){ct(pa,"Failed to raise snapshot:",r),await wh(s,r)}}async function wh(s,t,i){if(!Uo(t))throw t;s.Ea.add(1),await Eu(s),s.Ra.set("Offline"),i||(i=()=>BT(s.localStore)),s.asyncQueue.enqueueRetryable((async()=>{ct(pa,"Retrying IndexedDB access"),await i(),s.Ea.delete(1),await Gh(s)}))}function QT(s,t){return t().catch((i=>wh(s,i,t)))}async function Qh(s){const t=It(s),i=Rr(t);let r=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:Wm;for(;TC(t);)try{const l=await nC(t.localStore,r);if(l===null){t.Ta.length===0&&i.L_();break}r=l.batchId,AC(t,l)}catch(l){await wh(t,l)}YT(t)&&KT(t)}function TC(s){return _a(s)&&s.Ta.length<10}function AC(s,t){s.Ta.push(t);const i=Rr(s);i.O_()&&i.X_&&i.ea(t.mutations)}function YT(s){return _a(s)&&!Rr(s).x_()&&s.Ta.length>0}function KT(s){Rr(s).start()}async function SC(s){Rr(s).ra()}async function bC(s){const t=Rr(s);for(const i of s.Ta)t.ea(i.mutations)}async function wC(s,t,i){const r=s.Ta.shift(),l=rg.from(r,t,i);await QT(s,(()=>s.remoteSyncer.applySuccessfulWrite(l))),await Qh(s)}async function RC(s,t){t&&Rr(s).X_&&await(async function(r,l){if((function(d){return RT(d)&&d!==K.ABORTED})(l.code)){const c=r.Ta.shift();Rr(r).B_(),await QT(r,(()=>r.remoteSyncer.rejectFailedWrite(c.batchId,l))),await Qh(r)}})(s,t),YT(s)&&KT(s)}async function C0(s,t){const i=It(s);i.asyncQueue.verifyOperationInProgress(),ct(pa,"RemoteStore received new credentials");const r=_a(i);i.Ea.add(3),await Eu(i),r&&i.Ra.set("Unknown"),await i.remoteSyncer.handleCredentialChange(t),i.Ea.delete(3),await Gh(i)}async function IC(s,t){const i=It(s);t?(i.Ea.delete(2),await Gh(i)):t||(i.Ea.add(2),await Eu(i),i.Ra.set("Unknown"))}function ko(s){return s.ma||(s.ma=(function(i,r,l){const c=It(i);return c.sa(),new hC(r,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(s.datastore,s.asyncQueue,{Xo:yC.bind(null,s),t_:_C.bind(null,s),r_:vC.bind(null,s),H_:EC.bind(null,s)}),s.da.push((async t=>{t?(s.ma.B_(),pg(s)?gg(s):s.Ra.set("Unknown")):(await s.ma.stop(),GT(s))}))),s.ma}function Rr(s){return s.fa||(s.fa=(function(i,r,l){const c=It(i);return c.sa(),new fC(r,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(s.datastore,s.asyncQueue,{Xo:()=>Promise.resolve(),t_:SC.bind(null,s),r_:RC.bind(null,s),ta:bC.bind(null,s),na:wC.bind(null,s)}),s.da.push((async t=>{t?(s.fa.B_(),await Qh(s)):(await s.fa.stop(),s.Ta.length>0&&(ct(pa,`Stopping write stream with ${s.Ta.length} pending writes`),s.Ta=[]))}))),s.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yg{constructor(t,i,r,l,c){this.asyncQueue=t,this.timerId=i,this.targetTimeMs=r,this.op=l,this.removalCallback=c,this.deferred=new Fi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,i,r,l,c){const d=Date.now()+r,p=new yg(t,i,d,l,c);return p.start(r),p}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ot(K.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function _g(s,t){if(Cs("AsyncQueue",`${t}: ${s}`),Uo(s))return new ot(K.UNAVAILABLE,`${t}: ${s}`);throw s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class To{static emptySet(t){return new To(t.comparator)}constructor(t){this.comparator=t?(i,r)=>t(i,r)||dt.comparator(i.key,r.key):(i,r)=>dt.comparator(i.key,r.key),this.keyedMap=Fl(),this.sortedSet=new Re(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const i=this.keyedMap.get(t);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((i,r)=>(t(i),!1)))}add(t){const i=this.delete(t.key);return i.copy(i.keyedMap.insert(t.key,t),i.sortedSet.insert(t,null))}delete(t){const i=this.get(t);return i?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(i)):this}isEqual(t){if(!(t instanceof To)||this.size!==t.size)return!1;const i=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=r.getNext().key;if(!l.isEqual(c))return!1}return!0}toString(){const t=[];return this.forEach((i=>{t.push(i.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,i){const r=new To;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=i,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x0{constructor(){this.ga=new Re(dt.comparator)}track(t){const i=t.doc.key,r=this.ga.get(i);r?t.type!==0&&r.type===3?this.ga=this.ga.insert(i,t):t.type===3&&r.type!==1?this.ga=this.ga.insert(i,{type:r.type,doc:t.doc}):t.type===2&&r.type===2?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):t.type===2&&r.type===0?this.ga=this.ga.insert(i,{type:0,doc:t.doc}):t.type===1&&r.type===0?this.ga=this.ga.remove(i):t.type===1&&r.type===2?this.ga=this.ga.insert(i,{type:1,doc:r.doc}):t.type===0&&r.type===1?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):yt(63341,{Rt:t,pa:r}):this.ga=this.ga.insert(i,t)}ya(){const t=[];return this.ga.inorderTraversal(((i,r)=>{t.push(r)})),t}}class xo{constructor(t,i,r,l,c,d,p,_,y){this.query=t,this.docs=i,this.oldDocs=r,this.docChanges=l,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=p,this.excludesMetadataChanges=_,this.hasCachedResults=y}static fromInitialDocuments(t,i,r,l,c){const d=[];return i.forEach((p=>{d.push({type:0,doc:p})})),new xo(t,i,To.emptySet(i),d,r,l,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Ph(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const i=this.docChanges,r=t.docChanges;if(i.length!==r.length)return!1;for(let l=0;l<i.length;l++)if(i[l].type!==r[l].type||!i[l].doc.isEqual(r[l].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CC{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((t=>t.Da()))}}class xC{constructor(){this.queries=N0(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,r){const l=It(i),c=l.queries;l.queries=N0(),c.forEach(((d,p)=>{for(const _ of p.Sa)_.onError(r)}))})(this,new ot(K.ABORTED,"Firestore shutting down"))}}function N0(){return new ya((s=>hT(s)),Ph)}async function vg(s,t){const i=It(s);let r=3;const l=t.query;let c=i.queries.get(l);c?!c.ba()&&t.Da()&&(r=2):(c=new CC,r=t.Da()?0:1);try{switch(r){case 0:c.wa=await i.onListen(l,!0);break;case 1:c.wa=await i.onListen(l,!1);break;case 2:await i.onFirstRemoteStoreListen(l)}}catch(d){const p=_g(d,`Initialization of query '${mo(t.query)}' failed`);return void t.onError(p)}i.queries.set(l,c),c.Sa.push(t),t.va(i.onlineState),c.wa&&t.Fa(c.wa)&&Tg(i)}async function Eg(s,t){const i=It(s),r=t.query;let l=3;const c=i.queries.get(r);if(c){const d=c.Sa.indexOf(t);d>=0&&(c.Sa.splice(d,1),c.Sa.length===0?l=t.Da()?0:1:!c.ba()&&t.Da()&&(l=2))}switch(l){case 0:return i.queries.delete(r),i.onUnlisten(r,!0);case 1:return i.queries.delete(r),i.onUnlisten(r,!1);case 2:return i.onLastRemoteStoreUnlisten(r);default:return}}function NC(s,t){const i=It(s);let r=!1;for(const l of t){const c=l.query,d=i.queries.get(c);if(d){for(const p of d.Sa)p.Fa(l)&&(r=!0);d.wa=l}}r&&Tg(i)}function DC(s,t,i){const r=It(s),l=r.queries.get(t);if(l)for(const c of l.Sa)c.onError(i);r.queries.delete(t)}function Tg(s){s.Ca.forEach((t=>{t.next()}))}var Om,D0;(D0=Om||(Om={})).Ma="default",D0.Cache="cache";class Ag{constructor(t,i,r){this.query=t,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(t){if(!this.options.includeMetadataChanges){const r=[];for(const l of t.docChanges)l.type!==3&&r.push(l);t=new xo(t.query,t.docs,t.oldDocs,r,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let i=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),i=!0):this.La(t,this.onlineState)&&(this.ka(t),i=!0),this.Na=t,i}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),i=!0),i}La(t,i){if(!t.fromCache||!this.Da())return!0;const r=i!=="Offline";return(!this.options.qa||!r)&&(!t.docs.isEmpty()||t.hasCachedResults||i==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(t){t=xo.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==Om.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XT{constructor(t){this.key=t}}class $T{constructor(t){this.key=t}}class MC{constructor(t,i){this.query=t,this.Ya=i,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Ht(),this.mutatedKeys=Ht(),this.eu=fT(t),this.tu=new To(this.eu)}get nu(){return this.Ya}ru(t,i){const r=i?i.iu:new x0,l=i?i.tu:this.tu;let c=i?i.mutatedKeys:this.mutatedKeys,d=l,p=!1;const _=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,y=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(t.inorderTraversal(((A,b)=>{const N=l.get(A),Y=jh(this.query,b)?b:null,et=!!N&&this.mutatedKeys.has(N.key),lt=!!Y&&(Y.hasLocalMutations||this.mutatedKeys.has(Y.key)&&Y.hasCommittedMutations);let nt=!1;N&&Y?N.data.isEqual(Y.data)?et!==lt&&(r.track({type:3,doc:Y}),nt=!0):this.su(N,Y)||(r.track({type:2,doc:Y}),nt=!0,(_&&this.eu(Y,_)>0||y&&this.eu(Y,y)<0)&&(p=!0)):!N&&Y?(r.track({type:0,doc:Y}),nt=!0):N&&!Y&&(r.track({type:1,doc:N}),nt=!0,(_||y)&&(p=!0)),nt&&(Y?(d=d.add(Y),c=lt?c.add(A):c.delete(A)):(d=d.delete(A),c=c.delete(A)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const A=this.query.limitType==="F"?d.last():d.first();d=d.delete(A.key),c=c.delete(A.key),r.track({type:1,doc:A})}return{tu:d,iu:r,Cs:p,mutatedKeys:c}}su(t,i){return t.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(t,i,r,l){const c=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const d=t.iu.ya();d.sort(((A,b)=>(function(Y,et){const lt=nt=>{switch(nt){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return yt(20277,{Rt:nt})}};return lt(Y)-lt(et)})(A.type,b.type)||this.eu(A.doc,b.doc))),this.ou(r),l=l??!1;const p=i&&!l?this._u():[],_=this.Xa.size===0&&this.current&&!l?1:0,y=_!==this.Za;return this.Za=_,d.length!==0||y?{snapshot:new xo(this.query,t.tu,c,d,t.mutatedKeys,_===0,y,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:p}:{au:p}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new x0,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(t){return!this.Ya.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((i=>this.Ya=this.Ya.add(i))),t.modifiedDocuments.forEach((i=>{})),t.removedDocuments.forEach((i=>this.Ya=this.Ya.delete(i))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Xa;this.Xa=Ht(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const i=[];return t.forEach((r=>{this.Xa.has(r)||i.push(new $T(r))})),this.Xa.forEach((r=>{t.has(r)||i.push(new XT(r))})),i}cu(t){this.Ya=t.Qs,this.Xa=Ht();const i=this.ru(t.documents);return this.applyChanges(i,!0)}lu(){return xo.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Sg="SyncEngine";class OC{constructor(t,i,r){this.query=t,this.targetId=i,this.view=r}}class VC{constructor(t){this.key=t,this.hu=!1}}class UC{constructor(t,i,r,l,c,d){this.localStore=t,this.remoteStore=i,this.eventManager=r,this.sharedClientState=l,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new ya((p=>hT(p)),Ph),this.Iu=new Map,this.Eu=new Set,this.du=new Re(dt.comparator),this.Au=new Map,this.Ru=new lg,this.Vu={},this.mu=new Map,this.fu=Co.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function LC(s,t,i=!0){const r=n1(s);let l;const c=r.Tu.get(t);return c?(r.sharedClientState.addLocalQueryTarget(c.targetId),l=c.view.lu()):l=await ZT(r,t,i,!0),l}async function kC(s,t){const i=n1(s);await ZT(i,t,!0,!1)}async function ZT(s,t,i,r){const l=await iC(s.localStore,Gi(t)),c=l.targetId,d=s.sharedClientState.addLocalQueryTarget(c,i);let p;return r&&(p=await PC(s,t,c,d==="current",l.resumeToken)),s.isPrimaryClient&&i&&HT(s.remoteStore,l),p}async function PC(s,t,i,r,l){s.pu=(b,N,Y)=>(async function(lt,nt,pt,wt){let Et=nt.view.ru(pt);Et.Cs&&(Et=await S0(lt.localStore,nt.query,!1).then((({documents:x})=>nt.view.ru(x,Et))));const Zt=wt&&wt.targetChanges.get(nt.targetId),ie=wt&&wt.targetMismatches.get(nt.targetId)!=null,Ft=nt.view.applyChanges(Et,lt.isPrimaryClient,Zt,ie);return O0(lt,nt.targetId,Ft.au),Ft.snapshot})(s,b,N,Y);const c=await S0(s.localStore,t,!0),d=new MC(t,c.Qs),p=d.ru(c.documents),_=vu.createSynthesizedTargetChangeForCurrentChange(i,r&&s.onlineState!=="Offline",l),y=d.applyChanges(p,s.isPrimaryClient,_);O0(s,i,y.au);const A=new OC(t,i,d);return s.Tu.set(t,A),s.Iu.has(i)?s.Iu.get(i).push(t):s.Iu.set(i,[t]),y.snapshot}async function jC(s,t,i){const r=It(s),l=r.Tu.get(t),c=r.Iu.get(l.targetId);if(c.length>1)return r.Iu.set(l.targetId,c.filter((d=>!Ph(d,t)))),void r.Tu.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(l.targetId),r.sharedClientState.isActiveQueryTarget(l.targetId)||await Dm(r.localStore,l.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(l.targetId),i&&dg(r.remoteStore,l.targetId),Vm(r,l.targetId)})).catch(Vo)):(Vm(r,l.targetId),await Dm(r.localStore,l.targetId,!0))}async function zC(s,t){const i=It(s),r=i.Tu.get(t),l=i.Iu.get(r.targetId);i.isPrimaryClient&&l.length===1&&(i.sharedClientState.removeLocalQueryTarget(r.targetId),dg(i.remoteStore,r.targetId))}async function BC(s,t,i){const r=KC(s);try{const l=await(function(d,p){const _=It(d),y=Ee.now(),A=p.reduce(((Y,et)=>Y.add(et.key)),Ht());let b,N;return _.persistence.runTransaction("Locally write mutations","readwrite",(Y=>{let et=xs(),lt=Ht();return _.Ns.getEntries(Y,A).next((nt=>{et=nt,et.forEach(((pt,wt)=>{wt.isValidDocument()||(lt=lt.add(pt))}))})).next((()=>_.localDocuments.getOverlayedDocuments(Y,et))).next((nt=>{b=nt;const pt=[];for(const wt of p){const Et=sI(wt,b.get(wt.key).overlayedDocument);Et!=null&&pt.push(new Nr(wt.key,Et,iT(Et.value.mapValue),hn.exists(!0)))}return _.mutationQueue.addMutationBatch(Y,y,pt,p)})).next((nt=>{N=nt;const pt=nt.applyToLocalDocumentSet(b,lt);return _.documentOverlayCache.saveOverlays(Y,nt.batchId,pt)}))})).then((()=>({batchId:N.batchId,changes:mT(b)})))})(r.localStore,t);r.sharedClientState.addPendingMutation(l.batchId),(function(d,p,_){let y=d.Vu[d.currentUser.toKey()];y||(y=new Re(qt)),y=y.insert(p,_),d.Vu[d.currentUser.toKey()]=y})(r,l.batchId,i),await Tu(r,l.changes),await Qh(r.remoteStore)}catch(l){const c=_g(l,"Failed to persist write");i.reject(c)}}async function JT(s,t){const i=It(s);try{const r=await tC(i.localStore,t);t.targetChanges.forEach(((l,c)=>{const d=i.Au.get(c);d&&($t(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1,22616),l.addedDocuments.size>0?d.hu=!0:l.modifiedDocuments.size>0?$t(d.hu,14607):l.removedDocuments.size>0&&($t(d.hu,42227),d.hu=!1))})),await Tu(i,r,t)}catch(r){await Vo(r)}}function M0(s,t,i){const r=It(s);if(r.isPrimaryClient&&i===0||!r.isPrimaryClient&&i===1){const l=[];r.Tu.forEach(((c,d)=>{const p=d.view.va(t);p.snapshot&&l.push(p.snapshot)})),(function(d,p){const _=It(d);_.onlineState=p;let y=!1;_.queries.forEach(((A,b)=>{for(const N of b.Sa)N.va(p)&&(y=!0)})),y&&Tg(_)})(r.eventManager,t),l.length&&r.Pu.H_(l),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function qC(s,t,i){const r=It(s);r.sharedClientState.updateQueryState(t,"rejected",i);const l=r.Au.get(t),c=l&&l.key;if(c){let d=new Re(dt.comparator);d=d.insert(c,tn.newNoDocument(c,St.min()));const p=Ht().add(c),_=new Hh(St.min(),new Map,new Re(qt),d,p);await JT(r,_),r.du=r.du.remove(c),r.Au.delete(t),bg(r)}else await Dm(r.localStore,t,!1).then((()=>Vm(r,t,i))).catch(Vo)}async function HC(s,t){const i=It(s),r=t.batch.batchId;try{const l=await WI(i.localStore,t);t1(i,r,null),WT(i,r),i.sharedClientState.updateMutationState(r,"acknowledged"),await Tu(i,l)}catch(l){await Vo(l)}}async function FC(s,t,i){const r=It(s);try{const l=await(function(d,p){const _=It(d);return _.persistence.runTransaction("Reject batch","readwrite-primary",(y=>{let A;return _.mutationQueue.lookupMutationBatch(y,p).next((b=>($t(b!==null,37113),A=b.keys(),_.mutationQueue.removeMutationBatch(y,b)))).next((()=>_.mutationQueue.performConsistencyCheck(y))).next((()=>_.documentOverlayCache.removeOverlaysForBatchId(y,A,p))).next((()=>_.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,A))).next((()=>_.localDocuments.getDocuments(y,A)))}))})(r.localStore,t);t1(r,t,i),WT(r,t),r.sharedClientState.updateMutationState(t,"rejected",i),await Tu(r,l)}catch(l){await Vo(l)}}function WT(s,t){(s.mu.get(t)||[]).forEach((i=>{i.resolve()})),s.mu.delete(t)}function t1(s,t,i){const r=It(s);let l=r.Vu[r.currentUser.toKey()];if(l){const c=l.get(t);c&&(i?c.reject(i):c.resolve(),l=l.remove(t)),r.Vu[r.currentUser.toKey()]=l}}function Vm(s,t,i=null){s.sharedClientState.removeLocalQueryTarget(t);for(const r of s.Iu.get(t))s.Tu.delete(r),i&&s.Pu.yu(r,i);s.Iu.delete(t),s.isPrimaryClient&&s.Ru.jr(t).forEach((r=>{s.Ru.containsKey(r)||e1(s,r)}))}function e1(s,t){s.Eu.delete(t.path.canonicalString());const i=s.du.get(t);i!==null&&(dg(s.remoteStore,i),s.du=s.du.remove(t),s.Au.delete(i),bg(s))}function O0(s,t,i){for(const r of i)r instanceof XT?(s.Ru.addReference(r.key,t),GC(s,r)):r instanceof $T?(ct(Sg,"Document no longer in limbo: "+r.key),s.Ru.removeReference(r.key,t),s.Ru.containsKey(r.key)||e1(s,r.key)):yt(19791,{wu:r})}function GC(s,t){const i=t.key,r=i.path.canonicalString();s.du.get(i)||s.Eu.has(r)||(ct(Sg,"New document in limbo: "+i),s.Eu.add(r),bg(s))}function bg(s){for(;s.Eu.size>0&&s.du.size<s.maxConcurrentLimboResolutions;){const t=s.Eu.values().next().value;s.Eu.delete(t);const i=new dt(fe.fromString(t)),r=s.fu.next();s.Au.set(r,new VC(i)),s.du=s.du.insert(i,r),HT(s.remoteStore,new gr(Gi(kh(i.path)),r,"TargetPurposeLimboResolution",Uh.ce))}}async function Tu(s,t,i){const r=It(s),l=[],c=[],d=[];r.Tu.isEmpty()||(r.Tu.forEach(((p,_)=>{d.push(r.pu(_,t,i).then((y=>{if((y||i)&&r.isPrimaryClient){const A=y?!y.fromCache:i?.targetChanges.get(_.targetId)?.current;r.sharedClientState.updateQueryState(_.targetId,A?"current":"not-current")}if(y){l.push(y);const A=cg.As(_.targetId,y);c.push(A)}})))})),await Promise.all(d),r.Pu.H_(l),await(async function(_,y){const A=It(_);try{await A.persistence.runTransaction("notifyLocalViewChanges","readwrite",(b=>Z.forEach(y,(N=>Z.forEach(N.Es,(Y=>A.persistence.referenceDelegate.addReference(b,N.targetId,Y))).next((()=>Z.forEach(N.ds,(Y=>A.persistence.referenceDelegate.removeReference(b,N.targetId,Y)))))))))}catch(b){if(!Uo(b))throw b;ct(hg,"Failed to update sequence numbers: "+b)}for(const b of y){const N=b.targetId;if(!b.fromCache){const Y=A.Ms.get(N),et=Y.snapshotVersion,lt=Y.withLastLimboFreeSnapshotVersion(et);A.Ms=A.Ms.insert(N,lt)}}})(r.localStore,c))}async function QC(s,t){const i=It(s);if(!i.currentUser.isEqual(t)){ct(Sg,"User change. New user:",t.toKey());const r=await zT(i.localStore,t);i.currentUser=t,(function(c,d){c.mu.forEach((p=>{p.forEach((_=>{_.reject(new ot(K.CANCELLED,d))}))})),c.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(t,r.removedBatchIds,r.addedBatchIds),await Tu(i,r.Ls)}}function YC(s,t){const i=It(s),r=i.Au.get(t);if(r&&r.hu)return Ht().add(r.key);{let l=Ht();const c=i.Iu.get(t);if(!c)return l;for(const d of c){const p=i.Tu.get(d);l=l.unionWith(p.view.nu)}return l}}function n1(s){const t=It(s);return t.remoteStore.remoteSyncer.applyRemoteEvent=JT.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=YC.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=qC.bind(null,t),t.Pu.H_=NC.bind(null,t.eventManager),t.Pu.yu=DC.bind(null,t.eventManager),t}function KC(s){const t=It(s);return t.remoteStore.remoteSyncer.applySuccessfulWrite=HC.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=FC.bind(null,t),t}class Rh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=Fh(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,i){return null}Mu(t,i){return null}vu(t){return JI(this.persistence,new XI,t.initialUser,this.serializer)}Cu(t){return new jT(ug.mi,this.serializer)}Du(t){return new rC}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Rh.provider={build:()=>new Rh};class XC extends Rh{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,i){$t(this.persistence.referenceDelegate instanceof bh,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new VI(r,t.asyncQueue,i)}Cu(t){const i=this.cacheSizeBytes!==void 0?Dn.withCacheSize(this.cacheSizeBytes):Dn.DEFAULT;return new jT((r=>bh.mi(r,i)),this.serializer)}}class Um{async initialize(t,i){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>M0(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=QC.bind(null,this.syncEngine),await IC(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new xC})()}createDatastore(t){const i=Fh(t.databaseInfo.databaseId),r=(function(c){return new cC(c)})(t.databaseInfo);return(function(c,d,p,_){return new mC(c,d,p,_)})(t.authCredentials,t.appCheckCredentials,r,i)}createRemoteStore(t){return(function(r,l,c,d,p){return new pC(r,l,c,d,p)})(this.localStore,this.datastore,t.asyncQueue,(i=>M0(this.syncEngine,i,0)),(function(){return R0.v()?new R0:new aC})())}createSyncEngine(t,i){return(function(l,c,d,p,_,y,A){const b=new UC(l,c,d,p,_,y);return A&&(b.gu=!0),b})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const r=It(i);ct(pa,"RemoteStore shutting down."),r.Ea.add(5),await Eu(r),r.Aa.shutdown(),r.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Um.provider={build:()=>new Um};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wg{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):Cs("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,i){setTimeout((()=>{this.muted||t(i)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $C{constructor(t){this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}async lookup(t){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw this.lastTransactionError=new ot(K.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),this.lastTransactionError;const i=await(async function(l,c){const d=It(l),p={documents:c.map((b=>Sh(d.serializer,b)))},_=await d.Ho("BatchGetDocuments",d.serializer.databaseId,fe.emptyPath(),p,c.length),y=new Map;_.forEach((b=>{const N=yI(d.serializer,b);y.set(N.key.toString(),N)}));const A=[];return c.forEach((b=>{const N=y.get(b.toString());$t(!!N,55234,{key:b}),A.push(N)})),A})(this.datastore,t);return i.forEach((r=>this.recordVersion(r))),i}set(t,i){this.write(i.toMutation(t,this.precondition(t))),this.writtenDocs.add(t.toString())}update(t,i){try{this.write(i.toMutation(t,this.preconditionForUpdate(t)))}catch(r){this.lastTransactionError=r}this.writtenDocs.add(t.toString())}delete(t){this.write(new qh(t,this.precondition(t))),this.writtenDocs.add(t.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastTransactionError)throw this.lastTransactionError;const t=this.readVersions;this.mutations.forEach((i=>{t.delete(i.key.toString())})),t.forEach(((i,r)=>{const l=dt.fromPath(r);this.mutations.push(new wT(l,this.precondition(l)))})),await(async function(r,l){const c=It(r),d={writes:l.map((p=>VT(c.serializer,p)))};await c.Go("Commit",c.serializer.databaseId,fe.emptyPath(),d)})(this.datastore,this.mutations),this.committed=!0}recordVersion(t){let i;if(t.isFoundDocument())i=t.version;else{if(!t.isNoDocument())throw yt(50498,{Gu:t.constructor.name});i=St.min()}const r=this.readVersions.get(t.key.toString());if(r){if(!i.isEqual(r))throw new ot(K.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(t.key.toString(),i)}precondition(t){const i=this.readVersions.get(t.toString());return!this.writtenDocs.has(t.toString())&&i?i.isEqual(St.min())?hn.exists(!1):hn.updateTime(i):hn.none()}preconditionForUpdate(t){const i=this.readVersions.get(t.toString());if(!this.writtenDocs.has(t.toString())&&i){if(i.isEqual(St.min()))throw new ot(K.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return hn.updateTime(i)}return hn.exists(!0)}write(t){this.ensureCommitNotCalled(),this.mutations.push(t)}ensureCommitNotCalled(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZC{constructor(t,i,r,l,c){this.asyncQueue=t,this.datastore=i,this.options=r,this.updateFunction=l,this.deferred=c,this.zu=r.maxAttempts,this.M_=new fg(this.asyncQueue,"transaction_retry")}ju(){this.zu-=1,this.Ju()}Ju(){this.M_.p_((async()=>{const t=new $C(this.datastore),i=this.Hu(t);i&&i.then((r=>{this.asyncQueue.enqueueAndForget((()=>t.commit().then((()=>{this.deferred.resolve(r)})).catch((l=>{this.Yu(l)}))))})).catch((r=>{this.Yu(r)}))}))}Hu(t){try{const i=this.updateFunction(t);return!yu(i)&&i.catch&&i.then?i:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(i){return this.deferred.reject(i),null}}Yu(t){this.zu>0&&this.Zu(t)?(this.zu-=1,this.asyncQueue.enqueueAndForget((()=>(this.Ju(),Promise.resolve())))):this.deferred.reject(t)}Zu(t){if(t?.name==="FirebaseError"){const i=t.code;return i==="aborted"||i==="failed-precondition"||i==="already-exists"||!RT(i)}return!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ir="FirestoreClient";class JC{constructor(t,i,r,l,c){this.authCredentials=t,this.appCheckCredentials=i,this.asyncQueue=r,this.databaseInfo=l,this.user=pn.UNAUTHENTICATED,this.clientId=Jm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(r,(async d=>{ct(Ir,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(r,(d=>(ct(Ir,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Fi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(i){const r=_g(i,"Failed to shutdown persistence");t.reject(r)}})),t.promise}}async function um(s,t){s.asyncQueue.verifyOperationInProgress(),ct(Ir,"Initializing OfflineComponentProvider");const i=s.configuration;await t.initialize(i);let r=i.initialUser;s.setCredentialChangeListener((async l=>{r.isEqual(l)||(await zT(t.localStore,l),r=l)})),t.persistence.setDatabaseDeletedListener((()=>s.terminate())),s._offlineComponents=t}async function V0(s,t){s.asyncQueue.verifyOperationInProgress();const i=await WC(s);ct(Ir,"Initializing OnlineComponentProvider"),await t.initialize(i,s.configuration),s.setCredentialChangeListener((r=>C0(t.remoteStore,r))),s.setAppCheckTokenChangeListener(((r,l)=>C0(t.remoteStore,l))),s._onlineComponents=t}async function WC(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){ct(Ir,"Using user provided OfflineComponentProvider");try{await um(s,s._uninitializedComponentsProvider._offline)}catch(t){const i=t;if(!(function(l){return l.name==="FirebaseError"?l.code===K.FAILED_PRECONDITION||l.code===K.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11})(i))throw i;bo("Error using user provided cache. Falling back to memory cache: "+i),await um(s,new Rh)}}else ct(Ir,"Using default OfflineComponentProvider"),await um(s,new XC(void 0));return s._offlineComponents}async function Rg(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(ct(Ir,"Using user provided OnlineComponentProvider"),await V0(s,s._uninitializedComponentsProvider._online)):(ct(Ir,"Using default OnlineComponentProvider"),await V0(s,new Um))),s._onlineComponents}function tx(s){return Rg(s).then((t=>t.syncEngine))}function ex(s){return Rg(s).then((t=>t.datastore))}async function Ih(s){const t=await Rg(s),i=t.eventManager;return i.onListen=LC.bind(null,t.syncEngine),i.onUnlisten=jC.bind(null,t.syncEngine),i.onFirstRemoteStoreListen=kC.bind(null,t.syncEngine),i.onLastRemoteStoreUnlisten=zC.bind(null,t.syncEngine),i}function nx(s,t,i={}){const r=new Fi;return s.asyncQueue.enqueueAndForget((async()=>(function(c,d,p,_,y){const A=new wg({next:N=>{A.Nu(),d.enqueueAndForget((()=>Eg(c,b)));const Y=N.docs.has(p);!Y&&N.fromCache?y.reject(new ot(K.UNAVAILABLE,"Failed to get document because the client is offline.")):Y&&N.fromCache&&_&&_.source==="server"?y.reject(new ot(K.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(N)},error:N=>y.reject(N)}),b=new Ag(kh(p.path),A,{includeMetadataChanges:!0,qa:!0});return vg(c,b)})(await Ih(s),s.asyncQueue,t,i,r))),r.promise}function ix(s,t,i={}){const r=new Fi;return s.asyncQueue.enqueueAndForget((async()=>(function(c,d,p,_,y){const A=new wg({next:N=>{A.Nu(),d.enqueueAndForget((()=>Eg(c,b))),N.fromCache&&_.source==="server"?y.reject(new ot(K.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):y.resolve(N)},error:N=>y.reject(N)}),b=new Ag(p,A,{includeMetadataChanges:!0,qa:!0});return vg(c,b)})(await Ih(s),s.asyncQueue,t,i,r))),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i1(s){const t={};return s.timeoutSeconds!==void 0&&(t.timeoutSeconds=s.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U0=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s1="firestore.googleapis.com",L0=!0;class k0{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new ot(K.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=s1,this.ssl=L0}else this.host=t.host,this.ssl=t.ssl??L0;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=PT;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<MI)throw new ot(K.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}v2("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=i1(t.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new ot(K.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new ot(K.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new ot(K.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(r,l){return r.timeoutSeconds===l.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Yh{constructor(t,i,r,l){this._authCredentials=t,this._appCheckCredentials=i,this._databaseId=r,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new k0({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ot(K.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new ot(K.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new k0(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new u2;switch(r.type){case"firstParty":return new d2(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ot(K.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const r=U0.get(i);r&&(ct("ComponentProvider","Removing Datastore"),U0.delete(i),r.terminate())})(this),Promise.resolve()}}function sx(s,t,i,r={}){s=Tn(s,Yh);const l=No(t),c=s._getSettings(),d={...c,emulatorOptions:s._getEmulatorOptions()},p=`${t}:${i}`;l&&(tE(`https://${p}`),eE("Firestore",!0)),c.host!==s1&&c.host!==p&&bo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const _={...c,host:p,ssl:l,emulatorOptions:r};if(!fa(_,d)&&(s._setSettings(_),r.mockUserToken)){let y,A;if(typeof r.mockUserToken=="string")y=r.mockUserToken,A=pn.MOCK_USER;else{y=OS(r.mockUserToken,s._app?.options.projectId);const b=r.mockUserToken.sub||r.mockUserToken.user_id;if(!b)throw new ot(K.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");A=new pn(b)}s._authCredentials=new c2(new GE(y,A))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dr{constructor(t,i,r){this.converter=i,this._query=r,this.type="query",this.firestore=t}withConverter(t){return new Dr(this.firestore,t,this._query)}}class we{constructor(t,i,r){this.converter=i,this._key=r,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Er(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new we(this.firestore,t,this._key)}toJSON(){return{type:we._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,i,r){if(pu(i,we._jsonSchema))return new we(t,r||null,new dt(fe.fromString(i.referencePath)))}}we._jsonSchemaVersion="firestore/documentReference/1.0",we._jsonSchema={type:Ge("string",we._jsonSchemaVersion),referencePath:Ge("string")};class Er extends Dr{constructor(t,i,r){super(t,i,kh(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new we(this.firestore,null,new dt(t))}withConverter(t){return new Er(this.firestore,t,this._path)}}function Ts(s,t,...i){if(s=Qe(s),QE("collection","path",t),s instanceof Yh){const r=fe.fromString(t,...i);return $v(r),new Er(s,null,r)}{if(!(s instanceof we||s instanceof Er))throw new ot(K.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=s._path.child(fe.fromString(t,...i));return $v(r),new Er(s.firestore,null,r)}}function be(s,t,...i){if(s=Qe(s),arguments.length===1&&(t=Jm.newId()),QE("doc","path",t),s instanceof Yh){const r=fe.fromString(t,...i);return Xv(r),new we(s,null,new dt(r))}{if(!(s instanceof we||s instanceof Er))throw new ot(K.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=s._path.child(fe.fromString(t,...i));return Xv(r),new we(s.firestore,s instanceof Er?s.converter:null,new dt(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P0="AsyncQueue";class j0{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new fg(this,"async_queue_retry"),this._c=()=>{const r=lm();r&&ct(P0,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=t;const i=lm();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const i=lm();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new Fi;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Xu.push(t),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!Uo(t))throw t;ct(P0,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const i=this.ac.then((()=>(this.rc=!0,t().catch((r=>{throw this.nc=r,this.rc=!1,Cs("INTERNAL UNHANDLED ERROR: ",z0(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=i,i}enqueueAfterDelay(t,i,r){this.uc(),this.oc.indexOf(t)>-1&&(i=0);const l=yg.createAndSchedule(this,t,i,r,(c=>this.hc(c)));return this.tc.push(l),l}uc(){this.nc&&yt(47125,{Pc:z0(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const i of this.tc)if(i.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((i,r)=>i.targetTimeMs-r.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),t!=="all"&&i.timerId===t)break;return this.Tc()}))}dc(t){this.oc.push(t)}hc(t){const i=this.tc.indexOf(t);this.tc.splice(i,1)}}function z0(s){let t=s.message||"";return s.stack&&(t=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B0(s){return(function(i,r){if(typeof i!="object"||i===null)return!1;const l=i;for(const c of r)if(c in l&&typeof l[c]=="function")return!0;return!1})(s,["next","error","complete"])}class $i extends Yh{constructor(t,i,r,l){super(t,i,r,l),this.type="firestore",this._queue=new j0,this._persistenceKey=l?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new j0(t),this._firestoreClient=void 0,await t}}}function rx(s,t){const i=typeof s=="object"?s:rE(),r=typeof s=="string"?s:vh,l=zm(i,"firestore").getImmediate({identifier:r});if(!l._initialized){const c=DS("firestore");c&&sx(l,...c)}return l}function Au(s){if(s._terminated)throw new ot(K.FAILED_PRECONDITION,"The client has already been terminated.");return s._firestoreClient||ax(s),s._firestoreClient}function ax(s){const t=s._freezeSettings(),i=(function(l,c,d,p){return new N2(l,c,d,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,i1(p.experimentalLongPollingOptions),p.useFetchStreams,p.isUsingEmulator)})(s._databaseId,s._app?.options.appId||"",s._persistenceKey,t);s._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(s._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),s._firestoreClient=new JC(s._authCredentials,s._appCheckCredentials,s._queue,i,s._componentsProvider&&(function(l){const c=l?._online.build();return{_offline:l?._offline.build(c),_online:c}})(s._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hn{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Hn(fn.fromBase64String(t))}catch(i){throw new ot(K.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(t){return new Hn(fn.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:Hn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(pu(t,Hn._jsonSchema))return Hn.fromBase64String(t.bytes)}}Hn._jsonSchemaVersion="firestore/bytes/1.0",Hn._jsonSchema={type:Ge("string",Hn._jsonSchemaVersion),bytes:Ge("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Su{constructor(...t){for(let i=0;i<t.length;++i)if(t[i].length===0)throw new ot(K.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new cn(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bu{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qi{constructor(t,i){if(!isFinite(t)||t<-90||t>90)throw new ot(K.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(i)||i<-180||i>180)throw new ot(K.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=t,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return qt(this._lat,t._lat)||qt(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Qi._jsonSchemaVersion}}static fromJSON(t){if(pu(t,Qi._jsonSchema))return new Qi(t.latitude,t.longitude)}}Qi._jsonSchemaVersion="firestore/geoPoint/1.0",Qi._jsonSchema={type:Ge("string",Qi._jsonSchemaVersion),latitude:Ge("number"),longitude:Ge("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yi{constructor(t){this._values=(t||[]).map((i=>i))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(r,l){if(r.length!==l.length)return!1;for(let c=0;c<r.length;++c)if(r[c]!==l[c])return!1;return!0})(this._values,t._values)}toJSON(){return{type:Yi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(pu(t,Yi._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((i=>typeof i=="number")))return new Yi(t.vectorValues);throw new ot(K.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Yi._jsonSchemaVersion="firestore/vectorValue/1.0",Yi._jsonSchema={type:Ge("string",Yi._jsonSchemaVersion),vectorValues:Ge("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ox=/^__.*__$/;class lx{constructor(t,i,r){this.data=t,this.fieldMask=i,this.fieldTransforms=r}toMutation(t,i){return this.fieldMask!==null?new Nr(t,this.data,this.fieldMask,i,this.fieldTransforms):new _u(t,this.data,i,this.fieldTransforms)}}class r1{constructor(t,i,r){this.data=t,this.fieldMask=i,this.fieldTransforms=r}toMutation(t,i){return new Nr(t,this.data,this.fieldMask,i,this.fieldTransforms)}}function a1(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw yt(40011,{Ac:s})}}class Ig{constructor(t,i,r,l,c,d){this.settings=t,this.databaseId=i,this.serializer=r,this.ignoreUndefinedProperties=l,c===void 0&&this.Rc(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(t){return new Ig({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(t){const i=this.path?.child(t),r=this.Vc({path:i,fc:!1});return r.gc(t),r}yc(t){const i=this.path?.child(t),r=this.Vc({path:i,fc:!1});return r.Rc(),r}wc(t){return this.Vc({path:void 0,fc:!0})}Sc(t){return Ch(t,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(t){return this.fieldMask.find((i=>t.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>t.isPrefixOf(i.field)))!==void 0}Rc(){if(this.path)for(let t=0;t<this.path.length;t++)this.gc(this.path.get(t))}gc(t){if(t.length===0)throw this.Sc("Document fields must not be empty");if(a1(this.Ac)&&ox.test(t))throw this.Sc('Document fields cannot begin and end with "__"')}}class ux{constructor(t,i,r){this.databaseId=t,this.ignoreUndefinedProperties=i,this.serializer=r||Fh(t)}Cc(t,i,r,l=!1){return new Ig({Ac:t,methodName:i,Dc:r,path:cn.emptyPath(),fc:!1,bc:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function wu(s){const t=s._freezeSettings(),i=Fh(s._databaseId);return new ux(s._databaseId,!!t.ignoreUndefinedProperties,i)}function Cg(s,t,i,r,l,c={}){const d=s.Cc(c.merge||c.mergeFields?2:0,t,i,l);Dg("Data must be an object, but it was:",d,r);const p=u1(r,d);let _,y;if(c.merge)_=new Fn(d.fieldMask),y=d.fieldTransforms;else if(c.mergeFields){const A=[];for(const b of c.mergeFields){const N=Lm(t,b,i);if(!d.contains(N))throw new ot(K.INVALID_ARGUMENT,`Field '${N}' is specified in your field mask but missing from your input data.`);h1(A,N)||A.push(N)}_=new Fn(A),y=d.fieldTransforms.filter((b=>_.covers(b.field)))}else _=null,y=d.fieldTransforms;return new lx(new En(p),_,y)}class Kh extends bu{_toFieldTransform(t){if(t.Ac!==2)throw t.Ac===1?t.Sc(`${this._methodName}() can only appear at the top level of your update data`):t.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof Kh}}class xg extends bu{_toFieldTransform(t){return new AT(t.path,new ou)}isEqual(t){return t instanceof xg}}class Ng extends bu{constructor(t,i){super(t),this.Fc=i}_toFieldTransform(t){const i=new cu(t.serializer,yT(t.serializer,this.Fc));return new AT(t.path,i)}isEqual(t){return t instanceof Ng&&this.Fc===t.Fc}}function o1(s,t,i,r){const l=s.Cc(1,t,i);Dg("Data must be an object, but it was:",l,r);const c=[],d=En.empty();xr(r,((_,y)=>{const A=Mg(t,_,i);y=Qe(y);const b=l.yc(A);if(y instanceof Kh)c.push(A);else{const N=Ru(y,b);N!=null&&(c.push(A),d.set(A,N))}}));const p=new Fn(c);return new r1(d,p,l.fieldTransforms)}function l1(s,t,i,r,l,c){const d=s.Cc(1,t,i),p=[Lm(t,r,i)],_=[l];if(c.length%2!=0)throw new ot(K.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let N=0;N<c.length;N+=2)p.push(Lm(t,c[N])),_.push(c[N+1]);const y=[],A=En.empty();for(let N=p.length-1;N>=0;--N)if(!h1(y,p[N])){const Y=p[N];let et=_[N];et=Qe(et);const lt=d.yc(Y);if(et instanceof Kh)y.push(Y);else{const nt=Ru(et,lt);nt!=null&&(y.push(Y),A.set(Y,nt))}}const b=new Fn(y);return new r1(A,b,d.fieldTransforms)}function cx(s,t,i,r=!1){return Ru(i,s.Cc(r?4:3,t))}function Ru(s,t){if(c1(s=Qe(s)))return Dg("Unsupported field value:",t,s),u1(s,t);if(s instanceof bu)return(function(r,l){if(!a1(l.Ac))throw l.Sc(`${r._methodName}() can only be used with update() and set()`);if(!l.path)throw l.Sc(`${r._methodName}() is not currently supported inside arrays`);const c=r._toFieldTransform(l);c&&l.fieldTransforms.push(c)})(s,t),null;if(s===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),s instanceof Array){if(t.settings.fc&&t.Ac!==4)throw t.Sc("Nested arrays are not supported");return(function(r,l){const c=[];let d=0;for(const p of r){let _=Ru(p,l.wc(d));_==null&&(_={nullValue:"NULL_VALUE"}),c.push(_),d++}return{arrayValue:{values:c}}})(s,t)}return(function(r,l){if((r=Qe(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return yT(l.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const c=Ee.fromDate(r);return{timestampValue:Ah(l.serializer,c)}}if(r instanceof Ee){const c=new Ee(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Ah(l.serializer,c)}}if(r instanceof Qi)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Hn)return{bytesValue:NT(l.serializer,r._byteString)};if(r instanceof we){const c=l.databaseId,d=r.firestore._databaseId;if(!d.isEqual(c))throw l.Sc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:og(r.firestore._databaseId||l.databaseId,r._key.path)}}if(r instanceof Yi)return(function(d,p){return{mapValue:{fields:{[eT]:{stringValue:nT},[Eh]:{arrayValue:{values:d.toArray().map((y=>{if(typeof y!="number")throw p.Sc("VectorValues must only contain numeric values.");return sg(p.serializer,y)}))}}}}}})(r,l);throw l.Sc(`Unsupported field value: ${Vh(r)}`)})(s,t)}function u1(s,t){const i={};return XE(s)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):xr(s,((r,l)=>{const c=Ru(l,t.mc(r));c!=null&&(i[r]=c)})),{mapValue:{fields:i}}}function c1(s){return!(typeof s!="object"||s===null||s instanceof Array||s instanceof Date||s instanceof Ee||s instanceof Qi||s instanceof Hn||s instanceof we||s instanceof bu||s instanceof Yi)}function Dg(s,t,i){if(!c1(i)||!YE(i)){const r=Vh(i);throw r==="an object"?t.Sc(s+" a custom object"):t.Sc(s+" "+r)}}function Lm(s,t,i){if((t=Qe(t))instanceof Su)return t._internalPath;if(typeof t=="string")return Mg(s,t);throw Ch("Field path arguments must be of type string or ",s,!1,void 0,i)}const hx=new RegExp("[~\\*/\\[\\]]");function Mg(s,t,i){if(t.search(hx)>=0)throw Ch(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,i);try{return new Su(...t.split("."))._internalPath}catch{throw Ch(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,i)}}function Ch(s,t,i,r,l){const c=r&&!r.isEmpty(),d=l!==void 0;let p=`Function ${t}() called with invalid data`;i&&(p+=" (via `toFirestore()`)"),p+=". ";let _="";return(c||d)&&(_+=" (found",c&&(_+=` in field ${r}`),d&&(_+=` in document ${l}`),_+=")"),new ot(K.INVALID_ARGUMENT,p+s+_)}function h1(s,t){return s.some((i=>i.isEqual(t)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xh{constructor(t,i,r,l,c){this._firestore=t,this._userDataWriter=i,this._key=r,this._document=l,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new we(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new fx(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const i=this._document.data.field(Xh("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i)}}}class fx extends xh{data(){return super.data()}}function Xh(s,t){return typeof t=="string"?Mg(s,t):t instanceof Su?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f1(s){if(s.limitType==="L"&&s.explicitOrderBy.length===0)throw new ot(K.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Og{}class d1 extends Og{}function uo(s,t,...i){let r=[];t instanceof Og&&r.push(t),r=r.concat(i),(function(c){const d=c.filter((_=>_ instanceof Vg)).length,p=c.filter((_=>_ instanceof $h)).length;if(d>1||d>0&&p>0)throw new ot(K.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const l of r)s=l._apply(s);return s}class $h extends d1{constructor(t,i,r){super(),this._field=t,this._op=i,this._value=r,this.type="where"}static _create(t,i,r){return new $h(t,i,r)}_apply(t){const i=this._parse(t);return m1(t._query,i),new Dr(t.firestore,t.converter,Rm(t._query,i))}_parse(t){const i=wu(t.firestore);return(function(c,d,p,_,y,A,b){let N;if(y.isKeyField()){if(A==="array-contains"||A==="array-contains-any")throw new ot(K.INVALID_ARGUMENT,`Invalid Query. You can't perform '${A}' queries on documentId().`);if(A==="in"||A==="not-in"){F0(b,A);const et=[];for(const lt of b)et.push(H0(_,c,lt));N={arrayValue:{values:et}}}else N=H0(_,c,b)}else A!=="in"&&A!=="not-in"&&A!=="array-contains-any"||F0(b,A),N=cx(p,d,b,A==="in"||A==="not-in");return Fe.create(y,A,N)})(t._query,"where",i,t.firestore._databaseId,this._field,this._op,this._value)}}function q0(s,t,i){const r=t,l=Xh("where",s);return $h._create(l,r,i)}class Vg extends Og{constructor(t,i){super(),this.type=t,this._queryConstraints=i}static _create(t,i){return new Vg(t,i)}_parse(t){const i=this._queryConstraints.map((r=>r._parse(t))).filter((r=>r.getFilters().length>0));return i.length===1?i[0]:Ti.create(i,this._getOperator())}_apply(t){const i=this._parse(t);return i.getFilters().length===0?t:((function(l,c){let d=l;const p=c.getFlattenedFilters();for(const _ of p)m1(d,_),d=Rm(d,_)})(t._query,i),new Dr(t.firestore,t.converter,Rm(t._query,i)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Ug extends d1{constructor(t,i){super(),this._field=t,this._direction=i,this.type="orderBy"}static _create(t,i){return new Ug(t,i)}_apply(t){const i=(function(l,c,d){if(l.startAt!==null)throw new ot(K.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(l.endAt!==null)throw new ot(K.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new au(c,d)})(t._query,this._field,this._direction);return new Dr(t.firestore,t.converter,(function(l,c){const d=l.explicitOrderBy.concat([c]);return new Lo(l.path,l.collectionGroup,d,l.filters.slice(),l.limit,l.limitType,l.startAt,l.endAt)})(t._query,i))}}function co(s,t="asc"){const i=t,r=Xh("orderBy",s);return Ug._create(r,i)}function H0(s,t,i){if(typeof(i=Qe(i))=="string"){if(i==="")throw new ot(K.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!cT(t)&&i.indexOf("/")!==-1)throw new ot(K.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${i}' contains a '/' character.`);const r=t.path.child(fe.fromString(i));if(!dt.isDocumentKey(r))throw new ot(K.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return s0(s,new dt(r))}if(i instanceof we)return s0(s,i._key);throw new ot(K.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Vh(i)}.`)}function F0(s,t){if(!Array.isArray(s)||s.length===0)throw new ot(K.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function m1(s,t){const i=(function(l,c){for(const d of l)for(const p of d.getFlattenedFilters())if(c.indexOf(p.op)>=0)return p.op;return null})(s.filters,(function(l){switch(l){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(t.op));if(i!==null)throw i===t.op?new ot(K.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new ot(K.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${i.toString()}' filters.`)}class g1{convertValue(t,i="none"){switch(wr(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Le(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,i);case 5:return t.stringValue;case 6:return this.convertBytes(br(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,i);case 11:return this.convertObject(t.mapValue,i);case 10:return this.convertVectorValue(t.mapValue);default:throw yt(62114,{value:t})}}convertObject(t,i){return this.convertObjectMap(t.fields,i)}convertObjectMap(t,i="none"){const r={};return xr(t,((l,c)=>{r[l]=this.convertValue(c,i)})),r}convertVectorValue(t){const i=t.fields?.[Eh].arrayValue?.values?.map((r=>Le(r.doubleValue)));return new Yi(i)}convertGeoPoint(t){return new Qi(Le(t.latitude),Le(t.longitude))}convertArray(t,i){return(t.values||[]).map((r=>this.convertValue(r,i)))}convertServerTimestamp(t,i){switch(i){case"previous":const r=Lh(t);return r==null?null:this.convertValue(r,i);case"estimate":return this.convertTimestamp(iu(t));default:return null}}convertTimestamp(t){const i=Sr(t);return new Ee(i.seconds,i.nanos)}convertDocumentKey(t,i){const r=fe.fromString(t);$t(kT(r),9688,{name:t});const l=new su(r.get(1),r.get(3)),c=new dt(r.popFirst(5));return l.isEqual(i)||Cs(`Document ${c} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lg(s,t,i){let r;return r=s?i&&(i.merge||i.mergeFields)?s.toFirestore(t,i):s.toFirestore(t):t,r}class dx extends g1{constructor(t){super(),this.firestore=t}convertBytes(t){return new Hn(t)}convertReference(t){const i=this.convertDocumentKey(t,this.firestore._databaseId);return new we(this.firestore,null,i)}}class yo{constructor(t,i){this.hasPendingWrites=t,this.fromCache=i}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Tr extends xh{constructor(t,i,r,l,c,d){super(t,i,r,l,d),this._firestore=t,this._firestoreImpl=t,this.metadata=c}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const i=new uh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,i={}){if(this._document){const r=this._document.data.field(Xh("DocumentSnapshot.get",t));if(r!==null)return this._userDataWriter.convertValue(r,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ot(K.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,i={};return i.type=Tr._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}Tr._jsonSchemaVersion="firestore/documentSnapshot/1.0",Tr._jsonSchema={type:Ge("string",Tr._jsonSchemaVersion),bundleSource:Ge("string","DocumentSnapshot"),bundleName:Ge("string"),bundle:Ge("string")};class uh extends Tr{data(t={}){return super.data(t)}}class ha{constructor(t,i,r,l){this._firestore=t,this._userDataWriter=i,this._snapshot=l,this.metadata=new yo(l.hasPendingWrites,l.fromCache),this.query=r}get docs(){const t=[];return this.forEach((i=>t.push(i))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,i){this._snapshot.docs.forEach((r=>{t.call(i,new uh(this._firestore,this._userDataWriter,r.key,r,new yo(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const i=!!t.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new ot(K.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(l,c){if(l._snapshot.oldDocs.isEmpty()){let d=0;return l._snapshot.docChanges.map((p=>{const _=new uh(l._firestore,l._userDataWriter,p.doc.key,p.doc,new yo(l._snapshot.mutatedKeys.has(p.doc.key),l._snapshot.fromCache),l.query.converter);return p.doc,{type:"added",doc:_,oldIndex:-1,newIndex:d++}}))}{let d=l._snapshot.oldDocs;return l._snapshot.docChanges.filter((p=>c||p.type!==3)).map((p=>{const _=new uh(l._firestore,l._userDataWriter,p.doc.key,p.doc,new yo(l._snapshot.mutatedKeys.has(p.doc.key),l._snapshot.fromCache),l.query.converter);let y=-1,A=-1;return p.type!==0&&(y=d.indexOf(p.doc.key),d=d.delete(p.doc.key)),p.type!==1&&(d=d.add(p.doc),A=d.indexOf(p.doc.key)),{type:mx(p.type),doc:_,oldIndex:y,newIndex:A}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ot(K.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=ha._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=Jm.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],r=[],l=[];return this.docs.forEach((c=>{c._document!==null&&(i.push(c._document),r.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),l.push(c.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function mx(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return yt(61501,{type:s})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zl(s){s=Tn(s,we);const t=Tn(s.firestore,$i);return nx(Au(t),s._key).then((i=>p1(t,s,i)))}ha._jsonSchemaVersion="firestore/querySnapshot/1.0",ha._jsonSchema={type:Ge("string",ha._jsonSchemaVersion),bundleSource:Ge("string","QuerySnapshot"),bundleName:Ge("string"),bundle:Ge("string")};class Zh extends g1{constructor(t){super(),this.firestore=t}convertBytes(t){return new Hn(t)}convertReference(t){const i=this.convertDocumentKey(t,this.firestore._databaseId);return new we(this.firestore,null,i)}}function Bl(s){s=Tn(s,Dr);const t=Tn(s.firestore,$i),i=Au(t),r=new Zh(t);return f1(s._query),ix(i,s._query).then((l=>new ha(t,r,s,l)))}function aa(s,t,i){s=Tn(s,we);const r=Tn(s.firestore,$i),l=Lg(s.converter,t,i);return Jh(r,[Cg(wu(r),"setDoc",s._key,l,s.converter!==null,i).toMutation(s._key,hn.none())])}function G0(s,t,i,...r){s=Tn(s,we);const l=Tn(s.firestore,$i),c=wu(l);let d;return d=typeof(t=Qe(t))=="string"||t instanceof Su?l1(c,"updateDoc",s._key,t,i,r):o1(c,"updateDoc",s._key,t),Jh(l,[d.toMutation(s._key,hn.exists(!0))])}function Wc(s){return Jh(Tn(s.firestore,$i),[new qh(s._key,hn.none())])}function cm(s,t){const i=Tn(s.firestore,$i),r=be(s),l=Lg(s.converter,t);return Jh(i,[Cg(wu(s.firestore),"addDoc",r._key,l,s.converter!==null,{}).toMutation(r._key,hn.exists(!1))]).then((()=>r))}function Q0(s,...t){s=Qe(s);let i={includeMetadataChanges:!1,source:"default"},r=0;typeof t[r]!="object"||B0(t[r])||(i=t[r++]);const l={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(B0(t[r])){const _=t[r];t[r]=_.next?.bind(_),t[r+1]=_.error?.bind(_),t[r+2]=_.complete?.bind(_)}let c,d,p;if(s instanceof we)d=Tn(s.firestore,$i),p=kh(s._key.path),c={next:_=>{t[r]&&t[r](p1(d,s,_))},error:t[r+1],complete:t[r+2]};else{const _=Tn(s,Dr);d=Tn(_.firestore,$i),p=_._query;const y=new Zh(d);c={next:A=>{t[r]&&t[r](new ha(d,y,_,A))},error:t[r+1],complete:t[r+2]},f1(s._query)}return(function(y,A,b,N){const Y=new wg(N),et=new Ag(A,Y,b);return y.asyncQueue.enqueueAndForget((async()=>vg(await Ih(y),et))),()=>{Y.Nu(),y.asyncQueue.enqueueAndForget((async()=>Eg(await Ih(y),et)))}})(Au(d),p,l,c)}function Jh(s,t){return(function(r,l){const c=new Fi;return r.asyncQueue.enqueueAndForget((async()=>BC(await tx(r),l,c))),c.promise})(Au(s),t)}function p1(s,t,i){const r=i.docs.get(t._key),l=new Zh(s);return new Tr(s,l,t._key,r,new yo(i.hasPendingWrites,i.fromCache),t.converter)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gx={maxAttempts:5};function Ql(s,t){if((s=Qe(s)).firestore!==t)throw new ot(K.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class px{constructor(t,i){this._firestore=t,this._transaction=i,this._dataReader=wu(t)}get(t){const i=Ql(t,this._firestore),r=new dx(this._firestore);return this._transaction.lookup([i._key]).then((l=>{if(!l||l.length!==1)return yt(24041);const c=l[0];if(c.isFoundDocument())return new xh(this._firestore,r,c.key,c,i.converter);if(c.isNoDocument())return new xh(this._firestore,r,i._key,null,i.converter);throw yt(18433,{doc:c})}))}set(t,i,r){const l=Ql(t,this._firestore),c=Lg(l.converter,i,r),d=Cg(this._dataReader,"Transaction.set",l._key,c,l.converter!==null,r);return this._transaction.set(l._key,d),this}update(t,i,r,...l){const c=Ql(t,this._firestore);let d;return d=typeof(i=Qe(i))=="string"||i instanceof Su?l1(this._dataReader,"Transaction.update",c._key,i,r,l):o1(this._dataReader,"Transaction.update",c._key,i),this._transaction.update(c._key,d),this}delete(t){const i=Ql(t,this._firestore);return this._transaction.delete(i._key),this}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yx extends px{constructor(t,i){super(t,i),this._firestore=t}get(t){const i=Ql(t,this._firestore),r=new Zh(this._firestore);return super.get(t).then((l=>new Tr(this._firestore,r,i._key,l._document,new yo(!1,!1),i.converter)))}}function ho(s,t,i){s=Tn(s,$i);const r={...gx,...i};return(function(c){if(c.maxAttempts<1)throw new ot(K.INVALID_ARGUMENT,"Max attempts must be at least 1")})(r),(function(c,d,p){const _=new Fi;return c.asyncQueue.enqueueAndForget((async()=>{const y=await ex(c);new ZC(c.asyncQueue,y,p,d,_).ju()})),_.promise})(Au(s),(l=>t(new yx(s,l))),r)}function ui(){return new xg("serverTimestamp")}function ql(s){return new Ng("increment",s)}(function(t,i=!0){(function(l){Oo=l})(Do),Ao(new da("firestore",((r,{instanceIdentifier:l,options:c})=>{const d=r.getProvider("app").getImmediate(),p=new $i(new h2(r.getProvider("auth-internal")),new m2(d,r.getProvider("app-check-internal")),(function(y,A){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new ot(K.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new su(y.options.projectId,A)})(d,l),d);return c={useFetchStreams:i,...c},p._setSettings(c),p}),"PUBLIC").setMultipleInstances(!0)),_r(Gv,Qv,t),_r(Gv,Qv,"esm2020")})();const _x={apiKey:"AIzaSyD9Q8xysodbNwRxv_YshLDo5pG9-CvdTQE",authDomain:"pallavolo-67515986-17130.firebaseapp.com",projectId:"pallavolo-67515986-17130",storageBucket:"pallavolo-67515986-17130.firebasestorage.app",messagingSenderId:"462112859333",appId:"1:462112859333:web:059bb7a96b44dca9e33cac"},y1=sE(_x),hm=o2(y1),Pt=rx(y1),vx=new Ss,As=14,he={NO_MATCHES:"no_matches",MATCH_LIST:"match_list",MATCH_DETAIL:"match_detail",MATCH_HISTORY:"match_history",USERS_LIST:"users_list"};function Ex(){const[s,t]=Yt.useState(null),[i,r]=Yt.useState(!1),[l,c]=Yt.useState(!1),[d,p]=Yt.useState([]),[_,y]=Yt.useState([]),[A,b]=Yt.useState(null),[N,Y]=Yt.useState([]),[et,lt]=Yt.useState(""),[nt,pt]=Yt.useState(!1),[wt,Et]=Yt.useState(null),[Zt,ie]=Yt.useState(""),[Ft,x]=Yt.useState(!1),[w,I]=Yt.useState(""),[U,D]=Yt.useState(!1),[L,R]=Yt.useState(null),[de,Se]=Yt.useState("user"),[G,at]=Yt.useState([]),[gt,Kt]=Yt.useState(!1),[te,V]=Yt.useState(!1),[F,st]=Yt.useState(he.NO_MATCHES),[J,Tt]=Yt.useState(null),[xt,Ut]=Yt.useState([]),[me,ge]=Yt.useState([]),Qn=Yt.useMemo(()=>be(Pt,"state","currentSession"),[]),dn="tidolamiamail@gmail.com",Zi=s?.email===dn,Gt=de==="admin"||Zi;Yt.useEffect(()=>{const O=Xw(hm,async tt=>{if(tt){t(tt),r(!0);const W=be(Pt,"users",tt.uid),it=await zl(W);let _t={};if(it.exists())_t=it.data(),ie(_t.customDisplayName||tt.displayName),tt.email===dn?Se("super-admin"):Se(_t.role||"user");else{ie(tt.displayName);const Rt=tt.email===dn?"super-admin":"user";Se(Rt)}await aa(W,{email:tt.email,displayName:tt.displayName,photoURL:tt.photoURL,lastLogin:ui(),role:de||(tt.email===dn?"super-admin":"user")},{merge:!0}),An(tt.uid)}else t(null),r(!1),pt(!1),Et(null),ie(""),x(!1)});return()=>O()},[]),Yt.useEffect(()=>{let O;return(async()=>((await zl(Qn)).exists()||await aa(Qn,{participants:[],reserves:[],lastUpdated:ui()}),O=Q0(Qn,W=>{const it=W.data();p(Array.isArray(it?.participants)?it.participants:[]),y(Array.isArray(it?.reserves)?it.reserves:[]),b(it?.date||null)})))(),()=>{typeof O=="function"&&O()}},[Qn]),Yt.useEffect(()=>{const tt=(async()=>{try{const W=uo(Ts(Pt,"activeMatches"),co("date","asc"));return Q0(W,_t=>{const Rt=_t.docs.map(Ot=>({id:Ot.id,...Ot.data()}));ge(Rt),F===he.NO_MATCHES&&Rt.length>0?st(he.MATCH_LIST):F===he.MATCH_LIST&&Rt.length===0&&st(he.NO_MATCHES)})}catch(W){console.error("Error loading active matches:",W),ge([])}})();return()=>{typeof tt=="function"&&tt.then(W=>W())}},[]),Yt.useEffect(()=>{const O=tt=>{nt&&!tt.target.closest(".user-dropdown")&&pt(!1)};return document.addEventListener("mousedown",O),()=>{document.removeEventListener("mousedown",O)}},[nt]);function Yn(){const O=new Date,W=(9-O.getDay())%7||7,it=new Date(O);it.setDate(O.getDate()+W),it.setHours(20,30,0,0);const _t=Rt=>Rt.toString().padStart(2,"0");return`${it.getFullYear()}-${_t(it.getMonth()+1)}-${_t(it.getDate())}T${_t(it.getHours())}:${_t(it.getMinutes())}`}const[Ai,Si]=Yt.useState(Yn()),Ds=async()=>{if(!(!Gt||te)){V(!0);try{const O=new Date(Ai),tt=uo(Ts(Pt,"activeMatches"),co("date","asc"));if((await Bl(tt)).docs.some(Rt=>new Date(Rt.data().date).getTime()===O.getTime())){alert("Esiste gi una partita per questo giorno e orario!");return}const _t=await cm(Ts(Pt,"activeMatches"),{participants:[],reserves:[],date:Ai,createdAt:ui(),lastUpdated:ui(),createdBy:s.uid,status:"active"});console.log("Partita creata con ID:",_t.id)}catch(O){console.error("Errore nella creazione della partita:",O),alert("Errore nella creazione della partita")}finally{V(!1)}}},Ji=async()=>{c(!0);try{const tt=(await pR(hm,vx)).user,W=be(Pt,"users",tt.uid),it=await zl(W),_t=it.exists()?it.data():{};await aa(W,{email:tt.email,displayName:tt.displayName,photoURL:tt.photoURL,lastLogin:ui(),..._t.customDisplayName&&{customDisplayName:_t.customDisplayName},..._t.role&&{role:_t.role}},{merge:!0}),t(tt),r(!0),An(tt.uid)}catch(O){alert(`Errore durante il login: ${O.message||O}`),console.error("Login error:",O)}finally{c(!1)}},Ie=async()=>{await $w(hm),r(!1),t(null)},Me=()=>{I(Zt),x(!0)},bi=async()=>{if(!(!s||!w.trim()))try{await aa(be(Pt,"users",s.uid),{customDisplayName:w.trim()},{merge:!0}),ie(w.trim()),x(!1)}catch(O){console.error("Errore nel salvataggio del nome:",O),alert("Errore nel salvataggio del nome")}},Po=()=>{I(""),x(!1)},Ms=async(O,tt)=>{try{const W=await zl(be(Pt,"users",O)),it=W.exists()?W.data():{},_t=uo(Ts(Pt,"sessions"),q0("participantUids","array-contains",O),co("date","desc")),Ot=(await Bl(_t)).docs.map(ut=>({id:ut.id,...ut.data()}));R({uid:O,displayName:it.customDisplayName||tt,totalSessions:it?.stats?.totalSessions||0,asParticipant:it?.stats?.asParticipant||0,asReserve:it?.stats?.asReserve||0,friendsBrought:it?.stats?.friendsBrought||0,sessionsHistory:Ot}),D(!0)}catch(W){console.error("Errore nel caricamento delle statistiche:",W),alert("Errore nel caricamento delle statistiche")}},en=async O=>{if(!(!Gt||!confirm("Sei sicuro di voler resettare tutte le statistiche di questo utente?")))try{await aa(be(Pt,"users",O),{stats:{totalSessions:0,asParticipant:0,asReserve:0,friendsBrought:0}},{merge:!0}),alert("Statistiche resettate con successo"),L&&L.uid===O&&R({...L,totalSessions:0,asParticipant:0,asReserve:0,friendsBrought:0}),s&&s.uid===O&&An(O)}catch(W){console.error("Errore nel reset delle statistiche:",W),alert("Errore nel reset delle statistiche")}},Wi=async O=>{if(!(!Gt||!confirm("Sei sicuro di voler eliminare questa sessione dalle statistiche?")))try{await ho(Pt,async W=>{const it=be(Pt,"sessions",O),_t=await W.get(it);if(!_t.exists())throw new Error("Sessione non trovata");const Rt=_t.data(),Ot=[...(Rt.participantUids||[]).map(ut=>({uid:ut,participant:!0})),...(Rt.reserveUids||[]).map(ut=>({uid:ut,participant:!1}))];for(const ut of Ot){const At=be(Pt,"users",ut.uid),Ct=await W.get(At);if(Ct.exists()){const Ke=Ct.data().stats||{};W.update(At,{stats:{...Ke,totalSessions:Math.max(0,(Ke.totalSessions||1)-1),asParticipant:ut.participant?Math.max(0,(Ke.asParticipant||1)-1):Ke.asParticipant||0,asReserve:ut.participant?Ke.asReserve||0:Math.max(0,(Ke.asReserve||1)-1)}})}}W.delete(it)}),alert("Sessione eliminata con successo"),Os(),s&&An(s.uid)}catch(W){console.error("Errore nell'eliminazione della sessione:",W),alert("Errore nell'eliminazione della sessione")}},Mr=async O=>{if(!(!Gt||!confirm("Sei sicuro di voler eliminare questa partita attiva? Tutti i partecipanti iscritti verranno rimossi.")))try{const W=be(Pt,"activeMatches",O);await Wc(W),alert("Partita eliminata con successo")}catch(W){console.error("Errore nell'eliminazione della partita:",W),alert("Errore nell'eliminazione della partita")}},Or=async O=>{if(!(!Gt||!confirm("Sei sicuro di voler chiudere questa partita? Verr salvata nello storico e rimossa dalle partite attive.")))try{const W=O.participants||[],it=O.reserves||[];if(W.length>0){const _t={date:new Date(O.date),participants:W,reserves:it,participantUids:W.map(ut=>ut.uid),reserveUids:it.map(ut=>ut.uid)};await cm(Ts(Pt,"sessions"),_t);const Rt=W.map(ut=>G0(be(Pt,"users",ut.uid),{"stats.totalSessions":ql(1),"stats.asParticipant":ql(1),"stats.friendsBrought":ql(ut.friends?.length||0)})),Ot=it.map(ut=>G0(be(Pt,"users",ut.uid),{"stats.asReserve":ql(1),"stats.friendsBrought":ql(ut.friends?.length||0)}));await Promise.allSettled([...Rt,...Ot])}await Wc(be(Pt,"activeMatches",O.id)),alert(W.length>0?"Partita chiusa e salvata nello storico!":"Partita chiusa!")}catch(W){console.error("Errore nella chiusura della partita:",W),alert("Errore nella chiusura della partita")}},An=async O=>{const tt=await zl(be(Pt,"users",O)),W=tt.exists()?tt.data():{},it=uo(Ts(Pt,"sessions"),q0("participantUids","array-contains",O),co("date","desc")),Rt=(await Bl(it)).docs.map(Ot=>({id:Ot.id,...Ot.data()}));Et({totalSessions:W?.stats?.totalSessions||0,asParticipant:W?.stats?.asParticipant||0,asReserve:W?.stats?.asReserve||0,friendsBrought:W?.stats?.friendsBrought||0,sessionsHistory:Rt})},Os=async()=>{try{const O=uo(Ts(Pt,"sessions"),co("date","desc")),W=(await Bl(O)).docs.map(it=>({id:it.id,...it.data()}));Ut(W)}catch(O){console.error("Error loading match history:",O),Ut([])}},Vr=async()=>{if(i)try{const O=uo(Ts(Pt,"users"),co("lastLogin","desc")),W=(await Bl(O)).docs.map(it=>({id:it.id,...it.data()}));at(W)}catch(O){console.error("Error loading users:",O),at([])}},Ur=async(O,tt)=>{if(!Gt||O===s?.uid)return;if(G.find(it=>it.id===O)?.email===dn){alert("Non puoi modificare il ruolo del super admin");return}try{await aa(be(Pt,"users",O),{role:tt},{merge:!0}),at(it=>it.map(_t=>_t.id===O?{..._t,role:tt}:_t)),alert(`Ruolo utente aggiornato a: ${tt}`)}catch(it){console.error("Error updating user role:",it),alert("Errore nell'aggiornamento del ruolo")}},va=async O=>{if(!(!Gt||!confirm("Sei sicuro di voler ignorare questa sessione dalle statistiche?")))try{await aa(be(Pt,"sessions",O),{ignoredFromStats:!0},{merge:!0}),alert("Sessione ignorata dalle statistiche"),Os()}catch(W){console.error("Errore nell'ignorare la sessione:",W),alert("Errore nell'ignorare la sessione")}},Sn=()=>J?J.participants?.some(O=>O.uid===s?.uid)||J.reserves?.some(O=>O.uid===s?.uid):!1,Ye=!!J&&me.some(O=>O.id===J.id),nn=!!J&&!me.some(O=>O.id===J.id),ye=()=>{if(!J)return 0;let O=J.participants?.length||0;for(const tt of J.participants||[])O+=tt.friends?.length||0;return O},Ea=()=>{if(!J)return 0;let O=J.reserves?.length||0;for(const tt of J.reserves||[])O+=tt.friends?.length||0;return O},ts=async(O=!1)=>{if(!(!i||!s||!J))try{const tt=be(Pt,"activeMatches",J.id);await ho(Pt,async it=>{const Rt=(await it.get(tt)).data()||{participants:[],reserves:[]},Ot=Rt.participants?.some(xe=>xe.uid===s.uid),ut=Rt.reserves?.some(xe=>xe.uid===s.uid);if(Ot||ut)throw new Error("Sei gi iscritto!");const At={uid:s.uid,name:Zt||s.displayName,photoURL:s.photoURL,friends:N,timestamp:new Date().toLocaleString("it-IT")},Ct={...Rt};if(Ct.participants=Array.isArray(Ct.participants)?Ct.participants:[],Ct.reserves=Array.isArray(Ct.reserves)?Ct.reserves:[],O)Ct.reserves=[...Ct.reserves,At];else{let xe=Ct.participants.length;for(const Sa of Ct.participants)xe+=Sa.friends?.length||0;xe+1+(N.length||0)<=As?Ct.participants=[...Ct.participants,At]:Ct.reserves=[...Ct.reserves,At]}it.update(tt,{participants:Ct.participants,reserves:Ct.reserves,lastUpdated:ui()})}),Y([]),await An(s.uid);const W=ye();!O&&W>As&&alert(`Lista partecipanti piena (${As} posti)! Sei stato aggiunto alle riserve.`)}catch(tt){alert(tt.message||"Errore durante l'iscrizione")}},Ta=async()=>{if(!(!i||!s||!J))try{const O=be(Pt,"activeMatches",J.id);await ho(Pt,async tt=>{const it=(await tt.get(O)).data()||{participants:[],reserves:[]},_t=it.participants?.findIndex(At=>At.uid===s.uid),Rt=it.reserves?.findIndex(At=>At.uid===s.uid);if((_t===void 0||_t===-1)&&(Rt===void 0||Rt===-1))throw new Error("Non sei iscritto a questa partita.");const Ot=[...it.participants||[]];let ut=[...it.reserves||[]];if(_t!==void 0&&_t!==-1){if(Ot.splice(_t,1),ut.length>0){const At=ut[0];ut=ut.slice(1),Ot.push(At)}}else Rt!==void 0&&Rt!==-1&&(ut=ut.filter(At=>At.uid!==s.uid));tt.update(O,{participants:Ot,reserves:ut,lastUpdated:ui()})})}catch(O){alert(O.message||"Errore durante la disiscrizione")}},Mn=async(O,tt=!1)=>{if(!(!Gt||!J))try{const W=be(Pt,"activeMatches",J.id);await ho(Pt,async it=>{const Rt=(await it.get(W)).data()||{participants:[],reserves:[]};let Ot=[...Rt.participants||[]],ut=[...Rt.reserves||[]];if(tt)ut=ut.filter(At=>At.uid!==O);else if(Ot=Ot.filter(At=>At.uid!==O),ut.length>0){const At=ut[0];ut=ut.slice(1),Ot.push(At)}it.update(W,{participants:Ot,reserves:ut,lastUpdated:ui()})})}catch(W){alert(W.message||"Errore durante la rimozione")}},wi=async(O,tt,W=!1)=>{if(!(!Gt||!J))try{const it=be(Pt,"activeMatches",J.id);await ho(Pt,async _t=>{const Ot=(await _t.get(it)).data()||{participants:[],reserves:[]};let ut=[...Ot.participants||[]],At=[...Ot.reserves||[]];if(W){const Ct=At.findIndex(xe=>xe.uid===O);Ct!==-1&&At[Ct].friends&&(At[Ct]={...At[Ct],friends:At[Ct].friends.filter((xe,Ke)=>Ke!==tt)})}else{const Ct=ut.findIndex(xe=>xe.uid===O);Ct!==-1&&ut[Ct].friends&&(ut[Ct]={...ut[Ct],friends:ut[Ct].friends.filter((xe,Ke)=>Ke!==tt)})}_t.update(it,{participants:ut,reserves:At,lastUpdated:ui()})})}catch(it){alert(it.message||"Errore durante la rimozione dell'amico")}},Ce=async O=>{if(!(!Gt||!J))try{const tt=be(Pt,"activeMatches",J.id);await ho(Pt,async W=>{const _t=(await W.get(tt)).data()||{participants:[],reserves:[]},Rt=_t.reserves?.findIndex(Ke=>Ke.uid===O);if(Rt===-1)throw new Error("Riserva non trovata");const Ot=_t.reserves[Rt];let ut=_t.participants?.length||0;for(const Ke of _t.participants||[])ut+=Ke.friends?.length||0;const At=ut+1+(Ot.friends?.length||0);if(At>As)throw new Error(`Non c' abbastanza spazio. Servono ${At-ut} posti ma ne rimangono solo ${As-ut}.`);const Ct=[..._t.reserves||[]];Ct.splice(Rt,1);const xe=[..._t.participants||[],Ot];W.update(tt,{participants:xe,reserves:Ct,lastUpdated:ui()})}),alert("Riserva promossa a partecipante con successo!")}catch(tt){console.error("Errore nella promozione:",tt),alert(tt.message||"Errore nella promozione della riserva")}},Kn=()=>S.jsx("div",{className:"bg-gray-800 rounded-xl shadow-2xl p-4 md:p-6 mb-6 border border-gray-700",children:S.jsxs("div",{className:"flex items-center justify-between",children:[S.jsxs("div",{className:"flex items-center gap-2 md:gap-3 flex-1 min-w-0",children:[S.jsx("div",{className:"bg-indigo-600 p-2 md:p-3 rounded-lg flex-shrink-0",children:S.jsx("div",{className:"w-6 h-6 md:w-8 md:h-8 text-white text-lg md:text-2xl flex items-center justify-center",children:""})}),S.jsxs("div",{className:"min-w-0 flex-1",children:[S.jsx("h1",{className:"text-xl md:text-3xl font-bold text-gray-100 truncate",children:F===he.MATCH_HISTORY?"Storico Partite":F===he.USERS_LIST?"Lista Utenti":"Pallavolo - 7 fighters"}),i&&(F===he.MATCH_DETAIL&&A?S.jsxs("div",{className:"mt-1 md:mt-2 flex items-center gap-3 flex-wrap",children:[S.jsxs("div",{className:"text-sm md:text-lg text-indigo-300 font-semibold",children:["Partita del ",new Date(A).toLocaleString("it-IT",{dateStyle:"full",timeStyle:"short"})]}),S.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${J&&me.some(O=>O.id===J.id)?"bg-green-600 text-green-100":"bg-gray-600 text-gray-100"}`,children:J&&me.some(O=>O.id===J.id)?"Aperta":"Giocata"})]}):F===he.MATCH_HISTORY?S.jsx("div",{className:"mt-1 md:mt-2 text-sm md:text-lg text-indigo-300 font-semibold",children:"Partite gi giocate"}):F===he.USERS_LIST?S.jsx("div",{className:"mt-1 md:mt-2 text-sm md:text-lg text-indigo-300 font-semibold",children:"Gestisci ruoli e utenti"}):F===he.MATCH_LIST&&A?S.jsx("div",{className:"mt-1 md:mt-2 text-sm md:text-lg text-indigo-300 font-semibold",children:"Seleziona una partita per iscriverti"}):S.jsx("div",{className:"mt-1 md:mt-2 text-sm md:text-lg text-indigo-300 font-semibold",children:"Nessuna partita attiva"}))]})]}),i&&S.jsxs("div",{className:"relative flex items-center gap-2 md:gap-3 user-dropdown flex-shrink-0",children:[S.jsx("span",{className:"hidden md:block text-gray-100 font-medium truncate max-w-32",children:Zt||s?.displayName}),S.jsx("button",{onClick:()=>pt(!nt),className:"p-1 md:p-2 bg-gray-700 rounded-full border border-gray-600 hover:bg-gray-600 transition flex-shrink-0",title:"Area personale",children:S.jsx("img",{src:s.photoURL||"",alt:s.displayName||"",className:"w-8 h-8 md:w-10 md:h-10 rounded-full border-2 border-indigo-500 object-cover"})}),nt&&wt&&S.jsxs("div",{className:"absolute right-0 top-full mt-2 w-80 md:w-96 bg-gray-800 rounded-lg shadow-xl border border-gray-700 z-10 p-4 md:p-6 max-w-[90vw]",children:[S.jsxs("h3",{className:"text-lg font-bold text-gray-100 mb-4 flex items-center gap-2",children:[S.jsx(mv,{className:"w-5 h-5 text-yellow-500"}),"Le tue statistiche"]}),S.jsxs("div",{className:"mb-4 p-3 bg-gray-700/30 rounded-lg border border-gray-600/50",children:[S.jsx("div",{className:"text-xs text-gray-400 mb-1",children:"Nome visualizzato"}),Ft?S.jsxs("div",{className:"space-y-2",children:[S.jsx("input",{type:"text",value:w,onChange:O=>I(O.target.value),className:"w-full px-2 py-1 bg-gray-600 text-gray-100 rounded border border-gray-500 text-sm",placeholder:"Inserisci il tuo nome",autoFocus:!0}),S.jsxs("div",{className:"flex gap-2",children:[S.jsx("button",{onClick:bi,className:"flex-1 px-2 py-1 bg-green-600 text-white rounded text-xs hover:bg-green-700 transition",children:"Salva"}),S.jsx("button",{onClick:Po,className:"flex-1 px-2 py-1 bg-gray-600 text-gray-100 rounded text-xs hover:bg-gray-700 transition",children:"Annulla"})]})]}):S.jsxs("div",{className:"flex items-center justify-between",children:[S.jsx("span",{className:"text-sm text-gray-100 font-medium",children:Zt}),S.jsx("button",{onClick:Me,className:"px-2 py-1 bg-indigo-600 text-white rounded text-xs hover:bg-indigo-700 transition",children:"Modifica"})]})]}),S.jsxs("div",{className:"grid grid-cols-2 gap-2 md:gap-3",children:[S.jsxs("div",{className:"bg-gray-700/50 rounded-lg p-2 md:p-3 border border-gray-600/50",children:[S.jsx("div",{className:"text-lg md:text-xl font-bold text-indigo-400",children:wt.totalSessions||0}),S.jsx("div",{className:"text-xs text-gray-400",children:"Partite totali"})]}),S.jsxs("div",{className:"bg-gray-700/50 rounded-lg p-3 border border-gray-600/50",children:[S.jsx("div",{className:"text-xl font-bold text-purple-400",children:wt.friendsBrought||0}),S.jsx("div",{className:"text-xs text-gray-400",children:"Amici portati"})]})]}),S.jsx("button",{onClick:Ie,className:"mt-4 w-full px-4 py-2 bg-gray-700 text-gray-100 rounded-lg hover:bg-gray-600 transition border border-gray-600 text-sm",children:"Esci"})]})]})]})}),Xn=()=>S.jsx("div",{className:"flex flex-col items-center justify-center",children:S.jsxs("div",{className:"bg-gray-800 rounded-xl shadow-2xl p-8 border border-gray-700 w-full max-w-md text-center",children:[S.jsx("div",{className:"text-lg text-yellow-200 mb-6",children:"Nessuna partita attiva, attendere che venga creata"}),!i&&S.jsxs("div",{className:"mb-6",children:[S.jsx("p",{className:"text-gray-400 text-sm mb-4",children:"Effettua il login per partecipare alle partite"}),S.jsx("button",{onClick:Ji,disabled:l,className:"w-full px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition font-medium flex items-center justify-center gap-2",children:l?S.jsxs(S.Fragment,{children:[S.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white"}),"Accesso..."]}):S.jsxs(S.Fragment,{children:[S.jsx(gv,{className:"w-5 h-5"}),"Accedi con Google"]})})]})]})}),On=()=>S.jsx("div",{className:"space-y-4 md:space-y-6",children:S.jsxs("div",{className:"bg-gray-800 rounded-xl shadow-2xl p-4 md:p-6 border border-gray-700",children:[S.jsx("h2",{className:"text-xl md:text-2xl font-bold text-gray-100 mb-4",children:"Partite Attive"}),me.length>0?S.jsxs("div",{className:"space-y-3 md:space-y-4",children:[me.map(O=>S.jsx("div",{className:"bg-gray-700 rounded-lg p-3 md:p-4 border border-gray-600 hover:border-indigo-500 transition group",children:S.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-3",children:[S.jsxs("div",{onClick:()=>{Tt(O),st(he.MATCH_DETAIL)},className:"flex-1 cursor-pointer",children:[S.jsx("h3",{className:"text-base md:text-lg font-semibold text-gray-100 group-hover:text-indigo-300",children:"Partita di Pallavolo"}),S.jsx("p",{className:"text-sm md:text-base text-gray-400 mt-1",children:new Date(O.date).toLocaleString("it-IT",{dateStyle:"short",timeStyle:"short"})})]}),S.jsxs("div",{className:"flex items-center gap-3 md:gap-4 justify-between md:justify-end",children:[S.jsxs("div",{className:"text-center",children:[S.jsx("div",{className:"text-lg md:text-2xl font-bold text-green-400",children:(O.participants?.length||0)+(O.participants?.reduce((tt,W)=>tt+(W.friends?.length||0),0)||0)}),S.jsx("div",{className:"text-xs text-gray-400",children:"Partecipanti"})]}),S.jsxs("div",{className:"text-center",children:[S.jsx("div",{className:"text-lg md:text-2xl font-bold text-amber-400",children:(O.reserves?.length||0)+(O.reserves?.reduce((tt,W)=>tt+(W.friends?.length||0),0)||0)}),S.jsx("div",{className:"text-xs text-gray-400",children:"Riserve"})]}),Gt&&S.jsxs("div",{className:"flex items-center gap-2",children:[S.jsx("button",{onClick:tt=>{tt.stopPropagation(),Or(O)},className:"p-1 md:p-2 text-blue-400 hover:text-blue-300 hover:bg-blue-900/20 rounded-lg transition",title:"Chiudi partita (marca come giocata)",children:S.jsx(hS,{className:"w-4 h-4 md:w-5 md:h-5"})}),S.jsx("button",{onClick:tt=>{tt.stopPropagation(),Mr(O.id)},className:"p-1 md:p-2 text-red-400 hover:text-red-300 hover:bg-red-900/20 rounded-lg transition",title:"Elimina partita",children:S.jsx("svg",{className:"w-4 h-4 md:w-5 md:h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]})]})]})},O.id)),Gt&&S.jsxs("div",{className:"border-t border-gray-600 pt-4 space-y-4",children:[S.jsx("h3",{className:"text-lg font-semibold text-gray-100",children:"Controlli Admin"}),S.jsxs("div",{className:"flex items-center gap-3",children:[S.jsx("label",{htmlFor:"nextSessionDate",className:"text-sm text-gray-300 font-medium",children:"Data prossima partita:"}),S.jsx("input",{id:"nextSessionDate",type:"datetime-local",value:Ai,onChange:O=>Si(O.target.value),className:"px-3 py-2 rounded-lg bg-gray-700 text-gray-100 border border-gray-600 focus:ring-2 focus:ring-blue-500"}),S.jsx("button",{onClick:Ds,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition font-medium text-sm",children:"Crea"})]})]})]}):S.jsxs("div",{className:"text-center py-8",children:[S.jsx("p",{className:"text-gray-400 mb-4",children:"Nessuna partita attiva al momento"}),Gt&&S.jsx("div",{className:"space-y-4",children:S.jsxs("div",{className:"flex items-center gap-3 justify-center",children:[S.jsx("label",{htmlFor:"nextSessionDate",className:"text-sm text-gray-300 font-medium",children:"Data partita:"}),S.jsx("input",{id:"nextSessionDate",type:"datetime-local",value:Ai,onChange:O=>Si(O.target.value),className:"px-3 py-2 rounded-lg bg-gray-700 text-gray-100 border border-gray-600 focus:ring-2 focus:ring-blue-500"}),S.jsx("button",{onClick:Ds,className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition font-medium text-sm",children:"Crea"})]})})]})]})}),jo=()=>i?S.jsxs("div",{className:"space-y-6",children:[nn&&S.jsxs("div",{className:"bg-gray-700 border border-gray-600 rounded-lg p-4",children:[S.jsxs("div",{className:"flex items-center gap-2",children:[S.jsx("svg",{className:"w-5 h-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),S.jsx("span",{className:"text-gray-300 font-medium",children:"Partita Storica - Solo Visualizzazione"})]}),S.jsx("p",{className:"text-sm text-gray-400 mt-1",children:"Questa partita  stata completata e non  pi possibile iscriversi o modificare i partecipanti."})]}),Ye&&S.jsxs(S.Fragment,{children:[!Sn()&&S.jsxs("div",{className:"space-y-4",children:[S.jsxs("div",{className:"flex gap-3",children:[S.jsxs("button",{onClick:()=>ts(!1),className:"flex-1 px-6 py-3 bg-green-600 text-white rounded-lg hover:bg-green-700 transition font-medium flex items-center justify-center gap-2",children:[S.jsx(TS,{className:"w-5 h-5"}),"Iscriviti come Partecipante"]}),S.jsxs("button",{onClick:()=>ts(!0),className:"flex-1 px-6 py-3 bg-amber-600 text-white rounded-lg hover:bg-amber-700 transition font-medium flex items-center justify-center gap-2",children:[S.jsx(dS,{className:"w-5 h-5"}),"Iscriviti come Riserva"]})]}),S.jsxs("div",{className:"space-y-4",children:[ye()>=As&&S.jsxs("div",{className:"p-3 bg-amber-900/20 border border-amber-600 rounded-lg",children:[S.jsxs("p",{className:"text-amber-300 text-sm font-medium",children:[" Lista partecipanti piena (",As,"/",As,")"]}),S.jsx("p",{className:"text-amber-200 text-xs mt-1",children:"Le nuove iscrizioni come partecipante verranno automaticamente aggiunte alle riserve."})]}),S.jsxs("div",{className:"text-xs text-gray-400 mb-2",children:["* Puoi aggiungere fino a ",S.jsxs("span",{className:"font-bold text-indigo-300",children:[Gt?"illimitati":"3"," amici"]})," per sessione"]}),S.jsxs("div",{className:"flex gap-2 items-center",children:[S.jsx("input",{type:"text",value:et||"",onChange:O=>lt(O.target.value),className:"px-4 py-2 rounded-lg bg-gray-700 text-gray-100 border border-gray-600 focus:ring-2 focus:ring-indigo-500",placeholder:"Nome amico",disabled:!Gt&&N.length>=3}),S.jsx("button",{type:"button",onClick:()=>{et&&(Gt||N.length<3)&&(Y([...N,et]),lt(""))},className:"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition font-medium",disabled:!et||!Gt&&N.length>=3,children:"Aggiungi amico"})]}),N.length>0&&S.jsxs("div",{className:"mt-2",children:[S.jsx("div",{className:"text-sm text-gray-300 mb-2",children:"Amici aggiunti:"}),S.jsx("ul",{className:"space-y-2",children:N.map((O,tt)=>S.jsxs("li",{className:"flex items-center gap-2",children:[S.jsx("span",{className:"bg-indigo-900 text-indigo-100 px-3 py-1 rounded-full",children:O}),S.jsx("button",{type:"button",onClick:()=>Y(N.filter((W,it)=>it!==tt)),className:"text-red-400 hover:text-red-600 text-xs",children:"Rimuovi"})]},tt))})]})]})]}),Sn()&&S.jsx("button",{onClick:Ta,className:"w-full px-6 py-3 bg-red-600 text-white rounded-lg hover:bg-red-700 transition font-medium",children:"Disiscriviti"})]}),S.jsxs("div",{className:"grid md:grid-cols-2 gap-6 mt-8",children:[S.jsxs("div",{className:"bg-gray-800 rounded-xl shadow-2xl p-6 border border-gray-700",children:[S.jsxs("div",{className:"flex items-center justify-between mb-4",children:[S.jsx("h2",{className:"text-xl font-bold text-gray-100",children:"Partecipanti"}),S.jsxs("span",{className:"bg-green-900 text-green-200 px-3 py-1 rounded-full font-semibold text-sm border border-green-700",children:[ye()," / ",As]})]}),S.jsx("div",{className:"space-y-3 max-h-96 overflow-y-auto",children:!J||!J.participants||J.participants.length===0?S.jsx("p",{className:"text-gray-500 text-center py-4",children:"Nessun partecipante"}):J.participants.map((O,tt)=>S.jsx("div",{className:"bg-green-900 rounded-lg p-3 border border-green-700",children:S.jsxs("div",{className:"flex items-center gap-3",children:[S.jsx("img",{src:O.photoURL,alt:O.name,className:"w-10 h-10 rounded-full border-2 border-green-500"}),S.jsxs("div",{className:"flex-1",children:[S.jsxs("div",{className:"flex items-center justify-between",children:[S.jsx("span",{className:"font-medium text-gray-100",children:O.name}),S.jsxs("div",{className:"flex items-center gap-2",children:[S.jsx("span",{className:"text-xs text-gray-400",children:O.timestamp}),S.jsx("button",{onClick:()=>Ms(O.uid,O.name),className:"text-blue-400 hover:text-blue-300 text-xs px-2 py-1 rounded bg-blue-900/30 hover:bg-blue-900/50 transition",title:"Visualizza statistiche",children:""}),Gt&&!nn&&S.jsx("button",{onClick:()=>Mn(O.uid,!1),className:"text-red-400 hover:text-red-600 text-xs px-2 py-1 rounded bg-red-900/30 hover:bg-red-900/50 transition",title:"Rimuovi utente",children:""})]})]}),O.friends?.length>0&&S.jsx("div",{className:"mt-2 space-y-1",children:O.friends.map((W,it)=>S.jsxs("div",{className:"text-sm text-gray-300 flex items-center gap-2 justify-between",children:[S.jsxs("div",{className:"flex items-center gap-2",children:[S.jsx("span",{className:"text-green-400",children:"+"}),W]}),Gt&&!nn&&S.jsx("button",{onClick:()=>wi(O.uid,it,!1),className:"text-red-400 hover:text-red-600 text-xs px-1 py-0.5 rounded bg-red-900/30 hover:bg-red-900/50 transition ml-2",title:"Rimuovi amico",children:""})]},it))})]})]})},O.uid+"_"+tt))})]}),!nn&&S.jsxs("div",{className:"bg-gray-800 rounded-xl shadow-2xl p-6 border border-gray-700",children:[S.jsxs("div",{className:"flex items-center justify-between mb-4",children:[S.jsx("h2",{className:"text-xl font-bold text-gray-100",children:"Riserve"}),S.jsx("span",{className:"bg-amber-900 text-amber-200 px-3 py-1 rounded-full font-semibold text-sm border border-amber-700",children:Ea()})]}),S.jsx("div",{className:"space-y-3 max-h-96 overflow-y-auto",children:!J||!J.reserves||J.reserves.length===0?S.jsx("p",{className:"text-gray-500 text-center py-4",children:"Nessuna riserva"}):J.reserves.map((O,tt)=>S.jsx("div",{className:"bg-amber-900 rounded-lg p-3 border border-amber-700",children:S.jsxs("div",{className:"flex items-center gap-3",children:[S.jsx("img",{src:O.photoURL,alt:O.name,className:"w-10 h-10 rounded-full border-2 border-amber-500"}),S.jsxs("div",{className:"flex-1",children:[S.jsxs("div",{className:"flex items-center justify-between",children:[S.jsxs("span",{className:"font-medium text-gray-100",children:[tt+1,". ",O.name]}),S.jsxs("div",{className:"flex items-center gap-2",children:[S.jsx("span",{className:"text-xs text-gray-400",children:O.timestamp}),S.jsx("button",{onClick:()=>Ms(O.uid,O.name),className:"text-blue-400 hover:text-blue-300 text-xs px-2 py-1 rounded bg-blue-900/30 hover:bg-blue-900/50 transition",title:"Visualizza statistiche",children:""}),Gt&&S.jsxs(S.Fragment,{children:[S.jsx("button",{onClick:()=>Ce(O.uid),className:"text-green-400 hover:text-green-300 text-xs px-2 py-1 rounded bg-green-900/30 hover:bg-green-900/50 transition",title:"Promuovi a partecipante",children:""}),S.jsx("button",{onClick:()=>Mn(O.uid,!0),className:"text-red-400 hover:text-red-600 text-xs px-2 py-1 rounded bg-red-900/30 hover:bg-red-900/50 transition",title:"Rimuovi utente",children:""})]})]})]}),O.friends?.length>0&&S.jsx("div",{className:"mt-2 space-y-1",children:O.friends.map((W,it)=>S.jsxs("div",{className:"text-sm text-gray-300 flex items-center gap-2 justify-between",children:[S.jsxs("div",{className:"flex items-center gap-2",children:[S.jsx("span",{className:"text-amber-400",children:"+"}),W]}),Gt&&S.jsx("button",{onClick:()=>wi(O.uid,it,!0),className:"text-red-400 hover:text-red-600 text-xs px-1 py-0.5 rounded bg-red-900/30 hover:bg-red-900/50 transition ml-2",title:"Rimuovi amico",children:""})]},it))})]})]})},O.uid+"_"+tt))})]})]})]}):S.jsxs("div",{className:"space-y-4 text-center py-8",children:[S.jsx("p",{className:"text-gray-300 mb-6",children:"Accedi con Google per iscriverti agli allenamenti"}),S.jsxs("button",{onClick:Ji,disabled:l,className:"inline-flex items-center gap-3 px-8 py-4 bg-white text-gray-800 rounded-lg hover:bg-gray-100 transition font-medium shadow-lg disabled:opacity-50",children:[S.jsxs("svg",{className:"w-6 h-6",viewBox:"0 0 24 24",children:[S.jsx("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),S.jsx("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),S.jsx("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),S.jsx("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),l?"Accesso in corso...":"Accedi con Google"]}),S.jsx("p",{className:"text-xs text-gray-500 mt-4",children:"* Login con Firebase/Google OAuth"})]}),Aa=async O=>{if(!(!Gt||!confirm("Sei sicuro di voler riaprire questa partita? Verr aggiunta alle partite attive.")))try{await cm(Ts(Pt,"activeMatches"),{participants:O.participants||[],reserves:O.reserves||[],date:O.date.toDate?O.date.toDate().toISOString():new Date().toISOString(),createdAt:ui(),lastUpdated:ui(),createdBy:s.uid,status:"active",reopenedFrom:O.id}),await Wc(be(Pt,"sessions",O.id)),alert("Partita riaperta con successo!"),await Os()}catch(W){console.error("Errore nella riapertura della partita:",W),alert("Errore nella riapertura della partita")}},$n=()=>S.jsx("div",{className:"space-y-4 md:space-y-6",children:S.jsxs("div",{className:"bg-gray-800 rounded-xl shadow-2xl p-4 md:p-6 border border-gray-700",children:[S.jsx("h2",{className:"text-xl md:text-2xl font-bold text-gray-100 mb-4",children:"Storico Partite"}),xt.length===0?S.jsx("div",{className:"text-center py-8",children:S.jsx("p",{className:"text-gray-400",children:"Nessuna partita nel database"})}):S.jsx("div",{className:"space-y-3 md:space-y-4",children:xt.map((O,tt)=>S.jsx("div",{className:"bg-gray-700 rounded-lg p-3 md:p-4 border border-gray-600 hover:border-indigo-500 transition group",children:S.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-3",children:[S.jsxs("div",{onClick:()=>{Tt({...O,id:O.id,date:O.date.toDate?O.date.toDate().toISOString():new Date().toISOString()}),st(he.MATCH_DETAIL)},className:"flex-1 cursor-pointer",children:[S.jsx("h3",{className:"text-base md:text-lg font-semibold text-gray-100 group-hover:text-indigo-300",children:O.date?.toDate?O.date.toDate().toLocaleDateString("it-IT",{weekday:"long",year:"numeric",month:"long",day:"numeric"}):"Partita"}),S.jsx("p",{className:"text-sm md:text-base text-gray-400 mt-1",children:O.date?.toDate?O.date.toDate().toLocaleString("it-IT",{dateStyle:"short",timeStyle:"short"}):"Data non disponibile"}),O.ignoredFromStats&&S.jsx("span",{className:"inline-block mt-1 text-xs bg-yellow-900/50 text-yellow-300 px-2 py-1 rounded",children:"Ignorata dalle statistiche"})]}),S.jsxs("div",{className:"flex items-center gap-3 md:gap-4 justify-between md:justify-end",children:[S.jsxs("div",{className:"text-center",children:[S.jsx("div",{className:"text-lg md:text-2xl font-bold text-green-400",children:(O.participants?.length||0)+(O.participants?.reduce((W,it)=>W+(it.friends?.length||0),0)||0)}),S.jsx("div",{className:"text-xs text-gray-400",children:"Partecipanti"})]}),S.jsxs("div",{className:"text-center",children:[S.jsx("div",{className:"text-lg md:text-2xl font-bold text-amber-400",children:(O.reserves?.length||0)+(O.reserves?.reduce((W,it)=>W+(it.friends?.length||0),0)||0)}),S.jsx("div",{className:"text-xs text-gray-400",children:"Riserve"})]}),Gt&&S.jsxs("div",{className:"flex items-center gap-2",children:[S.jsx("button",{onClick:W=>{W.stopPropagation(),Aa(O)},className:"p-1 md:p-2 text-blue-400 hover:text-blue-300 hover:bg-blue-900/20 rounded-lg transition",title:"Riapri partita",children:S.jsx("svg",{className:"w-4 h-4 md:w-5 md:h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})})}),S.jsx("button",{onClick:W=>{W.stopPropagation(),va(O.id)},className:`p-1 md:p-2 text-yellow-400 hover:text-yellow-300 hover:bg-yellow-900/20 rounded-lg transition ${O.ignoredFromStats?"bg-yellow-900/50":""}`,title:O.ignoredFromStats?"Riattiva nelle statistiche":"Ignora dalle statistiche",children:O.ignoredFromStats?"":""}),S.jsx("button",{onClick:W=>{W.stopPropagation(),Wi(O.id)},className:"p-1 md:p-2 text-red-400 hover:text-red-300 hover:bg-red-900/20 rounded-lg transition",title:"Elimina partita",children:S.jsx("svg",{className:"w-4 h-4 md:w-5 md:h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]})]})]})},O.id))})]})}),es=async(O,tt)=>{if(!(!Gt||!confirm(`Sei sicuro di voler eliminare completamente l'utente "${tt}"? Questa azione non pu essere annullata.`)))try{await Wc(be(Pt,"users",O)),await Vr(),alert("Utente eliminato con successo")}catch(it){console.error("Errore nell'eliminazione utente:",it),alert("Errore nell'eliminazione utente")}},zo=()=>S.jsx("div",{className:"space-y-6",children:G.length===0?S.jsx("div",{className:"bg-gray-800 rounded-xl shadow-2xl p-8 border border-gray-700 text-center",children:S.jsx("p",{className:"text-gray-400",children:"Nessun utente registrato"})}):S.jsxs("div",{className:"bg-gray-800 rounded-xl shadow-2xl p-4 md:p-6 border border-gray-700",children:[S.jsx("h2",{className:"text-xl md:text-2xl font-bold text-gray-100 mb-4",children:"Lista Utenti"}),S.jsx("div",{className:"space-y-3 md:space-y-4",children:G.map(O=>S.jsx("div",{className:"bg-gray-700 rounded-lg p-3 md:p-4 border border-gray-600",children:S.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-3",children:[S.jsxs("div",{className:"flex items-center gap-3 md:gap-4 min-w-0 flex-1",children:[S.jsx("img",{src:O.photoURL||"",alt:O.displayName||"",className:"w-10 h-10 md:w-12 md:h-12 rounded-full border-2 border-indigo-500 flex-shrink-0 object-cover"}),S.jsxs("div",{className:"flex flex-col md:flex-row md:items-center gap-2 md:gap-6 min-w-0 flex-1",children:[S.jsx("div",{className:"min-w-0",children:S.jsx("div",{className:"font-medium text-gray-100 truncate",children:O.customDisplayName||O.displayName})}),S.jsxs("div",{className:"flex gap-2 md:gap-3 text-xs",children:[S.jsxs("div",{className:"text-center",children:[S.jsx("div",{className:"font-bold text-indigo-400",children:O.stats?.totalSessions||0}),S.jsx("div",{className:"text-gray-400",children:"Partite"})]}),S.jsxs("div",{className:"text-center",children:[S.jsx("div",{className:"font-bold text-green-400",children:O.stats?.asParticipant||0}),S.jsx("div",{className:"text-gray-400",children:"Part"})]}),S.jsxs("div",{className:"text-center",children:[S.jsx("div",{className:"font-bold text-purple-400",children:O.stats?.friendsBrought||0}),S.jsx("div",{className:"text-gray-400",children:"Amici"})]})]})]})]}),S.jsxs("div",{className:"flex items-center gap-2 md:gap-3 flex-shrink-0",children:[Gt&&S.jsx("span",{className:`px-2 md:px-3 py-1 rounded-full text-xs font-medium ${O.email===dn||O.role==="admin"?"bg-blue-900 text-blue-200":"bg-gray-600 text-gray-200"}`,children:O.email===dn||O.role==="admin"?"Admin":"Utente"}),Gt&&O.email!==dn&&O.id!==s?.uid&&S.jsxs("div",{className:"flex gap-1 md:gap-2",children:[O.role!=="admin"&&S.jsx("button",{onClick:()=>Ur(O.id,"admin"),className:"px-2 md:px-3 py-1 bg-blue-600 text-white rounded text-xs hover:bg-blue-700 transition",children:"Rendi Admin"}),O.role==="admin"&&Zi&&S.jsx("button",{onClick:()=>Ur(O.id,"user"),className:"px-2 md:px-3 py-1 bg-gray-600 text-white rounded text-xs hover:bg-gray-700 transition",children:"Rendi Utente"})]}),S.jsx("button",{onClick:()=>Ms(O.id,O.displayName),className:"px-2 md:px-3 py-1 bg-indigo-600 text-white rounded text-xs hover:bg-indigo-700 transition",children:" Stats"}),Gt&&O.email!==dn&&O.id!==s?.uid&&S.jsx("button",{onClick:()=>es(O.id,O.customDisplayName||O.displayName),className:"px-2 md:px-3 py-1 bg-red-600 text-white rounded text-xs hover:bg-red-700 transition",title:"Elimina utente",children:""})]})]})},O.id))})]})}),ns=()=>i?S.jsx("div",{className:"fixed bottom-0 left-0 right-0 bg-gray-800 border-t border-gray-700 p-2 md:p-4 z-40",children:S.jsx("div",{className:"max-w-6xl mx-auto flex justify-center",children:S.jsxs("div",{className:"flex items-center gap-3 md:gap-6",children:[S.jsxs("button",{onClick:()=>st(me.length>0?he.MATCH_LIST:he.NO_MATCHES),className:`flex flex-col items-center gap-1 p-1 md:p-2 rounded-lg transition ${F===he.NO_MATCHES||F===he.MATCH_LIST?"bg-indigo-600 text-white":"text-gray-400 hover:text-gray-200"}`,title:"Partite",children:[S.jsx(yS,{className:"w-5 h-5 md:w-6 md:h-6"}),S.jsx("span",{className:"text-xs",children:"Partite"})]}),J&&S.jsxs("button",{onClick:()=>st(he.MATCH_DETAIL),className:`flex flex-col items-center gap-1 p-1 md:p-2 rounded-lg transition ${F===he.MATCH_DETAIL?"bg-indigo-600 text-white":"text-gray-400 hover:text-gray-200"}`,title:"Partita Corrente",children:[S.jsx("svg",{className:"w-5 h-5 md:w-6 md:h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 14l-7 7m0 0l-7-7m7 7V3"})}),S.jsx("span",{className:"text-xs",children:"Partita"})]}),S.jsxs("button",{onClick:()=>{Os(),st(he.MATCH_HISTORY)},className:`flex flex-col items-center gap-1 p-1 md:p-2 rounded-lg transition ${F===he.MATCH_HISTORY?"bg-indigo-600 text-white":"text-gray-400 hover:text-gray-200"}`,title:"Storico",children:[S.jsx(gS,{className:"w-5 h-5 md:w-6 md:h-6"}),S.jsx("span",{className:"text-xs",children:"Storico"})]}),S.jsxs("button",{onClick:()=>{Vr(),st(he.USERS_LIST)},className:`flex flex-col items-center gap-1 p-1 md:p-2 rounded-lg transition ${F===he.USERS_LIST?"bg-indigo-600 text-white":"text-gray-400 hover:text-gray-200"}`,title:"Utenti",children:[S.jsx(vS,{className:"w-5 h-5 md:w-6 md:h-6"}),S.jsx("span",{className:"text-xs",children:"Utenti"})]})]})})}):null;return S.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 to-gray-800 p-3 md:p-6 pb-24",children:S.jsxs("div",{className:"max-w-6xl mx-auto",children:[Kn(),i?S.jsxs("div",{className:"mb-20",children:[" ",F===he.NO_MATCHES&&Xn(),F===he.MATCH_LIST&&On(),F===he.MATCH_DETAIL&&jo(),F===he.MATCH_HISTORY&&$n(),F===he.USERS_LIST&&zo()]}):S.jsx("div",{className:"flex flex-col items-center justify-center",children:S.jsxs("div",{className:"bg-gray-800 rounded-xl shadow-2xl p-8 border border-gray-700 w-full max-w-md text-center",children:[S.jsx("div",{className:"text-lg text-yellow-200 mb-6",children:"Benvenuto! Effettua il login per accedere alle partite di pallavolo"}),S.jsx("button",{onClick:Ji,disabled:l,className:"w-full px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition font-medium flex items-center justify-center gap-2",children:l?S.jsxs(S.Fragment,{children:[S.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white"}),"Accesso..."]}):S.jsxs(S.Fragment,{children:[S.jsx(gv,{className:"w-5 h-5"}),"Accedi con Google"]})})]})}),ns(),U&&L&&S.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:S.jsxs("div",{className:"bg-gray-800 rounded-xl shadow-2xl border border-gray-700 w-full max-w-md p-6",children:[S.jsxs("div",{className:"flex items-center justify-between mb-4",children:[S.jsxs("h3",{className:"text-lg font-bold text-gray-100 flex items-center gap-2",children:[S.jsx(mv,{className:"w-5 h-5 text-yellow-500"}),"Statistiche di ",L.displayName]}),S.jsx("button",{onClick:()=>D(!1),className:"text-gray-400 hover:text-gray-200 transition",children:""})]}),S.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[S.jsxs("div",{className:"bg-gray-700/50 rounded-lg p-3 border border-gray-600/50",children:[S.jsx("div",{className:"text-xl font-bold text-indigo-400",children:L.totalSessions||0}),S.jsx("div",{className:"text-xs text-gray-400",children:"Partite totali"})]}),S.jsxs("div",{className:"bg-gray-700/50 rounded-lg p-3 border border-gray-600/50",children:[S.jsx("div",{className:"text-xl font-bold text-purple-400",children:L.friendsBrought||0}),S.jsx("div",{className:"text-xs text-gray-400",children:"Amici portati"})]})]}),Gt&&S.jsx("button",{onClick:()=>en(L.uid),className:"mt-4 w-full px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition border border-red-500 text-sm",children:" Reset statistiche utente"}),S.jsx("button",{onClick:()=>D(!1),className:"mt-2 w-full px-4 py-2 bg-gray-700 text-gray-100 rounded-lg hover:bg-gray-600 transition border border-gray-600 text-sm",children:"Chiudi"})]})})]})})}function Tx(){return S.jsx("div",{className:"App",children:S.jsx(Ex,{})})}iS.createRoot(document.getElementById("root")).render(S.jsx(Yt.StrictMode,{children:S.jsx(Tx,{})}));
