(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))r(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&r(d)}).observe(document,{childList:!0,subtree:!0});function i(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function r(l){if(l.ep)return;l.ep=!0;const c=i(l);fetch(l.href,c)}})();function Kb(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}var Kd={exports:{}},Fl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var r0;function Xb(){if(r0)return Fl;r0=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(r,l,c){var d=null;if(c!==void 0&&(d=""+c),l.key!==void 0&&(d=""+l.key),"key"in l){c={};for(var p in l)p!=="key"&&(c[p]=l[p])}else c=l;return l=c.ref,{$$typeof:s,type:r,key:d,ref:l!==void 0?l:null,props:c}}return Fl.Fragment=e,Fl.jsx=i,Fl.jsxs=i,Fl}var a0;function $b(){return a0||(a0=1,Kd.exports=Xb()),Kd.exports}var E=$b(),Xd={exports:{}},Me={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var o0;function Zb(){if(o0)return Me;o0=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),_=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),w=Symbol.for("react.activity"),C=Symbol.iterator;function Y(V){return V===null||typeof V!="object"?null:(V=C&&V[C]||V["@@iterator"],typeof V=="function"?V:null)}var re={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},ue=Object.assign,ae={};function Se(V,J,ce){this.props=V,this.context=J,this.refs=ae,this.updater=ce||re}Se.prototype.isReactComponent={},Se.prototype.setState=function(V,J){if(typeof V!="object"&&typeof V!="function"&&V!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,V,J,"setState")},Se.prototype.forceUpdate=function(V){this.updater.enqueueForceUpdate(this,V,"forceUpdate")};function De(){}De.prototype=Se.prototype;function Ne(V,J,ce){this.props=V,this.context=J,this.refs=ae,this.updater=ce||re}var We=Ne.prototype=new De;We.constructor=Ne,ue(We,Se.prototype),We.isPureReactComponent=!0;var ut=Array.isArray;function Ze(){}var D={H:null,A:null,T:null,S:null},x=Object.prototype.hasOwnProperty;function N(V,J,ce){var se=ce.ref;return{$$typeof:s,type:V,key:J,ref:se!==void 0?se:null,props:ce}}function U(V,J){return N(V.type,J,V.props)}function O(V){return typeof V=="object"&&V!==null&&V.$$typeof===s}function k(V){var J={"=":"=0",":":"=2"};return"$"+V.replace(/[=:]/g,function(ce){return J[ce]})}var R=/\/+/g;function nt(V,J){return typeof V=="object"&&V!==null&&V.key!=null?k(""+V.key):J.toString(36)}function Ot(V){switch(V.status){case"fulfilled":return V.value;case"rejected":throw V.reason;default:switch(typeof V.status=="string"?V.then(Ze,Ze):(V.status="pending",V.then(function(J){V.status==="pending"&&(V.status="fulfilled",V.value=J)},function(J){V.status==="pending"&&(V.status="rejected",V.reason=J)})),V.status){case"fulfilled":return V.value;case"rejected":throw V.reason}}throw V}function K(V,J,ce,se,_e){var ie=typeof V;(ie==="undefined"||ie==="boolean")&&(V=null);var Be=!1;if(V===null)Be=!0;else switch(ie){case"bigint":case"string":case"number":Be=!0;break;case"object":switch(V.$$typeof){case s:case e:Be=!0;break;case A:return Be=V._init,K(Be(V._payload),J,ce,se,_e)}}if(Be)return _e=_e(V),Be=se===""?"."+nt(V,0):se,ut(_e)?(ce="",Be!=null&&(ce=Be.replace(R,"$&/")+"/"),K(_e,J,ce,"",function(bn){return bn})):_e!=null&&(O(_e)&&(_e=U(_e,ce+(_e.key==null||V&&V.key===_e.key?"":(""+_e.key).replace(R,"$&/")+"/")+Be)),J.push(_e)),1;Be=0;var Mt=se===""?".":se+":";if(ut(V))for(var _t=0;_t<V.length;_t++)se=V[_t],ie=Mt+nt(se,_t),Be+=K(se,J,ce,ie,_e);else if(_t=Y(V),typeof _t=="function")for(V=_t.call(V),_t=0;!(se=V.next()).done;)se=se.value,ie=Mt+nt(se,_t++),Be+=K(se,J,ce,ie,_e);else if(ie==="object"){if(typeof V.then=="function")return K(Ot(V),J,ce,se,_e);throw J=String(V),Error("Objects are not valid as a React child (found: "+(J==="[object Object]"?"object with keys {"+Object.keys(V).join(", ")+"}":J)+"). If you meant to render a collection of children, use an array instead.")}return Be}function le(V,J,ce){if(V==null)return V;var se=[],_e=0;return K(V,se,"","",function(ie){return J.call(ce,ie,_e++)}),se}function Te(V){if(V._status===-1){var J=V._result;J=J(),J.then(function(ce){(V._status===0||V._status===-1)&&(V._status=1,V._result=ce)},function(ce){(V._status===0||V._status===-1)&&(V._status=2,V._result=ce)}),V._status===-1&&(V._status=0,V._result=J)}if(V._status===1)return V._result.default;throw V._result}var qe=typeof reportError=="function"?reportError:function(V){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var J=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof V=="object"&&V!==null&&typeof V.message=="string"?String(V.message):String(V),error:V});if(!window.dispatchEvent(J))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",V);return}console.error(V)},ct={map:le,forEach:function(V,J,ce){le(V,function(){J.apply(this,arguments)},ce)},count:function(V){var J=0;return le(V,function(){J++}),J},toArray:function(V){return le(V,function(J){return J})||[]},only:function(V){if(!O(V))throw Error("React.Children.only expected to receive a single React element child.");return V}};return Me.Activity=w,Me.Children=ct,Me.Component=Se,Me.Fragment=i,Me.Profiler=l,Me.PureComponent=Ne,Me.StrictMode=r,Me.Suspense=_,Me.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=D,Me.__COMPILER_RUNTIME={__proto__:null,c:function(V){return D.H.useMemoCache(V)}},Me.cache=function(V){return function(){return V.apply(null,arguments)}},Me.cacheSignal=function(){return null},Me.cloneElement=function(V,J,ce){if(V==null)throw Error("The argument must be a React element, but you passed "+V+".");var se=ue({},V.props),_e=V.key;if(J!=null)for(ie in J.key!==void 0&&(_e=""+J.key),J)!x.call(J,ie)||ie==="key"||ie==="__self"||ie==="__source"||ie==="ref"&&J.ref===void 0||(se[ie]=J[ie]);var ie=arguments.length-2;if(ie===1)se.children=ce;else if(1<ie){for(var Be=Array(ie),Mt=0;Mt<ie;Mt++)Be[Mt]=arguments[Mt+2];se.children=Be}return N(V.type,_e,se)},Me.createContext=function(V){return V={$$typeof:d,_currentValue:V,_currentValue2:V,_threadCount:0,Provider:null,Consumer:null},V.Provider=V,V.Consumer={$$typeof:c,_context:V},V},Me.createElement=function(V,J,ce){var se,_e={},ie=null;if(J!=null)for(se in J.key!==void 0&&(ie=""+J.key),J)x.call(J,se)&&se!=="key"&&se!=="__self"&&se!=="__source"&&(_e[se]=J[se]);var Be=arguments.length-2;if(Be===1)_e.children=ce;else if(1<Be){for(var Mt=Array(Be),_t=0;_t<Be;_t++)Mt[_t]=arguments[_t+2];_e.children=Mt}if(V&&V.defaultProps)for(se in Be=V.defaultProps,Be)_e[se]===void 0&&(_e[se]=Be[se]);return N(V,ie,_e)},Me.createRef=function(){return{current:null}},Me.forwardRef=function(V){return{$$typeof:p,render:V}},Me.isValidElement=O,Me.lazy=function(V){return{$$typeof:A,_payload:{_status:-1,_result:V},_init:Te}},Me.memo=function(V,J){return{$$typeof:y,type:V,compare:J===void 0?null:J}},Me.startTransition=function(V){var J=D.T,ce={};D.T=ce;try{var se=V(),_e=D.S;_e!==null&&_e(ce,se),typeof se=="object"&&se!==null&&typeof se.then=="function"&&se.then(Ze,qe)}catch(ie){qe(ie)}finally{J!==null&&ce.types!==null&&(J.types=ce.types),D.T=J}},Me.unstable_useCacheRefresh=function(){return D.H.useCacheRefresh()},Me.use=function(V){return D.H.use(V)},Me.useActionState=function(V,J,ce){return D.H.useActionState(V,J,ce)},Me.useCallback=function(V,J){return D.H.useCallback(V,J)},Me.useContext=function(V){return D.H.useContext(V)},Me.useDebugValue=function(){},Me.useDeferredValue=function(V,J){return D.H.useDeferredValue(V,J)},Me.useEffect=function(V,J){return D.H.useEffect(V,J)},Me.useEffectEvent=function(V){return D.H.useEffectEvent(V)},Me.useId=function(){return D.H.useId()},Me.useImperativeHandle=function(V,J,ce){return D.H.useImperativeHandle(V,J,ce)},Me.useInsertionEffect=function(V,J){return D.H.useInsertionEffect(V,J)},Me.useLayoutEffect=function(V,J){return D.H.useLayoutEffect(V,J)},Me.useMemo=function(V,J){return D.H.useMemo(V,J)},Me.useOptimistic=function(V,J){return D.H.useOptimistic(V,J)},Me.useReducer=function(V,J,ce){return D.H.useReducer(V,J,ce)},Me.useRef=function(V){return D.H.useRef(V)},Me.useState=function(V){return D.H.useState(V)},Me.useSyncExternalStore=function(V,J,ce){return D.H.useSyncExternalStore(V,J,ce)},Me.useTransition=function(){return D.H.useTransition()},Me.version="19.2.0",Me}var l0;function jm(){return l0||(l0=1,Xd.exports=Zb()),Xd.exports}var Ue=jm();const Jb=Kb(Ue);var $d={exports:{}},Gl={},Zd={exports:{}},Jd={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var u0;function Wb(){return u0||(u0=1,(function(s){function e(K,le){var Te=K.length;K.push(le);e:for(;0<Te;){var qe=Te-1>>>1,ct=K[qe];if(0<l(ct,le))K[qe]=le,K[Te]=ct,Te=qe;else break e}}function i(K){return K.length===0?null:K[0]}function r(K){if(K.length===0)return null;var le=K[0],Te=K.pop();if(Te!==le){K[0]=Te;e:for(var qe=0,ct=K.length,V=ct>>>1;qe<V;){var J=2*(qe+1)-1,ce=K[J],se=J+1,_e=K[se];if(0>l(ce,Te))se<ct&&0>l(_e,ce)?(K[qe]=_e,K[se]=Te,qe=se):(K[qe]=ce,K[J]=Te,qe=J);else if(se<ct&&0>l(_e,Te))K[qe]=_e,K[se]=Te,qe=se;else break e}}return le}function l(K,le){var Te=K.sortIndex-le.sortIndex;return Te!==0?Te:K.id-le.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;s.unstable_now=function(){return c.now()}}else{var d=Date,p=d.now();s.unstable_now=function(){return d.now()-p}}var _=[],y=[],A=1,w=null,C=3,Y=!1,re=!1,ue=!1,ae=!1,Se=typeof setTimeout=="function"?setTimeout:null,De=typeof clearTimeout=="function"?clearTimeout:null,Ne=typeof setImmediate<"u"?setImmediate:null;function We(K){for(var le=i(y);le!==null;){if(le.callback===null)r(y);else if(le.startTime<=K)r(y),le.sortIndex=le.expirationTime,e(_,le);else break;le=i(y)}}function ut(K){if(ue=!1,We(K),!re)if(i(_)!==null)re=!0,Ze||(Ze=!0,k());else{var le=i(y);le!==null&&Ot(ut,le.startTime-K)}}var Ze=!1,D=-1,x=5,N=-1;function U(){return ae?!0:!(s.unstable_now()-N<x)}function O(){if(ae=!1,Ze){var K=s.unstable_now();N=K;var le=!0;try{e:{re=!1,ue&&(ue=!1,De(D),D=-1),Y=!0;var Te=C;try{t:{for(We(K),w=i(_);w!==null&&!(w.expirationTime>K&&U());){var qe=w.callback;if(typeof qe=="function"){w.callback=null,C=w.priorityLevel;var ct=qe(w.expirationTime<=K);if(K=s.unstable_now(),typeof ct=="function"){w.callback=ct,We(K),le=!0;break t}w===i(_)&&r(_),We(K)}else r(_);w=i(_)}if(w!==null)le=!0;else{var V=i(y);V!==null&&Ot(ut,V.startTime-K),le=!1}}break e}finally{w=null,C=Te,Y=!1}le=void 0}}finally{le?k():Ze=!1}}}var k;if(typeof Ne=="function")k=function(){Ne(O)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,nt=R.port2;R.port1.onmessage=O,k=function(){nt.postMessage(null)}}else k=function(){Se(O,0)};function Ot(K,le){D=Se(function(){K(s.unstable_now())},le)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(K){K.callback=null},s.unstable_forceFrameRate=function(K){0>K||125<K?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):x=0<K?Math.floor(1e3/K):5},s.unstable_getCurrentPriorityLevel=function(){return C},s.unstable_next=function(K){switch(C){case 1:case 2:case 3:var le=3;break;default:le=C}var Te=C;C=le;try{return K()}finally{C=Te}},s.unstable_requestPaint=function(){ae=!0},s.unstable_runWithPriority=function(K,le){switch(K){case 1:case 2:case 3:case 4:case 5:break;default:K=3}var Te=C;C=K;try{return le()}finally{C=Te}},s.unstable_scheduleCallback=function(K,le,Te){var qe=s.unstable_now();switch(typeof Te=="object"&&Te!==null?(Te=Te.delay,Te=typeof Te=="number"&&0<Te?qe+Te:qe):Te=qe,K){case 1:var ct=-1;break;case 2:ct=250;break;case 5:ct=1073741823;break;case 4:ct=1e4;break;default:ct=5e3}return ct=Te+ct,K={id:A++,callback:le,priorityLevel:K,startTime:Te,expirationTime:ct,sortIndex:-1},Te>qe?(K.sortIndex=Te,e(y,K),i(_)===null&&K===i(y)&&(ue?(De(D),D=-1):ue=!0,Ot(ut,Te-qe))):(K.sortIndex=ct,e(_,K),re||Y||(re=!0,Ze||(Ze=!0,k()))),K},s.unstable_shouldYield=U,s.unstable_wrapCallback=function(K){var le=C;return function(){var Te=C;C=le;try{return K.apply(this,arguments)}finally{C=Te}}}})(Jd)),Jd}var c0;function eA(){return c0||(c0=1,Zd.exports=Wb()),Zd.exports}var Wd={exports:{}},_n={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var h0;function tA(){if(h0)return _n;h0=1;var s=jm();function e(_){var y="https://react.dev/errors/"+_;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var A=2;A<arguments.length;A++)y+="&args[]="+encodeURIComponent(arguments[A])}return"Minified React error #"+_+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var r={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},l=Symbol.for("react.portal");function c(_,y,A){var w=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:w==null?null:""+w,children:_,containerInfo:y,implementation:A}}var d=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(_,y){if(_==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return _n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,_n.createPortal=function(_,y){var A=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(e(299));return c(_,y,null,A)},_n.flushSync=function(_){var y=d.T,A=r.p;try{if(d.T=null,r.p=2,_)return _()}finally{d.T=y,r.p=A,r.d.f()}},_n.preconnect=function(_,y){typeof _=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,r.d.C(_,y))},_n.prefetchDNS=function(_){typeof _=="string"&&r.d.D(_)},_n.preinit=function(_,y){if(typeof _=="string"&&y&&typeof y.as=="string"){var A=y.as,w=p(A,y.crossOrigin),C=typeof y.integrity=="string"?y.integrity:void 0,Y=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;A==="style"?r.d.S(_,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:w,integrity:C,fetchPriority:Y}):A==="script"&&r.d.X(_,{crossOrigin:w,integrity:C,fetchPriority:Y,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},_n.preinitModule=function(_,y){if(typeof _=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var A=p(y.as,y.crossOrigin);r.d.M(_,{crossOrigin:A,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&r.d.M(_)},_n.preload=function(_,y){if(typeof _=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var A=y.as,w=p(A,y.crossOrigin);r.d.L(_,A,{crossOrigin:w,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},_n.preloadModule=function(_,y){if(typeof _=="string")if(y){var A=p(y.as,y.crossOrigin);r.d.m(_,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:A,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else r.d.m(_)},_n.requestFormReset=function(_){r.d.r(_)},_n.unstable_batchedUpdates=function(_,y){return _(y)},_n.useFormState=function(_,y,A){return d.H.useFormState(_,y,A)},_n.useFormStatus=function(){return d.H.useHostTransitionStatus()},_n.version="19.2.0",_n}var f0;function nA(){if(f0)return Wd.exports;f0=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),Wd.exports=tA(),Wd.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var d0;function iA(){if(d0)return Gl;d0=1;var s=eA(),e=jm(),i=nA();function r(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)n+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function c(t){var n=t,a=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(a=n.return),t=n.return;while(t)}return n.tag===3?a:null}function d(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function p(t){if(t.tag===31){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function _(t){if(c(t)!==t)throw Error(r(188))}function y(t){var n=t.alternate;if(!n){if(n=c(t),n===null)throw Error(r(188));return n!==t?null:t}for(var a=t,o=n;;){var h=a.return;if(h===null)break;var f=h.alternate;if(f===null){if(o=h.return,o!==null){a=o;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===a)return _(h),t;if(f===o)return _(h),n;f=f.sibling}throw Error(r(188))}if(a.return!==o.return)a=h,o=f;else{for(var g=!1,T=h.child;T;){if(T===a){g=!0,a=h,o=f;break}if(T===o){g=!0,o=h,a=f;break}T=T.sibling}if(!g){for(T=f.child;T;){if(T===a){g=!0,a=f,o=h;break}if(T===o){g=!0,o=f,a=h;break}T=T.sibling}if(!g)throw Error(r(189))}}if(a.alternate!==o)throw Error(r(190))}if(a.tag!==3)throw Error(r(188));return a.stateNode.current===a?t:n}function A(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=A(t),n!==null)return n;t=t.sibling}return null}var w=Object.assign,C=Symbol.for("react.element"),Y=Symbol.for("react.transitional.element"),re=Symbol.for("react.portal"),ue=Symbol.for("react.fragment"),ae=Symbol.for("react.strict_mode"),Se=Symbol.for("react.profiler"),De=Symbol.for("react.consumer"),Ne=Symbol.for("react.context"),We=Symbol.for("react.forward_ref"),ut=Symbol.for("react.suspense"),Ze=Symbol.for("react.suspense_list"),D=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),N=Symbol.for("react.activity"),U=Symbol.for("react.memo_cache_sentinel"),O=Symbol.iterator;function k(t){return t===null||typeof t!="object"?null:(t=O&&t[O]||t["@@iterator"],typeof t=="function"?t:null)}var R=Symbol.for("react.client.reference");function nt(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===R?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case ue:return"Fragment";case Se:return"Profiler";case ae:return"StrictMode";case ut:return"Suspense";case Ze:return"SuspenseList";case N:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case re:return"Portal";case Ne:return t.displayName||"Context";case De:return(t._context.displayName||"Context")+".Consumer";case We:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case D:return n=t.displayName||null,n!==null?n:nt(t.type)||"Memo";case x:n=t._payload,t=t._init;try{return nt(t(n))}catch{}}return null}var Ot=Array.isArray,K=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,le=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Te={pending:!1,data:null,method:null,action:null},qe=[],ct=-1;function V(t){return{current:t}}function J(t){0>ct||(t.current=qe[ct],qe[ct]=null,ct--)}function ce(t,n){ct++,qe[ct]=t.current,t.current=n}var se=V(null),_e=V(null),ie=V(null),Be=V(null);function Mt(t,n){switch(ce(ie,n),ce(_e,t),ce(se,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?N_(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=N_(n),t=I_(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}J(se),ce(se,t)}function _t(){J(se),J(_e),J(ie)}function bn(t){t.memoizedState!==null&&ce(Be,t);var n=se.current,a=I_(n,t.type);n!==a&&(ce(_e,t),ce(se,a))}function us(t){_e.current===t&&(J(se),J(_e)),Be.current===t&&(J(Be),zl._currentValue=Te)}var zi,Hs;function Tt(t){if(zi===void 0)try{throw Error()}catch(a){var n=a.stack.trim().match(/\n( *(at )?)/);zi=n&&n[1]||"",Hs=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+zi+t+Hs}var cs=!1;function hs(t,n){if(!t||cs)return"";cs=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(n){var W=function(){throw Error()};if(Object.defineProperty(W.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(W,[])}catch(Q){var q=Q}Reflect.construct(t,[],W)}else{try{W.call()}catch(Q){q=Q}t.call(W.prototype)}}else{try{throw Error()}catch(Q){q=Q}(W=t())&&typeof W.catch=="function"&&W.catch(function(){})}}catch(Q){if(Q&&q&&typeof Q.stack=="string")return[Q.stack,q.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=o.DetermineComponentFrameRoot(),g=f[0],T=f[1];if(g&&T){var I=g.split(`
`),B=T.split(`
`);for(h=o=0;o<I.length&&!I[o].includes("DetermineComponentFrameRoot");)o++;for(;h<B.length&&!B[h].includes("DetermineComponentFrameRoot");)h++;if(o===I.length||h===B.length)for(o=I.length-1,h=B.length-1;1<=o&&0<=h&&I[o]!==B[h];)h--;for(;1<=o&&0<=h;o--,h--)if(I[o]!==B[h]){if(o!==1||h!==1)do if(o--,h--,0>h||I[o]!==B[h]){var X=`
`+I[o].replace(" at new "," at ");return t.displayName&&X.includes("<anonymous>")&&(X=X.replace("<anonymous>",t.displayName)),X}while(1<=o&&0<=h);break}}}finally{cs=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?Tt(a):""}function Gr(t,n){switch(t.tag){case 26:case 27:case 5:return Tt(t.type);case 16:return Tt("Lazy");case 13:return t.child!==n&&n!==null?Tt("Suspense Fallback"):Tt("Suspense");case 19:return Tt("SuspenseList");case 0:case 15:return hs(t.type,!1);case 11:return hs(t.type.render,!1);case 1:return hs(t.type,!0);case 31:return Tt("Activity");default:return""}}function Ai(t){try{var n="",a=null;do n+=Gr(t,a),a=t,t=t.return;while(t);return n}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}var It=Object.prototype.hasOwnProperty,it=s.unstable_scheduleCallback,Bi=s.unstable_cancelCallback,Fs=s.unstable_shouldYield,An=s.unstable_requestPaint,Ft=s.unstable_now,Pe=s.unstable_getCurrentPriorityLevel,Qr=s.unstable_ImmediatePriority,Si=s.unstable_UserBlockingPriority,ii=s.unstable_NormalPriority,Yr=s.unstable_LowPriority,Gs=s.unstable_IdlePriority,Pa=s.log,La=s.unstable_setDisableYieldValue,zn=null,en=null;function Cn(t){if(typeof Pa=="function"&&La(t),en&&typeof en.setStrictMode=="function")try{en.setStrictMode(zn,t)}catch{}}var bt=Math.clz32?Math.clz32:Bn,ka=Math.log,Qs=Math.LN2;function Bn(t){return t>>>=0,t===0?32:31-(ka(t)/Qs|0)|0}var tn=256,Sn=262144,Vt=4194304;function si(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function ri(t,n,a){var o=t.pendingLanes;if(o===0)return 0;var h=0,f=t.suspendedLanes,g=t.pingedLanes;t=t.warmLanes;var T=o&134217727;return T!==0?(o=T&~f,o!==0?h=si(o):(g&=T,g!==0?h=si(g):a||(a=T&~t,a!==0&&(h=si(a))))):(T=o&~f,T!==0?h=si(T):g!==0?h=si(g):a||(a=o&~t,a!==0&&(h=si(a)))),h===0?0:n!==0&&n!==h&&(n&f)===0&&(f=h&-h,a=n&-n,f>=a||f===32&&(a&4194048)!==0)?n:h}function qn(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function Zo(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ja(){var t=Vt;return Vt<<=1,(Vt&62914560)===0&&(Vt=4194304),t}function ai(t){for(var n=[],a=0;31>a;a++)n.push(t);return n}function fs(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Jo(t,n,a,o,h,f){var g=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var T=t.entanglements,I=t.expirationTimes,B=t.hiddenUpdates;for(a=g&~a;0<a;){var X=31-bt(a),W=1<<X;T[X]=0,I[X]=-1;var q=B[X];if(q!==null)for(B[X]=null,X=0;X<q.length;X++){var Q=q[X];Q!==null&&(Q.lane&=-536870913)}a&=~W}o!==0&&jt(t,o,0),f!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=f&~(g&~n))}function jt(t,n,a){t.pendingLanes|=n,t.suspendedLanes&=~n;var o=31-bt(n);t.entangledLanes|=n,t.entanglements[o]=t.entanglements[o]|1073741824|a&261930}function wi(t,n){var a=t.entangledLanes|=n;for(t=t.entanglements;a;){var o=31-bt(a),h=1<<o;h&n|t[o]&n&&(t[o]|=n),a&=~h}}function Ys(t,n){var a=n&-n;return a=(a&42)!==0?1:qi(a),(a&(t.suspendedLanes|n))!==0?0:a}function qi(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function xi(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Kr(){var t=le.p;return t!==0?t:(t=window.event,t===void 0?32:J_(t.type))}function Hn(t,n){var a=le.p;try{return le.p=t,n()}finally{le.p=a}}var Fn=Math.random().toString(36).slice(2),Ut="__reactFiber$"+Fn,xt="__reactProps$"+Fn,Gn="__reactContainer$"+Fn,Ks="__reactEvents$"+Fn,Xr="__reactListeners$"+Fn,za="__reactHandles$"+Fn,$r="__reactResources$"+Fn,Qn="__reactMarker$"+Fn;function Xs(t){delete t[Ut],delete t[xt],delete t[Ks],delete t[Xr],delete t[za]}function oi(t){var n=t[Ut];if(n)return n;for(var a=t.parentNode;a;){if(n=a[Gn]||a[Ut]){if(a=n.alternate,n.child!==null||a!==null&&a.child!==null)for(t=P_(t);t!==null;){if(a=t[Ut])return a;t=P_(t)}return n}t=a,a=t.parentNode}return null}function Dn(t){if(t=t[Ut]||t[Gn]){var n=t.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return t}return null}function wn(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(r(33))}function li(t){var n=t[$r];return n||(n=t[$r]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function Pt(t){t[Qn]=!0}var Zr=new Set,Jr={};function ui(t,n){ci(t,n),ci(t+"Capture",n)}function ci(t,n){for(Jr[t]=n,t=0;t<n.length;t++)Zr.add(n[t])}var Wr=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ea={},S={};function H(t){return It.call(S,t)?!0:It.call(ea,t)?!1:Wr.test(t)?S[t]=!0:(ea[t]=!0,!1)}function F(t,n,a){if(H(n))if(a===null)t.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var o=n.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+a)}}function P(t,n,a){if(a===null)t.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+a)}}function te(t,n,a,o){if(o===null)t.removeAttribute(a);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(n,a,""+o)}}function ne(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function ye(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function fe(t,n,a){var o=Object.getOwnPropertyDescriptor(t.constructor.prototype,n);if(!t.hasOwnProperty(n)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var h=o.get,f=o.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return h.call(this)},set:function(g){a=""+g,f.call(this,g)}}),Object.defineProperty(t,n,{enumerable:o.enumerable}),{getValue:function(){return a},setValue:function(g){a=""+g},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function me(t){if(!t._valueTracker){var n=ye(t)?"checked":"value";t._valueTracker=fe(t,n,""+t[n])}}function de(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var a=n.getValue(),o="";return t&&(o=ye(t)?t.checked?"true":"false":t.value),t=o,t!==a?(n.setValue(t),!0):!1}function Ee(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var xe=/[\n"\\]/g;function st(t){return t.replace(xe,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function Ge(t,n,a,o,h,f,g,T){t.name="",g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"?t.type=g:t.removeAttribute("type"),n!=null?g==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+ne(n)):t.value!==""+ne(n)&&(t.value=""+ne(n)):g!=="submit"&&g!=="reset"||t.removeAttribute("value"),n!=null?Ba(t,g,ne(n)):a!=null?Ba(t,g,ne(a)):o!=null&&t.removeAttribute("value"),h==null&&f!=null&&(t.defaultChecked=!!f),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?t.name=""+ne(T):t.removeAttribute("name")}function rn(t,n,a,o,h,f,g,T){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),n!=null||a!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){me(t);return}a=a!=null?""+ne(a):"",n=n!=null?""+ne(n):a,T||n===t.value||(t.value=n),t.defaultValue=n}o=o??h,o=typeof o!="function"&&typeof o!="symbol"&&!!o,t.checked=T?t.checked:!!o,t.defaultChecked=!!o,g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(t.name=g),me(t)}function Ba(t,n,a){n==="number"&&Ee(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function ds(t,n,a,o){if(t=t.options,n){n={};for(var h=0;h<a.length;h++)n["$"+a[h]]=!0;for(a=0;a<t.length;a++)h=n.hasOwnProperty("$"+t[a].value),t[a].selected!==h&&(t[a].selected=h),h&&o&&(t[a].defaultSelected=!0)}else{for(a=""+ne(a),n=null,h=0;h<t.length;h++){if(t[h].value===a){t[h].selected=!0,o&&(t[h].defaultSelected=!0);return}n!==null||t[h].disabled||(n=t[h])}n!==null&&(n.selected=!0)}}function Wo(t,n,a){if(n!=null&&(n=""+ne(n),n!==t.value&&(t.value=n),a==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=a!=null?""+ne(a):""}function Gt(t,n,a,o){if(n==null){if(o!=null){if(a!=null)throw Error(r(92));if(Ot(o)){if(1<o.length)throw Error(r(93));o=o[0]}a=o}a==null&&(a=""),n=a}a=ne(n),t.defaultValue=a,o=t.textContent,o===a&&o!==""&&o!==null&&(t.value=o),me(t)}function On(t,n){if(n){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=n;return}}t.textContent=n}var Du=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function el(t,n,a){var o=n.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?o?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":o?t.setProperty(n,a):typeof a!="number"||a===0||Du.has(n)?n==="float"?t.cssFloat=a:t[n]=(""+a).trim():t[n]=a+"px"}function tl(t,n,a){if(n!=null&&typeof n!="object")throw Error(r(62));if(t=t.style,a!=null){for(var o in a)!a.hasOwnProperty(o)||n!=null&&n.hasOwnProperty(o)||(o.indexOf("--")===0?t.setProperty(o,""):o==="float"?t.cssFloat="":t[o]="");for(var h in n)o=n[h],n.hasOwnProperty(h)&&a[h]!==o&&el(t,h,o)}else for(var f in n)n.hasOwnProperty(f)&&el(t,f,n[f])}function qa(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ou=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),$s=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ha(t){return $s.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function Ri(){}var nl=null;function hi(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Zs=null,Hi=null;function ta(t){var n=Dn(t);if(n&&(t=n.stateNode)){var a=t[xt]||null;e:switch(t=n.stateNode,n.type){case"input":if(Ge(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),n=a.name,a.type==="radio"&&n!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+st(""+n)+'"][type="radio"]'),n=0;n<a.length;n++){var o=a[n];if(o!==t&&o.form===t.form){var h=o[xt]||null;if(!h)throw Error(r(90));Ge(o,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<a.length;n++)o=a[n],o.form===t.form&&de(o)}break e;case"textarea":Wo(t,a.value,a.defaultValue);break e;case"select":n=a.value,n!=null&&ds(t,!!a.multiple,n,!1)}}}var Fa=!1;function Js(t,n,a){if(Fa)return t(n,a);Fa=!0;try{var o=t(n);return o}finally{if(Fa=!1,(Zs!==null||Hi!==null)&&(wc(),Zs&&(n=Zs,t=Hi,Hi=Zs=null,ta(n),t)))for(n=0;n<t.length;n++)ta(t[n])}}function Ni(t,n){var a=t.stateNode;if(a===null)return null;var o=a[xt]||null;if(o===null)return null;a=o[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(t=t.type,o=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!o;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(r(231,n,typeof a));return a}var fi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),na=!1;if(fi)try{var dt={};Object.defineProperty(dt,"passive",{get:function(){na=!0}}),window.addEventListener("test",dt,dt),window.removeEventListener("test",dt,dt)}catch{na=!1}var Fi=null,il=null,ia=null;function sl(){if(ia)return ia;var t,n=il,a=n.length,o,h="value"in Fi?Fi.value:Fi.textContent,f=h.length;for(t=0;t<a&&n[t]===h[t];t++);var g=a-t;for(o=1;o<=g&&n[a-o]===h[f-o];o++);return ia=h.slice(t,1<o?1-o:void 0)}function sa(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function ms(){return!0}function Ii(){return!1}function un(t){function n(a,o,h,f,g){this._reactName=a,this._targetInst=h,this.type=o,this.nativeEvent=f,this.target=g,this.currentTarget=null;for(var T in t)t.hasOwnProperty(T)&&(a=t[T],this[T]=a?a(f):f[T]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?ms:Ii,this.isPropagationStopped=Ii,this}return w(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=ms)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=ms)},persist:function(){},isPersistent:ms}),n}var gs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Gi=un(gs),Ws=w({},gs,{view:0,detail:0}),rl=un(Ws),er,Ga,Qi,Qa=w({},Ws,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:tr,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Qi&&(Qi&&t.type==="mousemove"?(er=t.screenX-Qi.screenX,Ga=t.screenY-Qi.screenY):Ga=er=0,Qi=t),er)},movementY:function(t){return"movementY"in t?t.movementY:Ga}}),al=un(Qa),ra=w({},Qa,{dataTransfer:0}),Mu=un(ra),Vu=w({},Ws,{relatedTarget:0}),aa=un(Vu),ol=w({},gs,{animationName:0,elapsedTime:0,pseudoElement:0}),Uu=un(ol),Ya=w({},gs,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Pu=un(Ya),Lu=w({},gs,{data:0}),Yi=un(Lu),ku={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ju={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},zu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Bu(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=zu[t])?!!n[t]:!1}function tr(){return Bu}var xn=w({},Ws,{key:function(t){if(t.key){var n=ku[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=sa(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?ju[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:tr,charCode:function(t){return t.type==="keypress"?sa(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?sa(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),qu=un(xn),Hu=w({},Qa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ps=un(Hu),u=w({},Ws,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:tr}),m=un(u),v=w({},gs,{propertyName:0,elapsedTime:0,pseudoElement:0}),b=un(v),j=w({},Qa,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),G=un(j),oe=w({},gs,{newState:0,oldState:0}),ke=un(oe),zt=[9,13,27,32],ot=fi&&"CompositionEvent"in window,Rt=null;fi&&"documentMode"in document&&(Rt=document.documentMode);var di=fi&&"TextEvent"in window&&!Rt,Ki=fi&&(!ot||Rt&&8<Rt&&11>=Rt),Ci=" ",Di=!1;function oa(t,n){switch(t){case"keyup":return zt.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ka(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Xa=!1;function _1(t,n){switch(t){case"compositionend":return Ka(n);case"keypress":return n.which!==32?null:(Di=!0,Ci);case"textInput":return t=n.data,t===Ci&&Di?null:t;default:return null}}function v1(t,n){if(Xa)return t==="compositionend"||!ot&&oa(t,n)?(t=sl(),ia=il=Fi=null,Xa=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return Ki&&n.locale!=="ko"?null:n.data;default:return null}}var E1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function jg(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!E1[t.type]:n==="textarea"}function zg(t,n,a,o){Zs?Hi?Hi.push(o):Hi=[o]:Zs=o,n=Oc(n,"onChange"),0<n.length&&(a=new Gi("onChange","change",null,a,o),t.push({event:a,listeners:n}))}var ll=null,ul=null;function T1(t){b_(t,0)}function Fu(t){var n=wn(t);if(de(n))return t}function Bg(t,n){if(t==="change")return n}var qg=!1;if(fi){var ef;if(fi){var tf="oninput"in document;if(!tf){var Hg=document.createElement("div");Hg.setAttribute("oninput","return;"),tf=typeof Hg.oninput=="function"}ef=tf}else ef=!1;qg=ef&&(!document.documentMode||9<document.documentMode)}function Fg(){ll&&(ll.detachEvent("onpropertychange",Gg),ul=ll=null)}function Gg(t){if(t.propertyName==="value"&&Fu(ul)){var n=[];zg(n,ul,t,hi(t)),Js(T1,n)}}function b1(t,n,a){t==="focusin"?(Fg(),ll=n,ul=a,ll.attachEvent("onpropertychange",Gg)):t==="focusout"&&Fg()}function A1(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Fu(ul)}function S1(t,n){if(t==="click")return Fu(n)}function w1(t,n){if(t==="input"||t==="change")return Fu(n)}function x1(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var Yn=typeof Object.is=="function"?Object.is:x1;function cl(t,n){if(Yn(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var a=Object.keys(t),o=Object.keys(n);if(a.length!==o.length)return!1;for(o=0;o<a.length;o++){var h=a[o];if(!It.call(n,h)||!Yn(t[h],n[h]))return!1}return!0}function Qg(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Yg(t,n){var a=Qg(t);t=0;for(var o;a;){if(a.nodeType===3){if(o=t+a.textContent.length,t<=n&&o>=n)return{node:a,offset:n-t};t=o}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Qg(a)}}function Kg(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?Kg(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function Xg(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=Ee(t.document);n instanceof t.HTMLIFrameElement;){try{var a=typeof n.contentWindow.location.href=="string"}catch{a=!1}if(a)t=n.contentWindow;else break;n=Ee(t.document)}return n}function nf(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var R1=fi&&"documentMode"in document&&11>=document.documentMode,$a=null,sf=null,hl=null,rf=!1;function $g(t,n,a){var o=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;rf||$a==null||$a!==Ee(o)||(o=$a,"selectionStart"in o&&nf(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),hl&&cl(hl,o)||(hl=o,o=Oc(sf,"onSelect"),0<o.length&&(n=new Gi("onSelect","select",null,n,a),t.push({event:n,listeners:o}),n.target=$a)))}function la(t,n){var a={};return a[t.toLowerCase()]=n.toLowerCase(),a["Webkit"+t]="webkit"+n,a["Moz"+t]="moz"+n,a}var Za={animationend:la("Animation","AnimationEnd"),animationiteration:la("Animation","AnimationIteration"),animationstart:la("Animation","AnimationStart"),transitionrun:la("Transition","TransitionRun"),transitionstart:la("Transition","TransitionStart"),transitioncancel:la("Transition","TransitionCancel"),transitionend:la("Transition","TransitionEnd")},af={},Zg={};fi&&(Zg=document.createElement("div").style,"AnimationEvent"in window||(delete Za.animationend.animation,delete Za.animationiteration.animation,delete Za.animationstart.animation),"TransitionEvent"in window||delete Za.transitionend.transition);function ua(t){if(af[t])return af[t];if(!Za[t])return t;var n=Za[t],a;for(a in n)if(n.hasOwnProperty(a)&&a in Zg)return af[t]=n[a];return t}var Jg=ua("animationend"),Wg=ua("animationiteration"),ep=ua("animationstart"),N1=ua("transitionrun"),I1=ua("transitionstart"),C1=ua("transitioncancel"),tp=ua("transitionend"),np=new Map,of="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");of.push("scrollEnd");function Oi(t,n){np.set(t,n),ui(n,[t])}var Gu=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},mi=[],Ja=0,lf=0;function Qu(){for(var t=Ja,n=lf=Ja=0;n<t;){var a=mi[n];mi[n++]=null;var o=mi[n];mi[n++]=null;var h=mi[n];mi[n++]=null;var f=mi[n];if(mi[n++]=null,o!==null&&h!==null){var g=o.pending;g===null?h.next=h:(h.next=g.next,g.next=h),o.pending=h}f!==0&&ip(a,h,f)}}function Yu(t,n,a,o){mi[Ja++]=t,mi[Ja++]=n,mi[Ja++]=a,mi[Ja++]=o,lf|=o,t.lanes|=o,t=t.alternate,t!==null&&(t.lanes|=o)}function uf(t,n,a,o){return Yu(t,n,a,o),Ku(t)}function ca(t,n){return Yu(t,null,null,n),Ku(t)}function ip(t,n,a){t.lanes|=a;var o=t.alternate;o!==null&&(o.lanes|=a);for(var h=!1,f=t.return;f!==null;)f.childLanes|=a,o=f.alternate,o!==null&&(o.childLanes|=a),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(h=!0)),t=f,f=f.return;return t.tag===3?(f=t.stateNode,h&&n!==null&&(h=31-bt(a),t=f.hiddenUpdates,o=t[h],o===null?t[h]=[n]:o.push(n),n.lane=a|536870912),f):null}function Ku(t){if(50<Ml)throw Ml=0,_d=null,Error(r(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var Wa={};function D1(t,n,a,o){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Kn(t,n,a,o){return new D1(t,n,a,o)}function cf(t){return t=t.prototype,!(!t||!t.isReactComponent)}function ys(t,n){var a=t.alternate;return a===null?(a=Kn(t.tag,n,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=n,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,n=t.dependencies,a.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function sp(t,n){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,n=a.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function Xu(t,n,a,o,h,f){var g=0;if(o=t,typeof t=="function")cf(t)&&(g=1);else if(typeof t=="string")g=Pb(t,a,se.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case N:return t=Kn(31,a,n,h),t.elementType=N,t.lanes=f,t;case ue:return ha(a.children,h,f,n);case ae:g=8,h|=24;break;case Se:return t=Kn(12,a,n,h|2),t.elementType=Se,t.lanes=f,t;case ut:return t=Kn(13,a,n,h),t.elementType=ut,t.lanes=f,t;case Ze:return t=Kn(19,a,n,h),t.elementType=Ze,t.lanes=f,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Ne:g=10;break e;case De:g=9;break e;case We:g=11;break e;case D:g=14;break e;case x:g=16,o=null;break e}g=29,a=Error(r(130,t===null?"null":typeof t,"")),o=null}return n=Kn(g,a,n,h),n.elementType=t,n.type=o,n.lanes=f,n}function ha(t,n,a,o){return t=Kn(7,t,o,n),t.lanes=a,t}function hf(t,n,a){return t=Kn(6,t,null,n),t.lanes=a,t}function rp(t){var n=Kn(18,null,null,0);return n.stateNode=t,n}function ff(t,n,a){return n=Kn(4,t.children!==null?t.children:[],t.key,n),n.lanes=a,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var ap=new WeakMap;function gi(t,n){if(typeof t=="object"&&t!==null){var a=ap.get(t);return a!==void 0?a:(n={value:t,source:n,stack:Ai(n)},ap.set(t,n),n)}return{value:t,source:n,stack:Ai(n)}}var eo=[],to=0,$u=null,fl=0,pi=[],yi=0,nr=null,Xi=1,$i="";function _s(t,n){eo[to++]=fl,eo[to++]=$u,$u=t,fl=n}function op(t,n,a){pi[yi++]=Xi,pi[yi++]=$i,pi[yi++]=nr,nr=t;var o=Xi;t=$i;var h=32-bt(o)-1;o&=~(1<<h),a+=1;var f=32-bt(n)+h;if(30<f){var g=h-h%5;f=(o&(1<<g)-1).toString(32),o>>=g,h-=g,Xi=1<<32-bt(n)+h|a<<h|o,$i=f+t}else Xi=1<<f|a<<h|o,$i=t}function df(t){t.return!==null&&(_s(t,1),op(t,1,0))}function mf(t){for(;t===$u;)$u=eo[--to],eo[to]=null,fl=eo[--to],eo[to]=null;for(;t===nr;)nr=pi[--yi],pi[yi]=null,$i=pi[--yi],pi[yi]=null,Xi=pi[--yi],pi[yi]=null}function lp(t,n){pi[yi++]=Xi,pi[yi++]=$i,pi[yi++]=nr,Xi=n.id,$i=n.overflow,nr=t}var cn=null,At=null,Je=!1,ir=null,_i=!1,gf=Error(r(519));function sr(t){var n=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw dl(gi(n,t)),gf}function up(t){var n=t.stateNode,a=t.type,o=t.memoizedProps;switch(n[Ut]=t,n[xt]=o,a){case"dialog":Fe("cancel",n),Fe("close",n);break;case"iframe":case"object":case"embed":Fe("load",n);break;case"video":case"audio":for(a=0;a<Ul.length;a++)Fe(Ul[a],n);break;case"source":Fe("error",n);break;case"img":case"image":case"link":Fe("error",n),Fe("load",n);break;case"details":Fe("toggle",n);break;case"input":Fe("invalid",n),rn(n,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0);break;case"select":Fe("invalid",n);break;case"textarea":Fe("invalid",n),Gt(n,o.value,o.defaultValue,o.children)}a=o.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||n.textContent===""+a||o.suppressHydrationWarning===!0||x_(n.textContent,a)?(o.popover!=null&&(Fe("beforetoggle",n),Fe("toggle",n)),o.onScroll!=null&&Fe("scroll",n),o.onScrollEnd!=null&&Fe("scrollend",n),o.onClick!=null&&(n.onclick=Ri),n=!0):n=!1,n||sr(t,!0)}function cp(t){for(cn=t.return;cn;)switch(cn.tag){case 5:case 31:case 13:_i=!1;return;case 27:case 3:_i=!0;return;default:cn=cn.return}}function no(t){if(t!==cn)return!1;if(!Je)return cp(t),Je=!0,!1;var n=t.tag,a;if((a=n!==3&&n!==27)&&((a=n===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||Md(t.type,t.memoizedProps)),a=!a),a&&At&&sr(t),cp(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));At=U_(t)}else if(n===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));At=U_(t)}else n===27?(n=At,_r(t.type)?(t=kd,kd=null,At=t):At=n):At=cn?Ei(t.stateNode.nextSibling):null;return!0}function fa(){At=cn=null,Je=!1}function pf(){var t=ir;return t!==null&&(Pn===null?Pn=t:Pn.push.apply(Pn,t),ir=null),t}function dl(t){ir===null?ir=[t]:ir.push(t)}var yf=V(null),da=null,vs=null;function rr(t,n,a){ce(yf,n._currentValue),n._currentValue=a}function Es(t){t._currentValue=yf.current,J(yf)}function _f(t,n,a){for(;t!==null;){var o=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,o!==null&&(o.childLanes|=n)):o!==null&&(o.childLanes&n)!==n&&(o.childLanes|=n),t===a)break;t=t.return}}function vf(t,n,a,o){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var f=h.dependencies;if(f!==null){var g=h.child;f=f.firstContext;e:for(;f!==null;){var T=f;f=h;for(var I=0;I<n.length;I++)if(T.context===n[I]){f.lanes|=a,T=f.alternate,T!==null&&(T.lanes|=a),_f(f.return,a,t),o||(g=null);break e}f=T.next}}else if(h.tag===18){if(g=h.return,g===null)throw Error(r(341));g.lanes|=a,f=g.alternate,f!==null&&(f.lanes|=a),_f(g,a,t),g=null}else g=h.child;if(g!==null)g.return=h;else for(g=h;g!==null;){if(g===t){g=null;break}if(h=g.sibling,h!==null){h.return=g.return,g=h;break}g=g.return}h=g}}function io(t,n,a,o){t=null;for(var h=n,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var g=h.alternate;if(g===null)throw Error(r(387));if(g=g.memoizedProps,g!==null){var T=h.type;Yn(h.pendingProps.value,g.value)||(t!==null?t.push(T):t=[T])}}else if(h===Be.current){if(g=h.alternate,g===null)throw Error(r(387));g.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(zl):t=[zl])}h=h.return}t!==null&&vf(n,t,a,o),n.flags|=262144}function Zu(t){for(t=t.firstContext;t!==null;){if(!Yn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function ma(t){da=t,vs=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function hn(t){return hp(da,t)}function Ju(t,n){return da===null&&ma(t),hp(t,n)}function hp(t,n){var a=n._currentValue;if(n={context:n,memoizedValue:a,next:null},vs===null){if(t===null)throw Error(r(308));vs=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else vs=vs.next=n;return a}var O1=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(a,o){t.push(o)}};this.abort=function(){n.aborted=!0,t.forEach(function(a){return a()})}},M1=s.unstable_scheduleCallback,V1=s.unstable_NormalPriority,Qt={$$typeof:Ne,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Ef(){return{controller:new O1,data:new Map,refCount:0}}function ml(t){t.refCount--,t.refCount===0&&M1(V1,function(){t.controller.abort()})}var gl=null,Tf=0,so=0,ro=null;function U1(t,n){if(gl===null){var a=gl=[];Tf=0,so=Sd(),ro={status:"pending",value:void 0,then:function(o){a.push(o)}}}return Tf++,n.then(fp,fp),n}function fp(){if(--Tf===0&&gl!==null){ro!==null&&(ro.status="fulfilled");var t=gl;gl=null,so=0,ro=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function P1(t,n){var a=[],o={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return t.then(function(){o.status="fulfilled",o.value=n;for(var h=0;h<a.length;h++)(0,a[h])(n)},function(h){for(o.status="rejected",o.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),o}var dp=K.S;K.S=function(t,n){$y=Ft(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&U1(t,n),dp!==null&&dp(t,n)};var ga=V(null);function bf(){var t=ga.current;return t!==null?t:vt.pooledCache}function Wu(t,n){n===null?ce(ga,ga.current):ce(ga,n.pool)}function mp(){var t=bf();return t===null?null:{parent:Qt._currentValue,pool:t}}var ao=Error(r(460)),Af=Error(r(474)),ec=Error(r(542)),tc={then:function(){}};function gp(t){return t=t.status,t==="fulfilled"||t==="rejected"}function pp(t,n,a){switch(a=t[a],a===void 0?t.push(n):a!==n&&(n.then(Ri,Ri),n=a),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,_p(t),t;default:if(typeof n.status=="string")n.then(Ri,Ri);else{if(t=vt,t!==null&&100<t.shellSuspendCounter)throw Error(r(482));t=n,t.status="pending",t.then(function(o){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=o}},function(o){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=o}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,_p(t),t}throw ya=n,ao}}function pa(t){try{var n=t._init;return n(t._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(ya=a,ao):a}}var ya=null;function yp(){if(ya===null)throw Error(r(459));var t=ya;return ya=null,t}function _p(t){if(t===ao||t===ec)throw Error(r(483))}var oo=null,pl=0;function nc(t){var n=pl;return pl+=1,oo===null&&(oo=[]),pp(oo,t,n)}function yl(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function ic(t,n){throw n.$$typeof===C?Error(r(525)):(t=Object.prototype.toString.call(n),Error(r(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function vp(t){function n(L,M){if(t){var z=L.deletions;z===null?(L.deletions=[M],L.flags|=16):z.push(M)}}function a(L,M){if(!t)return null;for(;M!==null;)n(L,M),M=M.sibling;return null}function o(L){for(var M=new Map;L!==null;)L.key!==null?M.set(L.key,L):M.set(L.index,L),L=L.sibling;return M}function h(L,M){return L=ys(L,M),L.index=0,L.sibling=null,L}function f(L,M,z){return L.index=z,t?(z=L.alternate,z!==null?(z=z.index,z<M?(L.flags|=67108866,M):z):(L.flags|=67108866,M)):(L.flags|=1048576,M)}function g(L){return t&&L.alternate===null&&(L.flags|=67108866),L}function T(L,M,z,Z){return M===null||M.tag!==6?(M=hf(z,L.mode,Z),M.return=L,M):(M=h(M,z),M.return=L,M)}function I(L,M,z,Z){var Ae=z.type;return Ae===ue?X(L,M,z.props.children,Z,z.key):M!==null&&(M.elementType===Ae||typeof Ae=="object"&&Ae!==null&&Ae.$$typeof===x&&pa(Ae)===M.type)?(M=h(M,z.props),yl(M,z),M.return=L,M):(M=Xu(z.type,z.key,z.props,null,L.mode,Z),yl(M,z),M.return=L,M)}function B(L,M,z,Z){return M===null||M.tag!==4||M.stateNode.containerInfo!==z.containerInfo||M.stateNode.implementation!==z.implementation?(M=ff(z,L.mode,Z),M.return=L,M):(M=h(M,z.children||[]),M.return=L,M)}function X(L,M,z,Z,Ae){return M===null||M.tag!==7?(M=ha(z,L.mode,Z,Ae),M.return=L,M):(M=h(M,z),M.return=L,M)}function W(L,M,z){if(typeof M=="string"&&M!==""||typeof M=="number"||typeof M=="bigint")return M=hf(""+M,L.mode,z),M.return=L,M;if(typeof M=="object"&&M!==null){switch(M.$$typeof){case Y:return z=Xu(M.type,M.key,M.props,null,L.mode,z),yl(z,M),z.return=L,z;case re:return M=ff(M,L.mode,z),M.return=L,M;case x:return M=pa(M),W(L,M,z)}if(Ot(M)||k(M))return M=ha(M,L.mode,z,null),M.return=L,M;if(typeof M.then=="function")return W(L,nc(M),z);if(M.$$typeof===Ne)return W(L,Ju(L,M),z);ic(L,M)}return null}function q(L,M,z,Z){var Ae=M!==null?M.key:null;if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return Ae!==null?null:T(L,M,""+z,Z);if(typeof z=="object"&&z!==null){switch(z.$$typeof){case Y:return z.key===Ae?I(L,M,z,Z):null;case re:return z.key===Ae?B(L,M,z,Z):null;case x:return z=pa(z),q(L,M,z,Z)}if(Ot(z)||k(z))return Ae!==null?null:X(L,M,z,Z,null);if(typeof z.then=="function")return q(L,M,nc(z),Z);if(z.$$typeof===Ne)return q(L,M,Ju(L,z),Z);ic(L,z)}return null}function Q(L,M,z,Z,Ae){if(typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint")return L=L.get(z)||null,T(M,L,""+Z,Ae);if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case Y:return L=L.get(Z.key===null?z:Z.key)||null,I(M,L,Z,Ae);case re:return L=L.get(Z.key===null?z:Z.key)||null,B(M,L,Z,Ae);case x:return Z=pa(Z),Q(L,M,z,Z,Ae)}if(Ot(Z)||k(Z))return L=L.get(z)||null,X(M,L,Z,Ae,null);if(typeof Z.then=="function")return Q(L,M,z,nc(Z),Ae);if(Z.$$typeof===Ne)return Q(L,M,z,Ju(M,Z),Ae);ic(M,Z)}return null}function pe(L,M,z,Z){for(var Ae=null,rt=null,ve=M,ze=M=0,Ye=null;ve!==null&&ze<z.length;ze++){ve.index>ze?(Ye=ve,ve=null):Ye=ve.sibling;var at=q(L,ve,z[ze],Z);if(at===null){ve===null&&(ve=Ye);break}t&&ve&&at.alternate===null&&n(L,ve),M=f(at,M,ze),rt===null?Ae=at:rt.sibling=at,rt=at,ve=Ye}if(ze===z.length)return a(L,ve),Je&&_s(L,ze),Ae;if(ve===null){for(;ze<z.length;ze++)ve=W(L,z[ze],Z),ve!==null&&(M=f(ve,M,ze),rt===null?Ae=ve:rt.sibling=ve,rt=ve);return Je&&_s(L,ze),Ae}for(ve=o(ve);ze<z.length;ze++)Ye=Q(ve,L,ze,z[ze],Z),Ye!==null&&(t&&Ye.alternate!==null&&ve.delete(Ye.key===null?ze:Ye.key),M=f(Ye,M,ze),rt===null?Ae=Ye:rt.sibling=Ye,rt=Ye);return t&&ve.forEach(function(Ar){return n(L,Ar)}),Je&&_s(L,ze),Ae}function Re(L,M,z,Z){if(z==null)throw Error(r(151));for(var Ae=null,rt=null,ve=M,ze=M=0,Ye=null,at=z.next();ve!==null&&!at.done;ze++,at=z.next()){ve.index>ze?(Ye=ve,ve=null):Ye=ve.sibling;var Ar=q(L,ve,at.value,Z);if(Ar===null){ve===null&&(ve=Ye);break}t&&ve&&Ar.alternate===null&&n(L,ve),M=f(Ar,M,ze),rt===null?Ae=Ar:rt.sibling=Ar,rt=Ar,ve=Ye}if(at.done)return a(L,ve),Je&&_s(L,ze),Ae;if(ve===null){for(;!at.done;ze++,at=z.next())at=W(L,at.value,Z),at!==null&&(M=f(at,M,ze),rt===null?Ae=at:rt.sibling=at,rt=at);return Je&&_s(L,ze),Ae}for(ve=o(ve);!at.done;ze++,at=z.next())at=Q(ve,L,ze,at.value,Z),at!==null&&(t&&at.alternate!==null&&ve.delete(at.key===null?ze:at.key),M=f(at,M,ze),rt===null?Ae=at:rt.sibling=at,rt=at);return t&&ve.forEach(function(Yb){return n(L,Yb)}),Je&&_s(L,ze),Ae}function pt(L,M,z,Z){if(typeof z=="object"&&z!==null&&z.type===ue&&z.key===null&&(z=z.props.children),typeof z=="object"&&z!==null){switch(z.$$typeof){case Y:e:{for(var Ae=z.key;M!==null;){if(M.key===Ae){if(Ae=z.type,Ae===ue){if(M.tag===7){a(L,M.sibling),Z=h(M,z.props.children),Z.return=L,L=Z;break e}}else if(M.elementType===Ae||typeof Ae=="object"&&Ae!==null&&Ae.$$typeof===x&&pa(Ae)===M.type){a(L,M.sibling),Z=h(M,z.props),yl(Z,z),Z.return=L,L=Z;break e}a(L,M);break}else n(L,M);M=M.sibling}z.type===ue?(Z=ha(z.props.children,L.mode,Z,z.key),Z.return=L,L=Z):(Z=Xu(z.type,z.key,z.props,null,L.mode,Z),yl(Z,z),Z.return=L,L=Z)}return g(L);case re:e:{for(Ae=z.key;M!==null;){if(M.key===Ae)if(M.tag===4&&M.stateNode.containerInfo===z.containerInfo&&M.stateNode.implementation===z.implementation){a(L,M.sibling),Z=h(M,z.children||[]),Z.return=L,L=Z;break e}else{a(L,M);break}else n(L,M);M=M.sibling}Z=ff(z,L.mode,Z),Z.return=L,L=Z}return g(L);case x:return z=pa(z),pt(L,M,z,Z)}if(Ot(z))return pe(L,M,z,Z);if(k(z)){if(Ae=k(z),typeof Ae!="function")throw Error(r(150));return z=Ae.call(z),Re(L,M,z,Z)}if(typeof z.then=="function")return pt(L,M,nc(z),Z);if(z.$$typeof===Ne)return pt(L,M,Ju(L,z),Z);ic(L,z)}return typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint"?(z=""+z,M!==null&&M.tag===6?(a(L,M.sibling),Z=h(M,z),Z.return=L,L=Z):(a(L,M),Z=hf(z,L.mode,Z),Z.return=L,L=Z),g(L)):a(L,M)}return function(L,M,z,Z){try{pl=0;var Ae=pt(L,M,z,Z);return oo=null,Ae}catch(ve){if(ve===ao||ve===ec)throw ve;var rt=Kn(29,ve,null,L.mode);return rt.lanes=Z,rt.return=L,rt}finally{}}}var _a=vp(!0),Ep=vp(!1),ar=!1;function Sf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function wf(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function or(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function lr(t,n,a){var o=t.updateQueue;if(o===null)return null;if(o=o.shared,(lt&2)!==0){var h=o.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),o.pending=n,n=Ku(t),ip(t,null,a),n}return Yu(t,o,n,a),Ku(t)}function _l(t,n,a){if(n=n.updateQueue,n!==null&&(n=n.shared,(a&4194048)!==0)){var o=n.lanes;o&=t.pendingLanes,a|=o,n.lanes=a,wi(t,a)}}function xf(t,n){var a=t.updateQueue,o=t.alternate;if(o!==null&&(o=o.updateQueue,a===o)){var h=null,f=null;if(a=a.firstBaseUpdate,a!==null){do{var g={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};f===null?h=f=g:f=f.next=g,a=a.next}while(a!==null);f===null?h=f=n:f=f.next=n}else h=f=n;a={baseState:o.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:o.shared,callbacks:o.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=n:t.next=n,a.lastBaseUpdate=n}var Rf=!1;function vl(){if(Rf){var t=ro;if(t!==null)throw t}}function El(t,n,a,o){Rf=!1;var h=t.updateQueue;ar=!1;var f=h.firstBaseUpdate,g=h.lastBaseUpdate,T=h.shared.pending;if(T!==null){h.shared.pending=null;var I=T,B=I.next;I.next=null,g===null?f=B:g.next=B,g=I;var X=t.alternate;X!==null&&(X=X.updateQueue,T=X.lastBaseUpdate,T!==g&&(T===null?X.firstBaseUpdate=B:T.next=B,X.lastBaseUpdate=I))}if(f!==null){var W=h.baseState;g=0,X=B=I=null,T=f;do{var q=T.lane&-536870913,Q=q!==T.lane;if(Q?(Qe&q)===q:(o&q)===q){q!==0&&q===so&&(Rf=!0),X!==null&&(X=X.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});e:{var pe=t,Re=T;q=n;var pt=a;switch(Re.tag){case 1:if(pe=Re.payload,typeof pe=="function"){W=pe.call(pt,W,q);break e}W=pe;break e;case 3:pe.flags=pe.flags&-65537|128;case 0:if(pe=Re.payload,q=typeof pe=="function"?pe.call(pt,W,q):pe,q==null)break e;W=w({},W,q);break e;case 2:ar=!0}}q=T.callback,q!==null&&(t.flags|=64,Q&&(t.flags|=8192),Q=h.callbacks,Q===null?h.callbacks=[q]:Q.push(q))}else Q={lane:q,tag:T.tag,payload:T.payload,callback:T.callback,next:null},X===null?(B=X=Q,I=W):X=X.next=Q,g|=q;if(T=T.next,T===null){if(T=h.shared.pending,T===null)break;Q=T,T=Q.next,Q.next=null,h.lastBaseUpdate=Q,h.shared.pending=null}}while(!0);X===null&&(I=W),h.baseState=I,h.firstBaseUpdate=B,h.lastBaseUpdate=X,f===null&&(h.shared.lanes=0),dr|=g,t.lanes=g,t.memoizedState=W}}function Tp(t,n){if(typeof t!="function")throw Error(r(191,t));t.call(n)}function bp(t,n){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)Tp(a[t],n)}var lo=V(null),sc=V(0);function Ap(t,n){t=Is,ce(sc,t),ce(lo,n),Is=t|n.baseLanes}function Nf(){ce(sc,Is),ce(lo,lo.current)}function If(){Is=sc.current,J(lo),J(sc)}var Xn=V(null),vi=null;function ur(t){var n=t.alternate;ce(Bt,Bt.current&1),ce(Xn,t),vi===null&&(n===null||lo.current!==null||n.memoizedState!==null)&&(vi=t)}function Cf(t){ce(Bt,Bt.current),ce(Xn,t),vi===null&&(vi=t)}function Sp(t){t.tag===22?(ce(Bt,Bt.current),ce(Xn,t),vi===null&&(vi=t)):cr()}function cr(){ce(Bt,Bt.current),ce(Xn,Xn.current)}function $n(t){J(Xn),vi===t&&(vi=null),J(Bt)}var Bt=V(0);function rc(t){for(var n=t;n!==null;){if(n.tag===13){var a=n.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||Pd(a)||Ld(a)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var Ts=0,je=null,mt=null,Yt=null,ac=!1,uo=!1,va=!1,oc=0,Tl=0,co=null,L1=0;function Lt(){throw Error(r(321))}function Df(t,n){if(n===null)return!1;for(var a=0;a<n.length&&a<t.length;a++)if(!Yn(t[a],n[a]))return!1;return!0}function Of(t,n,a,o,h,f){return Ts=f,je=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,K.H=t===null||t.memoizedState===null?oy:Yf,va=!1,f=a(o,h),va=!1,uo&&(f=xp(n,a,o,h)),wp(t),f}function wp(t){K.H=Sl;var n=mt!==null&&mt.next!==null;if(Ts=0,Yt=mt=je=null,ac=!1,Tl=0,co=null,n)throw Error(r(300));t===null||Kt||(t=t.dependencies,t!==null&&Zu(t)&&(Kt=!0))}function xp(t,n,a,o){je=t;var h=0;do{if(uo&&(co=null),Tl=0,uo=!1,25<=h)throw Error(r(301));if(h+=1,Yt=mt=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}K.H=ly,f=n(a,o)}while(uo);return f}function k1(){var t=K.H,n=t.useState()[0];return n=typeof n.then=="function"?bl(n):n,t=t.useState()[0],(mt!==null?mt.memoizedState:null)!==t&&(je.flags|=1024),n}function Mf(){var t=oc!==0;return oc=0,t}function Vf(t,n,a){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~a}function Uf(t){if(ac){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}ac=!1}Ts=0,Yt=mt=je=null,uo=!1,Tl=oc=0,co=null}function Rn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Yt===null?je.memoizedState=Yt=t:Yt=Yt.next=t,Yt}function qt(){if(mt===null){var t=je.alternate;t=t!==null?t.memoizedState:null}else t=mt.next;var n=Yt===null?je.memoizedState:Yt.next;if(n!==null)Yt=n,mt=t;else{if(t===null)throw je.alternate===null?Error(r(467)):Error(r(310));mt=t,t={memoizedState:mt.memoizedState,baseState:mt.baseState,baseQueue:mt.baseQueue,queue:mt.queue,next:null},Yt===null?je.memoizedState=Yt=t:Yt=Yt.next=t}return Yt}function lc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function bl(t){var n=Tl;return Tl+=1,co===null&&(co=[]),t=pp(co,t,n),n=je,(Yt===null?n.memoizedState:Yt.next)===null&&(n=n.alternate,K.H=n===null||n.memoizedState===null?oy:Yf),t}function uc(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return bl(t);if(t.$$typeof===Ne)return hn(t)}throw Error(r(438,String(t)))}function Pf(t){var n=null,a=je.updateQueue;if(a!==null&&(n=a.memoCache),n==null){var o=je.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(n={data:o.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),a===null&&(a=lc(),je.updateQueue=a),a.memoCache=n,a=n.data[n.index],a===void 0)for(a=n.data[n.index]=Array(t),o=0;o<t;o++)a[o]=U;return n.index++,a}function bs(t,n){return typeof n=="function"?n(t):n}function cc(t){var n=qt();return Lf(n,mt,t)}function Lf(t,n,a){var o=t.queue;if(o===null)throw Error(r(311));o.lastRenderedReducer=a;var h=t.baseQueue,f=o.pending;if(f!==null){if(h!==null){var g=h.next;h.next=f.next,f.next=g}n.baseQueue=h=f,o.pending=null}if(f=t.baseState,h===null)t.memoizedState=f;else{n=h.next;var T=g=null,I=null,B=n,X=!1;do{var W=B.lane&-536870913;if(W!==B.lane?(Qe&W)===W:(Ts&W)===W){var q=B.revertLane;if(q===0)I!==null&&(I=I.next={lane:0,revertLane:0,gesture:null,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null}),W===so&&(X=!0);else if((Ts&q)===q){B=B.next,q===so&&(X=!0);continue}else W={lane:0,revertLane:B.revertLane,gesture:null,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},I===null?(T=I=W,g=f):I=I.next=W,je.lanes|=q,dr|=q;W=B.action,va&&a(f,W),f=B.hasEagerState?B.eagerState:a(f,W)}else q={lane:W,revertLane:B.revertLane,gesture:B.gesture,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},I===null?(T=I=q,g=f):I=I.next=q,je.lanes|=W,dr|=W;B=B.next}while(B!==null&&B!==n);if(I===null?g=f:I.next=T,!Yn(f,t.memoizedState)&&(Kt=!0,X&&(a=ro,a!==null)))throw a;t.memoizedState=f,t.baseState=g,t.baseQueue=I,o.lastRenderedState=f}return h===null&&(o.lanes=0),[t.memoizedState,o.dispatch]}function kf(t){var n=qt(),a=n.queue;if(a===null)throw Error(r(311));a.lastRenderedReducer=t;var o=a.dispatch,h=a.pending,f=n.memoizedState;if(h!==null){a.pending=null;var g=h=h.next;do f=t(f,g.action),g=g.next;while(g!==h);Yn(f,n.memoizedState)||(Kt=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),a.lastRenderedState=f}return[f,o]}function Rp(t,n,a){var o=je,h=qt(),f=Je;if(f){if(a===void 0)throw Error(r(407));a=a()}else a=n();var g=!Yn((mt||h).memoizedState,a);if(g&&(h.memoizedState=a,Kt=!0),h=h.queue,Bf(Cp.bind(null,o,h,t),[t]),h.getSnapshot!==n||g||Yt!==null&&Yt.memoizedState.tag&1){if(o.flags|=2048,ho(9,{destroy:void 0},Ip.bind(null,o,h,a,n),null),vt===null)throw Error(r(349));f||(Ts&127)!==0||Np(o,n,a)}return a}function Np(t,n,a){t.flags|=16384,t={getSnapshot:n,value:a},n=je.updateQueue,n===null?(n=lc(),je.updateQueue=n,n.stores=[t]):(a=n.stores,a===null?n.stores=[t]:a.push(t))}function Ip(t,n,a,o){n.value=a,n.getSnapshot=o,Dp(n)&&Op(t)}function Cp(t,n,a){return a(function(){Dp(n)&&Op(t)})}function Dp(t){var n=t.getSnapshot;t=t.value;try{var a=n();return!Yn(t,a)}catch{return!0}}function Op(t){var n=ca(t,2);n!==null&&Ln(n,t,2)}function jf(t){var n=Rn();if(typeof t=="function"){var a=t;if(t=a(),va){Cn(!0);try{a()}finally{Cn(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:bs,lastRenderedState:t},n}function Mp(t,n,a,o){return t.baseState=a,Lf(t,mt,typeof o=="function"?o:bs)}function j1(t,n,a,o,h){if(dc(t))throw Error(r(485));if(t=n.action,t!==null){var f={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(g){f.listeners.push(g)}};K.T!==null?a(!0):f.isTransition=!1,o(f),a=n.pending,a===null?(f.next=n.pending=f,Vp(n,f)):(f.next=a.next,n.pending=a.next=f)}}function Vp(t,n){var a=n.action,o=n.payload,h=t.state;if(n.isTransition){var f=K.T,g={};K.T=g;try{var T=a(h,o),I=K.S;I!==null&&I(g,T),Up(t,n,T)}catch(B){zf(t,n,B)}finally{f!==null&&g.types!==null&&(f.types=g.types),K.T=f}}else try{f=a(h,o),Up(t,n,f)}catch(B){zf(t,n,B)}}function Up(t,n,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(o){Pp(t,n,o)},function(o){return zf(t,n,o)}):Pp(t,n,a)}function Pp(t,n,a){n.status="fulfilled",n.value=a,Lp(n),t.state=a,n=t.pending,n!==null&&(a=n.next,a===n?t.pending=null:(a=a.next,n.next=a,Vp(t,a)))}function zf(t,n,a){var o=t.pending;if(t.pending=null,o!==null){o=o.next;do n.status="rejected",n.reason=a,Lp(n),n=n.next;while(n!==o)}t.action=null}function Lp(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function kp(t,n){return n}function jp(t,n){if(Je){var a=vt.formState;if(a!==null){e:{var o=je;if(Je){if(At){t:{for(var h=At,f=_i;h.nodeType!==8;){if(!f){h=null;break t}if(h=Ei(h.nextSibling),h===null){h=null;break t}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){At=Ei(h.nextSibling),o=h.data==="F!";break e}}sr(o)}o=!1}o&&(n=a[0])}}return a=Rn(),a.memoizedState=a.baseState=n,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:kp,lastRenderedState:n},a.queue=o,a=sy.bind(null,je,o),o.dispatch=a,o=jf(!1),f=Qf.bind(null,je,!1,o.queue),o=Rn(),h={state:n,dispatch:null,action:t,pending:null},o.queue=h,a=j1.bind(null,je,h,f,a),h.dispatch=a,o.memoizedState=t,[n,a,!1]}function zp(t){var n=qt();return Bp(n,mt,t)}function Bp(t,n,a){if(n=Lf(t,n,kp)[0],t=cc(bs)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var o=bl(n)}catch(g){throw g===ao?ec:g}else o=n;n=qt();var h=n.queue,f=h.dispatch;return a!==n.memoizedState&&(je.flags|=2048,ho(9,{destroy:void 0},z1.bind(null,h,a),null)),[o,f,t]}function z1(t,n){t.action=n}function qp(t){var n=qt(),a=mt;if(a!==null)return Bp(n,a,t);qt(),n=n.memoizedState,a=qt();var o=a.queue.dispatch;return a.memoizedState=t,[n,o,!1]}function ho(t,n,a,o){return t={tag:t,create:a,deps:o,inst:n,next:null},n=je.updateQueue,n===null&&(n=lc(),je.updateQueue=n),a=n.lastEffect,a===null?n.lastEffect=t.next=t:(o=a.next,a.next=t,t.next=o,n.lastEffect=t),t}function Hp(){return qt().memoizedState}function hc(t,n,a,o){var h=Rn();je.flags|=t,h.memoizedState=ho(1|n,{destroy:void 0},a,o===void 0?null:o)}function fc(t,n,a,o){var h=qt();o=o===void 0?null:o;var f=h.memoizedState.inst;mt!==null&&o!==null&&Df(o,mt.memoizedState.deps)?h.memoizedState=ho(n,f,a,o):(je.flags|=t,h.memoizedState=ho(1|n,f,a,o))}function Fp(t,n){hc(8390656,8,t,n)}function Bf(t,n){fc(2048,8,t,n)}function B1(t){je.flags|=4;var n=je.updateQueue;if(n===null)n=lc(),je.updateQueue=n,n.events=[t];else{var a=n.events;a===null?n.events=[t]:a.push(t)}}function Gp(t){var n=qt().memoizedState;return B1({ref:n,nextImpl:t}),function(){if((lt&2)!==0)throw Error(r(440));return n.impl.apply(void 0,arguments)}}function Qp(t,n){return fc(4,2,t,n)}function Yp(t,n){return fc(4,4,t,n)}function Kp(t,n){if(typeof n=="function"){t=t();var a=n(t);return function(){typeof a=="function"?a():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function Xp(t,n,a){a=a!=null?a.concat([t]):null,fc(4,4,Kp.bind(null,n,t),a)}function qf(){}function $p(t,n){var a=qt();n=n===void 0?null:n;var o=a.memoizedState;return n!==null&&Df(n,o[1])?o[0]:(a.memoizedState=[t,n],t)}function Zp(t,n){var a=qt();n=n===void 0?null:n;var o=a.memoizedState;if(n!==null&&Df(n,o[1]))return o[0];if(o=t(),va){Cn(!0);try{t()}finally{Cn(!1)}}return a.memoizedState=[o,n],o}function Hf(t,n,a){return a===void 0||(Ts&1073741824)!==0&&(Qe&261930)===0?t.memoizedState=n:(t.memoizedState=a,t=Jy(),je.lanes|=t,dr|=t,a)}function Jp(t,n,a,o){return Yn(a,n)?a:lo.current!==null?(t=Hf(t,a,o),Yn(t,n)||(Kt=!0),t):(Ts&42)===0||(Ts&1073741824)!==0&&(Qe&261930)===0?(Kt=!0,t.memoizedState=a):(t=Jy(),je.lanes|=t,dr|=t,n)}function Wp(t,n,a,o,h){var f=le.p;le.p=f!==0&&8>f?f:8;var g=K.T,T={};K.T=T,Qf(t,!1,n,a);try{var I=h(),B=K.S;if(B!==null&&B(T,I),I!==null&&typeof I=="object"&&typeof I.then=="function"){var X=P1(I,o);Al(t,n,X,Wn(t))}else Al(t,n,o,Wn(t))}catch(W){Al(t,n,{then:function(){},status:"rejected",reason:W},Wn())}finally{le.p=f,g!==null&&T.types!==null&&(g.types=T.types),K.T=g}}function q1(){}function Ff(t,n,a,o){if(t.tag!==5)throw Error(r(476));var h=ey(t).queue;Wp(t,h,n,Te,a===null?q1:function(){return ty(t),a(o)})}function ey(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:Te,baseState:Te,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:bs,lastRenderedState:Te},next:null};var a={};return n.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:bs,lastRenderedState:a},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function ty(t){var n=ey(t);n.next===null&&(n=t.alternate.memoizedState),Al(t,n.next.queue,{},Wn())}function Gf(){return hn(zl)}function ny(){return qt().memoizedState}function iy(){return qt().memoizedState}function H1(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var a=Wn();t=or(a);var o=lr(n,t,a);o!==null&&(Ln(o,n,a),_l(o,n,a)),n={cache:Ef()},t.payload=n;return}n=n.return}}function F1(t,n,a){var o=Wn();a={lane:o,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},dc(t)?ry(n,a):(a=uf(t,n,a,o),a!==null&&(Ln(a,t,o),ay(a,n,o)))}function sy(t,n,a){var o=Wn();Al(t,n,a,o)}function Al(t,n,a,o){var h={lane:o,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(dc(t))ry(n,h);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var g=n.lastRenderedState,T=f(g,a);if(h.hasEagerState=!0,h.eagerState=T,Yn(T,g))return Yu(t,n,h,0),vt===null&&Qu(),!1}catch{}finally{}if(a=uf(t,n,h,o),a!==null)return Ln(a,t,o),ay(a,n,o),!0}return!1}function Qf(t,n,a,o){if(o={lane:2,revertLane:Sd(),gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},dc(t)){if(n)throw Error(r(479))}else n=uf(t,a,o,2),n!==null&&Ln(n,t,2)}function dc(t){var n=t.alternate;return t===je||n!==null&&n===je}function ry(t,n){uo=ac=!0;var a=t.pending;a===null?n.next=n:(n.next=a.next,a.next=n),t.pending=n}function ay(t,n,a){if((a&4194048)!==0){var o=n.lanes;o&=t.pendingLanes,a|=o,n.lanes=a,wi(t,a)}}var Sl={readContext:hn,use:uc,useCallback:Lt,useContext:Lt,useEffect:Lt,useImperativeHandle:Lt,useLayoutEffect:Lt,useInsertionEffect:Lt,useMemo:Lt,useReducer:Lt,useRef:Lt,useState:Lt,useDebugValue:Lt,useDeferredValue:Lt,useTransition:Lt,useSyncExternalStore:Lt,useId:Lt,useHostTransitionStatus:Lt,useFormState:Lt,useActionState:Lt,useOptimistic:Lt,useMemoCache:Lt,useCacheRefresh:Lt};Sl.useEffectEvent=Lt;var oy={readContext:hn,use:uc,useCallback:function(t,n){return Rn().memoizedState=[t,n===void 0?null:n],t},useContext:hn,useEffect:Fp,useImperativeHandle:function(t,n,a){a=a!=null?a.concat([t]):null,hc(4194308,4,Kp.bind(null,n,t),a)},useLayoutEffect:function(t,n){return hc(4194308,4,t,n)},useInsertionEffect:function(t,n){hc(4,2,t,n)},useMemo:function(t,n){var a=Rn();n=n===void 0?null:n;var o=t();if(va){Cn(!0);try{t()}finally{Cn(!1)}}return a.memoizedState=[o,n],o},useReducer:function(t,n,a){var o=Rn();if(a!==void 0){var h=a(n);if(va){Cn(!0);try{a(n)}finally{Cn(!1)}}}else h=n;return o.memoizedState=o.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},o.queue=t,t=t.dispatch=F1.bind(null,je,t),[o.memoizedState,t]},useRef:function(t){var n=Rn();return t={current:t},n.memoizedState=t},useState:function(t){t=jf(t);var n=t.queue,a=sy.bind(null,je,n);return n.dispatch=a,[t.memoizedState,a]},useDebugValue:qf,useDeferredValue:function(t,n){var a=Rn();return Hf(a,t,n)},useTransition:function(){var t=jf(!1);return t=Wp.bind(null,je,t.queue,!0,!1),Rn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,a){var o=je,h=Rn();if(Je){if(a===void 0)throw Error(r(407));a=a()}else{if(a=n(),vt===null)throw Error(r(349));(Qe&127)!==0||Np(o,n,a)}h.memoizedState=a;var f={value:a,getSnapshot:n};return h.queue=f,Fp(Cp.bind(null,o,f,t),[t]),o.flags|=2048,ho(9,{destroy:void 0},Ip.bind(null,o,f,a,n),null),a},useId:function(){var t=Rn(),n=vt.identifierPrefix;if(Je){var a=$i,o=Xi;a=(o&~(1<<32-bt(o)-1)).toString(32)+a,n="_"+n+"R_"+a,a=oc++,0<a&&(n+="H"+a.toString(32)),n+="_"}else a=L1++,n="_"+n+"r_"+a.toString(32)+"_";return t.memoizedState=n},useHostTransitionStatus:Gf,useFormState:jp,useActionState:jp,useOptimistic:function(t){var n=Rn();n.memoizedState=n.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=a,n=Qf.bind(null,je,!0,a),a.dispatch=n,[t,n]},useMemoCache:Pf,useCacheRefresh:function(){return Rn().memoizedState=H1.bind(null,je)},useEffectEvent:function(t){var n=Rn(),a={impl:t};return n.memoizedState=a,function(){if((lt&2)!==0)throw Error(r(440));return a.impl.apply(void 0,arguments)}}},Yf={readContext:hn,use:uc,useCallback:$p,useContext:hn,useEffect:Bf,useImperativeHandle:Xp,useInsertionEffect:Qp,useLayoutEffect:Yp,useMemo:Zp,useReducer:cc,useRef:Hp,useState:function(){return cc(bs)},useDebugValue:qf,useDeferredValue:function(t,n){var a=qt();return Jp(a,mt.memoizedState,t,n)},useTransition:function(){var t=cc(bs)[0],n=qt().memoizedState;return[typeof t=="boolean"?t:bl(t),n]},useSyncExternalStore:Rp,useId:ny,useHostTransitionStatus:Gf,useFormState:zp,useActionState:zp,useOptimistic:function(t,n){var a=qt();return Mp(a,mt,t,n)},useMemoCache:Pf,useCacheRefresh:iy};Yf.useEffectEvent=Gp;var ly={readContext:hn,use:uc,useCallback:$p,useContext:hn,useEffect:Bf,useImperativeHandle:Xp,useInsertionEffect:Qp,useLayoutEffect:Yp,useMemo:Zp,useReducer:kf,useRef:Hp,useState:function(){return kf(bs)},useDebugValue:qf,useDeferredValue:function(t,n){var a=qt();return mt===null?Hf(a,t,n):Jp(a,mt.memoizedState,t,n)},useTransition:function(){var t=kf(bs)[0],n=qt().memoizedState;return[typeof t=="boolean"?t:bl(t),n]},useSyncExternalStore:Rp,useId:ny,useHostTransitionStatus:Gf,useFormState:qp,useActionState:qp,useOptimistic:function(t,n){var a=qt();return mt!==null?Mp(a,mt,t,n):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:Pf,useCacheRefresh:iy};ly.useEffectEvent=Gp;function Kf(t,n,a,o){n=t.memoizedState,a=a(o,n),a=a==null?n:w({},n,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var Xf={enqueueSetState:function(t,n,a){t=t._reactInternals;var o=Wn(),h=or(o);h.payload=n,a!=null&&(h.callback=a),n=lr(t,h,o),n!==null&&(Ln(n,t,o),_l(n,t,o))},enqueueReplaceState:function(t,n,a){t=t._reactInternals;var o=Wn(),h=or(o);h.tag=1,h.payload=n,a!=null&&(h.callback=a),n=lr(t,h,o),n!==null&&(Ln(n,t,o),_l(n,t,o))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var a=Wn(),o=or(a);o.tag=2,n!=null&&(o.callback=n),n=lr(t,o,a),n!==null&&(Ln(n,t,a),_l(n,t,a))}};function uy(t,n,a,o,h,f,g){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(o,f,g):n.prototype&&n.prototype.isPureReactComponent?!cl(a,o)||!cl(h,f):!0}function cy(t,n,a,o){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(a,o),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(a,o),n.state!==t&&Xf.enqueueReplaceState(n,n.state,null)}function Ea(t,n){var a=n;if("ref"in n){a={};for(var o in n)o!=="ref"&&(a[o]=n[o])}if(t=t.defaultProps){a===n&&(a=w({},a));for(var h in t)a[h]===void 0&&(a[h]=t[h])}return a}function hy(t){Gu(t)}function fy(t){console.error(t)}function dy(t){Gu(t)}function mc(t,n){try{var a=t.onUncaughtError;a(n.value,{componentStack:n.stack})}catch(o){setTimeout(function(){throw o})}}function my(t,n,a){try{var o=t.onCaughtError;o(a.value,{componentStack:a.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function $f(t,n,a){return a=or(a),a.tag=3,a.payload={element:null},a.callback=function(){mc(t,n)},a}function gy(t){return t=or(t),t.tag=3,t}function py(t,n,a,o){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var f=o.value;t.payload=function(){return h(f)},t.callback=function(){my(n,a,o)}}var g=a.stateNode;g!==null&&typeof g.componentDidCatch=="function"&&(t.callback=function(){my(n,a,o),typeof h!="function"&&(mr===null?mr=new Set([this]):mr.add(this));var T=o.stack;this.componentDidCatch(o.value,{componentStack:T!==null?T:""})})}function G1(t,n,a,o,h){if(a.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(n=a.alternate,n!==null&&io(n,a,h,!0),a=Xn.current,a!==null){switch(a.tag){case 31:case 13:return vi===null?xc():a.alternate===null&&kt===0&&(kt=3),a.flags&=-257,a.flags|=65536,a.lanes=h,o===tc?a.flags|=16384:(n=a.updateQueue,n===null?a.updateQueue=new Set([o]):n.add(o),Td(t,o,h)),!1;case 22:return a.flags|=65536,o===tc?a.flags|=16384:(n=a.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([o])},a.updateQueue=n):(a=n.retryQueue,a===null?n.retryQueue=new Set([o]):a.add(o)),Td(t,o,h)),!1}throw Error(r(435,a.tag))}return Td(t,o,h),xc(),!1}if(Je)return n=Xn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,o!==gf&&(t=Error(r(422),{cause:o}),dl(gi(t,a)))):(o!==gf&&(n=Error(r(423),{cause:o}),dl(gi(n,a))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,o=gi(o,a),h=$f(t.stateNode,o,h),xf(t,h),kt!==4&&(kt=2)),!1;var f=Error(r(520),{cause:o});if(f=gi(f,a),Ol===null?Ol=[f]:Ol.push(f),kt!==4&&(kt=2),n===null)return!0;o=gi(o,a),a=n;do{switch(a.tag){case 3:return a.flags|=65536,t=h&-h,a.lanes|=t,t=$f(a.stateNode,o,t),xf(a,t),!1;case 1:if(n=a.type,f=a.stateNode,(a.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(mr===null||!mr.has(f))))return a.flags|=65536,h&=-h,a.lanes|=h,h=gy(h),py(h,t,a,o),xf(a,h),!1}a=a.return}while(a!==null);return!1}var Zf=Error(r(461)),Kt=!1;function fn(t,n,a,o){n.child=t===null?Ep(n,null,a,o):_a(n,t.child,a,o)}function yy(t,n,a,o,h){a=a.render;var f=n.ref;if("ref"in o){var g={};for(var T in o)T!=="ref"&&(g[T]=o[T])}else g=o;return ma(n),o=Of(t,n,a,g,f,h),T=Mf(),t!==null&&!Kt?(Vf(t,n,h),As(t,n,h)):(Je&&T&&df(n),n.flags|=1,fn(t,n,o,h),n.child)}function _y(t,n,a,o,h){if(t===null){var f=a.type;return typeof f=="function"&&!cf(f)&&f.defaultProps===void 0&&a.compare===null?(n.tag=15,n.type=f,vy(t,n,f,o,h)):(t=Xu(a.type,null,o,n,n.mode,h),t.ref=n.ref,t.return=n,n.child=t)}if(f=t.child,!rd(t,h)){var g=f.memoizedProps;if(a=a.compare,a=a!==null?a:cl,a(g,o)&&t.ref===n.ref)return As(t,n,h)}return n.flags|=1,t=ys(f,o),t.ref=n.ref,t.return=n,n.child=t}function vy(t,n,a,o,h){if(t!==null){var f=t.memoizedProps;if(cl(f,o)&&t.ref===n.ref)if(Kt=!1,n.pendingProps=o=f,rd(t,h))(t.flags&131072)!==0&&(Kt=!0);else return n.lanes=t.lanes,As(t,n,h)}return Jf(t,n,a,o,h)}function Ey(t,n,a,o){var h=o.children,f=t!==null?t.memoizedState:null;if(t===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|a:a,t!==null){for(o=n.child=t.child,h=0;o!==null;)h=h|o.lanes|o.childLanes,o=o.sibling;o=h&~f}else o=0,n.child=null;return Ty(t,n,f,a,o)}if((a&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&Wu(n,f!==null?f.cachePool:null),f!==null?Ap(n,f):Nf(),Sp(n);else return o=n.lanes=536870912,Ty(t,n,f!==null?f.baseLanes|a:a,a,o)}else f!==null?(Wu(n,f.cachePool),Ap(n,f),cr(),n.memoizedState=null):(t!==null&&Wu(n,null),Nf(),cr());return fn(t,n,h,a),n.child}function wl(t,n){return t!==null&&t.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function Ty(t,n,a,o,h){var f=bf();return f=f===null?null:{parent:Qt._currentValue,pool:f},n.memoizedState={baseLanes:a,cachePool:f},t!==null&&Wu(n,null),Nf(),Sp(n),t!==null&&io(t,n,o,!0),n.childLanes=h,null}function gc(t,n){return n=yc({mode:n.mode,children:n.children},t.mode),n.ref=t.ref,t.child=n,n.return=t,n}function by(t,n,a){return _a(n,t.child,null,a),t=gc(n,n.pendingProps),t.flags|=2,$n(n),n.memoizedState=null,t}function Q1(t,n,a){var o=n.pendingProps,h=(n.flags&128)!==0;if(n.flags&=-129,t===null){if(Je){if(o.mode==="hidden")return t=gc(n,o),n.lanes=536870912,wl(null,t);if(Cf(n),(t=At)?(t=V_(t,_i),t=t!==null&&t.data==="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:nr!==null?{id:Xi,overflow:$i}:null,retryLane:536870912,hydrationErrors:null},a=rp(t),a.return=n,n.child=a,cn=n,At=null)):t=null,t===null)throw sr(n);return n.lanes=536870912,null}return gc(n,o)}var f=t.memoizedState;if(f!==null){var g=f.dehydrated;if(Cf(n),h)if(n.flags&256)n.flags&=-257,n=by(t,n,a);else if(n.memoizedState!==null)n.child=t.child,n.flags|=128,n=null;else throw Error(r(558));else if(Kt||io(t,n,a,!1),h=(a&t.childLanes)!==0,Kt||h){if(o=vt,o!==null&&(g=Ys(o,a),g!==0&&g!==f.retryLane))throw f.retryLane=g,ca(t,g),Ln(o,t,g),Zf;xc(),n=by(t,n,a)}else t=f.treeContext,At=Ei(g.nextSibling),cn=n,Je=!0,ir=null,_i=!1,t!==null&&lp(n,t),n=gc(n,o),n.flags|=4096;return n}return t=ys(t.child,{mode:o.mode,children:o.children}),t.ref=n.ref,n.child=t,t.return=n,t}function pc(t,n){var a=n.ref;if(a===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(r(284));(t===null||t.ref!==a)&&(n.flags|=4194816)}}function Jf(t,n,a,o,h){return ma(n),a=Of(t,n,a,o,void 0,h),o=Mf(),t!==null&&!Kt?(Vf(t,n,h),As(t,n,h)):(Je&&o&&df(n),n.flags|=1,fn(t,n,a,h),n.child)}function Ay(t,n,a,o,h,f){return ma(n),n.updateQueue=null,a=xp(n,o,a,h),wp(t),o=Mf(),t!==null&&!Kt?(Vf(t,n,f),As(t,n,f)):(Je&&o&&df(n),n.flags|=1,fn(t,n,a,f),n.child)}function Sy(t,n,a,o,h){if(ma(n),n.stateNode===null){var f=Wa,g=a.contextType;typeof g=="object"&&g!==null&&(f=hn(g)),f=new a(o,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Xf,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=o,f.state=n.memoizedState,f.refs={},Sf(n),g=a.contextType,f.context=typeof g=="object"&&g!==null?hn(g):Wa,f.state=n.memoizedState,g=a.getDerivedStateFromProps,typeof g=="function"&&(Kf(n,a,g,o),f.state=n.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(g=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),g!==f.state&&Xf.enqueueReplaceState(f,f.state,null),El(n,o,f,h),vl(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!0}else if(t===null){f=n.stateNode;var T=n.memoizedProps,I=Ea(a,T);f.props=I;var B=f.context,X=a.contextType;g=Wa,typeof X=="object"&&X!==null&&(g=hn(X));var W=a.getDerivedStateFromProps;X=typeof W=="function"||typeof f.getSnapshotBeforeUpdate=="function",T=n.pendingProps!==T,X||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(T||B!==g)&&cy(n,f,o,g),ar=!1;var q=n.memoizedState;f.state=q,El(n,o,f,h),vl(),B=n.memoizedState,T||q!==B||ar?(typeof W=="function"&&(Kf(n,a,W,o),B=n.memoizedState),(I=ar||uy(n,a,I,o,q,B,g))?(X||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=o,n.memoizedState=B),f.props=o,f.state=B,f.context=g,o=I):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!1)}else{f=n.stateNode,wf(t,n),g=n.memoizedProps,X=Ea(a,g),f.props=X,W=n.pendingProps,q=f.context,B=a.contextType,I=Wa,typeof B=="object"&&B!==null&&(I=hn(B)),T=a.getDerivedStateFromProps,(B=typeof T=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(g!==W||q!==I)&&cy(n,f,o,I),ar=!1,q=n.memoizedState,f.state=q,El(n,o,f,h),vl();var Q=n.memoizedState;g!==W||q!==Q||ar||t!==null&&t.dependencies!==null&&Zu(t.dependencies)?(typeof T=="function"&&(Kf(n,a,T,o),Q=n.memoizedState),(X=ar||uy(n,a,X,o,q,Q,I)||t!==null&&t.dependencies!==null&&Zu(t.dependencies))?(B||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(o,Q,I),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(o,Q,I)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||g===t.memoizedProps&&q===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===t.memoizedProps&&q===t.memoizedState||(n.flags|=1024),n.memoizedProps=o,n.memoizedState=Q),f.props=o,f.state=Q,f.context=I,o=X):(typeof f.componentDidUpdate!="function"||g===t.memoizedProps&&q===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===t.memoizedProps&&q===t.memoizedState||(n.flags|=1024),o=!1)}return f=o,pc(t,n),o=(n.flags&128)!==0,f||o?(f=n.stateNode,a=o&&typeof a.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,t!==null&&o?(n.child=_a(n,t.child,null,h),n.child=_a(n,null,a,h)):fn(t,n,a,h),n.memoizedState=f.state,t=n.child):t=As(t,n,h),t}function wy(t,n,a,o){return fa(),n.flags|=256,fn(t,n,a,o),n.child}var Wf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function ed(t){return{baseLanes:t,cachePool:mp()}}function td(t,n,a){return t=t!==null?t.childLanes&~a:0,n&&(t|=Jn),t}function xy(t,n,a){var o=n.pendingProps,h=!1,f=(n.flags&128)!==0,g;if((g=f)||(g=t!==null&&t.memoizedState===null?!1:(Bt.current&2)!==0),g&&(h=!0,n.flags&=-129),g=(n.flags&32)!==0,n.flags&=-33,t===null){if(Je){if(h?ur(n):cr(),(t=At)?(t=V_(t,_i),t=t!==null&&t.data!=="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:nr!==null?{id:Xi,overflow:$i}:null,retryLane:536870912,hydrationErrors:null},a=rp(t),a.return=n,n.child=a,cn=n,At=null)):t=null,t===null)throw sr(n);return Ld(t)?n.lanes=32:n.lanes=536870912,null}var T=o.children;return o=o.fallback,h?(cr(),h=n.mode,T=yc({mode:"hidden",children:T},h),o=ha(o,h,a,null),T.return=n,o.return=n,T.sibling=o,n.child=T,o=n.child,o.memoizedState=ed(a),o.childLanes=td(t,g,a),n.memoizedState=Wf,wl(null,o)):(ur(n),nd(n,T))}var I=t.memoizedState;if(I!==null&&(T=I.dehydrated,T!==null)){if(f)n.flags&256?(ur(n),n.flags&=-257,n=id(t,n,a)):n.memoizedState!==null?(cr(),n.child=t.child,n.flags|=128,n=null):(cr(),T=o.fallback,h=n.mode,o=yc({mode:"visible",children:o.children},h),T=ha(T,h,a,null),T.flags|=2,o.return=n,T.return=n,o.sibling=T,n.child=o,_a(n,t.child,null,a),o=n.child,o.memoizedState=ed(a),o.childLanes=td(t,g,a),n.memoizedState=Wf,n=wl(null,o));else if(ur(n),Ld(T)){if(g=T.nextSibling&&T.nextSibling.dataset,g)var B=g.dgst;g=B,o=Error(r(419)),o.stack="",o.digest=g,dl({value:o,source:null,stack:null}),n=id(t,n,a)}else if(Kt||io(t,n,a,!1),g=(a&t.childLanes)!==0,Kt||g){if(g=vt,g!==null&&(o=Ys(g,a),o!==0&&o!==I.retryLane))throw I.retryLane=o,ca(t,o),Ln(g,t,o),Zf;Pd(T)||xc(),n=id(t,n,a)}else Pd(T)?(n.flags|=192,n.child=t.child,n=null):(t=I.treeContext,At=Ei(T.nextSibling),cn=n,Je=!0,ir=null,_i=!1,t!==null&&lp(n,t),n=nd(n,o.children),n.flags|=4096);return n}return h?(cr(),T=o.fallback,h=n.mode,I=t.child,B=I.sibling,o=ys(I,{mode:"hidden",children:o.children}),o.subtreeFlags=I.subtreeFlags&65011712,B!==null?T=ys(B,T):(T=ha(T,h,a,null),T.flags|=2),T.return=n,o.return=n,o.sibling=T,n.child=o,wl(null,o),o=n.child,T=t.child.memoizedState,T===null?T=ed(a):(h=T.cachePool,h!==null?(I=Qt._currentValue,h=h.parent!==I?{parent:I,pool:I}:h):h=mp(),T={baseLanes:T.baseLanes|a,cachePool:h}),o.memoizedState=T,o.childLanes=td(t,g,a),n.memoizedState=Wf,wl(t.child,o)):(ur(n),a=t.child,t=a.sibling,a=ys(a,{mode:"visible",children:o.children}),a.return=n,a.sibling=null,t!==null&&(g=n.deletions,g===null?(n.deletions=[t],n.flags|=16):g.push(t)),n.child=a,n.memoizedState=null,a)}function nd(t,n){return n=yc({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function yc(t,n){return t=Kn(22,t,null,n),t.lanes=0,t}function id(t,n,a){return _a(n,t.child,null,a),t=nd(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function Ry(t,n,a){t.lanes|=n;var o=t.alternate;o!==null&&(o.lanes|=n),_f(t.return,n,a)}function sd(t,n,a,o,h,f){var g=t.memoizedState;g===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:o,tail:a,tailMode:h,treeForkCount:f}:(g.isBackwards=n,g.rendering=null,g.renderingStartTime=0,g.last=o,g.tail=a,g.tailMode=h,g.treeForkCount=f)}function Ny(t,n,a){var o=n.pendingProps,h=o.revealOrder,f=o.tail;o=o.children;var g=Bt.current,T=(g&2)!==0;if(T?(g=g&1|2,n.flags|=128):g&=1,ce(Bt,g),fn(t,n,o,a),o=Je?fl:0,!T&&t!==null&&(t.flags&128)!==0)e:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Ry(t,a,n);else if(t.tag===19)Ry(t,a,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break e;for(;t.sibling===null;){if(t.return===null||t.return===n)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(h){case"forwards":for(a=n.child,h=null;a!==null;)t=a.alternate,t!==null&&rc(t)===null&&(h=a),a=a.sibling;a=h,a===null?(h=n.child,n.child=null):(h=a.sibling,a.sibling=null),sd(n,!1,h,a,f,o);break;case"backwards":case"unstable_legacy-backwards":for(a=null,h=n.child,n.child=null;h!==null;){if(t=h.alternate,t!==null&&rc(t)===null){n.child=h;break}t=h.sibling,h.sibling=a,a=h,h=t}sd(n,!0,a,null,f,o);break;case"together":sd(n,!1,null,null,void 0,o);break;default:n.memoizedState=null}return n.child}function As(t,n,a){if(t!==null&&(n.dependencies=t.dependencies),dr|=n.lanes,(a&n.childLanes)===0)if(t!==null){if(io(t,n,a,!1),(a&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(r(153));if(n.child!==null){for(t=n.child,a=ys(t,t.pendingProps),n.child=a,a.return=n;t.sibling!==null;)t=t.sibling,a=a.sibling=ys(t,t.pendingProps),a.return=n;a.sibling=null}return n.child}function rd(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&Zu(t)))}function Y1(t,n,a){switch(n.tag){case 3:Mt(n,n.stateNode.containerInfo),rr(n,Qt,t.memoizedState.cache),fa();break;case 27:case 5:bn(n);break;case 4:Mt(n,n.stateNode.containerInfo);break;case 10:rr(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,Cf(n),null;break;case 13:var o=n.memoizedState;if(o!==null)return o.dehydrated!==null?(ur(n),n.flags|=128,null):(a&n.child.childLanes)!==0?xy(t,n,a):(ur(n),t=As(t,n,a),t!==null?t.sibling:null);ur(n);break;case 19:var h=(t.flags&128)!==0;if(o=(a&n.childLanes)!==0,o||(io(t,n,a,!1),o=(a&n.childLanes)!==0),h){if(o)return Ny(t,n,a);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),ce(Bt,Bt.current),o)break;return null;case 22:return n.lanes=0,Ey(t,n,a,n.pendingProps);case 24:rr(n,Qt,t.memoizedState.cache)}return As(t,n,a)}function Iy(t,n,a){if(t!==null)if(t.memoizedProps!==n.pendingProps)Kt=!0;else{if(!rd(t,a)&&(n.flags&128)===0)return Kt=!1,Y1(t,n,a);Kt=(t.flags&131072)!==0}else Kt=!1,Je&&(n.flags&1048576)!==0&&op(n,fl,n.index);switch(n.lanes=0,n.tag){case 16:e:{var o=n.pendingProps;if(t=pa(n.elementType),n.type=t,typeof t=="function")cf(t)?(o=Ea(t,o),n.tag=1,n=Sy(null,n,t,o,a)):(n.tag=0,n=Jf(null,n,t,o,a));else{if(t!=null){var h=t.$$typeof;if(h===We){n.tag=11,n=yy(null,n,t,o,a);break e}else if(h===D){n.tag=14,n=_y(null,n,t,o,a);break e}}throw n=nt(t)||t,Error(r(306,n,""))}}return n;case 0:return Jf(t,n,n.type,n.pendingProps,a);case 1:return o=n.type,h=Ea(o,n.pendingProps),Sy(t,n,o,h,a);case 3:e:{if(Mt(n,n.stateNode.containerInfo),t===null)throw Error(r(387));o=n.pendingProps;var f=n.memoizedState;h=f.element,wf(t,n),El(n,o,null,a);var g=n.memoizedState;if(o=g.cache,rr(n,Qt,o),o!==f.cache&&vf(n,[Qt],a,!0),vl(),o=g.element,f.isDehydrated)if(f={element:o,isDehydrated:!1,cache:g.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=wy(t,n,o,a);break e}else if(o!==h){h=gi(Error(r(424)),n),dl(h),n=wy(t,n,o,a);break e}else{switch(t=n.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(At=Ei(t.firstChild),cn=n,Je=!0,ir=null,_i=!0,a=Ep(n,null,o,a),n.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(fa(),o===h){n=As(t,n,a);break e}fn(t,n,o,a)}n=n.child}return n;case 26:return pc(t,n),t===null?(a=z_(n.type,null,n.pendingProps,null))?n.memoizedState=a:Je||(a=n.type,t=n.pendingProps,o=Mc(ie.current).createElement(a),o[Ut]=n,o[xt]=t,dn(o,a,t),Pt(o),n.stateNode=o):n.memoizedState=z_(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return bn(n),t===null&&Je&&(o=n.stateNode=L_(n.type,n.pendingProps,ie.current),cn=n,_i=!0,h=At,_r(n.type)?(kd=h,At=Ei(o.firstChild)):At=h),fn(t,n,n.pendingProps.children,a),pc(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&Je&&((h=o=At)&&(o=Ab(o,n.type,n.pendingProps,_i),o!==null?(n.stateNode=o,cn=n,At=Ei(o.firstChild),_i=!1,h=!0):h=!1),h||sr(n)),bn(n),h=n.type,f=n.pendingProps,g=t!==null?t.memoizedProps:null,o=f.children,Md(h,f)?o=null:g!==null&&Md(h,g)&&(n.flags|=32),n.memoizedState!==null&&(h=Of(t,n,k1,null,null,a),zl._currentValue=h),pc(t,n),fn(t,n,o,a),n.child;case 6:return t===null&&Je&&((t=a=At)&&(a=Sb(a,n.pendingProps,_i),a!==null?(n.stateNode=a,cn=n,At=null,t=!0):t=!1),t||sr(n)),null;case 13:return xy(t,n,a);case 4:return Mt(n,n.stateNode.containerInfo),o=n.pendingProps,t===null?n.child=_a(n,null,o,a):fn(t,n,o,a),n.child;case 11:return yy(t,n,n.type,n.pendingProps,a);case 7:return fn(t,n,n.pendingProps,a),n.child;case 8:return fn(t,n,n.pendingProps.children,a),n.child;case 12:return fn(t,n,n.pendingProps.children,a),n.child;case 10:return o=n.pendingProps,rr(n,n.type,o.value),fn(t,n,o.children,a),n.child;case 9:return h=n.type._context,o=n.pendingProps.children,ma(n),h=hn(h),o=o(h),n.flags|=1,fn(t,n,o,a),n.child;case 14:return _y(t,n,n.type,n.pendingProps,a);case 15:return vy(t,n,n.type,n.pendingProps,a);case 19:return Ny(t,n,a);case 31:return Q1(t,n,a);case 22:return Ey(t,n,a,n.pendingProps);case 24:return ma(n),o=hn(Qt),t===null?(h=bf(),h===null&&(h=vt,f=Ef(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=a),h=f),n.memoizedState={parent:o,cache:h},Sf(n),rr(n,Qt,h)):((t.lanes&a)!==0&&(wf(t,n),El(n,null,null,a),vl()),h=t.memoizedState,f=n.memoizedState,h.parent!==o?(h={parent:o,cache:o},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),rr(n,Qt,o)):(o=f.cache,rr(n,Qt,o),o!==h.cache&&vf(n,[Qt],a,!0))),fn(t,n,n.pendingProps.children,a),n.child;case 29:throw n.pendingProps}throw Error(r(156,n.tag))}function Ss(t){t.flags|=4}function ad(t,n,a,o,h){if((n=(t.mode&32)!==0)&&(n=!1),n){if(t.flags|=16777216,(h&335544128)===h)if(t.stateNode.complete)t.flags|=8192;else if(n_())t.flags|=8192;else throw ya=tc,Af}else t.flags&=-16777217}function Cy(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!G_(n))if(n_())t.flags|=8192;else throw ya=tc,Af}function _c(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?ja():536870912,t.lanes|=n,po|=n)}function xl(t,n){if(!Je)switch(t.tailMode){case"hidden":n=t.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var o=null;a!==null;)a.alternate!==null&&(o=a),a=a.sibling;o===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:o.sibling=null}}function St(t){var n=t.alternate!==null&&t.alternate.child===t.child,a=0,o=0;if(n)for(var h=t.child;h!==null;)a|=h.lanes|h.childLanes,o|=h.subtreeFlags&65011712,o|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)a|=h.lanes|h.childLanes,o|=h.subtreeFlags,o|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=o,t.childLanes=a,n}function K1(t,n,a){var o=n.pendingProps;switch(mf(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return St(n),null;case 1:return St(n),null;case 3:return a=n.stateNode,o=null,t!==null&&(o=t.memoizedState.cache),n.memoizedState.cache!==o&&(n.flags|=2048),Es(Qt),_t(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(no(n)?Ss(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,pf())),St(n),null;case 26:var h=n.type,f=n.memoizedState;return t===null?(Ss(n),f!==null?(St(n),Cy(n,f)):(St(n),ad(n,h,null,o,a))):f?f!==t.memoizedState?(Ss(n),St(n),Cy(n,f)):(St(n),n.flags&=-16777217):(t=t.memoizedProps,t!==o&&Ss(n),St(n),ad(n,h,t,o,a)),null;case 27:if(us(n),a=ie.current,h=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==o&&Ss(n);else{if(!o){if(n.stateNode===null)throw Error(r(166));return St(n),null}t=se.current,no(n)?up(n):(t=L_(h,o,a),n.stateNode=t,Ss(n))}return St(n),null;case 5:if(us(n),h=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==o&&Ss(n);else{if(!o){if(n.stateNode===null)throw Error(r(166));return St(n),null}if(f=se.current,no(n))up(n);else{var g=Mc(ie.current);switch(f){case 1:f=g.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:f=g.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":f=g.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":f=g.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":f=g.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof o.is=="string"?g.createElement("select",{is:o.is}):g.createElement("select"),o.multiple?f.multiple=!0:o.size&&(f.size=o.size);break;default:f=typeof o.is=="string"?g.createElement(h,{is:o.is}):g.createElement(h)}}f[Ut]=n,f[xt]=o;e:for(g=n.child;g!==null;){if(g.tag===5||g.tag===6)f.appendChild(g.stateNode);else if(g.tag!==4&&g.tag!==27&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===n)break e;for(;g.sibling===null;){if(g.return===null||g.return===n)break e;g=g.return}g.sibling.return=g.return,g=g.sibling}n.stateNode=f;e:switch(dn(f,h,o),h){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break e;case"img":o=!0;break e;default:o=!1}o&&Ss(n)}}return St(n),ad(n,n.type,t===null?null:t.memoizedProps,n.pendingProps,a),null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==o&&Ss(n);else{if(typeof o!="string"&&n.stateNode===null)throw Error(r(166));if(t=ie.current,no(n)){if(t=n.stateNode,a=n.memoizedProps,o=null,h=cn,h!==null)switch(h.tag){case 27:case 5:o=h.memoizedProps}t[Ut]=n,t=!!(t.nodeValue===a||o!==null&&o.suppressHydrationWarning===!0||x_(t.nodeValue,a)),t||sr(n,!0)}else t=Mc(t).createTextNode(o),t[Ut]=n,n.stateNode=t}return St(n),null;case 31:if(a=n.memoizedState,t===null||t.memoizedState!==null){if(o=no(n),a!==null){if(t===null){if(!o)throw Error(r(318));if(t=n.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(557));t[Ut]=n}else fa(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;St(n),t=!1}else a=pf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=a),t=!0;if(!t)return n.flags&256?($n(n),n):($n(n),null);if((n.flags&128)!==0)throw Error(r(558))}return St(n),null;case 13:if(o=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=no(n),o!==null&&o.dehydrated!==null){if(t===null){if(!h)throw Error(r(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(r(317));h[Ut]=n}else fa(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;St(n),h=!1}else h=pf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?($n(n),n):($n(n),null)}return $n(n),(n.flags&128)!==0?(n.lanes=a,n):(a=o!==null,t=t!==null&&t.memoizedState!==null,a&&(o=n.child,h=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(h=o.alternate.memoizedState.cachePool.pool),f=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),f!==h&&(o.flags|=2048)),a!==t&&a&&(n.child.flags|=8192),_c(n,n.updateQueue),St(n),null);case 4:return _t(),t===null&&Nd(n.stateNode.containerInfo),St(n),null;case 10:return Es(n.type),St(n),null;case 19:if(J(Bt),o=n.memoizedState,o===null)return St(n),null;if(h=(n.flags&128)!==0,f=o.rendering,f===null)if(h)xl(o,!1);else{if(kt!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(f=rc(t),f!==null){for(n.flags|=128,xl(o,!1),t=f.updateQueue,n.updateQueue=t,_c(n,t),n.subtreeFlags=0,t=a,a=n.child;a!==null;)sp(a,t),a=a.sibling;return ce(Bt,Bt.current&1|2),Je&&_s(n,o.treeForkCount),n.child}t=t.sibling}o.tail!==null&&Ft()>Ac&&(n.flags|=128,h=!0,xl(o,!1),n.lanes=4194304)}else{if(!h)if(t=rc(f),t!==null){if(n.flags|=128,h=!0,t=t.updateQueue,n.updateQueue=t,_c(n,t),xl(o,!0),o.tail===null&&o.tailMode==="hidden"&&!f.alternate&&!Je)return St(n),null}else 2*Ft()-o.renderingStartTime>Ac&&a!==536870912&&(n.flags|=128,h=!0,xl(o,!1),n.lanes=4194304);o.isBackwards?(f.sibling=n.child,n.child=f):(t=o.last,t!==null?t.sibling=f:n.child=f,o.last=f)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Ft(),t.sibling=null,a=Bt.current,ce(Bt,h?a&1|2:a&1),Je&&_s(n,o.treeForkCount),t):(St(n),null);case 22:case 23:return $n(n),If(),o=n.memoizedState!==null,t!==null?t.memoizedState!==null!==o&&(n.flags|=8192):o&&(n.flags|=8192),o?(a&536870912)!==0&&(n.flags&128)===0&&(St(n),n.subtreeFlags&6&&(n.flags|=8192)):St(n),a=n.updateQueue,a!==null&&_c(n,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),o=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),o!==a&&(n.flags|=2048),t!==null&&J(ga),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),n.memoizedState.cache!==a&&(n.flags|=2048),Es(Qt),St(n),null;case 25:return null;case 30:return null}throw Error(r(156,n.tag))}function X1(t,n){switch(mf(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return Es(Qt),_t(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return us(n),null;case 31:if(n.memoizedState!==null){if($n(n),n.alternate===null)throw Error(r(340));fa()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 13:if($n(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(r(340));fa()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return J(Bt),null;case 4:return _t(),null;case 10:return Es(n.type),null;case 22:case 23:return $n(n),If(),t!==null&&J(ga),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return Es(Qt),null;case 25:return null;default:return null}}function Dy(t,n){switch(mf(n),n.tag){case 3:Es(Qt),_t();break;case 26:case 27:case 5:us(n);break;case 4:_t();break;case 31:n.memoizedState!==null&&$n(n);break;case 13:$n(n);break;case 19:J(Bt);break;case 10:Es(n.type);break;case 22:case 23:$n(n),If(),t!==null&&J(ga);break;case 24:Es(Qt)}}function Rl(t,n){try{var a=n.updateQueue,o=a!==null?a.lastEffect:null;if(o!==null){var h=o.next;a=h;do{if((a.tag&t)===t){o=void 0;var f=a.create,g=a.inst;o=f(),g.destroy=o}a=a.next}while(a!==h)}}catch(T){ft(n,n.return,T)}}function hr(t,n,a){try{var o=n.updateQueue,h=o!==null?o.lastEffect:null;if(h!==null){var f=h.next;o=f;do{if((o.tag&t)===t){var g=o.inst,T=g.destroy;if(T!==void 0){g.destroy=void 0,h=n;var I=a,B=T;try{B()}catch(X){ft(h,I,X)}}}o=o.next}while(o!==f)}}catch(X){ft(n,n.return,X)}}function Oy(t){var n=t.updateQueue;if(n!==null){var a=t.stateNode;try{bp(n,a)}catch(o){ft(t,t.return,o)}}}function My(t,n,a){a.props=Ea(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(o){ft(t,n,o)}}function Nl(t,n){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var o=t.stateNode;break;case 30:o=t.stateNode;break;default:o=t.stateNode}typeof a=="function"?t.refCleanup=a(o):a.current=o}}catch(h){ft(t,n,h)}}function Zi(t,n){var a=t.ref,o=t.refCleanup;if(a!==null)if(typeof o=="function")try{o()}catch(h){ft(t,n,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){ft(t,n,h)}else a.current=null}function Vy(t){var n=t.type,a=t.memoizedProps,o=t.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":a.autoFocus&&o.focus();break e;case"img":a.src?o.src=a.src:a.srcSet&&(o.srcset=a.srcSet)}}catch(h){ft(t,t.return,h)}}function od(t,n,a){try{var o=t.stateNode;yb(o,t.type,a,n),o[xt]=n}catch(h){ft(t,t.return,h)}}function Uy(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&_r(t.type)||t.tag===4}function ld(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Uy(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&_r(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function ud(t,n,a){var o=t.tag;if(o===5||o===6)t=t.stateNode,n?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,n):(n=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,n.appendChild(t),a=a._reactRootContainer,a!=null||n.onclick!==null||(n.onclick=Ri));else if(o!==4&&(o===27&&_r(t.type)&&(a=t.stateNode,n=null),t=t.child,t!==null))for(ud(t,n,a),t=t.sibling;t!==null;)ud(t,n,a),t=t.sibling}function vc(t,n,a){var o=t.tag;if(o===5||o===6)t=t.stateNode,n?a.insertBefore(t,n):a.appendChild(t);else if(o!==4&&(o===27&&_r(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(vc(t,n,a),t=t.sibling;t!==null;)vc(t,n,a),t=t.sibling}function Py(t){var n=t.stateNode,a=t.memoizedProps;try{for(var o=t.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);dn(n,o,a),n[Ut]=t,n[xt]=a}catch(f){ft(t,t.return,f)}}var ws=!1,Xt=!1,cd=!1,Ly=typeof WeakSet=="function"?WeakSet:Set,an=null;function $1(t,n){if(t=t.containerInfo,Dd=zc,t=Xg(t),nf(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var o=a.getSelection&&a.getSelection();if(o&&o.rangeCount!==0){a=o.anchorNode;var h=o.anchorOffset,f=o.focusNode;o=o.focusOffset;try{a.nodeType,f.nodeType}catch{a=null;break e}var g=0,T=-1,I=-1,B=0,X=0,W=t,q=null;t:for(;;){for(var Q;W!==a||h!==0&&W.nodeType!==3||(T=g+h),W!==f||o!==0&&W.nodeType!==3||(I=g+o),W.nodeType===3&&(g+=W.nodeValue.length),(Q=W.firstChild)!==null;)q=W,W=Q;for(;;){if(W===t)break t;if(q===a&&++B===h&&(T=g),q===f&&++X===o&&(I=g),(Q=W.nextSibling)!==null)break;W=q,q=W.parentNode}W=Q}a=T===-1||I===-1?null:{start:T,end:I}}else a=null}a=a||{start:0,end:0}}else a=null;for(Od={focusedElem:t,selectionRange:a},zc=!1,an=n;an!==null;)if(n=an,t=n.child,(n.subtreeFlags&1028)!==0&&t!==null)t.return=n,an=t;else for(;an!==null;){switch(n=an,f=n.alternate,t=n.flags,n.tag){case 0:if((t&4)!==0&&(t=n.updateQueue,t=t!==null?t.events:null,t!==null))for(a=0;a<t.length;a++)h=t[a],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,a=n,h=f.memoizedProps,f=f.memoizedState,o=a.stateNode;try{var pe=Ea(a.type,h);t=o.getSnapshotBeforeUpdate(pe,f),o.__reactInternalSnapshotBeforeUpdate=t}catch(Re){ft(a,a.return,Re)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,a=t.nodeType,a===9)Ud(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Ud(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(r(163))}if(t=n.sibling,t!==null){t.return=n.return,an=t;break}an=n.return}}function ky(t,n,a){var o=a.flags;switch(a.tag){case 0:case 11:case 15:Rs(t,a),o&4&&Rl(5,a);break;case 1:if(Rs(t,a),o&4)if(t=a.stateNode,n===null)try{t.componentDidMount()}catch(g){ft(a,a.return,g)}else{var h=Ea(a.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(h,n,t.__reactInternalSnapshotBeforeUpdate)}catch(g){ft(a,a.return,g)}}o&64&&Oy(a),o&512&&Nl(a,a.return);break;case 3:if(Rs(t,a),o&64&&(t=a.updateQueue,t!==null)){if(n=null,a.child!==null)switch(a.child.tag){case 27:case 5:n=a.child.stateNode;break;case 1:n=a.child.stateNode}try{bp(t,n)}catch(g){ft(a,a.return,g)}}break;case 27:n===null&&o&4&&Py(a);case 26:case 5:Rs(t,a),n===null&&o&4&&Vy(a),o&512&&Nl(a,a.return);break;case 12:Rs(t,a);break;case 31:Rs(t,a),o&4&&By(t,a);break;case 13:Rs(t,a),o&4&&qy(t,a),o&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=rb.bind(null,a),wb(t,a))));break;case 22:if(o=a.memoizedState!==null||ws,!o){n=n!==null&&n.memoizedState!==null||Xt,h=ws;var f=Xt;ws=o,(Xt=n)&&!f?Ns(t,a,(a.subtreeFlags&8772)!==0):Rs(t,a),ws=h,Xt=f}break;case 30:break;default:Rs(t,a)}}function jy(t){var n=t.alternate;n!==null&&(t.alternate=null,jy(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&Xs(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var Nt=null,Mn=!1;function xs(t,n,a){for(a=a.child;a!==null;)zy(t,n,a),a=a.sibling}function zy(t,n,a){if(en&&typeof en.onCommitFiberUnmount=="function")try{en.onCommitFiberUnmount(zn,a)}catch{}switch(a.tag){case 26:Xt||Zi(a,n),xs(t,n,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Xt||Zi(a,n);var o=Nt,h=Mn;_r(a.type)&&(Nt=a.stateNode,Mn=!1),xs(t,n,a),Ll(a.stateNode),Nt=o,Mn=h;break;case 5:Xt||Zi(a,n);case 6:if(o=Nt,h=Mn,Nt=null,xs(t,n,a),Nt=o,Mn=h,Nt!==null)if(Mn)try{(Nt.nodeType===9?Nt.body:Nt.nodeName==="HTML"?Nt.ownerDocument.body:Nt).removeChild(a.stateNode)}catch(f){ft(a,n,f)}else try{Nt.removeChild(a.stateNode)}catch(f){ft(a,n,f)}break;case 18:Nt!==null&&(Mn?(t=Nt,O_(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),So(t)):O_(Nt,a.stateNode));break;case 4:o=Nt,h=Mn,Nt=a.stateNode.containerInfo,Mn=!0,xs(t,n,a),Nt=o,Mn=h;break;case 0:case 11:case 14:case 15:hr(2,a,n),Xt||hr(4,a,n),xs(t,n,a);break;case 1:Xt||(Zi(a,n),o=a.stateNode,typeof o.componentWillUnmount=="function"&&My(a,n,o)),xs(t,n,a);break;case 21:xs(t,n,a);break;case 22:Xt=(o=Xt)||a.memoizedState!==null,xs(t,n,a),Xt=o;break;default:xs(t,n,a)}}function By(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{So(t)}catch(a){ft(n,n.return,a)}}}function qy(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{So(t)}catch(a){ft(n,n.return,a)}}function Z1(t){switch(t.tag){case 31:case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new Ly),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new Ly),n;default:throw Error(r(435,t.tag))}}function Ec(t,n){var a=Z1(t);n.forEach(function(o){if(!a.has(o)){a.add(o);var h=ab.bind(null,t,o);o.then(h,h)}})}function Vn(t,n){var a=n.deletions;if(a!==null)for(var o=0;o<a.length;o++){var h=a[o],f=t,g=n,T=g;e:for(;T!==null;){switch(T.tag){case 27:if(_r(T.type)){Nt=T.stateNode,Mn=!1;break e}break;case 5:Nt=T.stateNode,Mn=!1;break e;case 3:case 4:Nt=T.stateNode.containerInfo,Mn=!0;break e}T=T.return}if(Nt===null)throw Error(r(160));zy(f,g,h),Nt=null,Mn=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)Hy(n,t),n=n.sibling}var Mi=null;function Hy(t,n){var a=t.alternate,o=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:Vn(n,t),Un(t),o&4&&(hr(3,t,t.return),Rl(3,t),hr(5,t,t.return));break;case 1:Vn(n,t),Un(t),o&512&&(Xt||a===null||Zi(a,a.return)),o&64&&ws&&(t=t.updateQueue,t!==null&&(o=t.callbacks,o!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?o:a.concat(o))));break;case 26:var h=Mi;if(Vn(n,t),Un(t),o&512&&(Xt||a===null||Zi(a,a.return)),o&4){var f=a!==null?a.memoizedState:null;if(o=t.memoizedState,a===null)if(o===null)if(t.stateNode===null){e:{o=t.type,a=t.memoizedProps,h=h.ownerDocument||h;t:switch(o){case"title":f=h.getElementsByTagName("title")[0],(!f||f[Qn]||f[Ut]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(o),h.head.insertBefore(f,h.querySelector("head > title"))),dn(f,o,a),f[Ut]=t,Pt(f),o=f;break e;case"link":var g=H_("link","href",h).get(o+(a.href||""));if(g){for(var T=0;T<g.length;T++)if(f=g[T],f.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&f.getAttribute("rel")===(a.rel==null?null:a.rel)&&f.getAttribute("title")===(a.title==null?null:a.title)&&f.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){g.splice(T,1);break t}}f=h.createElement(o),dn(f,o,a),h.head.appendChild(f);break;case"meta":if(g=H_("meta","content",h).get(o+(a.content||""))){for(T=0;T<g.length;T++)if(f=g[T],f.getAttribute("content")===(a.content==null?null:""+a.content)&&f.getAttribute("name")===(a.name==null?null:a.name)&&f.getAttribute("property")===(a.property==null?null:a.property)&&f.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&f.getAttribute("charset")===(a.charSet==null?null:a.charSet)){g.splice(T,1);break t}}f=h.createElement(o),dn(f,o,a),h.head.appendChild(f);break;default:throw Error(r(468,o))}f[Ut]=t,Pt(f),o=f}t.stateNode=o}else F_(h,t.type,t.stateNode);else t.stateNode=q_(h,o,t.memoizedProps);else f!==o?(f===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):f.count--,o===null?F_(h,t.type,t.stateNode):q_(h,o,t.memoizedProps)):o===null&&t.stateNode!==null&&od(t,t.memoizedProps,a.memoizedProps)}break;case 27:Vn(n,t),Un(t),o&512&&(Xt||a===null||Zi(a,a.return)),a!==null&&o&4&&od(t,t.memoizedProps,a.memoizedProps);break;case 5:if(Vn(n,t),Un(t),o&512&&(Xt||a===null||Zi(a,a.return)),t.flags&32){h=t.stateNode;try{On(h,"")}catch(pe){ft(t,t.return,pe)}}o&4&&t.stateNode!=null&&(h=t.memoizedProps,od(t,h,a!==null?a.memoizedProps:h)),o&1024&&(cd=!0);break;case 6:if(Vn(n,t),Un(t),o&4){if(t.stateNode===null)throw Error(r(162));o=t.memoizedProps,a=t.stateNode;try{a.nodeValue=o}catch(pe){ft(t,t.return,pe)}}break;case 3:if(Pc=null,h=Mi,Mi=Vc(n.containerInfo),Vn(n,t),Mi=h,Un(t),o&4&&a!==null&&a.memoizedState.isDehydrated)try{So(n.containerInfo)}catch(pe){ft(t,t.return,pe)}cd&&(cd=!1,Fy(t));break;case 4:o=Mi,Mi=Vc(t.stateNode.containerInfo),Vn(n,t),Un(t),Mi=o;break;case 12:Vn(n,t),Un(t);break;case 31:Vn(n,t),Un(t),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,Ec(t,o)));break;case 13:Vn(n,t),Un(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(bc=Ft()),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,Ec(t,o)));break;case 22:h=t.memoizedState!==null;var I=a!==null&&a.memoizedState!==null,B=ws,X=Xt;if(ws=B||h,Xt=X||I,Vn(n,t),Xt=X,ws=B,Un(t),o&8192)e:for(n=t.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(a===null||I||ws||Xt||Ta(t)),a=null,n=t;;){if(n.tag===5||n.tag===26){if(a===null){I=a=n;try{if(f=I.stateNode,h)g=f.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none";else{T=I.stateNode;var W=I.memoizedProps.style,q=W!=null&&W.hasOwnProperty("display")?W.display:null;T.style.display=q==null||typeof q=="boolean"?"":(""+q).trim()}}catch(pe){ft(I,I.return,pe)}}}else if(n.tag===6){if(a===null){I=n;try{I.stateNode.nodeValue=h?"":I.memoizedProps}catch(pe){ft(I,I.return,pe)}}}else if(n.tag===18){if(a===null){I=n;try{var Q=I.stateNode;h?M_(Q,!0):M_(I.stateNode,!1)}catch(pe){ft(I,I.return,pe)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break e;for(;n.sibling===null;){if(n.return===null||n.return===t)break e;a===n&&(a=null),n=n.return}a===n&&(a=null),n.sibling.return=n.return,n=n.sibling}o&4&&(o=t.updateQueue,o!==null&&(a=o.retryQueue,a!==null&&(o.retryQueue=null,Ec(t,a))));break;case 19:Vn(n,t),Un(t),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,Ec(t,o)));break;case 30:break;case 21:break;default:Vn(n,t),Un(t)}}function Un(t){var n=t.flags;if(n&2){try{for(var a,o=t.return;o!==null;){if(Uy(o)){a=o;break}o=o.return}if(a==null)throw Error(r(160));switch(a.tag){case 27:var h=a.stateNode,f=ld(t);vc(t,f,h);break;case 5:var g=a.stateNode;a.flags&32&&(On(g,""),a.flags&=-33);var T=ld(t);vc(t,T,g);break;case 3:case 4:var I=a.stateNode.containerInfo,B=ld(t);ud(t,B,I);break;default:throw Error(r(161))}}catch(X){ft(t,t.return,X)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function Fy(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;Fy(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function Rs(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)ky(t,n.alternate,n),n=n.sibling}function Ta(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:hr(4,n,n.return),Ta(n);break;case 1:Zi(n,n.return);var a=n.stateNode;typeof a.componentWillUnmount=="function"&&My(n,n.return,a),Ta(n);break;case 27:Ll(n.stateNode);case 26:case 5:Zi(n,n.return),Ta(n);break;case 22:n.memoizedState===null&&Ta(n);break;case 30:Ta(n);break;default:Ta(n)}t=t.sibling}}function Ns(t,n,a){for(a=a&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var o=n.alternate,h=t,f=n,g=f.flags;switch(f.tag){case 0:case 11:case 15:Ns(h,f,a),Rl(4,f);break;case 1:if(Ns(h,f,a),o=f,h=o.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(B){ft(o,o.return,B)}if(o=f,h=o.updateQueue,h!==null){var T=o.stateNode;try{var I=h.shared.hiddenCallbacks;if(I!==null)for(h.shared.hiddenCallbacks=null,h=0;h<I.length;h++)Tp(I[h],T)}catch(B){ft(o,o.return,B)}}a&&g&64&&Oy(f),Nl(f,f.return);break;case 27:Py(f);case 26:case 5:Ns(h,f,a),a&&o===null&&g&4&&Vy(f),Nl(f,f.return);break;case 12:Ns(h,f,a);break;case 31:Ns(h,f,a),a&&g&4&&By(h,f);break;case 13:Ns(h,f,a),a&&g&4&&qy(h,f);break;case 22:f.memoizedState===null&&Ns(h,f,a),Nl(f,f.return);break;case 30:break;default:Ns(h,f,a)}n=n.sibling}}function hd(t,n){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&ml(a))}function fd(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&ml(t))}function Vi(t,n,a,o){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Gy(t,n,a,o),n=n.sibling}function Gy(t,n,a,o){var h=n.flags;switch(n.tag){case 0:case 11:case 15:Vi(t,n,a,o),h&2048&&Rl(9,n);break;case 1:Vi(t,n,a,o);break;case 3:Vi(t,n,a,o),h&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&ml(t)));break;case 12:if(h&2048){Vi(t,n,a,o),t=n.stateNode;try{var f=n.memoizedProps,g=f.id,T=f.onPostCommit;typeof T=="function"&&T(g,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(I){ft(n,n.return,I)}}else Vi(t,n,a,o);break;case 31:Vi(t,n,a,o);break;case 13:Vi(t,n,a,o);break;case 23:break;case 22:f=n.stateNode,g=n.alternate,n.memoizedState!==null?f._visibility&2?Vi(t,n,a,o):Il(t,n):f._visibility&2?Vi(t,n,a,o):(f._visibility|=2,fo(t,n,a,o,(n.subtreeFlags&10256)!==0||!1)),h&2048&&hd(g,n);break;case 24:Vi(t,n,a,o),h&2048&&fd(n.alternate,n);break;default:Vi(t,n,a,o)}}function fo(t,n,a,o,h){for(h=h&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=t,g=n,T=a,I=o,B=g.flags;switch(g.tag){case 0:case 11:case 15:fo(f,g,T,I,h),Rl(8,g);break;case 23:break;case 22:var X=g.stateNode;g.memoizedState!==null?X._visibility&2?fo(f,g,T,I,h):Il(f,g):(X._visibility|=2,fo(f,g,T,I,h)),h&&B&2048&&hd(g.alternate,g);break;case 24:fo(f,g,T,I,h),h&&B&2048&&fd(g.alternate,g);break;default:fo(f,g,T,I,h)}n=n.sibling}}function Il(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var a=t,o=n,h=o.flags;switch(o.tag){case 22:Il(a,o),h&2048&&hd(o.alternate,o);break;case 24:Il(a,o),h&2048&&fd(o.alternate,o);break;default:Il(a,o)}n=n.sibling}}var Cl=8192;function mo(t,n,a){if(t.subtreeFlags&Cl)for(t=t.child;t!==null;)Qy(t,n,a),t=t.sibling}function Qy(t,n,a){switch(t.tag){case 26:mo(t,n,a),t.flags&Cl&&t.memoizedState!==null&&Lb(a,Mi,t.memoizedState,t.memoizedProps);break;case 5:mo(t,n,a);break;case 3:case 4:var o=Mi;Mi=Vc(t.stateNode.containerInfo),mo(t,n,a),Mi=o;break;case 22:t.memoizedState===null&&(o=t.alternate,o!==null&&o.memoizedState!==null?(o=Cl,Cl=16777216,mo(t,n,a),Cl=o):mo(t,n,a));break;default:mo(t,n,a)}}function Yy(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function Dl(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var o=n[a];an=o,Xy(o,t)}Yy(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Ky(t),t=t.sibling}function Ky(t){switch(t.tag){case 0:case 11:case 15:Dl(t),t.flags&2048&&hr(9,t,t.return);break;case 3:Dl(t);break;case 12:Dl(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,Tc(t)):Dl(t);break;default:Dl(t)}}function Tc(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var o=n[a];an=o,Xy(o,t)}Yy(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:hr(8,n,n.return),Tc(n);break;case 22:a=n.stateNode,a._visibility&2&&(a._visibility&=-3,Tc(n));break;default:Tc(n)}t=t.sibling}}function Xy(t,n){for(;an!==null;){var a=an;switch(a.tag){case 0:case 11:case 15:hr(8,a,n);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var o=a.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:ml(a.memoizedState.cache)}if(o=a.child,o!==null)o.return=a,an=o;else e:for(a=t;an!==null;){o=an;var h=o.sibling,f=o.return;if(jy(o),o===a){an=null;break e}if(h!==null){h.return=f,an=h;break e}an=f}}}var J1={getCacheForType:function(t){var n=hn(Qt),a=n.data.get(t);return a===void 0&&(a=t(),n.data.set(t,a)),a},cacheSignal:function(){return hn(Qt).controller.signal}},W1=typeof WeakMap=="function"?WeakMap:Map,lt=0,vt=null,He=null,Qe=0,ht=0,Zn=null,fr=!1,go=!1,dd=!1,Is=0,kt=0,dr=0,ba=0,md=0,Jn=0,po=0,Ol=null,Pn=null,gd=!1,bc=0,$y=0,Ac=1/0,Sc=null,mr=null,nn=0,gr=null,yo=null,Cs=0,pd=0,yd=null,Zy=null,Ml=0,_d=null;function Wn(){return(lt&2)!==0&&Qe!==0?Qe&-Qe:K.T!==null?Sd():Kr()}function Jy(){if(Jn===0)if((Qe&536870912)===0||Je){var t=Sn;Sn<<=1,(Sn&3932160)===0&&(Sn=262144),Jn=t}else Jn=536870912;return t=Xn.current,t!==null&&(t.flags|=32),Jn}function Ln(t,n,a){(t===vt&&(ht===2||ht===9)||t.cancelPendingCommit!==null)&&(_o(t,0),pr(t,Qe,Jn,!1)),fs(t,a),((lt&2)===0||t!==vt)&&(t===vt&&((lt&2)===0&&(ba|=a),kt===4&&pr(t,Qe,Jn,!1)),Ji(t))}function Wy(t,n,a){if((lt&6)!==0)throw Error(r(327));var o=!a&&(n&127)===0&&(n&t.expiredLanes)===0||qn(t,n),h=o?nb(t,n):Ed(t,n,!0),f=o;do{if(h===0){go&&!o&&pr(t,n,0,!1);break}else{if(a=t.current.alternate,f&&!eb(a)){h=Ed(t,n,!1),f=!1;continue}if(h===2){if(f=n,t.errorRecoveryDisabledLanes&f)var g=0;else g=t.pendingLanes&-536870913,g=g!==0?g:g&536870912?536870912:0;if(g!==0){n=g;e:{var T=t;h=Ol;var I=T.current.memoizedState.isDehydrated;if(I&&(_o(T,g).flags|=256),g=Ed(T,g,!1),g!==2){if(dd&&!I){T.errorRecoveryDisabledLanes|=f,ba|=f,h=4;break e}f=Pn,Pn=h,f!==null&&(Pn===null?Pn=f:Pn.push.apply(Pn,f))}h=g}if(f=!1,h!==2)continue}}if(h===1){_o(t,0),pr(t,n,0,!0);break}e:{switch(o=t,f=h,f){case 0:case 1:throw Error(r(345));case 4:if((n&4194048)!==n)break;case 6:pr(o,n,Jn,!fr);break e;case 2:Pn=null;break;case 3:case 5:break;default:throw Error(r(329))}if((n&62914560)===n&&(h=bc+300-Ft(),10<h)){if(pr(o,n,Jn,!fr),ri(o,0,!0)!==0)break e;Cs=n,o.timeoutHandle=C_(e_.bind(null,o,a,Pn,Sc,gd,n,Jn,ba,po,fr,f,"Throttled",-0,0),h);break e}e_(o,a,Pn,Sc,gd,n,Jn,ba,po,fr,f,null,-0,0)}}break}while(!0);Ji(t)}function e_(t,n,a,o,h,f,g,T,I,B,X,W,q,Q){if(t.timeoutHandle=-1,W=n.subtreeFlags,W&8192||(W&16785408)===16785408){W={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Ri},Qy(n,f,W);var pe=(f&62914560)===f?bc-Ft():(f&4194048)===f?$y-Ft():0;if(pe=kb(W,pe),pe!==null){Cs=f,t.cancelPendingCommit=pe(l_.bind(null,t,n,f,a,o,h,g,T,I,X,W,null,q,Q)),pr(t,f,g,!B);return}}l_(t,n,f,a,o,h,g,T,I)}function eb(t){for(var n=t;;){var a=n.tag;if((a===0||a===11||a===15)&&n.flags&16384&&(a=n.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var o=0;o<a.length;o++){var h=a[o],f=h.getSnapshot;h=h.value;try{if(!Yn(f(),h))return!1}catch{return!1}}if(a=n.child,n.subtreeFlags&16384&&a!==null)a.return=n,n=a;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function pr(t,n,a,o){n&=~md,n&=~ba,t.suspendedLanes|=n,t.pingedLanes&=~n,o&&(t.warmLanes|=n),o=t.expirationTimes;for(var h=n;0<h;){var f=31-bt(h),g=1<<f;o[f]=-1,h&=~g}a!==0&&jt(t,a,n)}function wc(){return(lt&6)===0?(Vl(0),!1):!0}function vd(){if(He!==null){if(ht===0)var t=He.return;else t=He,vs=da=null,Uf(t),oo=null,pl=0,t=He;for(;t!==null;)Dy(t.alternate,t),t=t.return;He=null}}function _o(t,n){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,Eb(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),Cs=0,vd(),vt=t,He=a=ys(t.current,null),Qe=n,ht=0,Zn=null,fr=!1,go=qn(t,n),dd=!1,po=Jn=md=ba=dr=kt=0,Pn=Ol=null,gd=!1,(n&8)!==0&&(n|=n&32);var o=t.entangledLanes;if(o!==0)for(t=t.entanglements,o&=n;0<o;){var h=31-bt(o),f=1<<h;n|=t[h],o&=~f}return Is=n,Qu(),a}function t_(t,n){je=null,K.H=Sl,n===ao||n===ec?(n=yp(),ht=3):n===Af?(n=yp(),ht=4):ht=n===Zf?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,Zn=n,He===null&&(kt=1,mc(t,gi(n,t.current)))}function n_(){var t=Xn.current;return t===null?!0:(Qe&4194048)===Qe?vi===null:(Qe&62914560)===Qe||(Qe&536870912)!==0?t===vi:!1}function i_(){var t=K.H;return K.H=Sl,t===null?Sl:t}function s_(){var t=K.A;return K.A=J1,t}function xc(){kt=4,fr||(Qe&4194048)!==Qe&&Xn.current!==null||(go=!0),(dr&134217727)===0&&(ba&134217727)===0||vt===null||pr(vt,Qe,Jn,!1)}function Ed(t,n,a){var o=lt;lt|=2;var h=i_(),f=s_();(vt!==t||Qe!==n)&&(Sc=null,_o(t,n)),n=!1;var g=kt;e:do try{if(ht!==0&&He!==null){var T=He,I=Zn;switch(ht){case 8:vd(),g=6;break e;case 3:case 2:case 9:case 6:Xn.current===null&&(n=!0);var B=ht;if(ht=0,Zn=null,vo(t,T,I,B),a&&go){g=0;break e}break;default:B=ht,ht=0,Zn=null,vo(t,T,I,B)}}tb(),g=kt;break}catch(X){t_(t,X)}while(!0);return n&&t.shellSuspendCounter++,vs=da=null,lt=o,K.H=h,K.A=f,He===null&&(vt=null,Qe=0,Qu()),g}function tb(){for(;He!==null;)r_(He)}function nb(t,n){var a=lt;lt|=2;var o=i_(),h=s_();vt!==t||Qe!==n?(Sc=null,Ac=Ft()+500,_o(t,n)):go=qn(t,n);e:do try{if(ht!==0&&He!==null){n=He;var f=Zn;t:switch(ht){case 1:ht=0,Zn=null,vo(t,n,f,1);break;case 2:case 9:if(gp(f)){ht=0,Zn=null,a_(n);break}n=function(){ht!==2&&ht!==9||vt!==t||(ht=7),Ji(t)},f.then(n,n);break e;case 3:ht=7;break e;case 4:ht=5;break e;case 7:gp(f)?(ht=0,Zn=null,a_(n)):(ht=0,Zn=null,vo(t,n,f,7));break;case 5:var g=null;switch(He.tag){case 26:g=He.memoizedState;case 5:case 27:var T=He;if(g?G_(g):T.stateNode.complete){ht=0,Zn=null;var I=T.sibling;if(I!==null)He=I;else{var B=T.return;B!==null?(He=B,Rc(B)):He=null}break t}}ht=0,Zn=null,vo(t,n,f,5);break;case 6:ht=0,Zn=null,vo(t,n,f,6);break;case 8:vd(),kt=6;break e;default:throw Error(r(462))}}ib();break}catch(X){t_(t,X)}while(!0);return vs=da=null,K.H=o,K.A=h,lt=a,He!==null?0:(vt=null,Qe=0,Qu(),kt)}function ib(){for(;He!==null&&!Fs();)r_(He)}function r_(t){var n=Iy(t.alternate,t,Is);t.memoizedProps=t.pendingProps,n===null?Rc(t):He=n}function a_(t){var n=t,a=n.alternate;switch(n.tag){case 15:case 0:n=Ay(a,n,n.pendingProps,n.type,void 0,Qe);break;case 11:n=Ay(a,n,n.pendingProps,n.type.render,n.ref,Qe);break;case 5:Uf(n);default:Dy(a,n),n=He=sp(n,Is),n=Iy(a,n,Is)}t.memoizedProps=t.pendingProps,n===null?Rc(t):He=n}function vo(t,n,a,o){vs=da=null,Uf(n),oo=null,pl=0;var h=n.return;try{if(G1(t,h,n,a,Qe)){kt=1,mc(t,gi(a,t.current)),He=null;return}}catch(f){if(h!==null)throw He=h,f;kt=1,mc(t,gi(a,t.current)),He=null;return}n.flags&32768?(Je||o===1?t=!0:go||(Qe&536870912)!==0?t=!1:(fr=t=!0,(o===2||o===9||o===3||o===6)&&(o=Xn.current,o!==null&&o.tag===13&&(o.flags|=16384))),o_(n,t)):Rc(n)}function Rc(t){var n=t;do{if((n.flags&32768)!==0){o_(n,fr);return}t=n.return;var a=K1(n.alternate,n,Is);if(a!==null){He=a;return}if(n=n.sibling,n!==null){He=n;return}He=n=t}while(n!==null);kt===0&&(kt=5)}function o_(t,n){do{var a=X1(t.alternate,t);if(a!==null){a.flags&=32767,He=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!n&&(t=t.sibling,t!==null)){He=t;return}He=t=a}while(t!==null);kt=6,He=null}function l_(t,n,a,o,h,f,g,T,I){t.cancelPendingCommit=null;do Nc();while(nn!==0);if((lt&6)!==0)throw Error(r(327));if(n!==null){if(n===t.current)throw Error(r(177));if(f=n.lanes|n.childLanes,f|=lf,Jo(t,a,f,g,T,I),t===vt&&(He=vt=null,Qe=0),yo=n,gr=t,Cs=a,pd=f,yd=h,Zy=o,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,ob(ii,function(){return d_(),null})):(t.callbackNode=null,t.callbackPriority=0),o=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||o){o=K.T,K.T=null,h=le.p,le.p=2,g=lt,lt|=4;try{$1(t,n,a)}finally{lt=g,le.p=h,K.T=o}}nn=1,u_(),c_(),h_()}}function u_(){if(nn===1){nn=0;var t=gr,n=yo,a=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||a){a=K.T,K.T=null;var o=le.p;le.p=2;var h=lt;lt|=4;try{Hy(n,t);var f=Od,g=Xg(t.containerInfo),T=f.focusedElem,I=f.selectionRange;if(g!==T&&T&&T.ownerDocument&&Kg(T.ownerDocument.documentElement,T)){if(I!==null&&nf(T)){var B=I.start,X=I.end;if(X===void 0&&(X=B),"selectionStart"in T)T.selectionStart=B,T.selectionEnd=Math.min(X,T.value.length);else{var W=T.ownerDocument||document,q=W&&W.defaultView||window;if(q.getSelection){var Q=q.getSelection(),pe=T.textContent.length,Re=Math.min(I.start,pe),pt=I.end===void 0?Re:Math.min(I.end,pe);!Q.extend&&Re>pt&&(g=pt,pt=Re,Re=g);var L=Yg(T,Re),M=Yg(T,pt);if(L&&M&&(Q.rangeCount!==1||Q.anchorNode!==L.node||Q.anchorOffset!==L.offset||Q.focusNode!==M.node||Q.focusOffset!==M.offset)){var z=W.createRange();z.setStart(L.node,L.offset),Q.removeAllRanges(),Re>pt?(Q.addRange(z),Q.extend(M.node,M.offset)):(z.setEnd(M.node,M.offset),Q.addRange(z))}}}}for(W=[],Q=T;Q=Q.parentNode;)Q.nodeType===1&&W.push({element:Q,left:Q.scrollLeft,top:Q.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<W.length;T++){var Z=W[T];Z.element.scrollLeft=Z.left,Z.element.scrollTop=Z.top}}zc=!!Dd,Od=Dd=null}finally{lt=h,le.p=o,K.T=a}}t.current=n,nn=2}}function c_(){if(nn===2){nn=0;var t=gr,n=yo,a=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||a){a=K.T,K.T=null;var o=le.p;le.p=2;var h=lt;lt|=4;try{ky(t,n.alternate,n)}finally{lt=h,le.p=o,K.T=a}}nn=3}}function h_(){if(nn===4||nn===3){nn=0,An();var t=gr,n=yo,a=Cs,o=Zy;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?nn=5:(nn=0,yo=gr=null,f_(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(mr=null),xi(a),n=n.stateNode,en&&typeof en.onCommitFiberRoot=="function")try{en.onCommitFiberRoot(zn,n,void 0,(n.current.flags&128)===128)}catch{}if(o!==null){n=K.T,h=le.p,le.p=2,K.T=null;try{for(var f=t.onRecoverableError,g=0;g<o.length;g++){var T=o[g];f(T.value,{componentStack:T.stack})}}finally{K.T=n,le.p=h}}(Cs&3)!==0&&Nc(),Ji(t),h=t.pendingLanes,(a&261930)!==0&&(h&42)!==0?t===_d?Ml++:(Ml=0,_d=t):Ml=0,Vl(0)}}function f_(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,ml(n)))}function Nc(){return u_(),c_(),h_(),d_()}function d_(){if(nn!==5)return!1;var t=gr,n=pd;pd=0;var a=xi(Cs),o=K.T,h=le.p;try{le.p=32>a?32:a,K.T=null,a=yd,yd=null;var f=gr,g=Cs;if(nn=0,yo=gr=null,Cs=0,(lt&6)!==0)throw Error(r(331));var T=lt;if(lt|=4,Ky(f.current),Gy(f,f.current,g,a),lt=T,Vl(0,!1),en&&typeof en.onPostCommitFiberRoot=="function")try{en.onPostCommitFiberRoot(zn,f)}catch{}return!0}finally{le.p=h,K.T=o,f_(t,n)}}function m_(t,n,a){n=gi(a,n),n=$f(t.stateNode,n,2),t=lr(t,n,2),t!==null&&(fs(t,2),Ji(t))}function ft(t,n,a){if(t.tag===3)m_(t,t,a);else for(;n!==null;){if(n.tag===3){m_(n,t,a);break}else if(n.tag===1){var o=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(mr===null||!mr.has(o))){t=gi(a,t),a=gy(2),o=lr(n,a,2),o!==null&&(py(a,o,n,t),fs(o,2),Ji(o));break}}n=n.return}}function Td(t,n,a){var o=t.pingCache;if(o===null){o=t.pingCache=new W1;var h=new Set;o.set(n,h)}else h=o.get(n),h===void 0&&(h=new Set,o.set(n,h));h.has(a)||(dd=!0,h.add(a),t=sb.bind(null,t,n,a),n.then(t,t))}function sb(t,n,a){var o=t.pingCache;o!==null&&o.delete(n),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,vt===t&&(Qe&a)===a&&(kt===4||kt===3&&(Qe&62914560)===Qe&&300>Ft()-bc?(lt&2)===0&&_o(t,0):md|=a,po===Qe&&(po=0)),Ji(t)}function g_(t,n){n===0&&(n=ja()),t=ca(t,n),t!==null&&(fs(t,n),Ji(t))}function rb(t){var n=t.memoizedState,a=0;n!==null&&(a=n.retryLane),g_(t,a)}function ab(t,n){var a=0;switch(t.tag){case 31:case 13:var o=t.stateNode,h=t.memoizedState;h!==null&&(a=h.retryLane);break;case 19:o=t.stateNode;break;case 22:o=t.stateNode._retryCache;break;default:throw Error(r(314))}o!==null&&o.delete(n),g_(t,a)}function ob(t,n){return it(t,n)}var Ic=null,Eo=null,bd=!1,Cc=!1,Ad=!1,yr=0;function Ji(t){t!==Eo&&t.next===null&&(Eo===null?Ic=Eo=t:Eo=Eo.next=t),Cc=!0,bd||(bd=!0,ub())}function Vl(t,n){if(!Ad&&Cc){Ad=!0;do for(var a=!1,o=Ic;o!==null;){if(t!==0){var h=o.pendingLanes;if(h===0)var f=0;else{var g=o.suspendedLanes,T=o.pingedLanes;f=(1<<31-bt(42|t)+1)-1,f&=h&~(g&~T),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(a=!0,v_(o,f))}else f=Qe,f=ri(o,o===vt?f:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(f&3)===0||qn(o,f)||(a=!0,v_(o,f));o=o.next}while(a);Ad=!1}}function lb(){p_()}function p_(){Cc=bd=!1;var t=0;yr!==0&&vb()&&(t=yr);for(var n=Ft(),a=null,o=Ic;o!==null;){var h=o.next,f=y_(o,n);f===0?(o.next=null,a===null?Ic=h:a.next=h,h===null&&(Eo=a)):(a=o,(t!==0||(f&3)!==0)&&(Cc=!0)),o=h}nn!==0&&nn!==5||Vl(t),yr!==0&&(yr=0)}function y_(t,n){for(var a=t.suspendedLanes,o=t.pingedLanes,h=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var g=31-bt(f),T=1<<g,I=h[g];I===-1?((T&a)===0||(T&o)!==0)&&(h[g]=Zo(T,n)):I<=n&&(t.expiredLanes|=T),f&=~T}if(n=vt,a=Qe,a=ri(t,t===n?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),o=t.callbackNode,a===0||t===n&&(ht===2||ht===9)||t.cancelPendingCommit!==null)return o!==null&&o!==null&&Bi(o),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||qn(t,a)){if(n=a&-a,n===t.callbackPriority)return n;switch(o!==null&&Bi(o),xi(a)){case 2:case 8:a=Si;break;case 32:a=ii;break;case 268435456:a=Gs;break;default:a=ii}return o=__.bind(null,t),a=it(a,o),t.callbackPriority=n,t.callbackNode=a,n}return o!==null&&o!==null&&Bi(o),t.callbackPriority=2,t.callbackNode=null,2}function __(t,n){if(nn!==0&&nn!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(Nc()&&t.callbackNode!==a)return null;var o=Qe;return o=ri(t,t===vt?o:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),o===0?null:(Wy(t,o,n),y_(t,Ft()),t.callbackNode!=null&&t.callbackNode===a?__.bind(null,t):null)}function v_(t,n){if(Nc())return null;Wy(t,n,!0)}function ub(){Tb(function(){(lt&6)!==0?it(Qr,lb):p_()})}function Sd(){if(yr===0){var t=so;t===0&&(t=tn,tn<<=1,(tn&261888)===0&&(tn=256)),yr=t}return yr}function E_(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Ha(""+t)}function T_(t,n){var a=n.ownerDocument.createElement("input");return a.name=n.name,a.value=n.value,t.id&&a.setAttribute("form",t.id),n.parentNode.insertBefore(a,n),t=new FormData(t),a.parentNode.removeChild(a),t}function cb(t,n,a,o,h){if(n==="submit"&&a&&a.stateNode===h){var f=E_((h[xt]||null).action),g=o.submitter;g&&(n=(n=g[xt]||null)?E_(n.formAction):g.getAttribute("formAction"),n!==null&&(f=n,g=null));var T=new Gi("action","action",null,o,h);t.push({event:T,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(yr!==0){var I=g?T_(h,g):new FormData(h);Ff(a,{pending:!0,data:I,method:h.method,action:f},null,I)}}else typeof f=="function"&&(T.preventDefault(),I=g?T_(h,g):new FormData(h),Ff(a,{pending:!0,data:I,method:h.method,action:f},f,I))},currentTarget:h}]})}}for(var wd=0;wd<of.length;wd++){var xd=of[wd],hb=xd.toLowerCase(),fb=xd[0].toUpperCase()+xd.slice(1);Oi(hb,"on"+fb)}Oi(Jg,"onAnimationEnd"),Oi(Wg,"onAnimationIteration"),Oi(ep,"onAnimationStart"),Oi("dblclick","onDoubleClick"),Oi("focusin","onFocus"),Oi("focusout","onBlur"),Oi(N1,"onTransitionRun"),Oi(I1,"onTransitionStart"),Oi(C1,"onTransitionCancel"),Oi(tp,"onTransitionEnd"),ci("onMouseEnter",["mouseout","mouseover"]),ci("onMouseLeave",["mouseout","mouseover"]),ci("onPointerEnter",["pointerout","pointerover"]),ci("onPointerLeave",["pointerout","pointerover"]),ui("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ui("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ui("onBeforeInput",["compositionend","keypress","textInput","paste"]),ui("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ui("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ui("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ul="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),db=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ul));function b_(t,n){n=(n&4)!==0;for(var a=0;a<t.length;a++){var o=t[a],h=o.event;o=o.listeners;e:{var f=void 0;if(n)for(var g=o.length-1;0<=g;g--){var T=o[g],I=T.instance,B=T.currentTarget;if(T=T.listener,I!==f&&h.isPropagationStopped())break e;f=T,h.currentTarget=B;try{f(h)}catch(X){Gu(X)}h.currentTarget=null,f=I}else for(g=0;g<o.length;g++){if(T=o[g],I=T.instance,B=T.currentTarget,T=T.listener,I!==f&&h.isPropagationStopped())break e;f=T,h.currentTarget=B;try{f(h)}catch(X){Gu(X)}h.currentTarget=null,f=I}}}}function Fe(t,n){var a=n[Ks];a===void 0&&(a=n[Ks]=new Set);var o=t+"__bubble";a.has(o)||(A_(n,t,2,!1),a.add(o))}function Rd(t,n,a){var o=0;n&&(o|=4),A_(a,t,o,n)}var Dc="_reactListening"+Math.random().toString(36).slice(2);function Nd(t){if(!t[Dc]){t[Dc]=!0,Zr.forEach(function(a){a!=="selectionchange"&&(db.has(a)||Rd(a,!1,t),Rd(a,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[Dc]||(n[Dc]=!0,Rd("selectionchange",!1,n))}}function A_(t,n,a,o){switch(J_(n)){case 2:var h=Bb;break;case 8:h=qb;break;default:h=Hd}a=h.bind(null,n,a,t),h=void 0,!na||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),o?h!==void 0?t.addEventListener(n,a,{capture:!0,passive:h}):t.addEventListener(n,a,!0):h!==void 0?t.addEventListener(n,a,{passive:h}):t.addEventListener(n,a,!1)}function Id(t,n,a,o,h){var f=o;if((n&1)===0&&(n&2)===0&&o!==null)e:for(;;){if(o===null)return;var g=o.tag;if(g===3||g===4){var T=o.stateNode.containerInfo;if(T===h)break;if(g===4)for(g=o.return;g!==null;){var I=g.tag;if((I===3||I===4)&&g.stateNode.containerInfo===h)return;g=g.return}for(;T!==null;){if(g=oi(T),g===null)return;if(I=g.tag,I===5||I===6||I===26||I===27){o=f=g;continue e}T=T.parentNode}}o=o.return}Js(function(){var B=f,X=hi(a),W=[];e:{var q=np.get(t);if(q!==void 0){var Q=Gi,pe=t;switch(t){case"keypress":if(sa(a)===0)break e;case"keydown":case"keyup":Q=qu;break;case"focusin":pe="focus",Q=aa;break;case"focusout":pe="blur",Q=aa;break;case"beforeblur":case"afterblur":Q=aa;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Q=al;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Q=Mu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Q=m;break;case Jg:case Wg:case ep:Q=Uu;break;case tp:Q=b;break;case"scroll":case"scrollend":Q=rl;break;case"wheel":Q=G;break;case"copy":case"cut":case"paste":Q=Pu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Q=ps;break;case"toggle":case"beforetoggle":Q=ke}var Re=(n&4)!==0,pt=!Re&&(t==="scroll"||t==="scrollend"),L=Re?q!==null?q+"Capture":null:q;Re=[];for(var M=B,z;M!==null;){var Z=M;if(z=Z.stateNode,Z=Z.tag,Z!==5&&Z!==26&&Z!==27||z===null||L===null||(Z=Ni(M,L),Z!=null&&Re.push(Pl(M,Z,z))),pt)break;M=M.return}0<Re.length&&(q=new Q(q,pe,null,a,X),W.push({event:q,listeners:Re}))}}if((n&7)===0){e:{if(q=t==="mouseover"||t==="pointerover",Q=t==="mouseout"||t==="pointerout",q&&a!==nl&&(pe=a.relatedTarget||a.fromElement)&&(oi(pe)||pe[Gn]))break e;if((Q||q)&&(q=X.window===X?X:(q=X.ownerDocument)?q.defaultView||q.parentWindow:window,Q?(pe=a.relatedTarget||a.toElement,Q=B,pe=pe?oi(pe):null,pe!==null&&(pt=c(pe),Re=pe.tag,pe!==pt||Re!==5&&Re!==27&&Re!==6)&&(pe=null)):(Q=null,pe=B),Q!==pe)){if(Re=al,Z="onMouseLeave",L="onMouseEnter",M="mouse",(t==="pointerout"||t==="pointerover")&&(Re=ps,Z="onPointerLeave",L="onPointerEnter",M="pointer"),pt=Q==null?q:wn(Q),z=pe==null?q:wn(pe),q=new Re(Z,M+"leave",Q,a,X),q.target=pt,q.relatedTarget=z,Z=null,oi(X)===B&&(Re=new Re(L,M+"enter",pe,a,X),Re.target=z,Re.relatedTarget=pt,Z=Re),pt=Z,Q&&pe)t:{for(Re=mb,L=Q,M=pe,z=0,Z=L;Z;Z=Re(Z))z++;Z=0;for(var Ae=M;Ae;Ae=Re(Ae))Z++;for(;0<z-Z;)L=Re(L),z--;for(;0<Z-z;)M=Re(M),Z--;for(;z--;){if(L===M||M!==null&&L===M.alternate){Re=L;break t}L=Re(L),M=Re(M)}Re=null}else Re=null;Q!==null&&S_(W,q,Q,Re,!1),pe!==null&&pt!==null&&S_(W,pt,pe,Re,!0)}}e:{if(q=B?wn(B):window,Q=q.nodeName&&q.nodeName.toLowerCase(),Q==="select"||Q==="input"&&q.type==="file")var rt=Bg;else if(jg(q))if(qg)rt=w1;else{rt=A1;var ve=b1}else Q=q.nodeName,!Q||Q.toLowerCase()!=="input"||q.type!=="checkbox"&&q.type!=="radio"?B&&qa(B.elementType)&&(rt=Bg):rt=S1;if(rt&&(rt=rt(t,B))){zg(W,rt,a,X);break e}ve&&ve(t,q,B),t==="focusout"&&B&&q.type==="number"&&B.memoizedProps.value!=null&&Ba(q,"number",q.value)}switch(ve=B?wn(B):window,t){case"focusin":(jg(ve)||ve.contentEditable==="true")&&($a=ve,sf=B,hl=null);break;case"focusout":hl=sf=$a=null;break;case"mousedown":rf=!0;break;case"contextmenu":case"mouseup":case"dragend":rf=!1,$g(W,a,X);break;case"selectionchange":if(R1)break;case"keydown":case"keyup":$g(W,a,X)}var ze;if(ot)e:{switch(t){case"compositionstart":var Ye="onCompositionStart";break e;case"compositionend":Ye="onCompositionEnd";break e;case"compositionupdate":Ye="onCompositionUpdate";break e}Ye=void 0}else Xa?oa(t,a)&&(Ye="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(Ye="onCompositionStart");Ye&&(Ki&&a.locale!=="ko"&&(Xa||Ye!=="onCompositionStart"?Ye==="onCompositionEnd"&&Xa&&(ze=sl()):(Fi=X,il="value"in Fi?Fi.value:Fi.textContent,Xa=!0)),ve=Oc(B,Ye),0<ve.length&&(Ye=new Yi(Ye,t,null,a,X),W.push({event:Ye,listeners:ve}),ze?Ye.data=ze:(ze=Ka(a),ze!==null&&(Ye.data=ze)))),(ze=di?_1(t,a):v1(t,a))&&(Ye=Oc(B,"onBeforeInput"),0<Ye.length&&(ve=new Yi("onBeforeInput","beforeinput",null,a,X),W.push({event:ve,listeners:Ye}),ve.data=ze)),cb(W,t,B,a,X)}b_(W,n)})}function Pl(t,n,a){return{instance:t,listener:n,currentTarget:a}}function Oc(t,n){for(var a=n+"Capture",o=[];t!==null;){var h=t,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=Ni(t,a),h!=null&&o.unshift(Pl(t,h,f)),h=Ni(t,n),h!=null&&o.push(Pl(t,h,f))),t.tag===3)return o;t=t.return}return[]}function mb(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function S_(t,n,a,o,h){for(var f=n._reactName,g=[];a!==null&&a!==o;){var T=a,I=T.alternate,B=T.stateNode;if(T=T.tag,I!==null&&I===o)break;T!==5&&T!==26&&T!==27||B===null||(I=B,h?(B=Ni(a,f),B!=null&&g.unshift(Pl(a,B,I))):h||(B=Ni(a,f),B!=null&&g.push(Pl(a,B,I)))),a=a.return}g.length!==0&&t.push({event:n,listeners:g})}var gb=/\r\n?/g,pb=/\u0000|\uFFFD/g;function w_(t){return(typeof t=="string"?t:""+t).replace(gb,`
`).replace(pb,"")}function x_(t,n){return n=w_(n),w_(t)===n}function gt(t,n,a,o,h,f){switch(a){case"children":typeof o=="string"?n==="body"||n==="textarea"&&o===""||On(t,o):(typeof o=="number"||typeof o=="bigint")&&n!=="body"&&On(t,""+o);break;case"className":P(t,"class",o);break;case"tabIndex":P(t,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":P(t,a,o);break;case"style":tl(t,o,f);break;case"data":if(n!=="object"){P(t,"data",o);break}case"src":case"href":if(o===""&&(n!=="a"||a!=="href")){t.removeAttribute(a);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(a);break}o=Ha(""+o),t.setAttribute(a,o);break;case"action":case"formAction":if(typeof o=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(a==="formAction"?(n!=="input"&&gt(t,n,"name",h.name,h,null),gt(t,n,"formEncType",h.formEncType,h,null),gt(t,n,"formMethod",h.formMethod,h,null),gt(t,n,"formTarget",h.formTarget,h,null)):(gt(t,n,"encType",h.encType,h,null),gt(t,n,"method",h.method,h,null),gt(t,n,"target",h.target,h,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(a);break}o=Ha(""+o),t.setAttribute(a,o);break;case"onClick":o!=null&&(t.onclick=Ri);break;case"onScroll":o!=null&&Fe("scroll",t);break;case"onScrollEnd":o!=null&&Fe("scrollend",t);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(r(61));if(a=o.__html,a!=null){if(h.children!=null)throw Error(r(60));t.innerHTML=a}}break;case"multiple":t.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":t.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){t.removeAttribute("xlink:href");break}a=Ha(""+o),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(a,""+o):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":o===!0?t.setAttribute(a,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(a,o):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?t.setAttribute(a,o):t.removeAttribute(a);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?t.removeAttribute(a):t.setAttribute(a,o);break;case"popover":Fe("beforetoggle",t),Fe("toggle",t),F(t,"popover",o);break;case"xlinkActuate":te(t,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":te(t,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":te(t,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":te(t,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":te(t,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":te(t,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":te(t,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":te(t,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":te(t,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":F(t,"is",o);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Ou.get(a)||a,F(t,a,o))}}function Cd(t,n,a,o,h,f){switch(a){case"style":tl(t,o,f);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(r(61));if(a=o.__html,a!=null){if(h.children!=null)throw Error(r(60));t.innerHTML=a}}break;case"children":typeof o=="string"?On(t,o):(typeof o=="number"||typeof o=="bigint")&&On(t,""+o);break;case"onScroll":o!=null&&Fe("scroll",t);break;case"onScrollEnd":o!=null&&Fe("scrollend",t);break;case"onClick":o!=null&&(t.onclick=Ri);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Jr.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),n=a.slice(2,h?a.length-7:void 0),f=t[xt]||null,f=f!=null?f[a]:null,typeof f=="function"&&t.removeEventListener(n,f,h),typeof o=="function")){typeof f!="function"&&f!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(n,o,h);break e}a in t?t[a]=o:o===!0?t.setAttribute(a,""):F(t,a,o)}}}function dn(t,n,a){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Fe("error",t),Fe("load",t);var o=!1,h=!1,f;for(f in a)if(a.hasOwnProperty(f)){var g=a[f];if(g!=null)switch(f){case"src":o=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,n));default:gt(t,n,f,g,a,null)}}h&&gt(t,n,"srcSet",a.srcSet,a,null),o&&gt(t,n,"src",a.src,a,null);return;case"input":Fe("invalid",t);var T=f=g=h=null,I=null,B=null;for(o in a)if(a.hasOwnProperty(o)){var X=a[o];if(X!=null)switch(o){case"name":h=X;break;case"type":g=X;break;case"checked":I=X;break;case"defaultChecked":B=X;break;case"value":f=X;break;case"defaultValue":T=X;break;case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(r(137,n));break;default:gt(t,n,o,X,a,null)}}rn(t,f,T,I,B,g,h,!1);return;case"select":Fe("invalid",t),o=g=f=null;for(h in a)if(a.hasOwnProperty(h)&&(T=a[h],T!=null))switch(h){case"value":f=T;break;case"defaultValue":g=T;break;case"multiple":o=T;default:gt(t,n,h,T,a,null)}n=f,a=g,t.multiple=!!o,n!=null?ds(t,!!o,n,!1):a!=null&&ds(t,!!o,a,!0);return;case"textarea":Fe("invalid",t),f=h=o=null;for(g in a)if(a.hasOwnProperty(g)&&(T=a[g],T!=null))switch(g){case"value":o=T;break;case"defaultValue":h=T;break;case"children":f=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(r(91));break;default:gt(t,n,g,T,a,null)}Gt(t,o,h,f);return;case"option":for(I in a)if(a.hasOwnProperty(I)&&(o=a[I],o!=null))switch(I){case"selected":t.selected=o&&typeof o!="function"&&typeof o!="symbol";break;default:gt(t,n,I,o,a,null)}return;case"dialog":Fe("beforetoggle",t),Fe("toggle",t),Fe("cancel",t),Fe("close",t);break;case"iframe":case"object":Fe("load",t);break;case"video":case"audio":for(o=0;o<Ul.length;o++)Fe(Ul[o],t);break;case"image":Fe("error",t),Fe("load",t);break;case"details":Fe("toggle",t);break;case"embed":case"source":case"link":Fe("error",t),Fe("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(B in a)if(a.hasOwnProperty(B)&&(o=a[B],o!=null))switch(B){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,n));default:gt(t,n,B,o,a,null)}return;default:if(qa(n)){for(X in a)a.hasOwnProperty(X)&&(o=a[X],o!==void 0&&Cd(t,n,X,o,a,void 0));return}}for(T in a)a.hasOwnProperty(T)&&(o=a[T],o!=null&&gt(t,n,T,o,a,null))}function yb(t,n,a,o){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,g=null,T=null,I=null,B=null,X=null;for(Q in a){var W=a[Q];if(a.hasOwnProperty(Q)&&W!=null)switch(Q){case"checked":break;case"value":break;case"defaultValue":I=W;default:o.hasOwnProperty(Q)||gt(t,n,Q,null,o,W)}}for(var q in o){var Q=o[q];if(W=a[q],o.hasOwnProperty(q)&&(Q!=null||W!=null))switch(q){case"type":f=Q;break;case"name":h=Q;break;case"checked":B=Q;break;case"defaultChecked":X=Q;break;case"value":g=Q;break;case"defaultValue":T=Q;break;case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(r(137,n));break;default:Q!==W&&gt(t,n,q,Q,o,W)}}Ge(t,g,T,I,B,X,f,h);return;case"select":Q=g=T=q=null;for(f in a)if(I=a[f],a.hasOwnProperty(f)&&I!=null)switch(f){case"value":break;case"multiple":Q=I;default:o.hasOwnProperty(f)||gt(t,n,f,null,o,I)}for(h in o)if(f=o[h],I=a[h],o.hasOwnProperty(h)&&(f!=null||I!=null))switch(h){case"value":q=f;break;case"defaultValue":T=f;break;case"multiple":g=f;default:f!==I&&gt(t,n,h,f,o,I)}n=T,a=g,o=Q,q!=null?ds(t,!!a,q,!1):!!o!=!!a&&(n!=null?ds(t,!!a,n,!0):ds(t,!!a,a?[]:"",!1));return;case"textarea":Q=q=null;for(T in a)if(h=a[T],a.hasOwnProperty(T)&&h!=null&&!o.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:gt(t,n,T,null,o,h)}for(g in o)if(h=o[g],f=a[g],o.hasOwnProperty(g)&&(h!=null||f!=null))switch(g){case"value":q=h;break;case"defaultValue":Q=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(r(91));break;default:h!==f&&gt(t,n,g,h,o,f)}Wo(t,q,Q);return;case"option":for(var pe in a)if(q=a[pe],a.hasOwnProperty(pe)&&q!=null&&!o.hasOwnProperty(pe))switch(pe){case"selected":t.selected=!1;break;default:gt(t,n,pe,null,o,q)}for(I in o)if(q=o[I],Q=a[I],o.hasOwnProperty(I)&&q!==Q&&(q!=null||Q!=null))switch(I){case"selected":t.selected=q&&typeof q!="function"&&typeof q!="symbol";break;default:gt(t,n,I,q,o,Q)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Re in a)q=a[Re],a.hasOwnProperty(Re)&&q!=null&&!o.hasOwnProperty(Re)&&gt(t,n,Re,null,o,q);for(B in o)if(q=o[B],Q=a[B],o.hasOwnProperty(B)&&q!==Q&&(q!=null||Q!=null))switch(B){case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(r(137,n));break;default:gt(t,n,B,q,o,Q)}return;default:if(qa(n)){for(var pt in a)q=a[pt],a.hasOwnProperty(pt)&&q!==void 0&&!o.hasOwnProperty(pt)&&Cd(t,n,pt,void 0,o,q);for(X in o)q=o[X],Q=a[X],!o.hasOwnProperty(X)||q===Q||q===void 0&&Q===void 0||Cd(t,n,X,q,o,Q);return}}for(var L in a)q=a[L],a.hasOwnProperty(L)&&q!=null&&!o.hasOwnProperty(L)&&gt(t,n,L,null,o,q);for(W in o)q=o[W],Q=a[W],!o.hasOwnProperty(W)||q===Q||q==null&&Q==null||gt(t,n,W,q,o,Q)}function R_(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function _b(){if(typeof performance.getEntriesByType=="function"){for(var t=0,n=0,a=performance.getEntriesByType("resource"),o=0;o<a.length;o++){var h=a[o],f=h.transferSize,g=h.initiatorType,T=h.duration;if(f&&T&&R_(g)){for(g=0,T=h.responseEnd,o+=1;o<a.length;o++){var I=a[o],B=I.startTime;if(B>T)break;var X=I.transferSize,W=I.initiatorType;X&&R_(W)&&(I=I.responseEnd,g+=X*(I<T?1:(T-B)/(I-B)))}if(--o,n+=8*(f+g)/(h.duration/1e3),t++,10<t)break}}if(0<t)return n/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var Dd=null,Od=null;function Mc(t){return t.nodeType===9?t:t.ownerDocument}function N_(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function I_(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function Md(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Vd=null;function vb(){var t=window.event;return t&&t.type==="popstate"?t===Vd?!1:(Vd=t,!0):(Vd=null,!1)}var C_=typeof setTimeout=="function"?setTimeout:void 0,Eb=typeof clearTimeout=="function"?clearTimeout:void 0,D_=typeof Promise=="function"?Promise:void 0,Tb=typeof queueMicrotask=="function"?queueMicrotask:typeof D_<"u"?function(t){return D_.resolve(null).then(t).catch(bb)}:C_;function bb(t){setTimeout(function(){throw t})}function _r(t){return t==="head"}function O_(t,n){var a=n,o=0;do{var h=a.nextSibling;if(t.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"||a==="/&"){if(o===0){t.removeChild(h),So(n);return}o--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")o++;else if(a==="html")Ll(t.ownerDocument.documentElement);else if(a==="head"){a=t.ownerDocument.head,Ll(a);for(var f=a.firstChild;f;){var g=f.nextSibling,T=f.nodeName;f[Qn]||T==="SCRIPT"||T==="STYLE"||T==="LINK"&&f.rel.toLowerCase()==="stylesheet"||a.removeChild(f),f=g}}else a==="body"&&Ll(t.ownerDocument.body);a=h}while(a);So(n)}function M_(t,n){var a=t;t=0;do{var o=a.nextSibling;if(a.nodeType===1?n?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(n?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),o&&o.nodeType===8)if(a=o.data,a==="/$"){if(t===0)break;t--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||t++;a=o}while(a)}function Ud(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var a=n;switch(n=n.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Ud(a),Xs(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function Ab(t,n,a,o){for(;t.nodeType===1;){var h=a;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!o&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(o){if(!t[Qn])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=Ei(t.nextSibling),t===null)break}return null}function Sb(t,n,a){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=Ei(t.nextSibling),t===null))return null;return t}function V_(t,n){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=Ei(t.nextSibling),t===null))return null;return t}function Pd(t){return t.data==="$?"||t.data==="$~"}function Ld(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function wb(t,n){var a=t.ownerDocument;if(t.data==="$~")t._reactRetry=n;else if(t.data!=="$?"||a.readyState!=="loading")n();else{var o=function(){n(),a.removeEventListener("DOMContentLoaded",o)};a.addEventListener("DOMContentLoaded",o),t._reactRetry=o}}function Ei(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return t}var kd=null;function U_(t){t=t.nextSibling;for(var n=0;t;){if(t.nodeType===8){var a=t.data;if(a==="/$"||a==="/&"){if(n===0)return Ei(t.nextSibling);n--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||n++}t=t.nextSibling}return null}function P_(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(n===0)return t;n--}else a!=="/$"&&a!=="/&"||n++}t=t.previousSibling}return null}function L_(t,n,a){switch(n=Mc(a),t){case"html":if(t=n.documentElement,!t)throw Error(r(452));return t;case"head":if(t=n.head,!t)throw Error(r(453));return t;case"body":if(t=n.body,!t)throw Error(r(454));return t;default:throw Error(r(451))}}function Ll(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);Xs(t)}var Ti=new Map,k_=new Set;function Vc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Ds=le.d;le.d={f:xb,r:Rb,D:Nb,C:Ib,L:Cb,m:Db,X:Mb,S:Ob,M:Vb};function xb(){var t=Ds.f(),n=wc();return t||n}function Rb(t){var n=Dn(t);n!==null&&n.tag===5&&n.type==="form"?ty(n):Ds.r(t)}var To=typeof document>"u"?null:document;function j_(t,n,a){var o=To;if(o&&typeof n=="string"&&n){var h=st(n);h='link[rel="'+t+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),k_.has(h)||(k_.add(h),t={rel:t,crossOrigin:a,href:n},o.querySelector(h)===null&&(n=o.createElement("link"),dn(n,"link",t),Pt(n),o.head.appendChild(n)))}}function Nb(t){Ds.D(t),j_("dns-prefetch",t,null)}function Ib(t,n){Ds.C(t,n),j_("preconnect",t,n)}function Cb(t,n,a){Ds.L(t,n,a);var o=To;if(o&&t&&n){var h='link[rel="preload"][as="'+st(n)+'"]';n==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+st(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+st(a.imageSizes)+'"]')):h+='[href="'+st(t)+'"]';var f=h;switch(n){case"style":f=bo(t);break;case"script":f=Ao(t)}Ti.has(f)||(t=w({rel:"preload",href:n==="image"&&a&&a.imageSrcSet?void 0:t,as:n},a),Ti.set(f,t),o.querySelector(h)!==null||n==="style"&&o.querySelector(kl(f))||n==="script"&&o.querySelector(jl(f))||(n=o.createElement("link"),dn(n,"link",t),Pt(n),o.head.appendChild(n)))}}function Db(t,n){Ds.m(t,n);var a=To;if(a&&t){var o=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+st(o)+'"][href="'+st(t)+'"]',f=h;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=Ao(t)}if(!Ti.has(f)&&(t=w({rel:"modulepreload",href:t},n),Ti.set(f,t),a.querySelector(h)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(jl(f)))return}o=a.createElement("link"),dn(o,"link",t),Pt(o),a.head.appendChild(o)}}}function Ob(t,n,a){Ds.S(t,n,a);var o=To;if(o&&t){var h=li(o).hoistableStyles,f=bo(t);n=n||"default";var g=h.get(f);if(!g){var T={loading:0,preload:null};if(g=o.querySelector(kl(f)))T.loading=5;else{t=w({rel:"stylesheet",href:t,"data-precedence":n},a),(a=Ti.get(f))&&jd(t,a);var I=g=o.createElement("link");Pt(I),dn(I,"link",t),I._p=new Promise(function(B,X){I.onload=B,I.onerror=X}),I.addEventListener("load",function(){T.loading|=1}),I.addEventListener("error",function(){T.loading|=2}),T.loading|=4,Uc(g,n,o)}g={type:"stylesheet",instance:g,count:1,state:T},h.set(f,g)}}}function Mb(t,n){Ds.X(t,n);var a=To;if(a&&t){var o=li(a).hoistableScripts,h=Ao(t),f=o.get(h);f||(f=a.querySelector(jl(h)),f||(t=w({src:t,async:!0},n),(n=Ti.get(h))&&zd(t,n),f=a.createElement("script"),Pt(f),dn(f,"link",t),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function Vb(t,n){Ds.M(t,n);var a=To;if(a&&t){var o=li(a).hoistableScripts,h=Ao(t),f=o.get(h);f||(f=a.querySelector(jl(h)),f||(t=w({src:t,async:!0,type:"module"},n),(n=Ti.get(h))&&zd(t,n),f=a.createElement("script"),Pt(f),dn(f,"link",t),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function z_(t,n,a,o){var h=(h=ie.current)?Vc(h):null;if(!h)throw Error(r(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(n=bo(a.href),a=li(h).hoistableStyles,o=a.get(n),o||(o={type:"style",instance:null,count:0,state:null},a.set(n,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=bo(a.href);var f=li(h).hoistableStyles,g=f.get(t);if(g||(h=h.ownerDocument||h,g={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,g),(f=h.querySelector(kl(t)))&&!f._p&&(g.instance=f,g.state.loading=5),Ti.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Ti.set(t,a),f||Ub(h,t,a,g.state))),n&&o===null)throw Error(r(528,""));return g}if(n&&o!==null)throw Error(r(529,""));return null;case"script":return n=a.async,a=a.src,typeof a=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Ao(a),a=li(h).hoistableScripts,o=a.get(n),o||(o={type:"script",instance:null,count:0,state:null},a.set(n,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,t))}}function bo(t){return'href="'+st(t)+'"'}function kl(t){return'link[rel="stylesheet"]['+t+"]"}function B_(t){return w({},t,{"data-precedence":t.precedence,precedence:null})}function Ub(t,n,a,o){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?o.loading=1:(n=t.createElement("link"),o.preload=n,n.addEventListener("load",function(){return o.loading|=1}),n.addEventListener("error",function(){return o.loading|=2}),dn(n,"link",a),Pt(n),t.head.appendChild(n))}function Ao(t){return'[src="'+st(t)+'"]'}function jl(t){return"script[async]"+t}function q_(t,n,a){if(n.count++,n.instance===null)switch(n.type){case"style":var o=t.querySelector('style[data-href~="'+st(a.href)+'"]');if(o)return n.instance=o,Pt(o),o;var h=w({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return o=(t.ownerDocument||t).createElement("style"),Pt(o),dn(o,"style",h),Uc(o,a.precedence,t),n.instance=o;case"stylesheet":h=bo(a.href);var f=t.querySelector(kl(h));if(f)return n.state.loading|=4,n.instance=f,Pt(f),f;o=B_(a),(h=Ti.get(h))&&jd(o,h),f=(t.ownerDocument||t).createElement("link"),Pt(f);var g=f;return g._p=new Promise(function(T,I){g.onload=T,g.onerror=I}),dn(f,"link",o),n.state.loading|=4,Uc(f,a.precedence,t),n.instance=f;case"script":return f=Ao(a.src),(h=t.querySelector(jl(f)))?(n.instance=h,Pt(h),h):(o=a,(h=Ti.get(f))&&(o=w({},a),zd(o,h)),t=t.ownerDocument||t,h=t.createElement("script"),Pt(h),dn(h,"link",o),t.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(r(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(o=n.instance,n.state.loading|=4,Uc(o,a.precedence,t));return n.instance}function Uc(t,n,a){for(var o=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=o.length?o[o.length-1]:null,f=h,g=0;g<o.length;g++){var T=o[g];if(T.dataset.precedence===n)f=T;else if(f!==h)break}f?f.parentNode.insertBefore(t,f.nextSibling):(n=a.nodeType===9?a.head:a,n.insertBefore(t,n.firstChild))}function jd(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function zd(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var Pc=null;function H_(t,n,a){if(Pc===null){var o=new Map,h=Pc=new Map;h.set(a,o)}else h=Pc,o=h.get(a),o||(o=new Map,h.set(a,o));if(o.has(t))return o;for(o.set(t,null),a=a.getElementsByTagName(t),h=0;h<a.length;h++){var f=a[h];if(!(f[Qn]||f[Ut]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var g=f.getAttribute(n)||"";g=t+g;var T=o.get(g);T?T.push(f):o.set(g,[f])}}return o}function F_(t,n,a){t=t.ownerDocument||t,t.head.insertBefore(a,n==="title"?t.querySelector("head > title"):null)}function Pb(t,n,a){if(a===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return t=n.disabled,typeof n.precedence=="string"&&t==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function G_(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function Lb(t,n,a,o){if(a.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var h=bo(o.href),f=n.querySelector(kl(h));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(t.count++,t=Lc.bind(t),n.then(t,t)),a.state.loading|=4,a.instance=f,Pt(f);return}f=n.ownerDocument||n,o=B_(o),(h=Ti.get(h))&&jd(o,h),f=f.createElement("link"),Pt(f);var g=f;g._p=new Promise(function(T,I){g.onload=T,g.onerror=I}),dn(f,"link",o),a.instance=f}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(a,n),(n=a.state.preload)&&(a.state.loading&3)===0&&(t.count++,a=Lc.bind(t),n.addEventListener("load",a),n.addEventListener("error",a))}}var Bd=0;function kb(t,n){return t.stylesheets&&t.count===0&&jc(t,t.stylesheets),0<t.count||0<t.imgCount?function(a){var o=setTimeout(function(){if(t.stylesheets&&jc(t,t.stylesheets),t.unsuspend){var f=t.unsuspend;t.unsuspend=null,f()}},6e4+n);0<t.imgBytes&&Bd===0&&(Bd=62500*_b());var h=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&jc(t,t.stylesheets),t.unsuspend)){var f=t.unsuspend;t.unsuspend=null,f()}},(t.imgBytes>Bd?50:800)+n);return t.unsuspend=a,function(){t.unsuspend=null,clearTimeout(o),clearTimeout(h)}}:null}function Lc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)jc(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var kc=null;function jc(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,kc=new Map,n.forEach(jb,t),kc=null,Lc.call(t))}function jb(t,n){if(!(n.state.loading&4)){var a=kc.get(t);if(a)var o=a.get(null);else{a=new Map,kc.set(t,a);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var g=h[f];(g.nodeName==="LINK"||g.getAttribute("media")!=="not all")&&(a.set(g.dataset.precedence,g),o=g)}o&&a.set(null,o)}h=n.instance,g=h.getAttribute("data-precedence"),f=a.get(g)||o,f===o&&a.set(null,h),a.set(g,h),this.count++,o=Lc.bind(this),h.addEventListener("load",o),h.addEventListener("error",o),f?f.parentNode.insertBefore(h,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),n.state.loading|=4}}var zl={$$typeof:Ne,Provider:null,Consumer:null,_currentValue:Te,_currentValue2:Te,_threadCount:0};function zb(t,n,a,o,h,f,g,T,I){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ai(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ai(0),this.hiddenUpdates=ai(null),this.identifierPrefix=o,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=g,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=I,this.incompleteTransitions=new Map}function Q_(t,n,a,o,h,f,g,T,I,B,X,W){return t=new zb(t,n,a,g,I,B,X,W,T),n=1,f===!0&&(n|=24),f=Kn(3,null,null,n),t.current=f,f.stateNode=t,n=Ef(),n.refCount++,t.pooledCache=n,n.refCount++,f.memoizedState={element:o,isDehydrated:a,cache:n},Sf(f),t}function Y_(t){return t?(t=Wa,t):Wa}function K_(t,n,a,o,h,f){h=Y_(h),o.context===null?o.context=h:o.pendingContext=h,o=or(n),o.payload={element:a},f=f===void 0?null:f,f!==null&&(o.callback=f),a=lr(t,o,n),a!==null&&(Ln(a,t,n),_l(a,t,n))}function X_(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<n?a:n}}function qd(t,n){X_(t,n),(t=t.alternate)&&X_(t,n)}function $_(t){if(t.tag===13||t.tag===31){var n=ca(t,67108864);n!==null&&Ln(n,t,67108864),qd(t,67108864)}}function Z_(t){if(t.tag===13||t.tag===31){var n=Wn();n=qi(n);var a=ca(t,n);a!==null&&Ln(a,t,n),qd(t,n)}}var zc=!0;function Bb(t,n,a,o){var h=K.T;K.T=null;var f=le.p;try{le.p=2,Hd(t,n,a,o)}finally{le.p=f,K.T=h}}function qb(t,n,a,o){var h=K.T;K.T=null;var f=le.p;try{le.p=8,Hd(t,n,a,o)}finally{le.p=f,K.T=h}}function Hd(t,n,a,o){if(zc){var h=Fd(o);if(h===null)Id(t,n,o,Bc,a),W_(t,o);else if(Fb(h,t,n,a,o))o.stopPropagation();else if(W_(t,o),n&4&&-1<Hb.indexOf(t)){for(;h!==null;){var f=Dn(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var g=si(f.pendingLanes);if(g!==0){var T=f;for(T.pendingLanes|=2,T.entangledLanes|=2;g;){var I=1<<31-bt(g);T.entanglements[1]|=I,g&=~I}Ji(f),(lt&6)===0&&(Ac=Ft()+500,Vl(0))}}break;case 31:case 13:T=ca(f,2),T!==null&&Ln(T,f,2),wc(),qd(f,2)}if(f=Fd(o),f===null&&Id(t,n,o,Bc,a),f===h)break;h=f}h!==null&&o.stopPropagation()}else Id(t,n,o,null,a)}}function Fd(t){return t=hi(t),Gd(t)}var Bc=null;function Gd(t){if(Bc=null,t=oi(t),t!==null){var n=c(t);if(n===null)t=null;else{var a=n.tag;if(a===13){if(t=d(n),t!==null)return t;t=null}else if(a===31){if(t=p(n),t!==null)return t;t=null}else if(a===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return Bc=t,null}function J_(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Pe()){case Qr:return 2;case Si:return 8;case ii:case Yr:return 32;case Gs:return 268435456;default:return 32}default:return 32}}var Qd=!1,vr=null,Er=null,Tr=null,Bl=new Map,ql=new Map,br=[],Hb="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function W_(t,n){switch(t){case"focusin":case"focusout":vr=null;break;case"dragenter":case"dragleave":Er=null;break;case"mouseover":case"mouseout":Tr=null;break;case"pointerover":case"pointerout":Bl.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":ql.delete(n.pointerId)}}function Hl(t,n,a,o,h,f){return t===null||t.nativeEvent!==f?(t={blockedOn:n,domEventName:a,eventSystemFlags:o,nativeEvent:f,targetContainers:[h]},n!==null&&(n=Dn(n),n!==null&&$_(n)),t):(t.eventSystemFlags|=o,n=t.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),t)}function Fb(t,n,a,o,h){switch(n){case"focusin":return vr=Hl(vr,t,n,a,o,h),!0;case"dragenter":return Er=Hl(Er,t,n,a,o,h),!0;case"mouseover":return Tr=Hl(Tr,t,n,a,o,h),!0;case"pointerover":var f=h.pointerId;return Bl.set(f,Hl(Bl.get(f)||null,t,n,a,o,h)),!0;case"gotpointercapture":return f=h.pointerId,ql.set(f,Hl(ql.get(f)||null,t,n,a,o,h)),!0}return!1}function e0(t){var n=oi(t.target);if(n!==null){var a=c(n);if(a!==null){if(n=a.tag,n===13){if(n=d(a),n!==null){t.blockedOn=n,Hn(t.priority,function(){Z_(a)});return}}else if(n===31){if(n=p(a),n!==null){t.blockedOn=n,Hn(t.priority,function(){Z_(a)});return}}else if(n===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function qc(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var a=Fd(t.nativeEvent);if(a===null){a=t.nativeEvent;var o=new a.constructor(a.type,a);nl=o,a.target.dispatchEvent(o),nl=null}else return n=Dn(a),n!==null&&$_(n),t.blockedOn=a,!1;n.shift()}return!0}function t0(t,n,a){qc(t)&&a.delete(n)}function Gb(){Qd=!1,vr!==null&&qc(vr)&&(vr=null),Er!==null&&qc(Er)&&(Er=null),Tr!==null&&qc(Tr)&&(Tr=null),Bl.forEach(t0),ql.forEach(t0)}function Hc(t,n){t.blockedOn===n&&(t.blockedOn=null,Qd||(Qd=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,Gb)))}var Fc=null;function n0(t){Fc!==t&&(Fc=t,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){Fc===t&&(Fc=null);for(var n=0;n<t.length;n+=3){var a=t[n],o=t[n+1],h=t[n+2];if(typeof o!="function"){if(Gd(o||a)===null)continue;break}var f=Dn(a);f!==null&&(t.splice(n,3),n-=3,Ff(f,{pending:!0,data:h,method:a.method,action:o},o,h))}}))}function So(t){function n(I){return Hc(I,t)}vr!==null&&Hc(vr,t),Er!==null&&Hc(Er,t),Tr!==null&&Hc(Tr,t),Bl.forEach(n),ql.forEach(n);for(var a=0;a<br.length;a++){var o=br[a];o.blockedOn===t&&(o.blockedOn=null)}for(;0<br.length&&(a=br[0],a.blockedOn===null);)e0(a),a.blockedOn===null&&br.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(o=0;o<a.length;o+=3){var h=a[o],f=a[o+1],g=h[xt]||null;if(typeof f=="function")g||n0(a);else if(g){var T=null;if(f&&f.hasAttribute("formAction")){if(h=f,g=f[xt]||null)T=g.formAction;else if(Gd(h)!==null)continue}else T=g.action;typeof T=="function"?a[o+1]=T:(a.splice(o,3),o-=3),n0(a)}}}function i0(){function t(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(g){return h=g})},focusReset:"manual",scroll:"manual"})}function n(){h!==null&&(h(),h=null),o||setTimeout(a,20)}function a(){if(!o&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var o=!1,h=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(a,100),function(){o=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),h!==null&&(h(),h=null)}}}function Yd(t){this._internalRoot=t}Gc.prototype.render=Yd.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(r(409));var a=n.current,o=Wn();K_(a,o,t,n,null,null)},Gc.prototype.unmount=Yd.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;K_(t.current,2,null,t,null,null),wc(),n[Gn]=null}};function Gc(t){this._internalRoot=t}Gc.prototype.unstable_scheduleHydration=function(t){if(t){var n=Kr();t={blockedOn:null,target:t,priority:n};for(var a=0;a<br.length&&n!==0&&n<br[a].priority;a++);br.splice(a,0,t),a===0&&e0(t)}};var s0=e.version;if(s0!=="19.2.0")throw Error(r(527,s0,"19.2.0"));le.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(r(188)):(t=Object.keys(t).join(","),Error(r(268,t)));return t=y(n),t=t!==null?A(t):null,t=t===null?null:t.stateNode,t};var Qb={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:K,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Qc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Qc.isDisabled&&Qc.supportsFiber)try{zn=Qc.inject(Qb),en=Qc}catch{}}return Gl.createRoot=function(t,n){if(!l(t))throw Error(r(299));var a=!1,o="",h=hy,f=fy,g=dy;return n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(g=n.onRecoverableError)),n=Q_(t,1,!1,null,null,a,o,null,h,f,g,i0),t[Gn]=n.current,Nd(t),new Yd(n)},Gl.hydrateRoot=function(t,n,a){if(!l(t))throw Error(r(299));var o=!1,h="",f=hy,g=fy,T=dy,I=null;return a!=null&&(a.unstable_strictMode===!0&&(o=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(f=a.onUncaughtError),a.onCaughtError!==void 0&&(g=a.onCaughtError),a.onRecoverableError!==void 0&&(T=a.onRecoverableError),a.formState!==void 0&&(I=a.formState)),n=Q_(t,1,!0,n,a??null,o,h,I,f,g,T,i0),n.context=Y_(null),a=n.current,o=Wn(),o=qi(o),h=or(o),h.callback=null,lr(a,h,o),a=o,n.current.lanes=a,fs(n,a),Ji(n),t[Gn]=n.current,Nd(t),new Gc(n)},Gl.version="19.2.0",Gl}var m0;function sA(){if(m0)return $d.exports;m0=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),$d.exports=iA(),$d.exports}var rA=sA();/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aA=s=>s.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),oA=s=>s.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,i,r)=>r?r.toUpperCase():i.toLowerCase()),g0=s=>{const e=oA(s);return e.charAt(0).toUpperCase()+e.slice(1)},Yv=(...s)=>s.filter((e,i,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===i).join(" ").trim(),lA=s=>{for(const e in s)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var uA={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cA=Ue.forwardRef(({color:s="currentColor",size:e=24,strokeWidth:i=2,absoluteStrokeWidth:r,className:l="",children:c,iconNode:d,...p},_)=>Ue.createElement("svg",{ref:_,...uA,width:e,height:e,stroke:s,strokeWidth:r?Number(i)*24/Number(e):i,className:Yv("lucide",l),...!c&&!lA(p)&&{"aria-hidden":"true"},...p},[...d.map(([y,A])=>Ue.createElement(y,A)),...Array.isArray(c)?c:[c]]));/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ji=(s,e)=>{const i=Ue.forwardRef(({className:r,...l},c)=>Ue.createElement(cA,{ref:c,iconNode:e,className:Yv(`lucide-${aA(g0(s))}`,`lucide-${s}`,r),...l}));return i.displayName=g0(s),i};/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hA=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],p0=ji("award",hA);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fA=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],dA=ji("calendar",fA);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mA=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],gA=ji("clock",mA);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pA=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],yA=ji("history",pA);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _A=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],vA=ji("house",_A);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EA=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],TA=ji("moon",EA);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bA=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],AA=ji("plus",bA);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SA=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],wA=ji("sun",SA);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xA=[["path",{d:"m16 11 2 2 4-4",key:"9rsbq5"}],["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],RA=ji("user-check",xA);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NA=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],IA=ji("user-plus",NA);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CA=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],y0=ji("users",CA),DA=()=>{};var _0={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kv=function(s){const e=[];let i=0;for(let r=0;r<s.length;r++){let l=s.charCodeAt(r);l<128?e[i++]=l:l<2048?(e[i++]=l>>6|192,e[i++]=l&63|128):(l&64512)===55296&&r+1<s.length&&(s.charCodeAt(r+1)&64512)===56320?(l=65536+((l&1023)<<10)+(s.charCodeAt(++r)&1023),e[i++]=l>>18|240,e[i++]=l>>12&63|128,e[i++]=l>>6&63|128,e[i++]=l&63|128):(e[i++]=l>>12|224,e[i++]=l>>6&63|128,e[i++]=l&63|128)}return e},OA=function(s){const e=[];let i=0,r=0;for(;i<s.length;){const l=s[i++];if(l<128)e[r++]=String.fromCharCode(l);else if(l>191&&l<224){const c=s[i++];e[r++]=String.fromCharCode((l&31)<<6|c&63)}else if(l>239&&l<365){const c=s[i++],d=s[i++],p=s[i++],_=((l&7)<<18|(c&63)<<12|(d&63)<<6|p&63)-65536;e[r++]=String.fromCharCode(55296+(_>>10)),e[r++]=String.fromCharCode(56320+(_&1023))}else{const c=s[i++],d=s[i++];e[r++]=String.fromCharCode((l&15)<<12|(c&63)<<6|d&63)}}return e.join("")},Xv={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,e){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let l=0;l<s.length;l+=3){const c=s[l],d=l+1<s.length,p=d?s[l+1]:0,_=l+2<s.length,y=_?s[l+2]:0,A=c>>2,w=(c&3)<<4|p>>4;let C=(p&15)<<2|y>>6,Y=y&63;_||(Y=64,d||(C=64)),r.push(i[A],i[w],i[C],i[Y])}return r.join("")},encodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(s):this.encodeByteArray(Kv(s),e)},decodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(s):OA(this.decodeStringToByteArray(s,e))},decodeStringToByteArray(s,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let l=0;l<s.length;){const c=i[s.charAt(l++)],p=l<s.length?i[s.charAt(l)]:0;++l;const y=l<s.length?i[s.charAt(l)]:64;++l;const w=l<s.length?i[s.charAt(l)]:64;if(++l,c==null||p==null||y==null||w==null)throw new MA;const C=c<<2|p>>4;if(r.push(C),y!==64){const Y=p<<4&240|y>>2;if(r.push(Y),w!==64){const re=y<<6&192|w;r.push(re)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class MA extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const VA=function(s){const e=Kv(s);return Xv.encodeByteArray(e,!0)},hh=function(s){return VA(s).replace(/\./g,"")},$v=function(s){try{return Xv.decodeString(s,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UA(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PA=()=>UA().__FIREBASE_DEFAULTS__,LA=()=>{if(typeof process>"u"||typeof _0>"u")return;const s=_0.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},kA=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=s&&$v(s[1]);return e&&JSON.parse(e)},Dh=()=>{try{return DA()||PA()||LA()||kA()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},Zv=s=>Dh()?.emulatorHosts?.[s],jA=s=>{const e=Zv(s);if(!e)return;const i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(i+1),10);return e[0]==="["?[e.substring(1,i-1),r]:[e.substring(0,i),r]},Jv=()=>Dh()?.config,Wv=s=>Dh()?.[`_${s}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zA{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,r)=>{i?this.reject(i):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ho(s){try{return(s.startsWith("http://")||s.startsWith("https://")?new URL(s).hostname:s).endsWith(".cloudworkstations.dev")}catch{return!1}}async function eE(s){return(await fetch(s,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BA(s,e){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},r=e||"demo-project",l=s.iat||0,c=s.sub||s.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${r}`,aud:r,iat:l,exp:l+3600,auth_time:l,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...s};return[hh(JSON.stringify(i)),hh(JSON.stringify(d)),""].join(".")}const Zl={};function qA(){const s={prod:[],emulator:[]};for(const e of Object.keys(Zl))Zl[e]?s.emulator.push(e):s.prod.push(e);return s}function HA(s){let e=document.getElementById(s),i=!1;return e||(e=document.createElement("div"),e.setAttribute("id",s),i=!0),{created:i,element:e}}let v0=!1;function tE(s,e){if(typeof window>"u"||typeof document>"u"||!Ho(window.location.host)||Zl[s]===e||Zl[s]||v0)return;Zl[s]=e;function i(C){return`__firebase__banner__${C}`}const r="__firebase__banner",c=qA().prod.length>0;function d(){const C=document.getElementById(r);C&&C.remove()}function p(C){C.style.display="flex",C.style.background="#7faaf0",C.style.position="fixed",C.style.bottom="5px",C.style.left="5px",C.style.padding=".5em",C.style.borderRadius="5px",C.style.alignItems="center"}function _(C,Y){C.setAttribute("width","24"),C.setAttribute("id",Y),C.setAttribute("height","24"),C.setAttribute("viewBox","0 0 24 24"),C.setAttribute("fill","none"),C.style.marginLeft="-6px"}function y(){const C=document.createElement("span");return C.style.cursor="pointer",C.style.marginLeft="16px",C.style.fontSize="24px",C.innerHTML=" &times;",C.onclick=()=>{v0=!0,d()},C}function A(C,Y){C.setAttribute("id",Y),C.innerText="Learn more",C.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",C.setAttribute("target","__blank"),C.style.paddingLeft="5px",C.style.textDecoration="underline"}function w(){const C=HA(r),Y=i("text"),re=document.getElementById(Y)||document.createElement("span"),ue=i("learnmore"),ae=document.getElementById(ue)||document.createElement("a"),Se=i("preprendIcon"),De=document.getElementById(Se)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(C.created){const Ne=C.element;p(Ne),A(ae,ue);const We=y();_(De,Se),Ne.append(De,re,ae,We),document.body.appendChild(Ne)}c?(re.innerText="Preview backend disconnected.",De.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(De.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,re.innerText="Preview backend running in this workspace."),re.setAttribute("id",Y)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",w):w()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function FA(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Tn())}function GA(){const s=Dh()?.forceEnvironment;if(s==="node")return!0;if(s==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function QA(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function YA(){const s=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof s=="object"&&s.id!==void 0}function KA(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function XA(){const s=Tn();return s.indexOf("MSIE ")>=0||s.indexOf("Trident/")>=0}function $A(){return!GA()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function ZA(){try{return typeof indexedDB=="object"}catch{return!1}}function JA(){return new Promise((s,e)=>{try{let i=!0;const r="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(r);l.onsuccess=()=>{l.result.close(),i||self.indexedDB.deleteDatabase(r),s(!0)},l.onupgradeneeded=()=>{i=!1},l.onerror=()=>{e(l.error?.message||"")}}catch(i){e(i)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WA="FirebaseError";class qs extends Error{constructor(e,i,r){super(i),this.code=e,this.customData=r,this.name=WA,Object.setPrototypeOf(this,qs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,gu.prototype.create)}}class gu{constructor(e,i,r){this.service=e,this.serviceName=i,this.errors=r}create(e,...i){const r=i[0]||{},l=`${this.service}/${e}`,c=this.errors[e],d=c?eS(c,r):"Error",p=`${this.serviceName}: ${d} (${l}).`;return new qs(l,p,r)}}function eS(s,e){return s.replace(tS,(i,r)=>{const l=e[r];return l!=null?String(l):`<${r}?>`})}const tS=/\{\$([^}]+)}/g;function nS(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}function Ia(s,e){if(s===e)return!0;const i=Object.keys(s),r=Object.keys(e);for(const l of i){if(!r.includes(l))return!1;const c=s[l],d=e[l];if(E0(c)&&E0(d)){if(!Ia(c,d))return!1}else if(c!==d)return!1}for(const l of r)if(!i.includes(l))return!1;return!0}function E0(s){return s!==null&&typeof s=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pu(s){const e=[];for(const[i,r]of Object.entries(s))Array.isArray(r)?r.forEach(l=>{e.push(encodeURIComponent(i)+"="+encodeURIComponent(l))}):e.push(encodeURIComponent(i)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function iS(s,e){const i=new sS(s,e);return i.subscribe.bind(i)}class sS{constructor(e,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(i=>{i.next(e)})}error(e){this.forEachObserver(i=>{i.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,i,r){let l;if(e===void 0&&i===void 0&&r===void 0)throw new Error("Missing Observer.");rS(e,["next","error","complete"])?l=e:l={next:e,error:i,complete:r},l.next===void 0&&(l.next=em),l.error===void 0&&(l.error=em),l.complete===void 0&&(l.complete=em);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),c}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,e)}sendOne(e,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{i(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function rS(s,e){if(typeof s!="object"||s===null)return!1;for(const i of e)if(i in s&&typeof s[i]=="function")return!0;return!1}function em(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wt(s){return s&&s._delegate?s._delegate:s}class Ca{constructor(e,i,r){this.name=e,this.instanceFactory=i,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sa="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aS{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const r=new zA;if(this.instancesDeferred.set(i,r),this.isInitialized(i)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:i});l&&r.resolve(l)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(e){const i=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(l){if(r)return null;throw l}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(lS(e))try{this.getOrInitializeService({instanceIdentifier:Sa})}catch{}for(const[i,r]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);try{const c=this.getOrInitializeService({instanceIdentifier:l});r.resolve(c)}catch{}}}}clearInstance(e=Sa){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Sa){return this.instances.has(e)}getOptions(e=Sa){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:r,options:i});for(const[c,d]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(c);r===p&&d.resolve(l)}return l}onInit(e,i){const r=this.normalizeInstanceIdentifier(i),l=this.onInitCallbacks.get(r)??new Set;l.add(e),this.onInitCallbacks.set(r,l);const c=this.instances.get(r);return c&&e(c,r),()=>{l.delete(e)}}invokeOnInitCallbacks(e,i){const r=this.onInitCallbacks.get(i);if(r)for(const l of r)try{l(e,i)}catch{}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:oS(e),options:i}),this.instances.set(e,r),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Sa){return this.component?this.component.multipleInstances?e:Sa:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function oS(s){return s===Sa?void 0:s}function lS(s){return s.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uS{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new aS(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ke;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(Ke||(Ke={}));const cS={debug:Ke.DEBUG,verbose:Ke.VERBOSE,info:Ke.INFO,warn:Ke.WARN,error:Ke.ERROR,silent:Ke.SILENT},hS=Ke.INFO,fS={[Ke.DEBUG]:"log",[Ke.VERBOSE]:"log",[Ke.INFO]:"info",[Ke.WARN]:"warn",[Ke.ERROR]:"error"},dS=(s,e,...i)=>{if(e<s.logLevel)return;const r=new Date().toISOString(),l=fS[e];if(l)console[l](`[${r}]  ${s.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class zm{constructor(e){this.name=e,this._logLevel=hS,this._logHandler=dS,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ke))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?cS[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ke.DEBUG,...e),this._logHandler(this,Ke.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ke.VERBOSE,...e),this._logHandler(this,Ke.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ke.INFO,...e),this._logHandler(this,Ke.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ke.WARN,...e),this._logHandler(this,Ke.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ke.ERROR,...e),this._logHandler(this,Ke.ERROR,...e)}}const mS=(s,e)=>e.some(i=>s instanceof i);let T0,b0;function gS(){return T0||(T0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function pS(){return b0||(b0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const nE=new WeakMap,mm=new WeakMap,iE=new WeakMap,tm=new WeakMap,Bm=new WeakMap;function yS(s){const e=new Promise((i,r)=>{const l=()=>{s.removeEventListener("success",c),s.removeEventListener("error",d)},c=()=>{i(Cr(s.result)),l()},d=()=>{r(s.error),l()};s.addEventListener("success",c),s.addEventListener("error",d)});return e.then(i=>{i instanceof IDBCursor&&nE.set(i,s)}).catch(()=>{}),Bm.set(e,s),e}function _S(s){if(mm.has(s))return;const e=new Promise((i,r)=>{const l=()=>{s.removeEventListener("complete",c),s.removeEventListener("error",d),s.removeEventListener("abort",d)},c=()=>{i(),l()},d=()=>{r(s.error||new DOMException("AbortError","AbortError")),l()};s.addEventListener("complete",c),s.addEventListener("error",d),s.addEventListener("abort",d)});mm.set(s,e)}let gm={get(s,e,i){if(s instanceof IDBTransaction){if(e==="done")return mm.get(s);if(e==="objectStoreNames")return s.objectStoreNames||iE.get(s);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return Cr(s[e])},set(s,e,i){return s[e]=i,!0},has(s,e){return s instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in s}};function vS(s){gm=s(gm)}function ES(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const r=s.call(nm(this),e,...i);return iE.set(r,e.sort?e.sort():[e]),Cr(r)}:pS().includes(s)?function(...e){return s.apply(nm(this),e),Cr(nE.get(this))}:function(...e){return Cr(s.apply(nm(this),e))}}function TS(s){return typeof s=="function"?ES(s):(s instanceof IDBTransaction&&_S(s),mS(s,gS())?new Proxy(s,gm):s)}function Cr(s){if(s instanceof IDBRequest)return yS(s);if(tm.has(s))return tm.get(s);const e=TS(s);return e!==s&&(tm.set(s,e),Bm.set(e,s)),e}const nm=s=>Bm.get(s);function bS(s,e,{blocked:i,upgrade:r,blocking:l,terminated:c}={}){const d=indexedDB.open(s,e),p=Cr(d);return r&&d.addEventListener("upgradeneeded",_=>{r(Cr(d.result),_.oldVersion,_.newVersion,Cr(d.transaction),_)}),i&&d.addEventListener("blocked",_=>i(_.oldVersion,_.newVersion,_)),p.then(_=>{c&&_.addEventListener("close",()=>c()),l&&_.addEventListener("versionchange",y=>l(y.oldVersion,y.newVersion,y))}).catch(()=>{}),p}const AS=["get","getKey","getAll","getAllKeys","count"],SS=["put","add","delete","clear"],im=new Map;function A0(s,e){if(!(s instanceof IDBDatabase&&!(e in s)&&typeof e=="string"))return;if(im.get(e))return im.get(e);const i=e.replace(/FromIndex$/,""),r=e!==i,l=SS.includes(i);if(!(i in(r?IDBIndex:IDBObjectStore).prototype)||!(l||AS.includes(i)))return;const c=async function(d,...p){const _=this.transaction(d,l?"readwrite":"readonly");let y=_.store;return r&&(y=y.index(p.shift())),(await Promise.all([y[i](...p),l&&_.done]))[0]};return im.set(e,c),c}vS(s=>({...s,get:(e,i,r)=>A0(e,i)||s.get(e,i,r),has:(e,i)=>!!A0(e,i)||s.has(e,i)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wS{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(xS(i)){const r=i.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(i=>i).join(" ")}}function xS(s){return s.getComponent()?.type==="VERSION"}const pm="@firebase/app",S0="0.14.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ks=new zm("@firebase/app"),RS="@firebase/app-compat",NS="@firebase/analytics-compat",IS="@firebase/analytics",CS="@firebase/app-check-compat",DS="@firebase/app-check",OS="@firebase/auth",MS="@firebase/auth-compat",VS="@firebase/database",US="@firebase/data-connect",PS="@firebase/database-compat",LS="@firebase/functions",kS="@firebase/functions-compat",jS="@firebase/installations",zS="@firebase/installations-compat",BS="@firebase/messaging",qS="@firebase/messaging-compat",HS="@firebase/performance",FS="@firebase/performance-compat",GS="@firebase/remote-config",QS="@firebase/remote-config-compat",YS="@firebase/storage",KS="@firebase/storage-compat",XS="@firebase/firestore",$S="@firebase/ai",ZS="@firebase/firestore-compat",JS="firebase",WS="12.3.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ym="[DEFAULT]",ew={[pm]:"fire-core",[RS]:"fire-core-compat",[IS]:"fire-analytics",[NS]:"fire-analytics-compat",[DS]:"fire-app-check",[CS]:"fire-app-check-compat",[OS]:"fire-auth",[MS]:"fire-auth-compat",[VS]:"fire-rtdb",[US]:"fire-data-connect",[PS]:"fire-rtdb-compat",[LS]:"fire-fn",[kS]:"fire-fn-compat",[jS]:"fire-iid",[zS]:"fire-iid-compat",[BS]:"fire-fcm",[qS]:"fire-fcm-compat",[HS]:"fire-perf",[FS]:"fire-perf-compat",[GS]:"fire-rc",[QS]:"fire-rc-compat",[YS]:"fire-gcs",[KS]:"fire-gcs-compat",[XS]:"fire-fst",[ZS]:"fire-fst-compat",[$S]:"fire-vertex","fire-js":"fire-js",[JS]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fh=new Map,tw=new Map,_m=new Map;function w0(s,e){try{s.container.addComponent(e)}catch(i){ks.debug(`Component ${e.name} failed to register with FirebaseApp ${s.name}`,i)}}function Uo(s){const e=s.name;if(_m.has(e))return ks.debug(`There were multiple attempts to register component ${e}.`),!1;_m.set(e,s);for(const i of fh.values())w0(i,s);for(const i of tw.values())w0(i,s);return!0}function qm(s,e){const i=s.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),s.container.getProvider(e)}function Ui(s){return s==null?!1:s.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nw={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Dr=new gu("app","Firebase",nw);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iw{constructor(e,i,r){this._isDeleted=!1,this._options={...e},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Ca("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Dr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fo=WS;function sE(s,e={}){let i=s;typeof e!="object"&&(e={name:e});const r={name:ym,automaticDataCollectionEnabled:!0,...e},l=r.name;if(typeof l!="string"||!l)throw Dr.create("bad-app-name",{appName:String(l)});if(i||(i=Jv()),!i)throw Dr.create("no-options");const c=fh.get(l);if(c){if(Ia(i,c.options)&&Ia(r,c.config))return c;throw Dr.create("duplicate-app",{appName:l})}const d=new uS(l);for(const _ of _m.values())d.addComponent(_);const p=new iw(i,r,d);return fh.set(l,p),p}function rE(s=ym){const e=fh.get(s);if(!e&&s===ym&&Jv())return sE();if(!e)throw Dr.create("no-app",{appName:s});return e}function Or(s,e,i){let r=ew[s]??s;i&&(r+=`-${i}`);const l=r.match(/\s|\//),c=e.match(/\s|\//);if(l||c){const d=[`Unable to register library "${r}" with version "${e}":`];l&&d.push(`library name "${r}" contains illegal characters (whitespace or "/")`),l&&c&&d.push("and"),c&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ks.warn(d.join(" "));return}Uo(new Ca(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sw="firebase-heartbeat-database",rw=1,su="firebase-heartbeat-store";let sm=null;function aE(){return sm||(sm=bS(sw,rw,{upgrade:(s,e)=>{switch(e){case 0:try{s.createObjectStore(su)}catch(i){console.warn(i)}}}}).catch(s=>{throw Dr.create("idb-open",{originalErrorMessage:s.message})})),sm}async function aw(s){try{const i=(await aE()).transaction(su),r=await i.objectStore(su).get(oE(s));return await i.done,r}catch(e){if(e instanceof qs)ks.warn(e.message);else{const i=Dr.create("idb-get",{originalErrorMessage:e?.message});ks.warn(i.message)}}}async function x0(s,e){try{const r=(await aE()).transaction(su,"readwrite");await r.objectStore(su).put(e,oE(s)),await r.done}catch(i){if(i instanceof qs)ks.warn(i.message);else{const r=Dr.create("idb-set",{originalErrorMessage:i?.message});ks.warn(r.message)}}}function oE(s){return`${s.name}!${s.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ow=1024,lw=30;class uw{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new hw(i),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=R0();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(l=>l.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:i}),this._heartbeatsCache.heartbeats.length>lw){const l=fw(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){ks.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=R0(),{heartbeatsToSend:i,unsentEntries:r}=cw(this._heartbeatsCache.heartbeats),l=hh(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(e){return ks.warn(e),""}}}function R0(){return new Date().toISOString().substring(0,10)}function cw(s,e=ow){const i=[];let r=s.slice();for(const l of s){const c=i.find(d=>d.agent===l.agent);if(c){if(c.dates.push(l.date),N0(i)>e){c.dates.pop();break}}else if(i.push({agent:l.agent,dates:[l.date]}),N0(i)>e){i.pop();break}r=r.slice(1)}return{heartbeatsToSend:i,unsentEntries:r}}class hw{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return ZA()?JA().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await aw(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return x0(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return x0(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function N0(s){return hh(JSON.stringify({version:2,heartbeats:s})).length}function fw(s){if(s.length===0)return-1;let e=0,i=s[0].date;for(let r=1;r<s.length;r++)s[r].date<i&&(i=s[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dw(s){Uo(new Ca("platform-logger",e=>new wS(e),"PRIVATE")),Uo(new Ca("heartbeat",e=>new uw(e),"PRIVATE")),Or(pm,S0,s),Or(pm,S0,"esm2020"),Or("fire-js","")}dw("");var mw="firebase",gw="12.3.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Or(mw,gw,"app");function lE(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const pw=lE,uE=new gu("auth","Firebase",lE());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dh=new zm("@firebase/auth");function yw(s,...e){dh.logLevel<=Ke.WARN&&dh.warn(`Auth (${Fo}): ${s}`,...e)}function th(s,...e){dh.logLevel<=Ke.ERROR&&dh.error(`Auth (${Fo}): ${s}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function as(s,...e){throw Fm(s,...e)}function Li(s,...e){return Fm(s,...e)}function Hm(s,e,i){const r={...pw(),[e]:i};return new gu("auth","Firebase",r).create(e,{appName:s.name})}function Ra(s){return Hm(s,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function _w(s,e,i){const r=i;if(!(e instanceof r))throw r.name!==e.constructor.name&&as(s,"argument-error"),Hm(s,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Fm(s,...e){if(typeof s!="string"){const i=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=s.name),s._errorFactory.create(i,...r)}return uE.create(s,...e)}function Ce(s,e,...i){if(!s)throw Fm(e,...i)}function Ps(s){const e="INTERNAL ASSERTION FAILED: "+s;throw th(e),new Error(e)}function js(s,e){s||Ps(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vm(){return typeof self<"u"&&self.location?.href||""}function vw(){return I0()==="http:"||I0()==="https:"}function I0(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ew(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(vw()||YA()||"connection"in navigator)?navigator.onLine:!0}function Tw(){if(typeof navigator>"u")return null;const s=navigator;return s.languages&&s.languages[0]||s.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yu{constructor(e,i){this.shortDelay=e,this.longDelay=i,js(i>e,"Short delay should be less than long delay!"),this.isMobile=FA()||KA()}get(){return Ew()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gm(s,e){js(s.emulator,"Emulator should always be set here");const{url:i}=s.emulator;return e?`${i}${e.startsWith("/")?e.slice(1):e}`:i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cE{static initialize(e,i,r){this.fetchImpl=e,i&&(this.headersImpl=i),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ps("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ps("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ps("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bw={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Aw=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],Sw=new yu(3e4,6e4);function Qm(s,e){return s.tenantId&&!e.tenantId?{...e,tenantId:s.tenantId}:e}async function Go(s,e,i,r,l={}){return hE(s,l,async()=>{let c={},d={};r&&(e==="GET"?d=r:c={body:JSON.stringify(r)});const p=pu({key:s.config.apiKey,...d}).slice(1),_=await s._getAdditionalHeaders();_["Content-Type"]="application/json",s.languageCode&&(_["X-Firebase-Locale"]=s.languageCode);const y={method:e,headers:_,...c};return QA()||(y.referrerPolicy="no-referrer"),s.emulatorConfig&&Ho(s.emulatorConfig.host)&&(y.credentials="include"),cE.fetch()(await fE(s,s.config.apiHost,i,p),y)})}async function hE(s,e,i){s._canInitEmulator=!1;const r={...bw,...e};try{const l=new xw(s),c=await Promise.race([i(),l.promise]);l.clearNetworkTimeout();const d=await c.json();if("needConfirmation"in d)throw Yc(s,"account-exists-with-different-credential",d);if(c.ok&&!("errorMessage"in d))return d;{const p=c.ok?d.errorMessage:d.error.message,[_,y]=p.split(" : ");if(_==="FEDERATED_USER_ID_ALREADY_LINKED")throw Yc(s,"credential-already-in-use",d);if(_==="EMAIL_EXISTS")throw Yc(s,"email-already-in-use",d);if(_==="USER_DISABLED")throw Yc(s,"user-disabled",d);const A=r[_]||_.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw Hm(s,A,y);as(s,A)}}catch(l){if(l instanceof qs)throw l;as(s,"network-request-failed",{message:String(l)})}}async function ww(s,e,i,r,l={}){const c=await Go(s,e,i,r,l);return"mfaPendingCredential"in c&&as(s,"multi-factor-auth-required",{_serverResponse:c}),c}async function fE(s,e,i,r){const l=`${e}${i}?${r}`,c=s,d=c.config.emulator?Gm(s.config,l):`${s.config.apiScheme}://${l}`;return Aw.includes(i)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(d).toString():d}class xw{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((i,r)=>{this.timer=setTimeout(()=>r(Li(this.auth,"network-request-failed")),Sw.get())})}}function Yc(s,e,i){const r={appName:s.name};i.email&&(r.email=i.email),i.phoneNumber&&(r.phoneNumber=i.phoneNumber);const l=Li(s,e,r);return l.customData._tokenResponse=i,l}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Rw(s,e){return Go(s,"POST","/v1/accounts:delete",e)}async function mh(s,e){return Go(s,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jl(s){if(s)try{const e=new Date(Number(s));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function Nw(s,e=!1){const i=Wt(s),r=await i.getIdToken(e),l=Ym(r);Ce(l&&l.exp&&l.auth_time&&l.iat,i.auth,"internal-error");const c=typeof l.firebase=="object"?l.firebase:void 0,d=c?.sign_in_provider;return{claims:l,token:r,authTime:Jl(rm(l.auth_time)),issuedAtTime:Jl(rm(l.iat)),expirationTime:Jl(rm(l.exp)),signInProvider:d||null,signInSecondFactor:c?.sign_in_second_factor||null}}function rm(s){return Number(s)*1e3}function Ym(s){const[e,i,r]=s.split(".");if(e===void 0||i===void 0||r===void 0)return th("JWT malformed, contained fewer than 3 sections"),null;try{const l=$v(i);return l?JSON.parse(l):(th("Failed to decode base64 JWT payload"),null)}catch(l){return th("Caught error parsing JWT payload as JSON",l?.toString()),null}}function C0(s){const e=Ym(s);return Ce(e,"internal-error"),Ce(typeof e.exp<"u","internal-error"),Ce(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ru(s,e,i=!1){if(i)return e;try{return await e}catch(r){throw r instanceof qs&&Iw(r)&&s.auth.currentUser===s&&await s.auth.signOut(),r}}function Iw({code:s}){return s==="auth/user-disabled"||s==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cw{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const i=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Em{constructor(e,i){this.createdAt=e,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=Jl(this.lastLoginAt),this.creationTime=Jl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gh(s){const e=s.auth,i=await s.getIdToken(),r=await ru(s,mh(e,{idToken:i}));Ce(r?.users.length,e,"internal-error");const l=r.users[0];s._notifyReloadListener(l);const c=l.providerUserInfo?.length?dE(l.providerUserInfo):[],d=Ow(s.providerData,c),p=s.isAnonymous,_=!(s.email&&l.passwordHash)&&!d?.length,y=p?_:!1,A={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:d,metadata:new Em(l.createdAt,l.lastLoginAt),isAnonymous:y};Object.assign(s,A)}async function Dw(s){const e=Wt(s);await gh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function Ow(s,e){return[...s.filter(r=>!e.some(l=>l.providerId===r.providerId)),...e]}function dE(s){return s.map(({providerId:e,...i})=>({providerId:e,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Mw(s,e){const i=await hE(s,{},async()=>{const r=pu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:l,apiKey:c}=s.config,d=await fE(s,l,"/v1/token",`key=${c}`),p=await s._getAdditionalHeaders();p["Content-Type"]="application/x-www-form-urlencoded";const _={method:"POST",headers:p,body:r};return s.emulatorConfig&&Ho(s.emulatorConfig.host)&&(_.credentials="include"),cE.fetch()(d,_)});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function Vw(s,e){return Go(s,"POST","/v2/accounts:revokeToken",Qm(s,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Do{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ce(e.idToken,"internal-error"),Ce(typeof e.idToken<"u","internal-error"),Ce(typeof e.refreshToken<"u","internal-error");const i="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):C0(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,i)}updateFromIdToken(e){Ce(e.length!==0,"internal-error");const i=C0(e);this.updateTokensAndExpiration(e,null,i)}async getToken(e,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(Ce(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,i){const{accessToken:r,refreshToken:l,expiresIn:c}=await Mw(e,i);this.updateTokensAndExpiration(r,l,Number(c))}updateTokensAndExpiration(e,i,r){this.refreshToken=i||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,i){const{refreshToken:r,accessToken:l,expirationTime:c}=i,d=new Do;return r&&(Ce(typeof r=="string","internal-error",{appName:e}),d.refreshToken=r),l&&(Ce(typeof l=="string","internal-error",{appName:e}),d.accessToken=l),c&&(Ce(typeof c=="number","internal-error",{appName:e}),d.expirationTime=c),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Do,this.toJSON())}_performRefresh(){return Ps("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sr(s,e){Ce(typeof s=="string"||typeof s>"u","internal-error",{appName:e})}class Pi{constructor({uid:e,auth:i,stsTokenManager:r,...l}){this.providerId="firebase",this.proactiveRefresh=new Cw(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=i,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new Em(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(e){const i=await ru(this,this.stsTokenManager.getToken(this.auth,e));return Ce(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(e){return Nw(this,e)}reload(){return Dw(this)}_assign(e){this!==e&&(Ce(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(i=>({...i})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const i=new Pi({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return i.metadata._copy(this.metadata),i}_onReload(e){Ce(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,i=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),i&&await gh(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Ui(this.auth.app))return Promise.reject(Ra(this.auth));const e=await this.getIdToken();return await ru(this,Rw(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,i){const r=i.displayName??void 0,l=i.email??void 0,c=i.phoneNumber??void 0,d=i.photoURL??void 0,p=i.tenantId??void 0,_=i._redirectEventId??void 0,y=i.createdAt??void 0,A=i.lastLoginAt??void 0,{uid:w,emailVerified:C,isAnonymous:Y,providerData:re,stsTokenManager:ue}=i;Ce(w&&ue,e,"internal-error");const ae=Do.fromJSON(this.name,ue);Ce(typeof w=="string",e,"internal-error"),Sr(r,e.name),Sr(l,e.name),Ce(typeof C=="boolean",e,"internal-error"),Ce(typeof Y=="boolean",e,"internal-error"),Sr(c,e.name),Sr(d,e.name),Sr(p,e.name),Sr(_,e.name),Sr(y,e.name),Sr(A,e.name);const Se=new Pi({uid:w,auth:e,email:l,emailVerified:C,displayName:r,isAnonymous:Y,photoURL:d,phoneNumber:c,tenantId:p,stsTokenManager:ae,createdAt:y,lastLoginAt:A});return re&&Array.isArray(re)&&(Se.providerData=re.map(De=>({...De}))),_&&(Se._redirectEventId=_),Se}static async _fromIdTokenResponse(e,i,r=!1){const l=new Do;l.updateFromServerResponse(i);const c=new Pi({uid:i.localId,auth:e,stsTokenManager:l,isAnonymous:r});return await gh(c),c}static async _fromGetAccountInfoResponse(e,i,r){const l=i.users[0];Ce(l.localId!==void 0,"internal-error");const c=l.providerUserInfo!==void 0?dE(l.providerUserInfo):[],d=!(l.email&&l.passwordHash)&&!c?.length,p=new Do;p.updateFromIdToken(r);const _=new Pi({uid:l.localId,auth:e,stsTokenManager:p,isAnonymous:d}),y={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:c,metadata:new Em(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!c?.length};return Object.assign(_,y),_}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D0=new Map;function Ls(s){js(s instanceof Function,"Expected a class definition");let e=D0.get(s);return e?(js(e instanceof s,"Instance stored in cache mismatched with class"),e):(e=new s,D0.set(s,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mE{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,i){this.storage[e]=i}async _get(e){const i=this.storage[e];return i===void 0?null:i}async _remove(e){delete this.storage[e]}_addListener(e,i){}_removeListener(e,i){}}mE.type="NONE";const O0=mE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nh(s,e,i){return`firebase:${s}:${e}:${i}`}class Oo{constructor(e,i,r){this.persistence=e,this.auth=i,this.userKey=r;const{config:l,name:c}=this.auth;this.fullUserKey=nh(this.userKey,l.apiKey,c),this.fullPersistenceKey=nh("persistence",l.apiKey,c),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const i=await mh(this.auth,{idToken:e}).catch(()=>{});return i?Pi._fromGetAccountInfoResponse(this.auth,i,e):null}return Pi._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,i,r="authUser"){if(!i.length)return new Oo(Ls(O0),e,r);const l=(await Promise.all(i.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let c=l[0]||Ls(O0);const d=nh(r,e.config.apiKey,e.name);let p=null;for(const y of i)try{const A=await y._get(d);if(A){let w;if(typeof A=="string"){const C=await mh(e,{idToken:A}).catch(()=>{});if(!C)break;w=await Pi._fromGetAccountInfoResponse(e,C,A)}else w=Pi._fromJSON(e,A);y!==c&&(p=w),c=y;break}}catch{}const _=l.filter(y=>y._shouldAllowMigration);return!c._shouldAllowMigration||!_.length?new Oo(c,e,r):(c=_[0],p&&await c._set(d,p.toJSON()),await Promise.all(i.map(async y=>{if(y!==c)try{await y._remove(d)}catch{}})),new Oo(c,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M0(s){const e=s.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(_E(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(gE(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(EE(e))return"Blackberry";if(TE(e))return"Webos";if(pE(e))return"Safari";if((e.includes("chrome/")||yE(e))&&!e.includes("edge/"))return"Chrome";if(vE(e))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=s.match(i);if(r?.length===2)return r[1]}return"Other"}function gE(s=Tn()){return/firefox\//i.test(s)}function pE(s=Tn()){const e=s.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function yE(s=Tn()){return/crios\//i.test(s)}function _E(s=Tn()){return/iemobile/i.test(s)}function vE(s=Tn()){return/android/i.test(s)}function EE(s=Tn()){return/blackberry/i.test(s)}function TE(s=Tn()){return/webos/i.test(s)}function Km(s=Tn()){return/iphone|ipad|ipod/i.test(s)||/macintosh/i.test(s)&&/mobile/i.test(s)}function Uw(s=Tn()){return Km(s)&&!!window.navigator?.standalone}function Pw(){return XA()&&document.documentMode===10}function bE(s=Tn()){return Km(s)||vE(s)||TE(s)||EE(s)||/windows phone/i.test(s)||_E(s)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AE(s,e=[]){let i;switch(s){case"Browser":i=M0(Tn());break;case"Worker":i=`${M0(Tn())}-${s}`;break;default:i=s}const r=e.length?e.join(","):"FirebaseCore-web";return`${i}/JsCore/${Fo}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lw{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,i){const r=c=>new Promise((d,p)=>{try{const _=e(c);d(_)}catch(_){p(_)}});r.onAbort=i,this.queue.push(r);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const i=[];try{for(const r of this.queue)await r(e),r.onAbort&&i.push(r.onAbort)}catch(r){i.reverse();for(const l of i)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kw(s,e={}){return Go(s,"GET","/v2/passwordPolicy",Qm(s,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jw=6;class zw{constructor(e){const i=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=i.minPasswordLength??jw,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),i.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),i.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),i.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),i.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const i={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,i),this.validatePasswordCharacterOptions(e,i),i.isValid&&(i.isValid=i.meetsMinPasswordLength??!0),i.isValid&&(i.isValid=i.meetsMaxPasswordLength??!0),i.isValid&&(i.isValid=i.containsLowercaseLetter??!0),i.isValid&&(i.isValid=i.containsUppercaseLetter??!0),i.isValid&&(i.isValid=i.containsNumericCharacter??!0),i.isValid&&(i.isValid=i.containsNonAlphanumericCharacter??!0),i}validatePasswordLengthOptions(e,i){const r=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;r&&(i.meetsMinPasswordLength=e.length>=r),l&&(i.meetsMaxPasswordLength=e.length<=l)}validatePasswordCharacterOptions(e,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let r;for(let l=0;l<e.length;l++)r=e.charAt(l),this.updatePasswordCharacterOptionsStatuses(i,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,i,r,l,c){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bw{constructor(e,i,r,l){this.app=e,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=r,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new V0(this),this.idTokenSubscription=new V0(this),this.beforeStateQueue=new Lw(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=uE,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=l.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(e,i){return i&&(this._popupRedirectResolver=Ls(i)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Oo.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const i=await mh(this,{idToken:e}),r=await Pi._fromGetAccountInfoResponse(this,i,e);await this.directlySetCurrentUser(r)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Ui(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let r=i,l=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,d=r?._redirectEventId,p=await this.tryRedirectSignIn(e);(!c||c===d)&&p?.user&&(r=p.user,l=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(r)}catch(c){r=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Ce(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(e){try{await gh(e)}catch(i){if(i?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=Tw()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Ui(this.app))return Promise.reject(Ra(this));const i=e?Wt(e):null;return i&&Ce(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(e,i=!1){if(!this._deleted)return e&&Ce(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Ui(this.app)?Promise.reject(Ra(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Ui(this.app)?Promise.reject(Ra(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ls(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await kw(this),i=new zw(e);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new gu("auth","Firebase",e())}onAuthStateChanged(e,i,r){return this.registerStateListener(this.authStateSubscription,e,i,r)}beforeAuthStateChanged(e,i){return this.beforeStateQueue.pushCallback(e,i)}onIdTokenChanged(e,i,r){return this.registerStateListener(this.idTokenSubscription,e,i,r)}authStateReady(){return new Promise((e,i)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},i)}})}async revokeAccessToken(e){if(this.currentUser){const i=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:i};this.tenantId!=null&&(r.tenantId=this.tenantId),await Vw(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,i){const r=await this.getOrInitRedirectPersistenceManager(i);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const i=e&&Ls(e)||this._popupRedirectResolver;Ce(i,this,"argument-error"),this.redirectPersistenceManager=await Oo.create(this,[Ls(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,i,r,l){if(this._deleted)return()=>{};const c=typeof i=="function"?i:i.next.bind(i);let d=!1;const p=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ce(p,this,"internal-error"),p.then(()=>{d||c(this.currentUser)}),typeof i=="function"){const _=e.addObserver(i,r,l);return()=>{d=!0,_()}}else{const _=e.addObserver(i);return()=>{d=!0,_()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ce(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=AE(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const i=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();i&&(e["X-Firebase-Client"]=i);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){if(Ui(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&yw(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Oh(s){return Wt(s)}class V0{constructor(e){this.auth=e,this.observer=null,this.addObserver=iS(i=>this.observer=i)}get next(){return Ce(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Xm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function qw(s){Xm=s}function Hw(s){return Xm.loadJS(s)}function Fw(){return Xm.gapiScript}function Gw(s){return`__${s}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qw(s,e){const i=qm(s,"auth");if(i.isInitialized()){const l=i.getImmediate(),c=i.getOptions();if(Ia(c,e??{}))return l;as(l,"already-initialized")}return i.initialize({options:e})}function Yw(s,e){const i=e?.persistence||[],r=(Array.isArray(i)?i:[i]).map(Ls);e?.errorMap&&s._updateErrorMap(e.errorMap),s._initializeWithPersistence(r,e?.popupRedirectResolver)}function Kw(s,e,i){const r=Oh(s);Ce(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const l=!1,c=SE(e),{host:d,port:p}=Xw(e),_=p===null?"":`:${p}`,y={url:`${c}//${d}${_}/`},A=Object.freeze({host:d,port:p,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!r._canInitEmulator){Ce(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Ce(Ia(y,r.config.emulator)&&Ia(A,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=y,r.emulatorConfig=A,r.settings.appVerificationDisabledForTesting=!0,Ho(d)?(eE(`${c}//${d}${_}`),tE("Auth",!0)):$w()}function SE(s){const e=s.indexOf(":");return e<0?"":s.substr(0,e+1)}function Xw(s){const e=SE(s),i=/(\/\/)?([^?#/]+)/.exec(s.substr(e.length));if(!i)return{host:"",port:null};const r=i[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(r);if(l){const c=l[1];return{host:c,port:U0(r.substr(c.length+1))}}else{const[c,d]=r.split(":");return{host:c,port:U0(d)}}}function U0(s){if(!s)return null;const e=Number(s);return isNaN(e)?null:e}function $w(){function s(){const e=document.createElement("p"),i=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",s):s())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wE{constructor(e,i){this.providerId=e,this.signInMethod=i}toJSON(){return Ps("not implemented")}_getIdTokenResponse(e){return Ps("not implemented")}_linkToIdToken(e,i){return Ps("not implemented")}_getReauthenticationResolver(e){return Ps("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Mo(s,e){return ww(s,"POST","/v1/accounts:signInWithIdp",Qm(s,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zw="http://localhost";class Da extends wE{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const i=new Da(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(i.idToken=e.idToken),e.accessToken&&(i.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(i.nonce=e.nonce),e.pendingToken&&(i.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(i.accessToken=e.oauthToken,i.secret=e.oauthTokenSecret):as("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const i=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:l,...c}=i;if(!r||!l)return null;const d=new Da(r,l);return d.idToken=c.idToken||void 0,d.accessToken=c.accessToken||void 0,d.secret=c.secret,d.nonce=c.nonce,d.pendingToken=c.pendingToken||null,d}_getIdTokenResponse(e){const i=this.buildRequest();return Mo(e,i)}_linkToIdToken(e,i){const r=this.buildRequest();return r.idToken=i,Mo(e,r)}_getReauthenticationResolver(e){const i=this.buildRequest();return i.autoCreate=!1,Mo(e,i)}buildRequest(){const e={requestUri:Zw,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),e.postBody=pu(i)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $m{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _u extends $m{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xr extends _u{constructor(){super("facebook.com")}static credential(e){return Da._fromParams({providerId:xr.PROVIDER_ID,signInMethod:xr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return xr.credentialFromTaggedObject(e)}static credentialFromError(e){return xr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return xr.credential(e.oauthAccessToken)}catch{return null}}}xr.FACEBOOK_SIGN_IN_METHOD="facebook.com";xr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Us extends _u{constructor(){super("google.com"),this.addScope("profile")}static credential(e,i){return Da._fromParams({providerId:Us.PROVIDER_ID,signInMethod:Us.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:i})}static credentialFromResult(e){return Us.credentialFromTaggedObject(e)}static credentialFromError(e){return Us.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:i,oauthAccessToken:r}=e;if(!i&&!r)return null;try{return Us.credential(i,r)}catch{return null}}}Us.GOOGLE_SIGN_IN_METHOD="google.com";Us.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rr extends _u{constructor(){super("github.com")}static credential(e){return Da._fromParams({providerId:Rr.PROVIDER_ID,signInMethod:Rr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Rr.credentialFromTaggedObject(e)}static credentialFromError(e){return Rr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Rr.credential(e.oauthAccessToken)}catch{return null}}}Rr.GITHUB_SIGN_IN_METHOD="github.com";Rr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nr extends _u{constructor(){super("twitter.com")}static credential(e,i){return Da._fromParams({providerId:Nr.PROVIDER_ID,signInMethod:Nr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:i})}static credentialFromResult(e){return Nr.credentialFromTaggedObject(e)}static credentialFromError(e){return Nr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:i,oauthTokenSecret:r}=e;if(!i||!r)return null;try{return Nr.credential(i,r)}catch{return null}}}Nr.TWITTER_SIGN_IN_METHOD="twitter.com";Nr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Po{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,i,r,l=!1){const c=await Pi._fromIdTokenResponse(e,r,l),d=P0(r);return new Po({user:c,providerId:d,_tokenResponse:r,operationType:i})}static async _forOperation(e,i,r){await e._updateTokensIfNecessary(r,!0);const l=P0(r);return new Po({user:e,providerId:l,_tokenResponse:r,operationType:i})}}function P0(s){return s.providerId?s.providerId:"phoneNumber"in s?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ph extends qs{constructor(e,i,r,l){super(i.code,i.message),this.operationType=r,this.user=l,Object.setPrototypeOf(this,ph.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:i.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,i,r,l){return new ph(e,i,r,l)}}function xE(s,e,i,r){return(e==="reauthenticate"?i._getReauthenticationResolver(s):i._getIdTokenResponse(s)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?ph._fromErrorAndOperation(s,c,e,r):c})}async function Jw(s,e,i=!1){const r=await ru(s,e._linkToIdToken(s.auth,await s.getIdToken()),i);return Po._forOperation(s,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ww(s,e,i=!1){const{auth:r}=s;if(Ui(r.app))return Promise.reject(Ra(r));const l="reauthenticate";try{const c=await ru(s,xE(r,l,e,s),i);Ce(c.idToken,r,"internal-error");const d=Ym(c.idToken);Ce(d,r,"internal-error");const{sub:p}=d;return Ce(s.uid===p,r,"user-mismatch"),Po._forOperation(s,l,c)}catch(c){throw c?.code==="auth/user-not-found"&&as(r,"user-mismatch"),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ex(s,e,i=!1){if(Ui(s.app))return Promise.reject(Ra(s));const r="signIn",l=await xE(s,r,e),c=await Po._fromIdTokenResponse(s,r,l);return i||await s._updateCurrentUser(c.user),c}function tx(s,e,i,r){return Wt(s).onIdTokenChanged(e,i,r)}function nx(s,e,i){return Wt(s).beforeAuthStateChanged(e,i)}function ix(s,e,i,r){return Wt(s).onAuthStateChanged(e,i,r)}function sx(s){return Wt(s).signOut()}const yh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RE{constructor(e,i){this.storageRetriever=e,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(yh,"1"),this.storage.removeItem(yh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,i){return this.storage.setItem(e,JSON.stringify(i)),Promise.resolve()}_get(e){const i=this.storage.getItem(e);return Promise.resolve(i?JSON.parse(i):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rx=1e3,ax=10;class NE extends RE{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,i)=>this.onStorageEvent(e,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=bE(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const i of Object.keys(this.listeners)){const r=this.storage.getItem(i),l=this.localCache[i];r!==l&&e(i,l,r)}}onStorageEvent(e,i=!1){if(!e.key){this.forAllChangedKeys((d,p,_)=>{this.notifyListeners(d,_)});return}const r=e.key;i?this.detachListener():this.stopPolling();const l=()=>{const d=this.storage.getItem(r);!i&&this.localCache[r]===d||this.notifyListeners(r,d)},c=this.storage.getItem(r);Pw()&&c!==e.newValue&&e.newValue!==e.oldValue?setTimeout(l,ax):l()}notifyListeners(e,i){this.localCache[e]=i;const r=this.listeners[e];if(r)for(const l of Array.from(r))l(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,i,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:i,newValue:r}),!0)})},rx)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(i)}_removeListener(e,i){this.listeners[e]&&(this.listeners[e].delete(i),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,i){await super._set(e,i),this.localCache[e]=JSON.stringify(i)}async _get(e){const i=await super._get(e);return this.localCache[e]=JSON.stringify(i),i}async _remove(e){await super._remove(e),delete this.localCache[e]}}NE.type="LOCAL";const ox=NE;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IE extends RE{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,i){}_removeListener(e,i){}}IE.type="SESSION";const CE=IE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lx(s){return Promise.all(s.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(i){return{fulfilled:!1,reason:i}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const i=this.receivers.find(l=>l.isListeningto(e));if(i)return i;const r=new Mh(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const i=e,{eventId:r,eventType:l,data:c}=i.data,d=this.handlersMap[l];if(!d?.size)return;i.ports[0].postMessage({status:"ack",eventId:r,eventType:l});const p=Array.from(d).map(async y=>y(i.origin,c)),_=await lx(p);i.ports[0].postMessage({status:"done",eventId:r,eventType:l,response:_})}_subscribe(e,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(i)}_unsubscribe(e,i){this.handlersMap[e]&&i&&this.handlersMap[e].delete(i),(!i||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Mh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zm(s="",e=10){let i="";for(let r=0;r<e;r++)i+=Math.floor(Math.random()*10);return s+i}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ux{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,i,r=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let c,d;return new Promise((p,_)=>{const y=Zm("",20);l.port1.start();const A=setTimeout(()=>{_(new Error("unsupported_event"))},r);d={messageChannel:l,onMessage(w){const C=w;if(C.data.eventId===y)switch(C.data.status){case"ack":clearTimeout(A),c=setTimeout(()=>{_(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),p(C.data.response);break;default:clearTimeout(A),clearTimeout(c),_(new Error("invalid_response"));break}}},this.handlers.add(d),l.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:e,eventId:y,data:i},[l.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ts(){return window}function cx(s){ts().location.href=s}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DE(){return typeof ts().WorkerGlobalScope<"u"&&typeof ts().importScripts=="function"}async function hx(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function fx(){return navigator?.serviceWorker?.controller||null}function dx(){return DE()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OE="firebaseLocalStorageDb",mx=1,_h="firebaseLocalStorage",ME="fbase_key";class vu{constructor(e){this.request=e}toPromise(){return new Promise((e,i)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function Vh(s,e){return s.transaction([_h],e?"readwrite":"readonly").objectStore(_h)}function gx(){const s=indexedDB.deleteDatabase(OE);return new vu(s).toPromise()}function Tm(){const s=indexedDB.open(OE,mx);return new Promise((e,i)=>{s.addEventListener("error",()=>{i(s.error)}),s.addEventListener("upgradeneeded",()=>{const r=s.result;try{r.createObjectStore(_h,{keyPath:ME})}catch(l){i(l)}}),s.addEventListener("success",async()=>{const r=s.result;r.objectStoreNames.contains(_h)?e(r):(r.close(),await gx(),e(await Tm()))})})}async function L0(s,e,i){const r=Vh(s,!0).put({[ME]:e,value:i});return new vu(r).toPromise()}async function px(s,e){const i=Vh(s,!1).get(e),r=await new vu(i).toPromise();return r===void 0?null:r.value}function k0(s,e){const i=Vh(s,!0).delete(e);return new vu(i).toPromise()}const yx=800,_x=3;class VE{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Tm(),this.db)}async _withRetries(e){let i=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(i++>_x)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return DE()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Mh._getInstance(dx()),this.receiver._subscribe("keyChanged",async(e,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(e,i)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await hx(),!this.activeServiceWorker)return;this.sender=new ux(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||fx()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Tm();return await L0(e,yh,"1"),await k0(e,yh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,i){return this._withPendingWrite(async()=>(await this._withRetries(r=>L0(r,e,i)),this.localCache[e]=i,this.notifyServiceWorker(e)))}async _get(e){const i=await this._withRetries(r=>px(r,e));return this.localCache[e]=i,i}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(i=>k0(i,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(l=>{const c=Vh(l,!1).getAll();return new vu(c).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const i=[],r=new Set;if(e.length!==0)for(const{fbase_key:l,value:c}of e)r.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(c)&&(this.notifyListeners(l,c),i.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!r.has(l)&&(this.notifyListeners(l,null),i.push(l));return i}notifyListeners(e,i){this.localCache[e]=i;const r=this.listeners[e];if(r)for(const l of Array.from(r))l(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),yx)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(i)}_removeListener(e,i){this.listeners[e]&&(this.listeners[e].delete(i),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}VE.type="LOCAL";const vx=VE;new yu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UE(s,e){return e?Ls(e):(Ce(s._popupRedirectResolver,s,"argument-error"),s._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jm extends wE{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Mo(e,this._buildIdpRequest())}_linkToIdToken(e,i){return Mo(e,this._buildIdpRequest(i))}_getReauthenticationResolver(e){return Mo(e,this._buildIdpRequest())}_buildIdpRequest(e){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(i.idToken=e),i}}function Ex(s){return ex(s.auth,new Jm(s),s.bypassAuthState)}function Tx(s){const{auth:e,user:i}=s;return Ce(i,e,"internal-error"),Ww(i,new Jm(s),s.bypassAuthState)}async function bx(s){const{auth:e,user:i}=s;return Ce(i,e,"internal-error"),Jw(i,new Jm(s),s.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PE{constructor(e,i,r,l,c=!1){this.auth=e,this.resolver=r,this.user=l,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(e,i)=>{this.pendingPromise={resolve:e,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:i,sessionId:r,postBody:l,tenantId:c,error:d,type:p}=e;if(d){this.reject(d);return}const _={auth:this.auth,requestUri:i,sessionId:r,tenantId:c||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(p)(_))}catch(y){this.reject(y)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Ex;case"linkViaPopup":case"linkViaRedirect":return bx;case"reauthViaPopup":case"reauthViaRedirect":return Tx;default:as(this.auth,"internal-error")}}resolve(e){js(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){js(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ax=new yu(2e3,1e4);async function Sx(s,e,i){if(Ui(s.app))return Promise.reject(Li(s,"operation-not-supported-in-this-environment"));const r=Oh(s);_w(s,e,$m);const l=UE(r,i);return new wa(r,"signInViaPopup",e,l).executeNotNull()}class wa extends PE{constructor(e,i,r,l,c){super(e,i,l,c),this.provider=r,this.authWindow=null,this.pollId=null,wa.currentPopupAction&&wa.currentPopupAction.cancel(),wa.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ce(e,this.auth,"internal-error"),e}async onExecution(){js(this.filter.length===1,"Popup operations only handle one event");const e=Zm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(Li(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Li(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,wa.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Li(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,Ax.get())};e()}}wa.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wx="pendingRedirect",ih=new Map;class xx extends PE{constructor(e,i,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,r),this.eventId=null}async execute(){let e=ih.get(this.auth._key());if(!e){try{const r=await Rx(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(i){e=()=>Promise.reject(i)}ih.set(this.auth._key(),e)}return this.bypassAuthState||ih.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const i=await this.auth._redirectUserForId(e.eventId);if(i)return this.user=i,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Rx(s,e){const i=Cx(e),r=Ix(s);if(!await r._isAvailable())return!1;const l=await r._get(i)==="true";return await r._remove(i),l}function Nx(s,e){ih.set(s._key(),e)}function Ix(s){return Ls(s._redirectPersistence)}function Cx(s){return nh(wx,s.config.apiKey,s.name)}async function Dx(s,e,i=!1){if(Ui(s.app))return Promise.reject(Ra(s));const r=Oh(s),l=UE(r,e),d=await new xx(r,l,i).execute();return d&&!i&&(delete d.user._redirectEventId,await r._persistUserIfCurrent(d.user),await r._setRedirectUser(null,e)),d}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ox=600*1e3;class Mx{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let i=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(i=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!Vx(e)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=e,i=!0)),i}sendToConsumer(e,i){if(e.error&&!LE(e)){const r=e.error.code?.split("auth/")[1]||"internal-error";i.onError(Li(this.auth,r))}else i.onAuthEvent(e)}isEventForConsumer(e,i){const r=i.eventId===null||!!e.eventId&&e.eventId===i.eventId;return i.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=Ox&&this.cachedEventUids.clear(),this.cachedEventUids.has(j0(e))}saveEventToCache(e){this.cachedEventUids.add(j0(e)),this.lastProcessedEventTime=Date.now()}}function j0(s){return[s.type,s.eventId,s.sessionId,s.tenantId].filter(e=>e).join("-")}function LE({type:s,error:e}){return s==="unknown"&&e?.code==="auth/no-auth-event"}function Vx(s){switch(s.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return LE(s);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ux(s,e={}){return Go(s,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Px=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Lx=/^https?/;async function kx(s){if(s.config.emulator)return;const{authorizedDomains:e}=await Ux(s);for(const i of e)try{if(jx(i))return}catch{}as(s,"unauthorized-domain")}function jx(s){const e=vm(),{protocol:i,hostname:r}=new URL(e);if(s.startsWith("chrome-extension://")){const d=new URL(s);return d.hostname===""&&r===""?i==="chrome-extension:"&&s.replace("chrome-extension://","")===e.replace("chrome-extension://",""):i==="chrome-extension:"&&d.hostname===r}if(!Lx.test(i))return!1;if(Px.test(s))return r===s;const l=s.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zx=new yu(3e4,6e4);function z0(){const s=ts().___jsl;if(s?.H){for(const e of Object.keys(s.H))if(s.H[e].r=s.H[e].r||[],s.H[e].L=s.H[e].L||[],s.H[e].r=[...s.H[e].L],s.CP)for(let i=0;i<s.CP.length;i++)s.CP[i]=null}}function Bx(s){return new Promise((e,i)=>{function r(){z0(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{z0(),i(Li(s,"network-request-failed"))},timeout:zx.get()})}if(ts().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(ts().gapi?.load)r();else{const l=Gw("iframefcb");return ts()[l]=()=>{gapi.load?r():i(Li(s,"network-request-failed"))},Hw(`${Fw()}?onload=${l}`).catch(c=>i(c))}}).catch(e=>{throw sh=null,e})}let sh=null;function qx(s){return sh=sh||Bx(s),sh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hx=new yu(5e3,15e3),Fx="__/auth/iframe",Gx="emulator/auth/iframe",Qx={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Yx=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Kx(s){const e=s.config;Ce(e.authDomain,s,"auth-domain-config-required");const i=e.emulator?Gm(e,Gx):`https://${s.config.authDomain}/${Fx}`,r={apiKey:e.apiKey,appName:s.name,v:Fo},l=Yx.get(s.config.apiHost);l&&(r.eid=l);const c=s._getFrameworks();return c.length&&(r.fw=c.join(",")),`${i}?${pu(r).slice(1)}`}async function Xx(s){const e=await qx(s),i=ts().gapi;return Ce(i,s,"internal-error"),e.open({where:document.body,url:Kx(s),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Qx,dontclear:!0},r=>new Promise(async(l,c)=>{await r.restyle({setHideOnLeave:!1});const d=Li(s,"network-request-failed"),p=ts().setTimeout(()=>{c(d)},Hx.get());function _(){ts().clearTimeout(p),l(r)}r.ping(_).then(_,()=>{c(d)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $x={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Zx=500,Jx=600,Wx="_blank",e2="http://localhost";class B0{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function t2(s,e,i,r=Zx,l=Jx){const c=Math.max((window.screen.availHeight-l)/2,0).toString(),d=Math.max((window.screen.availWidth-r)/2,0).toString();let p="";const _={...$x,width:r.toString(),height:l.toString(),top:c,left:d},y=Tn().toLowerCase();i&&(p=yE(y)?Wx:i),gE(y)&&(e=e||e2,_.scrollbars="yes");const A=Object.entries(_).reduce((C,[Y,re])=>`${C}${Y}=${re},`,"");if(Uw(y)&&p!=="_self")return n2(e||"",p),new B0(null);const w=window.open(e||"",p,A);Ce(w,s,"popup-blocked");try{w.focus()}catch{}return new B0(w)}function n2(s,e){const i=document.createElement("a");i.href=s,i.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i2="__/auth/handler",s2="emulator/auth/handler",r2=encodeURIComponent("fac");async function q0(s,e,i,r,l,c){Ce(s.config.authDomain,s,"auth-domain-config-required"),Ce(s.config.apiKey,s,"invalid-api-key");const d={apiKey:s.config.apiKey,appName:s.name,authType:i,redirectUrl:r,v:Fo,eventId:l};if(e instanceof $m){e.setDefaultLanguage(s.languageCode),d.providerId=e.providerId||"",nS(e.getCustomParameters())||(d.customParameters=JSON.stringify(e.getCustomParameters()));for(const[A,w]of Object.entries({}))d[A]=w}if(e instanceof _u){const A=e.getScopes().filter(w=>w!=="");A.length>0&&(d.scopes=A.join(","))}s.tenantId&&(d.tid=s.tenantId);const p=d;for(const A of Object.keys(p))p[A]===void 0&&delete p[A];const _=await s._getAppCheckToken(),y=_?`#${r2}=${encodeURIComponent(_)}`:"";return`${a2(s)}?${pu(p).slice(1)}${y}`}function a2({config:s}){return s.emulator?Gm(s,s2):`https://${s.authDomain}/${i2}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const am="webStorageSupport";class o2{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=CE,this._completeRedirectFn=Dx,this._overrideRedirectResult=Nx}async _openPopup(e,i,r,l){js(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const c=await q0(e,i,r,vm(),l);return t2(e,c,Zm())}async _openRedirect(e,i,r,l){await this._originValidation(e);const c=await q0(e,i,r,vm(),l);return cx(c),new Promise(()=>{})}_initialize(e){const i=e._key();if(this.eventManagers[i]){const{manager:l,promise:c}=this.eventManagers[i];return l?Promise.resolve(l):(js(c,"If manager is not set, promise should be"),c)}const r=this.initAndGetManager(e);return this.eventManagers[i]={promise:r},r.catch(()=>{delete this.eventManagers[i]}),r}async initAndGetManager(e){const i=await Xx(e),r=new Mx(e);return i.register("authEvent",l=>(Ce(l?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=i,r}_isIframeWebStorageSupported(e,i){this.iframes[e._key()].send(am,{type:am},l=>{const c=l?.[0]?.[am];c!==void 0&&i(!!c),as(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const i=e._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=kx(e)),this.originValidationPromises[i]}get _shouldInitProactively(){return bE()||pE()||Km()}}const l2=o2;var H0="@firebase/auth",F0="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u2{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const i=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,i),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const i=this.internalListeners.get(e);i&&(this.internalListeners.delete(e),i(),this.updateProactiveRefresh())}assertAuthConfigured(){Ce(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c2(s){switch(s){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function h2(s){Uo(new Ca("auth",(e,{options:i})=>{const r=e.getProvider("app").getImmediate(),l=e.getProvider("heartbeat"),c=e.getProvider("app-check-internal"),{apiKey:d,authDomain:p}=r.options;Ce(d&&!d.includes(":"),"invalid-api-key",{appName:r.name});const _={apiKey:d,authDomain:p,clientPlatform:s,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:AE(s)},y=new Bw(r,l,c,_);return Yw(y,i),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,i,r)=>{e.getProvider("auth-internal").initialize()})),Uo(new Ca("auth-internal",e=>{const i=Oh(e.getProvider("auth").getImmediate());return(r=>new u2(r))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),Or(H0,F0,c2(s)),Or(H0,F0,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f2=300,d2=Wv("authIdTokenMaxAge")||f2;let G0=null;const m2=s=>async e=>{const i=e&&await e.getIdTokenResult(),r=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(r&&r>d2)return;const l=i?.token;G0!==l&&(G0=l,await fetch(s,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function g2(s=rE()){const e=qm(s,"auth");if(e.isInitialized())return e.getImmediate();const i=Qw(s,{popupRedirectResolver:l2,persistence:[vx,ox,CE]}),r=Wv("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(r,location.origin);if(location.origin===c.origin){const d=m2(c.toString());nx(i,d,()=>d(i.currentUser)),tx(i,p=>d(p))}}const l=Zv("auth");return l&&Kw(i,`http://${l}`),i}function p2(){return document.getElementsByTagName("head")?.[0]??document}qw({loadJS(s){return new Promise((e,i)=>{const r=document.createElement("script");r.setAttribute("src",s),r.onload=e,r.onerror=l=>{const c=Li("internal-error");c.customData=l,i(c)},r.type="text/javascript",r.charset="UTF-8",p2().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});h2("Browser");var Q0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Mr,kE;(function(){var s;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(D,x){function N(){}N.prototype=x.prototype,D.F=x.prototype,D.prototype=new N,D.prototype.constructor=D,D.D=function(U,O,k){for(var R=Array(arguments.length-2),nt=2;nt<arguments.length;nt++)R[nt-2]=arguments[nt];return x.prototype[O].apply(U,R)}}function i(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,i),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(D,x,N){N||(N=0);const U=Array(16);if(typeof x=="string")for(var O=0;O<16;++O)U[O]=x.charCodeAt(N++)|x.charCodeAt(N++)<<8|x.charCodeAt(N++)<<16|x.charCodeAt(N++)<<24;else for(O=0;O<16;++O)U[O]=x[N++]|x[N++]<<8|x[N++]<<16|x[N++]<<24;x=D.g[0],N=D.g[1],O=D.g[2];let k=D.g[3],R;R=x+(k^N&(O^k))+U[0]+3614090360&4294967295,x=N+(R<<7&4294967295|R>>>25),R=k+(O^x&(N^O))+U[1]+3905402710&4294967295,k=x+(R<<12&4294967295|R>>>20),R=O+(N^k&(x^N))+U[2]+606105819&4294967295,O=k+(R<<17&4294967295|R>>>15),R=N+(x^O&(k^x))+U[3]+3250441966&4294967295,N=O+(R<<22&4294967295|R>>>10),R=x+(k^N&(O^k))+U[4]+4118548399&4294967295,x=N+(R<<7&4294967295|R>>>25),R=k+(O^x&(N^O))+U[5]+1200080426&4294967295,k=x+(R<<12&4294967295|R>>>20),R=O+(N^k&(x^N))+U[6]+2821735955&4294967295,O=k+(R<<17&4294967295|R>>>15),R=N+(x^O&(k^x))+U[7]+4249261313&4294967295,N=O+(R<<22&4294967295|R>>>10),R=x+(k^N&(O^k))+U[8]+1770035416&4294967295,x=N+(R<<7&4294967295|R>>>25),R=k+(O^x&(N^O))+U[9]+2336552879&4294967295,k=x+(R<<12&4294967295|R>>>20),R=O+(N^k&(x^N))+U[10]+4294925233&4294967295,O=k+(R<<17&4294967295|R>>>15),R=N+(x^O&(k^x))+U[11]+2304563134&4294967295,N=O+(R<<22&4294967295|R>>>10),R=x+(k^N&(O^k))+U[12]+1804603682&4294967295,x=N+(R<<7&4294967295|R>>>25),R=k+(O^x&(N^O))+U[13]+4254626195&4294967295,k=x+(R<<12&4294967295|R>>>20),R=O+(N^k&(x^N))+U[14]+2792965006&4294967295,O=k+(R<<17&4294967295|R>>>15),R=N+(x^O&(k^x))+U[15]+1236535329&4294967295,N=O+(R<<22&4294967295|R>>>10),R=x+(O^k&(N^O))+U[1]+4129170786&4294967295,x=N+(R<<5&4294967295|R>>>27),R=k+(N^O&(x^N))+U[6]+3225465664&4294967295,k=x+(R<<9&4294967295|R>>>23),R=O+(x^N&(k^x))+U[11]+643717713&4294967295,O=k+(R<<14&4294967295|R>>>18),R=N+(k^x&(O^k))+U[0]+3921069994&4294967295,N=O+(R<<20&4294967295|R>>>12),R=x+(O^k&(N^O))+U[5]+3593408605&4294967295,x=N+(R<<5&4294967295|R>>>27),R=k+(N^O&(x^N))+U[10]+38016083&4294967295,k=x+(R<<9&4294967295|R>>>23),R=O+(x^N&(k^x))+U[15]+3634488961&4294967295,O=k+(R<<14&4294967295|R>>>18),R=N+(k^x&(O^k))+U[4]+3889429448&4294967295,N=O+(R<<20&4294967295|R>>>12),R=x+(O^k&(N^O))+U[9]+568446438&4294967295,x=N+(R<<5&4294967295|R>>>27),R=k+(N^O&(x^N))+U[14]+3275163606&4294967295,k=x+(R<<9&4294967295|R>>>23),R=O+(x^N&(k^x))+U[3]+4107603335&4294967295,O=k+(R<<14&4294967295|R>>>18),R=N+(k^x&(O^k))+U[8]+1163531501&4294967295,N=O+(R<<20&4294967295|R>>>12),R=x+(O^k&(N^O))+U[13]+2850285829&4294967295,x=N+(R<<5&4294967295|R>>>27),R=k+(N^O&(x^N))+U[2]+4243563512&4294967295,k=x+(R<<9&4294967295|R>>>23),R=O+(x^N&(k^x))+U[7]+1735328473&4294967295,O=k+(R<<14&4294967295|R>>>18),R=N+(k^x&(O^k))+U[12]+2368359562&4294967295,N=O+(R<<20&4294967295|R>>>12),R=x+(N^O^k)+U[5]+4294588738&4294967295,x=N+(R<<4&4294967295|R>>>28),R=k+(x^N^O)+U[8]+2272392833&4294967295,k=x+(R<<11&4294967295|R>>>21),R=O+(k^x^N)+U[11]+1839030562&4294967295,O=k+(R<<16&4294967295|R>>>16),R=N+(O^k^x)+U[14]+4259657740&4294967295,N=O+(R<<23&4294967295|R>>>9),R=x+(N^O^k)+U[1]+2763975236&4294967295,x=N+(R<<4&4294967295|R>>>28),R=k+(x^N^O)+U[4]+1272893353&4294967295,k=x+(R<<11&4294967295|R>>>21),R=O+(k^x^N)+U[7]+4139469664&4294967295,O=k+(R<<16&4294967295|R>>>16),R=N+(O^k^x)+U[10]+3200236656&4294967295,N=O+(R<<23&4294967295|R>>>9),R=x+(N^O^k)+U[13]+681279174&4294967295,x=N+(R<<4&4294967295|R>>>28),R=k+(x^N^O)+U[0]+3936430074&4294967295,k=x+(R<<11&4294967295|R>>>21),R=O+(k^x^N)+U[3]+3572445317&4294967295,O=k+(R<<16&4294967295|R>>>16),R=N+(O^k^x)+U[6]+76029189&4294967295,N=O+(R<<23&4294967295|R>>>9),R=x+(N^O^k)+U[9]+3654602809&4294967295,x=N+(R<<4&4294967295|R>>>28),R=k+(x^N^O)+U[12]+3873151461&4294967295,k=x+(R<<11&4294967295|R>>>21),R=O+(k^x^N)+U[15]+530742520&4294967295,O=k+(R<<16&4294967295|R>>>16),R=N+(O^k^x)+U[2]+3299628645&4294967295,N=O+(R<<23&4294967295|R>>>9),R=x+(O^(N|~k))+U[0]+4096336452&4294967295,x=N+(R<<6&4294967295|R>>>26),R=k+(N^(x|~O))+U[7]+1126891415&4294967295,k=x+(R<<10&4294967295|R>>>22),R=O+(x^(k|~N))+U[14]+2878612391&4294967295,O=k+(R<<15&4294967295|R>>>17),R=N+(k^(O|~x))+U[5]+4237533241&4294967295,N=O+(R<<21&4294967295|R>>>11),R=x+(O^(N|~k))+U[12]+1700485571&4294967295,x=N+(R<<6&4294967295|R>>>26),R=k+(N^(x|~O))+U[3]+2399980690&4294967295,k=x+(R<<10&4294967295|R>>>22),R=O+(x^(k|~N))+U[10]+4293915773&4294967295,O=k+(R<<15&4294967295|R>>>17),R=N+(k^(O|~x))+U[1]+2240044497&4294967295,N=O+(R<<21&4294967295|R>>>11),R=x+(O^(N|~k))+U[8]+1873313359&4294967295,x=N+(R<<6&4294967295|R>>>26),R=k+(N^(x|~O))+U[15]+4264355552&4294967295,k=x+(R<<10&4294967295|R>>>22),R=O+(x^(k|~N))+U[6]+2734768916&4294967295,O=k+(R<<15&4294967295|R>>>17),R=N+(k^(O|~x))+U[13]+1309151649&4294967295,N=O+(R<<21&4294967295|R>>>11),R=x+(O^(N|~k))+U[4]+4149444226&4294967295,x=N+(R<<6&4294967295|R>>>26),R=k+(N^(x|~O))+U[11]+3174756917&4294967295,k=x+(R<<10&4294967295|R>>>22),R=O+(x^(k|~N))+U[2]+718787259&4294967295,O=k+(R<<15&4294967295|R>>>17),R=N+(k^(O|~x))+U[9]+3951481745&4294967295,D.g[0]=D.g[0]+x&4294967295,D.g[1]=D.g[1]+(O+(R<<21&4294967295|R>>>11))&4294967295,D.g[2]=D.g[2]+O&4294967295,D.g[3]=D.g[3]+k&4294967295}r.prototype.v=function(D,x){x===void 0&&(x=D.length);const N=x-this.blockSize,U=this.C;let O=this.h,k=0;for(;k<x;){if(O==0)for(;k<=N;)l(this,D,k),k+=this.blockSize;if(typeof D=="string"){for(;k<x;)if(U[O++]=D.charCodeAt(k++),O==this.blockSize){l(this,U),O=0;break}}else for(;k<x;)if(U[O++]=D[k++],O==this.blockSize){l(this,U),O=0;break}}this.h=O,this.o+=x},r.prototype.A=function(){var D=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);D[0]=128;for(var x=1;x<D.length-8;++x)D[x]=0;x=this.o*8;for(var N=D.length-8;N<D.length;++N)D[N]=x&255,x/=256;for(this.v(D),D=Array(16),x=0,N=0;N<4;++N)for(let U=0;U<32;U+=8)D[x++]=this.g[N]>>>U&255;return D};function c(D,x){var N=p;return Object.prototype.hasOwnProperty.call(N,D)?N[D]:N[D]=x(D)}function d(D,x){this.h=x;const N=[];let U=!0;for(let O=D.length-1;O>=0;O--){const k=D[O]|0;U&&k==x||(N[O]=k,U=!1)}this.g=N}var p={};function _(D){return-128<=D&&D<128?c(D,function(x){return new d([x|0],x<0?-1:0)}):new d([D|0],D<0?-1:0)}function y(D){if(isNaN(D)||!isFinite(D))return w;if(D<0)return ae(y(-D));const x=[];let N=1;for(let U=0;D>=N;U++)x[U]=D/N|0,N*=4294967296;return new d(x,0)}function A(D,x){if(D.length==0)throw Error("number format error: empty string");if(x=x||10,x<2||36<x)throw Error("radix out of range: "+x);if(D.charAt(0)=="-")return ae(A(D.substring(1),x));if(D.indexOf("-")>=0)throw Error('number format error: interior "-" character');const N=y(Math.pow(x,8));let U=w;for(let k=0;k<D.length;k+=8){var O=Math.min(8,D.length-k);const R=parseInt(D.substring(k,k+O),x);O<8?(O=y(Math.pow(x,O)),U=U.j(O).add(y(R))):(U=U.j(N),U=U.add(y(R)))}return U}var w=_(0),C=_(1),Y=_(16777216);s=d.prototype,s.m=function(){if(ue(this))return-ae(this).m();let D=0,x=1;for(let N=0;N<this.g.length;N++){const U=this.i(N);D+=(U>=0?U:4294967296+U)*x,x*=4294967296}return D},s.toString=function(D){if(D=D||10,D<2||36<D)throw Error("radix out of range: "+D);if(re(this))return"0";if(ue(this))return"-"+ae(this).toString(D);const x=y(Math.pow(D,6));var N=this;let U="";for(;;){const O=We(N,x).g;N=Se(N,O.j(x));let k=((N.g.length>0?N.g[0]:N.h)>>>0).toString(D);if(N=O,re(N))return k+U;for(;k.length<6;)k="0"+k;U=k+U}},s.i=function(D){return D<0?0:D<this.g.length?this.g[D]:this.h};function re(D){if(D.h!=0)return!1;for(let x=0;x<D.g.length;x++)if(D.g[x]!=0)return!1;return!0}function ue(D){return D.h==-1}s.l=function(D){return D=Se(this,D),ue(D)?-1:re(D)?0:1};function ae(D){const x=D.g.length,N=[];for(let U=0;U<x;U++)N[U]=~D.g[U];return new d(N,~D.h).add(C)}s.abs=function(){return ue(this)?ae(this):this},s.add=function(D){const x=Math.max(this.g.length,D.g.length),N=[];let U=0;for(let O=0;O<=x;O++){let k=U+(this.i(O)&65535)+(D.i(O)&65535),R=(k>>>16)+(this.i(O)>>>16)+(D.i(O)>>>16);U=R>>>16,k&=65535,R&=65535,N[O]=R<<16|k}return new d(N,N[N.length-1]&-2147483648?-1:0)};function Se(D,x){return D.add(ae(x))}s.j=function(D){if(re(this)||re(D))return w;if(ue(this))return ue(D)?ae(this).j(ae(D)):ae(ae(this).j(D));if(ue(D))return ae(this.j(ae(D)));if(this.l(Y)<0&&D.l(Y)<0)return y(this.m()*D.m());const x=this.g.length+D.g.length,N=[];for(var U=0;U<2*x;U++)N[U]=0;for(U=0;U<this.g.length;U++)for(let O=0;O<D.g.length;O++){const k=this.i(U)>>>16,R=this.i(U)&65535,nt=D.i(O)>>>16,Ot=D.i(O)&65535;N[2*U+2*O]+=R*Ot,De(N,2*U+2*O),N[2*U+2*O+1]+=k*Ot,De(N,2*U+2*O+1),N[2*U+2*O+1]+=R*nt,De(N,2*U+2*O+1),N[2*U+2*O+2]+=k*nt,De(N,2*U+2*O+2)}for(D=0;D<x;D++)N[D]=N[2*D+1]<<16|N[2*D];for(D=x;D<2*x;D++)N[D]=0;return new d(N,0)};function De(D,x){for(;(D[x]&65535)!=D[x];)D[x+1]+=D[x]>>>16,D[x]&=65535,x++}function Ne(D,x){this.g=D,this.h=x}function We(D,x){if(re(x))throw Error("division by zero");if(re(D))return new Ne(w,w);if(ue(D))return x=We(ae(D),x),new Ne(ae(x.g),ae(x.h));if(ue(x))return x=We(D,ae(x)),new Ne(ae(x.g),x.h);if(D.g.length>30){if(ue(D)||ue(x))throw Error("slowDivide_ only works with positive integers.");for(var N=C,U=x;U.l(D)<=0;)N=ut(N),U=ut(U);var O=Ze(N,1),k=Ze(U,1);for(U=Ze(U,2),N=Ze(N,2);!re(U);){var R=k.add(U);R.l(D)<=0&&(O=O.add(N),k=R),U=Ze(U,1),N=Ze(N,1)}return x=Se(D,O.j(x)),new Ne(O,x)}for(O=w;D.l(x)>=0;){for(N=Math.max(1,Math.floor(D.m()/x.m())),U=Math.ceil(Math.log(N)/Math.LN2),U=U<=48?1:Math.pow(2,U-48),k=y(N),R=k.j(x);ue(R)||R.l(D)>0;)N-=U,k=y(N),R=k.j(x);re(k)&&(k=C),O=O.add(k),D=Se(D,R)}return new Ne(O,D)}s.B=function(D){return We(this,D).h},s.and=function(D){const x=Math.max(this.g.length,D.g.length),N=[];for(let U=0;U<x;U++)N[U]=this.i(U)&D.i(U);return new d(N,this.h&D.h)},s.or=function(D){const x=Math.max(this.g.length,D.g.length),N=[];for(let U=0;U<x;U++)N[U]=this.i(U)|D.i(U);return new d(N,this.h|D.h)},s.xor=function(D){const x=Math.max(this.g.length,D.g.length),N=[];for(let U=0;U<x;U++)N[U]=this.i(U)^D.i(U);return new d(N,this.h^D.h)};function ut(D){const x=D.g.length+1,N=[];for(let U=0;U<x;U++)N[U]=D.i(U)<<1|D.i(U-1)>>>31;return new d(N,D.h)}function Ze(D,x){const N=x>>5;x%=32;const U=D.g.length-N,O=[];for(let k=0;k<U;k++)O[k]=x>0?D.i(k+N)>>>x|D.i(k+N+1)<<32-x:D.i(k+N);return new d(O,D.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,kE=r,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=y,d.fromString=A,Mr=d}).apply(typeof Q0<"u"?Q0:typeof self<"u"?self:typeof window<"u"?window:{});var Kc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var jE,Yl,zE,rh,bm,BE,qE,HE;(function(){var s,e=Object.defineProperty;function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Kc=="object"&&Kc];for(var m=0;m<u.length;++m){var v=u[m];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var r=i(this);function l(u,m){if(m)e:{var v=r;u=u.split(".");for(var b=0;b<u.length-1;b++){var j=u[b];if(!(j in v))break e;v=v[j]}u=u[u.length-1],b=v[u],m=m(b),m!=b&&m!=null&&e(v,u,{configurable:!0,writable:!0,value:m})}}l("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),l("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),l("Object.entries",function(u){return u||function(m){var v=[],b;for(b in m)Object.prototype.hasOwnProperty.call(m,b)&&v.push([b,m[b]]);return v}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var c=c||{},d=this||self;function p(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function _(u,m,v){return u.call.apply(u.bind,arguments)}function y(u,m,v){return y=_,y.apply(null,arguments)}function A(u,m){var v=Array.prototype.slice.call(arguments,1);return function(){var b=v.slice();return b.push.apply(b,arguments),u.apply(this,b)}}function w(u,m){function v(){}v.prototype=m.prototype,u.Z=m.prototype,u.prototype=new v,u.prototype.constructor=u,u.Ob=function(b,j,G){for(var oe=Array(arguments.length-2),ke=2;ke<arguments.length;ke++)oe[ke-2]=arguments[ke];return m.prototype[j].apply(b,oe)}}var C=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function Y(u){const m=u.length;if(m>0){const v=Array(m);for(let b=0;b<m;b++)v[b]=u[b];return v}return[]}function re(u,m){for(let b=1;b<arguments.length;b++){const j=arguments[b];var v=typeof j;if(v=v!="object"?v:j?Array.isArray(j)?"array":v:"null",v=="array"||v=="object"&&typeof j.length=="number"){v=u.length||0;const G=j.length||0;u.length=v+G;for(let oe=0;oe<G;oe++)u[v+oe]=j[oe]}else u.push(j)}}class ue{constructor(m,v){this.i=m,this.j=v,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function ae(u){d.setTimeout(()=>{throw u},0)}function Se(){var u=D;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class De{constructor(){this.h=this.g=null}add(m,v){const b=Ne.get();b.set(m,v),this.h?this.h.next=b:this.g=b,this.h=b}}var Ne=new ue(()=>new We,u=>u.reset());class We{constructor(){this.next=this.g=this.h=null}set(m,v){this.h=m,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let ut,Ze=!1,D=new De,x=()=>{const u=Promise.resolve(void 0);ut=()=>{u.then(N)}};function N(){for(var u;u=Se();){try{u.h.call(u.g)}catch(v){ae(v)}var m=Ne;m.j(u),m.h<100&&(m.h++,u.next=m.g,m.g=u)}Ze=!1}function U(){this.u=this.u,this.C=this.C}U.prototype.u=!1,U.prototype.dispose=function(){this.u||(this.u=!0,this.N())},U.prototype[Symbol.dispose]=function(){this.dispose()},U.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function O(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}O.prototype.h=function(){this.defaultPrevented=!0};var k=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const v=()=>{};d.addEventListener("test",v,m),d.removeEventListener("test",v,m)}catch{}return u})();function R(u){return/^[\s\xa0]*$/.test(u)}function nt(u,m){O.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,m)}w(nt,O),nt.prototype.init=function(u,m){const v=this.type=u.type,b=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget,m||(v=="mouseover"?m=u.fromElement:v=="mouseout"&&(m=u.toElement)),this.relatedTarget=m,b?(this.clientX=b.clientX!==void 0?b.clientX:b.pageX,this.clientY=b.clientY!==void 0?b.clientY:b.pageY,this.screenX=b.screenX||0,this.screenY=b.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&nt.Z.h.call(this)},nt.prototype.h=function(){nt.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var Ot="closure_listenable_"+(Math.random()*1e6|0),K=0;function le(u,m,v,b,j){this.listener=u,this.proxy=null,this.src=m,this.type=v,this.capture=!!b,this.ha=j,this.key=++K,this.da=this.fa=!1}function Te(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function qe(u,m,v){for(const b in u)m.call(v,u[b],b,u)}function ct(u,m){for(const v in u)m.call(void 0,u[v],v,u)}function V(u){const m={};for(const v in u)m[v]=u[v];return m}const J="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ce(u,m){let v,b;for(let j=1;j<arguments.length;j++){b=arguments[j];for(v in b)u[v]=b[v];for(let G=0;G<J.length;G++)v=J[G],Object.prototype.hasOwnProperty.call(b,v)&&(u[v]=b[v])}}function se(u){this.src=u,this.g={},this.h=0}se.prototype.add=function(u,m,v,b,j){const G=u.toString();u=this.g[G],u||(u=this.g[G]=[],this.h++);const oe=ie(u,m,b,j);return oe>-1?(m=u[oe],v||(m.fa=!1)):(m=new le(m,this.src,G,!!b,j),m.fa=v,u.push(m)),m};function _e(u,m){const v=m.type;if(v in u.g){var b=u.g[v],j=Array.prototype.indexOf.call(b,m,void 0),G;(G=j>=0)&&Array.prototype.splice.call(b,j,1),G&&(Te(m),u.g[v].length==0&&(delete u.g[v],u.h--))}}function ie(u,m,v,b){for(let j=0;j<u.length;++j){const G=u[j];if(!G.da&&G.listener==m&&G.capture==!!v&&G.ha==b)return j}return-1}var Be="closure_lm_"+(Math.random()*1e6|0),Mt={};function _t(u,m,v,b,j){if(Array.isArray(m)){for(let G=0;G<m.length;G++)_t(u,m[G],v,b,j);return null}return v=Ai(v),u&&u[Ot]?u.J(m,v,p(b)?!!b.capture:!1,j):bn(u,m,v,!1,b,j)}function bn(u,m,v,b,j,G){if(!m)throw Error("Invalid event type");const oe=p(j)?!!j.capture:!!j;let ke=hs(u);if(ke||(u[Be]=ke=new se(u)),v=ke.add(m,v,b,oe,G),v.proxy)return v;if(b=us(),v.proxy=b,b.src=u,b.listener=v,u.addEventListener)k||(j=oe),j===void 0&&(j=!1),u.addEventListener(m.toString(),b,j);else if(u.attachEvent)u.attachEvent(Tt(m.toString()),b);else if(u.addListener&&u.removeListener)u.addListener(b);else throw Error("addEventListener and attachEvent are unavailable.");return v}function us(){function u(v){return m.call(u.src,u.listener,v)}const m=cs;return u}function zi(u,m,v,b,j){if(Array.isArray(m))for(var G=0;G<m.length;G++)zi(u,m[G],v,b,j);else b=p(b)?!!b.capture:!!b,v=Ai(v),u&&u[Ot]?(u=u.i,G=String(m).toString(),G in u.g&&(m=u.g[G],v=ie(m,v,b,j),v>-1&&(Te(m[v]),Array.prototype.splice.call(m,v,1),m.length==0&&(delete u.g[G],u.h--)))):u&&(u=hs(u))&&(m=u.g[m.toString()],u=-1,m&&(u=ie(m,v,b,j)),(v=u>-1?m[u]:null)&&Hs(v))}function Hs(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[Ot])_e(m.i,u);else{var v=u.type,b=u.proxy;m.removeEventListener?m.removeEventListener(v,b,u.capture):m.detachEvent?m.detachEvent(Tt(v),b):m.addListener&&m.removeListener&&m.removeListener(b),(v=hs(m))?(_e(v,u),v.h==0&&(v.src=null,m[Be]=null)):Te(u)}}}function Tt(u){return u in Mt?Mt[u]:Mt[u]="on"+u}function cs(u,m){if(u.da)u=!0;else{m=new nt(m,this);const v=u.listener,b=u.ha||u.src;u.fa&&Hs(u),u=v.call(b,m)}return u}function hs(u){return u=u[Be],u instanceof se?u:null}var Gr="__closure_events_fn_"+(Math.random()*1e9>>>0);function Ai(u){return typeof u=="function"?u:(u[Gr]||(u[Gr]=function(m){return u.handleEvent(m)}),u[Gr])}function It(){U.call(this),this.i=new se(this),this.M=this,this.G=null}w(It,U),It.prototype[Ot]=!0,It.prototype.removeEventListener=function(u,m,v,b){zi(this,u,m,v,b)};function it(u,m){var v,b=u.G;if(b)for(v=[];b;b=b.G)v.push(b);if(u=u.M,b=m.type||m,typeof m=="string")m=new O(m,u);else if(m instanceof O)m.target=m.target||u;else{var j=m;m=new O(b,u),ce(m,j)}j=!0;let G,oe;if(v)for(oe=v.length-1;oe>=0;oe--)G=m.g=v[oe],j=Bi(G,b,!0,m)&&j;if(G=m.g=u,j=Bi(G,b,!0,m)&&j,j=Bi(G,b,!1,m)&&j,v)for(oe=0;oe<v.length;oe++)G=m.g=v[oe],j=Bi(G,b,!1,m)&&j}It.prototype.N=function(){if(It.Z.N.call(this),this.i){var u=this.i;for(const m in u.g){const v=u.g[m];for(let b=0;b<v.length;b++)Te(v[b]);delete u.g[m],u.h--}}this.G=null},It.prototype.J=function(u,m,v,b){return this.i.add(String(u),m,!1,v,b)},It.prototype.K=function(u,m,v,b){return this.i.add(String(u),m,!0,v,b)};function Bi(u,m,v,b){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();let j=!0;for(let G=0;G<m.length;++G){const oe=m[G];if(oe&&!oe.da&&oe.capture==v){const ke=oe.listener,zt=oe.ha||oe.src;oe.fa&&_e(u.i,oe),j=ke.call(zt,b)!==!1&&j}}return j&&!b.defaultPrevented}function Fs(u,m){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=y(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(u,m||0)}function An(u){u.g=Fs(()=>{u.g=null,u.i&&(u.i=!1,An(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class Ft extends U{constructor(m,v){super(),this.m=m,this.l=v,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:An(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Pe(u){U.call(this),this.h=u,this.g={}}w(Pe,U);var Qr=[];function Si(u){qe(u.g,function(m,v){this.g.hasOwnProperty(v)&&Hs(m)},u),u.g={}}Pe.prototype.N=function(){Pe.Z.N.call(this),Si(this)},Pe.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ii=d.JSON.stringify,Yr=d.JSON.parse,Gs=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function Pa(){}function La(){}var zn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function en(){O.call(this,"d")}w(en,O);function Cn(){O.call(this,"c")}w(Cn,O);var bt={},ka=null;function Qs(){return ka=ka||new It}bt.Ia="serverreachability";function Bn(u){O.call(this,bt.Ia,u)}w(Bn,O);function tn(u){const m=Qs();it(m,new Bn(m))}bt.STAT_EVENT="statevent";function Sn(u,m){O.call(this,bt.STAT_EVENT,u),this.stat=m}w(Sn,O);function Vt(u){const m=Qs();it(m,new Sn(m,u))}bt.Ja="timingevent";function si(u,m){O.call(this,bt.Ja,u),this.size=m}w(si,O);function ri(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},m)}function qn(){this.g=!0}qn.prototype.ua=function(){this.g=!1};function Zo(u,m,v,b,j,G){u.info(function(){if(u.g)if(G){var oe="",ke=G.split("&");for(let ot=0;ot<ke.length;ot++){var zt=ke[ot].split("=");if(zt.length>1){const Rt=zt[0];zt=zt[1];const di=Rt.split("_");oe=di.length>=2&&di[1]=="type"?oe+(Rt+"="+zt+"&"):oe+(Rt+"=redacted&")}}}else oe=null;else oe=G;return"XMLHTTP REQ ("+b+") [attempt "+j+"]: "+m+`
`+v+`
`+oe})}function ja(u,m,v,b,j,G,oe){u.info(function(){return"XMLHTTP RESP ("+b+") [ attempt "+j+"]: "+m+`
`+v+`
`+G+" "+oe})}function ai(u,m,v,b){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+Jo(u,v)+(b?" "+b:"")})}function fs(u,m){u.info(function(){return"TIMEOUT: "+m})}qn.prototype.info=function(){};function Jo(u,m){if(!u.g)return m;if(!m)return null;try{const G=JSON.parse(m);if(G){for(u=0;u<G.length;u++)if(Array.isArray(G[u])){var v=G[u];if(!(v.length<2)){var b=v[1];if(Array.isArray(b)&&!(b.length<1)){var j=b[0];if(j!="noop"&&j!="stop"&&j!="close")for(let oe=1;oe<b.length;oe++)b[oe]=""}}}}return ii(G)}catch{return m}}var jt={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},wi={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Ys;function qi(){}w(qi,Pa),qi.prototype.g=function(){return new XMLHttpRequest},Ys=new qi;function xi(u){return encodeURIComponent(String(u))}function Kr(u){var m=1;u=u.split(":");const v=[];for(;m>0&&u.length;)v.push(u.shift()),m--;return u.length&&v.push(u.join(":")),v}function Hn(u,m,v,b){this.j=u,this.i=m,this.l=v,this.S=b||1,this.V=new Pe(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Fn}function Fn(){this.i=null,this.g="",this.h=!1}var Ut={},xt={};function Gn(u,m,v){u.M=1,u.A=de(te(m)),u.u=v,u.R=!0,Ks(u,null)}function Ks(u,m){u.F=Date.now(),Qn(u),u.B=te(u.A);var v=u.B,b=u.S;Array.isArray(b)||(b=[String(b)]),qa(v.i,"t",b),u.C=0,v=u.j.L,u.h=new Fn,u.g=zu(u.j,v?m:null,!u.u),u.P>0&&(u.O=new Ft(y(u.Y,u,u.g),u.P)),m=u.V,v=u.g,b=u.ba;var j="readystatechange";Array.isArray(j)||(j&&(Qr[0]=j.toString()),j=Qr);for(let G=0;G<j.length;G++){const oe=_t(v,j[G],b||m.handleEvent,!1,m.h||m);if(!oe)break;m.g[oe.key]=oe}m=u.J?V(u.J):{},u.u?(u.v||(u.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,m)):(u.v="GET",u.g.ea(u.B,u.v,null,m)),tn(),Zo(u.i,u.v,u.B,u.l,u.S,u.u)}Hn.prototype.ba=function(u){u=u.target;const m=this.O;m&&Ii(u)==3?m.j():this.Y(u)},Hn.prototype.Y=function(u){try{if(u==this.g)e:{const ke=Ii(this.g),zt=this.g.ya(),ot=this.g.ca();if(!(ke<3)&&(ke!=3||this.g&&(this.h.h||this.g.la()||un(this.g)))){this.K||ke!=4||zt==7||(zt==8||ot<=0?tn(3):tn(2)),oi(this);var m=this.g.ca();this.X=m;var v=Xr(this);if(this.o=m==200,ja(this.i,this.v,this.B,this.l,this.S,ke,m),this.o){if(this.U&&!this.L){t:{if(this.g){var b,j=this.g;if((b=j.g?j.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!R(b)){var G=b;break t}}G=null}if(u=G)ai(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,li(this,u);else{this.o=!1,this.m=3,Vt(12),wn(this),Dn(this);break e}}if(this.R){u=!0;let Rt;for(;!this.K&&this.C<v.length;)if(Rt=$r(this,v),Rt==xt){ke==4&&(this.m=4,Vt(14),u=!1),ai(this.i,this.l,null,"[Incomplete Response]");break}else if(Rt==Ut){this.m=4,Vt(15),ai(this.i,this.l,v,"[Invalid Chunk]"),u=!1;break}else ai(this.i,this.l,Rt,null),li(this,Rt);if(za(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),ke!=4||v.length!=0||this.h.h||(this.m=1,Vt(16),u=!1),this.o=this.o&&u,!u)ai(this.i,this.l,v,"[Invalid Chunked Response]"),wn(this),Dn(this);else if(v.length>0&&!this.W){this.W=!0;var oe=this.j;oe.g==this&&oe.aa&&!oe.P&&(oe.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),ol(oe),oe.P=!0,Vt(11))}}else ai(this.i,this.l,v,null),li(this,v);ke==4&&wn(this),this.o&&!this.K&&(ke==4?Pu(this.j,this):(this.o=!1,Qn(this)))}else gs(this.g),m==400&&v.indexOf("Unknown SID")>0?(this.m=3,Vt(12)):(this.m=0,Vt(13)),wn(this),Dn(this)}}}catch{}finally{}};function Xr(u){if(!za(u))return u.g.la();const m=un(u.g);if(m==="")return"";let v="";const b=m.length,j=Ii(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return wn(u),Dn(u),"";u.h.i=new d.TextDecoder}for(let G=0;G<b;G++)u.h.h=!0,v+=u.h.i.decode(m[G],{stream:!(j&&G==b-1)});return m.length=0,u.h.g+=v,u.C=0,u.h.g}function za(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function $r(u,m){var v=u.C,b=m.indexOf(`
`,v);return b==-1?xt:(v=Number(m.substring(v,b)),isNaN(v)?Ut:(b+=1,b+v>m.length?xt:(m=m.slice(b,b+v),u.C=b+v,m)))}Hn.prototype.cancel=function(){this.K=!0,wn(this)};function Qn(u){u.T=Date.now()+u.H,Xs(u,u.H)}function Xs(u,m){if(u.D!=null)throw Error("WatchDog timer not null");u.D=ri(y(u.aa,u),m)}function oi(u){u.D&&(d.clearTimeout(u.D),u.D=null)}Hn.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(fs(this.i,this.B),this.M!=2&&(tn(),Vt(17)),wn(this),this.m=2,Dn(this)):Xs(this,this.T-u)};function Dn(u){u.j.I==0||u.K||Pu(u.j,u)}function wn(u){oi(u);var m=u.O;m&&typeof m.dispose=="function"&&m.dispose(),u.O=null,Si(u.V),u.g&&(m=u.g,u.g=null,m.abort(),m.dispose())}function li(u,m){try{var v=u.j;if(v.I!=0&&(v.g==u||ci(v.h,u))){if(!u.L&&ci(v.h,u)&&v.I==3){try{var b=v.Ba.g.parse(m)}catch{b=null}if(Array.isArray(b)&&b.length==3){var j=b;if(j[0]==0){e:if(!v.v){if(v.g)if(v.g.F+3e3<u.F)Ya(v),er(v);else break e;aa(v),Vt(18)}}else v.xa=j[1],0<v.xa-v.K&&j[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=ri(y(v.Va,v),6e3));ui(v.h)<=1&&v.ta&&(v.ta=void 0)}else Yi(v,11)}else if((u.L||v.g==u)&&Ya(v),!R(m))for(j=v.Ba.g.parse(m),m=0;m<j.length;m++){let ot=j[m];const Rt=ot[0];if(!(Rt<=v.K))if(v.K=Rt,ot=ot[1],v.I==2)if(ot[0]=="c"){v.M=ot[1],v.ba=ot[2];const di=ot[3];di!=null&&(v.ka=di,v.j.info("VER="+v.ka));const Ki=ot[4];Ki!=null&&(v.za=Ki,v.j.info("SVER="+v.za));const Ci=ot[5];Ci!=null&&typeof Ci=="number"&&Ci>0&&(b=1.5*Ci,v.O=b,v.j.info("backChannelRequestTimeoutMs_="+b)),b=v;const Di=u.g;if(Di){const oa=Di.g?Di.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(oa){var G=b.h;G.g||oa.indexOf("spdy")==-1&&oa.indexOf("quic")==-1&&oa.indexOf("h2")==-1||(G.j=G.l,G.g=new Set,G.h&&(Wr(G,G.h),G.h=null))}if(b.G){const Ka=Di.g?Di.g.getResponseHeader("X-HTTP-Session-Id"):null;Ka&&(b.wa=Ka,me(b.J,b.G,Ka))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-u.F,v.j.info("Handshake RTT: "+v.T+"ms")),b=v;var oe=u;if(b.na=ju(b,b.L?b.ba:null,b.W),oe.L){ea(b.h,oe);var ke=oe,zt=b.O;zt&&(ke.H=zt),ke.D&&(oi(ke),Qn(ke)),b.g=oe}else Vu(b);v.i.length>0&&Qi(v)}else ot[0]!="stop"&&ot[0]!="close"||Yi(v,7);else v.I==3&&(ot[0]=="stop"||ot[0]=="close"?ot[0]=="stop"?Yi(v,7):rl(v):ot[0]!="noop"&&v.l&&v.l.qa(ot),v.A=0)}}tn(4)}catch{}}var Pt=class{constructor(u,m){this.g=u,this.map=m}};function Zr(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Jr(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function ui(u){return u.h?1:u.g?u.g.size:0}function ci(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function Wr(u,m){u.g?u.g.add(m):u.h=m}function ea(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}Zr.prototype.cancel=function(){if(this.i=S(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function S(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const v of u.g.values())m=m.concat(v.G);return m}return Y(u.i)}var H=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function F(u,m){if(u){u=u.split("&");for(let v=0;v<u.length;v++){const b=u[v].indexOf("=");let j,G=null;b>=0?(j=u[v].substring(0,b),G=u[v].substring(b+1)):j=u[v],m(j,G?decodeURIComponent(G.replace(/\+/g," ")):"")}}}function P(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;u instanceof P?(this.l=u.l,ne(this,u.j),this.o=u.o,this.g=u.g,ye(this,u.u),this.h=u.h,fe(this,Ou(u.i)),this.m=u.m):u&&(m=String(u).match(H))?(this.l=!1,ne(this,m[1]||"",!0),this.o=Ee(m[2]||""),this.g=Ee(m[3]||"",!0),ye(this,m[4]),this.h=Ee(m[5]||"",!0),fe(this,m[6]||"",!0),this.m=Ee(m[7]||"")):(this.l=!1,this.i=new Gt(null,this.l))}P.prototype.toString=function(){const u=[];var m=this.j;m&&u.push(xe(m,Ge,!0),":");var v=this.g;return(v||m=="file")&&(u.push("//"),(m=this.o)&&u.push(xe(m,Ge,!0),"@"),u.push(xi(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&u.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&u.push("/"),u.push(xe(v,v.charAt(0)=="/"?Ba:rn,!0))),(v=this.i.toString())&&u.push("?",v),(v=this.m)&&u.push("#",xe(v,Wo)),u.join("")},P.prototype.resolve=function(u){const m=te(this);let v=!!u.j;v?ne(m,u.j):v=!!u.o,v?m.o=u.o:v=!!u.g,v?m.g=u.g:v=u.u!=null;var b=u.h;if(v)ye(m,u.u);else if(v=!!u.h){if(b.charAt(0)!="/")if(this.g&&!this.h)b="/"+b;else{var j=m.h.lastIndexOf("/");j!=-1&&(b=m.h.slice(0,j+1)+b)}if(j=b,j==".."||j==".")b="";else if(j.indexOf("./")!=-1||j.indexOf("/.")!=-1){b=j.lastIndexOf("/",0)==0,j=j.split("/");const G=[];for(let oe=0;oe<j.length;){const ke=j[oe++];ke=="."?b&&oe==j.length&&G.push(""):ke==".."?((G.length>1||G.length==1&&G[0]!="")&&G.pop(),b&&oe==j.length&&G.push("")):(G.push(ke),b=!0)}b=G.join("/")}else b=j}return v?m.h=b:v=u.i.toString()!=="",v?fe(m,Ou(u.i)):v=!!u.m,v&&(m.m=u.m),m};function te(u){return new P(u)}function ne(u,m,v){u.j=v?Ee(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function ye(u,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);u.u=m}else u.u=null}function fe(u,m,v){m instanceof Gt?(u.i=m,Ha(u.i,u.l)):(v||(m=xe(m,ds)),u.i=new Gt(m,u.l))}function me(u,m,v){u.i.set(m,v)}function de(u){return me(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function Ee(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function xe(u,m,v){return typeof u=="string"?(u=encodeURI(u).replace(m,st),v&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function st(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var Ge=/[#\/\?@]/g,rn=/[#\?:]/g,Ba=/[#\?]/g,ds=/[#\?@]/g,Wo=/#/g;function Gt(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function On(u){u.g||(u.g=new Map,u.h=0,u.i&&F(u.i,function(m,v){u.add(decodeURIComponent(m.replace(/\+/g," ")),v)}))}s=Gt.prototype,s.add=function(u,m){On(this),this.i=null,u=$s(this,u);let v=this.g.get(u);return v||this.g.set(u,v=[]),v.push(m),this.h+=1,this};function Du(u,m){On(u),m=$s(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function el(u,m){return On(u),m=$s(u,m),u.g.has(m)}s.forEach=function(u,m){On(this),this.g.forEach(function(v,b){v.forEach(function(j){u.call(m,j,b,this)},this)},this)};function tl(u,m){On(u);let v=[];if(typeof m=="string")el(u,m)&&(v=v.concat(u.g.get($s(u,m))));else for(u=Array.from(u.g.values()),m=0;m<u.length;m++)v=v.concat(u[m]);return v}s.set=function(u,m){return On(this),this.i=null,u=$s(this,u),el(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},s.get=function(u,m){return u?(u=tl(this,u),u.length>0?String(u[0]):m):m};function qa(u,m,v){Du(u,m),v.length>0&&(u.i=null,u.g.set($s(u,m),Y(v)),u.h+=v.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(let b=0;b<m.length;b++){var v=m[b];const j=xi(v);v=tl(this,v);for(let G=0;G<v.length;G++){let oe=j;v[G]!==""&&(oe+="="+xi(v[G])),u.push(oe)}}return this.i=u.join("&")};function Ou(u){const m=new Gt;return m.i=u.i,u.g&&(m.g=new Map(u.g),m.h=u.h),m}function $s(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function Ha(u,m){m&&!u.j&&(On(u),u.i=null,u.g.forEach(function(v,b){const j=b.toLowerCase();b!=j&&(Du(this,b),qa(this,j,v))},u)),u.j=m}function Ri(u,m){const v=new qn;if(d.Image){const b=new Image;b.onload=A(hi,v,"TestLoadImage: loaded",!0,m,b),b.onerror=A(hi,v,"TestLoadImage: error",!1,m,b),b.onabort=A(hi,v,"TestLoadImage: abort",!1,m,b),b.ontimeout=A(hi,v,"TestLoadImage: timeout",!1,m,b),d.setTimeout(function(){b.ontimeout&&b.ontimeout()},1e4),b.src=u}else m(!1)}function nl(u,m){const v=new qn,b=new AbortController,j=setTimeout(()=>{b.abort(),hi(v,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:b.signal}).then(G=>{clearTimeout(j),G.ok?hi(v,"TestPingServer: ok",!0,m):hi(v,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(j),hi(v,"TestPingServer: error",!1,m)})}function hi(u,m,v,b,j){try{j&&(j.onload=null,j.onerror=null,j.onabort=null,j.ontimeout=null),b(v)}catch{}}function Zs(){this.g=new Gs}function Hi(u){this.i=u.Sb||null,this.h=u.ab||!1}w(Hi,Pa),Hi.prototype.g=function(){return new ta(this.i,this.h)};function ta(u,m){It.call(this),this.H=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}w(ta,It),s=ta.prototype,s.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=m,this.readyState=1,Ni(this)},s.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(m.body=u),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Js(this)),this.readyState=0},s.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Ni(this)),this.g&&(this.readyState=3,Ni(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Fa(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function Fa(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}s.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?Js(this):Ni(this),this.readyState==3&&Fa(this)}},s.Oa=function(u){this.g&&(this.response=this.responseText=u,Js(this))},s.Na=function(u){this.g&&(this.response=u,Js(this))},s.ga=function(){this.g&&Js(this)};function Js(u){u.readyState=4,u.l=null,u.j=null,u.B=null,Ni(u)}s.setRequestHeader=function(u,m){this.A.append(u,m)},s.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var v=m.next();!v.done;)v=v.value,u.push(v[0]+": "+v[1]),v=m.next();return u.join(`\r
`)};function Ni(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(ta.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function fi(u){let m="";return qe(u,function(v,b){m+=b,m+=":",m+=v,m+=`\r
`}),m}function na(u,m,v){e:{for(b in v){var b=!1;break e}b=!0}b||(v=fi(v),typeof u=="string"?v!=null&&xi(v):me(u,m,v))}function dt(u){It.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}w(dt,It);var Fi=/^https?$/i,il=["POST","PUT"];s=dt.prototype,s.Fa=function(u){this.H=u},s.ea=function(u,m,v,b){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Ys.g(),this.g.onreadystatechange=C(y(this.Ca,this));try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(G){ia(this,G);return}if(u=v||"",v=new Map(this.headers),b)if(Object.getPrototypeOf(b)===Object.prototype)for(var j in b)v.set(j,b[j]);else if(typeof b.keys=="function"&&typeof b.get=="function")for(const G of b.keys())v.set(G,b.get(G));else throw Error("Unknown input type for opt_headers: "+String(b));b=Array.from(v.keys()).find(G=>G.toLowerCase()=="content-type"),j=d.FormData&&u instanceof d.FormData,!(Array.prototype.indexOf.call(il,m,void 0)>=0)||b||j||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[G,oe]of v)this.g.setRequestHeader(G,oe);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(G){ia(this,G)}};function ia(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.o=5,sl(u),ms(u)}function sl(u){u.A||(u.A=!0,it(u,"complete"),it(u,"error"))}s.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,it(this,"complete"),it(this,"abort"),ms(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ms(this,!0)),dt.Z.N.call(this)},s.Ca=function(){this.u||(this.B||this.v||this.j?sa(this):this.Xa())},s.Xa=function(){sa(this)};function sa(u){if(u.h&&typeof c<"u"){if(u.v&&Ii(u)==4)setTimeout(u.Ca.bind(u),0);else if(it(u,"readystatechange"),Ii(u)==4){u.h=!1;try{const G=u.ca();e:switch(G){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break e;default:m=!1}var v;if(!(v=m)){var b;if(b=G===0){let oe=String(u.D).match(H)[1]||null;!oe&&d.self&&d.self.location&&(oe=d.self.location.protocol.slice(0,-1)),b=!Fi.test(oe?oe.toLowerCase():"")}v=b}if(v)it(u,"complete"),it(u,"success");else{u.o=6;try{var j=Ii(u)>2?u.g.statusText:""}catch{j=""}u.l=j+" ["+u.ca()+"]",sl(u)}}finally{ms(u)}}}}function ms(u,m){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const v=u.g;u.g=null,m||it(u,"ready");try{v.onreadystatechange=null}catch{}}}s.isActive=function(){return!!this.g};function Ii(u){return u.g?u.g.readyState:0}s.ca=function(){try{return Ii(this)>2?this.g.status:-1}catch{return-1}},s.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.La=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),Yr(m)}};function un(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function gs(u){const m={};u=(u.g&&Ii(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let b=0;b<u.length;b++){if(R(u[b]))continue;var v=Kr(u[b]);const j=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const G=m[j]||[];m[j]=G,G.push(v)}ct(m,function(b){return b.join(", ")})}s.ya=function(){return this.o},s.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Gi(u,m,v){return v&&v.internalChannelParams&&v.internalChannelParams[u]||m}function Ws(u){this.za=0,this.i=[],this.j=new qn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Gi("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Gi("baseRetryDelayMs",5e3,u),this.Za=Gi("retryDelaySeedMs",1e4,u),this.Ta=Gi("forwardChannelMaxRetries",2,u),this.va=Gi("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new Zr(u&&u.concurrentRequestLimit),this.Ba=new Zs,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}s=Ws.prototype,s.ka=8,s.I=1,s.connect=function(u,m,v,b){Vt(0),this.W=u,this.H=m||{},v&&b!==void 0&&(this.H.OSID=v,this.H.OAID=b),this.F=this.X,this.J=ju(this,null,this.W),Qi(this)};function rl(u){if(Ga(u),u.I==3){var m=u.V++,v=te(u.J);if(me(v,"SID",u.M),me(v,"RID",m),me(v,"TYPE","terminate"),ra(u,v),m=new Hn(u,u.j,m),m.M=2,m.A=de(te(v)),v=!1,d.navigator&&d.navigator.sendBeacon)try{v=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!v&&d.Image&&(new Image().src=m.A,v=!0),v||(m.g=zu(m.j,null),m.g.ea(m.A)),m.F=Date.now(),Qn(m)}ku(u)}function er(u){u.g&&(ol(u),u.g.cancel(),u.g=null)}function Ga(u){er(u),u.v&&(d.clearTimeout(u.v),u.v=null),Ya(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&d.clearTimeout(u.m),u.m=null)}function Qi(u){if(!Jr(u.h)&&!u.m){u.m=!0;var m=u.Ea;ut||x(),Ze||(ut(),Ze=!0),D.add(m,u),u.D=0}}function Qa(u,m){return ui(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=m.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=ri(y(u.Ea,u,m),Lu(u,u.D)),u.D++,!0)}s.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const j=new Hn(this,this.j,u);let G=this.o;if(this.U&&(G?(G=V(G),ce(G,this.U)):G=this.U),this.u!==null||this.R||(j.J=G,G=null),this.S)e:{for(var m=0,v=0;v<this.i.length;v++){t:{var b=this.i[v];if("__data__"in b.map&&(b=b.map.__data__,typeof b=="string")){b=b.length;break t}b=void 0}if(b===void 0)break;if(m+=b,m>4096){m=v;break e}if(m===4096||v===this.i.length-1){m=v+1;break e}}m=1e3}else m=1e3;m=Mu(this,j,m),v=te(this.J),me(v,"RID",u),me(v,"CVER",22),this.G&&me(v,"X-HTTP-Session-Id",this.G),ra(this,v),G&&(this.R?m="headers="+xi(fi(G))+"&"+m:this.u&&na(v,this.u,G)),Wr(this.h,j),this.Ra&&me(v,"TYPE","init"),this.S?(me(v,"$req",m),me(v,"SID","null"),j.U=!0,Gn(j,v,null)):Gn(j,v,m),this.I=2}}else this.I==3&&(u?al(this,u):this.i.length==0||Jr(this.h)||al(this))};function al(u,m){var v;m?v=m.l:v=u.V++;const b=te(u.J);me(b,"SID",u.M),me(b,"RID",v),me(b,"AID",u.K),ra(u,b),u.u&&u.o&&na(b,u.u,u.o),v=new Hn(u,u.j,v,u.D+1),u.u===null&&(v.J=u.o),m&&(u.i=m.G.concat(u.i)),m=Mu(u,v,1e3),v.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),Wr(u.h,v),Gn(v,b,m)}function ra(u,m){u.H&&qe(u.H,function(v,b){me(m,b,v)}),u.l&&qe({},function(v,b){me(m,b,v)})}function Mu(u,m,v){v=Math.min(u.i.length,v);const b=u.l?y(u.l.Ka,u.l,u):null;e:{var j=u.i;let ke=-1;for(;;){const zt=["count="+v];ke==-1?v>0?(ke=j[0].g,zt.push("ofs="+ke)):ke=0:zt.push("ofs="+ke);let ot=!0;for(let Rt=0;Rt<v;Rt++){var G=j[Rt].g;const di=j[Rt].map;if(G-=ke,G<0)ke=Math.max(0,j[Rt].g-100),ot=!1;else try{G="req"+G+"_"||"";try{var oe=di instanceof Map?di:Object.entries(di);for(const[Ki,Ci]of oe){let Di=Ci;p(Ci)&&(Di=ii(Ci)),zt.push(G+Ki+"="+encodeURIComponent(Di))}}catch(Ki){throw zt.push(G+"type="+encodeURIComponent("_badmap")),Ki}}catch{b&&b(di)}}if(ot){oe=zt.join("&");break e}}oe=void 0}return u=u.i.splice(0,v),m.G=u,oe}function Vu(u){if(!u.g&&!u.v){u.Y=1;var m=u.Da;ut||x(),Ze||(ut(),Ze=!0),D.add(m,u),u.A=0}}function aa(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=ri(y(u.Da,u),Lu(u,u.A)),u.A++,!0)}s.Da=function(){if(this.v=null,Uu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=ri(y(this.Wa,this),u)}},s.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Vt(10),er(this),Uu(this))};function ol(u){u.B!=null&&(d.clearTimeout(u.B),u.B=null)}function Uu(u){u.g=new Hn(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var m=te(u.na);me(m,"RID","rpc"),me(m,"SID",u.M),me(m,"AID",u.K),me(m,"CI",u.F?"0":"1"),!u.F&&u.ia&&me(m,"TO",u.ia),me(m,"TYPE","xmlhttp"),ra(u,m),u.u&&u.o&&na(m,u.u,u.o),u.O&&(u.g.H=u.O);var v=u.g;u=u.ba,v.M=1,v.A=de(te(m)),v.u=null,v.R=!0,Ks(v,u)}s.Va=function(){this.C!=null&&(this.C=null,er(this),aa(this),Vt(19))};function Ya(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function Pu(u,m){var v=null;if(u.g==m){Ya(u),ol(u),u.g=null;var b=2}else if(ci(u.h,m))v=m.G,ea(u.h,m),b=1;else return;if(u.I!=0){if(m.o)if(b==1){v=m.u?m.u.length:0,m=Date.now()-m.F;var j=u.D;b=Qs(),it(b,new si(b,v)),Qi(u)}else Vu(u);else if(j=m.m,j==3||j==0&&m.X>0||!(b==1&&Qa(u,m)||b==2&&aa(u)))switch(v&&v.length>0&&(m=u.h,m.i=m.i.concat(v)),j){case 1:Yi(u,5);break;case 4:Yi(u,10);break;case 3:Yi(u,6);break;default:Yi(u,2)}}}function Lu(u,m){let v=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(v*=2),v*m}function Yi(u,m){if(u.j.info("Error code "+m),m==2){var v=y(u.bb,u),b=u.Ua;const j=!b;b=new P(b||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||ne(b,"https"),de(b),j?Ri(b.toString(),v):nl(b.toString(),v)}else Vt(2);u.I=0,u.l&&u.l.pa(m),ku(u),Ga(u)}s.bb=function(u){u?(this.j.info("Successfully pinged google.com"),Vt(2)):(this.j.info("Failed to ping google.com"),Vt(1))};function ku(u){if(u.I=0,u.ja=[],u.l){const m=S(u.h);(m.length!=0||u.i.length!=0)&&(re(u.ja,m),re(u.ja,u.i),u.h.i.length=0,Y(u.i),u.i.length=0),u.l.oa()}}function ju(u,m,v){var b=v instanceof P?te(v):new P(v);if(b.g!="")m&&(b.g=m+"."+b.g),ye(b,b.u);else{var j=d.location;b=j.protocol,m=m?m+"."+j.hostname:j.hostname,j=+j.port;const G=new P(null);b&&ne(G,b),m&&(G.g=m),j&&ye(G,j),v&&(G.h=v),b=G}return v=u.G,m=u.wa,v&&m&&me(b,v,m),me(b,"VER",u.ka),ra(u,b),b}function zu(u,m,v){if(m&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Aa&&!u.ma?new dt(new Hi({ab:v})):new dt(u.ma),m.Fa(u.L),m}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function Bu(){}s=Bu.prototype,s.ra=function(){},s.qa=function(){},s.pa=function(){},s.oa=function(){},s.isActive=function(){return!0},s.Ka=function(){};function tr(){}tr.prototype.g=function(u,m){return new xn(u,m)};function xn(u,m){It.call(this),this.g=new Ws(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(u?u["X-WebChannel-Client-Profile"]=m.sa:u={"X-WebChannel-Client-Profile":m.sa}),this.g.U=u,(u=m&&m.Qb)&&!R(u)&&(this.g.u=u),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!R(m)&&(this.g.G=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new ps(this)}w(xn,It),xn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},xn.prototype.close=function(){rl(this.g)},xn.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var v={};v.__data__=u,u=v}else this.v&&(v={},v.__data__=ii(u),u=v);m.i.push(new Pt(m.Ya++,u)),m.I==3&&Qi(m)},xn.prototype.N=function(){this.g.l=null,delete this.j,rl(this.g),delete this.g,xn.Z.N.call(this)};function qu(u){en.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){e:{for(const v in m){u=v;break e}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}w(qu,en);function Hu(){Cn.call(this),this.status=1}w(Hu,Cn);function ps(u){this.g=u}w(ps,Bu),ps.prototype.ra=function(){it(this.g,"a")},ps.prototype.qa=function(u){it(this.g,new qu(u))},ps.prototype.pa=function(u){it(this.g,new Hu)},ps.prototype.oa=function(){it(this.g,"b")},tr.prototype.createWebChannel=tr.prototype.g,xn.prototype.send=xn.prototype.o,xn.prototype.open=xn.prototype.m,xn.prototype.close=xn.prototype.close,HE=function(){return new tr},qE=function(){return Qs()},BE=bt,bm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},jt.NO_ERROR=0,jt.TIMEOUT=8,jt.HTTP_ERROR=6,rh=jt,wi.COMPLETE="complete",zE=wi,La.EventType=zn,zn.OPEN="a",zn.CLOSE="b",zn.ERROR="c",zn.MESSAGE="d",It.prototype.listen=It.prototype.J,Yl=La,dt.prototype.listenOnce=dt.prototype.K,dt.prototype.getLastError=dt.prototype.Ha,dt.prototype.getLastErrorCode=dt.prototype.ya,dt.prototype.getStatus=dt.prototype.ca,dt.prototype.getResponseJson=dt.prototype.La,dt.prototype.getResponseText=dt.prototype.la,dt.prototype.send=dt.prototype.ea,dt.prototype.setWithCredentials=dt.prototype.Fa,jE=dt}).apply(typeof Kc<"u"?Kc:typeof self<"u"?self:typeof window<"u"?window:{});const Y0="@firebase/firestore",K0="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class En{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}En.UNAUTHENTICATED=new En(null),En.GOOGLE_CREDENTIALS=new En("google-credentials-uid"),En.FIRST_PARTY=new En("first-party-uid"),En.MOCK_USER=new En("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Qo="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oa=new zm("@firebase/firestore");function xo(){return Oa.logLevel}function ge(s,...e){if(Oa.logLevel<=Ke.DEBUG){const i=e.map(Wm);Oa.debug(`Firestore (${Qo}): ${s}`,...i)}}function zs(s,...e){if(Oa.logLevel<=Ke.ERROR){const i=e.map(Wm);Oa.error(`Firestore (${Qo}): ${s}`,...i)}}function Lo(s,...e){if(Oa.logLevel<=Ke.WARN){const i=e.map(Wm);Oa.warn(`Firestore (${Qo}): ${s}`,...i)}}function Wm(s){if(typeof s=="string")return s;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(i){return JSON.stringify(i)})(s)}catch{return s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function we(s,e,i){let r="Unexpected state";typeof e=="string"?r=e:i=e,FE(s,r,i)}function FE(s,e,i){let r=`FIRESTORE (${Qo}) INTERNAL ASSERTION FAILED: ${e} (ID: ${s.toString(16)})`;if(i!==void 0)try{r+=" CONTEXT: "+JSON.stringify(i)}catch{r+=" CONTEXT: "+i}throw zs(r),new Error(r)}function tt(s,e,i,r){let l="Unexpected state";typeof i=="string"?l=i:r=i,s||FE(e,l,r)}function Oe(s,e){return s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class he extends qs{constructor(e,i){super(e,i),this.code=e,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ns{constructor(){this.promise=new Promise(((e,i)=>{this.resolve=e,this.reject=i}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GE{constructor(e,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class y2{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,i){e.enqueueRetryable((()=>i(En.UNAUTHENTICATED)))}shutdown(){}}class _2{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,i){this.changeListener=i,e.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class v2{constructor(e){this.t=e,this.currentUser=En.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,i){tt(this.o===void 0,42304);let r=this.i;const l=_=>this.i!==r?(r=this.i,i(_)):Promise.resolve();let c=new ns;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new ns,e.enqueueRetryable((()=>l(this.currentUser)))};const d=()=>{const _=c;e.enqueueRetryable((async()=>{await _.promise,await l(this.currentUser)}))},p=_=>{ge("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=_,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((_=>p(_))),setTimeout((()=>{if(!this.auth){const _=this.t.getImmediate({optional:!0});_?p(_):(ge("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new ns)}}),0),d()}getToken(){const e=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((r=>this.i!==e?(ge("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(tt(typeof r.accessToken=="string",31837,{l:r}),new GE(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return tt(e===null||typeof e=="string",2055,{h:e}),new En(e)}}class E2{constructor(e,i,r){this.P=e,this.T=i,this.I=r,this.type="FirstParty",this.user=En.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class T2{constructor(e,i,r){this.P=e,this.T=i,this.I=r}getToken(){return Promise.resolve(new E2(this.P,this.T,this.I))}start(e,i){e.enqueueRetryable((()=>i(En.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class X0{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class b2{constructor(e,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Ui(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,i){tt(this.o===void 0,3512);const r=c=>{c.error!=null&&ge("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.m;return this.m=c.token,ge("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable((()=>r(c)))};const l=c=>{ge("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>l(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?l(c):ge("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new X0(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((i=>i?(tt(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new X0(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A2(s){const e=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(s);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(i);else for(let r=0;r<s;r++)i[r]=Math.floor(256*Math.random());return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eg{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const l=A2(40);for(let c=0;c<l.length;++c)r.length<20&&l[c]<i&&(r+=e.charAt(l[c]%62))}return r}}function Xe(s,e){return s<e?-1:s>e?1:0}function Am(s,e){const i=Math.min(s.length,e.length);for(let r=0;r<i;r++){const l=s.charAt(r),c=e.charAt(r);if(l!==c)return om(l)===om(c)?Xe(l,c):om(l)?1:-1}return Xe(s.length,e.length)}const S2=55296,w2=57343;function om(s){const e=s.charCodeAt(0);return e>=S2&&e<=w2}function ko(s,e,i){return s.length===e.length&&s.every(((r,l)=>i(r,e[l])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $0="__name__";class es{constructor(e,i,r){i===void 0?i=0:i>e.length&&we(637,{offset:i,range:e.length}),r===void 0?r=e.length-i:r>e.length-i&&we(1746,{length:r,range:e.length-i}),this.segments=e,this.offset=i,this.len=r}get length(){return this.len}isEqual(e){return es.comparator(this,e)===0}child(e){const i=this.segments.slice(this.offset,this.limit());return e instanceof es?e.forEach((r=>{i.push(r)})):i.push(e),this.construct(i)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}forEach(e){for(let i=this.offset,r=this.limit();i<r;i++)e(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,i){const r=Math.min(e.length,i.length);for(let l=0;l<r;l++){const c=es.compareSegments(e.get(l),i.get(l));if(c!==0)return c}return Xe(e.length,i.length)}static compareSegments(e,i){const r=es.isNumericId(e),l=es.isNumericId(i);return r&&!l?-1:!r&&l?1:r&&l?es.extractNumericId(e).compare(es.extractNumericId(i)):Am(e,i)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Mr.fromString(e.substring(4,e.length-2))}}class yt extends es{construct(e,i,r){return new yt(e,i,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const i=[];for(const r of e){if(r.indexOf("//")>=0)throw new he($.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);i.push(...r.split("/").filter((l=>l.length>0)))}return new yt(i)}static emptyPath(){return new yt([])}}const x2=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class gn extends es{construct(e,i,r){return new gn(e,i,r)}static isValidIdentifier(e){return x2.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),gn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===$0}static keyField(){return new gn([$0])}static fromServerFormat(e){const i=[];let r="",l=0;const c=()=>{if(r.length===0)throw new he($.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(r),r=""};let d=!1;for(;l<e.length;){const p=e[l];if(p==="\\"){if(l+1===e.length)throw new he($.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const _=e[l+1];if(_!=="\\"&&_!=="."&&_!=="`")throw new he($.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=_,l+=2}else p==="`"?(d=!d,l++):p!=="."||d?(r+=p,l++):(c(),l++)}if(c(),d)throw new he($.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new gn(i)}static emptyPath(){return new gn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class be{constructor(e){this.path=e}static fromPath(e){return new be(yt.fromString(e))}static fromName(e){return new be(yt.fromString(e).popFirst(5))}static empty(){return new be(yt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&yt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,i){return yt.comparator(e.path,i.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new be(new yt(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QE(s,e,i){if(!i)throw new he($.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${e}.`)}function R2(s,e,i,r){if(e===!0&&r===!0)throw new he($.INVALID_ARGUMENT,`${s} and ${i} cannot be used together.`)}function Z0(s){if(!be.isDocumentKey(s))throw new he($.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function J0(s){if(be.isDocumentKey(s))throw new he($.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${s} has ${s.length}.`)}function YE(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}function Uh(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(s);return e?`a custom ${e} object`:"an object"}}return typeof s=="function"?"a function":we(12329,{type:typeof s})}function In(s,e){if("_delegate"in s&&(s=s._delegate),!(s instanceof e)){if(e.name===s.constructor.name)throw new he($.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=Uh(s);throw new he($.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${i}`)}}return s}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jt(s,e){const i={typeString:s};return e&&(i.value=e),i}function Eu(s,e){if(!YE(s))throw new he($.INVALID_ARGUMENT,"JSON must be an object");let i;for(const r in e)if(e[r]){const l=e[r].typeString,c="value"in e[r]?{value:e[r].value}:void 0;if(!(r in s)){i=`JSON missing required field: '${r}'`;break}const d=s[r];if(l&&typeof d!==l){i=`JSON field '${r}' must be a ${l}.`;break}if(c!==void 0&&d!==c.value){i=`Expected '${r}' field to equal '${c.value}'`;break}}if(i)throw new he($.INVALID_ARGUMENT,i);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W0=-62135596800,ev=1e6;class wt{static now(){return wt.fromMillis(Date.now())}static fromDate(e){return wt.fromMillis(e.getTime())}static fromMillis(e){const i=Math.floor(e/1e3),r=Math.floor((e-1e3*i)*ev);return new wt(i,r)}constructor(e,i){if(this.seconds=e,this.nanoseconds=i,i<0)throw new he($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new he($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(e<W0)throw new he($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new he($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/ev}_compareTo(e){return this.seconds===e.seconds?Xe(this.nanoseconds,e.nanoseconds):Xe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:wt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Eu(e,wt._jsonSchema))return new wt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-W0;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}wt._jsonSchemaVersion="firestore/timestamp/1.0",wt._jsonSchema={type:Jt("string",wt._jsonSchemaVersion),seconds:Jt("number"),nanoseconds:Jt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ie{static fromTimestamp(e){return new Ie(e)}static min(){return new Ie(new wt(0,0))}static max(){return new Ie(new wt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const au=-1;function N2(s,e){const i=s.toTimestamp().seconds,r=s.toTimestamp().nanoseconds+1,l=Ie.fromTimestamp(r===1e9?new wt(i+1,0):new wt(i,r));return new Pr(l,be.empty(),e)}function I2(s){return new Pr(s.readTime,s.key,au)}class Pr{constructor(e,i,r){this.readTime=e,this.documentKey=i,this.largestBatchId=r}static min(){return new Pr(Ie.min(),be.empty(),au)}static max(){return new Pr(Ie.max(),be.empty(),au)}}function C2(s,e){let i=s.readTime.compareTo(e.readTime);return i!==0?i:(i=be.comparator(s.documentKey,e.documentKey),i!==0?i:Xe(s.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D2="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class O2{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Yo(s){if(s.code!==$.FAILED_PRECONDITION||s.message!==D2)throw s;ge("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ee{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(e){return this.next(void 0,e)}next(e,i){return this.callbackAttached&&we(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(e,this.result):new ee(((r,l)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(r,l)},this.catchCallback=c=>{this.wrapFailure(i,c).next(r,l)}}))}toPromise(){return new Promise(((e,i)=>{this.next(e,i)}))}wrapUserFunction(e){try{const i=e();return i instanceof ee?i:ee.resolve(i)}catch(i){return ee.reject(i)}}wrapSuccess(e,i){return e?this.wrapUserFunction((()=>e(i))):ee.resolve(i)}wrapFailure(e,i){return e?this.wrapUserFunction((()=>e(i))):ee.reject(i)}static resolve(e){return new ee(((i,r)=>{i(e)}))}static reject(e){return new ee(((i,r)=>{r(e)}))}static waitFor(e){return new ee(((i,r)=>{let l=0,c=0,d=!1;e.forEach((p=>{++l,p.next((()=>{++c,d&&c===l&&i()}),(_=>r(_)))})),d=!0,c===l&&i()}))}static or(e){let i=ee.resolve(!1);for(const r of e)i=i.next((l=>l?ee.resolve(l):r()));return i}static forEach(e,i){const r=[];return e.forEach(((l,c)=>{r.push(i.call(this,l,c))})),this.waitFor(r)}static mapArray(e,i){return new ee(((r,l)=>{const c=e.length,d=new Array(c);let p=0;for(let _=0;_<c;_++){const y=_;i(e[y]).next((A=>{d[y]=A,++p,p===c&&r(d)}),(A=>l(A)))}}))}static doWhile(e,i){return new ee(((r,l)=>{const c=()=>{e()===!0?i().next((()=>{c()}),l):r()};c()}))}}function M2(s){const e=s.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function Ko(s){return s.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ph{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>i.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Ph.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tg=-1;function Tu(s){return s==null}function vh(s){return s===0&&1/s==-1/0}function V2(s){return typeof s=="number"&&Number.isInteger(s)&&!vh(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KE="";function U2(s){let e="";for(let i=0;i<s.length;i++)e.length>0&&(e=tv(e)),e=P2(s.get(i),e);return tv(e)}function P2(s,e){let i=e;const r=s.length;for(let l=0;l<r;l++){const c=s.charAt(l);switch(c){case"\0":i+="";break;case KE:i+="";break;default:i+=c}}return i}function tv(s){return s+KE+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nv(s){let e=0;for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&e++;return e}function qr(s,e){for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&e(i,s[i])}function XE(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dt{constructor(e,i){this.comparator=e,this.root=i||mn.EMPTY}insert(e,i){return new Dt(this.comparator,this.root.insert(e,i,this.comparator).copy(null,null,mn.BLACK,null,null))}remove(e){return new Dt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,mn.BLACK,null,null))}get(e){let i=this.root;for(;!i.isEmpty();){const r=this.comparator(e,i.key);if(r===0)return i.value;r<0?i=i.left:r>0&&(i=i.right)}return null}indexOf(e){let i=0,r=this.root;for(;!r.isEmpty();){const l=this.comparator(e,r.key);if(l===0)return i+r.left.size;l<0?r=r.left:(i+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((i,r)=>(e(i,r),!1)))}toString(){const e=[];return this.inorderTraversal(((i,r)=>(e.push(`${i}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Xc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Xc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Xc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Xc(this.root,e,this.comparator,!0)}}class Xc{constructor(e,i,r,l){this.isReverse=l,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=i?r(e.key,i):1,i&&l&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(c===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const i={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class mn{constructor(e,i,r,l,c){this.key=e,this.value=i,this.color=r??mn.RED,this.left=l??mn.EMPTY,this.right=c??mn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,i,r,l,c){return new mn(e??this.key,i??this.value,r??this.color,l??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,r){let l=this;const c=r(e,l.key);return l=c<0?l.copy(null,null,null,l.left.insert(e,i,r),null):c===0?l.copy(null,i,null,null,null):l.copy(null,null,null,null,l.right.insert(e,i,r)),l.fixUp()}removeMin(){if(this.left.isEmpty())return mn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,i){let r,l=this;if(i(e,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(e,i),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),i(e,l.key)===0){if(l.right.isEmpty())return mn.EMPTY;r=l.right.min(),l=l.copy(r.key,r.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(e,i))}return l.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,mn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,mn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw we(43730,{key:this.key,value:this.value});if(this.right.isRed())throw we(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw we(27949);return e+(this.isRed()?0:1)}}mn.EMPTY=null,mn.RED=!0,mn.BLACK=!1;mn.EMPTY=new class{constructor(){this.size=0}get key(){throw we(57766)}get value(){throw we(16141)}get color(){throw we(16727)}get left(){throw we(29726)}get right(){throw we(36894)}copy(e,i,r,l,c){return this}insert(e,i,r){return new mn(e,i)}remove(e,i){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sn{constructor(e){this.comparator=e,this.data=new Dt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((i,r)=>(e(i),!1)))}forEachInRange(e,i){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const l=r.getNext();if(this.comparator(l.key,e[1])>=0)return;i(l.key)}}forEachWhile(e,i){let r;for(r=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const i=this.data.getIteratorFrom(e);return i.hasNext()?i.getNext().key:null}getIterator(){return new iv(this.data.getIterator())}getIteratorFrom(e){return new iv(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let i=this;return i.size<e.size&&(i=e,e=this),e.forEach((r=>{i=i.add(r)})),i}isEqual(e){if(!(e instanceof sn)||this.size!==e.size)return!1;const i=this.data.getIterator(),r=e.data.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=r.getNext().key;if(this.comparator(l,c)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((i=>{e.push(i)})),e}toString(){const e=[];return this.forEach((i=>e.push(i))),"SortedSet("+e.toString()+")"}copy(e){const i=new sn(this.comparator);return i.data=e,i}}class iv{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ti{constructor(e){this.fields=e,e.sort(gn.comparator)}static empty(){return new ti([])}unionWith(e){let i=new sn(gn.comparator);for(const r of this.fields)i=i.add(r);for(const r of e)i=i.add(r);return new ti(i.toArray())}covers(e){for(const i of this.fields)if(i.isPrefixOf(e))return!0;return!1}isEqual(e){return ko(this.fields,e.fields,((i,r)=>i.isEqual(r)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $E extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yn{constructor(e){this.binaryString=e}static fromBase64String(e){const i=(function(l){try{return atob(l)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new $E("Invalid base64 string: "+c):c}})(e);return new yn(i)}static fromUint8Array(e){const i=(function(l){let c="";for(let d=0;d<l.length;++d)c+=String.fromCharCode(l[d]);return c})(e);return new yn(i)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const r=new Uint8Array(i.length);for(let l=0;l<i.length;l++)r[l]=i.charCodeAt(l);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Xe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}yn.EMPTY_BYTE_STRING=new yn("");const L2=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Lr(s){if(tt(!!s,39018),typeof s=="string"){let e=0;const i=L2.exec(s);if(tt(!!i,46558,{timestamp:s}),i[1]){let l=i[1];l=(l+"000000000").substr(0,9),e=Number(l)}const r=new Date(s);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Ht(s.seconds),nanos:Ht(s.nanos)}}function Ht(s){return typeof s=="number"?s:typeof s=="string"?Number(s):0}function kr(s){return typeof s=="string"?yn.fromBase64String(s):yn.fromUint8Array(s)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZE="server_timestamp",JE="__type__",WE="__previous_value__",eT="__local_write_time__";function ng(s){return(s?.mapValue?.fields||{})[JE]?.stringValue===ZE}function Lh(s){const e=s.mapValue.fields[WE];return ng(e)?Lh(e):e}function ou(s){const e=Lr(s.mapValue.fields[eT].timestampValue);return new wt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k2{constructor(e,i,r,l,c,d,p,_,y,A){this.databaseId=e,this.appId=i,this.persistenceKey=r,this.host=l,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=p,this.longPollingOptions=_,this.useFetchStreams=y,this.isUsingEmulator=A}}const Eh="(default)";class lu{constructor(e,i){this.projectId=e,this.database=i||Eh}static empty(){return new lu("","")}get isDefaultDatabase(){return this.database===Eh}isEqual(e){return e instanceof lu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tT="__type__",j2="__max__",$c={mapValue:{}},nT="__vector__",Th="value";function jr(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?ng(s)?4:B2(s)?9007199254740991:z2(s)?10:11:we(28295,{value:s})}function os(s,e){if(s===e)return!0;const i=jr(s);if(i!==jr(e))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===e.booleanValue;case 4:return ou(s).isEqual(ou(e));case 3:return(function(l,c){if(typeof l.timestampValue=="string"&&typeof c.timestampValue=="string"&&l.timestampValue.length===c.timestampValue.length)return l.timestampValue===c.timestampValue;const d=Lr(l.timestampValue),p=Lr(c.timestampValue);return d.seconds===p.seconds&&d.nanos===p.nanos})(s,e);case 5:return s.stringValue===e.stringValue;case 6:return(function(l,c){return kr(l.bytesValue).isEqual(kr(c.bytesValue))})(s,e);case 7:return s.referenceValue===e.referenceValue;case 8:return(function(l,c){return Ht(l.geoPointValue.latitude)===Ht(c.geoPointValue.latitude)&&Ht(l.geoPointValue.longitude)===Ht(c.geoPointValue.longitude)})(s,e);case 2:return(function(l,c){if("integerValue"in l&&"integerValue"in c)return Ht(l.integerValue)===Ht(c.integerValue);if("doubleValue"in l&&"doubleValue"in c){const d=Ht(l.doubleValue),p=Ht(c.doubleValue);return d===p?vh(d)===vh(p):isNaN(d)&&isNaN(p)}return!1})(s,e);case 9:return ko(s.arrayValue.values||[],e.arrayValue.values||[],os);case 10:case 11:return(function(l,c){const d=l.mapValue.fields||{},p=c.mapValue.fields||{};if(nv(d)!==nv(p))return!1;for(const _ in d)if(d.hasOwnProperty(_)&&(p[_]===void 0||!os(d[_],p[_])))return!1;return!0})(s,e);default:return we(52216,{left:s})}}function uu(s,e){return(s.values||[]).find((i=>os(i,e)))!==void 0}function jo(s,e){if(s===e)return 0;const i=jr(s),r=jr(e);if(i!==r)return Xe(i,r);switch(i){case 0:case 9007199254740991:return 0;case 1:return Xe(s.booleanValue,e.booleanValue);case 2:return(function(c,d){const p=Ht(c.integerValue||c.doubleValue),_=Ht(d.integerValue||d.doubleValue);return p<_?-1:p>_?1:p===_?0:isNaN(p)?isNaN(_)?0:-1:1})(s,e);case 3:return sv(s.timestampValue,e.timestampValue);case 4:return sv(ou(s),ou(e));case 5:return Am(s.stringValue,e.stringValue);case 6:return(function(c,d){const p=kr(c),_=kr(d);return p.compareTo(_)})(s.bytesValue,e.bytesValue);case 7:return(function(c,d){const p=c.split("/"),_=d.split("/");for(let y=0;y<p.length&&y<_.length;y++){const A=Xe(p[y],_[y]);if(A!==0)return A}return Xe(p.length,_.length)})(s.referenceValue,e.referenceValue);case 8:return(function(c,d){const p=Xe(Ht(c.latitude),Ht(d.latitude));return p!==0?p:Xe(Ht(c.longitude),Ht(d.longitude))})(s.geoPointValue,e.geoPointValue);case 9:return rv(s.arrayValue,e.arrayValue);case 10:return(function(c,d){const p=c.fields||{},_=d.fields||{},y=p[Th]?.arrayValue,A=_[Th]?.arrayValue,w=Xe(y?.values?.length||0,A?.values?.length||0);return w!==0?w:rv(y,A)})(s.mapValue,e.mapValue);case 11:return(function(c,d){if(c===$c.mapValue&&d===$c.mapValue)return 0;if(c===$c.mapValue)return 1;if(d===$c.mapValue)return-1;const p=c.fields||{},_=Object.keys(p),y=d.fields||{},A=Object.keys(y);_.sort(),A.sort();for(let w=0;w<_.length&&w<A.length;++w){const C=Am(_[w],A[w]);if(C!==0)return C;const Y=jo(p[_[w]],y[A[w]]);if(Y!==0)return Y}return Xe(_.length,A.length)})(s.mapValue,e.mapValue);default:throw we(23264,{he:i})}}function sv(s,e){if(typeof s=="string"&&typeof e=="string"&&s.length===e.length)return Xe(s,e);const i=Lr(s),r=Lr(e),l=Xe(i.seconds,r.seconds);return l!==0?l:Xe(i.nanos,r.nanos)}function rv(s,e){const i=s.values||[],r=e.values||[];for(let l=0;l<i.length&&l<r.length;++l){const c=jo(i[l],r[l]);if(c)return c}return Xe(i.length,r.length)}function zo(s){return Sm(s)}function Sm(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?(function(i){const r=Lr(i);return`time(${r.seconds},${r.nanos})`})(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?(function(i){return kr(i).toBase64()})(s.bytesValue):"referenceValue"in s?(function(i){return be.fromName(i).toString()})(s.referenceValue):"geoPointValue"in s?(function(i){return`geo(${i.latitude},${i.longitude})`})(s.geoPointValue):"arrayValue"in s?(function(i){let r="[",l=!0;for(const c of i.values||[])l?l=!1:r+=",",r+=Sm(c);return r+"]"})(s.arrayValue):"mapValue"in s?(function(i){const r=Object.keys(i.fields||{}).sort();let l="{",c=!0;for(const d of r)c?c=!1:l+=",",l+=`${d}:${Sm(i.fields[d])}`;return l+"}"})(s.mapValue):we(61005,{value:s})}function ah(s){switch(jr(s)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Lh(s);return e?16+ah(e):16;case 5:return 2*s.stringValue.length;case 6:return kr(s.bytesValue).approximateByteSize();case 7:return s.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((l,c)=>l+ah(c)),0)})(s.arrayValue);case 10:case 11:return(function(r){let l=0;return qr(r.fields,((c,d)=>{l+=c.length+ah(d)})),l})(s.mapValue);default:throw we(13486,{value:s})}}function av(s,e){return{referenceValue:`projects/${s.projectId}/databases/${s.database}/documents/${e.path.canonicalString()}`}}function wm(s){return!!s&&"integerValue"in s}function ig(s){return!!s&&"arrayValue"in s}function ov(s){return!!s&&"nullValue"in s}function lv(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function oh(s){return!!s&&"mapValue"in s}function z2(s){return(s?.mapValue?.fields||{})[tT]?.stringValue===nT}function Wl(s){if(s.geoPointValue)return{geoPointValue:{...s.geoPointValue}};if(s.timestampValue&&typeof s.timestampValue=="object")return{timestampValue:{...s.timestampValue}};if(s.mapValue){const e={mapValue:{fields:{}}};return qr(s.mapValue.fields,((i,r)=>e.mapValue.fields[i]=Wl(r))),e}if(s.arrayValue){const e={arrayValue:{values:[]}};for(let i=0;i<(s.arrayValue.values||[]).length;++i)e.arrayValue.values[i]=Wl(s.arrayValue.values[i]);return e}return{...s}}function B2(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue===j2}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nn{constructor(e){this.value=e}static empty(){return new Nn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let i=this.value;for(let r=0;r<e.length-1;++r)if(i=(i.mapValue.fields||{})[e.get(r)],!oh(i))return null;return i=(i.mapValue.fields||{})[e.lastSegment()],i||null}}set(e,i){this.getFieldsMap(e.popLast())[e.lastSegment()]=Wl(i)}setAll(e){let i=gn.emptyPath(),r={},l=[];e.forEach(((d,p)=>{if(!i.isImmediateParentOf(p)){const _=this.getFieldsMap(i);this.applyChanges(_,r,l),r={},l=[],i=p.popLast()}d?r[p.lastSegment()]=Wl(d):l.push(p.lastSegment())}));const c=this.getFieldsMap(i);this.applyChanges(c,r,l)}delete(e){const i=this.field(e.popLast());oh(i)&&i.mapValue.fields&&delete i.mapValue.fields[e.lastSegment()]}isEqual(e){return os(this.value,e.value)}getFieldsMap(e){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let r=0;r<e.length;++r){let l=i.mapValue.fields[e.get(r)];oh(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},i.mapValue.fields[e.get(r)]=l),i=l}return i.mapValue.fields}applyChanges(e,i,r){qr(i,((l,c)=>e[l]=c));for(const l of r)delete e[l]}clone(){return new Nn(Wl(this.value))}}function iT(s){const e=[];return qr(s.fields,((i,r)=>{const l=new gn([i]);if(oh(r)){const c=iT(r.mapValue).fields;if(c.length===0)e.push(l);else for(const d of c)e.push(l.child(d))}else e.push(l)})),new ti(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ln{constructor(e,i,r,l,c,d,p){this.key=e,this.documentType=i,this.version=r,this.readTime=l,this.createTime=c,this.data=d,this.documentState=p}static newInvalidDocument(e){return new ln(e,0,Ie.min(),Ie.min(),Ie.min(),Nn.empty(),0)}static newFoundDocument(e,i,r,l){return new ln(e,1,i,Ie.min(),r,l,0)}static newNoDocument(e,i){return new ln(e,2,i,Ie.min(),Ie.min(),Nn.empty(),0)}static newUnknownDocument(e,i){return new ln(e,3,i,Ie.min(),Ie.min(),Nn.empty(),2)}convertToFoundDocument(e,i){return!this.createTime.isEqual(Ie.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Nn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Nn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ie.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof ln&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new ln(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bh{constructor(e,i){this.position=e,this.inclusive=i}}function uv(s,e,i){let r=0;for(let l=0;l<s.position.length;l++){const c=e[l],d=s.position[l];if(c.field.isKeyField()?r=be.comparator(be.fromName(d.referenceValue),i.key):r=jo(d,i.data.field(c.field)),c.dir==="desc"&&(r*=-1),r!==0)break}return r}function cv(s,e){if(s===null)return e===null;if(e===null||s.inclusive!==e.inclusive||s.position.length!==e.position.length)return!1;for(let i=0;i<s.position.length;i++)if(!os(s.position[i],e.position[i]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cu{constructor(e,i="asc"){this.field=e,this.dir=i}}function q2(s,e){return s.dir===e.dir&&s.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sT{}class Zt extends sT{constructor(e,i,r){super(),this.field=e,this.op=i,this.value=r}static create(e,i,r){return e.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(e,i,r):new F2(e,i,r):i==="array-contains"?new Y2(e,r):i==="in"?new K2(e,r):i==="not-in"?new X2(e,r):i==="array-contains-any"?new $2(e,r):new Zt(e,i,r)}static createKeyFieldInFilter(e,i,r){return i==="in"?new G2(e,r):new Q2(e,r)}matches(e){const i=e.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(jo(i,this.value)):i!==null&&jr(this.value)===jr(i)&&this.matchesComparison(jo(i,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return we(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ki extends sT{constructor(e,i){super(),this.filters=e,this.op=i,this.Pe=null}static create(e,i){return new ki(e,i)}matches(e){return rT(this)?this.filters.find((i=>!i.matches(e)))===void 0:this.filters.find((i=>i.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,i)=>e.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function rT(s){return s.op==="and"}function aT(s){return H2(s)&&rT(s)}function H2(s){for(const e of s.filters)if(e instanceof ki)return!1;return!0}function xm(s){if(s instanceof Zt)return s.field.canonicalString()+s.op.toString()+zo(s.value);if(aT(s))return s.filters.map((e=>xm(e))).join(",");{const e=s.filters.map((i=>xm(i))).join(",");return`${s.op}(${e})`}}function oT(s,e){return s instanceof Zt?(function(r,l){return l instanceof Zt&&r.op===l.op&&r.field.isEqual(l.field)&&os(r.value,l.value)})(s,e):s instanceof ki?(function(r,l){return l instanceof ki&&r.op===l.op&&r.filters.length===l.filters.length?r.filters.reduce(((c,d,p)=>c&&oT(d,l.filters[p])),!0):!1})(s,e):void we(19439)}function lT(s){return s instanceof Zt?(function(i){return`${i.field.canonicalString()} ${i.op} ${zo(i.value)}`})(s):s instanceof ki?(function(i){return i.op.toString()+" {"+i.getFilters().map(lT).join(" ,")+"}"})(s):"Filter"}class F2 extends Zt{constructor(e,i,r){super(e,i,r),this.key=be.fromName(r.referenceValue)}matches(e){const i=be.comparator(e.key,this.key);return this.matchesComparison(i)}}class G2 extends Zt{constructor(e,i){super(e,"in",i),this.keys=uT("in",i)}matches(e){return this.keys.some((i=>i.isEqual(e.key)))}}class Q2 extends Zt{constructor(e,i){super(e,"not-in",i),this.keys=uT("not-in",i)}matches(e){return!this.keys.some((i=>i.isEqual(e.key)))}}function uT(s,e){return(e.arrayValue?.values||[]).map((i=>be.fromName(i.referenceValue)))}class Y2 extends Zt{constructor(e,i){super(e,"array-contains",i)}matches(e){const i=e.data.field(this.field);return ig(i)&&uu(i.arrayValue,this.value)}}class K2 extends Zt{constructor(e,i){super(e,"in",i)}matches(e){const i=e.data.field(this.field);return i!==null&&uu(this.value.arrayValue,i)}}class X2 extends Zt{constructor(e,i){super(e,"not-in",i)}matches(e){if(uu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=e.data.field(this.field);return i!==null&&i.nullValue===void 0&&!uu(this.value.arrayValue,i)}}class $2 extends Zt{constructor(e,i){super(e,"array-contains-any",i)}matches(e){const i=e.data.field(this.field);return!(!ig(i)||!i.arrayValue.values)&&i.arrayValue.values.some((r=>uu(this.value.arrayValue,r)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z2{constructor(e,i=null,r=[],l=[],c=null,d=null,p=null){this.path=e,this.collectionGroup=i,this.orderBy=r,this.filters=l,this.limit=c,this.startAt=d,this.endAt=p,this.Te=null}}function hv(s,e=null,i=[],r=[],l=null,c=null,d=null){return new Z2(s,e,i,r,l,c,d)}function sg(s){const e=Oe(s);if(e.Te===null){let i=e.path.canonicalString();e.collectionGroup!==null&&(i+="|cg:"+e.collectionGroup),i+="|f:",i+=e.filters.map((r=>xm(r))).join(","),i+="|ob:",i+=e.orderBy.map((r=>(function(c){return c.field.canonicalString()+c.dir})(r))).join(","),Tu(e.limit)||(i+="|l:",i+=e.limit),e.startAt&&(i+="|lb:",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map((r=>zo(r))).join(",")),e.endAt&&(i+="|ub:",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map((r=>zo(r))).join(",")),e.Te=i}return e.Te}function rg(s,e){if(s.limit!==e.limit||s.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<s.orderBy.length;i++)if(!q2(s.orderBy[i],e.orderBy[i]))return!1;if(s.filters.length!==e.filters.length)return!1;for(let i=0;i<s.filters.length;i++)if(!oT(s.filters[i],e.filters[i]))return!1;return s.collectionGroup===e.collectionGroup&&!!s.path.isEqual(e.path)&&!!cv(s.startAt,e.startAt)&&cv(s.endAt,e.endAt)}function Rm(s){return be.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xo{constructor(e,i=null,r=[],l=[],c=null,d="F",p=null,_=null){this.path=e,this.collectionGroup=i,this.explicitOrderBy=r,this.filters=l,this.limit=c,this.limitType=d,this.startAt=p,this.endAt=_,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function J2(s,e,i,r,l,c,d,p){return new Xo(s,e,i,r,l,c,d,p)}function kh(s){return new Xo(s)}function fv(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}function cT(s){return s.collectionGroup!==null}function eu(s){const e=Oe(s);if(e.Ie===null){e.Ie=[];const i=new Set;for(const c of e.explicitOrderBy)e.Ie.push(c),i.add(c.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let p=new sn(gn.comparator);return d.filters.forEach((_=>{_.getFlattenedFilters().forEach((y=>{y.isInequality()&&(p=p.add(y.field))}))})),p})(e).forEach((c=>{i.has(c.canonicalString())||c.isKeyField()||e.Ie.push(new cu(c,r))})),i.has(gn.keyField().canonicalString())||e.Ie.push(new cu(gn.keyField(),r))}return e.Ie}function is(s){const e=Oe(s);return e.Ee||(e.Ee=W2(e,eu(s))),e.Ee}function W2(s,e){if(s.limitType==="F")return hv(s.path,s.collectionGroup,e,s.filters,s.limit,s.startAt,s.endAt);{e=e.map((l=>{const c=l.dir==="desc"?"asc":"desc";return new cu(l.field,c)}));const i=s.endAt?new bh(s.endAt.position,s.endAt.inclusive):null,r=s.startAt?new bh(s.startAt.position,s.startAt.inclusive):null;return hv(s.path,s.collectionGroup,e,s.filters,s.limit,i,r)}}function Nm(s,e){const i=s.filters.concat([e]);return new Xo(s.path,s.collectionGroup,s.explicitOrderBy.slice(),i,s.limit,s.limitType,s.startAt,s.endAt)}function Im(s,e,i){return new Xo(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),e,i,s.startAt,s.endAt)}function jh(s,e){return rg(is(s),is(e))&&s.limitType===e.limitType}function hT(s){return`${sg(is(s))}|lt:${s.limitType}`}function Ro(s){return`Query(target=${(function(i){let r=i.path.canonicalString();return i.collectionGroup!==null&&(r+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(r+=`, filters: [${i.filters.map((l=>lT(l))).join(", ")}]`),Tu(i.limit)||(r+=", limit: "+i.limit),i.orderBy.length>0&&(r+=`, orderBy: [${i.orderBy.map((l=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(l))).join(", ")}]`),i.startAt&&(r+=", startAt: ",r+=i.startAt.inclusive?"b:":"a:",r+=i.startAt.position.map((l=>zo(l))).join(",")),i.endAt&&(r+=", endAt: ",r+=i.endAt.inclusive?"a:":"b:",r+=i.endAt.position.map((l=>zo(l))).join(",")),`Target(${r})`})(is(s))}; limitType=${s.limitType})`}function zh(s,e){return e.isFoundDocument()&&(function(r,l){const c=l.key.path;return r.collectionGroup!==null?l.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(c):be.isDocumentKey(r.path)?r.path.isEqual(c):r.path.isImmediateParentOf(c)})(s,e)&&(function(r,l){for(const c of eu(r))if(!c.field.isKeyField()&&l.data.field(c.field)===null)return!1;return!0})(s,e)&&(function(r,l){for(const c of r.filters)if(!c.matches(l))return!1;return!0})(s,e)&&(function(r,l){return!(r.startAt&&!(function(d,p,_){const y=uv(d,p,_);return d.inclusive?y<=0:y<0})(r.startAt,eu(r),l)||r.endAt&&!(function(d,p,_){const y=uv(d,p,_);return d.inclusive?y>=0:y>0})(r.endAt,eu(r),l))})(s,e)}function eR(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function fT(s){return(e,i)=>{let r=!1;for(const l of eu(s)){const c=tR(l,e,i);if(c!==0)return c;r=r||l.field.isKeyField()}return 0}}function tR(s,e,i){const r=s.field.isKeyField()?be.comparator(e.key,i.key):(function(c,d,p){const _=d.data.field(c),y=p.data.field(c);return _!==null&&y!==null?jo(_,y):we(42886)})(s.field,e,i);switch(s.dir){case"asc":return r;case"desc":return-1*r;default:return we(19790,{direction:s.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Va{constructor(e,i){this.mapKeyFn=e,this.equalsFn=i,this.inner={},this.innerSize=0}get(e){const i=this.mapKeyFn(e),r=this.inner[i];if(r!==void 0){for(const[l,c]of r)if(this.equalsFn(l,e))return c}}has(e){return this.get(e)!==void 0}set(e,i){const r=this.mapKeyFn(e),l=this.inner[r];if(l===void 0)return this.inner[r]=[[e,i]],void this.innerSize++;for(let c=0;c<l.length;c++)if(this.equalsFn(l[c][0],e))return void(l[c]=[e,i]);l.push([e,i]),this.innerSize++}delete(e){const i=this.mapKeyFn(e),r=this.inner[i];if(r===void 0)return!1;for(let l=0;l<r.length;l++)if(this.equalsFn(r[l][0],e))return r.length===1?delete this.inner[i]:r.splice(l,1),this.innerSize--,!0;return!1}forEach(e){qr(this.inner,((i,r)=>{for(const[l,c]of r)e(l,c)}))}isEmpty(){return XE(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nR=new Dt(be.comparator);function Bs(){return nR}const dT=new Dt(be.comparator);function Kl(...s){let e=dT;for(const i of s)e=e.insert(i.key,i);return e}function mT(s){let e=dT;return s.forEach(((i,r)=>e=e.insert(i,r.overlayedDocument))),e}function xa(){return tu()}function gT(){return tu()}function tu(){return new Va((s=>s.toString()),((s,e)=>s.isEqual(e)))}const iR=new Dt(be.comparator),sR=new sn(be.comparator);function $e(...s){let e=sR;for(const i of s)e=e.add(i);return e}const rR=new sn(Xe);function aR(){return rR}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ag(s,e){if(s.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:vh(e)?"-0":e}}function pT(s){return{integerValue:""+s}}function yT(s,e){return V2(e)?pT(e):ag(s,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bh{constructor(){this._=void 0}}function oR(s,e,i){return s instanceof hu?(function(l,c){const d={fields:{[JE]:{stringValue:ZE},[eT]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return c&&ng(c)&&(c=Lh(c)),c&&(d.fields[WE]=c),{mapValue:d}})(i,e):s instanceof fu?vT(s,e):s instanceof du?ET(s,e):(function(l,c){const d=_T(l,c),p=dv(d)+dv(l.Ae);return wm(d)&&wm(l.Ae)?pT(p):ag(l.serializer,p)})(s,e)}function lR(s,e,i){return s instanceof fu?vT(s,e):s instanceof du?ET(s,e):i}function _T(s,e){return s instanceof mu?(function(r){return wm(r)||(function(c){return!!c&&"doubleValue"in c})(r)})(e)?e:{integerValue:0}:null}class hu extends Bh{}class fu extends Bh{constructor(e){super(),this.elements=e}}function vT(s,e){const i=TT(e);for(const r of s.elements)i.some((l=>os(l,r)))||i.push(r);return{arrayValue:{values:i}}}class du extends Bh{constructor(e){super(),this.elements=e}}function ET(s,e){let i=TT(e);for(const r of s.elements)i=i.filter((l=>!os(l,r)));return{arrayValue:{values:i}}}class mu extends Bh{constructor(e,i){super(),this.serializer=e,this.Ae=i}}function dv(s){return Ht(s.integerValue||s.doubleValue)}function TT(s){return ig(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bT{constructor(e,i){this.field=e,this.transform=i}}function uR(s,e){return s.field.isEqual(e.field)&&(function(r,l){return r instanceof fu&&l instanceof fu||r instanceof du&&l instanceof du?ko(r.elements,l.elements,os):r instanceof mu&&l instanceof mu?os(r.Ae,l.Ae):r instanceof hu&&l instanceof hu})(s.transform,e.transform)}class cR{constructor(e,i){this.version=e,this.transformResults=i}}class pn{constructor(e,i){this.updateTime=e,this.exists=i}static none(){return new pn}static exists(e){return new pn(void 0,e)}static updateTime(e){return new pn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function lh(s,e){return s.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(s.updateTime):s.exists===void 0||s.exists===e.isFoundDocument()}class qh{}function AT(s,e){if(!s.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return s.isNoDocument()?new Hh(s.key,pn.none()):new bu(s.key,s.data,pn.none());{const i=s.data,r=Nn.empty();let l=new sn(gn.comparator);for(let c of e.fields)if(!l.has(c)){let d=i.field(c);d===null&&c.length>1&&(c=c.popLast(),d=i.field(c)),d===null?r.delete(c):r.set(c,d),l=l.add(c)}return new Hr(s.key,r,new ti(l.toArray()),pn.none())}}function hR(s,e,i){s instanceof bu?(function(l,c,d){const p=l.value.clone(),_=gv(l.fieldTransforms,c,d.transformResults);p.setAll(_),c.convertToFoundDocument(d.version,p).setHasCommittedMutations()})(s,e,i):s instanceof Hr?(function(l,c,d){if(!lh(l.precondition,c))return void c.convertToUnknownDocument(d.version);const p=gv(l.fieldTransforms,c,d.transformResults),_=c.data;_.setAll(ST(l)),_.setAll(p),c.convertToFoundDocument(d.version,_).setHasCommittedMutations()})(s,e,i):(function(l,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()})(0,e,i)}function nu(s,e,i,r){return s instanceof bu?(function(c,d,p,_){if(!lh(c.precondition,d))return p;const y=c.value.clone(),A=pv(c.fieldTransforms,_,d);return y.setAll(A),d.convertToFoundDocument(d.version,y).setHasLocalMutations(),null})(s,e,i,r):s instanceof Hr?(function(c,d,p,_){if(!lh(c.precondition,d))return p;const y=pv(c.fieldTransforms,_,d),A=d.data;return A.setAll(ST(c)),A.setAll(y),d.convertToFoundDocument(d.version,A).setHasLocalMutations(),p===null?null:p.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((w=>w.field)))})(s,e,i,r):(function(c,d,p){return lh(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):p})(s,e,i)}function fR(s,e){let i=null;for(const r of s.fieldTransforms){const l=e.data.field(r.field),c=_T(r.transform,l||null);c!=null&&(i===null&&(i=Nn.empty()),i.set(r.field,c))}return i||null}function mv(s,e){return s.type===e.type&&!!s.key.isEqual(e.key)&&!!s.precondition.isEqual(e.precondition)&&!!(function(r,l){return r===void 0&&l===void 0||!(!r||!l)&&ko(r,l,((c,d)=>uR(c,d)))})(s.fieldTransforms,e.fieldTransforms)&&(s.type===0?s.value.isEqual(e.value):s.type!==1||s.data.isEqual(e.data)&&s.fieldMask.isEqual(e.fieldMask))}class bu extends qh{constructor(e,i,r,l=[]){super(),this.key=e,this.value=i,this.precondition=r,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class Hr extends qh{constructor(e,i,r,l,c=[]){super(),this.key=e,this.data=i,this.fieldMask=r,this.precondition=l,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function ST(s){const e=new Map;return s.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const r=s.data.field(i);e.set(i,r)}})),e}function gv(s,e,i){const r=new Map;tt(s.length===i.length,32656,{Re:i.length,Ve:s.length});for(let l=0;l<i.length;l++){const c=s[l],d=c.transform,p=e.data.field(c.field);r.set(c.field,lR(d,p,i[l]))}return r}function pv(s,e,i){const r=new Map;for(const l of s){const c=l.transform,d=i.data.field(l.field);r.set(l.field,oR(c,d,e))}return r}class Hh extends qh{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class wT extends qh{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dR{constructor(e,i,r,l){this.batchId=e,this.localWriteTime=i,this.baseMutations=r,this.mutations=l}applyToRemoteDocument(e,i){const r=i.mutationResults;for(let l=0;l<this.mutations.length;l++){const c=this.mutations[l];c.key.isEqual(e.key)&&hR(c,e,r[l])}}applyToLocalView(e,i){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(i=nu(r,e,i,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(i=nu(r,e,i,this.localWriteTime));return i}applyToLocalDocumentSet(e,i){const r=gT();return this.mutations.forEach((l=>{const c=e.get(l.key),d=c.overlayedDocument;let p=this.applyToLocalView(d,c.mutatedFields);p=i.has(l.key)?null:p;const _=AT(d,p);_!==null&&r.set(l.key,_),d.isValidDocument()||d.convertToNoDocument(Ie.min())})),r}keys(){return this.mutations.reduce(((e,i)=>e.add(i.key)),$e())}isEqual(e){return this.batchId===e.batchId&&ko(this.mutations,e.mutations,((i,r)=>mv(i,r)))&&ko(this.baseMutations,e.baseMutations,((i,r)=>mv(i,r)))}}class og{constructor(e,i,r,l){this.batch=e,this.commitVersion=i,this.mutationResults=r,this.docVersions=l}static from(e,i,r){tt(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let l=(function(){return iR})();const c=e.mutations;for(let d=0;d<c.length;d++)l=l.insert(c[d].key,r[d].version);return new og(e,i,r,l)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mR{constructor(e,i){this.largestBatchId=e,this.mutation=i}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gR{constructor(e,i){this.count=e,this.unchangedNames=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var $t,et;function xT(s){switch(s){case $.OK:return we(64938);case $.CANCELLED:case $.UNKNOWN:case $.DEADLINE_EXCEEDED:case $.RESOURCE_EXHAUSTED:case $.INTERNAL:case $.UNAVAILABLE:case $.UNAUTHENTICATED:return!1;case $.INVALID_ARGUMENT:case $.NOT_FOUND:case $.ALREADY_EXISTS:case $.PERMISSION_DENIED:case $.FAILED_PRECONDITION:case $.ABORTED:case $.OUT_OF_RANGE:case $.UNIMPLEMENTED:case $.DATA_LOSS:return!0;default:return we(15467,{code:s})}}function RT(s){if(s===void 0)return zs("GRPC error has no .code"),$.UNKNOWN;switch(s){case $t.OK:return $.OK;case $t.CANCELLED:return $.CANCELLED;case $t.UNKNOWN:return $.UNKNOWN;case $t.DEADLINE_EXCEEDED:return $.DEADLINE_EXCEEDED;case $t.RESOURCE_EXHAUSTED:return $.RESOURCE_EXHAUSTED;case $t.INTERNAL:return $.INTERNAL;case $t.UNAVAILABLE:return $.UNAVAILABLE;case $t.UNAUTHENTICATED:return $.UNAUTHENTICATED;case $t.INVALID_ARGUMENT:return $.INVALID_ARGUMENT;case $t.NOT_FOUND:return $.NOT_FOUND;case $t.ALREADY_EXISTS:return $.ALREADY_EXISTS;case $t.PERMISSION_DENIED:return $.PERMISSION_DENIED;case $t.FAILED_PRECONDITION:return $.FAILED_PRECONDITION;case $t.ABORTED:return $.ABORTED;case $t.OUT_OF_RANGE:return $.OUT_OF_RANGE;case $t.UNIMPLEMENTED:return $.UNIMPLEMENTED;case $t.DATA_LOSS:return $.DATA_LOSS;default:return we(39323,{code:s})}}(et=$t||($t={}))[et.OK=0]="OK",et[et.CANCELLED=1]="CANCELLED",et[et.UNKNOWN=2]="UNKNOWN",et[et.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",et[et.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",et[et.NOT_FOUND=5]="NOT_FOUND",et[et.ALREADY_EXISTS=6]="ALREADY_EXISTS",et[et.PERMISSION_DENIED=7]="PERMISSION_DENIED",et[et.UNAUTHENTICATED=16]="UNAUTHENTICATED",et[et.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",et[et.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",et[et.ABORTED=10]="ABORTED",et[et.OUT_OF_RANGE=11]="OUT_OF_RANGE",et[et.UNIMPLEMENTED=12]="UNIMPLEMENTED",et[et.INTERNAL=13]="INTERNAL",et[et.UNAVAILABLE=14]="UNAVAILABLE",et[et.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pR(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yR=new Mr([4294967295,4294967295],0);function yv(s){const e=pR().encode(s),i=new kE;return i.update(e),new Uint8Array(i.digest())}function _v(s){const e=new DataView(s.buffer),i=e.getUint32(0,!0),r=e.getUint32(4,!0),l=e.getUint32(8,!0),c=e.getUint32(12,!0);return[new Mr([i,r],0),new Mr([l,c],0)]}class lg{constructor(e,i,r){if(this.bitmap=e,this.padding=i,this.hashCount=r,i<0||i>=8)throw new Xl(`Invalid padding: ${i}`);if(r<0)throw new Xl(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Xl(`Invalid hash count: ${r}`);if(e.length===0&&i!==0)throw new Xl(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*e.length-i,this.pe=Mr.fromNumber(this.ge)}ye(e,i,r){let l=e.add(i.multiply(Mr.fromNumber(r)));return l.compare(yR)===1&&(l=new Mr([l.getBits(0),l.getBits(1)],0)),l.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const i=yv(e),[r,l]=_v(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(r,l,c);if(!this.we(d))return!1}return!0}static create(e,i,r){const l=e%8==0?0:8-e%8,c=new Uint8Array(Math.ceil(e/8)),d=new lg(c,l,i);return r.forEach((p=>d.insert(p))),d}insert(e){if(this.ge===0)return;const i=yv(e),[r,l]=_v(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(r,l,c);this.Se(d)}}Se(e){const i=Math.floor(e/8),r=e%8;this.bitmap[i]|=1<<r}}class Xl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fh{constructor(e,i,r,l,c){this.snapshotVersion=e,this.targetChanges=i,this.targetMismatches=r,this.documentUpdates=l,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,i,r){const l=new Map;return l.set(e,Au.createSynthesizedTargetChangeForCurrentChange(e,i,r)),new Fh(Ie.min(),l,new Dt(Xe),Bs(),$e())}}class Au{constructor(e,i,r,l,c){this.resumeToken=e,this.current=i,this.addedDocuments=r,this.modifiedDocuments=l,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,i,r){return new Au(r,i,$e(),$e(),$e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uh{constructor(e,i,r,l){this.be=e,this.removedTargetIds=i,this.key=r,this.De=l}}class NT{constructor(e,i){this.targetId=e,this.Ce=i}}class IT{constructor(e,i,r=yn.EMPTY_BYTE_STRING,l=null){this.state=e,this.targetIds=i,this.resumeToken=r,this.cause=l}}class vv{constructor(){this.ve=0,this.Fe=Ev(),this.Me=yn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=$e(),i=$e(),r=$e();return this.Fe.forEach(((l,c)=>{switch(c){case 0:e=e.add(l);break;case 2:i=i.add(l);break;case 1:r=r.add(l);break;default:we(38017,{changeType:c})}})),new Au(this.Me,this.xe,e,i,r)}qe(){this.Oe=!1,this.Fe=Ev()}Qe(e,i){this.Oe=!0,this.Fe=this.Fe.insert(e,i)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,tt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class _R{constructor(e){this.Ge=e,this.ze=new Map,this.je=Bs(),this.Je=Zc(),this.He=Zc(),this.Ye=new Dt(Xe)}Ze(e){for(const i of e.be)e.De&&e.De.isFoundDocument()?this.Xe(i,e.De):this.et(i,e.key,e.De);for(const i of e.removedTargetIds)this.et(i,e.key,e.De)}tt(e){this.forEachTarget(e,(i=>{const r=this.nt(i);switch(e.state){case 0:this.rt(i)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(i)&&(this.it(i),r.Le(e.resumeToken));break;default:we(56790,{state:e.state})}}))}forEachTarget(e,i){e.targetIds.length>0?e.targetIds.forEach(i):this.ze.forEach(((r,l)=>{this.rt(l)&&i(l)}))}st(e){const i=e.targetId,r=e.Ce.count,l=this.ot(i);if(l){const c=l.target;if(Rm(c))if(r===0){const d=new be(c.path);this.et(i,d,ln.newNoDocument(d,Ie.min()))}else tt(r===1,20013,{expectedCount:r});else{const d=this._t(i);if(d!==r){const p=this.ut(e),_=p?this.ct(p,e,d):1;if(_!==0){this.it(i);const y=_===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(i,y)}}}}}ut(e){const i=e.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:r="",padding:l=0},hashCount:c=0}=i;let d,p;try{d=kr(r).toUint8Array()}catch(_){if(_ instanceof $E)return Lo("Decoding the base64 bloom filter in existence filter failed ("+_.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw _}try{p=new lg(d,l,c)}catch(_){return Lo(_ instanceof Xl?"BloomFilter error: ":"Applying bloom filter failed: ",_),null}return p.ge===0?null:p}ct(e,i,r){return i.Ce.count===r-this.Pt(e,i.targetId)?0:2}Pt(e,i){const r=this.Ge.getRemoteKeysForTarget(i);let l=0;return r.forEach((c=>{const d=this.Ge.ht(),p=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;e.mightContain(p)||(this.et(i,c,null),l++)})),l}Tt(e){const i=new Map;this.ze.forEach(((c,d)=>{const p=this.ot(d);if(p){if(c.current&&Rm(p.target)){const _=new be(p.target.path);this.It(_).has(d)||this.Et(d,_)||this.et(d,_,ln.newNoDocument(_,e))}c.Be&&(i.set(d,c.ke()),c.qe())}}));let r=$e();this.He.forEach(((c,d)=>{let p=!0;d.forEachWhile((_=>{const y=this.ot(_);return!y||y.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)})),p&&(r=r.add(c))})),this.je.forEach(((c,d)=>d.setReadTime(e)));const l=new Fh(e,i,this.Ye,this.je,r);return this.je=Bs(),this.Je=Zc(),this.He=Zc(),this.Ye=new Dt(Xe),l}Xe(e,i){if(!this.rt(e))return;const r=this.Et(e,i.key)?2:0;this.nt(e).Qe(i.key,r),this.je=this.je.insert(i.key,i),this.Je=this.Je.insert(i.key,this.It(i.key).add(e)),this.He=this.He.insert(i.key,this.dt(i.key).add(e))}et(e,i,r){if(!this.rt(e))return;const l=this.nt(e);this.Et(e,i)?l.Qe(i,1):l.$e(i),this.He=this.He.insert(i,this.dt(i).delete(e)),this.He=this.He.insert(i,this.dt(i).add(e)),r&&(this.je=this.je.insert(i,r))}removeTarget(e){this.ze.delete(e)}_t(e){const i=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+i.addedDocuments.size-i.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let i=this.ze.get(e);return i||(i=new vv,this.ze.set(e,i)),i}dt(e){let i=this.He.get(e);return i||(i=new sn(Xe),this.He=this.He.insert(e,i)),i}It(e){let i=this.Je.get(e);return i||(i=new sn(Xe),this.Je=this.Je.insert(e,i)),i}rt(e){const i=this.ot(e)!==null;return i||ge("WatchChangeAggregator","Detected inactive target",e),i}ot(e){const i=this.ze.get(e);return i&&i.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new vv),this.Ge.getRemoteKeysForTarget(e).forEach((i=>{this.et(e,i,null)}))}Et(e,i){return this.Ge.getRemoteKeysForTarget(e).has(i)}}function Zc(){return new Dt(be.comparator)}function Ev(){return new Dt(be.comparator)}const vR={asc:"ASCENDING",desc:"DESCENDING"},ER={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},TR={and:"AND",or:"OR"};class bR{constructor(e,i){this.databaseId=e,this.useProto3Json=i}}function Cm(s,e){return s.useProto3Json||Tu(e)?e:{value:e}}function Ah(s,e){return s.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function CT(s,e){return s.useProto3Json?e.toBase64():e.toUint8Array()}function AR(s,e){return Ah(s,e.toTimestamp())}function ni(s){return tt(!!s,49232),Ie.fromTimestamp((function(i){const r=Lr(i);return new wt(r.seconds,r.nanos)})(s))}function ug(s,e){return Dm(s,e).canonicalString()}function Dm(s,e){const i=(function(l){return new yt(["projects",l.projectId,"databases",l.database])})(s).child("documents");return e===void 0?i:i.child(e)}function DT(s){const e=yt.fromString(s);return tt(LT(e),10190,{key:e.toString()}),e}function Sh(s,e){return ug(s.databaseId,e.path)}function iu(s,e){const i=DT(e);if(i.get(1)!==s.databaseId.projectId)throw new he($.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+s.databaseId.projectId);if(i.get(3)!==s.databaseId.database)throw new he($.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+s.databaseId.database);return new be(MT(i))}function OT(s,e){return ug(s.databaseId,e)}function SR(s){const e=DT(s);return e.length===4?yt.emptyPath():MT(e)}function Om(s){return new yt(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function MT(s){return tt(s.length>4&&s.get(4)==="documents",29091,{key:s.toString()}),s.popFirst(5)}function Tv(s,e,i){return{name:Sh(s,e),fields:i.value.mapValue.fields}}function wR(s,e){return"found"in e?(function(r,l){tt(!!l.found,43571),l.found.name,l.found.updateTime;const c=iu(r,l.found.name),d=ni(l.found.updateTime),p=l.found.createTime?ni(l.found.createTime):Ie.min(),_=new Nn({mapValue:{fields:l.found.fields}});return ln.newFoundDocument(c,d,p,_)})(s,e):"missing"in e?(function(r,l){tt(!!l.missing,3894),tt(!!l.readTime,22933);const c=iu(r,l.missing),d=ni(l.readTime);return ln.newNoDocument(c,d)})(s,e):we(7234,{result:e})}function xR(s,e){let i;if("targetChange"in e){e.targetChange;const r=(function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:we(39313,{state:y})})(e.targetChange.targetChangeType||"NO_CHANGE"),l=e.targetChange.targetIds||[],c=(function(y,A){return y.useProto3Json?(tt(A===void 0||typeof A=="string",58123),yn.fromBase64String(A||"")):(tt(A===void 0||A instanceof Buffer||A instanceof Uint8Array,16193),yn.fromUint8Array(A||new Uint8Array))})(s,e.targetChange.resumeToken),d=e.targetChange.cause,p=d&&(function(y){const A=y.code===void 0?$.UNKNOWN:RT(y.code);return new he(A,y.message||"")})(d);i=new IT(r,l,c,p||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const l=iu(s,r.document.name),c=ni(r.document.updateTime),d=r.document.createTime?ni(r.document.createTime):Ie.min(),p=new Nn({mapValue:{fields:r.document.fields}}),_=ln.newFoundDocument(l,c,d,p),y=r.targetIds||[],A=r.removedTargetIds||[];i=new uh(y,A,_.key,_)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const l=iu(s,r.document),c=r.readTime?ni(r.readTime):Ie.min(),d=ln.newNoDocument(l,c),p=r.removedTargetIds||[];i=new uh([],p,d.key,d)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const l=iu(s,r.document),c=r.removedTargetIds||[];i=new uh([],c,l,null)}else{if(!("filter"in e))return we(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:l=0,unchangedNames:c}=r,d=new gR(l,c),p=r.targetId;i=new NT(p,d)}}return i}function VT(s,e){let i;if(e instanceof bu)i={update:Tv(s,e.key,e.value)};else if(e instanceof Hh)i={delete:Sh(s,e.key)};else if(e instanceof Hr)i={update:Tv(s,e.key,e.data),updateMask:UR(e.fieldMask)};else{if(!(e instanceof wT))return we(16599,{Vt:e.type});i={verify:Sh(s,e.key)}}return e.fieldTransforms.length>0&&(i.updateTransforms=e.fieldTransforms.map((r=>(function(c,d){const p=d.transform;if(p instanceof hu)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof fu)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof du)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof mu)return{fieldPath:d.field.canonicalString(),increment:p.Ae};throw we(20930,{transform:d.transform})})(0,r)))),e.precondition.isNone||(i.currentDocument=(function(l,c){return c.updateTime!==void 0?{updateTime:AR(l,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:we(27497)})(s,e.precondition)),i}function RR(s,e){return s&&s.length>0?(tt(e!==void 0,14353),s.map((i=>(function(l,c){let d=l.updateTime?ni(l.updateTime):ni(c);return d.isEqual(Ie.min())&&(d=ni(c)),new cR(d,l.transformResults||[])})(i,e)))):[]}function NR(s,e){return{documents:[OT(s,e.path)]}}function IR(s,e){const i={structuredQuery:{}},r=e.path;let l;e.collectionGroup!==null?(l=r,i.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(l=r.popLast(),i.structuredQuery.from=[{collectionId:r.lastSegment()}]),i.parent=OT(s,l);const c=(function(y){if(y.length!==0)return PT(ki.create(y,"and"))})(e.filters);c&&(i.structuredQuery.where=c);const d=(function(y){if(y.length!==0)return y.map((A=>(function(C){return{field:No(C.field),direction:OR(C.dir)}})(A)))})(e.orderBy);d&&(i.structuredQuery.orderBy=d);const p=Cm(s,e.limit);return p!==null&&(i.structuredQuery.limit=p),e.startAt&&(i.structuredQuery.startAt=(function(y){return{before:y.inclusive,values:y.position}})(e.startAt)),e.endAt&&(i.structuredQuery.endAt=(function(y){return{before:!y.inclusive,values:y.position}})(e.endAt)),{ft:i,parent:l}}function CR(s){let e=SR(s.parent);const i=s.structuredQuery,r=i.from?i.from.length:0;let l=null;if(r>0){tt(r===1,65062);const A=i.from[0];A.allDescendants?l=A.collectionId:e=e.child(A.collectionId)}let c=[];i.where&&(c=(function(w){const C=UT(w);return C instanceof ki&&aT(C)?C.getFilters():[C]})(i.where));let d=[];i.orderBy&&(d=(function(w){return w.map((C=>(function(re){return new cu(Io(re.field),(function(ae){switch(ae){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(re.direction))})(C)))})(i.orderBy));let p=null;i.limit&&(p=(function(w){let C;return C=typeof w=="object"?w.value:w,Tu(C)?null:C})(i.limit));let _=null;i.startAt&&(_=(function(w){const C=!!w.before,Y=w.values||[];return new bh(Y,C)})(i.startAt));let y=null;return i.endAt&&(y=(function(w){const C=!w.before,Y=w.values||[];return new bh(Y,C)})(i.endAt)),J2(e,l,d,c,p,"F",_,y)}function DR(s,e){const i=(function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return we(28987,{purpose:l})}})(e.purpose);return i==null?null:{"goog-listen-tags":i}}function UT(s){return s.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const r=Io(i.unaryFilter.field);return Zt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const l=Io(i.unaryFilter.field);return Zt.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=Io(i.unaryFilter.field);return Zt.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=Io(i.unaryFilter.field);return Zt.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return we(61313);default:return we(60726)}})(s):s.fieldFilter!==void 0?(function(i){return Zt.create(Io(i.fieldFilter.field),(function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return we(58110);default:return we(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(s):s.compositeFilter!==void 0?(function(i){return ki.create(i.compositeFilter.filters.map((r=>UT(r))),(function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return we(1026)}})(i.compositeFilter.op))})(s):we(30097,{filter:s})}function OR(s){return vR[s]}function MR(s){return ER[s]}function VR(s){return TR[s]}function No(s){return{fieldPath:s.canonicalString()}}function Io(s){return gn.fromServerFormat(s.fieldPath)}function PT(s){return s instanceof Zt?(function(i){if(i.op==="=="){if(lv(i.value))return{unaryFilter:{field:No(i.field),op:"IS_NAN"}};if(ov(i.value))return{unaryFilter:{field:No(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(lv(i.value))return{unaryFilter:{field:No(i.field),op:"IS_NOT_NAN"}};if(ov(i.value))return{unaryFilter:{field:No(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:No(i.field),op:MR(i.op),value:i.value}}})(s):s instanceof ki?(function(i){const r=i.getFilters().map((l=>PT(l)));return r.length===1?r[0]:{compositeFilter:{op:VR(i.op),filters:r}}})(s):we(54877,{filter:s})}function UR(s){const e=[];return s.fields.forEach((i=>e.push(i.canonicalString()))),{fieldPaths:e}}function LT(s){return s.length>=4&&s.get(0)==="projects"&&s.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ir{constructor(e,i,r,l,c=Ie.min(),d=Ie.min(),p=yn.EMPTY_BYTE_STRING,_=null){this.target=e,this.targetId=i,this.purpose=r,this.sequenceNumber=l,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=p,this.expectedCount=_}withSequenceNumber(e){return new Ir(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,i){return new Ir(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ir(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ir(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PR{constructor(e){this.yt=e}}function LR(s){const e=CR({parent:s.parent,structuredQuery:s.structuredQuery});return s.limitType==="LAST"?Im(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kR{constructor(){this.Cn=new jR}addToCollectionParentIndex(e,i){return this.Cn.add(i),ee.resolve()}getCollectionParents(e,i){return ee.resolve(this.Cn.getEntries(i))}addFieldIndex(e,i){return ee.resolve()}deleteFieldIndex(e,i){return ee.resolve()}deleteAllFieldIndexes(e){return ee.resolve()}createTargetIndexes(e,i){return ee.resolve()}getDocumentsMatchingTarget(e,i){return ee.resolve(null)}getIndexType(e,i){return ee.resolve(0)}getFieldIndexes(e,i){return ee.resolve([])}getNextCollectionGroupToUpdate(e){return ee.resolve(null)}getMinOffset(e,i){return ee.resolve(Pr.min())}getMinOffsetFromCollectionGroup(e,i){return ee.resolve(Pr.min())}updateCollectionGroup(e,i,r){return ee.resolve()}updateIndexEntries(e,i){return ee.resolve()}}class jR{constructor(){this.index={}}add(e){const i=e.lastSegment(),r=e.popLast(),l=this.index[i]||new sn(yt.comparator),c=!l.has(r);return this.index[i]=l.add(r),c}has(e){const i=e.lastSegment(),r=e.popLast(),l=this.index[i];return l&&l.has(r)}getEntries(e){return(this.index[e]||new sn(yt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},kT=41943040;class jn{static withCacheSize(e){return new jn(e,jn.DEFAULT_COLLECTION_PERCENTILE,jn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,i,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */jn.DEFAULT_COLLECTION_PERCENTILE=10,jn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,jn.DEFAULT=new jn(kT,jn.DEFAULT_COLLECTION_PERCENTILE,jn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),jn.DISABLED=new jn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bo{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Bo(0)}static cr(){return new Bo(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Av="LruGarbageCollector",zR=1048576;function Sv([s,e],[i,r]){const l=Xe(s,i);return l===0?Xe(e,r):l}class BR{constructor(e){this.Ir=e,this.buffer=new sn(Sv),this.Er=0}dr(){return++this.Er}Ar(e){const i=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(i);else{const r=this.buffer.last();Sv(i,r)<0&&(this.buffer=this.buffer.delete(r).add(i))}}get maxValue(){return this.buffer.last()[0]}}class qR{constructor(e,i,r){this.garbageCollector=e,this.asyncQueue=i,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){ge(Av,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){Ko(i)?ge(Av,"Ignoring IndexedDB error during garbage collection: ",i):await Yo(i)}await this.Vr(3e5)}))}}class HR{constructor(e,i){this.mr=e,this.params=i}calculateTargetCount(e,i){return this.mr.gr(e).next((r=>Math.floor(i/100*r)))}nthSequenceNumber(e,i){if(i===0)return ee.resolve(Ph.ce);const r=new BR(i);return this.mr.forEachTarget(e,(l=>r.Ar(l.sequenceNumber))).next((()=>this.mr.pr(e,(l=>r.Ar(l))))).next((()=>r.maxValue))}removeTargets(e,i,r){return this.mr.removeTargets(e,i,r)}removeOrphanedDocuments(e,i){return this.mr.removeOrphanedDocuments(e,i)}collect(e,i){return this.params.cacheSizeCollectionThreshold===-1?(ge("LruGarbageCollector","Garbage collection skipped; disabled"),ee.resolve(bv)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(ge("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),bv):this.yr(e,i)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,i){let r,l,c,d,p,_,y;const A=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((w=>(w>this.params.maximumSequenceNumbersToCollect?(ge("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${w}`),l=this.params.maximumSequenceNumbersToCollect):l=w,d=Date.now(),this.nthSequenceNumber(e,l)))).next((w=>(r=w,p=Date.now(),this.removeTargets(e,r,i)))).next((w=>(c=w,_=Date.now(),this.removeOrphanedDocuments(e,r)))).next((w=>(y=Date.now(),xo()<=Ke.DEBUG&&ge("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-A}ms
	Determined least recently used ${l} in `+(p-d)+`ms
	Removed ${c} targets in `+(_-p)+`ms
	Removed ${w} documents in `+(y-_)+`ms
Total Duration: ${y-A}ms`),ee.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:c,documentsRemoved:w}))))}}function FR(s,e){return new HR(s,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GR{constructor(){this.changes=new Va((e=>e.toString()),((e,i)=>e.isEqual(i))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,i){this.assertNotApplied(),this.changes.set(e,ln.newInvalidDocument(e).setReadTime(i))}getEntry(e,i){this.assertNotApplied();const r=this.changes.get(i);return r!==void 0?ee.resolve(r):this.getFromCache(e,i)}getEntries(e,i){return this.getAllFromCache(e,i)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QR{constructor(e,i){this.overlayedDocument=e,this.mutatedFields=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YR{constructor(e,i,r,l){this.remoteDocumentCache=e,this.mutationQueue=i,this.documentOverlayCache=r,this.indexManager=l}getDocument(e,i){let r=null;return this.documentOverlayCache.getOverlay(e,i).next((l=>(r=l,this.remoteDocumentCache.getEntry(e,i)))).next((l=>(r!==null&&nu(r.mutation,l,ti.empty(),wt.now()),l)))}getDocuments(e,i){return this.remoteDocumentCache.getEntries(e,i).next((r=>this.getLocalViewOfDocuments(e,r,$e()).next((()=>r))))}getLocalViewOfDocuments(e,i,r=$e()){const l=xa();return this.populateOverlays(e,l,i).next((()=>this.computeViews(e,i,l,r).next((c=>{let d=Kl();return c.forEach(((p,_)=>{d=d.insert(p,_.overlayedDocument)})),d}))))}getOverlayedDocuments(e,i){const r=xa();return this.populateOverlays(e,r,i).next((()=>this.computeViews(e,i,r,$e())))}populateOverlays(e,i,r){const l=[];return r.forEach((c=>{i.has(c)||l.push(c)})),this.documentOverlayCache.getOverlays(e,l).next((c=>{c.forEach(((d,p)=>{i.set(d,p)}))}))}computeViews(e,i,r,l){let c=Bs();const d=tu(),p=(function(){return tu()})();return i.forEach(((_,y)=>{const A=r.get(y.key);l.has(y.key)&&(A===void 0||A.mutation instanceof Hr)?c=c.insert(y.key,y):A!==void 0?(d.set(y.key,A.mutation.getFieldMask()),nu(A.mutation,y,A.mutation.getFieldMask(),wt.now())):d.set(y.key,ti.empty())})),this.recalculateAndSaveOverlays(e,c).next((_=>(_.forEach(((y,A)=>d.set(y,A))),i.forEach(((y,A)=>p.set(y,new QR(A,d.get(y)??null)))),p)))}recalculateAndSaveOverlays(e,i){const r=tu();let l=new Dt(((d,p)=>d-p)),c=$e();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,i).next((d=>{for(const p of d)p.keys().forEach((_=>{const y=i.get(_);if(y===null)return;let A=r.get(_)||ti.empty();A=p.applyToLocalView(y,A),r.set(_,A);const w=(l.get(p.batchId)||$e()).add(_);l=l.insert(p.batchId,w)}))})).next((()=>{const d=[],p=l.getReverseIterator();for(;p.hasNext();){const _=p.getNext(),y=_.key,A=_.value,w=gT();A.forEach((C=>{if(!c.has(C)){const Y=AT(i.get(C),r.get(C));Y!==null&&w.set(C,Y),c=c.add(C)}})),d.push(this.documentOverlayCache.saveOverlays(e,y,w))}return ee.waitFor(d)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,i){return this.remoteDocumentCache.getEntries(e,i).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,i,r,l){return(function(d){return be.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0})(i)?this.getDocumentsMatchingDocumentQuery(e,i.path):cT(i)?this.getDocumentsMatchingCollectionGroupQuery(e,i,r,l):this.getDocumentsMatchingCollectionQuery(e,i,r,l)}getNextDocuments(e,i,r,l){return this.remoteDocumentCache.getAllFromCollectionGroup(e,i,r,l).next((c=>{const d=l-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,i,r.largestBatchId,l-c.size):ee.resolve(xa());let p=au,_=c;return d.next((y=>ee.forEach(y,((A,w)=>(p<w.largestBatchId&&(p=w.largestBatchId),c.get(A)?ee.resolve():this.remoteDocumentCache.getEntry(e,A).next((C=>{_=_.insert(A,C)}))))).next((()=>this.populateOverlays(e,y,c))).next((()=>this.computeViews(e,_,y,$e()))).next((A=>({batchId:p,changes:mT(A)})))))}))}getDocumentsMatchingDocumentQuery(e,i){return this.getDocument(e,new be(i)).next((r=>{let l=Kl();return r.isFoundDocument()&&(l=l.insert(r.key,r)),l}))}getDocumentsMatchingCollectionGroupQuery(e,i,r,l){const c=i.collectionGroup;let d=Kl();return this.indexManager.getCollectionParents(e,c).next((p=>ee.forEach(p,(_=>{const y=(function(w,C){return new Xo(C,null,w.explicitOrderBy.slice(),w.filters.slice(),w.limit,w.limitType,w.startAt,w.endAt)})(i,_.child(c));return this.getDocumentsMatchingCollectionQuery(e,y,r,l).next((A=>{A.forEach(((w,C)=>{d=d.insert(w,C)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(e,i,r,l){let c;return this.documentOverlayCache.getOverlaysForCollection(e,i.path,r.largestBatchId).next((d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,i,r,c,l)))).next((d=>{c.forEach(((_,y)=>{const A=y.getKey();d.get(A)===null&&(d=d.insert(A,ln.newInvalidDocument(A)))}));let p=Kl();return d.forEach(((_,y)=>{const A=c.get(_);A!==void 0&&nu(A.mutation,y,ti.empty(),wt.now()),zh(i,y)&&(p=p.insert(_,y))})),p}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KR{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,i){return ee.resolve(this.Lr.get(i))}saveBundleMetadata(e,i){return this.Lr.set(i.id,(function(l){return{id:l.id,version:l.version,createTime:ni(l.createTime)}})(i)),ee.resolve()}getNamedQuery(e,i){return ee.resolve(this.kr.get(i))}saveNamedQuery(e,i){return this.kr.set(i.name,(function(l){return{name:l.name,query:LR(l.bundledQuery),readTime:ni(l.readTime)}})(i)),ee.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XR{constructor(){this.overlays=new Dt(be.comparator),this.qr=new Map}getOverlay(e,i){return ee.resolve(this.overlays.get(i))}getOverlays(e,i){const r=xa();return ee.forEach(i,(l=>this.getOverlay(e,l).next((c=>{c!==null&&r.set(l,c)})))).next((()=>r))}saveOverlays(e,i,r){return r.forEach(((l,c)=>{this.St(e,i,c)})),ee.resolve()}removeOverlaysForBatchId(e,i,r){const l=this.qr.get(r);return l!==void 0&&(l.forEach((c=>this.overlays=this.overlays.remove(c))),this.qr.delete(r)),ee.resolve()}getOverlaysForCollection(e,i,r){const l=xa(),c=i.length+1,d=new be(i.child("")),p=this.overlays.getIteratorFrom(d);for(;p.hasNext();){const _=p.getNext().value,y=_.getKey();if(!i.isPrefixOf(y.path))break;y.path.length===c&&_.largestBatchId>r&&l.set(_.getKey(),_)}return ee.resolve(l)}getOverlaysForCollectionGroup(e,i,r,l){let c=new Dt(((y,A)=>y-A));const d=this.overlays.getIterator();for(;d.hasNext();){const y=d.getNext().value;if(y.getKey().getCollectionGroup()===i&&y.largestBatchId>r){let A=c.get(y.largestBatchId);A===null&&(A=xa(),c=c.insert(y.largestBatchId,A)),A.set(y.getKey(),y)}}const p=xa(),_=c.getIterator();for(;_.hasNext()&&(_.getNext().value.forEach(((y,A)=>p.set(y,A))),!(p.size()>=l)););return ee.resolve(p)}St(e,i,r){const l=this.overlays.get(r.key);if(l!==null){const d=this.qr.get(l.largestBatchId).delete(r.key);this.qr.set(l.largestBatchId,d)}this.overlays=this.overlays.insert(r.key,new mR(i,r));let c=this.qr.get(i);c===void 0&&(c=$e(),this.qr.set(i,c)),this.qr.set(i,c.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $R{constructor(){this.sessionToken=yn.EMPTY_BYTE_STRING}getSessionToken(e){return ee.resolve(this.sessionToken)}setSessionToken(e,i){return this.sessionToken=i,ee.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cg{constructor(){this.Qr=new sn(on.$r),this.Ur=new sn(on.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,i){const r=new on(e,i);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,i){e.forEach((r=>this.addReference(r,i)))}removeReference(e,i){this.Gr(new on(e,i))}zr(e,i){e.forEach((r=>this.removeReference(r,i)))}jr(e){const i=new be(new yt([])),r=new on(i,e),l=new on(i,e+1),c=[];return this.Ur.forEachInRange([r,l],(d=>{this.Gr(d),c.push(d.key)})),c}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const i=new be(new yt([])),r=new on(i,e),l=new on(i,e+1);let c=$e();return this.Ur.forEachInRange([r,l],(d=>{c=c.add(d.key)})),c}containsKey(e){const i=new on(e,0),r=this.Qr.firstAfterOrEqual(i);return r!==null&&e.isEqual(r.key)}}class on{constructor(e,i){this.key=e,this.Yr=i}static $r(e,i){return be.comparator(e.key,i.key)||Xe(e.Yr,i.Yr)}static Kr(e,i){return Xe(e.Yr,i.Yr)||be.comparator(e.key,i.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZR{constructor(e,i){this.indexManager=e,this.referenceDelegate=i,this.mutationQueue=[],this.tr=1,this.Zr=new sn(on.$r)}checkEmpty(e){return ee.resolve(this.mutationQueue.length===0)}addMutationBatch(e,i,r,l){const c=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new dR(c,i,r,l);this.mutationQueue.push(d);for(const p of l)this.Zr=this.Zr.add(new on(p.key,c)),this.indexManager.addToCollectionParentIndex(e,p.key.path.popLast());return ee.resolve(d)}lookupMutationBatch(e,i){return ee.resolve(this.Xr(i))}getNextMutationBatchAfterBatchId(e,i){const r=i+1,l=this.ei(r),c=l<0?0:l;return ee.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return ee.resolve(this.mutationQueue.length===0?tg:this.tr-1)}getAllMutationBatches(e){return ee.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,i){const r=new on(i,0),l=new on(i,Number.POSITIVE_INFINITY),c=[];return this.Zr.forEachInRange([r,l],(d=>{const p=this.Xr(d.Yr);c.push(p)})),ee.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,i){let r=new sn(Xe);return i.forEach((l=>{const c=new on(l,0),d=new on(l,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([c,d],(p=>{r=r.add(p.Yr)}))})),ee.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,i){const r=i.path,l=r.length+1;let c=r;be.isDocumentKey(c)||(c=c.child(""));const d=new on(new be(c),0);let p=new sn(Xe);return this.Zr.forEachWhile((_=>{const y=_.key.path;return!!r.isPrefixOf(y)&&(y.length===l&&(p=p.add(_.Yr)),!0)}),d),ee.resolve(this.ti(p))}ti(e){const i=[];return e.forEach((r=>{const l=this.Xr(r);l!==null&&i.push(l)})),i}removeMutationBatch(e,i){tt(this.ni(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return ee.forEach(i.mutations,(l=>{const c=new on(l.key,i.batchId);return r=r.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,l.key)})).next((()=>{this.Zr=r}))}ir(e){}containsKey(e,i){const r=new on(i,0),l=this.Zr.firstAfterOrEqual(r);return ee.resolve(i.isEqual(l&&l.key))}performConsistencyCheck(e){return this.mutationQueue.length,ee.resolve()}ni(e,i){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const i=this.ei(e);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JR{constructor(e){this.ri=e,this.docs=(function(){return new Dt(be.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,i){const r=i.key,l=this.docs.get(r),c=l?l.size:0,d=this.ri(i);return this.docs=this.docs.insert(r,{document:i.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const i=this.docs.get(e);i&&(this.docs=this.docs.remove(e),this.size-=i.size)}getEntry(e,i){const r=this.docs.get(i);return ee.resolve(r?r.document.mutableCopy():ln.newInvalidDocument(i))}getEntries(e,i){let r=Bs();return i.forEach((l=>{const c=this.docs.get(l);r=r.insert(l,c?c.document.mutableCopy():ln.newInvalidDocument(l))})),ee.resolve(r)}getDocumentsMatchingQuery(e,i,r,l){let c=Bs();const d=i.path,p=new be(d.child("__id-9223372036854775808__")),_=this.docs.getIteratorFrom(p);for(;_.hasNext();){const{key:y,value:{document:A}}=_.getNext();if(!d.isPrefixOf(y.path))break;y.path.length>d.length+1||C2(I2(A),r)<=0||(l.has(A.key)||zh(i,A))&&(c=c.insert(A.key,A.mutableCopy()))}return ee.resolve(c)}getAllFromCollectionGroup(e,i,r,l){we(9500)}ii(e,i){return ee.forEach(this.docs,(r=>i(r)))}newChangeBuffer(e){return new WR(this)}getSize(e){return ee.resolve(this.size)}}class WR extends GR{constructor(e){super(),this.Nr=e}applyChanges(e){const i=[];return this.changes.forEach(((r,l)=>{l.isValidDocument()?i.push(this.Nr.addEntry(e,l)):this.Nr.removeEntry(r)})),ee.waitFor(i)}getFromCache(e,i){return this.Nr.getEntry(e,i)}getAllFromCache(e,i){return this.Nr.getEntries(e,i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eN{constructor(e){this.persistence=e,this.si=new Va((i=>sg(i)),rg),this.lastRemoteSnapshotVersion=Ie.min(),this.highestTargetId=0,this.oi=0,this._i=new cg,this.targetCount=0,this.ai=Bo.ur()}forEachTarget(e,i){return this.si.forEach(((r,l)=>i(l))),ee.resolve()}getLastRemoteSnapshotVersion(e){return ee.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ee.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),ee.resolve(this.highestTargetId)}setTargetsMetadata(e,i,r){return r&&(this.lastRemoteSnapshotVersion=r),i>this.oi&&(this.oi=i),ee.resolve()}Pr(e){this.si.set(e.target,e);const i=e.targetId;i>this.highestTargetId&&(this.ai=new Bo(i),this.highestTargetId=i),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,i){return this.Pr(i),this.targetCount+=1,ee.resolve()}updateTargetData(e,i){return this.Pr(i),ee.resolve()}removeTargetData(e,i){return this.si.delete(i.target),this._i.jr(i.targetId),this.targetCount-=1,ee.resolve()}removeTargets(e,i,r){let l=0;const c=[];return this.si.forEach(((d,p)=>{p.sequenceNumber<=i&&r.get(p.targetId)===null&&(this.si.delete(d),c.push(this.removeMatchingKeysForTargetId(e,p.targetId)),l++)})),ee.waitFor(c).next((()=>l))}getTargetCount(e){return ee.resolve(this.targetCount)}getTargetData(e,i){const r=this.si.get(i)||null;return ee.resolve(r)}addMatchingKeys(e,i,r){return this._i.Wr(i,r),ee.resolve()}removeMatchingKeys(e,i,r){this._i.zr(i,r);const l=this.persistence.referenceDelegate,c=[];return l&&i.forEach((d=>{c.push(l.markPotentiallyOrphaned(e,d))})),ee.waitFor(c)}removeMatchingKeysForTargetId(e,i){return this._i.jr(i),ee.resolve()}getMatchingKeysForTargetId(e,i){const r=this._i.Hr(i);return ee.resolve(r)}containsKey(e,i){return ee.resolve(this._i.containsKey(i))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jT{constructor(e,i){this.ui={},this.overlays={},this.ci=new Ph(0),this.li=!1,this.li=!0,this.hi=new $R,this.referenceDelegate=e(this),this.Pi=new eN(this),this.indexManager=new kR,this.remoteDocumentCache=(function(l){return new JR(l)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new PR(i),this.Ii=new KR(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let i=this.overlays[e.toKey()];return i||(i=new XR,this.overlays[e.toKey()]=i),i}getMutationQueue(e,i){let r=this.ui[e.toKey()];return r||(r=new ZR(i,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,i,r){ge("MemoryPersistence","Starting transaction:",e);const l=new tN(this.ci.next());return this.referenceDelegate.Ei(),r(l).next((c=>this.referenceDelegate.di(l).next((()=>c)))).toPromise().then((c=>(l.raiseOnCommittedEvent(),c)))}Ai(e,i){return ee.or(Object.values(this.ui).map((r=>()=>r.containsKey(e,i))))}}class tN extends O2{constructor(e){super(),this.currentSequenceNumber=e}}class hg{constructor(e){this.persistence=e,this.Ri=new cg,this.Vi=null}static mi(e){return new hg(e)}get fi(){if(this.Vi)return this.Vi;throw we(60996)}addReference(e,i,r){return this.Ri.addReference(r,i),this.fi.delete(r.toString()),ee.resolve()}removeReference(e,i,r){return this.Ri.removeReference(r,i),this.fi.add(r.toString()),ee.resolve()}markPotentiallyOrphaned(e,i){return this.fi.add(i.toString()),ee.resolve()}removeTarget(e,i){this.Ri.jr(i.targetId).forEach((l=>this.fi.add(l.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,i.targetId).next((l=>{l.forEach((c=>this.fi.add(c.toString())))})).next((()=>r.removeTargetData(e,i)))}Ei(){this.Vi=new Set}di(e){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ee.forEach(this.fi,(r=>{const l=be.fromPath(r);return this.gi(e,l).next((c=>{c||i.removeEntry(l,Ie.min())}))})).next((()=>(this.Vi=null,i.apply(e))))}updateLimboDocument(e,i){return this.gi(e,i).next((r=>{r?this.fi.delete(i.toString()):this.fi.add(i.toString())}))}Ti(e){return 0}gi(e,i){return ee.or([()=>ee.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(e,i),()=>this.persistence.Ai(e,i)])}}class wh{constructor(e,i){this.persistence=e,this.pi=new Va((r=>U2(r.path)),((r,l)=>r.isEqual(l))),this.garbageCollector=FR(this,i)}static mi(e,i){return new wh(e,i)}Ei(){}di(e){return ee.resolve()}forEachTarget(e,i){return this.persistence.getTargetCache().forEachTarget(e,i)}gr(e){const i=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>i.next((l=>r+l))))}wr(e){let i=0;return this.pr(e,(r=>{i++})).next((()=>i))}pr(e,i){return ee.forEach(this.pi,((r,l)=>this.br(e,r,l).next((c=>c?ee.resolve():i(l)))))}removeTargets(e,i,r){return this.persistence.getTargetCache().removeTargets(e,i,r)}removeOrphanedDocuments(e,i){let r=0;const l=this.persistence.getRemoteDocumentCache(),c=l.newChangeBuffer();return l.ii(e,(d=>this.br(e,d,i).next((p=>{p||(r++,c.removeEntry(d,Ie.min()))})))).next((()=>c.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,i){return this.pi.set(i,e.currentSequenceNumber),ee.resolve()}removeTarget(e,i){const r=i.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,i,r){return this.pi.set(r,e.currentSequenceNumber),ee.resolve()}removeReference(e,i,r){return this.pi.set(r,e.currentSequenceNumber),ee.resolve()}updateLimboDocument(e,i){return this.pi.set(i,e.currentSequenceNumber),ee.resolve()}Ti(e){let i=e.key.toString().length;return e.isFoundDocument()&&(i+=ah(e.data.value)),i}br(e,i,r){return ee.or([()=>this.persistence.Ai(e,i),()=>this.persistence.getTargetCache().containsKey(e,i),()=>{const l=this.pi.get(i);return ee.resolve(l!==void 0&&l>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fg{constructor(e,i,r,l){this.targetId=e,this.fromCache=i,this.Es=r,this.ds=l}static As(e,i){let r=$e(),l=$e();for(const c of i.docChanges)switch(c.type){case 0:r=r.add(c.doc.key);break;case 1:l=l.add(c.doc.key)}return new fg(e,i.fromCache,r,l)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nN{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iN{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return $A()?8:M2(Tn())>0?6:4})()}initialize(e,i){this.ps=e,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(e,i,r,l){const c={result:null};return this.ys(e,i).next((d=>{c.result=d})).next((()=>{if(!c.result)return this.ws(e,i,l,r).next((d=>{c.result=d}))})).next((()=>{if(c.result)return;const d=new nN;return this.Ss(e,i,d).next((p=>{if(c.result=p,this.Vs)return this.bs(e,i,d,p.size)}))})).next((()=>c.result))}bs(e,i,r,l){return r.documentReadCount<this.fs?(xo()<=Ke.DEBUG&&ge("QueryEngine","SDK will not create cache indexes for query:",Ro(i),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),ee.resolve()):(xo()<=Ke.DEBUG&&ge("QueryEngine","Query:",Ro(i),"scans",r.documentReadCount,"local documents and returns",l,"documents as results."),r.documentReadCount>this.gs*l?(xo()<=Ke.DEBUG&&ge("QueryEngine","The SDK decides to create cache indexes for query:",Ro(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,is(i))):ee.resolve())}ys(e,i){if(fv(i))return ee.resolve(null);let r=is(i);return this.indexManager.getIndexType(e,r).next((l=>l===0?null:(i.limit!==null&&l===1&&(i=Im(i,null,"F"),r=is(i)),this.indexManager.getDocumentsMatchingTarget(e,r).next((c=>{const d=$e(...c);return this.ps.getDocuments(e,d).next((p=>this.indexManager.getMinOffset(e,r).next((_=>{const y=this.Ds(i,p);return this.Cs(i,y,d,_.readTime)?this.ys(e,Im(i,null,"F")):this.vs(e,y,i,_)}))))})))))}ws(e,i,r,l){return fv(i)||l.isEqual(Ie.min())?ee.resolve(null):this.ps.getDocuments(e,r).next((c=>{const d=this.Ds(i,c);return this.Cs(i,d,r,l)?ee.resolve(null):(xo()<=Ke.DEBUG&&ge("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),Ro(i)),this.vs(e,d,i,N2(l,au)).next((p=>p)))}))}Ds(e,i){let r=new sn(fT(e));return i.forEach(((l,c)=>{zh(e,c)&&(r=r.add(c))})),r}Cs(e,i,r,l){if(e.limit===null)return!1;if(r.size!==i.size)return!0;const c=e.limitType==="F"?i.last():i.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(l)>0)}Ss(e,i,r){return xo()<=Ke.DEBUG&&ge("QueryEngine","Using full collection scan to execute query:",Ro(i)),this.ps.getDocumentsMatchingQuery(e,i,Pr.min(),r)}vs(e,i,r,l){return this.ps.getDocumentsMatchingQuery(e,r,l).next((c=>(i.forEach((d=>{c=c.insert(d.key,d)})),c)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dg="LocalStore",sN=3e8;class rN{constructor(e,i,r,l){this.persistence=e,this.Fs=i,this.serializer=l,this.Ms=new Dt(Xe),this.xs=new Va((c=>sg(c)),rg),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new YR(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>e.collect(i,this.Ms)))}}function aN(s,e,i,r){return new rN(s,e,i,r)}async function zT(s,e){const i=Oe(s);return await i.persistence.runTransaction("Handle user change","readonly",(r=>{let l;return i.mutationQueue.getAllMutationBatches(r).next((c=>(l=c,i.Bs(e),i.mutationQueue.getAllMutationBatches(r)))).next((c=>{const d=[],p=[];let _=$e();for(const y of l){d.push(y.batchId);for(const A of y.mutations)_=_.add(A.key)}for(const y of c){p.push(y.batchId);for(const A of y.mutations)_=_.add(A.key)}return i.localDocuments.getDocuments(r,_).next((y=>({Ls:y,removedBatchIds:d,addedBatchIds:p})))}))}))}function oN(s,e){const i=Oe(s);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const l=e.batch.keys(),c=i.Ns.newChangeBuffer({trackRemovals:!0});return(function(p,_,y,A){const w=y.batch,C=w.keys();let Y=ee.resolve();return C.forEach((re=>{Y=Y.next((()=>A.getEntry(_,re))).next((ue=>{const ae=y.docVersions.get(re);tt(ae!==null,48541),ue.version.compareTo(ae)<0&&(w.applyToRemoteDocument(ue,y),ue.isValidDocument()&&(ue.setReadTime(y.commitVersion),A.addEntry(ue)))}))})),Y.next((()=>p.mutationQueue.removeMutationBatch(_,w)))})(i,r,e,c).next((()=>c.apply(r))).next((()=>i.mutationQueue.performConsistencyCheck(r))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(r,l,e.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(p){let _=$e();for(let y=0;y<p.mutationResults.length;++y)p.mutationResults[y].transformResults.length>0&&(_=_.add(p.batch.mutations[y].key));return _})(e)))).next((()=>i.localDocuments.getDocuments(r,l)))}))}function BT(s){const e=Oe(s);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>e.Pi.getLastRemoteSnapshotVersion(i)))}function lN(s,e){const i=Oe(s),r=e.snapshotVersion;let l=i.Ms;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const d=i.Ns.newChangeBuffer({trackRemovals:!0});l=i.Ms;const p=[];e.targetChanges.forEach(((A,w)=>{const C=l.get(w);if(!C)return;p.push(i.Pi.removeMatchingKeys(c,A.removedDocuments,w).next((()=>i.Pi.addMatchingKeys(c,A.addedDocuments,w))));let Y=C.withSequenceNumber(c.currentSequenceNumber);e.targetMismatches.get(w)!==null?Y=Y.withResumeToken(yn.EMPTY_BYTE_STRING,Ie.min()).withLastLimboFreeSnapshotVersion(Ie.min()):A.resumeToken.approximateByteSize()>0&&(Y=Y.withResumeToken(A.resumeToken,r)),l=l.insert(w,Y),(function(ue,ae,Se){return ue.resumeToken.approximateByteSize()===0||ae.snapshotVersion.toMicroseconds()-ue.snapshotVersion.toMicroseconds()>=sN?!0:Se.addedDocuments.size+Se.modifiedDocuments.size+Se.removedDocuments.size>0})(C,Y,A)&&p.push(i.Pi.updateTargetData(c,Y))}));let _=Bs(),y=$e();if(e.documentUpdates.forEach((A=>{e.resolvedLimboDocuments.has(A)&&p.push(i.persistence.referenceDelegate.updateLimboDocument(c,A))})),p.push(uN(c,d,e.documentUpdates).next((A=>{_=A.ks,y=A.qs}))),!r.isEqual(Ie.min())){const A=i.Pi.getLastRemoteSnapshotVersion(c).next((w=>i.Pi.setTargetsMetadata(c,c.currentSequenceNumber,r)));p.push(A)}return ee.waitFor(p).next((()=>d.apply(c))).next((()=>i.localDocuments.getLocalViewOfDocuments(c,_,y))).next((()=>_))})).then((c=>(i.Ms=l,c)))}function uN(s,e,i){let r=$e(),l=$e();return i.forEach((c=>r=r.add(c))),e.getEntries(s,r).next((c=>{let d=Bs();return i.forEach(((p,_)=>{const y=c.get(p);_.isFoundDocument()!==y.isFoundDocument()&&(l=l.add(p)),_.isNoDocument()&&_.version.isEqual(Ie.min())?(e.removeEntry(p,_.readTime),d=d.insert(p,_)):!y.isValidDocument()||_.version.compareTo(y.version)>0||_.version.compareTo(y.version)===0&&y.hasPendingWrites?(e.addEntry(_),d=d.insert(p,_)):ge(dg,"Ignoring outdated watch update for ",p,". Current version:",y.version," Watch version:",_.version)})),{ks:d,qs:l}}))}function cN(s,e){const i=Oe(s);return i.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=tg),i.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function hN(s,e){const i=Oe(s);return i.persistence.runTransaction("Allocate target","readwrite",(r=>{let l;return i.Pi.getTargetData(r,e).next((c=>c?(l=c,ee.resolve(l)):i.Pi.allocateTargetId(r).next((d=>(l=new Ir(e,d,"TargetPurposeListen",r.currentSequenceNumber),i.Pi.addTargetData(r,l).next((()=>l)))))))})).then((r=>{const l=i.Ms.get(r.targetId);return(l===null||r.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(i.Ms=i.Ms.insert(r.targetId,r),i.xs.set(e,r.targetId)),r}))}async function Mm(s,e,i){const r=Oe(s),l=r.Ms.get(e),c=i?"readwrite":"readwrite-primary";try{i||await r.persistence.runTransaction("Release target",c,(d=>r.persistence.referenceDelegate.removeTarget(d,l)))}catch(d){if(!Ko(d))throw d;ge(dg,`Failed to update sequence numbers for target ${e}: ${d}`)}r.Ms=r.Ms.remove(e),r.xs.delete(l.target)}function wv(s,e,i){const r=Oe(s);let l=Ie.min(),c=$e();return r.persistence.runTransaction("Execute query","readwrite",(d=>(function(_,y,A){const w=Oe(_),C=w.xs.get(A);return C!==void 0?ee.resolve(w.Ms.get(C)):w.Pi.getTargetData(y,A)})(r,d,is(e)).next((p=>{if(p)return l=p.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(d,p.targetId).next((_=>{c=_}))})).next((()=>r.Fs.getDocumentsMatchingQuery(d,e,i?l:Ie.min(),i?c:$e()))).next((p=>(fN(r,eR(e),p),{documents:p,Qs:c})))))}function fN(s,e,i){let r=s.Os.get(e)||Ie.min();i.forEach(((l,c)=>{c.readTime.compareTo(r)>0&&(r=c.readTime)})),s.Os.set(e,r)}class xv{constructor(){this.activeTargetIds=aR()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class dN{constructor(){this.Mo=new xv,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,i,r){}addLocalQueryTarget(e,i=!0){return i&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,i,r){this.xo[e]=i}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new xv,Promise.resolve()}handleUserChange(e,i,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mN{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rv="ConnectivityMonitor";class Nv{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ge(Rv,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){ge(Rv,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Jc=null;function Vm(){return Jc===null?Jc=(function(){return 268435456+Math.round(2147483648*Math.random())})():Jc++,"0x"+Jc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lm="RestConnection",gN={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class pN{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const i=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.Uo=i+"://"+e.host,this.Ko=`projects/${r}/databases/${l}`,this.Wo=this.databaseId.database===Eh?`project_id=${r}`:`project_id=${r}&database_id=${l}`}Go(e,i,r,l,c){const d=Vm(),p=this.zo(e,i.toUriEncodedString());ge(lm,`Sending RPC '${e}' ${d}:`,p,r);const _={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(_,l,c);const{host:y}=new URL(p),A=Ho(y);return this.Jo(e,p,_,r,A).then((w=>(ge(lm,`Received RPC '${e}' ${d}: `,w),w)),(w=>{throw Lo(lm,`RPC '${e}' ${d} failed with error: `,w,"url: ",p,"request:",r),w}))}Ho(e,i,r,l,c,d){return this.Go(e,i,r,l,c)}jo(e,i,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Qo})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((l,c)=>e[c]=l)),r&&r.headers.forEach(((l,c)=>e[c]=l))}zo(e,i){const r=gN[e];return`${this.Uo}/v1/${i}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yN{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vn="WebChannelConnection";class _N extends pN{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,i,r,l,c){const d=Vm();return new Promise(((p,_)=>{const y=new jE;y.setWithCredentials(!0),y.listenOnce(zE.COMPLETE,(()=>{try{switch(y.getLastErrorCode()){case rh.NO_ERROR:const w=y.getResponseJson();ge(vn,`XHR for RPC '${e}' ${d} received:`,JSON.stringify(w)),p(w);break;case rh.TIMEOUT:ge(vn,`RPC '${e}' ${d} timed out`),_(new he($.DEADLINE_EXCEEDED,"Request time out"));break;case rh.HTTP_ERROR:const C=y.getStatus();if(ge(vn,`RPC '${e}' ${d} failed with status:`,C,"response text:",y.getResponseText()),C>0){let Y=y.getResponseJson();Array.isArray(Y)&&(Y=Y[0]);const re=Y?.error;if(re&&re.status&&re.message){const ue=(function(Se){const De=Se.toLowerCase().replace(/_/g,"-");return Object.values($).indexOf(De)>=0?De:$.UNKNOWN})(re.status);_(new he(ue,re.message))}else _(new he($.UNKNOWN,"Server responded with status "+y.getStatus()))}else _(new he($.UNAVAILABLE,"Connection failed."));break;default:we(9055,{l_:e,streamId:d,h_:y.getLastErrorCode(),P_:y.getLastError()})}}finally{ge(vn,`RPC '${e}' ${d} completed.`)}}));const A=JSON.stringify(l);ge(vn,`RPC '${e}' ${d} sending request:`,l),y.send(i,"POST",A,r,15)}))}T_(e,i,r){const l=Vm(),c=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=HE(),p=qE(),_={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(_.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(_.useFetchStreams=!0),this.jo(_.initMessageHeaders,i,r),_.encodeInitMessageHeaders=!0;const A=c.join("");ge(vn,`Creating RPC '${e}' stream ${l}: ${A}`,_);const w=d.createWebChannel(A,_);this.I_(w);let C=!1,Y=!1;const re=new yN({Yo:ae=>{Y?ge(vn,`Not sending because RPC '${e}' stream ${l} is closed:`,ae):(C||(ge(vn,`Opening RPC '${e}' stream ${l} transport.`),w.open(),C=!0),ge(vn,`RPC '${e}' stream ${l} sending:`,ae),w.send(ae))},Zo:()=>w.close()}),ue=(ae,Se,De)=>{ae.listen(Se,(Ne=>{try{De(Ne)}catch(We){setTimeout((()=>{throw We}),0)}}))};return ue(w,Yl.EventType.OPEN,(()=>{Y||(ge(vn,`RPC '${e}' stream ${l} transport opened.`),re.o_())})),ue(w,Yl.EventType.CLOSE,(()=>{Y||(Y=!0,ge(vn,`RPC '${e}' stream ${l} transport closed`),re.a_(),this.E_(w))})),ue(w,Yl.EventType.ERROR,(ae=>{Y||(Y=!0,Lo(vn,`RPC '${e}' stream ${l} transport errored. Name:`,ae.name,"Message:",ae.message),re.a_(new he($.UNAVAILABLE,"The operation could not be completed")))})),ue(w,Yl.EventType.MESSAGE,(ae=>{if(!Y){const Se=ae.data[0];tt(!!Se,16349);const De=Se,Ne=De?.error||De[0]?.error;if(Ne){ge(vn,`RPC '${e}' stream ${l} received error:`,Ne);const We=Ne.status;let ut=(function(x){const N=$t[x];if(N!==void 0)return RT(N)})(We),Ze=Ne.message;ut===void 0&&(ut=$.INTERNAL,Ze="Unknown error status: "+We+" with message "+Ne.message),Y=!0,re.a_(new he(ut,Ze)),w.close()}else ge(vn,`RPC '${e}' stream ${l} received:`,Se),re.u_(Se)}})),ue(p,BE.STAT_EVENT,(ae=>{ae.stat===bm.PROXY?ge(vn,`RPC '${e}' stream ${l} detected buffering proxy`):ae.stat===bm.NOPROXY&&ge(vn,`RPC '${e}' stream ${l} detected no buffering proxy`)})),setTimeout((()=>{re.__()}),0),re}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((i=>i===e))}}function um(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gh(s){return new bR(s,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mg{constructor(e,i,r=1e3,l=1.5,c=6e4){this.Mi=e,this.timerId=i,this.d_=r,this.A_=l,this.R_=c,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const i=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),l=Math.max(0,i-r);l>0&&ge("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.V_} ms, delay with jitter: ${i} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,l,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Iv="PersistentStream";class qT{constructor(e,i,r,l,c,d,p,_){this.Mi=e,this.S_=r,this.b_=l,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=p,this.listener=_,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new mg(e,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,i){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():i&&i.code===$.RESOURCE_EXHAUSTED?(zs(i.toString()),zs("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===$.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(i)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,l])=>{this.D_===i&&this.G_(r,l)}),(r=>{e((()=>{const l=new he($.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(l)}))}))}G_(e,i){const r=this.W_(this.D_);this.stream=this.j_(e,i),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((l=>{r((()=>this.z_(l)))})),this.stream.onMessage((l=>{r((()=>++this.F_==1?this.J_(l):this.onNext(l)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return ge(Iv,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return i=>{this.Mi.enqueueAndForget((()=>this.D_===e?i():(ge(Iv,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class vN extends qT{constructor(e,i,r,l,c,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,r,l,d),this.serializer=c}j_(e,i){return this.connection.T_("Listen",e,i)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const i=xR(this.serializer,e),r=(function(c){if(!("targetChange"in c))return Ie.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?Ie.min():d.readTime?ni(d.readTime):Ie.min()})(e);return this.listener.H_(i,r)}Y_(e){const i={};i.database=Om(this.serializer),i.addTarget=(function(c,d){let p;const _=d.target;if(p=Rm(_)?{documents:NR(c,_)}:{query:IR(c,_).ft},p.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){p.resumeToken=CT(c,d.resumeToken);const y=Cm(c,d.expectedCount);y!==null&&(p.expectedCount=y)}else if(d.snapshotVersion.compareTo(Ie.min())>0){p.readTime=Ah(c,d.snapshotVersion.toTimestamp());const y=Cm(c,d.expectedCount);y!==null&&(p.expectedCount=y)}return p})(this.serializer,e);const r=DR(this.serializer,e);r&&(i.labels=r),this.q_(i)}Z_(e){const i={};i.database=Om(this.serializer),i.removeTarget=e,this.q_(i)}}class EN extends qT{constructor(e,i,r,l,c,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,r,l,d),this.serializer=c}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,i){return this.connection.T_("Write",e,i)}J_(e){return tt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,tt(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){tt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const i=RR(e.writeResults,e.commitTime),r=ni(e.commitTime);return this.listener.na(r,i)}ra(){const e={};e.database=Om(this.serializer),this.q_(e)}ea(e){const i={streamToken:this.lastStreamToken,writes:e.map((r=>VT(this.serializer,r)))};this.q_(i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TN{}class bN extends TN{constructor(e,i,r,l){super(),this.authCredentials=e,this.appCheckCredentials=i,this.connection=r,this.serializer=l,this.ia=!1}sa(){if(this.ia)throw new he($.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,i,r,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Go(e,Dm(i,r),l,c,d))).catch((c=>{throw c.name==="FirebaseError"?(c.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new he($.UNKNOWN,c.toString())}))}Ho(e,i,r,l,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,p])=>this.connection.Ho(e,Dm(i,r),l,d,p,c))).catch((d=>{throw d.name==="FirebaseError"?(d.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new he($.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class AN{constructor(e,i){this.asyncQueue=e,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const i=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(zs(i),this.aa=!1):ge("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ma="RemoteStore";class SN{constructor(e,i,r,l,c){this.localStore=e,this.datastore=i,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=c,this.Aa.Oo((d=>{r.enqueueAndForget((async()=>{Ua(this)&&(ge(Ma,"Restarting streams for network reachability change."),await(async function(_){const y=Oe(_);y.Ea.add(4),await Su(y),y.Ra.set("Unknown"),y.Ea.delete(4),await Qh(y)})(this))}))})),this.Ra=new AN(r,l)}}async function Qh(s){if(Ua(s))for(const e of s.da)await e(!0)}async function Su(s){for(const e of s.da)await e(!1)}function HT(s,e){const i=Oe(s);i.Ia.has(e.targetId)||(i.Ia.set(e.targetId,e),_g(i)?yg(i):$o(i).O_()&&pg(i,e))}function gg(s,e){const i=Oe(s),r=$o(i);i.Ia.delete(e),r.O_()&&FT(i,e),i.Ia.size===0&&(r.O_()?r.L_():Ua(i)&&i.Ra.set("Unknown"))}function pg(s,e){if(s.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ie.min())>0){const i=s.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(i)}$o(s).Y_(e)}function FT(s,e){s.Va.Ue(e),$o(s).Z_(e)}function yg(s){s.Va=new _R({getRemoteKeysForTarget:e=>s.remoteSyncer.getRemoteKeysForTarget(e),At:e=>s.Ia.get(e)||null,ht:()=>s.datastore.serializer.databaseId}),$o(s).start(),s.Ra.ua()}function _g(s){return Ua(s)&&!$o(s).x_()&&s.Ia.size>0}function Ua(s){return Oe(s).Ea.size===0}function GT(s){s.Va=void 0}async function wN(s){s.Ra.set("Online")}async function xN(s){s.Ia.forEach(((e,i)=>{pg(s,e)}))}async function RN(s,e){GT(s),_g(s)?(s.Ra.ha(e),yg(s)):s.Ra.set("Unknown")}async function NN(s,e,i){if(s.Ra.set("Online"),e instanceof IT&&e.state===2&&e.cause)try{await(async function(l,c){const d=c.cause;for(const p of c.targetIds)l.Ia.has(p)&&(await l.remoteSyncer.rejectListen(p,d),l.Ia.delete(p),l.Va.removeTarget(p))})(s,e)}catch(r){ge(Ma,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await xh(s,r)}else if(e instanceof uh?s.Va.Ze(e):e instanceof NT?s.Va.st(e):s.Va.tt(e),!i.isEqual(Ie.min()))try{const r=await BT(s.localStore);i.compareTo(r)>=0&&await(function(c,d){const p=c.Va.Tt(d);return p.targetChanges.forEach(((_,y)=>{if(_.resumeToken.approximateByteSize()>0){const A=c.Ia.get(y);A&&c.Ia.set(y,A.withResumeToken(_.resumeToken,d))}})),p.targetMismatches.forEach(((_,y)=>{const A=c.Ia.get(_);if(!A)return;c.Ia.set(_,A.withResumeToken(yn.EMPTY_BYTE_STRING,A.snapshotVersion)),FT(c,_);const w=new Ir(A.target,_,y,A.sequenceNumber);pg(c,w)})),c.remoteSyncer.applyRemoteEvent(p)})(s,i)}catch(r){ge(Ma,"Failed to raise snapshot:",r),await xh(s,r)}}async function xh(s,e,i){if(!Ko(e))throw e;s.Ea.add(1),await Su(s),s.Ra.set("Offline"),i||(i=()=>BT(s.localStore)),s.asyncQueue.enqueueRetryable((async()=>{ge(Ma,"Retrying IndexedDB access"),await i(),s.Ea.delete(1),await Qh(s)}))}function QT(s,e){return e().catch((i=>xh(s,i,e)))}async function Yh(s){const e=Oe(s),i=zr(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:tg;for(;IN(e);)try{const l=await cN(e.localStore,r);if(l===null){e.Ta.length===0&&i.L_();break}r=l.batchId,CN(e,l)}catch(l){await xh(e,l)}YT(e)&&KT(e)}function IN(s){return Ua(s)&&s.Ta.length<10}function CN(s,e){s.Ta.push(e);const i=zr(s);i.O_()&&i.X_&&i.ea(e.mutations)}function YT(s){return Ua(s)&&!zr(s).x_()&&s.Ta.length>0}function KT(s){zr(s).start()}async function DN(s){zr(s).ra()}async function ON(s){const e=zr(s);for(const i of s.Ta)e.ea(i.mutations)}async function MN(s,e,i){const r=s.Ta.shift(),l=og.from(r,e,i);await QT(s,(()=>s.remoteSyncer.applySuccessfulWrite(l))),await Yh(s)}async function VN(s,e){e&&zr(s).X_&&await(async function(r,l){if((function(d){return xT(d)&&d!==$.ABORTED})(l.code)){const c=r.Ta.shift();zr(r).B_(),await QT(r,(()=>r.remoteSyncer.rejectFailedWrite(c.batchId,l))),await Yh(r)}})(s,e),YT(s)&&KT(s)}async function Cv(s,e){const i=Oe(s);i.asyncQueue.verifyOperationInProgress(),ge(Ma,"RemoteStore received new credentials");const r=Ua(i);i.Ea.add(3),await Su(i),r&&i.Ra.set("Unknown"),await i.remoteSyncer.handleCredentialChange(e),i.Ea.delete(3),await Qh(i)}async function UN(s,e){const i=Oe(s);e?(i.Ea.delete(2),await Qh(i)):e||(i.Ea.add(2),await Su(i),i.Ra.set("Unknown"))}function $o(s){return s.ma||(s.ma=(function(i,r,l){const c=Oe(i);return c.sa(),new vN(r,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(s.datastore,s.asyncQueue,{Xo:wN.bind(null,s),t_:xN.bind(null,s),r_:RN.bind(null,s),H_:NN.bind(null,s)}),s.da.push((async e=>{e?(s.ma.B_(),_g(s)?yg(s):s.Ra.set("Unknown")):(await s.ma.stop(),GT(s))}))),s.ma}function zr(s){return s.fa||(s.fa=(function(i,r,l){const c=Oe(i);return c.sa(),new EN(r,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(s.datastore,s.asyncQueue,{Xo:()=>Promise.resolve(),t_:DN.bind(null,s),r_:VN.bind(null,s),ta:ON.bind(null,s),na:MN.bind(null,s)}),s.da.push((async e=>{e?(s.fa.B_(),await Yh(s)):(await s.fa.stop(),s.Ta.length>0&&(ge(Ma,`Stopping write stream with ${s.Ta.length} pending writes`),s.Ta=[]))}))),s.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vg{constructor(e,i,r,l,c){this.asyncQueue=e,this.timerId=i,this.targetTimeMs=r,this.op=l,this.removalCallback=c,this.deferred=new ns,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,i,r,l,c){const d=Date.now()+r,p=new vg(e,i,d,l,c);return p.start(r),p}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new he($.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Eg(s,e){if(zs("AsyncQueue",`${e}: ${s}`),Ko(s))return new he($.UNAVAILABLE,`${e}: ${s}`);throw s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vo{static emptySet(e){return new Vo(e.comparator)}constructor(e){this.comparator=e?(i,r)=>e(i,r)||be.comparator(i.key,r.key):(i,r)=>be.comparator(i.key,r.key),this.keyedMap=Kl(),this.sortedSet=new Dt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const i=this.keyedMap.get(e);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((i,r)=>(e(i),!1)))}add(e){const i=this.delete(e.key);return i.copy(i.keyedMap.insert(e.key,e),i.sortedSet.insert(e,null))}delete(e){const i=this.get(e);return i?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(i)):this}isEqual(e){if(!(e instanceof Vo)||this.size!==e.size)return!1;const i=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=r.getNext().key;if(!l.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach((i=>{e.push(i.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,i){const r=new Vo;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=i,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dv{constructor(){this.ga=new Dt(be.comparator)}track(e){const i=e.doc.key,r=this.ga.get(i);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(i,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(i,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(i,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(i):e.type===1&&r.type===2?this.ga=this.ga.insert(i,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):we(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(i,e)}ya(){const e=[];return this.ga.inorderTraversal(((i,r)=>{e.push(r)})),e}}class qo{constructor(e,i,r,l,c,d,p,_,y){this.query=e,this.docs=i,this.oldDocs=r,this.docChanges=l,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=p,this.excludesMetadataChanges=_,this.hasCachedResults=y}static fromInitialDocuments(e,i,r,l,c){const d=[];return i.forEach((p=>{d.push({type:0,doc:p})})),new qo(e,i,Vo.emptySet(i),d,r,l,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&jh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const i=this.docChanges,r=e.docChanges;if(i.length!==r.length)return!1;for(let l=0;l<i.length;l++)if(i[l].type!==r[l].type||!i[l].doc.isEqual(r[l].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PN{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class LN{constructor(){this.queries=Ov(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,r){const l=Oe(i),c=l.queries;l.queries=Ov(),c.forEach(((d,p)=>{for(const _ of p.Sa)_.onError(r)}))})(this,new he($.ABORTED,"Firestore shutting down"))}}function Ov(){return new Va((s=>hT(s)),jh)}async function Tg(s,e){const i=Oe(s);let r=3;const l=e.query;let c=i.queries.get(l);c?!c.ba()&&e.Da()&&(r=2):(c=new PN,r=e.Da()?0:1);try{switch(r){case 0:c.wa=await i.onListen(l,!0);break;case 1:c.wa=await i.onListen(l,!1);break;case 2:await i.onFirstRemoteStoreListen(l)}}catch(d){const p=Eg(d,`Initialization of query '${Ro(e.query)}' failed`);return void e.onError(p)}i.queries.set(l,c),c.Sa.push(e),e.va(i.onlineState),c.wa&&e.Fa(c.wa)&&Ag(i)}async function bg(s,e){const i=Oe(s),r=e.query;let l=3;const c=i.queries.get(r);if(c){const d=c.Sa.indexOf(e);d>=0&&(c.Sa.splice(d,1),c.Sa.length===0?l=e.Da()?0:1:!c.ba()&&e.Da()&&(l=2))}switch(l){case 0:return i.queries.delete(r),i.onUnlisten(r,!0);case 1:return i.queries.delete(r),i.onUnlisten(r,!1);case 2:return i.onLastRemoteStoreUnlisten(r);default:return}}function kN(s,e){const i=Oe(s);let r=!1;for(const l of e){const c=l.query,d=i.queries.get(c);if(d){for(const p of d.Sa)p.Fa(l)&&(r=!0);d.wa=l}}r&&Ag(i)}function jN(s,e,i){const r=Oe(s),l=r.queries.get(e);if(l)for(const c of l.Sa)c.onError(i);r.queries.delete(e)}function Ag(s){s.Ca.forEach((e=>{e.next()}))}var Um,Mv;(Mv=Um||(Um={})).Ma="default",Mv.Cache="cache";class Sg{constructor(e,i,r){this.query=e,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const l of e.docChanges)l.type!==3&&r.push(l);e=new qo(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let i=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),i=!0):this.La(e,this.onlineState)&&(this.ka(e),i=!0),this.Na=e,i}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),i=!0),i}La(e,i){if(!e.fromCache||!this.Da())return!0;const r=i!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||i==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(e){e=qo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Um.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XT{constructor(e){this.key=e}}class $T{constructor(e){this.key=e}}class zN{constructor(e,i){this.query=e,this.Ya=i,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=$e(),this.mutatedKeys=$e(),this.eu=fT(e),this.tu=new Vo(this.eu)}get nu(){return this.Ya}ru(e,i){const r=i?i.iu:new Dv,l=i?i.tu:this.tu;let c=i?i.mutatedKeys:this.mutatedKeys,d=l,p=!1;const _=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,y=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(e.inorderTraversal(((A,w)=>{const C=l.get(A),Y=zh(this.query,w)?w:null,re=!!C&&this.mutatedKeys.has(C.key),ue=!!Y&&(Y.hasLocalMutations||this.mutatedKeys.has(Y.key)&&Y.hasCommittedMutations);let ae=!1;C&&Y?C.data.isEqual(Y.data)?re!==ue&&(r.track({type:3,doc:Y}),ae=!0):this.su(C,Y)||(r.track({type:2,doc:Y}),ae=!0,(_&&this.eu(Y,_)>0||y&&this.eu(Y,y)<0)&&(p=!0)):!C&&Y?(r.track({type:0,doc:Y}),ae=!0):C&&!Y&&(r.track({type:1,doc:C}),ae=!0,(_||y)&&(p=!0)),ae&&(Y?(d=d.add(Y),c=ue?c.add(A):c.delete(A)):(d=d.delete(A),c=c.delete(A)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const A=this.query.limitType==="F"?d.last():d.first();d=d.delete(A.key),c=c.delete(A.key),r.track({type:1,doc:A})}return{tu:d,iu:r,Cs:p,mutatedKeys:c}}su(e,i){return e.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(e,i,r,l){const c=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const d=e.iu.ya();d.sort(((A,w)=>(function(Y,re){const ue=ae=>{switch(ae){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return we(20277,{Rt:ae})}};return ue(Y)-ue(re)})(A.type,w.type)||this.eu(A.doc,w.doc))),this.ou(r),l=l??!1;const p=i&&!l?this._u():[],_=this.Xa.size===0&&this.current&&!l?1:0,y=_!==this.Za;return this.Za=_,d.length!==0||y?{snapshot:new qo(this.query,e.tu,c,d,e.mutatedKeys,_===0,y,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:p}:{au:p}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new Dv,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((i=>this.Ya=this.Ya.add(i))),e.modifiedDocuments.forEach((i=>{})),e.removedDocuments.forEach((i=>this.Ya=this.Ya.delete(i))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=$e(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const i=[];return e.forEach((r=>{this.Xa.has(r)||i.push(new $T(r))})),this.Xa.forEach((r=>{e.has(r)||i.push(new XT(r))})),i}cu(e){this.Ya=e.Qs,this.Xa=$e();const i=this.ru(e.documents);return this.applyChanges(i,!0)}lu(){return qo.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const wg="SyncEngine";class BN{constructor(e,i,r){this.query=e,this.targetId=i,this.view=r}}class qN{constructor(e){this.key=e,this.hu=!1}}class HN{constructor(e,i,r,l,c,d){this.localStore=e,this.remoteStore=i,this.eventManager=r,this.sharedClientState=l,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new Va((p=>hT(p)),jh),this.Iu=new Map,this.Eu=new Set,this.du=new Dt(be.comparator),this.Au=new Map,this.Ru=new cg,this.Vu={},this.mu=new Map,this.fu=Bo.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function FN(s,e,i=!0){const r=n1(s);let l;const c=r.Tu.get(e);return c?(r.sharedClientState.addLocalQueryTarget(c.targetId),l=c.view.lu()):l=await ZT(r,e,i,!0),l}async function GN(s,e){const i=n1(s);await ZT(i,e,!0,!1)}async function ZT(s,e,i,r){const l=await hN(s.localStore,is(e)),c=l.targetId,d=s.sharedClientState.addLocalQueryTarget(c,i);let p;return r&&(p=await QN(s,e,c,d==="current",l.resumeToken)),s.isPrimaryClient&&i&&HT(s.remoteStore,l),p}async function QN(s,e,i,r,l){s.pu=(w,C,Y)=>(async function(ue,ae,Se,De){let Ne=ae.view.ru(Se);Ne.Cs&&(Ne=await wv(ue.localStore,ae.query,!1).then((({documents:D})=>ae.view.ru(D,Ne))));const We=De&&De.targetChanges.get(ae.targetId),ut=De&&De.targetMismatches.get(ae.targetId)!=null,Ze=ae.view.applyChanges(Ne,ue.isPrimaryClient,We,ut);return Uv(ue,ae.targetId,Ze.au),Ze.snapshot})(s,w,C,Y);const c=await wv(s.localStore,e,!0),d=new zN(e,c.Qs),p=d.ru(c.documents),_=Au.createSynthesizedTargetChangeForCurrentChange(i,r&&s.onlineState!=="Offline",l),y=d.applyChanges(p,s.isPrimaryClient,_);Uv(s,i,y.au);const A=new BN(e,i,d);return s.Tu.set(e,A),s.Iu.has(i)?s.Iu.get(i).push(e):s.Iu.set(i,[e]),y.snapshot}async function YN(s,e,i){const r=Oe(s),l=r.Tu.get(e),c=r.Iu.get(l.targetId);if(c.length>1)return r.Iu.set(l.targetId,c.filter((d=>!jh(d,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(l.targetId),r.sharedClientState.isActiveQueryTarget(l.targetId)||await Mm(r.localStore,l.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(l.targetId),i&&gg(r.remoteStore,l.targetId),Pm(r,l.targetId)})).catch(Yo)):(Pm(r,l.targetId),await Mm(r.localStore,l.targetId,!0))}async function KN(s,e){const i=Oe(s),r=i.Tu.get(e),l=i.Iu.get(r.targetId);i.isPrimaryClient&&l.length===1&&(i.sharedClientState.removeLocalQueryTarget(r.targetId),gg(i.remoteStore,r.targetId))}async function XN(s,e,i){const r=nI(s);try{const l=await(function(d,p){const _=Oe(d),y=wt.now(),A=p.reduce(((Y,re)=>Y.add(re.key)),$e());let w,C;return _.persistence.runTransaction("Locally write mutations","readwrite",(Y=>{let re=Bs(),ue=$e();return _.Ns.getEntries(Y,A).next((ae=>{re=ae,re.forEach(((Se,De)=>{De.isValidDocument()||(ue=ue.add(Se))}))})).next((()=>_.localDocuments.getOverlayedDocuments(Y,re))).next((ae=>{w=ae;const Se=[];for(const De of p){const Ne=fR(De,w.get(De.key).overlayedDocument);Ne!=null&&Se.push(new Hr(De.key,Ne,iT(Ne.value.mapValue),pn.exists(!0)))}return _.mutationQueue.addMutationBatch(Y,y,Se,p)})).next((ae=>{C=ae;const Se=ae.applyToLocalDocumentSet(w,ue);return _.documentOverlayCache.saveOverlays(Y,ae.batchId,Se)}))})).then((()=>({batchId:C.batchId,changes:mT(w)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(l.batchId),(function(d,p,_){let y=d.Vu[d.currentUser.toKey()];y||(y=new Dt(Xe)),y=y.insert(p,_),d.Vu[d.currentUser.toKey()]=y})(r,l.batchId,i),await wu(r,l.changes),await Yh(r.remoteStore)}catch(l){const c=Eg(l,"Failed to persist write");i.reject(c)}}async function JT(s,e){const i=Oe(s);try{const r=await lN(i.localStore,e);e.targetChanges.forEach(((l,c)=>{const d=i.Au.get(c);d&&(tt(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1,22616),l.addedDocuments.size>0?d.hu=!0:l.modifiedDocuments.size>0?tt(d.hu,14607):l.removedDocuments.size>0&&(tt(d.hu,42227),d.hu=!1))})),await wu(i,r,e)}catch(r){await Yo(r)}}function Vv(s,e,i){const r=Oe(s);if(r.isPrimaryClient&&i===0||!r.isPrimaryClient&&i===1){const l=[];r.Tu.forEach(((c,d)=>{const p=d.view.va(e);p.snapshot&&l.push(p.snapshot)})),(function(d,p){const _=Oe(d);_.onlineState=p;let y=!1;_.queries.forEach(((A,w)=>{for(const C of w.Sa)C.va(p)&&(y=!0)})),y&&Ag(_)})(r.eventManager,e),l.length&&r.Pu.H_(l),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function $N(s,e,i){const r=Oe(s);r.sharedClientState.updateQueryState(e,"rejected",i);const l=r.Au.get(e),c=l&&l.key;if(c){let d=new Dt(be.comparator);d=d.insert(c,ln.newNoDocument(c,Ie.min()));const p=$e().add(c),_=new Fh(Ie.min(),new Map,new Dt(Xe),d,p);await JT(r,_),r.du=r.du.remove(c),r.Au.delete(e),xg(r)}else await Mm(r.localStore,e,!1).then((()=>Pm(r,e,i))).catch(Yo)}async function ZN(s,e){const i=Oe(s),r=e.batch.batchId;try{const l=await oN(i.localStore,e);e1(i,r,null),WT(i,r),i.sharedClientState.updateMutationState(r,"acknowledged"),await wu(i,l)}catch(l){await Yo(l)}}async function JN(s,e,i){const r=Oe(s);try{const l=await(function(d,p){const _=Oe(d);return _.persistence.runTransaction("Reject batch","readwrite-primary",(y=>{let A;return _.mutationQueue.lookupMutationBatch(y,p).next((w=>(tt(w!==null,37113),A=w.keys(),_.mutationQueue.removeMutationBatch(y,w)))).next((()=>_.mutationQueue.performConsistencyCheck(y))).next((()=>_.documentOverlayCache.removeOverlaysForBatchId(y,A,p))).next((()=>_.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,A))).next((()=>_.localDocuments.getDocuments(y,A)))}))})(r.localStore,e);e1(r,e,i),WT(r,e),r.sharedClientState.updateMutationState(e,"rejected",i),await wu(r,l)}catch(l){await Yo(l)}}function WT(s,e){(s.mu.get(e)||[]).forEach((i=>{i.resolve()})),s.mu.delete(e)}function e1(s,e,i){const r=Oe(s);let l=r.Vu[r.currentUser.toKey()];if(l){const c=l.get(e);c&&(i?c.reject(i):c.resolve(),l=l.remove(e)),r.Vu[r.currentUser.toKey()]=l}}function Pm(s,e,i=null){s.sharedClientState.removeLocalQueryTarget(e);for(const r of s.Iu.get(e))s.Tu.delete(r),i&&s.Pu.yu(r,i);s.Iu.delete(e),s.isPrimaryClient&&s.Ru.jr(e).forEach((r=>{s.Ru.containsKey(r)||t1(s,r)}))}function t1(s,e){s.Eu.delete(e.path.canonicalString());const i=s.du.get(e);i!==null&&(gg(s.remoteStore,i),s.du=s.du.remove(e),s.Au.delete(i),xg(s))}function Uv(s,e,i){for(const r of i)r instanceof XT?(s.Ru.addReference(r.key,e),WN(s,r)):r instanceof $T?(ge(wg,"Document no longer in limbo: "+r.key),s.Ru.removeReference(r.key,e),s.Ru.containsKey(r.key)||t1(s,r.key)):we(19791,{wu:r})}function WN(s,e){const i=e.key,r=i.path.canonicalString();s.du.get(i)||s.Eu.has(r)||(ge(wg,"New document in limbo: "+i),s.Eu.add(r),xg(s))}function xg(s){for(;s.Eu.size>0&&s.du.size<s.maxConcurrentLimboResolutions;){const e=s.Eu.values().next().value;s.Eu.delete(e);const i=new be(yt.fromString(e)),r=s.fu.next();s.Au.set(r,new qN(i)),s.du=s.du.insert(i,r),HT(s.remoteStore,new Ir(is(kh(i.path)),r,"TargetPurposeLimboResolution",Ph.ce))}}async function wu(s,e,i){const r=Oe(s),l=[],c=[],d=[];r.Tu.isEmpty()||(r.Tu.forEach(((p,_)=>{d.push(r.pu(_,e,i).then((y=>{if((y||i)&&r.isPrimaryClient){const A=y?!y.fromCache:i?.targetChanges.get(_.targetId)?.current;r.sharedClientState.updateQueryState(_.targetId,A?"current":"not-current")}if(y){l.push(y);const A=fg.As(_.targetId,y);c.push(A)}})))})),await Promise.all(d),r.Pu.H_(l),await(async function(_,y){const A=Oe(_);try{await A.persistence.runTransaction("notifyLocalViewChanges","readwrite",(w=>ee.forEach(y,(C=>ee.forEach(C.Es,(Y=>A.persistence.referenceDelegate.addReference(w,C.targetId,Y))).next((()=>ee.forEach(C.ds,(Y=>A.persistence.referenceDelegate.removeReference(w,C.targetId,Y)))))))))}catch(w){if(!Ko(w))throw w;ge(dg,"Failed to update sequence numbers: "+w)}for(const w of y){const C=w.targetId;if(!w.fromCache){const Y=A.Ms.get(C),re=Y.snapshotVersion,ue=Y.withLastLimboFreeSnapshotVersion(re);A.Ms=A.Ms.insert(C,ue)}}})(r.localStore,c))}async function eI(s,e){const i=Oe(s);if(!i.currentUser.isEqual(e)){ge(wg,"User change. New user:",e.toKey());const r=await zT(i.localStore,e);i.currentUser=e,(function(c,d){c.mu.forEach((p=>{p.forEach((_=>{_.reject(new he($.CANCELLED,d))}))})),c.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await wu(i,r.Ls)}}function tI(s,e){const i=Oe(s),r=i.Au.get(e);if(r&&r.hu)return $e().add(r.key);{let l=$e();const c=i.Iu.get(e);if(!c)return l;for(const d of c){const p=i.Tu.get(d);l=l.unionWith(p.view.nu)}return l}}function n1(s){const e=Oe(s);return e.remoteStore.remoteSyncer.applyRemoteEvent=JT.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=tI.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=$N.bind(null,e),e.Pu.H_=kN.bind(null,e.eventManager),e.Pu.yu=jN.bind(null,e.eventManager),e}function nI(s){const e=Oe(s);return e.remoteStore.remoteSyncer.applySuccessfulWrite=ZN.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=JN.bind(null,e),e}class Rh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Gh(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,i){return null}Mu(e,i){return null}vu(e){return aN(this.persistence,new iN,e.initialUser,this.serializer)}Cu(e){return new jT(hg.mi,this.serializer)}Du(e){return new dN}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Rh.provider={build:()=>new Rh};class iI extends Rh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,i){tt(this.persistence.referenceDelegate instanceof wh,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new qR(r,e.asyncQueue,i)}Cu(e){const i=this.cacheSizeBytes!==void 0?jn.withCacheSize(this.cacheSizeBytes):jn.DEFAULT;return new jT((r=>wh.mi(r,i)),this.serializer)}}class Lm{async initialize(e,i){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>Vv(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=eI.bind(null,this.syncEngine),await UN(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new LN})()}createDatastore(e){const i=Gh(e.databaseInfo.databaseId),r=(function(c){return new _N(c)})(e.databaseInfo);return(function(c,d,p,_){return new bN(c,d,p,_)})(e.authCredentials,e.appCheckCredentials,r,i)}createRemoteStore(e){return(function(r,l,c,d,p){return new SN(r,l,c,d,p)})(this.localStore,this.datastore,e.asyncQueue,(i=>Vv(this.syncEngine,i,0)),(function(){return Nv.v()?new Nv:new mN})())}createSyncEngine(e,i){return(function(l,c,d,p,_,y,A){const w=new HN(l,c,d,p,_,y);return A&&(w.gu=!0),w})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const r=Oe(i);ge(Ma,"RemoteStore shutting down."),r.Ea.add(5),await Su(r),r.Aa.shutdown(),r.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Lm.provider={build:()=>new Lm};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rg{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):zs("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,i){setTimeout((()=>{this.muted||e(i)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sI{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}async lookup(e){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw this.lastTransactionError=new he($.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),this.lastTransactionError;const i=await(async function(l,c){const d=Oe(l),p={documents:c.map((w=>Sh(d.serializer,w)))},_=await d.Ho("BatchGetDocuments",d.serializer.databaseId,yt.emptyPath(),p,c.length),y=new Map;_.forEach((w=>{const C=wR(d.serializer,w);y.set(C.key.toString(),C)}));const A=[];return c.forEach((w=>{const C=y.get(w.toString());tt(!!C,55234,{key:w}),A.push(C)})),A})(this.datastore,e);return i.forEach((r=>this.recordVersion(r))),i}set(e,i){this.write(i.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,i){try{this.write(i.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastTransactionError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new Hh(e,this.precondition(e))),this.writtenDocs.add(e.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastTransactionError)throw this.lastTransactionError;const e=this.readVersions;this.mutations.forEach((i=>{e.delete(i.key.toString())})),e.forEach(((i,r)=>{const l=be.fromPath(r);this.mutations.push(new wT(l,this.precondition(l)))})),await(async function(r,l){const c=Oe(r),d={writes:l.map((p=>VT(c.serializer,p)))};await c.Go("Commit",c.serializer.databaseId,yt.emptyPath(),d)})(this.datastore,this.mutations),this.committed=!0}recordVersion(e){let i;if(e.isFoundDocument())i=e.version;else{if(!e.isNoDocument())throw we(50498,{Gu:e.constructor.name});i=Ie.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!i.isEqual(r))throw new he($.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),i)}precondition(e){const i=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&i?i.isEqual(Ie.min())?pn.exists(!1):pn.updateTime(i):pn.none()}preconditionForUpdate(e){const i=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&i){if(i.isEqual(Ie.min()))throw new he($.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return pn.updateTime(i)}return pn.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rI{constructor(e,i,r,l,c){this.asyncQueue=e,this.datastore=i,this.options=r,this.updateFunction=l,this.deferred=c,this.zu=r.maxAttempts,this.M_=new mg(this.asyncQueue,"transaction_retry")}ju(){this.zu-=1,this.Ju()}Ju(){this.M_.p_((async()=>{const e=new sI(this.datastore),i=this.Hu(e);i&&i.then((r=>{this.asyncQueue.enqueueAndForget((()=>e.commit().then((()=>{this.deferred.resolve(r)})).catch((l=>{this.Yu(l)}))))})).catch((r=>{this.Yu(r)}))}))}Hu(e){try{const i=this.updateFunction(e);return!Tu(i)&&i.catch&&i.then?i:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(i){return this.deferred.reject(i),null}}Yu(e){this.zu>0&&this.Zu(e)?(this.zu-=1,this.asyncQueue.enqueueAndForget((()=>(this.Ju(),Promise.resolve())))):this.deferred.reject(e)}Zu(e){if(e?.name==="FirebaseError"){const i=e.code;return i==="aborted"||i==="failed-precondition"||i==="already-exists"||!xT(i)}return!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Br="FirestoreClient";class aI{constructor(e,i,r,l,c){this.authCredentials=e,this.appCheckCredentials=i,this.asyncQueue=r,this.databaseInfo=l,this.user=En.UNAUTHENTICATED,this.clientId=eg.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(r,(async d=>{ge(Br,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(r,(d=>(ge(Br,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ns;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(i){const r=Eg(i,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function cm(s,e){s.asyncQueue.verifyOperationInProgress(),ge(Br,"Initializing OfflineComponentProvider");const i=s.configuration;await e.initialize(i);let r=i.initialUser;s.setCredentialChangeListener((async l=>{r.isEqual(l)||(await zT(e.localStore,l),r=l)})),e.persistence.setDatabaseDeletedListener((()=>s.terminate())),s._offlineComponents=e}async function Pv(s,e){s.asyncQueue.verifyOperationInProgress();const i=await oI(s);ge(Br,"Initializing OnlineComponentProvider"),await e.initialize(i,s.configuration),s.setCredentialChangeListener((r=>Cv(e.remoteStore,r))),s.setAppCheckTokenChangeListener(((r,l)=>Cv(e.remoteStore,l))),s._onlineComponents=e}async function oI(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){ge(Br,"Using user provided OfflineComponentProvider");try{await cm(s,s._uninitializedComponentsProvider._offline)}catch(e){const i=e;if(!(function(l){return l.name==="FirebaseError"?l.code===$.FAILED_PRECONDITION||l.code===$.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11})(i))throw i;Lo("Error using user provided cache. Falling back to memory cache: "+i),await cm(s,new Rh)}}else ge(Br,"Using default OfflineComponentProvider"),await cm(s,new iI(void 0));return s._offlineComponents}async function Ng(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(ge(Br,"Using user provided OnlineComponentProvider"),await Pv(s,s._uninitializedComponentsProvider._online)):(ge(Br,"Using default OnlineComponentProvider"),await Pv(s,new Lm))),s._onlineComponents}function lI(s){return Ng(s).then((e=>e.syncEngine))}function uI(s){return Ng(s).then((e=>e.datastore))}async function Nh(s){const e=await Ng(s),i=e.eventManager;return i.onListen=FN.bind(null,e.syncEngine),i.onUnlisten=YN.bind(null,e.syncEngine),i.onFirstRemoteStoreListen=GN.bind(null,e.syncEngine),i.onLastRemoteStoreUnlisten=KN.bind(null,e.syncEngine),i}function cI(s,e,i={}){const r=new ns;return s.asyncQueue.enqueueAndForget((async()=>(function(c,d,p,_,y){const A=new Rg({next:C=>{A.Nu(),d.enqueueAndForget((()=>bg(c,w)));const Y=C.docs.has(p);!Y&&C.fromCache?y.reject(new he($.UNAVAILABLE,"Failed to get document because the client is offline.")):Y&&C.fromCache&&_&&_.source==="server"?y.reject(new he($.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(C)},error:C=>y.reject(C)}),w=new Sg(kh(p.path),A,{includeMetadataChanges:!0,qa:!0});return Tg(c,w)})(await Nh(s),s.asyncQueue,e,i,r))),r.promise}function hI(s,e,i={}){const r=new ns;return s.asyncQueue.enqueueAndForget((async()=>(function(c,d,p,_,y){const A=new Rg({next:C=>{A.Nu(),d.enqueueAndForget((()=>bg(c,w))),C.fromCache&&_.source==="server"?y.reject(new he($.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):y.resolve(C)},error:C=>y.reject(C)}),w=new Sg(p,A,{includeMetadataChanges:!0,qa:!0});return Tg(c,w)})(await Nh(s),s.asyncQueue,e,i,r))),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i1(s){const e={};return s.timeoutSeconds!==void 0&&(e.timeoutSeconds=s.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lv=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s1="firestore.googleapis.com",kv=!0;class jv{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new he($.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=s1,this.ssl=kv}else this.host=e.host,this.ssl=e.ssl??kv;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=kT;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<zR)throw new he($.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}R2("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=i1(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new he($.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new he($.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new he($.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,l){return r.timeoutSeconds===l.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Kh{constructor(e,i,r,l){this._authCredentials=e,this._appCheckCredentials=i,this._databaseId=r,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new jv({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new he($.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new he($.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new jv(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new y2;switch(r.type){case"firstParty":return new T2(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new he($.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const r=Lv.get(i);r&&(ge("ComponentProvider","Removing Datastore"),Lv.delete(i),r.terminate())})(this),Promise.resolve()}}function fI(s,e,i,r={}){s=In(s,Kh);const l=Ho(e),c=s._getSettings(),d={...c,emulatorOptions:s._getEmulatorOptions()},p=`${e}:${i}`;l&&(eE(`https://${p}`),tE("Firestore",!0)),c.host!==s1&&c.host!==p&&Lo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const _={...c,host:p,ssl:l,emulatorOptions:r};if(!Ia(_,d)&&(s._setSettings(_),r.mockUserToken)){let y,A;if(typeof r.mockUserToken=="string")y=r.mockUserToken,A=En.MOCK_USER;else{y=BA(r.mockUserToken,s._app?.options.projectId);const w=r.mockUserToken.sub||r.mockUserToken.user_id;if(!w)throw new he($.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");A=new En(w)}s._authCredentials=new _2(new GE(y,A))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fr{constructor(e,i,r){this.converter=i,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Fr(this.firestore,e,this._query)}}class Ct{constructor(e,i,r){this.converter=i,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Vr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ct(this.firestore,e,this._key)}toJSON(){return{type:Ct._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,i,r){if(Eu(i,Ct._jsonSchema))return new Ct(e,r||null,new be(yt.fromString(i.referencePath)))}}Ct._jsonSchemaVersion="firestore/documentReference/1.0",Ct._jsonSchema={type:Jt("string",Ct._jsonSchemaVersion),referencePath:Jt("string")};class Vr extends Fr{constructor(e,i,r){super(e,i,kh(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ct(this.firestore,null,new be(e))}withConverter(e){return new Vr(this.firestore,e,this._path)}}function bi(s,e,...i){if(s=Wt(s),QE("collection","path",e),s instanceof Kh){const r=yt.fromString(e,...i);return J0(r),new Vr(s,null,r)}{if(!(s instanceof Ct||s instanceof Vr))throw new he($.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=s._path.child(yt.fromString(e,...i));return J0(r),new Vr(s.firestore,null,r)}}function Et(s,e,...i){if(s=Wt(s),arguments.length===1&&(e=eg.newId()),QE("doc","path",e),s instanceof Kh){const r=yt.fromString(e,...i);return Z0(r),new Ct(s,null,new be(r))}{if(!(s instanceof Ct||s instanceof Vr))throw new he($.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=s._path.child(yt.fromString(e,...i));return Z0(r),new Ct(s.firestore,s instanceof Vr?s.converter:null,new be(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zv="AsyncQueue";class Bv{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new mg(this,"async_queue_retry"),this._c=()=>{const r=um();r&&ge(zv,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const i=um();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const i=um();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new ns;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Ko(e))throw e;ge(zv,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const i=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,zs("INTERNAL UNHANDLED ERROR: ",qv(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=i,i}enqueueAfterDelay(e,i,r){this.uc(),this.oc.indexOf(e)>-1&&(i=0);const l=vg.createAndSchedule(this,e,i,r,(c=>this.hc(c)));return this.tc.push(l),l}uc(){this.nc&&we(47125,{Pc:qv(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const i of this.tc)if(i.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((i,r)=>i.targetTimeMs-r.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),e!=="all"&&i.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const i=this.tc.indexOf(e);this.tc.splice(i,1)}}function qv(s){let e=s.message||"";return s.stack&&(e=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hv(s){return(function(i,r){if(typeof i!="object"||i===null)return!1;const l=i;for(const c of r)if(c in l&&typeof l[c]=="function")return!0;return!1})(s,["next","error","complete"])}class ls extends Kh{constructor(e,i,r,l){super(e,i,r,l),this.type="firestore",this._queue=new Bv,this._persistenceKey=l?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Bv(e),this._firestoreClient=void 0,await e}}}function dI(s,e){const i=typeof s=="object"?s:rE(),r=typeof s=="string"?s:Eh,l=qm(i,"firestore").getImmediate({identifier:r});if(!l._initialized){const c=jA("firestore");c&&fI(l,...c)}return l}function xu(s){if(s._terminated)throw new he($.FAILED_PRECONDITION,"The client has already been terminated.");return s._firestoreClient||mI(s),s._firestoreClient}function mI(s){const e=s._freezeSettings(),i=(function(l,c,d,p){return new k2(l,c,d,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,i1(p.experimentalLongPollingOptions),p.useFetchStreams,p.isUsingEmulator)})(s._databaseId,s._app?.options.appId||"",s._persistenceKey,e);s._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(s._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),s._firestoreClient=new aI(s._authCredentials,s._appCheckCredentials,s._queue,i,s._componentsProvider&&(function(l){const c=l?._online.build();return{_offline:l?._offline.build(c),_online:c}})(s._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ei{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ei(yn.fromBase64String(e))}catch(i){throw new he($.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(e){return new ei(yn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:ei._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Eu(e,ei._jsonSchema))return ei.fromBase64String(e.bytes)}}ei._jsonSchemaVersion="firestore/bytes/1.0",ei._jsonSchema={type:Jt("string",ei._jsonSchemaVersion),bytes:Jt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ru{constructor(...e){for(let i=0;i<e.length;++i)if(e[i].length===0)throw new he($.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new gn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nu{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ss{constructor(e,i){if(!isFinite(e)||e<-90||e>90)throw new he($.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(i)||i<-180||i>180)throw new he($.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=e,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Xe(this._lat,e._lat)||Xe(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:ss._jsonSchemaVersion}}static fromJSON(e){if(Eu(e,ss._jsonSchema))return new ss(e.latitude,e.longitude)}}ss._jsonSchemaVersion="firestore/geoPoint/1.0",ss._jsonSchema={type:Jt("string",ss._jsonSchemaVersion),latitude:Jt("number"),longitude:Jt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rs{constructor(e){this._values=(e||[]).map((i=>i))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,l){if(r.length!==l.length)return!1;for(let c=0;c<r.length;++c)if(r[c]!==l[c])return!1;return!0})(this._values,e._values)}toJSON(){return{type:rs._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Eu(e,rs._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((i=>typeof i=="number")))return new rs(e.vectorValues);throw new he($.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}rs._jsonSchemaVersion="firestore/vectorValue/1.0",rs._jsonSchema={type:Jt("string",rs._jsonSchemaVersion),vectorValues:Jt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gI=/^__.*__$/;class pI{constructor(e,i,r){this.data=e,this.fieldMask=i,this.fieldTransforms=r}toMutation(e,i){return this.fieldMask!==null?new Hr(e,this.data,this.fieldMask,i,this.fieldTransforms):new bu(e,this.data,i,this.fieldTransforms)}}class r1{constructor(e,i,r){this.data=e,this.fieldMask=i,this.fieldTransforms=r}toMutation(e,i){return new Hr(e,this.data,this.fieldMask,i,this.fieldTransforms)}}function a1(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw we(40011,{Ac:s})}}class Ig{constructor(e,i,r,l,c,d){this.settings=e,this.databaseId=i,this.serializer=r,this.ignoreUndefinedProperties=l,c===void 0&&this.Rc(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Ig({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const i=this.path?.child(e),r=this.Vc({path:i,fc:!1});return r.gc(e),r}yc(e){const i=this.path?.child(e),r=this.Vc({path:i,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Ih(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((i=>e.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>e.isPrefixOf(i.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(a1(this.Ac)&&gI.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class yI{constructor(e,i,r){this.databaseId=e,this.ignoreUndefinedProperties=i,this.serializer=r||Gh(e)}Cc(e,i,r,l=!1){return new Ig({Ac:e,methodName:i,Dc:r,path:gn.emptyPath(),fc:!1,bc:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Iu(s){const e=s._freezeSettings(),i=Gh(s._databaseId);return new yI(s._databaseId,!!e.ignoreUndefinedProperties,i)}function Cg(s,e,i,r,l,c={}){const d=s.Cc(c.merge||c.mergeFields?2:0,e,i,l);Mg("Data must be an object, but it was:",d,r);const p=u1(r,d);let _,y;if(c.merge)_=new ti(d.fieldMask),y=d.fieldTransforms;else if(c.mergeFields){const A=[];for(const w of c.mergeFields){const C=km(e,w,i);if(!d.contains(C))throw new he($.INVALID_ARGUMENT,`Field '${C}' is specified in your field mask but missing from your input data.`);h1(A,C)||A.push(C)}_=new ti(A),y=d.fieldTransforms.filter((w=>_.covers(w.field)))}else _=null,y=d.fieldTransforms;return new pI(new Nn(p),_,y)}class Xh extends Nu{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Xh}}class Dg extends Nu{_toFieldTransform(e){return new bT(e.path,new hu)}isEqual(e){return e instanceof Dg}}class Og extends Nu{constructor(e,i){super(e),this.Fc=i}_toFieldTransform(e){const i=new mu(e.serializer,yT(e.serializer,this.Fc));return new bT(e.path,i)}isEqual(e){return e instanceof Og&&this.Fc===e.Fc}}function o1(s,e,i,r){const l=s.Cc(1,e,i);Mg("Data must be an object, but it was:",l,r);const c=[],d=Nn.empty();qr(r,((_,y)=>{const A=Vg(e,_,i);y=Wt(y);const w=l.yc(A);if(y instanceof Xh)c.push(A);else{const C=Cu(y,w);C!=null&&(c.push(A),d.set(A,C))}}));const p=new ti(c);return new r1(d,p,l.fieldTransforms)}function l1(s,e,i,r,l,c){const d=s.Cc(1,e,i),p=[km(e,r,i)],_=[l];if(c.length%2!=0)throw new he($.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let C=0;C<c.length;C+=2)p.push(km(e,c[C])),_.push(c[C+1]);const y=[],A=Nn.empty();for(let C=p.length-1;C>=0;--C)if(!h1(y,p[C])){const Y=p[C];let re=_[C];re=Wt(re);const ue=d.yc(Y);if(re instanceof Xh)y.push(Y);else{const ae=Cu(re,ue);ae!=null&&(y.push(Y),A.set(Y,ae))}}const w=new ti(y);return new r1(A,w,d.fieldTransforms)}function _I(s,e,i,r=!1){return Cu(i,s.Cc(r?4:3,e))}function Cu(s,e){if(c1(s=Wt(s)))return Mg("Unsupported field value:",e,s),u1(s,e);if(s instanceof Nu)return(function(r,l){if(!a1(l.Ac))throw l.Sc(`${r._methodName}() can only be used with update() and set()`);if(!l.path)throw l.Sc(`${r._methodName}() is not currently supported inside arrays`);const c=r._toFieldTransform(l);c&&l.fieldTransforms.push(c)})(s,e),null;if(s===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),s instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(r,l){const c=[];let d=0;for(const p of r){let _=Cu(p,l.wc(d));_==null&&(_={nullValue:"NULL_VALUE"}),c.push(_),d++}return{arrayValue:{values:c}}})(s,e)}return(function(r,l){if((r=Wt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return yT(l.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const c=wt.fromDate(r);return{timestampValue:Ah(l.serializer,c)}}if(r instanceof wt){const c=new wt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Ah(l.serializer,c)}}if(r instanceof ss)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof ei)return{bytesValue:CT(l.serializer,r._byteString)};if(r instanceof Ct){const c=l.databaseId,d=r.firestore._databaseId;if(!d.isEqual(c))throw l.Sc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:ug(r.firestore._databaseId||l.databaseId,r._key.path)}}if(r instanceof rs)return(function(d,p){return{mapValue:{fields:{[tT]:{stringValue:nT},[Th]:{arrayValue:{values:d.toArray().map((y=>{if(typeof y!="number")throw p.Sc("VectorValues must only contain numeric values.");return ag(p.serializer,y)}))}}}}}})(r,l);throw l.Sc(`Unsupported field value: ${Uh(r)}`)})(s,e)}function u1(s,e){const i={};return XE(s)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):qr(s,((r,l)=>{const c=Cu(l,e.mc(r));c!=null&&(i[r]=c)})),{mapValue:{fields:i}}}function c1(s){return!(typeof s!="object"||s===null||s instanceof Array||s instanceof Date||s instanceof wt||s instanceof ss||s instanceof ei||s instanceof Ct||s instanceof Nu||s instanceof rs)}function Mg(s,e,i){if(!c1(i)||!YE(i)){const r=Uh(i);throw r==="an object"?e.Sc(s+" a custom object"):e.Sc(s+" "+r)}}function km(s,e,i){if((e=Wt(e))instanceof Ru)return e._internalPath;if(typeof e=="string")return Vg(s,e);throw Ih("Field path arguments must be of type string or ",s,!1,void 0,i)}const vI=new RegExp("[~\\*/\\[\\]]");function Vg(s,e,i){if(e.search(vI)>=0)throw Ih(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,i);try{return new Ru(...e.split("."))._internalPath}catch{throw Ih(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,i)}}function Ih(s,e,i,r,l){const c=r&&!r.isEmpty(),d=l!==void 0;let p=`Function ${e}() called with invalid data`;i&&(p+=" (via `toFirestore()`)"),p+=". ";let _="";return(c||d)&&(_+=" (found",c&&(_+=` in field ${r}`),d&&(_+=` in document ${l}`),_+=")"),new he($.INVALID_ARGUMENT,p+s+_)}function h1(s,e){return s.some((i=>i.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ch{constructor(e,i,r,l,c){this._firestore=e,this._userDataWriter=i,this._key=r,this._document=l,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new Ct(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new EI(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const i=this._document.data.field($h("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i)}}}class EI extends Ch{data(){return super.data()}}function $h(s,e){return typeof e=="string"?Vg(s,e):e instanceof Ru?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f1(s){if(s.limitType==="L"&&s.explicitOrderBy.length===0)throw new he($.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Ug{}class d1 extends Ug{}function Os(s,e,...i){let r=[];e instanceof Ug&&r.push(e),r=r.concat(i),(function(c){const d=c.filter((_=>_ instanceof Pg)).length,p=c.filter((_=>_ instanceof Zh)).length;if(d>1||d>0&&p>0)throw new he($.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const l of r)s=l._apply(s);return s}class Zh extends d1{constructor(e,i,r){super(),this._field=e,this._op=i,this._value=r,this.type="where"}static _create(e,i,r){return new Zh(e,i,r)}_apply(e){const i=this._parse(e);return m1(e._query,i),new Fr(e.firestore,e.converter,Nm(e._query,i))}_parse(e){const i=Iu(e.firestore);return(function(c,d,p,_,y,A,w){let C;if(y.isKeyField()){if(A==="array-contains"||A==="array-contains-any")throw new he($.INVALID_ARGUMENT,`Invalid Query. You can't perform '${A}' queries on documentId().`);if(A==="in"||A==="not-in"){Gv(w,A);const re=[];for(const ue of w)re.push(Fv(_,c,ue));C={arrayValue:{values:re}}}else C=Fv(_,c,w)}else A!=="in"&&A!=="not-in"&&A!=="array-contains-any"||Gv(w,A),C=_I(p,d,w,A==="in"||A==="not-in");return Zt.create(y,A,C)})(e._query,"where",i,e.firestore._databaseId,this._field,this._op,this._value)}}function hm(s,e,i){const r=e,l=$h("where",s);return Zh._create(l,r,i)}class Pg extends Ug{constructor(e,i){super(),this.type=e,this._queryConstraints=i}static _create(e,i){return new Pg(e,i)}_parse(e){const i=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return i.length===1?i[0]:ki.create(i,this._getOperator())}_apply(e){const i=this._parse(e);return i.getFilters().length===0?e:((function(l,c){let d=l;const p=c.getFlattenedFilters();for(const _ of p)m1(d,_),d=Nm(d,_)})(e._query,i),new Fr(e.firestore,e.converter,Nm(e._query,i)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Lg extends d1{constructor(e,i){super(),this._field=e,this._direction=i,this.type="orderBy"}static _create(e,i){return new Lg(e,i)}_apply(e){const i=(function(l,c,d){if(l.startAt!==null)throw new he($.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(l.endAt!==null)throw new he($.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new cu(c,d)})(e._query,this._field,this._direction);return new Fr(e.firestore,e.converter,(function(l,c){const d=l.explicitOrderBy.concat([c]);return new Xo(l.path,l.collectionGroup,d,l.filters.slice(),l.limit,l.limitType,l.startAt,l.endAt)})(e._query,i))}}function Aa(s,e="asc"){const i=e,r=$h("orderBy",s);return Lg._create(r,i)}function Fv(s,e,i){if(typeof(i=Wt(i))=="string"){if(i==="")throw new he($.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!cT(e)&&i.indexOf("/")!==-1)throw new he($.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${i}' contains a '/' character.`);const r=e.path.child(yt.fromString(i));if(!be.isDocumentKey(r))throw new he($.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return av(s,new be(r))}if(i instanceof Ct)return av(s,i._key);throw new he($.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Uh(i)}.`)}function Gv(s,e){if(!Array.isArray(s)||s.length===0)throw new he($.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function m1(s,e){const i=(function(l,c){for(const d of l)for(const p of d.getFlattenedFilters())if(c.indexOf(p.op)>=0)return p.op;return null})(s.filters,(function(l){switch(l){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(i!==null)throw i===e.op?new he($.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new he($.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${i.toString()}' filters.`)}class g1{convertValue(e,i="none"){switch(jr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ht(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,i);case 5:return e.stringValue;case 6:return this.convertBytes(kr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,i);case 11:return this.convertObject(e.mapValue,i);case 10:return this.convertVectorValue(e.mapValue);default:throw we(62114,{value:e})}}convertObject(e,i){return this.convertObjectMap(e.fields,i)}convertObjectMap(e,i="none"){const r={};return qr(e,((l,c)=>{r[l]=this.convertValue(c,i)})),r}convertVectorValue(e){const i=e.fields?.[Th].arrayValue?.values?.map((r=>Ht(r.doubleValue)));return new rs(i)}convertGeoPoint(e){return new ss(Ht(e.latitude),Ht(e.longitude))}convertArray(e,i){return(e.values||[]).map((r=>this.convertValue(r,i)))}convertServerTimestamp(e,i){switch(i){case"previous":const r=Lh(e);return r==null?null:this.convertValue(r,i);case"estimate":return this.convertTimestamp(ou(e));default:return null}}convertTimestamp(e){const i=Lr(e);return new wt(i.seconds,i.nanos)}convertDocumentKey(e,i){const r=yt.fromString(e);tt(LT(r),9688,{name:e});const l=new lu(r.get(1),r.get(3)),c=new be(r.popFirst(5));return l.isEqual(i)||zs(`Document ${c} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kg(s,e,i){let r;return r=s?i&&(i.merge||i.mergeFields)?s.toFirestore(e,i):s.toFirestore(e):e,r}class TI extends g1{constructor(e){super(),this.firestore=e}convertBytes(e){return new ei(e)}convertReference(e){const i=this.convertDocumentKey(e,this.firestore._databaseId);return new Ct(this.firestore,null,i)}}class Co{constructor(e,i){this.hasPendingWrites=e,this.fromCache=i}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Ur extends Ch{constructor(e,i,r,l,c,d){super(e,i,r,l,d),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const i=new ch(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,i={}){if(this._document){const r=this._document.data.field($h("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new he($.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,i={};return i.type=Ur._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}Ur._jsonSchemaVersion="firestore/documentSnapshot/1.0",Ur._jsonSchema={type:Jt("string",Ur._jsonSchemaVersion),bundleSource:Jt("string","DocumentSnapshot"),bundleName:Jt("string"),bundle:Jt("string")};class ch extends Ur{data(e={}){return super.data(e)}}class Na{constructor(e,i,r,l){this._firestore=e,this._userDataWriter=i,this._snapshot=l,this.metadata=new Co(l.hasPendingWrites,l.fromCache),this.query=r}get docs(){const e=[];return this.forEach((i=>e.push(i))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,i){this._snapshot.docs.forEach((r=>{e.call(i,new ch(this._firestore,this._userDataWriter,r.key,r,new Co(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const i=!!e.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new he($.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(l,c){if(l._snapshot.oldDocs.isEmpty()){let d=0;return l._snapshot.docChanges.map((p=>{const _=new ch(l._firestore,l._userDataWriter,p.doc.key,p.doc,new Co(l._snapshot.mutatedKeys.has(p.doc.key),l._snapshot.fromCache),l.query.converter);return p.doc,{type:"added",doc:_,oldIndex:-1,newIndex:d++}}))}{let d=l._snapshot.oldDocs;return l._snapshot.docChanges.filter((p=>c||p.type!==3)).map((p=>{const _=new ch(l._firestore,l._userDataWriter,p.doc.key,p.doc,new Co(l._snapshot.mutatedKeys.has(p.doc.key),l._snapshot.fromCache),l.query.converter);let y=-1,A=-1;return p.type!==0&&(y=d.indexOf(p.doc.key),d=d.delete(p.doc.key)),p.type!==1&&(d=d.add(p.doc),A=d.indexOf(p.doc.key)),{type:bI(p.type),doc:_,oldIndex:y,newIndex:A}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new he($.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Na._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=eg.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],r=[],l=[];return this.docs.forEach((c=>{c._document!==null&&(i.push(c._document),r.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),l.push(c.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function bI(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return we(61501,{type:s})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ql(s){s=In(s,Ct);const e=In(s.firestore,ls);return cI(xu(e),s._key).then((i=>p1(e,s,i)))}Na._jsonSchemaVersion="firestore/querySnapshot/1.0",Na._jsonSchema={type:Jt("string",Na._jsonSchemaVersion),bundleSource:Jt("string","QuerySnapshot"),bundleName:Jt("string"),bundle:Jt("string")};class Jh extends g1{constructor(e){super(),this.firestore=e}convertBytes(e){return new ei(e)}convertReference(e){const i=this.convertDocumentKey(e,this.firestore._databaseId);return new Ct(this.firestore,null,i)}}function wr(s){s=In(s,Fr);const e=In(s.firestore,ls),i=xu(e),r=new Jh(e);return f1(s._query),hI(i,s._query).then((l=>new Na(e,r,s,l)))}function Ms(s,e,i){s=In(s,Ct);const r=In(s.firestore,ls),l=kg(s.converter,e,i);return Wh(r,[Cg(Iu(r),"setDoc",s._key,l,s.converter!==null,i).toMutation(s._key,pn.none())])}function Wc(s,e,i,...r){s=In(s,Ct);const l=In(s.firestore,ls),c=Iu(l);let d;return d=typeof(e=Wt(e))=="string"||e instanceof Ru?l1(c,"updateDoc",s._key,e,i,r):o1(c,"updateDoc",s._key,e),Wh(l,[d.toMutation(s._key,pn.exists(!0))])}function eh(s){return Wh(In(s.firestore,ls),[new Hh(s._key,pn.none())])}function fm(s,e){const i=In(s.firestore,ls),r=Et(s),l=kg(s.converter,e);return Wh(i,[Cg(Iu(s.firestore),"addDoc",r._key,l,s.converter!==null,{}).toMutation(r._key,pn.exists(!1))]).then((()=>r))}function Qv(s,...e){s=Wt(s);let i={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||Hv(e[r])||(i=e[r++]);const l={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(Hv(e[r])){const _=e[r];e[r]=_.next?.bind(_),e[r+1]=_.error?.bind(_),e[r+2]=_.complete?.bind(_)}let c,d,p;if(s instanceof Ct)d=In(s.firestore,ls),p=kh(s._key.path),c={next:_=>{e[r]&&e[r](p1(d,s,_))},error:e[r+1],complete:e[r+2]};else{const _=In(s,Fr);d=In(_.firestore,ls),p=_._query;const y=new Jh(d);c={next:A=>{e[r]&&e[r](new Na(d,y,_,A))},error:e[r+1],complete:e[r+2]},f1(s._query)}return(function(y,A,w,C){const Y=new Rg(C),re=new Sg(A,Y,w);return y.asyncQueue.enqueueAndForget((async()=>Tg(await Nh(y),re))),()=>{Y.Nu(),y.asyncQueue.enqueueAndForget((async()=>bg(await Nh(y),re)))}})(xu(d),p,l,c)}function Wh(s,e){return(function(r,l){const c=new ns;return r.asyncQueue.enqueueAndForget((async()=>XN(await lI(r),l,c))),c.promise})(xu(s),e)}function p1(s,e,i){const r=i.docs.get(e._key),l=new Jh(s);return new Ur(s,l,e._key,r,new Co(i.hasPendingWrites,i.fromCache),e.converter)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AI={maxAttempts:5};function $l(s,e){if((s=Wt(s)).firestore!==e)throw new he($.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SI{constructor(e,i){this._firestore=e,this._transaction=i,this._dataReader=Iu(e)}get(e){const i=$l(e,this._firestore),r=new TI(this._firestore);return this._transaction.lookup([i._key]).then((l=>{if(!l||l.length!==1)return we(24041);const c=l[0];if(c.isFoundDocument())return new Ch(this._firestore,r,c.key,c,i.converter);if(c.isNoDocument())return new Ch(this._firestore,r,i._key,null,i.converter);throw we(18433,{doc:c})}))}set(e,i,r){const l=$l(e,this._firestore),c=kg(l.converter,i,r),d=Cg(this._dataReader,"Transaction.set",l._key,c,l.converter!==null,r);return this._transaction.set(l._key,d),this}update(e,i,r,...l){const c=$l(e,this._firestore);let d;return d=typeof(i=Wt(i))=="string"||i instanceof Ru?l1(this._dataReader,"Transaction.update",c._key,i,r,l):o1(this._dataReader,"Transaction.update",c._key,i),this._transaction.update(c._key,d),this}delete(e){const i=$l(e,this._firestore);return this._transaction.delete(i._key),this}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wI extends SI{constructor(e,i){super(e,i),this._firestore=e}get(e){const i=$l(e,this._firestore),r=new Jh(this._firestore);return super.get(e).then((l=>new Ur(this._firestore,r,i._key,l._document,new Co(!1,!1),i.converter)))}}function wo(s,e,i){s=In(s,ls);const r={...AI,...i};return(function(c){if(c.maxAttempts<1)throw new he($.INVALID_ARGUMENT,"Max attempts must be at least 1")})(r),(function(c,d,p){const _=new ns;return c.asyncQueue.enqueueAndForget((async()=>{const y=await uI(c);new rI(c.asyncQueue,y,p,d,_).ju()})),_.promise})(xu(s),(l=>e(new wI(s,l))),r)}function kn(){return new Dg("serverTimestamp")}function Wi(s){return new Og("increment",s)}(function(e,i=!0){(function(l){Qo=l})(Fo),Uo(new Ca("firestore",((r,{instanceIdentifier:l,options:c})=>{const d=r.getProvider("app").getImmediate(),p=new ls(new v2(r.getProvider("auth-internal")),new b2(d,r.getProvider("app-check-internal")),(function(y,A){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new he($.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new lu(y.options.projectId,A)})(d,l),d);return c={useFetchStreams:i,...c},p._setSettings(c),p}),"PUBLIC").setMultipleInstances(!0)),Or(Y0,K0,e),Or(Y0,K0,"esm2020")})();const xI={apiKey:"AIzaSyD9Q8xysodbNwRxv_YshLDo5pG9-CvdTQE",authDomain:"pallavolo-67515986-17130.firebaseapp.com",projectId:"pallavolo-67515986-17130",storageBucket:"pallavolo-67515986-17130.firebasestorage.app",messagingSenderId:"462112859333",appId:"1:462112859333:web:059bb7a96b44dca9e33cac"},y1=sE(xI),dm=g2(y1),Ve=dI(y1),RI=new Us,Vs=14,Le={NO_MATCHES:"no_matches",MATCH_LIST:"match_list",MATCH_DETAIL:"match_detail",MATCH_HISTORY:"match_history",USERS_LIST:"users_list",FORMATION_PROPOSAL:"formation_proposal",FORMATION_RESULT:"formation_result"};function NI(){const[s,e]=Ue.useState(null),[i,r]=Ue.useState(!1),[l,c]=Ue.useState(!1),[d,p]=Ue.useState([]),[_,y]=Ue.useState([]),[A,w]=Ue.useState(null),[C,Y]=Ue.useState([]),[re,ue]=Ue.useState(""),[ae,Se]=Ue.useState(!1),[De,Ne]=Ue.useState(null),[We,ut]=Ue.useState(""),[Ze,D]=Ue.useState(!1),[x,N]=Ue.useState(""),[U,O]=Ue.useState(!0),[k,R]=Ue.useState(!1),[nt,Ot]=Ue.useState(null),[K,le]=Ue.useState("user"),[Te,qe]=Ue.useState([]),[ct,V]=Ue.useState(!1),[J,ce]=Ue.useState(!1),[se,_e]=Ue.useState(Le.NO_MATCHES),[ie,Be]=Ue.useState(null),[Mt,_t]=Ue.useState([]),[bn,us]=Ue.useState([]),[zi,Hs]=Ue.useState([]),[Tt,cs]=Ue.useState({team1:Array(6).fill(null),team2:Array(6).fill(null),reserve:null}),[hs,Gr]=Ue.useState([]),[Ai,It]=Ue.useState(null),[it,Bi]=Ue.useState(null),Fs=Ue.useMemo(()=>Et(Ve,"state","currentSession"),[]),An="tidolamiamail@gmail.com",Ft=s?.email===An,Pe=K==="admin"||Ft;Ue.useEffect(()=>{const S=ix(dm,async H=>{if(H){e(H),r(!0);const F=Et(Ve,"users",H.uid),P=await Ql(F);let te={};if(P.exists())te=P.data(),ut(te.customDisplayName||H.displayName),H.email===An?le("super-admin"):le(te.role||"user");else{ut(H.displayName);const ne=H.email===An?"super-admin":"user";le(ne)}await Ms(F,{email:H.email,displayName:H.displayName,photoURL:H.photoURL,lastLogin:kn(),role:K||(H.email===An?"super-admin":"user")},{merge:!0}),jt(H.uid)}else e(null),r(!1),Se(!1),Ne(null),ut(""),D(!1)});return()=>S()},[]),Ue.useEffect(()=>{const S=localStorage.getItem("volleyball-theme");S&&O(S==="dark")},[]),Ue.useEffect(()=>{document.documentElement.classList.toggle("dark",U),localStorage.setItem("volleyball-theme",U?"dark":"light")},[U]),Ue.useEffect(()=>{let S;return(async()=>((await Ql(Fs)).exists()||await Ms(Fs,{participants:[],reserves:[],lastUpdated:kn()}),S=Qv(Fs,F=>{const P=F.data();p(Array.isArray(P?.participants)?P.participants:[]),y(Array.isArray(P?.reserves)?P.reserves:[]),w(P?.date||null)})))(),()=>{typeof S=="function"&&S()}},[Fs]),Ue.useEffect(()=>{const H=(async()=>{try{const F=Os(bi(Ve,"activeMatches"),Aa("date","asc"));return Qv(F,te=>{const ne=te.docs.map(ye=>({id:ye.id,...ye.data()}));us(ne),se===Le.NO_MATCHES&&ne.length>0?_e(Le.MATCH_LIST):se===Le.MATCH_LIST&&ne.length===0&&_e(Le.NO_MATCHES)})}catch(F){console.error("Error loading active matches:",F),us([])}})();return()=>{typeof H=="function"&&H.then(F=>F())}},[]),Ue.useEffect(()=>{const S=H=>{ae&&!H.target.closest(".user-dropdown")&&Se(!1)};return document.addEventListener("mousedown",S),()=>{document.removeEventListener("mousedown",S)}},[ae]);function Qr(){const S=new Date,F=(9-S.getDay())%7||7,P=new Date(S);P.setDate(S.getDate()+F),P.setHours(20,30,0,0);const te=ne=>ne.toString().padStart(2,"0");return`${P.getFullYear()}-${te(P.getMonth()+1)}-${te(P.getDate())}T${te(P.getHours())}:${te(P.getMinutes())}`}const[Si,ii]=Ue.useState(Qr()),Yr=async()=>{if(!(!Pe||J)){ce(!0);try{const S=new Date(Si),H=Os(bi(Ve,"activeMatches"),Aa("date","asc"));if((await wr(H)).docs.some(ne=>new Date(ne.data().date).getTime()===S.getTime())){alert("Esiste gi una partita per questo giorno e orario!");return}const te=await fm(bi(Ve,"activeMatches"),{participants:[],reserves:[],date:Si,createdAt:kn(),lastUpdated:kn(),createdBy:s.uid,status:"active"});console.log("Partita creata con ID:",te.id)}catch(S){console.error("Errore nella creazione della partita:",S),alert("Errore nella creazione della partita")}finally{ce(!1)}}},Gs=async()=>{c(!0);try{const H=(await Sx(dm,RI)).user,F=Et(Ve,"users",H.uid),P=await Ql(F),te=P.exists()?P.data():{};await Ms(F,{email:H.email,displayName:H.displayName,photoURL:H.photoURL,lastLogin:kn(),...te.customDisplayName&&{customDisplayName:te.customDisplayName},...te.role&&{role:te.role}},{merge:!0}),e(H),r(!0),jt(H.uid)}catch(S){alert(`Errore durante il login: ${S.message||S}`),console.error("Login error:",S)}finally{c(!1)}},Pa=async()=>{await sx(dm),r(!1),e(null)},La=()=>{O(!U)},zn=()=>{N(We),D(!0)},en=async()=>{if(!(!s||!x.trim()))try{await Ms(Et(Ve,"users",s.uid),{customDisplayName:x.trim()},{merge:!0}),ut(x.trim()),D(!1)}catch(S){console.error("Errore nel salvataggio del nome:",S),alert("Errore nel salvataggio del nome")}},Cn=()=>{N(""),D(!1)},bt=async(S,H)=>{try{const F=await Ql(Et(Ve,"users",S)),P=F.exists()?F.data():{},te=Os(bi(Ve,"sessions"),hm("participantUids","array-contains",S),Aa("date","desc")),ye=(await wr(te)).docs.map(fe=>({id:fe.id,...fe.data()}));Ot({uid:S,displayName:P.customDisplayName||H,totalSessions:P?.stats?.totalSessions||0,asParticipant:P?.stats?.asParticipant||0,asReserve:P?.stats?.asReserve||0,friendsBrought:P?.stats?.friendsBrought||0,sessionsHistory:ye}),R(!0)}catch(F){console.error("Errore nel caricamento delle statistiche:",F),alert("Errore nel caricamento delle statistiche")}},ka=()=>{if(!ie||!ie.participants)return;const S=ie.participants.map(F=>({uid:F.uid,name:F.customDisplayName||F.displayName,friends:F.friends||[]})),H=[];S.forEach(F=>{H.push(F),F.friends&&F.friends.length>0&&F.friends.forEach(P=>{H.push({uid:`friend_${F.uid}_${P}`,name:P,isFriend:!0,parentUid:F.uid})})}),Gr(H),cs({team1:Array(6).fill(null),team2:Array(6).fill(null),reserve:null})},Qs=(S,H)=>{It(H),S.dataTransfer.effectAllowed="move"},Bn=S=>{S.preventDefault(),S.dataTransfer.dropEffect="move"},tn=(S,H,F)=>{if(S.preventDefault(),!Ai)return;const P={...Tt};Object.keys(P).forEach(te=>{te==="reserve"?P[te]?.uid===Ai.uid&&(P[te]=null):P[te]=P[te].map(ne=>ne?.uid===Ai.uid?null:ne)}),H==="reserve"?P.reserve=Ai:P[H][F]=Ai,cs(P),It(null)},Sn=S=>{const H={...Tt};Object.keys(H).forEach(F=>{F==="reserve"?H[F]?.uid===S.uid&&(H[F]=null):H[F]=H[F].map(P=>P?.uid===S.uid?null:P)}),cs(H)},Vt=async()=>{if(!(!s||!ie))try{if([...Tt.team1.filter(F=>F!==null),...Tt.team2.filter(F=>F!==null)].length<12){alert("Devi posizionare almeno 12 giocatori nelle due squadre!");return}const H={matchId:ie.id,userId:s.uid,userName:We||s.displayName,formation:Tt,submittedAt:kn()};await Ms(Et(Ve,"formationProposals",`${ie.id}_${s.uid}`),H),alert("Formazione proposta salvata con successo!")}catch(S){console.error("Errore nel salvataggio della formazione:",S),alert("Errore nel salvataggio della formazione")}},si=async S=>{try{const H=Os(bi(Ve,"formationProposals"),hm("matchId","==",S)),P=(await wr(H)).docs.map(te=>({id:te.id,...te.data()}));return Hs(P),P}catch(H){return console.error("Errore nel caricamento delle formazioni:",H),[]}},ri=S=>{if(S.length<3)return null;const H=new Set;S.forEach(de=>{const Ee=de.formation;Ee.team1.forEach(xe=>xe&&H.add(xe.uid)),Ee.team2.forEach(xe=>xe&&H.add(xe.uid)),Ee.reserve&&H.add(Ee.reserve.uid)});const F=Array.from(H),P={};F.forEach(de=>{P[de]={team1:Array(6).fill(0),team2:Array(6).fill(0),reserve:0,name:""}}),S.forEach(de=>{const Ee=de.formation;Ee.team1.forEach((xe,st)=>{xe&&(P[xe.uid].team1[st]++,P[xe.uid].name||(P[xe.uid].name=xe.name))}),Ee.team2.forEach((xe,st)=>{xe&&(P[xe.uid].team2[st]++,P[xe.uid].name||(P[xe.uid].name=xe.name))}),Ee.reserve&&(P[Ee.reserve.uid].reserve++,P[Ee.reserve.uid].name||(P[Ee.reserve.uid].name=Ee.reserve.name))});const te={};F.forEach(de=>{te[de]={},F.forEach(Ee=>{de!==Ee&&(te[de][Ee]={sameTeam:0,oppositeTeam:0})})}),S.forEach(de=>{const Ee=de.formation,xe=Ee.team1.filter(Ge=>Ge).map(Ge=>Ge.uid),st=Ee.team2.filter(Ge=>Ge).map(Ge=>Ge.uid);xe.forEach(Ge=>{xe.forEach(rn=>{Ge!==rn&&te[Ge][rn].sameTeam++})}),st.forEach(Ge=>{st.forEach(rn=>{Ge!==rn&&te[Ge][rn].sameTeam++})}),xe.forEach(Ge=>{st.forEach(rn=>{te[Ge][rn].oppositeTeam++,te[rn][Ge].oppositeTeam++})})});const ne=new Set,ye={team1:Array(6).fill(null),team2:Array(6).fill(null),reserve:null};let fe=null,me=0;return F.forEach(de=>{const Ee=P[de].reserve;Ee>me&&(me=Ee,fe=de)}),fe&&me>0&&(ye.reserve={uid:fe,name:P[fe].name},ne.add(fe)),["team1","team2"].forEach(de=>{for(let Ee=0;Ee<6;Ee++){let xe=null,st=0;F.forEach(Ge=>{if(ne.has(Ge))return;let rn=P[Ge][de][Ee];ye[de].filter(Gt=>Gt!==null).map(Gt=>Gt.uid).forEach(Gt=>{rn+=te[Ge][Gt].sameTeam*.5}),ye[de==="team1"?"team2":"team1"].filter(Gt=>Gt!==null).map(Gt=>Gt.uid).forEach(Gt=>{rn-=te[Ge][Gt].sameTeam*.3}),rn>st&&(st=rn,xe=Ge)}),xe&&(ye[de][Ee]={uid:xe,name:P[xe].name},ne.add(xe))}}),{...ye,proposalCount:S.length,confidence:qn(S,ye)}},qn=(S,H)=>{let F=0,P=0;return S.forEach(te=>{const ne=te.formation;ne.team1.forEach((ye,fe)=>{P++,ye&&H.team1[fe]&&ye.uid===H.team1[fe].uid&&F++}),ne.team2.forEach((ye,fe)=>{P++,ye&&H.team2[fe]&&ye.uid===H.team2[fe].uid&&F++}),P++,ne.reserve&&H.reserve&&ne.reserve.uid===H.reserve.uid&&F++}),P>0?F/P*100:0};Jb.useEffect(()=>{se===Le.FORMATION_PROPOSAL&&ie&&ka(),(se===Le.FORMATION_RESULT||se===Le.FORMATION_PROPOSAL)&&ie&&si(ie.id).then(S=>{S.length>=3&&Bi(ri(S))})},[se,ie]);const Zo=async()=>{if(!(!Ft||!confirm("Sei sicuro di voler ricalcolare tutte le statistiche di tutti gli utenti basandosi sui dati reali del database? Questa operazione potrebbe richiedere alcuni minuti.")))try{const H=Os(bi(Ve,"sessions"),Aa("date","desc")),F=await wr(H),P=Os(bi(Ve,"users")),te=await wr(P),ne={};te.docs.forEach(fe=>{ne[fe.id]={totalSessions:0,asParticipant:0,asReserve:0,friendsBrought:0}}),F.docs.forEach(fe=>{const me=fe.data();(me.participants||[]).forEach(de=>{ne[de.uid]&&(ne[de.uid].totalSessions+=1,ne[de.uid].asParticipant+=1,ne[de.uid].friendsBrought+=de.friends?.length||0)}),(me.reserves||[]).forEach(de=>{ne[de.uid]&&(ne[de.uid].asReserve+=1,ne[de.uid].friendsBrought+=de.friends?.length||0)})});const ye=Object.entries(ne).map(([fe,me])=>Ms(Et(Ve,"users",fe),{stats:me},{merge:!0}));await Promise.all(ye),alert(`Statistiche ricalcolate con successo per ${Object.keys(ne).length} utenti!`),s&&jt(s.uid)}catch(H){console.error("Errore nel ricalcolo delle statistiche:",H),alert("Errore nel ricalcolo delle statistiche")}},ja=async S=>{if(!(!Pe||!confirm("Sei sicuro di voler resettare tutte le statistiche di questo utente?")))try{await Ms(Et(Ve,"users",S),{stats:{totalSessions:0,asParticipant:0,asReserve:0,friendsBrought:0}},{merge:!0}),alert("Statistiche resettate con successo"),nt&&nt.uid===S&&Ot({...nt,totalSessions:0,asParticipant:0,asReserve:0,friendsBrought:0}),s&&s.uid===S&&jt(S)}catch(F){console.error("Errore nel reset delle statistiche:",F),alert("Errore nel reset delle statistiche")}},ai=async S=>{if(!(!Pe||!confirm("Sei sicuro di voler eliminare questa sessione dalle statistiche?")))try{await wo(Ve,async F=>{const P=Et(Ve,"sessions",S),te=await F.get(P);if(!te.exists())throw new Error("Sessione non trovata");const ne=te.data(),ye=[...(ne.participantUids||[]).map(fe=>({uid:fe,participant:!0})),...(ne.reserveUids||[]).map(fe=>({uid:fe,participant:!1}))];for(const fe of ye){const me=Et(Ve,"users",fe.uid),de=await F.get(me);if(de.exists()){const xe=de.data().stats||{};F.update(me,{stats:{...xe,totalSessions:Math.max(0,(xe.totalSessions||1)-1),asParticipant:fe.participant?Math.max(0,(xe.asParticipant||1)-1):xe.asParticipant||0,asReserve:fe.participant?xe.asReserve||0:Math.max(0,(xe.asReserve||1)-1)}})}}F.delete(P)}),alert("Sessione eliminata con successo"),wi(),s&&jt(s.uid)}catch(F){console.error("Errore nell'eliminazione della sessione:",F),alert("Errore nell'eliminazione della sessione")}},fs=async S=>{if(!(!Pe||!confirm("Sei sicuro di voler eliminare questa partita attiva? Tutti i partecipanti iscritti verranno rimossi.")))try{const F=Et(Ve,"activeMatches",S);await eh(F),alert("Partita eliminata con successo")}catch(F){console.error("Errore nell'eliminazione della partita:",F),alert("Errore nell'eliminazione della partita")}},Jo=async S=>{if(!(!Pe||!confirm("Sei sicuro di voler chiudere questa partita? Verr salvata nello storico e rimossa dalle partite attive.")))try{const F=S.participants||[],P=S.reserves||[];if(F.length>0){const te={date:new Date(S.date),participants:F,reserves:P,participantUids:F.map(fe=>fe.uid),reserveUids:P.map(fe=>fe.uid)};await fm(bi(Ve,"sessions"),te);const ne=F.map(fe=>Wc(Et(Ve,"users",fe.uid),{"stats.totalSessions":Wi(1),"stats.asParticipant":Wi(1),"stats.friendsBrought":Wi(fe.friends?.length||0)})),ye=P.map(fe=>Wc(Et(Ve,"users",fe.uid),{"stats.asReserve":Wi(1),"stats.friendsBrought":Wi(fe.friends?.length||0)}));await Promise.allSettled([...ne,...ye])}console.log("Rimuovendo partita con ID:",S.id),await eh(Et(Ve,"activeMatches",S.id)),console.log("Partita rimossa con successo dal database"),await wi(),s&&(F.some(te=>te.uid===s.uid)||P.some(te=>te.uid===s.uid))&&await jt(s.uid),ie&&ie.id===S.id&&(Be(null),_e(Le.HOME)),alert(F.length>0?"Partita chiusa e salvata nello storico!":"Partita chiusa!")}catch(F){console.error("Errore nella chiusura della partita:",F),alert("Errore nella chiusura della partita")}},jt=async S=>{const H=await Ql(Et(Ve,"users",S)),F=H.exists()?H.data():{},P=Os(bi(Ve,"sessions"),hm("participantUids","array-contains",S),Aa("date","desc")),ne=(await wr(P)).docs.map(ye=>({id:ye.id,...ye.data()}));Ne({totalSessions:F?.stats?.totalSessions||0,asParticipant:F?.stats?.asParticipant||0,asReserve:F?.stats?.asReserve||0,friendsBrought:F?.stats?.friendsBrought||0,sessionsHistory:ne})},wi=async()=>{try{const S=Os(bi(Ve,"sessions"),Aa("date","desc")),F=(await wr(S)).docs.map(P=>({id:P.id,...P.data()}));_t(F)}catch(S){console.error("Error loading match history:",S),_t([])}},Ys=async()=>{if(i)try{const S=Os(bi(Ve,"users"),Aa("lastLogin","desc")),F=(await wr(S)).docs.map(P=>({id:P.id,...P.data()}));qe(F)}catch(S){console.error("Error loading users:",S),qe([])}},qi=async(S,H)=>{if(!Pe||S===s?.uid)return;if(Te.find(P=>P.id===S)?.email===An){alert("Non puoi modificare il ruolo del super admin");return}try{await Ms(Et(Ve,"users",S),{role:H},{merge:!0}),qe(P=>P.map(te=>te.id===S?{...te,role:H}:te)),alert(`Ruolo utente aggiornato a: ${H}`)}catch(P){console.error("Error updating user role:",P),alert("Errore nell'aggiornamento del ruolo")}},xi=async S=>{if(!(!Pe||!confirm("Sei sicuro di voler ignorare questa sessione dalle statistiche?")))try{await Ms(Et(Ve,"sessions",S),{ignoredFromStats:!0},{merge:!0}),alert("Sessione ignorata dalle statistiche"),wi()}catch(F){console.error("Errore nell'ignorare la sessione:",F),alert("Errore nell'ignorare la sessione")}},Kr=()=>ie?ie.participants?.some(S=>S.uid===s?.uid)||ie.reserves?.some(S=>S.uid===s?.uid):!1,Hn=()=>ie?ie.participants?.some(S=>S.uid===s?.uid):!1,Fn=()=>ie?ie.reserves?.some(S=>S.uid===s?.uid):!1,Ut=!!ie&&bn.some(S=>S.id===ie.id),xt=!!ie&&!bn.some(S=>S.id===ie.id),Gn=()=>{if(!ie)return 0;let S=ie.participants?.length||0;for(const H of ie.participants||[])S+=H.friends?.length||0;return S},Ks=()=>{if(!ie)return 0;let S=ie.reserves?.length||0;for(const H of ie.reserves||[])S+=H.friends?.length||0;return S},Xr=async(S=!1)=>{if(!(!i||!s||!ie))try{const H=Et(Ve,"activeMatches",ie.id);await wo(Ve,async P=>{const ne=(await P.get(H)).data()||{participants:[],reserves:[]},ye=ne.participants?.some(Ee=>Ee.uid===s.uid);if(ne.reserves?.some(Ee=>Ee.uid===s.uid))throw new Error("Sei gi iscritto come riserva!");if(ye){if(C.length===0)throw new Error("Sei gi iscritto come partecipante!");let Ee=ne.participants.length;for(const Ge of ne.participants)Ee+=Ge.friends?.length||0;if(Ee+C.length>Vs)throw new Error(`Non ci sono abbastanza posti per tutti i +1, rimuoverne qualcuno e riprovare (posti disponibili: ${Vs-Ee})`);const st={...ne};st.participants=st.participants.map(Ge=>Ge.uid===s.uid?{...Ge,friends:[...Ge.friends||[],...C],timestamp:new Date().toLocaleString("it-IT")}:Ge),P.update(H,{participants:st.participants,lastUpdated:kn()}),Y([]),await jt(s.uid),alert(`${C.length} amici aggiunti con successo!`);return}const me={uid:s.uid,name:We||s.displayName,photoURL:s.photoURL,friends:C,timestamp:new Date().toLocaleString("it-IT")},de={...ne};if(de.participants=Array.isArray(de.participants)?de.participants:[],de.reserves=Array.isArray(de.reserves)?de.reserves:[],S)de.reserves=[...de.reserves,me];else{let Ee=de.participants.length;for(const st of de.participants)Ee+=st.friends?.length||0;if(Ee+1+(C.length||0)<=Vs)de.participants=[...de.participants,me];else{const st=Vs-Ee;throw new Error(`Non ci sono abbastanza posti per tutti i +1, rimuoverne qualcuno e riprovare (posti disponibili: ${st})`)}}P.update(H,{participants:de.participants,reserves:de.reserves,lastUpdated:kn()})}),Y([]),await jt(s.uid);const F=Gn();!S&&F>Vs&&alert(`Lista partecipanti piena (${Vs} posti)! Sei stato aggiunto alle riserve.`)}catch(H){alert(H.message||"Errore durante l'iscrizione")}},za=async()=>{if(!(!i||!s||!ie))try{const S=Et(Ve,"activeMatches",ie.id);await wo(Ve,async H=>{const P=(await H.get(S)).data()||{participants:[],reserves:[]},te=P.participants?.findIndex(me=>me.uid===s.uid),ne=P.reserves?.findIndex(me=>me.uid===s.uid);if((te===void 0||te===-1)&&(ne===void 0||ne===-1))throw new Error("Non sei iscritto a questa partita.");const ye=[...P.participants||[]];let fe=[...P.reserves||[]];if(te!==void 0&&te!==-1){if(ye.splice(te,1),fe.length>0){const me=fe[0];fe=fe.slice(1),ye.push(me)}}else ne!==void 0&&ne!==-1&&(fe=fe.filter(me=>me.uid!==s.uid));H.update(S,{participants:ye,reserves:fe,lastUpdated:kn()})}),s&&await jt(s.uid)}catch(S){alert(S.message||"Errore durante la disiscrizione")}},$r=async(S,H=!1)=>{if(!(!Pe||!ie))try{const F=Et(Ve,"activeMatches",ie.id);await wo(Ve,async P=>{const ne=(await P.get(F)).data()||{participants:[],reserves:[]};let ye=[...ne.participants||[]],fe=[...ne.reserves||[]];if(H)fe=fe.filter(me=>me.uid!==S);else if(ye=ye.filter(me=>me.uid!==S),fe.length>0){const me=fe[0];fe=fe.slice(1),ye.push(me)}P.update(F,{participants:ye,reserves:fe,lastUpdated:kn()})}),s&&s.uid===S&&await jt(s.uid)}catch(F){alert(F.message||"Errore durante la rimozione")}},Qn=async(S,H,F=!1)=>{if(!(!Pe||!ie))try{const P=Et(Ve,"activeMatches",ie.id);await wo(Ve,async te=>{const ye=(await te.get(P)).data()||{participants:[],reserves:[]};let fe=[...ye.participants||[]],me=[...ye.reserves||[]];if(F){const de=me.findIndex(Ee=>Ee.uid===S);de!==-1&&me[de].friends&&(me[de]={...me[de],friends:me[de].friends.filter((Ee,xe)=>xe!==H)})}else{const de=fe.findIndex(Ee=>Ee.uid===S);de!==-1&&fe[de].friends&&(fe[de]={...fe[de],friends:fe[de].friends.filter((Ee,xe)=>xe!==H)})}te.update(P,{participants:fe,reserves:me,lastUpdated:kn()})}),s&&s.uid===S&&await jt(s.uid)}catch(P){alert(P.message||"Errore durante la rimozione dell'amico")}},Xs=async S=>{if(!(!Pe||!ie))try{const H=Et(Ve,"activeMatches",ie.id);await wo(Ve,async F=>{const te=(await F.get(H)).data()||{participants:[],reserves:[]},ne=te.reserves?.findIndex(xe=>xe.uid===S);if(ne===-1)throw new Error("Riserva non trovata");const ye=te.reserves[ne];let fe=te.participants?.length||0;for(const xe of te.participants||[])fe+=xe.friends?.length||0;const me=fe+1+(ye.friends?.length||0);if(me>Vs)throw new Error(`Non c' abbastanza spazio. Servono ${me-fe} posti ma ne rimangono solo ${Vs-fe}.`);const de=[...te.reserves||[]];de.splice(ne,1);const Ee=[...te.participants||[],ye];F.update(H,{participants:Ee,reserves:de,lastUpdated:kn()})}),s&&s.uid===S&&await jt(s.uid),alert("Riserva promossa a partecipante con successo!")}catch(H){console.error("Errore nella promozione:",H),alert(H.message||"Errore nella promozione della riserva")}},oi=()=>E.jsx("div",{className:"bg-gray-800 rounded-xl shadow-2xl p-4 md:p-6 mb-6 border border-gray-700",children:E.jsxs("div",{className:"flex items-center justify-between",children:[E.jsxs("div",{className:"flex items-center gap-2 md:gap-4 flex-1 min-w-0",children:[E.jsx("div",{className:"flex-shrink-0",children:E.jsx("div",{className:"text-4xl md:text-5xl",children:""})}),E.jsxs("div",{className:"min-w-0 flex-1",children:[E.jsx("h1",{className:"text-xl md:text-3xl font-bold text-gray-100 truncate",children:se===Le.MATCH_HISTORY?"Storico Partite":se===Le.USERS_LIST?"Lista Utenti":se===Le.FORMATION_PROPOSAL?"Proponi Formazione":se===Le.FORMATION_RESULT?"Formazioni Proposte":"Pallavolo - 7 fighters"}),i&&(se===Le.MATCH_DETAIL&&A?E.jsxs("div",{className:"mt-1 md:mt-2 flex items-center gap-3 flex-wrap",children:[E.jsxs("div",{className:"text-sm md:text-lg text-indigo-300 font-semibold",children:["Partita del ",new Date(A).toLocaleString("it-IT",{dateStyle:"full",timeStyle:"short"})]}),E.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${ie&&bn.some(S=>S.id===ie.id)?"bg-green-600 text-green-100":"bg-gray-600 text-gray-100"}`,children:ie&&bn.some(S=>S.id===ie.id)?"Aperta":"Giocata"})]}):se===Le.MATCH_HISTORY?E.jsx("div",{className:"mt-1 md:mt-2 text-sm md:text-lg text-indigo-300 font-semibold",children:"Partite gi giocate"}):se===Le.USERS_LIST?E.jsx("div",{className:"mt-1 md:mt-2 text-sm md:text-lg text-indigo-300 font-semibold",children:"Gestisci ruoli e utenti"}):se===Le.FORMATION_PROPOSAL?E.jsx("div",{className:"mt-1 md:mt-2 text-sm md:text-lg text-indigo-300 font-semibold",children:"Crea la tua formazione ideale"}):se===Le.FORMATION_RESULT?E.jsx("div",{className:"mt-1 md:mt-2 text-sm md:text-lg text-indigo-300 font-semibold",children:"Visualizza le formazioni calcolate"}):se===Le.MATCH_LIST&&A?E.jsx("div",{className:"mt-1 md:mt-2 text-sm md:text-lg text-indigo-300 font-semibold",children:"Seleziona una partita per iscriverti"}):E.jsx("div",{className:"mt-1 md:mt-2 text-sm md:text-lg text-indigo-300 font-semibold",children:"Nessuna partita attiva"}))]})]}),i&&E.jsxs("div",{className:"relative flex items-center gap-2 md:gap-3 user-dropdown flex-shrink-0",children:[E.jsx("span",{className:"hidden md:block text-gray-100 font-medium truncate max-w-32",children:We||s?.displayName}),E.jsx("button",{onClick:()=>Se(!ae),className:"p-1 md:p-2 bg-gray-700 rounded-full border border-gray-600 hover:bg-gray-600 hover:border-indigo-400 transition-all duration-200 flex-shrink-0 transform hover:scale-105",title:"Area personale",children:E.jsx("img",{src:s.photoURL||"",alt:s.displayName||"",className:`w-8 h-8 md:w-10 md:h-10 rounded-full border-2 object-cover transition-all duration-200 ${Pe?"border-blue-500 shadow-lg shadow-blue-500/30":"border-indigo-500"}`})}),ae&&De&&E.jsxs("div",{className:"absolute right-0 top-full mt-2 w-80 md:w-96 bg-gray-800 rounded-lg shadow-xl border border-gray-700 z-10 p-4 md:p-6 max-w-[90vw] animate-in slide-in-from-top-2 duration-200",children:[E.jsxs("h3",{className:"text-lg font-bold text-gray-100 mb-4 flex items-center gap-2",children:[E.jsx(p0,{className:"w-5 h-5 text-yellow-500"}),"Le tue statistiche"]}),E.jsxs("div",{className:"mb-4 p-3 bg-gray-700/30 rounded-lg border border-gray-600/50",children:[E.jsx("div",{className:"text-xs text-gray-400 mb-1",children:"Nome visualizzato"}),Ze?E.jsxs("div",{className:"space-y-2",children:[E.jsx("input",{type:"text",value:x,onChange:S=>N(S.target.value),className:"w-full px-2 py-1 bg-gray-600 text-gray-100 rounded border border-gray-500 text-sm",placeholder:"Inserisci il tuo nome",autoFocus:!0}),E.jsxs("div",{className:"flex gap-2",children:[E.jsx("button",{onClick:en,className:"flex-1 px-2 py-1 bg-green-600 text-white rounded text-xs hover:bg-green-700 transition",children:"Salva"}),E.jsx("button",{onClick:Cn,className:"flex-1 px-2 py-1 bg-gray-600 text-gray-100 rounded text-xs hover:bg-gray-700 transition",children:"Annulla"})]})]}):E.jsxs("div",{className:"flex items-center justify-between",children:[E.jsx("span",{className:"text-sm text-gray-100 font-medium",children:We}),E.jsx("button",{onClick:zn,className:"px-2 py-1 bg-indigo-600 text-white rounded text-xs hover:bg-indigo-700 transition",children:"Modifica"})]})]}),E.jsxs("div",{className:"grid grid-cols-2 gap-2 md:gap-3",children:[E.jsxs("div",{className:"bg-gray-700/50 rounded-lg p-2 md:p-3 border border-gray-600/50",children:[E.jsx("div",{className:"text-lg md:text-xl font-bold text-indigo-400",children:De.totalSessions||0}),E.jsx("div",{className:"text-xs text-gray-400",children:"Partite totali"})]}),E.jsxs("div",{className:"bg-gray-700/50 rounded-lg p-3 border border-gray-600/50",children:[E.jsx("div",{className:"text-xl font-bold text-purple-400",children:De.friendsBrought||0}),E.jsx("div",{className:"text-xs text-gray-400",children:"Amici portati"})]})]}),E.jsx("div",{className:"mt-4 p-3 bg-gray-700/30 rounded-lg border border-gray-600/50",children:E.jsxs("div",{className:"flex items-center justify-between",children:[E.jsxs("div",{className:"flex items-center gap-2",children:[U?E.jsx(TA,{className:"w-4 h-4 text-indigo-400"}):E.jsx(wA,{className:"w-4 h-4 text-yellow-500"}),E.jsxs("span",{className:"text-sm text-gray-100",children:["Tema ",U?"Scuro":"Chiaro"]})]}),E.jsx("button",{onClick:La,className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors ${U?"bg-indigo-600":"bg-gray-400"}`,children:E.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${U?"translate-x-6":"translate-x-1"}`})})]})}),E.jsx("button",{onClick:Pa,className:"mt-4 w-full px-4 py-2 bg-gray-700 text-gray-100 rounded-lg hover:bg-gray-600 transition border border-gray-600 text-sm",children:"Esci"})]})]})]})}),Dn=()=>E.jsx("div",{className:"flex flex-col items-center justify-center",children:E.jsxs("div",{className:"bg-gray-800 rounded-xl shadow-2xl p-6 md:p-8 border border-gray-700 w-full max-w-lg text-center",children:[E.jsxs("div",{className:"mb-6",children:[E.jsx("div",{className:"text-6xl mb-4",children:""}),E.jsx("h2",{className:"text-xl md:text-2xl font-bold text-gray-100 mb-2",children:"Nessuna partita attiva"}),E.jsx("p",{className:"text-gray-400",children:"Al momento non ci sono partite programmate"})]}),i&&Pe&&E.jsxs("div",{className:"mb-6",children:[E.jsx("h3",{className:"text-lg font-semibold text-gray-200 mb-4",children:"Crea una nuova partita"}),E.jsxs("div",{className:"mb-4",children:[E.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Data e ora della partita"}),E.jsx("input",{type:"datetime-local",value:Si,onChange:S=>ii(S.target.value),className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-lg text-gray-100 focus:border-indigo-500 focus:outline-none"})]}),E.jsx("button",{onClick:Yr,disabled:J,className:"w-full px-6 py-3 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition font-medium flex items-center justify-center gap-2 disabled:opacity-50",children:J?E.jsxs(E.Fragment,{children:[E.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white"}),"Creando..."]}):E.jsxs(E.Fragment,{children:[E.jsx(AA,{className:"w-5 h-5"}),"Crea Partita"]})})]}),!i&&E.jsxs("div",{className:"mb-6",children:[E.jsx("p",{className:"text-gray-400 text-sm mb-4",children:"Effettua il login per partecipare alle partite"}),E.jsx("button",{onClick:Gs,disabled:l,className:"w-full px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition font-medium flex items-center justify-center gap-2",children:l?E.jsxs(E.Fragment,{children:[E.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white"}),"Accesso..."]}):E.jsxs(E.Fragment,{children:[E.jsx(y0,{className:"w-5 h-5"}),"Accedi con Google"]})})]}),i&&!Pe&&E.jsxs("div",{className:"text-gray-400 text-sm",children:[E.jsx("p",{children:"Le partite vengono create dagli amministratori."}),E.jsx("p",{children:"Sarai notificato quando sar disponibile una nuova partita!"})]})]})}),wn=()=>E.jsx("div",{className:"space-y-4 md:space-y-6",children:E.jsxs("div",{className:"bg-gray-800 rounded-xl shadow-2xl p-4 md:p-6 border border-gray-700",children:[E.jsx("h2",{className:"text-xl md:text-2xl font-bold text-gray-100 mb-4",children:"Partite Attive"}),bn.length>0?E.jsxs("div",{className:"space-y-3 md:space-y-4",children:[bn.map(S=>E.jsx("div",{className:"bg-gray-700 rounded-lg p-3 md:p-4 border border-gray-600 hover:border-indigo-500 transition group",children:E.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-3",children:[E.jsxs("div",{onClick:()=>{Be(S),_e(Le.MATCH_DETAIL)},className:"flex-1 cursor-pointer",children:[E.jsx("h3",{className:"text-base md:text-lg font-semibold text-gray-100 group-hover:text-indigo-300",children:"Partita di Pallavolo"}),E.jsx("p",{className:"text-sm md:text-base text-gray-400 mt-1",children:new Date(S.date).toLocaleString("it-IT",{dateStyle:"short",timeStyle:"short"})})]}),E.jsxs("div",{className:"flex items-center gap-3 md:gap-4 justify-between md:justify-end",children:[E.jsxs("div",{className:"text-center",children:[E.jsx("div",{className:"text-lg md:text-2xl font-bold text-green-400",children:(S.participants?.length||0)+(S.participants?.reduce((H,F)=>H+(F.friends?.length||0),0)||0)}),E.jsx("div",{className:"text-xs text-gray-400",children:"Partecipanti"})]}),E.jsxs("div",{className:"text-center",children:[E.jsx("div",{className:"text-lg md:text-2xl font-bold text-amber-400",children:(S.reserves?.length||0)+(S.reserves?.reduce((H,F)=>H+(F.friends?.length||0),0)||0)}),E.jsx("div",{className:"text-xs text-gray-400",children:"Riserve"})]}),Pe&&E.jsxs("div",{className:"flex items-center gap-2",children:[E.jsx("button",{onClick:H=>{H.stopPropagation(),Jo(S)},className:"p-1 md:p-2 text-blue-400 hover:text-blue-300 hover:bg-blue-900/20 rounded-lg transition",title:"Chiudi partita (marca come giocata)",children:E.jsx(dA,{className:"w-4 h-4 md:w-5 md:h-5"})}),E.jsx("button",{onClick:H=>{H.stopPropagation(),fs(S.id)},className:"p-1 md:p-2 text-red-400 hover:text-red-300 hover:bg-red-900/20 rounded-lg transition",title:"Elimina partita",children:E.jsx("svg",{className:"w-4 h-4 md:w-5 md:h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]})]})]})},S.id)),Pe&&E.jsxs("div",{className:"border-t border-gray-600 pt-4 space-y-4",children:[E.jsx("h3",{className:"text-lg font-semibold text-gray-100",children:"Controlli Admin"}),E.jsxs("div",{className:"flex items-center gap-3",children:[E.jsx("label",{htmlFor:"nextSessionDate",className:"text-sm text-gray-300 font-medium",children:"Data prossima partita:"}),E.jsx("input",{id:"nextSessionDate",type:"datetime-local",value:Si,onChange:S=>ii(S.target.value),className:"px-3 py-2 rounded-lg bg-gray-700 text-gray-100 border border-gray-600 focus:ring-2 focus:ring-blue-500"}),E.jsx("button",{onClick:Yr,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition font-medium text-sm",children:"Crea"})]})]})]}):E.jsxs("div",{className:"text-center py-8",children:[E.jsx("p",{className:"text-gray-400 mb-4",children:"Nessuna partita attiva al momento"}),Pe&&E.jsx("div",{className:"space-y-4",children:E.jsxs("div",{className:"flex items-center gap-3 justify-center",children:[E.jsx("label",{htmlFor:"nextSessionDate",className:"text-sm text-gray-300 font-medium",children:"Data partita:"}),E.jsx("input",{id:"nextSessionDate",type:"datetime-local",value:Si,onChange:S=>ii(S.target.value),className:"px-3 py-2 rounded-lg bg-gray-700 text-gray-100 border border-gray-600 focus:ring-2 focus:ring-blue-500"}),E.jsx("button",{onClick:Yr,className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition font-medium text-sm",children:"Crea"})]})})]})]})}),li=()=>i?E.jsxs("div",{className:"space-y-6",children:[xt&&E.jsxs("div",{className:"bg-gray-700 border border-gray-600 rounded-lg p-4",children:[E.jsxs("div",{className:"flex items-center gap-2",children:[E.jsx("svg",{className:"w-5 h-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),E.jsx("span",{className:"text-gray-300 font-medium",children:"Partita Storica - Solo Visualizzazione"})]}),E.jsx("p",{className:"text-sm text-gray-400 mt-1",children:"Questa partita  stata completata e non  pi possibile iscriversi o modificare i partecipanti."})]}),Ut&&E.jsxs(E.Fragment,{children:[!Kr()&&E.jsxs("div",{className:"space-y-4",children:[E.jsxs("div",{className:"flex gap-3",children:[E.jsxs("button",{onClick:()=>Xr(!1),className:"flex-1 px-6 py-3 bg-green-600 text-white rounded-lg hover:bg-green-700 transition font-medium flex items-center justify-center gap-2",children:[E.jsx(IA,{className:"w-5 h-5"}),"Iscriviti come Partecipante"]}),E.jsxs("button",{onClick:()=>Xr(!0),className:"flex-1 px-6 py-3 bg-amber-600 text-white rounded-lg hover:bg-amber-700 transition font-medium flex items-center justify-center gap-2",children:[E.jsx(gA,{className:"w-5 h-5"}),"Iscriviti come Riserva"]})]}),E.jsxs("div",{className:"space-y-4",children:[E.jsxs("div",{className:"text-xs text-gray-400 mb-2",children:["* Puoi aggiungere fino a ",E.jsxs("span",{className:"font-bold text-indigo-300",children:[Pe?"illimitati":"3"," amici"]})," per sessione"]}),E.jsxs("div",{className:"flex gap-2 items-center",children:[E.jsx("input",{type:"text",value:re||"",onChange:S=>ue(S.target.value),className:"px-4 py-2 rounded-lg bg-gray-700 text-gray-100 border border-gray-600 focus:ring-2 focus:ring-indigo-500",placeholder:"Nome amico",disabled:!Pe&&C.length>=3}),E.jsx("button",{type:"button",onClick:()=>{re&&(Pe||C.length<3)&&(Y([...C,re]),ue(""))},className:"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition font-medium",disabled:!re||!Pe&&C.length>=3,children:"Aggiungi amico"})]}),C.length>0&&E.jsxs("div",{className:"mt-2",children:[E.jsx("div",{className:"text-sm text-gray-300 mb-2",children:"Amici aggiunti:"}),E.jsx("ul",{className:"space-y-2",children:C.map((S,H)=>E.jsxs("li",{className:"flex items-center gap-2",children:[E.jsx("span",{className:"bg-indigo-900 text-indigo-100 px-3 py-1 rounded-full",children:S}),E.jsx("button",{type:"button",onClick:()=>Y(C.filter((F,P)=>P!==H)),className:"text-red-400 hover:text-red-600 text-xs",children:"Rimuovi"})]},H))})]})]})]}),Hn()&&E.jsxs("div",{className:"space-y-4",children:[E.jsxs("div",{className:"p-3 bg-green-900/20 border border-green-600 rounded-lg",children:[E.jsx("p",{className:"text-green-300 text-sm font-medium",children:" Sei gi iscritto come partecipante"}),E.jsx("p",{className:"text-green-200 text-xs mt-1",children:"Puoi comunque aggiungere amici alla tua iscrizione"})]}),E.jsxs("div",{className:"space-y-4",children:[E.jsxs("div",{className:"text-xs text-gray-400 mb-2",children:["* Puoi aggiungere fino a ",E.jsxs("span",{className:"font-bold text-indigo-300",children:[Pe?"illimitati":"3"," amici"]})," per sessione"]}),E.jsxs("div",{className:"flex gap-2 items-center",children:[E.jsx("input",{type:"text",value:re||"",onChange:S=>ue(S.target.value),className:"px-4 py-2 rounded-lg bg-gray-700 text-gray-100 border border-gray-600 focus:ring-2 focus:ring-indigo-500",placeholder:"Nome amico",disabled:!Pe&&C.length>=3}),E.jsx("button",{type:"button",onClick:()=>{re&&(Pe||C.length<3)&&(Y([...C,re]),ue(""))},className:"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition font-medium",disabled:!re||!Pe&&C.length>=3,children:"Aggiungi amico"})]}),C.length>0&&E.jsxs("div",{className:"mt-2",children:[E.jsx("div",{className:"text-sm text-gray-300 mb-2",children:"Amici da aggiungere:"}),E.jsx("ul",{className:"space-y-2",children:C.map((S,H)=>E.jsxs("li",{className:"flex items-center gap-2",children:[E.jsx("span",{className:"bg-indigo-900 text-indigo-100 px-3 py-1 rounded-full",children:S}),E.jsx("button",{type:"button",onClick:()=>Y(C.filter((F,P)=>P!==H)),className:"text-red-400 hover:text-red-600 text-xs",children:"Rimuovi"})]},H))}),E.jsxs("button",{onClick:()=>Xr(!1),className:"w-full mt-3 px-6 py-3 bg-green-600 text-white rounded-lg hover:bg-green-700 transition font-medium",children:["Aggiungi ",C.length," amici alla mia iscrizione"]})]})]})]}),Fn()&&E.jsxs("div",{className:"p-3 bg-amber-900/20 border border-amber-600 rounded-lg",children:[E.jsx("p",{className:"text-amber-300 text-sm font-medium",children:" Sei iscritto come riserva"}),E.jsx("p",{className:"text-amber-200 text-xs mt-1",children:"Non puoi aggiungere amici finch sei in lista riserve"})]}),Kr()&&E.jsx("button",{onClick:za,className:"w-full px-6 py-3 bg-red-600 text-white rounded-lg hover:bg-red-700 transition font-medium",children:"Disiscriviti"})]}),E.jsxs("div",{className:"grid md:grid-cols-2 gap-6 mt-8",children:[E.jsxs("div",{className:"bg-gray-800 rounded-xl shadow-2xl p-6 border border-gray-700",children:[E.jsxs("div",{className:"flex items-center justify-between mb-4",children:[E.jsx("h2",{className:"text-xl font-bold text-gray-100",children:"Partecipanti"}),E.jsxs("span",{className:"bg-green-900 text-green-200 px-3 py-1 rounded-full font-semibold text-sm border border-green-700",children:[Gn()," / ",Vs]})]}),E.jsx("div",{className:"space-y-3",children:!ie||!ie.participants||ie.participants.length===0?E.jsx("p",{className:"text-gray-500 text-center py-4",children:"Nessun partecipante"}):ie.participants.map((S,H)=>E.jsx("div",{className:"bg-green-900 rounded-lg p-3 border border-green-700",children:E.jsxs("div",{className:"flex items-center gap-3",children:[E.jsx("img",{src:S.photoURL,alt:S.name,className:"w-10 h-10 rounded-full border-2 border-green-500"}),E.jsxs("div",{className:"flex-1",children:[E.jsxs("div",{className:"flex items-center justify-between",children:[E.jsx("span",{className:"font-medium text-gray-100",children:S.name}),E.jsxs("div",{className:"flex items-center gap-2",children:[E.jsx("span",{className:"text-xs text-gray-400",children:S.timestamp}),E.jsx("button",{onClick:()=>bt(S.uid,S.name),className:"text-blue-400 hover:text-blue-300 text-xs px-2 py-1 rounded bg-blue-900/30 hover:bg-blue-900/50 transition",title:"Visualizza statistiche",children:""}),Pe&&!xt&&E.jsx("button",{onClick:()=>$r(S.uid,!1),className:"text-red-400 hover:text-red-600 text-xs px-2 py-1 rounded bg-red-900/30 hover:bg-red-900/50 transition",title:"Rimuovi utente",children:""})]})]}),S.friends?.length>0&&E.jsx("div",{className:"mt-2 space-y-1",children:S.friends.map((F,P)=>E.jsxs("div",{className:"text-sm text-gray-300 flex items-center gap-2 justify-between",children:[E.jsxs("div",{className:"flex items-center gap-2",children:[E.jsx("span",{className:"text-green-400",children:"+"}),F]}),Pe&&!xt&&E.jsx("button",{onClick:()=>Qn(S.uid,P,!1),className:"text-red-400 hover:text-red-600 text-xs px-1 py-0.5 rounded bg-red-900/30 hover:bg-red-900/50 transition ml-2",title:"Rimuovi amico",children:""})]},P))})]})]})},S.uid+"_"+H))})]}),!xt&&E.jsxs("div",{className:"bg-gray-800 rounded-xl shadow-2xl p-6 border border-gray-700",children:[E.jsxs("div",{className:"flex items-center justify-between mb-4",children:[E.jsx("h2",{className:"text-xl font-bold text-gray-100",children:"Riserve"}),E.jsx("span",{className:"bg-amber-900 text-amber-200 px-3 py-1 rounded-full font-semibold text-sm border border-amber-700",children:Ks()})]}),E.jsx("div",{className:"space-y-3",children:!ie||!ie.reserves||ie.reserves.length===0?E.jsx("p",{className:"text-gray-500 text-center py-4",children:"Nessuna riserva"}):ie.reserves.map((S,H)=>E.jsx("div",{className:"bg-amber-900 rounded-lg p-3 border border-amber-700",children:E.jsxs("div",{className:"flex items-center gap-3",children:[E.jsx("img",{src:S.photoURL,alt:S.name,className:"w-10 h-10 rounded-full border-2 border-amber-500"}),E.jsxs("div",{className:"flex-1",children:[E.jsxs("div",{className:"flex items-center justify-between",children:[E.jsxs("span",{className:"font-medium text-gray-100",children:[H+1,". ",S.name]}),E.jsxs("div",{className:"flex items-center gap-2",children:[E.jsx("span",{className:"text-xs text-gray-400",children:S.timestamp}),E.jsx("button",{onClick:()=>bt(S.uid,S.name),className:"text-blue-400 hover:text-blue-300 text-xs px-2 py-1 rounded bg-blue-900/30 hover:bg-blue-900/50 transition",title:"Visualizza statistiche",children:""}),Pe&&E.jsxs(E.Fragment,{children:[E.jsx("button",{onClick:()=>Xs(S.uid),className:"text-green-400 hover:text-green-300 text-xs px-2 py-1 rounded bg-green-900/30 hover:bg-green-900/50 transition",title:"Promuovi a partecipante",children:""}),E.jsx("button",{onClick:()=>$r(S.uid,!0),className:"text-red-400 hover:text-red-600 text-xs px-2 py-1 rounded bg-red-900/30 hover:bg-red-900/50 transition",title:"Rimuovi utente",children:""})]})]})]}),S.friends?.length>0&&E.jsx("div",{className:"mt-2 space-y-1",children:S.friends.map((F,P)=>E.jsxs("div",{className:"text-sm text-gray-300 flex items-center gap-2 justify-between",children:[E.jsxs("div",{className:"flex items-center gap-2",children:[E.jsx("span",{className:"text-amber-400",children:"+"}),F]}),Pe&&E.jsx("button",{onClick:()=>Qn(S.uid,P,!0),className:"text-red-400 hover:text-red-600 text-xs px-1 py-0.5 rounded bg-red-900/30 hover:bg-red-900/50 transition ml-2",title:"Rimuovi amico",children:""})]},P))})]})]})},S.uid+"_"+H))})]})]}),xt&&ie&&s&&ie.participants&&ie.participants.some(S=>S.uid===s.uid)&&E.jsxs("div",{className:"bg-gray-800 rounded-xl shadow-2xl p-6 border border-gray-700",children:[E.jsx("h3",{className:"text-lg font-bold text-gray-100 mb-4",children:"Proponi Formazione"}),E.jsx("p",{className:"text-gray-400 mb-4",children:"Questa partita  stata completata. Puoi proporre la tua formazione ideale per vedere come avresti organizzato le squadre."}),E.jsxs("div",{className:"flex gap-3",children:[E.jsxs("button",{onClick:()=>{_e(Le.FORMATION_PROPOSAL)},className:"px-6 py-3 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition font-medium flex items-center gap-2",children:[E.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})}),"Proponi Formazione"]}),zi.length>=3&&E.jsxs("button",{onClick:()=>{_e(Le.FORMATION_RESULT)},className:"px-6 py-3 bg-green-600 text-white rounded-lg hover:bg-green-700 transition font-medium flex items-center gap-2",children:[E.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})}),"Vedi Formazioni (",zi.length,")"]})]})]})]}):E.jsxs("div",{className:"space-y-4 text-center py-8",children:[E.jsx("p",{className:"text-gray-300 mb-6",children:"Accedi con Google per iscriverti agli allenamenti"}),E.jsxs("button",{onClick:Gs,disabled:l,className:"inline-flex items-center gap-3 px-8 py-4 bg-white text-gray-800 rounded-lg hover:bg-gray-100 transition font-medium shadow-lg disabled:opacity-50",children:[E.jsxs("svg",{className:"w-6 h-6",viewBox:"0 0 24 24",children:[E.jsx("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),E.jsx("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),E.jsx("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),E.jsx("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),l?"Accesso in corso...":"Accedi con Google"]}),E.jsx("p",{className:"text-xs text-gray-500 mt-4",children:"* Login con Firebase/Google OAuth"})]}),Pt=async S=>{if(!(!Pe||!confirm("Sei sicuro di voler riaprire questa partita? Verr aggiunta alle partite attive e le statistiche verranno aggiornate.")))try{await fm(bi(Ve,"activeMatches"),{participants:S.participants||[],reserves:S.reserves||[],date:S.date.toDate?S.date.toDate().toISOString():new Date().toISOString(),createdAt:kn(),lastUpdated:kn(),createdBy:s.uid,status:"active",reopenedFrom:S.id});const F=S.participants||[],P=S.reserves||[],te=F.map(ye=>Wc(Et(Ve,"users",ye.uid),{"stats.totalSessions":Wi(-1),"stats.asParticipant":Wi(-1),"stats.friendsBrought":Wi(-(ye.friends?.length||0))})),ne=P.map(ye=>Wc(Et(Ve,"users",ye.uid),{"stats.asReserve":Wi(-1),"stats.friendsBrought":Wi(-(ye.friends?.length||0))}));await Promise.allSettled([...te,...ne]),await eh(Et(Ve,"sessions",S.id)),s&&(F.some(ye=>ye.uid===s.uid)||P.some(ye=>ye.uid===s.uid))&&await jt(s.uid),alert("Partita riaperta con successo! Statistiche aggiornate."),await wi()}catch(F){console.error("Errore nella riapertura della partita:",F),alert("Errore nella riapertura della partita")}},Zr=()=>E.jsx("div",{className:"space-y-4 md:space-y-6",children:E.jsxs("div",{className:"bg-gray-800 rounded-xl shadow-2xl p-4 md:p-6 border border-gray-700",children:[E.jsx("h2",{className:"text-xl md:text-2xl font-bold text-gray-100 mb-4",children:"Storico Partite"}),Mt.length===0?E.jsx("div",{className:"text-center py-8",children:E.jsx("p",{className:"text-gray-400",children:"Nessuna partita nel database"})}):E.jsx("div",{className:"space-y-3 md:space-y-4",children:Mt.map((S,H)=>E.jsx("div",{className:"bg-gray-700 rounded-lg p-3 md:p-4 border border-gray-600 hover:border-indigo-500 transition group",children:E.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-3",children:[E.jsxs("div",{onClick:()=>{Be({...S,id:S.id,date:S.date.toDate?S.date.toDate().toISOString():new Date().toISOString()}),_e(Le.MATCH_DETAIL)},className:"flex-1 cursor-pointer",children:[E.jsx("h3",{className:"text-base md:text-lg font-semibold text-gray-100 group-hover:text-indigo-300",children:S.date?.toDate?S.date.toDate().toLocaleDateString("it-IT",{weekday:"long",year:"numeric",month:"long",day:"numeric"}):"Partita"}),E.jsx("p",{className:"text-sm md:text-base text-gray-400 mt-1",children:S.date?.toDate?S.date.toDate().toLocaleString("it-IT",{dateStyle:"short",timeStyle:"short"}):"Data non disponibile"}),S.ignoredFromStats&&E.jsx("span",{className:"inline-block mt-1 text-xs bg-yellow-900/50 text-yellow-300 px-2 py-1 rounded",children:"Ignorata dalle statistiche"})]}),E.jsxs("div",{className:"flex items-center gap-3 md:gap-4 justify-between md:justify-end",children:[E.jsxs("div",{className:"text-center",children:[E.jsx("div",{className:"text-lg md:text-2xl font-bold text-green-400",children:(S.participants?.length||0)+(S.participants?.reduce((F,P)=>F+(P.friends?.length||0),0)||0)}),E.jsx("div",{className:"text-xs text-gray-400",children:"Partecipanti"})]}),E.jsxs("div",{className:"text-center",children:[E.jsx("div",{className:"text-lg md:text-2xl font-bold text-amber-400",children:(S.reserves?.length||0)+(S.reserves?.reduce((F,P)=>F+(P.friends?.length||0),0)||0)}),E.jsx("div",{className:"text-xs text-gray-400",children:"Riserve"})]}),Pe&&E.jsxs("div",{className:"flex items-center gap-2",children:[E.jsx("button",{onClick:F=>{F.stopPropagation(),Pt(S)},className:"p-1 md:p-2 text-blue-400 hover:text-blue-300 hover:bg-blue-900/20 rounded-lg transition",title:"Riapri partita",children:E.jsx("svg",{className:"w-4 h-4 md:w-5 md:h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})})}),E.jsx("button",{onClick:F=>{F.stopPropagation(),xi(S.id)},className:`p-1 md:p-2 text-yellow-400 hover:text-yellow-300 hover:bg-yellow-900/20 rounded-lg transition ${S.ignoredFromStats?"bg-yellow-900/50":""}`,title:S.ignoredFromStats?"Riattiva nelle statistiche":"Ignora dalle statistiche",children:S.ignoredFromStats?"":""}),E.jsx("button",{onClick:F=>{F.stopPropagation(),ai(S.id)},className:"p-1 md:p-2 text-red-400 hover:text-red-300 hover:bg-red-900/20 rounded-lg transition",title:"Elimina partita",children:E.jsx("svg",{className:"w-4 h-4 md:w-5 md:h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]})]})]})},S.id))})]})}),Jr=async(S,H)=>{if(!(!Pe||!confirm(`Sei sicuro di voler eliminare completamente l'utente "${H}"? Questa azione non pu essere annullata.`)))try{await eh(Et(Ve,"users",S)),await Ys(),alert("Utente eliminato con successo")}catch(P){console.error("Errore nell'eliminazione utente:",P),alert("Errore nell'eliminazione utente")}},ui=()=>E.jsx("div",{className:"space-y-6",children:Te.length===0?E.jsx("div",{className:"bg-gray-800 rounded-xl shadow-2xl p-8 border border-gray-700 text-center",children:E.jsx("p",{className:"text-gray-400",children:"Nessun utente registrato"})}):E.jsxs("div",{className:"bg-gray-800 rounded-xl shadow-2xl p-4 md:p-6 border border-gray-700",children:[E.jsxs("div",{className:"flex items-center justify-between mb-4",children:[E.jsx("h2",{className:"text-xl md:text-2xl font-bold text-gray-100",children:"Lista Utenti"}),Ft&&E.jsxs("button",{onClick:Zo,className:"px-3 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition font-medium text-sm flex items-center gap-2",title:"Ricalcola tutte le statistiche basandosi sui dati reali",children:[E.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),"Ricalcola Stats"]})]}),E.jsx("div",{className:"space-y-3 md:space-y-4",children:Te.map(S=>E.jsx("div",{className:"bg-gray-700 rounded-lg p-3 md:p-4 border border-gray-600",children:E.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-3",children:[E.jsxs("div",{className:"flex items-center gap-3 md:gap-4 min-w-0 flex-1",children:[E.jsx("img",{src:S.photoURL||"",alt:S.displayName||"",className:`w-10 h-10 md:w-12 md:h-12 rounded-full border-2 flex-shrink-0 object-cover ${S.email===An||S.role==="admin"?"border-blue-500 shadow-lg shadow-blue-500/30":"border-indigo-500"}`}),E.jsxs("div",{className:"flex flex-col md:flex-row md:items-center gap-2 md:gap-6 min-w-0 flex-1",children:[E.jsx("div",{className:"min-w-0",children:E.jsx("div",{className:"font-medium text-gray-100 truncate",children:S.customDisplayName||S.displayName})}),E.jsxs("div",{className:"flex gap-2 md:gap-3 text-xs",children:[E.jsxs("div",{className:"text-center",children:[E.jsx("div",{className:"font-bold text-indigo-400",children:S.stats?.totalSessions||0}),E.jsx("div",{className:"text-gray-400",children:"Partite"})]}),E.jsxs("div",{className:"text-center",children:[E.jsx("div",{className:"font-bold text-purple-400",children:S.stats?.friendsBrought||0}),E.jsx("div",{className:"text-gray-400",children:"Amici"})]})]})]})]}),E.jsxs("div",{className:"flex items-center gap-2 md:gap-3 flex-shrink-0",children:[Pe&&E.jsx("span",{className:`px-2 md:px-3 py-1 rounded-full text-xs font-medium ${S.email===An||S.role==="admin"?"bg-blue-900 text-blue-200":"bg-gray-600 text-gray-200"}`,children:S.email===An||S.role==="admin"?"Admin":"Utente"}),Pe&&S.email!==An&&S.id!==s?.uid&&E.jsxs("div",{className:"flex gap-1 md:gap-2",children:[S.role!=="admin"&&E.jsx("button",{onClick:()=>qi(S.id,"admin"),className:"px-2 md:px-3 py-1 bg-blue-600 text-white rounded text-xs hover:bg-blue-700 transition",children:"Rendi Admin"}),S.role==="admin"&&Ft&&E.jsx("button",{onClick:()=>qi(S.id,"user"),className:"px-2 md:px-3 py-1 bg-gray-600 text-white rounded text-xs hover:bg-gray-700 transition",children:"Rendi Utente"})]}),E.jsx("button",{onClick:()=>bt(S.id,S.displayName),className:"px-2 md:px-3 py-1 bg-indigo-600 text-white rounded text-xs hover:bg-indigo-700 transition",children:" Stats"}),Pe&&S.email!==An&&S.id!==s?.uid&&E.jsx("button",{onClick:()=>Jr(S.id,S.customDisplayName||S.displayName),className:"px-2 md:px-3 py-1 bg-red-600 text-white rounded text-xs hover:bg-red-700 transition",title:"Elimina utente",children:""})]})]})},S.id))})]})}),ci=()=>{const S={0:"P1 (Servizio)",1:"P2 (Opposto)",2:"P3 (Centrale)",3:"P4 (Schiacciatore)",4:"P5 (Centrale)",5:"P6 (Libero)"},H=(P,te=null)=>E.jsx("div",{className:`h-16 w-24 rounded-lg border-2 border-dashed border-gray-400 flex items-center justify-center text-center text-xs transition-all duration-200 ${P?"bg-indigo-600 text-white border-solid border-indigo-500 cursor-pointer hover:bg-indigo-700":"bg-gray-700/30 text-gray-400"}`,draggable:!!P,onDragStart:ne=>P&&Qs(ne,P),onDragOver:Bn,onDrop:ne=>!P&&tn(ne,"available",null),onClick:()=>P&&te&&te(P),children:P?E.jsxs("div",{className:"p-1",children:[E.jsx("div",{className:"font-medium",children:P.name}),P.isFriend&&E.jsx("div",{className:"text-xs opacity-75",children:"Amico"})]}):E.jsx("div",{className:"text-gray-500",children:"Vuoto"})},P?.uid||"empty"),F=(P,te)=>E.jsxs("div",{className:"bg-gray-800 rounded-xl p-6 border border-gray-700",children:[E.jsx("h3",{className:"text-lg font-bold text-gray-100 mb-4 text-center",children:te}),E.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[E.jsx("div",{className:"col-span-3 h-1 bg-gray-400 mb-2"}),E.jsxs("div",{className:"flex flex-col items-center gap-2",onDragOver:Bn,onDrop:ne=>tn(ne,P,3),children:[E.jsx("div",{className:"text-xs text-gray-400",children:S[3]}),H(Tt[P][3],Sn)]}),E.jsxs("div",{className:"flex flex-col items-center gap-2",onDragOver:Bn,onDrop:ne=>tn(ne,P,2),children:[E.jsx("div",{className:"text-xs text-gray-400",children:S[2]}),H(Tt[P][2],Sn)]}),E.jsxs("div",{className:"flex flex-col items-center gap-2",onDragOver:Bn,onDrop:ne=>tn(ne,P,1),children:[E.jsx("div",{className:"text-xs text-gray-400",children:S[1]}),H(Tt[P][1],Sn)]}),E.jsxs("div",{className:"flex flex-col items-center gap-2",onDragOver:Bn,onDrop:ne=>tn(ne,P,4),children:[E.jsx("div",{className:"text-xs text-gray-400",children:S[4]}),H(Tt[P][4],Sn)]}),E.jsxs("div",{className:"flex flex-col items-center gap-2",onDragOver:Bn,onDrop:ne=>tn(ne,P,5),children:[E.jsx("div",{className:"text-xs text-gray-400",children:S[5]}),H(Tt[P][5],Sn)]}),E.jsxs("div",{className:"flex flex-col items-center gap-2",onDragOver:Bn,onDrop:ne=>tn(ne,P,0),children:[E.jsx("div",{className:"text-xs text-gray-400",children:S[0]}),H(Tt[P][0],Sn)]})]})]});return E.jsxs("div",{className:"space-y-6",children:[E.jsxs("div",{className:"bg-gray-800 rounded-xl p-6 border border-gray-700",children:[E.jsx("h2",{className:"text-xl font-bold text-gray-100 mb-4",children:"Proponi la tua formazione"}),E.jsx("p",{className:"text-gray-400 mb-4",children:"Trascina i giocatori dalle posizioni disponibili al campo per creare la tua formazione ideale. Servono 6 giocatori per squadra (12 totali)."}),E.jsxs("div",{className:"mb-6",children:[E.jsx("h3",{className:"text-lg font-semibold text-gray-100 mb-3",children:"Giocatori disponibili"}),E.jsx("div",{className:"flex flex-wrap gap-3",children:hs.filter(P=>!(Tt.team1.some(ne=>ne?.uid===P.uid)||Tt.team2.some(ne=>ne?.uid===P.uid)||Tt.reserve?.uid===P.uid)).map(P=>H(P))})]})]}),E.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[F("team1","Squadra A"),F("team2","Squadra B")]}),E.jsxs("div",{className:"bg-gray-800 rounded-xl p-6 border border-gray-700",children:[E.jsx("h3",{className:"text-lg font-bold text-gray-100 mb-4 text-center",children:"Riserva"}),E.jsx("div",{className:"flex justify-center",children:E.jsxs("div",{className:"flex flex-col items-center gap-2",onDragOver:Bn,onDrop:P=>tn(P,"reserve",null),children:[E.jsx("div",{className:"text-xs text-gray-400",children:"Giocatore di riserva"}),H(Tt.reserve,Sn)]})})]}),E.jsxs("div",{className:"flex justify-center gap-3",children:[E.jsx("button",{onClick:()=>_e(Le.MATCH_DETAIL),className:"px-6 py-3 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition font-medium",children:"Indietro"}),E.jsx("button",{onClick:Vt,className:"px-6 py-3 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition font-medium",children:"Invia Formazione"})]})]})},Wr=()=>{if(!it)return E.jsx("div",{className:"space-y-6",children:E.jsxs("div",{className:"bg-gray-800 rounded-xl p-6 border border-gray-700",children:[E.jsx("h2",{className:"text-xl font-bold text-gray-100 mb-4",children:"Formazioni Proposte"}),E.jsxs("p",{className:"text-gray-400",children:["Servono almeno 3 proposte per calcolare le formazioni ottimali. Attualmente ci sono ",zi.length," proposte."]})]})});const S={0:"P1 (Servizio)",1:"P2 (Opposto)",2:"P3 (Centrale)",3:"P4 (Schiacciatore)",4:"P5 (Centrale)",5:"P6 (Libero)"},H=P=>E.jsx("div",{className:`h-16 w-24 rounded-lg border-2 flex items-center justify-center text-center text-xs transition-all duration-200 ${P?"bg-green-600 text-white border-solid border-green-500":"bg-gray-700/30 text-gray-400 border-dashed border-gray-400"}`,children:P?E.jsx("div",{className:"p-1",children:E.jsx("div",{className:"font-medium",children:P.name})}):E.jsx("div",{className:"text-gray-500",children:"Vuoto"})},P?.uid||"empty"),F=(P,te)=>E.jsxs("div",{className:"bg-gray-800 rounded-xl p-6 border border-gray-700",children:[E.jsx("h3",{className:"text-lg font-bold text-gray-100 mb-4 text-center",children:te}),E.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[E.jsx("div",{className:"col-span-3 h-1 bg-gray-400 mb-2"}),E.jsxs("div",{className:"flex flex-col items-center gap-2",children:[E.jsx("div",{className:"text-xs text-gray-400",children:S[3]}),H(it[P][3])]}),E.jsxs("div",{className:"flex flex-col items-center gap-2",children:[E.jsx("div",{className:"text-xs text-gray-400",children:S[2]}),H(it[P][2])]}),E.jsxs("div",{className:"flex flex-col items-center gap-2",children:[E.jsx("div",{className:"text-xs text-gray-400",children:S[1]}),H(it[P][1])]}),E.jsxs("div",{className:"flex flex-col items-center gap-2",children:[E.jsx("div",{className:"text-xs text-gray-400",children:S[4]}),H(it[P][4])]}),E.jsxs("div",{className:"flex flex-col items-center gap-2",children:[E.jsx("div",{className:"text-xs text-gray-400",children:S[5]}),H(it[P][5])]}),E.jsxs("div",{className:"flex flex-col items-center gap-2",children:[E.jsx("div",{className:"text-xs text-gray-400",children:S[0]}),H(it[P][0])]})]})]});return E.jsxs("div",{className:"space-y-6",children:[E.jsxs("div",{className:"bg-gray-800 rounded-xl p-6 border border-gray-700",children:[E.jsx("h2",{className:"text-xl font-bold text-gray-100 mb-4",children:"Formazioni Calcolate"}),E.jsxs("div",{className:"grid md:grid-cols-3 gap-4 mb-4",children:[E.jsxs("div",{className:"bg-gray-700/50 rounded-lg p-4 text-center",children:[E.jsx("div",{className:"text-2xl font-bold text-indigo-400",children:it.proposalCount}),E.jsx("div",{className:"text-sm text-gray-400",children:"Proposte analizzate"})]}),E.jsxs("div",{className:"bg-gray-700/50 rounded-lg p-4 text-center",children:[E.jsxs("div",{className:"text-2xl font-bold text-green-400",children:[Math.round(it.confidence),"%"]}),E.jsx("div",{className:"text-sm text-gray-400",children:"Consenso"})]}),E.jsxs("div",{className:"bg-gray-700/50 rounded-lg p-4 text-center",children:[E.jsx("div",{className:"text-2xl font-bold text-purple-400",children:"13"}),E.jsx("div",{className:"text-sm text-gray-400",children:"Posizioni totali"})]})]}),E.jsxs("p",{className:"text-gray-400",children:["Questa formazione  stata calcolata analizzando ",it.proposalCount," proposte diverse, tenendo conto delle preferenze di posizione e delle combinazioni di giocatori pi frequenti."]}),it.confidence<50&&E.jsx("div",{className:"mt-3 p-3 bg-amber-900/20 border border-amber-600 rounded-lg",children:E.jsxs("p",{className:"text-amber-300 text-sm",children:[" Il consenso  basso (",Math.round(it.confidence),"%). Le opinioni sono molto diverse tra i partecipanti."]})})]}),E.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[F("team1","Squadra A"),F("team2","Squadra B")]}),E.jsxs("div",{className:"bg-gray-800 rounded-xl p-6 border border-gray-700",children:[E.jsx("h3",{className:"text-lg font-bold text-gray-100 mb-4 text-center",children:"Riserva"}),E.jsx("div",{className:"flex justify-center",children:E.jsxs("div",{className:"flex flex-col items-center gap-2",children:[E.jsx("div",{className:"text-xs text-gray-400",children:"Giocatore di riserva"}),H(it.reserve)]})})]}),E.jsxs("div",{className:"flex justify-center gap-3",children:[E.jsx("button",{onClick:()=>_e(Le.FORMATION_PROPOSAL),className:"px-6 py-3 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition font-medium",children:"Modifica la tua proposta"}),E.jsx("button",{onClick:()=>_e(Le.MATCH_DETAIL),className:"px-6 py-3 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition font-medium",children:"Torna alla partita"})]})]})},ea=()=>i?E.jsx("div",{className:"fixed bottom-0 left-0 right-0 bg-gray-800 border-t border-gray-700 p-2 md:p-4 z-40",children:E.jsx("div",{className:"max-w-6xl mx-auto flex justify-center",children:E.jsxs("div",{className:"flex items-center gap-3 md:gap-6",children:[E.jsxs("button",{onClick:()=>_e(bn.length>0?Le.MATCH_LIST:Le.NO_MATCHES),className:`flex flex-col items-center gap-1 p-1 md:p-2 rounded-lg transition ${se===Le.NO_MATCHES||se===Le.MATCH_LIST?"bg-indigo-600 text-white":"text-gray-400 hover:text-gray-200"}`,title:"Partite",children:[E.jsx(vA,{className:"w-5 h-5 md:w-6 md:h-6"}),E.jsx("span",{className:"text-xs",children:"Partite"})]}),ie&&E.jsxs("button",{onClick:()=>_e(Le.MATCH_DETAIL),className:`flex flex-col items-center gap-1 p-1 md:p-2 rounded-lg transition ${se===Le.MATCH_DETAIL?"bg-indigo-600 text-white":"text-gray-400 hover:text-gray-200"}`,title:"Partita Corrente",children:[E.jsx("svg",{className:"w-5 h-5 md:w-6 md:h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 14l-7 7m0 0l-7-7m7 7V3"})}),E.jsx("span",{className:"text-xs",children:"Partita"})]}),E.jsxs("button",{onClick:()=>{wi(),_e(Le.MATCH_HISTORY)},className:`flex flex-col items-center gap-1 p-1 md:p-2 rounded-lg transition ${se===Le.MATCH_HISTORY?"bg-indigo-600 text-white":"text-gray-400 hover:text-gray-200"}`,title:"Storico",children:[E.jsx(yA,{className:"w-5 h-5 md:w-6 md:h-6"}),E.jsx("span",{className:"text-xs",children:"Storico"})]}),E.jsxs("button",{onClick:()=>{Ys(),_e(Le.USERS_LIST)},className:`flex flex-col items-center gap-1 p-1 md:p-2 rounded-lg transition ${se===Le.USERS_LIST?"bg-indigo-600 text-white":"text-gray-400 hover:text-gray-200"}`,title:"Utenti",children:[E.jsx(RA,{className:"w-5 h-5 md:w-6 md:h-6"}),E.jsx("span",{className:"text-xs",children:"Utenti"})]})]})})}):null;return E.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 to-gray-800 p-3 md:p-6 pb-24",children:E.jsxs("div",{className:"max-w-6xl mx-auto",children:[oi(),i?E.jsxs("div",{className:"mb-20",children:[" ",se===Le.NO_MATCHES&&Dn(),se===Le.MATCH_LIST&&wn(),se===Le.MATCH_DETAIL&&li(),se===Le.MATCH_HISTORY&&Zr(),se===Le.USERS_LIST&&ui(),se===Le.FORMATION_PROPOSAL&&ci(),se===Le.FORMATION_RESULT&&Wr()]}):E.jsx("div",{className:"flex flex-col items-center justify-center",children:E.jsxs("div",{className:"bg-gray-800 rounded-xl shadow-2xl p-8 border border-gray-700 w-full max-w-md text-center",children:[E.jsx("div",{className:"text-lg text-yellow-200 mb-6",children:"Benvenuto! Effettua il login per accedere alle partite di pallavolo"}),E.jsx("button",{onClick:Gs,disabled:l,className:"w-full px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition font-medium flex items-center justify-center gap-2",children:l?E.jsxs(E.Fragment,{children:[E.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white"}),"Accesso..."]}):E.jsxs(E.Fragment,{children:[E.jsx(y0,{className:"w-5 h-5"}),"Accedi con Google"]})})]})}),ea(),k&&nt&&E.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:E.jsxs("div",{className:"bg-gray-800 rounded-xl shadow-2xl border border-gray-700 w-full max-w-md p-6",children:[E.jsxs("div",{className:"flex items-center justify-between mb-4",children:[E.jsxs("h3",{className:"text-lg font-bold text-gray-100 flex items-center gap-2",children:[E.jsx(p0,{className:"w-5 h-5 text-yellow-500"}),"Statistiche di ",nt.displayName]}),E.jsx("button",{onClick:()=>R(!1),className:"text-gray-400 hover:text-gray-200 transition",children:""})]}),E.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[E.jsxs("div",{className:"bg-gray-700/50 rounded-lg p-3 border border-gray-600/50",children:[E.jsx("div",{className:"text-xl font-bold text-indigo-400",children:nt.totalSessions||0}),E.jsx("div",{className:"text-xs text-gray-400",children:"Partite totali"})]}),E.jsxs("div",{className:"bg-gray-700/50 rounded-lg p-3 border border-gray-600/50",children:[E.jsx("div",{className:"text-xl font-bold text-purple-400",children:nt.friendsBrought||0}),E.jsx("div",{className:"text-xs text-gray-400",children:"Amici portati"})]})]}),Pe&&E.jsx("button",{onClick:()=>ja(nt.uid),className:"mt-4 w-full px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition border border-red-500 text-sm",children:" Reset statistiche utente"}),E.jsx("button",{onClick:()=>R(!1),className:"mt-2 w-full px-4 py-2 bg-gray-700 text-gray-100 rounded-lg hover:bg-gray-600 transition border border-gray-600 text-sm",children:"Chiudi"})]})})]})})}function II(){return E.jsx("div",{className:"App",children:E.jsx(NI,{})})}rA.createRoot(document.getElementById("root")).render(E.jsx(Ue.StrictMode,{children:E.jsx(II,{})}));
