(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))r(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&r(d)}).observe(document,{childList:!0,subtree:!0});function i(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function r(l){if(l.ep)return;l.ep=!0;const c=i(l);fetch(l.href,c)}})();var Yd={exports:{}},jl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var iv;function KA(){if(iv)return jl;iv=1;var s=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function i(r,l,c){var d=null;if(c!==void 0&&(d=""+c),l.key!==void 0&&(d=""+l.key),"key"in l){c={};for(var p in l)p!=="key"&&(c[p]=l[p])}else c=l;return l=c.ref,{$$typeof:s,type:r,key:d,ref:l!==void 0?l:null,props:c}}return jl.Fragment=t,jl.jsx=i,jl.jsxs=i,jl}var sv;function XA(){return sv||(sv=1,Yd.exports=KA()),Yd.exports}var S=XA(),Kd={exports:{}},Ct={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rv;function $A(){if(rv)return Ct;rv=1;var s=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),_=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),b=Symbol.for("react.activity"),C=Symbol.iterator;function G(V){return V===null||typeof V!="object"?null:(V=C&&V[C]||V["@@iterator"],typeof V=="function"?V:null)}var et={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},ot=Object.assign,it={};function _t(V,F,st){this.props=V,this.context=F,this.refs=it,this.updater=st||et}_t.prototype.isReactComponent={},_t.prototype.setState=function(V,F){if(typeof V!="object"&&typeof V!="function"&&V!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,V,F,"setState")},_t.prototype.forceUpdate=function(V){this.updater.enqueueForceUpdate(this,V,"forceUpdate")};function Rt(){}Rt.prototype=_t.prototype;function Tt(V,F,st){this.props=V,this.context=F,this.refs=it,this.updater=st||et}var Zt=Tt.prototype=new Rt;Zt.constructor=Tt,ot(Zt,_t.prototype),Zt.isPureReactComponent=!0;var ie=Array.isArray;function Gt(){}var N={H:null,A:null,T:null,S:null},w=Object.prototype.hasOwnProperty;function x(V,F,st){var J=st.ref;return{$$typeof:s,type:V,key:F,ref:J!==void 0?J:null,props:st}}function U(V,F){return x(V.type,F,V.props)}function M(V){return typeof V=="object"&&V!==null&&V.$$typeof===s}function L(V){var F={"=":"=0",":":"=2"};return"$"+V.replace(/[=:]/g,function(st){return F[st]})}var R=/\/+/g;function de(V,F){return typeof V=="object"&&V!==null&&V.key!=null?L(""+V.key):F.toString(36)}function Se(V){switch(V.status){case"fulfilled":return V.value;case"rejected":throw V.reason;default:switch(typeof V.status=="string"?V.then(Gt,Gt):(V.status="pending",V.then(function(F){V.status==="pending"&&(V.status="fulfilled",V.value=F)},function(F){V.status==="pending"&&(V.status="rejected",V.reason=F)})),V.status){case"fulfilled":return V.value;case"rejected":throw V.reason}}throw V}function Q(V,F,st,J,At){var It=typeof V;(It==="undefined"||It==="boolean")&&(V=null);var Vt=!1;if(V===null)Vt=!0;else switch(It){case"bigint":case"string":case"number":Vt=!0;break;case"object":switch(V.$$typeof){case s:case t:Vt=!0;break;case A:return Vt=V._init,Q(Vt(V._payload),F,st,J,At)}}if(Vt)return At=At(V),Vt=J===""?"."+de(V,0):J,ie(At)?(st="",Vt!=null&&(st=Vt.replace(R,"$&/")+"/"),Q(At,F,st,"",function($n){return $n})):At!=null&&(M(At)&&(At=U(At,st+(At.key==null||V&&V.key===At.key?"":(""+At.key).replace(R,"$&/")+"/")+Vt)),F.push(At)),1;Vt=0;var me=J===""?".":J+":";if(ie(V))for(var ge=0;ge<V.length;ge++)J=V[ge],It=me+de(J,ge),Vt+=Q(J,F,st,It,At);else if(ge=G(V),typeof ge=="function")for(V=ge.call(V),ge=0;!(J=V.next()).done;)J=J.value,It=me+de(J,ge++),Vt+=Q(J,F,st,It,At);else if(It==="object"){if(typeof V.then=="function")return Q(Se(V),F,st,J,At);throw F=String(V),Error("Objects are not valid as a React child (found: "+(F==="[object Object]"?"object with keys {"+Object.keys(V).join(", ")+"}":F)+"). If you meant to render a collection of children, use an array instead.")}return Vt}function at(V,F,st){if(V==null)return V;var J=[],At=0;return Q(V,J,"","",function(It){return F.call(st,It,At++)}),J}function yt(V){if(V._status===-1){var F=V._result;F=F(),F.then(function(st){(V._status===0||V._status===-1)&&(V._status=1,V._result=st)},function(st){(V._status===0||V._status===-1)&&(V._status=2,V._result=st)}),V._status===-1&&(V._status=0,V._result=F)}if(V._status===1)return V._result.default;throw V._result}var Kt=typeof reportError=="function"?reportError:function(V){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var F=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof V=="object"&&V!==null&&typeof V.message=="string"?String(V.message):String(V),error:V});if(!window.dispatchEvent(F))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",V);return}console.error(V)},te={map:at,forEach:function(V,F,st){at(V,function(){F.apply(this,arguments)},st)},count:function(V){var F=0;return at(V,function(){F++}),F},toArray:function(V){return at(V,function(F){return F})||[]},only:function(V){if(!M(V))throw Error("React.Children.only expected to receive a single React element child.");return V}};return Ct.Activity=b,Ct.Children=te,Ct.Component=_t,Ct.Fragment=i,Ct.Profiler=l,Ct.PureComponent=Tt,Ct.StrictMode=r,Ct.Suspense=_,Ct.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=N,Ct.__COMPILER_RUNTIME={__proto__:null,c:function(V){return N.H.useMemoCache(V)}},Ct.cache=function(V){return function(){return V.apply(null,arguments)}},Ct.cacheSignal=function(){return null},Ct.cloneElement=function(V,F,st){if(V==null)throw Error("The argument must be a React element, but you passed "+V+".");var J=ot({},V.props),At=V.key;if(F!=null)for(It in F.key!==void 0&&(At=""+F.key),F)!w.call(F,It)||It==="key"||It==="__self"||It==="__source"||It==="ref"&&F.ref===void 0||(J[It]=F[It]);var It=arguments.length-2;if(It===1)J.children=st;else if(1<It){for(var Vt=Array(It),me=0;me<It;me++)Vt[me]=arguments[me+2];J.children=Vt}return x(V.type,At,J)},Ct.createContext=function(V){return V={$$typeof:d,_currentValue:V,_currentValue2:V,_threadCount:0,Provider:null,Consumer:null},V.Provider=V,V.Consumer={$$typeof:c,_context:V},V},Ct.createElement=function(V,F,st){var J,At={},It=null;if(F!=null)for(J in F.key!==void 0&&(It=""+F.key),F)w.call(F,J)&&J!=="key"&&J!=="__self"&&J!=="__source"&&(At[J]=F[J]);var Vt=arguments.length-2;if(Vt===1)At.children=st;else if(1<Vt){for(var me=Array(Vt),ge=0;ge<Vt;ge++)me[ge]=arguments[ge+2];At.children=me}if(V&&V.defaultProps)for(J in Vt=V.defaultProps,Vt)At[J]===void 0&&(At[J]=Vt[J]);return x(V,It,At)},Ct.createRef=function(){return{current:null}},Ct.forwardRef=function(V){return{$$typeof:p,render:V}},Ct.isValidElement=M,Ct.lazy=function(V){return{$$typeof:A,_payload:{_status:-1,_result:V},_init:yt}},Ct.memo=function(V,F){return{$$typeof:y,type:V,compare:F===void 0?null:F}},Ct.startTransition=function(V){var F=N.T,st={};N.T=st;try{var J=V(),At=N.S;At!==null&&At(st,J),typeof J=="object"&&J!==null&&typeof J.then=="function"&&J.then(Gt,Kt)}catch(It){Kt(It)}finally{F!==null&&st.types!==null&&(F.types=st.types),N.T=F}},Ct.unstable_useCacheRefresh=function(){return N.H.useCacheRefresh()},Ct.use=function(V){return N.H.use(V)},Ct.useActionState=function(V,F,st){return N.H.useActionState(V,F,st)},Ct.useCallback=function(V,F){return N.H.useCallback(V,F)},Ct.useContext=function(V){return N.H.useContext(V)},Ct.useDebugValue=function(){},Ct.useDeferredValue=function(V,F){return N.H.useDeferredValue(V,F)},Ct.useEffect=function(V,F){return N.H.useEffect(V,F)},Ct.useEffectEvent=function(V){return N.H.useEffectEvent(V)},Ct.useId=function(){return N.H.useId()},Ct.useImperativeHandle=function(V,F,st){return N.H.useImperativeHandle(V,F,st)},Ct.useInsertionEffect=function(V,F){return N.H.useInsertionEffect(V,F)},Ct.useLayoutEffect=function(V,F){return N.H.useLayoutEffect(V,F)},Ct.useMemo=function(V,F){return N.H.useMemo(V,F)},Ct.useOptimistic=function(V,F){return N.H.useOptimistic(V,F)},Ct.useReducer=function(V,F,st){return N.H.useReducer(V,F,st)},Ct.useRef=function(V){return N.H.useRef(V)},Ct.useState=function(V){return N.H.useState(V)},Ct.useSyncExternalStore=function(V,F,st){return N.H.useSyncExternalStore(V,F,st)},Ct.useTransition=function(){return N.H.useTransition()},Ct.version="19.2.0",Ct}var av;function km(){return av||(av=1,Kd.exports=$A()),Kd.exports}var Yt=km(),Xd={exports:{}},zl={},$d={exports:{}},Zd={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ov;function ZA(){return ov||(ov=1,(function(s){function t(Q,at){var yt=Q.length;Q.push(at);t:for(;0<yt;){var Kt=yt-1>>>1,te=Q[Kt];if(0<l(te,at))Q[Kt]=at,Q[yt]=te,yt=Kt;else break t}}function i(Q){return Q.length===0?null:Q[0]}function r(Q){if(Q.length===0)return null;var at=Q[0],yt=Q.pop();if(yt!==at){Q[0]=yt;t:for(var Kt=0,te=Q.length,V=te>>>1;Kt<V;){var F=2*(Kt+1)-1,st=Q[F],J=F+1,At=Q[J];if(0>l(st,yt))J<te&&0>l(At,st)?(Q[Kt]=At,Q[J]=yt,Kt=J):(Q[Kt]=st,Q[F]=yt,Kt=F);else if(J<te&&0>l(At,yt))Q[Kt]=At,Q[J]=yt,Kt=J;else break t}}return at}function l(Q,at){var yt=Q.sortIndex-at.sortIndex;return yt!==0?yt:Q.id-at.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;s.unstable_now=function(){return c.now()}}else{var d=Date,p=d.now();s.unstable_now=function(){return d.now()-p}}var _=[],y=[],A=1,b=null,C=3,G=!1,et=!1,ot=!1,it=!1,_t=typeof setTimeout=="function"?setTimeout:null,Rt=typeof clearTimeout=="function"?clearTimeout:null,Tt=typeof setImmediate<"u"?setImmediate:null;function Zt(Q){for(var at=i(y);at!==null;){if(at.callback===null)r(y);else if(at.startTime<=Q)r(y),at.sortIndex=at.expirationTime,t(_,at);else break;at=i(y)}}function ie(Q){if(ot=!1,Zt(Q),!et)if(i(_)!==null)et=!0,Gt||(Gt=!0,L());else{var at=i(y);at!==null&&Se(ie,at.startTime-Q)}}var Gt=!1,N=-1,w=5,x=-1;function U(){return it?!0:!(s.unstable_now()-x<w)}function M(){if(it=!1,Gt){var Q=s.unstable_now();x=Q;var at=!0;try{t:{et=!1,ot&&(ot=!1,Rt(N),N=-1),G=!0;var yt=C;try{e:{for(Zt(Q),b=i(_);b!==null&&!(b.expirationTime>Q&&U());){var Kt=b.callback;if(typeof Kt=="function"){b.callback=null,C=b.priorityLevel;var te=Kt(b.expirationTime<=Q);if(Q=s.unstable_now(),typeof te=="function"){b.callback=te,Zt(Q),at=!0;break e}b===i(_)&&r(_),Zt(Q)}else r(_);b=i(_)}if(b!==null)at=!0;else{var V=i(y);V!==null&&Se(ie,V.startTime-Q),at=!1}}break t}finally{b=null,C=yt,G=!1}at=void 0}}finally{at?L():Gt=!1}}}var L;if(typeof Tt=="function")L=function(){Tt(M)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,de=R.port2;R.port1.onmessage=M,L=function(){de.postMessage(null)}}else L=function(){_t(M,0)};function Se(Q,at){N=_t(function(){Q(s.unstable_now())},at)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(Q){Q.callback=null},s.unstable_forceFrameRate=function(Q){0>Q||125<Q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):w=0<Q?Math.floor(1e3/Q):5},s.unstable_getCurrentPriorityLevel=function(){return C},s.unstable_next=function(Q){switch(C){case 1:case 2:case 3:var at=3;break;default:at=C}var yt=C;C=at;try{return Q()}finally{C=yt}},s.unstable_requestPaint=function(){it=!0},s.unstable_runWithPriority=function(Q,at){switch(Q){case 1:case 2:case 3:case 4:case 5:break;default:Q=3}var yt=C;C=Q;try{return at()}finally{C=yt}},s.unstable_scheduleCallback=function(Q,at,yt){var Kt=s.unstable_now();switch(typeof yt=="object"&&yt!==null?(yt=yt.delay,yt=typeof yt=="number"&&0<yt?Kt+yt:Kt):yt=Kt,Q){case 1:var te=-1;break;case 2:te=250;break;case 5:te=1073741823;break;case 4:te=1e4;break;default:te=5e3}return te=yt+te,Q={id:A++,callback:at,priorityLevel:Q,startTime:yt,expirationTime:te,sortIndex:-1},yt>Kt?(Q.sortIndex=yt,t(y,Q),i(_)===null&&Q===i(y)&&(ot?(Rt(N),N=-1):ot=!0,Se(ie,yt-Kt))):(Q.sortIndex=te,t(_,Q),et||G||(et=!0,Gt||(Gt=!0,L()))),Q},s.unstable_shouldYield=U,s.unstable_wrapCallback=function(Q){var at=C;return function(){var yt=C;C=at;try{return Q.apply(this,arguments)}finally{C=yt}}}})(Zd)),Zd}var lv;function JA(){return lv||(lv=1,$d.exports=ZA()),$d.exports}var Jd={exports:{}},mn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var uv;function WA(){if(uv)return mn;uv=1;var s=km();function t(_){var y="https://react.dev/errors/"+_;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var A=2;A<arguments.length;A++)y+="&args[]="+encodeURIComponent(arguments[A])}return"Minified React error #"+_+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var r={d:{f:i,r:function(){throw Error(t(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},l=Symbol.for("react.portal");function c(_,y,A){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:b==null?null:""+b,children:_,containerInfo:y,implementation:A}}var d=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(_,y){if(_==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return mn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,mn.createPortal=function(_,y){var A=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(t(299));return c(_,y,null,A)},mn.flushSync=function(_){var y=d.T,A=r.p;try{if(d.T=null,r.p=2,_)return _()}finally{d.T=y,r.p=A,r.d.f()}},mn.preconnect=function(_,y){typeof _=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,r.d.C(_,y))},mn.prefetchDNS=function(_){typeof _=="string"&&r.d.D(_)},mn.preinit=function(_,y){if(typeof _=="string"&&y&&typeof y.as=="string"){var A=y.as,b=p(A,y.crossOrigin),C=typeof y.integrity=="string"?y.integrity:void 0,G=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;A==="style"?r.d.S(_,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:b,integrity:C,fetchPriority:G}):A==="script"&&r.d.X(_,{crossOrigin:b,integrity:C,fetchPriority:G,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},mn.preinitModule=function(_,y){if(typeof _=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var A=p(y.as,y.crossOrigin);r.d.M(_,{crossOrigin:A,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&r.d.M(_)},mn.preload=function(_,y){if(typeof _=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var A=y.as,b=p(A,y.crossOrigin);r.d.L(_,A,{crossOrigin:b,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},mn.preloadModule=function(_,y){if(typeof _=="string")if(y){var A=p(y.as,y.crossOrigin);r.d.m(_,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:A,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else r.d.m(_)},mn.requestFormReset=function(_){r.d.r(_)},mn.unstable_batchedUpdates=function(_,y){return _(y)},mn.useFormState=function(_,y,A){return d.H.useFormState(_,y,A)},mn.useFormStatus=function(){return d.H.useHostTransitionStatus()},mn.version="19.2.0",mn}var cv;function tS(){if(cv)return Jd.exports;cv=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(t){console.error(t)}}return s(),Jd.exports=WA(),Jd.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hv;function eS(){if(hv)return zl;hv=1;var s=JA(),t=km(),i=tS();function r(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)n+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function c(e){var n=e,a=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(a=n.return),e=n.return;while(e)}return n.tag===3?a:null}function d(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function p(e){if(e.tag===31){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function _(e){if(c(e)!==e)throw Error(r(188))}function y(e){var n=e.alternate;if(!n){if(n=c(e),n===null)throw Error(r(188));return n!==e?null:e}for(var a=e,o=n;;){var h=a.return;if(h===null)break;var f=h.alternate;if(f===null){if(o=h.return,o!==null){a=o;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===a)return _(h),e;if(f===o)return _(h),n;f=f.sibling}throw Error(r(188))}if(a.return!==o.return)a=h,o=f;else{for(var g=!1,E=h.child;E;){if(E===a){g=!0,a=h,o=f;break}if(E===o){g=!0,o=h,a=f;break}E=E.sibling}if(!g){for(E=f.child;E;){if(E===a){g=!0,a=f,o=h;break}if(E===o){g=!0,o=f,a=h;break}E=E.sibling}if(!g)throw Error(r(189))}}if(a.alternate!==o)throw Error(r(190))}if(a.tag!==3)throw Error(r(188));return a.stateNode.current===a?e:n}function A(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=A(e),n!==null)return n;e=e.sibling}return null}var b=Object.assign,C=Symbol.for("react.element"),G=Symbol.for("react.transitional.element"),et=Symbol.for("react.portal"),ot=Symbol.for("react.fragment"),it=Symbol.for("react.strict_mode"),_t=Symbol.for("react.profiler"),Rt=Symbol.for("react.consumer"),Tt=Symbol.for("react.context"),Zt=Symbol.for("react.forward_ref"),ie=Symbol.for("react.suspense"),Gt=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),x=Symbol.for("react.activity"),U=Symbol.for("react.memo_cache_sentinel"),M=Symbol.iterator;function L(e){return e===null||typeof e!="object"?null:(e=M&&e[M]||e["@@iterator"],typeof e=="function"?e:null)}var R=Symbol.for("react.client.reference");function de(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===R?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case ot:return"Fragment";case _t:return"Profiler";case it:return"StrictMode";case ie:return"Suspense";case Gt:return"SuspenseList";case x:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case et:return"Portal";case Tt:return e.displayName||"Context";case Rt:return(e._context.displayName||"Context")+".Consumer";case Zt:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case N:return n=e.displayName||null,n!==null?n:de(e.type)||"Memo";case w:n=e._payload,e=e._init;try{return de(e(n))}catch{}}return null}var Se=Array.isArray,Q=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,at=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,yt={pending:!1,data:null,method:null,action:null},Kt=[],te=-1;function V(e){return{current:e}}function F(e){0>te||(e.current=Kt[te],Kt[te]=null,te--)}function st(e,n){te++,Kt[te]=e.current,e.current=n}var J=V(null),At=V(null),It=V(null),Vt=V(null);function me(e,n){switch(st(It,n),st(At,e),st(J,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?R_(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=R_(n),e=x_(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}F(J),st(J,e)}function ge(){F(J),F(At),F(It)}function $n(e){e.memoizedState!==null&&st(Vt,e);var n=J.current,a=x_(n,e.type);n!==a&&(st(At,e),st(J,a))}function dn(e){At.current===e&&(F(J),F(At)),Vt.current===e&&(F(Vt),Ul._currentValue=yt)}var Zi,Ot;function Zn(e){if(Zi===void 0)try{throw Error()}catch(a){var n=a.stack.trim().match(/\n( *(at )?)/);Zi=n&&n[1]||"",Ot=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Zi+e+Ot}var bi=!1;function wi(e,n){if(!e||bi)return"";bi=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(n){var $=function(){throw Error()};if(Object.defineProperty($.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct($,[])}catch(H){var B=H}Reflect.construct(e,[],$)}else{try{$.call()}catch(H){B=H}e.call($.prototype)}}else{try{throw Error()}catch(H){B=H}($=e())&&typeof $.catch=="function"&&$.catch(function(){})}}catch(H){if(H&&B&&typeof H.stack=="string")return[H.stack,B.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=o.DetermineComponentFrameRoot(),g=f[0],E=f[1];if(g&&E){var I=g.split(`
`),z=E.split(`
`);for(h=o=0;o<I.length&&!I[o].includes("DetermineComponentFrameRoot");)o++;for(;h<z.length&&!z[h].includes("DetermineComponentFrameRoot");)h++;if(o===I.length||h===z.length)for(o=I.length-1,h=z.length-1;1<=o&&0<=h&&I[o]!==z[h];)h--;for(;1<=o&&0<=h;o--,h--)if(I[o]!==z[h]){if(o!==1||h!==1)do if(o--,h--,0>h||I[o]!==z[h]){var Y=`
`+I[o].replace(" at new "," at ");return e.displayName&&Y.includes("<anonymous>")&&(Y=Y.replace("<anonymous>",e.displayName)),Y}while(1<=o&&0<=h);break}}}finally{bi=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?Zn(a):""}function Os(e,n){switch(e.tag){case 26:case 27:case 5:return Zn(e.type);case 16:return Zn("Lazy");case 13:return e.child!==n&&n!==null?Zn("Suspense Fallback"):Zn("Suspense");case 19:return Zn("SuspenseList");case 0:case 15:return wi(e.type,!1);case 11:return wi(e.type.render,!1);case 1:return wi(e.type,!0);case 31:return Zn("Activity");default:return""}}function Ji(e){try{var n="",a=null;do n+=Os(e,a),a=e,e=e.return;while(e);return n}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}var Ce=Object.prototype.hasOwnProperty,Me=s.unstable_scheduleCallback,Ri=s.unstable_cancelCallback,jo=s.unstable_shouldYield,Vs=s.unstable_requestPaint,nn=s.unstable_now,Wi=s.unstable_getCurrentPriorityLevel,Vr=s.unstable_ImmediatePriority,Ur=s.unstable_UserBlockingPriority,_n=s.unstable_NormalPriority,Us=s.unstable_LowPriority,Lr=s.unstable_IdlePriority,kr=s.log,Sa=s.unstable_setDisableYieldValue,Sn=null,Ke=null;function bn(e){if(typeof kr=="function"&&Sa(e),Ke&&typeof Ke.setStrictMode=="function")try{Ke.setStrictMode(Sn,e)}catch{}}var be=Math.clz32?Math.clz32:ba,ts=Math.log,es=Math.LN2;function ba(e){return e>>>=0,e===0?32:31-(ts(e)/es|0)|0}var wn=256,ns=262144,we=4194304;function Vn(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Jn(e,n,a){var o=e.pendingLanes;if(o===0)return 0;var h=0,f=e.suspendedLanes,g=e.pingedLanes;e=e.warmLanes;var E=o&134217727;return E!==0?(o=E&~f,o!==0?h=Vn(o):(g&=E,g!==0?h=Vn(g):a||(a=E&~e,a!==0&&(h=Vn(a))))):(E=o&~f,E!==0?h=Vn(E):g!==0?h=Vn(g):a||(a=o&~e,a!==0&&(h=Vn(a)))),h===0?0:n!==0&&n!==h&&(n&f)===0&&(f=h&-h,a=n&-n,f>=a||f===32&&(a&4194048)!==0)?n:h}function Un(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function zo(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function wa(){var e=we;return we<<=1,(we&62914560)===0&&(we=4194304),e}function Wn(e){for(var n=[],a=0;31>a;a++)n.push(e);return n}function is(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Bo(e,n,a,o,h,f){var g=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var E=e.entanglements,I=e.expirationTimes,z=e.hiddenUpdates;for(a=g&~a;0<a;){var Y=31-be(a),$=1<<Y;E[Y]=0,I[Y]=-1;var B=z[Y];if(B!==null)for(z[Y]=null,Y=0;Y<B.length;Y++){var H=B[Y];H!==null&&(H.lane&=-536870913)}a&=~$}o!==0&&ss(e,o,0),f!==0&&h===0&&e.tag!==0&&(e.suspendedLanes|=f&~(g&~n))}function ss(e,n,a){e.pendingLanes|=n,e.suspendedLanes&=~n;var o=31-be(n);e.entangledLanes|=n,e.entanglements[o]=e.entanglements[o]|1073741824|a&261930}function Pr(e,n){var a=e.entangledLanes|=n;for(e=e.entanglements;a;){var o=31-be(a),h=1<<o;h&n|e[o]&n&&(e[o]|=n),a&=~h}}function jr(e,n){var a=n&-n;return a=(a&42)!==0?1:D(a),(a&(e.suspendedLanes|n))!==0?0:a}function D(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function W(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function tt(){var e=at.p;return e!==0?e:(e=window.event,e===void 0?32:$_(e.type))}function nt(e,n){var a=at.p;try{return at.p=e,n()}finally{at.p=a}}var dt=Math.random().toString(36).slice(2),mt="__reactFiber$"+dt,bt="__reactProps$"+dt,ft="__reactContainer$"+dt,Pt="__reactEvents$"+dt,jt="__reactListeners$"+dt,ye="__reactHandles$"+dt,Oe="__reactResources$"+dt,Ze="__reactMarker$"+dt;function Ln(e){delete e[mt],delete e[bt],delete e[Pt],delete e[jt],delete e[ye]}function xi(e){var n=e[mt];if(n)return n;for(var a=e.parentNode;a;){if(n=a[ft]||a[mt]){if(a=n.alternate,n.child!==null||a!==null&&a.child!==null)for(e=V_(e);e!==null;){if(a=e[mt])return a;e=V_(e)}return n}e=a,a=e.parentNode}return null}function ti(e){if(e=e[mt]||e[ft]){var n=e.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return e}return null}function kn(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(r(33))}function Ii(e){var n=e[Oe];return n||(n=e[Oe]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function Pe(e){e[Ze]=!0}var qo=new Set,Ho={};function Ci(e,n){Ni(e,n),Ni(e+"Capture",n)}function Ni(e,n){for(Ho[e]=n,e=0;e<n.length;e++)qo.add(n[e])}var Fo=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Go={},Qo={};function Iu(e){return Ce.call(Qo,e)?!0:Ce.call(Go,e)?!1:Fo.test(e)?Qo[e]=!0:(Go[e]=!0,!1)}function Ra(e,n,a){if(Iu(n))if(a===null)e.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var o=n.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+a)}}function Pn(e,n,a){if(a===null)e.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+a)}}function je(e,n,a,o){if(o===null)e.removeAttribute(a);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(n,a,""+o)}}function Je(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Ls(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Yo(e,n,a){var o=Object.getOwnPropertyDescriptor(e.constructor.prototype,n);if(!e.hasOwnProperty(n)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var h=o.get,f=o.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return h.call(this)},set:function(g){a=""+g,f.call(this,g)}}),Object.defineProperty(e,n,{enumerable:o.enumerable}),{getValue:function(){return a},setValue:function(g){a=""+g},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function se(e){if(!e._valueTracker){var n=Ls(e)?"checked":"value";e._valueTracker=Yo(e,n,""+e[n])}}function zr(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var a=n.getValue(),o="";return e&&(o=Ls(e)?e.checked?"true":"false":e.value),e=o,e!==a?(n.setValue(e),!0):!1}function Di(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Br=/[\n"\\]/g;function Rn(e){return e.replace(Br,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function xa(e,n,a,o,h,f,g,E){e.name="",g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"?e.type=g:e.removeAttribute("type"),n!=null?g==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+Je(n)):e.value!==""+Je(n)&&(e.value=""+Je(n)):g!=="submit"&&g!=="reset"||e.removeAttribute("value"),n!=null?Ko(e,g,Je(n)):a!=null?Ko(e,g,Je(a)):o!=null&&e.removeAttribute("value"),h==null&&f!=null&&(e.defaultChecked=!!f),h!=null&&(e.checked=h&&typeof h!="function"&&typeof h!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?e.name=""+Je(E):e.removeAttribute("name")}function Cu(e,n,a,o,h,f,g,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(e.type=f),n!=null||a!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){se(e);return}a=a!=null?""+Je(a):"",n=n!=null?""+Je(n):a,E||n===e.value||(e.value=n),e.defaultValue=n}o=o??h,o=typeof o!="function"&&typeof o!="symbol"&&!!o,e.checked=E?e.checked:!!o,e.defaultChecked=!!o,g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(e.name=g),se(e)}function Ko(e,n,a){n==="number"&&Di(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function ks(e,n,a,o){if(e=e.options,n){n={};for(var h=0;h<a.length;h++)n["$"+a[h]]=!0;for(a=0;a<e.length;a++)h=n.hasOwnProperty("$"+e[a].value),e[a].selected!==h&&(e[a].selected=h),h&&o&&(e[a].defaultSelected=!0)}else{for(a=""+Je(a),n=null,h=0;h<e.length;h++){if(e[h].value===a){e[h].selected=!0,o&&(e[h].defaultSelected=!0);return}n!==null||e[h].disabled||(n=e[h])}n!==null&&(n.selected=!0)}}function Nu(e,n,a){if(n!=null&&(n=""+Je(n),n!==e.value&&(e.value=n),a==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=a!=null?""+Je(a):""}function Ps(e,n,a,o){if(n==null){if(o!=null){if(a!=null)throw Error(r(92));if(Se(o)){if(1<o.length)throw Error(r(93));o=o[0]}a=o}a==null&&(a=""),n=a}a=Je(n),e.defaultValue=a,o=e.textContent,o===a&&o!==""&&o!==null&&(e.value=o),se(e)}function xn(e,n){if(n){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=n;return}}e.textContent=n}var Du=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Xo(e,n,a){var o=n.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?o?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":o?e.setProperty(n,a):typeof a!="number"||a===0||Du.has(n)?n==="float"?e.cssFloat=a:e[n]=(""+a).trim():e[n]=a+"px"}function $o(e,n,a){if(n!=null&&typeof n!="object")throw Error(r(62));if(e=e.style,a!=null){for(var o in a)!a.hasOwnProperty(o)||n!=null&&n.hasOwnProperty(o)||(o.indexOf("--")===0?e.setProperty(o,""):o==="float"?e.cssFloat="":e[o]="");for(var h in n)o=n[h],n.hasOwnProperty(h)&&a[h]!==o&&Xo(e,h,o)}else for(var f in n)n.hasOwnProperty(f)&&Xo(e,f,n[f])}function Ia(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Mu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),js=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ca(e){return js.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function fi(){}var Zo=null;function ei(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var zs=null,Mi=null;function qr(e){var n=ti(e);if(n&&(e=n.stateNode)){var a=e[bt]||null;t:switch(e=n.stateNode,n.type){case"input":if(xa(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),n=a.name,a.type==="radio"&&n!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+Rn(""+n)+'"][type="radio"]'),n=0;n<a.length;n++){var o=a[n];if(o!==e&&o.form===e.form){var h=o[bt]||null;if(!h)throw Error(r(90));xa(o,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<a.length;n++)o=a[n],o.form===e.form&&zr(o)}break t;case"textarea":Nu(e,a.value,a.defaultValue);break t;case"select":n=a.value,n!=null&&ks(e,!!a.multiple,n,!1)}}}var Na=!1;function Bs(e,n,a){if(Na)return e(n,a);Na=!0;try{var o=e(n);return o}finally{if(Na=!1,(zs!==null||Mi!==null)&&(wc(),zs&&(n=zs,e=Mi,Mi=zs=null,qr(n),e)))for(n=0;n<e.length;n++)qr(e[n])}}function di(e,n){var a=e.stateNode;if(a===null)return null;var o=a[bt]||null;if(o===null)return null;a=o[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(e=e.type,o=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!o;break t;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(r(231,n,typeof a));return a}var ni=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Hr=!1;if(ni)try{var oe={};Object.defineProperty(oe,"passive",{get:function(){Hr=!0}}),window.addEventListener("test",oe,oe),window.removeEventListener("test",oe,oe)}catch{Hr=!1}var Oi=null,Jo=null,Fr=null;function Wo(){if(Fr)return Fr;var e,n=Jo,a=n.length,o,h="value"in Oi?Oi.value:Oi.textContent,f=h.length;for(e=0;e<a&&n[e]===h[e];e++);var g=a-e;for(o=1;o<=g&&n[a-o]===h[f-o];o++);return Fr=h.slice(e,1<o?1-o:void 0)}function Gr(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function rs(){return!0}function mi(){return!1}function sn(e){function n(a,o,h,f,g){this._reactName=a,this._targetInst=h,this.type=o,this.nativeEvent=f,this.target=g,this.currentTarget=null;for(var E in e)e.hasOwnProperty(E)&&(a=e[E],this[E]=a?a(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?rs:mi,this.isPropagationStopped=mi,this}return b(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=rs)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=rs)},persist:function(){},isPersistent:rs}),n}var as={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Vi=sn(as),qs=b({},as,{view:0,detail:0}),tl=sn(qs),Hs,Da,Ui,Ma=b({},qs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Fs,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ui&&(Ui&&e.type==="mousemove"?(Hs=e.screenX-Ui.screenX,Da=e.screenY-Ui.screenY):Da=Hs=0,Ui=e),Hs)},movementY:function(e){return"movementY"in e?e.movementY:Da}}),el=sn(Ma),Qr=b({},Ma,{dataTransfer:0}),Ou=sn(Qr),Vu=b({},qs,{relatedTarget:0}),Yr=sn(Vu),nl=b({},as,{animationName:0,elapsedTime:0,pseudoElement:0}),Uu=sn(nl),Oa=b({},as,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Lu=sn(Oa),ku=b({},as,{data:0}),Li=sn(ku),Pu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ju={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},zu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Bu(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=zu[e])?!!n[e]:!1}function Fs(){return Bu}var vn=b({},qs,{key:function(e){if(e.key){var n=Pu[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=Gr(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?ju[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Fs,charCode:function(e){return e.type==="keypress"?Gr(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Gr(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),qu=sn(vn),Hu=b({},Ma,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),os=sn(Hu),u=b({},qs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Fs}),m=sn(u),v=b({},as,{propertyName:0,elapsedTime:0,pseudoElement:0}),T=sn(v),P=b({},Ma,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),q=sn(P),rt=b({},as,{newState:0,oldState:0}),Nt=sn(rt),Ve=[9,13,27,32],ee=ni&&"CompositionEvent"in window,Te=null;ni&&"documentMode"in document&&(Te=document.documentMode);var ii=ni&&"TextEvent"in window&&!Te,ki=ni&&(!ee||Te&&8<Te&&11>=Te),gi=" ",pi=!1;function Kr(e,n){switch(e){case"keyup":return Ve.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Va(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ua=!1;function _1(e,n){switch(e){case"compositionend":return Va(n);case"keypress":return n.which!==32?null:(pi=!0,gi);case"textInput":return e=n.data,e===gi&&pi?null:e;default:return null}}function v1(e,n){if(Ua)return e==="compositionend"||!ee&&Kr(e,n)?(e=Wo(),Fr=Jo=Oi=null,Ua=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return ki&&n.locale!=="ko"?null:n.data;default:return null}}var E1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function kg(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!E1[e.type]:n==="textarea"}function Pg(e,n,a,o){zs?Mi?Mi.push(o):Mi=[o]:zs=o,n=Mc(n,"onChange"),0<n.length&&(a=new Vi("onChange","change",null,a,o),e.push({event:a,listeners:n}))}var il=null,sl=null;function T1(e){E_(e,0)}function Fu(e){var n=kn(e);if(zr(n))return e}function jg(e,n){if(e==="change")return n}var zg=!1;if(ni){var Wh;if(ni){var tf="oninput"in document;if(!tf){var Bg=document.createElement("div");Bg.setAttribute("oninput","return;"),tf=typeof Bg.oninput=="function"}Wh=tf}else Wh=!1;zg=Wh&&(!document.documentMode||9<document.documentMode)}function qg(){il&&(il.detachEvent("onpropertychange",Hg),sl=il=null)}function Hg(e){if(e.propertyName==="value"&&Fu(sl)){var n=[];Pg(n,sl,e,ei(e)),Bs(T1,n)}}function A1(e,n,a){e==="focusin"?(qg(),il=n,sl=a,il.attachEvent("onpropertychange",Hg)):e==="focusout"&&qg()}function S1(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Fu(sl)}function b1(e,n){if(e==="click")return Fu(n)}function w1(e,n){if(e==="input"||e==="change")return Fu(n)}function R1(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var jn=typeof Object.is=="function"?Object.is:R1;function rl(e,n){if(jn(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var a=Object.keys(e),o=Object.keys(n);if(a.length!==o.length)return!1;for(o=0;o<a.length;o++){var h=a[o];if(!Ce.call(n,h)||!jn(e[h],n[h]))return!1}return!0}function Fg(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Gg(e,n){var a=Fg(e);e=0;for(var o;a;){if(a.nodeType===3){if(o=e+a.textContent.length,e<=n&&o>=n)return{node:a,offset:n-e};e=o}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=Fg(a)}}function Qg(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?Qg(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function Yg(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=Di(e.document);n instanceof e.HTMLIFrameElement;){try{var a=typeof n.contentWindow.location.href=="string"}catch{a=!1}if(a)e=n.contentWindow;else break;n=Di(e.document)}return n}function ef(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var x1=ni&&"documentMode"in document&&11>=document.documentMode,La=null,nf=null,al=null,sf=!1;function Kg(e,n,a){var o=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;sf||La==null||La!==Di(o)||(o=La,"selectionStart"in o&&ef(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),al&&rl(al,o)||(al=o,o=Mc(nf,"onSelect"),0<o.length&&(n=new Vi("onSelect","select",null,n,a),e.push({event:n,listeners:o}),n.target=La)))}function Xr(e,n){var a={};return a[e.toLowerCase()]=n.toLowerCase(),a["Webkit"+e]="webkit"+n,a["Moz"+e]="moz"+n,a}var ka={animationend:Xr("Animation","AnimationEnd"),animationiteration:Xr("Animation","AnimationIteration"),animationstart:Xr("Animation","AnimationStart"),transitionrun:Xr("Transition","TransitionRun"),transitionstart:Xr("Transition","TransitionStart"),transitioncancel:Xr("Transition","TransitionCancel"),transitionend:Xr("Transition","TransitionEnd")},rf={},Xg={};ni&&(Xg=document.createElement("div").style,"AnimationEvent"in window||(delete ka.animationend.animation,delete ka.animationiteration.animation,delete ka.animationstart.animation),"TransitionEvent"in window||delete ka.transitionend.transition);function $r(e){if(rf[e])return rf[e];if(!ka[e])return e;var n=ka[e],a;for(a in n)if(n.hasOwnProperty(a)&&a in Xg)return rf[e]=n[a];return e}var $g=$r("animationend"),Zg=$r("animationiteration"),Jg=$r("animationstart"),I1=$r("transitionrun"),C1=$r("transitionstart"),N1=$r("transitioncancel"),Wg=$r("transitionend"),tp=new Map,af="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");af.push("scrollEnd");function yi(e,n){tp.set(e,n),Ci(n,[e])}var Gu=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},si=[],Pa=0,of=0;function Qu(){for(var e=Pa,n=of=Pa=0;n<e;){var a=si[n];si[n++]=null;var o=si[n];si[n++]=null;var h=si[n];si[n++]=null;var f=si[n];if(si[n++]=null,o!==null&&h!==null){var g=o.pending;g===null?h.next=h:(h.next=g.next,g.next=h),o.pending=h}f!==0&&ep(a,h,f)}}function Yu(e,n,a,o){si[Pa++]=e,si[Pa++]=n,si[Pa++]=a,si[Pa++]=o,of|=o,e.lanes|=o,e=e.alternate,e!==null&&(e.lanes|=o)}function lf(e,n,a,o){return Yu(e,n,a,o),Ku(e)}function Zr(e,n){return Yu(e,null,null,n),Ku(e)}function ep(e,n,a){e.lanes|=a;var o=e.alternate;o!==null&&(o.lanes|=a);for(var h=!1,f=e.return;f!==null;)f.childLanes|=a,o=f.alternate,o!==null&&(o.childLanes|=a),f.tag===22&&(e=f.stateNode,e===null||e._visibility&1||(h=!0)),e=f,f=f.return;return e.tag===3?(f=e.stateNode,h&&n!==null&&(h=31-be(a),e=f.hiddenUpdates,o=e[h],o===null?e[h]=[n]:o.push(n),n.lane=a|536870912),f):null}function Ku(e){if(50<Il)throw Il=0,yd=null,Error(r(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var ja={};function D1(e,n,a,o){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function zn(e,n,a,o){return new D1(e,n,a,o)}function uf(e){return e=e.prototype,!(!e||!e.isReactComponent)}function ls(e,n){var a=e.alternate;return a===null?(a=zn(e.tag,n,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=n,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,n=e.dependencies,a.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function np(e,n){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,n=a.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function Xu(e,n,a,o,h,f){var g=0;if(o=e,typeof e=="function")uf(e)&&(g=1);else if(typeof e=="string")g=LA(e,a,J.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case x:return e=zn(31,a,n,h),e.elementType=x,e.lanes=f,e;case ot:return Jr(a.children,h,f,n);case it:g=8,h|=24;break;case _t:return e=zn(12,a,n,h|2),e.elementType=_t,e.lanes=f,e;case ie:return e=zn(13,a,n,h),e.elementType=ie,e.lanes=f,e;case Gt:return e=zn(19,a,n,h),e.elementType=Gt,e.lanes=f,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Tt:g=10;break t;case Rt:g=9;break t;case Zt:g=11;break t;case N:g=14;break t;case w:g=16,o=null;break t}g=29,a=Error(r(130,e===null?"null":typeof e,"")),o=null}return n=zn(g,a,n,h),n.elementType=e,n.type=o,n.lanes=f,n}function Jr(e,n,a,o){return e=zn(7,e,o,n),e.lanes=a,e}function cf(e,n,a){return e=zn(6,e,null,n),e.lanes=a,e}function ip(e){var n=zn(18,null,null,0);return n.stateNode=e,n}function hf(e,n,a){return n=zn(4,e.children!==null?e.children:[],e.key,n),n.lanes=a,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var sp=new WeakMap;function ri(e,n){if(typeof e=="object"&&e!==null){var a=sp.get(e);return a!==void 0?a:(n={value:e,source:n,stack:Ji(n)},sp.set(e,n),n)}return{value:e,source:n,stack:Ji(n)}}var za=[],Ba=0,$u=null,ol=0,ai=[],oi=0,Gs=null,Pi=1,ji="";function us(e,n){za[Ba++]=ol,za[Ba++]=$u,$u=e,ol=n}function rp(e,n,a){ai[oi++]=Pi,ai[oi++]=ji,ai[oi++]=Gs,Gs=e;var o=Pi;e=ji;var h=32-be(o)-1;o&=~(1<<h),a+=1;var f=32-be(n)+h;if(30<f){var g=h-h%5;f=(o&(1<<g)-1).toString(32),o>>=g,h-=g,Pi=1<<32-be(n)+h|a<<h|o,ji=f+e}else Pi=1<<f|a<<h|o,ji=e}function ff(e){e.return!==null&&(us(e,1),rp(e,1,0))}function df(e){for(;e===$u;)$u=za[--Ba],za[Ba]=null,ol=za[--Ba],za[Ba]=null;for(;e===Gs;)Gs=ai[--oi],ai[oi]=null,ji=ai[--oi],ai[oi]=null,Pi=ai[--oi],ai[oi]=null}function ap(e,n){ai[oi++]=Pi,ai[oi++]=ji,ai[oi++]=Gs,Pi=n.id,ji=n.overflow,Gs=e}var rn=null,_e=null,Qt=!1,Qs=null,li=!1,mf=Error(r(519));function Ys(e){var n=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw ll(ri(n,e)),mf}function op(e){var n=e.stateNode,a=e.type,o=e.memoizedProps;switch(n[mt]=e,n[bt]=o,a){case"dialog":Lt("cancel",n),Lt("close",n);break;case"iframe":case"object":case"embed":Lt("load",n);break;case"video":case"audio":for(a=0;a<Nl.length;a++)Lt(Nl[a],n);break;case"source":Lt("error",n);break;case"img":case"image":case"link":Lt("error",n),Lt("load",n);break;case"details":Lt("toggle",n);break;case"input":Lt("invalid",n),Cu(n,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0);break;case"select":Lt("invalid",n);break;case"textarea":Lt("invalid",n),Ps(n,o.value,o.defaultValue,o.children)}a=o.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||n.textContent===""+a||o.suppressHydrationWarning===!0||b_(n.textContent,a)?(o.popover!=null&&(Lt("beforetoggle",n),Lt("toggle",n)),o.onScroll!=null&&Lt("scroll",n),o.onScrollEnd!=null&&Lt("scrollend",n),o.onClick!=null&&(n.onclick=fi),n=!0):n=!1,n||Ys(e,!0)}function lp(e){for(rn=e.return;rn;)switch(rn.tag){case 5:case 31:case 13:li=!1;return;case 27:case 3:li=!0;return;default:rn=rn.return}}function qa(e){if(e!==rn)return!1;if(!Qt)return lp(e),Qt=!0,!1;var n=e.tag,a;if((a=n!==3&&n!==27)&&((a=n===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||Md(e.type,e.memoizedProps)),a=!a),a&&_e&&Ys(e),lp(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));_e=O_(e)}else if(n===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));_e=O_(e)}else n===27?(n=_e,or(e.type)?(e=kd,kd=null,_e=e):_e=n):_e=rn?ci(e.stateNode.nextSibling):null;return!0}function Wr(){_e=rn=null,Qt=!1}function gf(){var e=Qs;return e!==null&&(Dn===null?Dn=e:Dn.push.apply(Dn,e),Qs=null),e}function ll(e){Qs===null?Qs=[e]:Qs.push(e)}var pf=V(null),ta=null,cs=null;function Ks(e,n,a){st(pf,n._currentValue),n._currentValue=a}function hs(e){e._currentValue=pf.current,F(pf)}function yf(e,n,a){for(;e!==null;){var o=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,o!==null&&(o.childLanes|=n)):o!==null&&(o.childLanes&n)!==n&&(o.childLanes|=n),e===a)break;e=e.return}}function _f(e,n,a,o){var h=e.child;for(h!==null&&(h.return=e);h!==null;){var f=h.dependencies;if(f!==null){var g=h.child;f=f.firstContext;t:for(;f!==null;){var E=f;f=h;for(var I=0;I<n.length;I++)if(E.context===n[I]){f.lanes|=a,E=f.alternate,E!==null&&(E.lanes|=a),yf(f.return,a,e),o||(g=null);break t}f=E.next}}else if(h.tag===18){if(g=h.return,g===null)throw Error(r(341));g.lanes|=a,f=g.alternate,f!==null&&(f.lanes|=a),yf(g,a,e),g=null}else g=h.child;if(g!==null)g.return=h;else for(g=h;g!==null;){if(g===e){g=null;break}if(h=g.sibling,h!==null){h.return=g.return,g=h;break}g=g.return}h=g}}function Ha(e,n,a,o){e=null;for(var h=n,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var g=h.alternate;if(g===null)throw Error(r(387));if(g=g.memoizedProps,g!==null){var E=h.type;jn(h.pendingProps.value,g.value)||(e!==null?e.push(E):e=[E])}}else if(h===Vt.current){if(g=h.alternate,g===null)throw Error(r(387));g.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(e!==null?e.push(Ul):e=[Ul])}h=h.return}e!==null&&_f(n,e,a,o),n.flags|=262144}function Zu(e){for(e=e.firstContext;e!==null;){if(!jn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function ea(e){ta=e,cs=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function an(e){return up(ta,e)}function Ju(e,n){return ta===null&&ea(e),up(e,n)}function up(e,n){var a=n._currentValue;if(n={context:n,memoizedValue:a,next:null},cs===null){if(e===null)throw Error(r(308));cs=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else cs=cs.next=n;return a}var M1=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(a,o){e.push(o)}};this.abort=function(){n.aborted=!0,e.forEach(function(a){return a()})}},O1=s.unstable_scheduleCallback,V1=s.unstable_NormalPriority,ze={$$typeof:Tt,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function vf(){return{controller:new M1,data:new Map,refCount:0}}function ul(e){e.refCount--,e.refCount===0&&O1(V1,function(){e.controller.abort()})}var cl=null,Ef=0,Fa=0,Ga=null;function U1(e,n){if(cl===null){var a=cl=[];Ef=0,Fa=Sd(),Ga={status:"pending",value:void 0,then:function(o){a.push(o)}}}return Ef++,n.then(cp,cp),n}function cp(){if(--Ef===0&&cl!==null){Ga!==null&&(Ga.status="fulfilled");var e=cl;cl=null,Fa=0,Ga=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function L1(e,n){var a=[],o={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return e.then(function(){o.status="fulfilled",o.value=n;for(var h=0;h<a.length;h++)(0,a[h])(n)},function(h){for(o.status="rejected",o.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),o}var hp=Q.S;Q.S=function(e,n){Ky=nn(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&U1(e,n),hp!==null&&hp(e,n)};var na=V(null);function Tf(){var e=na.current;return e!==null?e:pe.pooledCache}function Wu(e,n){n===null?st(na,na.current):st(na,n.pool)}function fp(){var e=Tf();return e===null?null:{parent:ze._currentValue,pool:e}}var Qa=Error(r(460)),Af=Error(r(474)),tc=Error(r(542)),ec={then:function(){}};function dp(e){return e=e.status,e==="fulfilled"||e==="rejected"}function mp(e,n,a){switch(a=e[a],a===void 0?e.push(n):a!==n&&(n.then(fi,fi),n=a),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,pp(e),e;default:if(typeof n.status=="string")n.then(fi,fi);else{if(e=pe,e!==null&&100<e.shellSuspendCounter)throw Error(r(482));e=n,e.status="pending",e.then(function(o){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=o}},function(o){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=o}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,pp(e),e}throw sa=n,Qa}}function ia(e){try{var n=e._init;return n(e._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(sa=a,Qa):a}}var sa=null;function gp(){if(sa===null)throw Error(r(459));var e=sa;return sa=null,e}function pp(e){if(e===Qa||e===tc)throw Error(r(483))}var Ya=null,hl=0;function nc(e){var n=hl;return hl+=1,Ya===null&&(Ya=[]),mp(Ya,e,n)}function fl(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function ic(e,n){throw n.$$typeof===C?Error(r(525)):(e=Object.prototype.toString.call(n),Error(r(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function yp(e){function n(k,O){if(e){var j=k.deletions;j===null?(k.deletions=[O],k.flags|=16):j.push(O)}}function a(k,O){if(!e)return null;for(;O!==null;)n(k,O),O=O.sibling;return null}function o(k){for(var O=new Map;k!==null;)k.key!==null?O.set(k.key,k):O.set(k.index,k),k=k.sibling;return O}function h(k,O){return k=ls(k,O),k.index=0,k.sibling=null,k}function f(k,O,j){return k.index=j,e?(j=k.alternate,j!==null?(j=j.index,j<O?(k.flags|=67108866,O):j):(k.flags|=67108866,O)):(k.flags|=1048576,O)}function g(k){return e&&k.alternate===null&&(k.flags|=67108866),k}function E(k,O,j,X){return O===null||O.tag!==6?(O=cf(j,k.mode,X),O.return=k,O):(O=h(O,j),O.return=k,O)}function I(k,O,j,X){var pt=j.type;return pt===ot?Y(k,O,j.props.children,X,j.key):O!==null&&(O.elementType===pt||typeof pt=="object"&&pt!==null&&pt.$$typeof===w&&ia(pt)===O.type)?(O=h(O,j.props),fl(O,j),O.return=k,O):(O=Xu(j.type,j.key,j.props,null,k.mode,X),fl(O,j),O.return=k,O)}function z(k,O,j,X){return O===null||O.tag!==4||O.stateNode.containerInfo!==j.containerInfo||O.stateNode.implementation!==j.implementation?(O=hf(j,k.mode,X),O.return=k,O):(O=h(O,j.children||[]),O.return=k,O)}function Y(k,O,j,X,pt){return O===null||O.tag!==7?(O=Jr(j,k.mode,X,pt),O.return=k,O):(O=h(O,j),O.return=k,O)}function $(k,O,j){if(typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint")return O=cf(""+O,k.mode,j),O.return=k,O;if(typeof O=="object"&&O!==null){switch(O.$$typeof){case G:return j=Xu(O.type,O.key,O.props,null,k.mode,j),fl(j,O),j.return=k,j;case et:return O=hf(O,k.mode,j),O.return=k,O;case w:return O=ia(O),$(k,O,j)}if(Se(O)||L(O))return O=Jr(O,k.mode,j,null),O.return=k,O;if(typeof O.then=="function")return $(k,nc(O),j);if(O.$$typeof===Tt)return $(k,Ju(k,O),j);ic(k,O)}return null}function B(k,O,j,X){var pt=O!==null?O.key:null;if(typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint")return pt!==null?null:E(k,O,""+j,X);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case G:return j.key===pt?I(k,O,j,X):null;case et:return j.key===pt?z(k,O,j,X):null;case w:return j=ia(j),B(k,O,j,X)}if(Se(j)||L(j))return pt!==null?null:Y(k,O,j,X,null);if(typeof j.then=="function")return B(k,O,nc(j),X);if(j.$$typeof===Tt)return B(k,O,Ju(k,j),X);ic(k,j)}return null}function H(k,O,j,X,pt){if(typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint")return k=k.get(j)||null,E(O,k,""+X,pt);if(typeof X=="object"&&X!==null){switch(X.$$typeof){case G:return k=k.get(X.key===null?j:X.key)||null,I(O,k,X,pt);case et:return k=k.get(X.key===null?j:X.key)||null,z(O,k,X,pt);case w:return X=ia(X),H(k,O,j,X,pt)}if(Se(X)||L(X))return k=k.get(j)||null,Y(O,k,X,pt,null);if(typeof X.then=="function")return H(k,O,j,nc(X),pt);if(X.$$typeof===Tt)return H(k,O,j,Ju(O,X),pt);ic(O,X)}return null}function ct(k,O,j,X){for(var pt=null,Jt=null,ht=O,Mt=O=0,Bt=null;ht!==null&&Mt<j.length;Mt++){ht.index>Mt?(Bt=ht,ht=null):Bt=ht.sibling;var Wt=B(k,ht,j[Mt],X);if(Wt===null){ht===null&&(ht=Bt);break}e&&ht&&Wt.alternate===null&&n(k,ht),O=f(Wt,O,Mt),Jt===null?pt=Wt:Jt.sibling=Wt,Jt=Wt,ht=Bt}if(Mt===j.length)return a(k,ht),Qt&&us(k,Mt),pt;if(ht===null){for(;Mt<j.length;Mt++)ht=$(k,j[Mt],X),ht!==null&&(O=f(ht,O,Mt),Jt===null?pt=ht:Jt.sibling=ht,Jt=ht);return Qt&&us(k,Mt),pt}for(ht=o(ht);Mt<j.length;Mt++)Bt=H(ht,k,Mt,j[Mt],X),Bt!==null&&(e&&Bt.alternate!==null&&ht.delete(Bt.key===null?Mt:Bt.key),O=f(Bt,O,Mt),Jt===null?pt=Bt:Jt.sibling=Bt,Jt=Bt);return e&&ht.forEach(function(fr){return n(k,fr)}),Qt&&us(k,Mt),pt}function Et(k,O,j,X){if(j==null)throw Error(r(151));for(var pt=null,Jt=null,ht=O,Mt=O=0,Bt=null,Wt=j.next();ht!==null&&!Wt.done;Mt++,Wt=j.next()){ht.index>Mt?(Bt=ht,ht=null):Bt=ht.sibling;var fr=B(k,ht,Wt.value,X);if(fr===null){ht===null&&(ht=Bt);break}e&&ht&&fr.alternate===null&&n(k,ht),O=f(fr,O,Mt),Jt===null?pt=fr:Jt.sibling=fr,Jt=fr,ht=Bt}if(Wt.done)return a(k,ht),Qt&&us(k,Mt),pt;if(ht===null){for(;!Wt.done;Mt++,Wt=j.next())Wt=$(k,Wt.value,X),Wt!==null&&(O=f(Wt,O,Mt),Jt===null?pt=Wt:Jt.sibling=Wt,Jt=Wt);return Qt&&us(k,Mt),pt}for(ht=o(ht);!Wt.done;Mt++,Wt=j.next())Wt=H(ht,k,Mt,Wt.value,X),Wt!==null&&(e&&Wt.alternate!==null&&ht.delete(Wt.key===null?Mt:Wt.key),O=f(Wt,O,Mt),Jt===null?pt=Wt:Jt.sibling=Wt,Jt=Wt);return e&&ht.forEach(function(YA){return n(k,YA)}),Qt&&us(k,Mt),pt}function ce(k,O,j,X){if(typeof j=="object"&&j!==null&&j.type===ot&&j.key===null&&(j=j.props.children),typeof j=="object"&&j!==null){switch(j.$$typeof){case G:t:{for(var pt=j.key;O!==null;){if(O.key===pt){if(pt=j.type,pt===ot){if(O.tag===7){a(k,O.sibling),X=h(O,j.props.children),X.return=k,k=X;break t}}else if(O.elementType===pt||typeof pt=="object"&&pt!==null&&pt.$$typeof===w&&ia(pt)===O.type){a(k,O.sibling),X=h(O,j.props),fl(X,j),X.return=k,k=X;break t}a(k,O);break}else n(k,O);O=O.sibling}j.type===ot?(X=Jr(j.props.children,k.mode,X,j.key),X.return=k,k=X):(X=Xu(j.type,j.key,j.props,null,k.mode,X),fl(X,j),X.return=k,k=X)}return g(k);case et:t:{for(pt=j.key;O!==null;){if(O.key===pt)if(O.tag===4&&O.stateNode.containerInfo===j.containerInfo&&O.stateNode.implementation===j.implementation){a(k,O.sibling),X=h(O,j.children||[]),X.return=k,k=X;break t}else{a(k,O);break}else n(k,O);O=O.sibling}X=hf(j,k.mode,X),X.return=k,k=X}return g(k);case w:return j=ia(j),ce(k,O,j,X)}if(Se(j))return ct(k,O,j,X);if(L(j)){if(pt=L(j),typeof pt!="function")throw Error(r(150));return j=pt.call(j),Et(k,O,j,X)}if(typeof j.then=="function")return ce(k,O,nc(j),X);if(j.$$typeof===Tt)return ce(k,O,Ju(k,j),X);ic(k,j)}return typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint"?(j=""+j,O!==null&&O.tag===6?(a(k,O.sibling),X=h(O,j),X.return=k,k=X):(a(k,O),X=cf(j,k.mode,X),X.return=k,k=X),g(k)):a(k,O)}return function(k,O,j,X){try{hl=0;var pt=ce(k,O,j,X);return Ya=null,pt}catch(ht){if(ht===Qa||ht===tc)throw ht;var Jt=zn(29,ht,null,k.mode);return Jt.lanes=X,Jt.return=k,Jt}finally{}}}var ra=yp(!0),_p=yp(!1),Xs=!1;function Sf(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function bf(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function $s(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Zs(e,n,a){var o=e.updateQueue;if(o===null)return null;if(o=o.shared,(ne&2)!==0){var h=o.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),o.pending=n,n=Ku(e),ep(e,null,a),n}return Yu(e,o,n,a),Ku(e)}function dl(e,n,a){if(n=n.updateQueue,n!==null&&(n=n.shared,(a&4194048)!==0)){var o=n.lanes;o&=e.pendingLanes,a|=o,n.lanes=a,Pr(e,a)}}function wf(e,n){var a=e.updateQueue,o=e.alternate;if(o!==null&&(o=o.updateQueue,a===o)){var h=null,f=null;if(a=a.firstBaseUpdate,a!==null){do{var g={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};f===null?h=f=g:f=f.next=g,a=a.next}while(a!==null);f===null?h=f=n:f=f.next=n}else h=f=n;a={baseState:o.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:o.shared,callbacks:o.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=n:e.next=n,a.lastBaseUpdate=n}var Rf=!1;function ml(){if(Rf){var e=Ga;if(e!==null)throw e}}function gl(e,n,a,o){Rf=!1;var h=e.updateQueue;Xs=!1;var f=h.firstBaseUpdate,g=h.lastBaseUpdate,E=h.shared.pending;if(E!==null){h.shared.pending=null;var I=E,z=I.next;I.next=null,g===null?f=z:g.next=z,g=I;var Y=e.alternate;Y!==null&&(Y=Y.updateQueue,E=Y.lastBaseUpdate,E!==g&&(E===null?Y.firstBaseUpdate=z:E.next=z,Y.lastBaseUpdate=I))}if(f!==null){var $=h.baseState;g=0,Y=z=I=null,E=f;do{var B=E.lane&-536870913,H=B!==E.lane;if(H?(zt&B)===B:(o&B)===B){B!==0&&B===Fa&&(Rf=!0),Y!==null&&(Y=Y.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var ct=e,Et=E;B=n;var ce=a;switch(Et.tag){case 1:if(ct=Et.payload,typeof ct=="function"){$=ct.call(ce,$,B);break t}$=ct;break t;case 3:ct.flags=ct.flags&-65537|128;case 0:if(ct=Et.payload,B=typeof ct=="function"?ct.call(ce,$,B):ct,B==null)break t;$=b({},$,B);break t;case 2:Xs=!0}}B=E.callback,B!==null&&(e.flags|=64,H&&(e.flags|=8192),H=h.callbacks,H===null?h.callbacks=[B]:H.push(B))}else H={lane:B,tag:E.tag,payload:E.payload,callback:E.callback,next:null},Y===null?(z=Y=H,I=$):Y=Y.next=H,g|=B;if(E=E.next,E===null){if(E=h.shared.pending,E===null)break;H=E,E=H.next,H.next=null,h.lastBaseUpdate=H,h.shared.pending=null}}while(!0);Y===null&&(I=$),h.baseState=I,h.firstBaseUpdate=z,h.lastBaseUpdate=Y,f===null&&(h.shared.lanes=0),nr|=g,e.lanes=g,e.memoizedState=$}}function vp(e,n){if(typeof e!="function")throw Error(r(191,e));e.call(n)}function Ep(e,n){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)vp(a[e],n)}var Ka=V(null),sc=V(0);function Tp(e,n){e=Es,st(sc,e),st(Ka,n),Es=e|n.baseLanes}function xf(){st(sc,Es),st(Ka,Ka.current)}function If(){Es=sc.current,F(Ka),F(sc)}var Bn=V(null),ui=null;function Js(e){var n=e.alternate;st(Ue,Ue.current&1),st(Bn,e),ui===null&&(n===null||Ka.current!==null||n.memoizedState!==null)&&(ui=e)}function Cf(e){st(Ue,Ue.current),st(Bn,e),ui===null&&(ui=e)}function Ap(e){e.tag===22?(st(Ue,Ue.current),st(Bn,e),ui===null&&(ui=e)):Ws()}function Ws(){st(Ue,Ue.current),st(Bn,Bn.current)}function qn(e){F(Bn),ui===e&&(ui=null),F(Ue)}var Ue=V(0);function rc(e){for(var n=e;n!==null;){if(n.tag===13){var a=n.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||Ud(a)||Ld(a)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var fs=0,Dt=null,le=null,Be=null,ac=!1,Xa=!1,aa=!1,oc=0,pl=0,$a=null,k1=0;function Ne(){throw Error(r(321))}function Nf(e,n){if(n===null)return!1;for(var a=0;a<n.length&&a<e.length;a++)if(!jn(e[a],n[a]))return!1;return!0}function Df(e,n,a,o,h,f){return fs=f,Dt=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,Q.H=e===null||e.memoizedState===null?ry:Qf,aa=!1,f=a(o,h),aa=!1,Xa&&(f=bp(n,a,o,h)),Sp(e),f}function Sp(e){Q.H=vl;var n=le!==null&&le.next!==null;if(fs=0,Be=le=Dt=null,ac=!1,pl=0,$a=null,n)throw Error(r(300));e===null||qe||(e=e.dependencies,e!==null&&Zu(e)&&(qe=!0))}function bp(e,n,a,o){Dt=e;var h=0;do{if(Xa&&($a=null),pl=0,Xa=!1,25<=h)throw Error(r(301));if(h+=1,Be=le=null,e.updateQueue!=null){var f=e.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}Q.H=ay,f=n(a,o)}while(Xa);return f}function P1(){var e=Q.H,n=e.useState()[0];return n=typeof n.then=="function"?yl(n):n,e=e.useState()[0],(le!==null?le.memoizedState:null)!==e&&(Dt.flags|=1024),n}function Mf(){var e=oc!==0;return oc=0,e}function Of(e,n,a){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~a}function Vf(e){if(ac){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}ac=!1}fs=0,Be=le=Dt=null,Xa=!1,pl=oc=0,$a=null}function En(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Be===null?Dt.memoizedState=Be=e:Be=Be.next=e,Be}function Le(){if(le===null){var e=Dt.alternate;e=e!==null?e.memoizedState:null}else e=le.next;var n=Be===null?Dt.memoizedState:Be.next;if(n!==null)Be=n,le=e;else{if(e===null)throw Dt.alternate===null?Error(r(467)):Error(r(310));le=e,e={memoizedState:le.memoizedState,baseState:le.baseState,baseQueue:le.baseQueue,queue:le.queue,next:null},Be===null?Dt.memoizedState=Be=e:Be=Be.next=e}return Be}function lc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function yl(e){var n=pl;return pl+=1,$a===null&&($a=[]),e=mp($a,e,n),n=Dt,(Be===null?n.memoizedState:Be.next)===null&&(n=n.alternate,Q.H=n===null||n.memoizedState===null?ry:Qf),e}function uc(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return yl(e);if(e.$$typeof===Tt)return an(e)}throw Error(r(438,String(e)))}function Uf(e){var n=null,a=Dt.updateQueue;if(a!==null&&(n=a.memoCache),n==null){var o=Dt.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(n={data:o.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),a===null&&(a=lc(),Dt.updateQueue=a),a.memoCache=n,a=n.data[n.index],a===void 0)for(a=n.data[n.index]=Array(e),o=0;o<e;o++)a[o]=U;return n.index++,a}function ds(e,n){return typeof n=="function"?n(e):n}function cc(e){var n=Le();return Lf(n,le,e)}function Lf(e,n,a){var o=e.queue;if(o===null)throw Error(r(311));o.lastRenderedReducer=a;var h=e.baseQueue,f=o.pending;if(f!==null){if(h!==null){var g=h.next;h.next=f.next,f.next=g}n.baseQueue=h=f,o.pending=null}if(f=e.baseState,h===null)e.memoizedState=f;else{n=h.next;var E=g=null,I=null,z=n,Y=!1;do{var $=z.lane&-536870913;if($!==z.lane?(zt&$)===$:(fs&$)===$){var B=z.revertLane;if(B===0)I!==null&&(I=I.next={lane:0,revertLane:0,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null}),$===Fa&&(Y=!0);else if((fs&B)===B){z=z.next,B===Fa&&(Y=!0);continue}else $={lane:0,revertLane:z.revertLane,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},I===null?(E=I=$,g=f):I=I.next=$,Dt.lanes|=B,nr|=B;$=z.action,aa&&a(f,$),f=z.hasEagerState?z.eagerState:a(f,$)}else B={lane:$,revertLane:z.revertLane,gesture:z.gesture,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},I===null?(E=I=B,g=f):I=I.next=B,Dt.lanes|=$,nr|=$;z=z.next}while(z!==null&&z!==n);if(I===null?g=f:I.next=E,!jn(f,e.memoizedState)&&(qe=!0,Y&&(a=Ga,a!==null)))throw a;e.memoizedState=f,e.baseState=g,e.baseQueue=I,o.lastRenderedState=f}return h===null&&(o.lanes=0),[e.memoizedState,o.dispatch]}function kf(e){var n=Le(),a=n.queue;if(a===null)throw Error(r(311));a.lastRenderedReducer=e;var o=a.dispatch,h=a.pending,f=n.memoizedState;if(h!==null){a.pending=null;var g=h=h.next;do f=e(f,g.action),g=g.next;while(g!==h);jn(f,n.memoizedState)||(qe=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),a.lastRenderedState=f}return[f,o]}function wp(e,n,a){var o=Dt,h=Le(),f=Qt;if(f){if(a===void 0)throw Error(r(407));a=a()}else a=n();var g=!jn((le||h).memoizedState,a);if(g&&(h.memoizedState=a,qe=!0),h=h.queue,zf(Ip.bind(null,o,h,e),[e]),h.getSnapshot!==n||g||Be!==null&&Be.memoizedState.tag&1){if(o.flags|=2048,Za(9,{destroy:void 0},xp.bind(null,o,h,a,n),null),pe===null)throw Error(r(349));f||(fs&127)!==0||Rp(o,n,a)}return a}function Rp(e,n,a){e.flags|=16384,e={getSnapshot:n,value:a},n=Dt.updateQueue,n===null?(n=lc(),Dt.updateQueue=n,n.stores=[e]):(a=n.stores,a===null?n.stores=[e]:a.push(e))}function xp(e,n,a,o){n.value=a,n.getSnapshot=o,Cp(n)&&Np(e)}function Ip(e,n,a){return a(function(){Cp(n)&&Np(e)})}function Cp(e){var n=e.getSnapshot;e=e.value;try{var a=n();return!jn(e,a)}catch{return!0}}function Np(e){var n=Zr(e,2);n!==null&&Mn(n,e,2)}function Pf(e){var n=En();if(typeof e=="function"){var a=e;if(e=a(),aa){bn(!0);try{a()}finally{bn(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ds,lastRenderedState:e},n}function Dp(e,n,a,o){return e.baseState=a,Lf(e,le,typeof o=="function"?o:ds)}function j1(e,n,a,o,h){if(dc(e))throw Error(r(485));if(e=n.action,e!==null){var f={payload:h,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(g){f.listeners.push(g)}};Q.T!==null?a(!0):f.isTransition=!1,o(f),a=n.pending,a===null?(f.next=n.pending=f,Mp(n,f)):(f.next=a.next,n.pending=a.next=f)}}function Mp(e,n){var a=n.action,o=n.payload,h=e.state;if(n.isTransition){var f=Q.T,g={};Q.T=g;try{var E=a(h,o),I=Q.S;I!==null&&I(g,E),Op(e,n,E)}catch(z){jf(e,n,z)}finally{f!==null&&g.types!==null&&(f.types=g.types),Q.T=f}}else try{f=a(h,o),Op(e,n,f)}catch(z){jf(e,n,z)}}function Op(e,n,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(o){Vp(e,n,o)},function(o){return jf(e,n,o)}):Vp(e,n,a)}function Vp(e,n,a){n.status="fulfilled",n.value=a,Up(n),e.state=a,n=e.pending,n!==null&&(a=n.next,a===n?e.pending=null:(a=a.next,n.next=a,Mp(e,a)))}function jf(e,n,a){var o=e.pending;if(e.pending=null,o!==null){o=o.next;do n.status="rejected",n.reason=a,Up(n),n=n.next;while(n!==o)}e.action=null}function Up(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function Lp(e,n){return n}function kp(e,n){if(Qt){var a=pe.formState;if(a!==null){t:{var o=Dt;if(Qt){if(_e){e:{for(var h=_e,f=li;h.nodeType!==8;){if(!f){h=null;break e}if(h=ci(h.nextSibling),h===null){h=null;break e}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){_e=ci(h.nextSibling),o=h.data==="F!";break t}}Ys(o)}o=!1}o&&(n=a[0])}}return a=En(),a.memoizedState=a.baseState=n,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Lp,lastRenderedState:n},a.queue=o,a=ny.bind(null,Dt,o),o.dispatch=a,o=Pf(!1),f=Gf.bind(null,Dt,!1,o.queue),o=En(),h={state:n,dispatch:null,action:e,pending:null},o.queue=h,a=j1.bind(null,Dt,h,f,a),h.dispatch=a,o.memoizedState=e,[n,a,!1]}function Pp(e){var n=Le();return jp(n,le,e)}function jp(e,n,a){if(n=Lf(e,n,Lp)[0],e=cc(ds)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var o=yl(n)}catch(g){throw g===Qa?tc:g}else o=n;n=Le();var h=n.queue,f=h.dispatch;return a!==n.memoizedState&&(Dt.flags|=2048,Za(9,{destroy:void 0},z1.bind(null,h,a),null)),[o,f,e]}function z1(e,n){e.action=n}function zp(e){var n=Le(),a=le;if(a!==null)return jp(n,a,e);Le(),n=n.memoizedState,a=Le();var o=a.queue.dispatch;return a.memoizedState=e,[n,o,!1]}function Za(e,n,a,o){return e={tag:e,create:a,deps:o,inst:n,next:null},n=Dt.updateQueue,n===null&&(n=lc(),Dt.updateQueue=n),a=n.lastEffect,a===null?n.lastEffect=e.next=e:(o=a.next,a.next=e,e.next=o,n.lastEffect=e),e}function Bp(){return Le().memoizedState}function hc(e,n,a,o){var h=En();Dt.flags|=e,h.memoizedState=Za(1|n,{destroy:void 0},a,o===void 0?null:o)}function fc(e,n,a,o){var h=Le();o=o===void 0?null:o;var f=h.memoizedState.inst;le!==null&&o!==null&&Nf(o,le.memoizedState.deps)?h.memoizedState=Za(n,f,a,o):(Dt.flags|=e,h.memoizedState=Za(1|n,f,a,o))}function qp(e,n){hc(8390656,8,e,n)}function zf(e,n){fc(2048,8,e,n)}function B1(e){Dt.flags|=4;var n=Dt.updateQueue;if(n===null)n=lc(),Dt.updateQueue=n,n.events=[e];else{var a=n.events;a===null?n.events=[e]:a.push(e)}}function Hp(e){var n=Le().memoizedState;return B1({ref:n,nextImpl:e}),function(){if((ne&2)!==0)throw Error(r(440));return n.impl.apply(void 0,arguments)}}function Fp(e,n){return fc(4,2,e,n)}function Gp(e,n){return fc(4,4,e,n)}function Qp(e,n){if(typeof n=="function"){e=e();var a=n(e);return function(){typeof a=="function"?a():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function Yp(e,n,a){a=a!=null?a.concat([e]):null,fc(4,4,Qp.bind(null,n,e),a)}function Bf(){}function Kp(e,n){var a=Le();n=n===void 0?null:n;var o=a.memoizedState;return n!==null&&Nf(n,o[1])?o[0]:(a.memoizedState=[e,n],e)}function Xp(e,n){var a=Le();n=n===void 0?null:n;var o=a.memoizedState;if(n!==null&&Nf(n,o[1]))return o[0];if(o=e(),aa){bn(!0);try{e()}finally{bn(!1)}}return a.memoizedState=[o,n],o}function qf(e,n,a){return a===void 0||(fs&1073741824)!==0&&(zt&261930)===0?e.memoizedState=n:(e.memoizedState=a,e=$y(),Dt.lanes|=e,nr|=e,a)}function $p(e,n,a,o){return jn(a,n)?a:Ka.current!==null?(e=qf(e,a,o),jn(e,n)||(qe=!0),e):(fs&42)===0||(fs&1073741824)!==0&&(zt&261930)===0?(qe=!0,e.memoizedState=a):(e=$y(),Dt.lanes|=e,nr|=e,n)}function Zp(e,n,a,o,h){var f=at.p;at.p=f!==0&&8>f?f:8;var g=Q.T,E={};Q.T=E,Gf(e,!1,n,a);try{var I=h(),z=Q.S;if(z!==null&&z(E,I),I!==null&&typeof I=="object"&&typeof I.then=="function"){var Y=L1(I,o);_l(e,n,Y,Gn(e))}else _l(e,n,o,Gn(e))}catch($){_l(e,n,{then:function(){},status:"rejected",reason:$},Gn())}finally{at.p=f,g!==null&&E.types!==null&&(g.types=E.types),Q.T=g}}function q1(){}function Hf(e,n,a,o){if(e.tag!==5)throw Error(r(476));var h=Jp(e).queue;Zp(e,h,n,yt,a===null?q1:function(){return Wp(e),a(o)})}function Jp(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:yt,baseState:yt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ds,lastRenderedState:yt},next:null};var a={};return n.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ds,lastRenderedState:a},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function Wp(e){var n=Jp(e);n.next===null&&(n=e.alternate.memoizedState),_l(e,n.next.queue,{},Gn())}function Ff(){return an(Ul)}function ty(){return Le().memoizedState}function ey(){return Le().memoizedState}function H1(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var a=Gn();e=$s(a);var o=Zs(n,e,a);o!==null&&(Mn(o,n,a),dl(o,n,a)),n={cache:vf()},e.payload=n;return}n=n.return}}function F1(e,n,a){var o=Gn();a={lane:o,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},dc(e)?iy(n,a):(a=lf(e,n,a,o),a!==null&&(Mn(a,e,o),sy(a,n,o)))}function ny(e,n,a){var o=Gn();_l(e,n,a,o)}function _l(e,n,a,o){var h={lane:o,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(dc(e))iy(n,h);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var g=n.lastRenderedState,E=f(g,a);if(h.hasEagerState=!0,h.eagerState=E,jn(E,g))return Yu(e,n,h,0),pe===null&&Qu(),!1}catch{}finally{}if(a=lf(e,n,h,o),a!==null)return Mn(a,e,o),sy(a,n,o),!0}return!1}function Gf(e,n,a,o){if(o={lane:2,revertLane:Sd(),gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},dc(e)){if(n)throw Error(r(479))}else n=lf(e,a,o,2),n!==null&&Mn(n,e,2)}function dc(e){var n=e.alternate;return e===Dt||n!==null&&n===Dt}function iy(e,n){Xa=ac=!0;var a=e.pending;a===null?n.next=n:(n.next=a.next,a.next=n),e.pending=n}function sy(e,n,a){if((a&4194048)!==0){var o=n.lanes;o&=e.pendingLanes,a|=o,n.lanes=a,Pr(e,a)}}var vl={readContext:an,use:uc,useCallback:Ne,useContext:Ne,useEffect:Ne,useImperativeHandle:Ne,useLayoutEffect:Ne,useInsertionEffect:Ne,useMemo:Ne,useReducer:Ne,useRef:Ne,useState:Ne,useDebugValue:Ne,useDeferredValue:Ne,useTransition:Ne,useSyncExternalStore:Ne,useId:Ne,useHostTransitionStatus:Ne,useFormState:Ne,useActionState:Ne,useOptimistic:Ne,useMemoCache:Ne,useCacheRefresh:Ne};vl.useEffectEvent=Ne;var ry={readContext:an,use:uc,useCallback:function(e,n){return En().memoizedState=[e,n===void 0?null:n],e},useContext:an,useEffect:qp,useImperativeHandle:function(e,n,a){a=a!=null?a.concat([e]):null,hc(4194308,4,Qp.bind(null,n,e),a)},useLayoutEffect:function(e,n){return hc(4194308,4,e,n)},useInsertionEffect:function(e,n){hc(4,2,e,n)},useMemo:function(e,n){var a=En();n=n===void 0?null:n;var o=e();if(aa){bn(!0);try{e()}finally{bn(!1)}}return a.memoizedState=[o,n],o},useReducer:function(e,n,a){var o=En();if(a!==void 0){var h=a(n);if(aa){bn(!0);try{a(n)}finally{bn(!1)}}}else h=n;return o.memoizedState=o.baseState=h,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:h},o.queue=e,e=e.dispatch=F1.bind(null,Dt,e),[o.memoizedState,e]},useRef:function(e){var n=En();return e={current:e},n.memoizedState=e},useState:function(e){e=Pf(e);var n=e.queue,a=ny.bind(null,Dt,n);return n.dispatch=a,[e.memoizedState,a]},useDebugValue:Bf,useDeferredValue:function(e,n){var a=En();return qf(a,e,n)},useTransition:function(){var e=Pf(!1);return e=Zp.bind(null,Dt,e.queue,!0,!1),En().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,a){var o=Dt,h=En();if(Qt){if(a===void 0)throw Error(r(407));a=a()}else{if(a=n(),pe===null)throw Error(r(349));(zt&127)!==0||Rp(o,n,a)}h.memoizedState=a;var f={value:a,getSnapshot:n};return h.queue=f,qp(Ip.bind(null,o,f,e),[e]),o.flags|=2048,Za(9,{destroy:void 0},xp.bind(null,o,f,a,n),null),a},useId:function(){var e=En(),n=pe.identifierPrefix;if(Qt){var a=ji,o=Pi;a=(o&~(1<<32-be(o)-1)).toString(32)+a,n="_"+n+"R_"+a,a=oc++,0<a&&(n+="H"+a.toString(32)),n+="_"}else a=k1++,n="_"+n+"r_"+a.toString(32)+"_";return e.memoizedState=n},useHostTransitionStatus:Ff,useFormState:kp,useActionState:kp,useOptimistic:function(e){var n=En();n.memoizedState=n.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=a,n=Gf.bind(null,Dt,!0,a),a.dispatch=n,[e,n]},useMemoCache:Uf,useCacheRefresh:function(){return En().memoizedState=H1.bind(null,Dt)},useEffectEvent:function(e){var n=En(),a={impl:e};return n.memoizedState=a,function(){if((ne&2)!==0)throw Error(r(440));return a.impl.apply(void 0,arguments)}}},Qf={readContext:an,use:uc,useCallback:Kp,useContext:an,useEffect:zf,useImperativeHandle:Yp,useInsertionEffect:Fp,useLayoutEffect:Gp,useMemo:Xp,useReducer:cc,useRef:Bp,useState:function(){return cc(ds)},useDebugValue:Bf,useDeferredValue:function(e,n){var a=Le();return $p(a,le.memoizedState,e,n)},useTransition:function(){var e=cc(ds)[0],n=Le().memoizedState;return[typeof e=="boolean"?e:yl(e),n]},useSyncExternalStore:wp,useId:ty,useHostTransitionStatus:Ff,useFormState:Pp,useActionState:Pp,useOptimistic:function(e,n){var a=Le();return Dp(a,le,e,n)},useMemoCache:Uf,useCacheRefresh:ey};Qf.useEffectEvent=Hp;var ay={readContext:an,use:uc,useCallback:Kp,useContext:an,useEffect:zf,useImperativeHandle:Yp,useInsertionEffect:Fp,useLayoutEffect:Gp,useMemo:Xp,useReducer:kf,useRef:Bp,useState:function(){return kf(ds)},useDebugValue:Bf,useDeferredValue:function(e,n){var a=Le();return le===null?qf(a,e,n):$p(a,le.memoizedState,e,n)},useTransition:function(){var e=kf(ds)[0],n=Le().memoizedState;return[typeof e=="boolean"?e:yl(e),n]},useSyncExternalStore:wp,useId:ty,useHostTransitionStatus:Ff,useFormState:zp,useActionState:zp,useOptimistic:function(e,n){var a=Le();return le!==null?Dp(a,le,e,n):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:Uf,useCacheRefresh:ey};ay.useEffectEvent=Hp;function Yf(e,n,a,o){n=e.memoizedState,a=a(o,n),a=a==null?n:b({},n,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var Kf={enqueueSetState:function(e,n,a){e=e._reactInternals;var o=Gn(),h=$s(o);h.payload=n,a!=null&&(h.callback=a),n=Zs(e,h,o),n!==null&&(Mn(n,e,o),dl(n,e,o))},enqueueReplaceState:function(e,n,a){e=e._reactInternals;var o=Gn(),h=$s(o);h.tag=1,h.payload=n,a!=null&&(h.callback=a),n=Zs(e,h,o),n!==null&&(Mn(n,e,o),dl(n,e,o))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var a=Gn(),o=$s(a);o.tag=2,n!=null&&(o.callback=n),n=Zs(e,o,a),n!==null&&(Mn(n,e,a),dl(n,e,a))}};function oy(e,n,a,o,h,f,g){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(o,f,g):n.prototype&&n.prototype.isPureReactComponent?!rl(a,o)||!rl(h,f):!0}function ly(e,n,a,o){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(a,o),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(a,o),n.state!==e&&Kf.enqueueReplaceState(n,n.state,null)}function oa(e,n){var a=n;if("ref"in n){a={};for(var o in n)o!=="ref"&&(a[o]=n[o])}if(e=e.defaultProps){a===n&&(a=b({},a));for(var h in e)a[h]===void 0&&(a[h]=e[h])}return a}function uy(e){Gu(e)}function cy(e){console.error(e)}function hy(e){Gu(e)}function mc(e,n){try{var a=e.onUncaughtError;a(n.value,{componentStack:n.stack})}catch(o){setTimeout(function(){throw o})}}function fy(e,n,a){try{var o=e.onCaughtError;o(a.value,{componentStack:a.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Xf(e,n,a){return a=$s(a),a.tag=3,a.payload={element:null},a.callback=function(){mc(e,n)},a}function dy(e){return e=$s(e),e.tag=3,e}function my(e,n,a,o){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var f=o.value;e.payload=function(){return h(f)},e.callback=function(){fy(n,a,o)}}var g=a.stateNode;g!==null&&typeof g.componentDidCatch=="function"&&(e.callback=function(){fy(n,a,o),typeof h!="function"&&(ir===null?ir=new Set([this]):ir.add(this));var E=o.stack;this.componentDidCatch(o.value,{componentStack:E!==null?E:""})})}function G1(e,n,a,o,h){if(a.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(n=a.alternate,n!==null&&Ha(n,a,h,!0),a=Bn.current,a!==null){switch(a.tag){case 31:case 13:return ui===null?Rc():a.alternate===null&&De===0&&(De=3),a.flags&=-257,a.flags|=65536,a.lanes=h,o===ec?a.flags|=16384:(n=a.updateQueue,n===null?a.updateQueue=new Set([o]):n.add(o),Ed(e,o,h)),!1;case 22:return a.flags|=65536,o===ec?a.flags|=16384:(n=a.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([o])},a.updateQueue=n):(a=n.retryQueue,a===null?n.retryQueue=new Set([o]):a.add(o)),Ed(e,o,h)),!1}throw Error(r(435,a.tag))}return Ed(e,o,h),Rc(),!1}if(Qt)return n=Bn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,o!==mf&&(e=Error(r(422),{cause:o}),ll(ri(e,a)))):(o!==mf&&(n=Error(r(423),{cause:o}),ll(ri(n,a))),e=e.current.alternate,e.flags|=65536,h&=-h,e.lanes|=h,o=ri(o,a),h=Xf(e.stateNode,o,h),wf(e,h),De!==4&&(De=2)),!1;var f=Error(r(520),{cause:o});if(f=ri(f,a),xl===null?xl=[f]:xl.push(f),De!==4&&(De=2),n===null)return!0;o=ri(o,a),a=n;do{switch(a.tag){case 3:return a.flags|=65536,e=h&-h,a.lanes|=e,e=Xf(a.stateNode,o,e),wf(a,e),!1;case 1:if(n=a.type,f=a.stateNode,(a.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(ir===null||!ir.has(f))))return a.flags|=65536,h&=-h,a.lanes|=h,h=dy(h),my(h,e,a,o),wf(a,h),!1}a=a.return}while(a!==null);return!1}var $f=Error(r(461)),qe=!1;function on(e,n,a,o){n.child=e===null?_p(n,null,a,o):ra(n,e.child,a,o)}function gy(e,n,a,o,h){a=a.render;var f=n.ref;if("ref"in o){var g={};for(var E in o)E!=="ref"&&(g[E]=o[E])}else g=o;return ea(n),o=Df(e,n,a,g,f,h),E=Mf(),e!==null&&!qe?(Of(e,n,h),ms(e,n,h)):(Qt&&E&&ff(n),n.flags|=1,on(e,n,o,h),n.child)}function py(e,n,a,o,h){if(e===null){var f=a.type;return typeof f=="function"&&!uf(f)&&f.defaultProps===void 0&&a.compare===null?(n.tag=15,n.type=f,yy(e,n,f,o,h)):(e=Xu(a.type,null,o,n,n.mode,h),e.ref=n.ref,e.return=n,n.child=e)}if(f=e.child,!sd(e,h)){var g=f.memoizedProps;if(a=a.compare,a=a!==null?a:rl,a(g,o)&&e.ref===n.ref)return ms(e,n,h)}return n.flags|=1,e=ls(f,o),e.ref=n.ref,e.return=n,n.child=e}function yy(e,n,a,o,h){if(e!==null){var f=e.memoizedProps;if(rl(f,o)&&e.ref===n.ref)if(qe=!1,n.pendingProps=o=f,sd(e,h))(e.flags&131072)!==0&&(qe=!0);else return n.lanes=e.lanes,ms(e,n,h)}return Zf(e,n,a,o,h)}function _y(e,n,a,o){var h=o.children,f=e!==null?e.memoizedState:null;if(e===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|a:a,e!==null){for(o=n.child=e.child,h=0;o!==null;)h=h|o.lanes|o.childLanes,o=o.sibling;o=h&~f}else o=0,n.child=null;return vy(e,n,f,a,o)}if((a&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&Wu(n,f!==null?f.cachePool:null),f!==null?Tp(n,f):xf(),Ap(n);else return o=n.lanes=536870912,vy(e,n,f!==null?f.baseLanes|a:a,a,o)}else f!==null?(Wu(n,f.cachePool),Tp(n,f),Ws(),n.memoizedState=null):(e!==null&&Wu(n,null),xf(),Ws());return on(e,n,h,a),n.child}function El(e,n){return e!==null&&e.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function vy(e,n,a,o,h){var f=Tf();return f=f===null?null:{parent:ze._currentValue,pool:f},n.memoizedState={baseLanes:a,cachePool:f},e!==null&&Wu(n,null),xf(),Ap(n),e!==null&&Ha(e,n,o,!0),n.childLanes=h,null}function gc(e,n){return n=yc({mode:n.mode,children:n.children},e.mode),n.ref=e.ref,e.child=n,n.return=e,n}function Ey(e,n,a){return ra(n,e.child,null,a),e=gc(n,n.pendingProps),e.flags|=2,qn(n),n.memoizedState=null,e}function Q1(e,n,a){var o=n.pendingProps,h=(n.flags&128)!==0;if(n.flags&=-129,e===null){if(Qt){if(o.mode==="hidden")return e=gc(n,o),n.lanes=536870912,El(null,e);if(Cf(n),(e=_e)?(e=M_(e,li),e=e!==null&&e.data==="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:Gs!==null?{id:Pi,overflow:ji}:null,retryLane:536870912,hydrationErrors:null},a=ip(e),a.return=n,n.child=a,rn=n,_e=null)):e=null,e===null)throw Ys(n);return n.lanes=536870912,null}return gc(n,o)}var f=e.memoizedState;if(f!==null){var g=f.dehydrated;if(Cf(n),h)if(n.flags&256)n.flags&=-257,n=Ey(e,n,a);else if(n.memoizedState!==null)n.child=e.child,n.flags|=128,n=null;else throw Error(r(558));else if(qe||Ha(e,n,a,!1),h=(a&e.childLanes)!==0,qe||h){if(o=pe,o!==null&&(g=jr(o,a),g!==0&&g!==f.retryLane))throw f.retryLane=g,Zr(e,g),Mn(o,e,g),$f;Rc(),n=Ey(e,n,a)}else e=f.treeContext,_e=ci(g.nextSibling),rn=n,Qt=!0,Qs=null,li=!1,e!==null&&ap(n,e),n=gc(n,o),n.flags|=4096;return n}return e=ls(e.child,{mode:o.mode,children:o.children}),e.ref=n.ref,n.child=e,e.return=n,e}function pc(e,n){var a=n.ref;if(a===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(r(284));(e===null||e.ref!==a)&&(n.flags|=4194816)}}function Zf(e,n,a,o,h){return ea(n),a=Df(e,n,a,o,void 0,h),o=Mf(),e!==null&&!qe?(Of(e,n,h),ms(e,n,h)):(Qt&&o&&ff(n),n.flags|=1,on(e,n,a,h),n.child)}function Ty(e,n,a,o,h,f){return ea(n),n.updateQueue=null,a=bp(n,o,a,h),Sp(e),o=Mf(),e!==null&&!qe?(Of(e,n,f),ms(e,n,f)):(Qt&&o&&ff(n),n.flags|=1,on(e,n,a,f),n.child)}function Ay(e,n,a,o,h){if(ea(n),n.stateNode===null){var f=ja,g=a.contextType;typeof g=="object"&&g!==null&&(f=an(g)),f=new a(o,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Kf,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=o,f.state=n.memoizedState,f.refs={},Sf(n),g=a.contextType,f.context=typeof g=="object"&&g!==null?an(g):ja,f.state=n.memoizedState,g=a.getDerivedStateFromProps,typeof g=="function"&&(Yf(n,a,g,o),f.state=n.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(g=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),g!==f.state&&Kf.enqueueReplaceState(f,f.state,null),gl(n,o,f,h),ml(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!0}else if(e===null){f=n.stateNode;var E=n.memoizedProps,I=oa(a,E);f.props=I;var z=f.context,Y=a.contextType;g=ja,typeof Y=="object"&&Y!==null&&(g=an(Y));var $=a.getDerivedStateFromProps;Y=typeof $=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,Y||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||z!==g)&&ly(n,f,o,g),Xs=!1;var B=n.memoizedState;f.state=B,gl(n,o,f,h),ml(),z=n.memoizedState,E||B!==z||Xs?(typeof $=="function"&&(Yf(n,a,$,o),z=n.memoizedState),(I=Xs||oy(n,a,I,o,B,z,g))?(Y||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=o,n.memoizedState=z),f.props=o,f.state=z,f.context=g,o=I):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!1)}else{f=n.stateNode,bf(e,n),g=n.memoizedProps,Y=oa(a,g),f.props=Y,$=n.pendingProps,B=f.context,z=a.contextType,I=ja,typeof z=="object"&&z!==null&&(I=an(z)),E=a.getDerivedStateFromProps,(z=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(g!==$||B!==I)&&ly(n,f,o,I),Xs=!1,B=n.memoizedState,f.state=B,gl(n,o,f,h),ml();var H=n.memoizedState;g!==$||B!==H||Xs||e!==null&&e.dependencies!==null&&Zu(e.dependencies)?(typeof E=="function"&&(Yf(n,a,E,o),H=n.memoizedState),(Y=Xs||oy(n,a,Y,o,B,H,I)||e!==null&&e.dependencies!==null&&Zu(e.dependencies))?(z||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(o,H,I),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(o,H,I)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||g===e.memoizedProps&&B===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&B===e.memoizedState||(n.flags|=1024),n.memoizedProps=o,n.memoizedState=H),f.props=o,f.state=H,f.context=I,o=Y):(typeof f.componentDidUpdate!="function"||g===e.memoizedProps&&B===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&B===e.memoizedState||(n.flags|=1024),o=!1)}return f=o,pc(e,n),o=(n.flags&128)!==0,f||o?(f=n.stateNode,a=o&&typeof a.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,e!==null&&o?(n.child=ra(n,e.child,null,h),n.child=ra(n,null,a,h)):on(e,n,a,h),n.memoizedState=f.state,e=n.child):e=ms(e,n,h),e}function Sy(e,n,a,o){return Wr(),n.flags|=256,on(e,n,a,o),n.child}var Jf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Wf(e){return{baseLanes:e,cachePool:fp()}}function td(e,n,a){return e=e!==null?e.childLanes&~a:0,n&&(e|=Fn),e}function by(e,n,a){var o=n.pendingProps,h=!1,f=(n.flags&128)!==0,g;if((g=f)||(g=e!==null&&e.memoizedState===null?!1:(Ue.current&2)!==0),g&&(h=!0,n.flags&=-129),g=(n.flags&32)!==0,n.flags&=-33,e===null){if(Qt){if(h?Js(n):Ws(),(e=_e)?(e=M_(e,li),e=e!==null&&e.data!=="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:Gs!==null?{id:Pi,overflow:ji}:null,retryLane:536870912,hydrationErrors:null},a=ip(e),a.return=n,n.child=a,rn=n,_e=null)):e=null,e===null)throw Ys(n);return Ld(e)?n.lanes=32:n.lanes=536870912,null}var E=o.children;return o=o.fallback,h?(Ws(),h=n.mode,E=yc({mode:"hidden",children:E},h),o=Jr(o,h,a,null),E.return=n,o.return=n,E.sibling=o,n.child=E,o=n.child,o.memoizedState=Wf(a),o.childLanes=td(e,g,a),n.memoizedState=Jf,El(null,o)):(Js(n),ed(n,E))}var I=e.memoizedState;if(I!==null&&(E=I.dehydrated,E!==null)){if(f)n.flags&256?(Js(n),n.flags&=-257,n=nd(e,n,a)):n.memoizedState!==null?(Ws(),n.child=e.child,n.flags|=128,n=null):(Ws(),E=o.fallback,h=n.mode,o=yc({mode:"visible",children:o.children},h),E=Jr(E,h,a,null),E.flags|=2,o.return=n,E.return=n,o.sibling=E,n.child=o,ra(n,e.child,null,a),o=n.child,o.memoizedState=Wf(a),o.childLanes=td(e,g,a),n.memoizedState=Jf,n=El(null,o));else if(Js(n),Ld(E)){if(g=E.nextSibling&&E.nextSibling.dataset,g)var z=g.dgst;g=z,o=Error(r(419)),o.stack="",o.digest=g,ll({value:o,source:null,stack:null}),n=nd(e,n,a)}else if(qe||Ha(e,n,a,!1),g=(a&e.childLanes)!==0,qe||g){if(g=pe,g!==null&&(o=jr(g,a),o!==0&&o!==I.retryLane))throw I.retryLane=o,Zr(e,o),Mn(g,e,o),$f;Ud(E)||Rc(),n=nd(e,n,a)}else Ud(E)?(n.flags|=192,n.child=e.child,n=null):(e=I.treeContext,_e=ci(E.nextSibling),rn=n,Qt=!0,Qs=null,li=!1,e!==null&&ap(n,e),n=ed(n,o.children),n.flags|=4096);return n}return h?(Ws(),E=o.fallback,h=n.mode,I=e.child,z=I.sibling,o=ls(I,{mode:"hidden",children:o.children}),o.subtreeFlags=I.subtreeFlags&65011712,z!==null?E=ls(z,E):(E=Jr(E,h,a,null),E.flags|=2),E.return=n,o.return=n,o.sibling=E,n.child=o,El(null,o),o=n.child,E=e.child.memoizedState,E===null?E=Wf(a):(h=E.cachePool,h!==null?(I=ze._currentValue,h=h.parent!==I?{parent:I,pool:I}:h):h=fp(),E={baseLanes:E.baseLanes|a,cachePool:h}),o.memoizedState=E,o.childLanes=td(e,g,a),n.memoizedState=Jf,El(e.child,o)):(Js(n),a=e.child,e=a.sibling,a=ls(a,{mode:"visible",children:o.children}),a.return=n,a.sibling=null,e!==null&&(g=n.deletions,g===null?(n.deletions=[e],n.flags|=16):g.push(e)),n.child=a,n.memoizedState=null,a)}function ed(e,n){return n=yc({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function yc(e,n){return e=zn(22,e,null,n),e.lanes=0,e}function nd(e,n,a){return ra(n,e.child,null,a),e=ed(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function wy(e,n,a){e.lanes|=n;var o=e.alternate;o!==null&&(o.lanes|=n),yf(e.return,n,a)}function id(e,n,a,o,h,f){var g=e.memoizedState;g===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:o,tail:a,tailMode:h,treeForkCount:f}:(g.isBackwards=n,g.rendering=null,g.renderingStartTime=0,g.last=o,g.tail=a,g.tailMode=h,g.treeForkCount=f)}function Ry(e,n,a){var o=n.pendingProps,h=o.revealOrder,f=o.tail;o=o.children;var g=Ue.current,E=(g&2)!==0;if(E?(g=g&1|2,n.flags|=128):g&=1,st(Ue,g),on(e,n,o,a),o=Qt?ol:0,!E&&e!==null&&(e.flags&128)!==0)t:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&wy(e,a,n);else if(e.tag===19)wy(e,a,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break t;for(;e.sibling===null;){if(e.return===null||e.return===n)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(h){case"forwards":for(a=n.child,h=null;a!==null;)e=a.alternate,e!==null&&rc(e)===null&&(h=a),a=a.sibling;a=h,a===null?(h=n.child,n.child=null):(h=a.sibling,a.sibling=null),id(n,!1,h,a,f,o);break;case"backwards":case"unstable_legacy-backwards":for(a=null,h=n.child,n.child=null;h!==null;){if(e=h.alternate,e!==null&&rc(e)===null){n.child=h;break}e=h.sibling,h.sibling=a,a=h,h=e}id(n,!0,a,null,f,o);break;case"together":id(n,!1,null,null,void 0,o);break;default:n.memoizedState=null}return n.child}function ms(e,n,a){if(e!==null&&(n.dependencies=e.dependencies),nr|=n.lanes,(a&n.childLanes)===0)if(e!==null){if(Ha(e,n,a,!1),(a&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(r(153));if(n.child!==null){for(e=n.child,a=ls(e,e.pendingProps),n.child=a,a.return=n;e.sibling!==null;)e=e.sibling,a=a.sibling=ls(e,e.pendingProps),a.return=n;a.sibling=null}return n.child}function sd(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&Zu(e)))}function Y1(e,n,a){switch(n.tag){case 3:me(n,n.stateNode.containerInfo),Ks(n,ze,e.memoizedState.cache),Wr();break;case 27:case 5:$n(n);break;case 4:me(n,n.stateNode.containerInfo);break;case 10:Ks(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,Cf(n),null;break;case 13:var o=n.memoizedState;if(o!==null)return o.dehydrated!==null?(Js(n),n.flags|=128,null):(a&n.child.childLanes)!==0?by(e,n,a):(Js(n),e=ms(e,n,a),e!==null?e.sibling:null);Js(n);break;case 19:var h=(e.flags&128)!==0;if(o=(a&n.childLanes)!==0,o||(Ha(e,n,a,!1),o=(a&n.childLanes)!==0),h){if(o)return Ry(e,n,a);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),st(Ue,Ue.current),o)break;return null;case 22:return n.lanes=0,_y(e,n,a,n.pendingProps);case 24:Ks(n,ze,e.memoizedState.cache)}return ms(e,n,a)}function xy(e,n,a){if(e!==null)if(e.memoizedProps!==n.pendingProps)qe=!0;else{if(!sd(e,a)&&(n.flags&128)===0)return qe=!1,Y1(e,n,a);qe=(e.flags&131072)!==0}else qe=!1,Qt&&(n.flags&1048576)!==0&&rp(n,ol,n.index);switch(n.lanes=0,n.tag){case 16:t:{var o=n.pendingProps;if(e=ia(n.elementType),n.type=e,typeof e=="function")uf(e)?(o=oa(e,o),n.tag=1,n=Ay(null,n,e,o,a)):(n.tag=0,n=Zf(null,n,e,o,a));else{if(e!=null){var h=e.$$typeof;if(h===Zt){n.tag=11,n=gy(null,n,e,o,a);break t}else if(h===N){n.tag=14,n=py(null,n,e,o,a);break t}}throw n=de(e)||e,Error(r(306,n,""))}}return n;case 0:return Zf(e,n,n.type,n.pendingProps,a);case 1:return o=n.type,h=oa(o,n.pendingProps),Ay(e,n,o,h,a);case 3:t:{if(me(n,n.stateNode.containerInfo),e===null)throw Error(r(387));o=n.pendingProps;var f=n.memoizedState;h=f.element,bf(e,n),gl(n,o,null,a);var g=n.memoizedState;if(o=g.cache,Ks(n,ze,o),o!==f.cache&&_f(n,[ze],a,!0),ml(),o=g.element,f.isDehydrated)if(f={element:o,isDehydrated:!1,cache:g.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=Sy(e,n,o,a);break t}else if(o!==h){h=ri(Error(r(424)),n),ll(h),n=Sy(e,n,o,a);break t}else{switch(e=n.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(_e=ci(e.firstChild),rn=n,Qt=!0,Qs=null,li=!0,a=_p(n,null,o,a),n.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Wr(),o===h){n=ms(e,n,a);break t}on(e,n,o,a)}n=n.child}return n;case 26:return pc(e,n),e===null?(a=P_(n.type,null,n.pendingProps,null))?n.memoizedState=a:Qt||(a=n.type,e=n.pendingProps,o=Oc(It.current).createElement(a),o[mt]=n,o[bt]=e,ln(o,a,e),Pe(o),n.stateNode=o):n.memoizedState=P_(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return $n(n),e===null&&Qt&&(o=n.stateNode=U_(n.type,n.pendingProps,It.current),rn=n,li=!0,h=_e,or(n.type)?(kd=h,_e=ci(o.firstChild)):_e=h),on(e,n,n.pendingProps.children,a),pc(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&Qt&&((h=o=_e)&&(o=SA(o,n.type,n.pendingProps,li),o!==null?(n.stateNode=o,rn=n,_e=ci(o.firstChild),li=!1,h=!0):h=!1),h||Ys(n)),$n(n),h=n.type,f=n.pendingProps,g=e!==null?e.memoizedProps:null,o=f.children,Md(h,f)?o=null:g!==null&&Md(h,g)&&(n.flags|=32),n.memoizedState!==null&&(h=Df(e,n,P1,null,null,a),Ul._currentValue=h),pc(e,n),on(e,n,o,a),n.child;case 6:return e===null&&Qt&&((e=a=_e)&&(a=bA(a,n.pendingProps,li),a!==null?(n.stateNode=a,rn=n,_e=null,e=!0):e=!1),e||Ys(n)),null;case 13:return by(e,n,a);case 4:return me(n,n.stateNode.containerInfo),o=n.pendingProps,e===null?n.child=ra(n,null,o,a):on(e,n,o,a),n.child;case 11:return gy(e,n,n.type,n.pendingProps,a);case 7:return on(e,n,n.pendingProps,a),n.child;case 8:return on(e,n,n.pendingProps.children,a),n.child;case 12:return on(e,n,n.pendingProps.children,a),n.child;case 10:return o=n.pendingProps,Ks(n,n.type,o.value),on(e,n,o.children,a),n.child;case 9:return h=n.type._context,o=n.pendingProps.children,ea(n),h=an(h),o=o(h),n.flags|=1,on(e,n,o,a),n.child;case 14:return py(e,n,n.type,n.pendingProps,a);case 15:return yy(e,n,n.type,n.pendingProps,a);case 19:return Ry(e,n,a);case 31:return Q1(e,n,a);case 22:return _y(e,n,a,n.pendingProps);case 24:return ea(n),o=an(ze),e===null?(h=Tf(),h===null&&(h=pe,f=vf(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=a),h=f),n.memoizedState={parent:o,cache:h},Sf(n),Ks(n,ze,h)):((e.lanes&a)!==0&&(bf(e,n),gl(n,null,null,a),ml()),h=e.memoizedState,f=n.memoizedState,h.parent!==o?(h={parent:o,cache:o},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),Ks(n,ze,o)):(o=f.cache,Ks(n,ze,o),o!==h.cache&&_f(n,[ze],a,!0))),on(e,n,n.pendingProps.children,a),n.child;case 29:throw n.pendingProps}throw Error(r(156,n.tag))}function gs(e){e.flags|=4}function rd(e,n,a,o,h){if((n=(e.mode&32)!==0)&&(n=!1),n){if(e.flags|=16777216,(h&335544128)===h)if(e.stateNode.complete)e.flags|=8192;else if(t_())e.flags|=8192;else throw sa=ec,Af}else e.flags&=-16777217}function Iy(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!H_(n))if(t_())e.flags|=8192;else throw sa=ec,Af}function _c(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?wa():536870912,e.lanes|=n,eo|=n)}function Tl(e,n){if(!Qt)switch(e.tailMode){case"hidden":n=e.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var o=null;a!==null;)a.alternate!==null&&(o=a),a=a.sibling;o===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:o.sibling=null}}function ve(e){var n=e.alternate!==null&&e.alternate.child===e.child,a=0,o=0;if(n)for(var h=e.child;h!==null;)a|=h.lanes|h.childLanes,o|=h.subtreeFlags&65011712,o|=h.flags&65011712,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)a|=h.lanes|h.childLanes,o|=h.subtreeFlags,o|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=o,e.childLanes=a,n}function K1(e,n,a){var o=n.pendingProps;switch(df(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ve(n),null;case 1:return ve(n),null;case 3:return a=n.stateNode,o=null,e!==null&&(o=e.memoizedState.cache),n.memoizedState.cache!==o&&(n.flags|=2048),hs(ze),ge(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(qa(n)?gs(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,gf())),ve(n),null;case 26:var h=n.type,f=n.memoizedState;return e===null?(gs(n),f!==null?(ve(n),Iy(n,f)):(ve(n),rd(n,h,null,o,a))):f?f!==e.memoizedState?(gs(n),ve(n),Iy(n,f)):(ve(n),n.flags&=-16777217):(e=e.memoizedProps,e!==o&&gs(n),ve(n),rd(n,h,e,o,a)),null;case 27:if(dn(n),a=It.current,h=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&gs(n);else{if(!o){if(n.stateNode===null)throw Error(r(166));return ve(n),null}e=J.current,qa(n)?op(n):(e=U_(h,o,a),n.stateNode=e,gs(n))}return ve(n),null;case 5:if(dn(n),h=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&gs(n);else{if(!o){if(n.stateNode===null)throw Error(r(166));return ve(n),null}if(f=J.current,qa(n))op(n);else{var g=Oc(It.current);switch(f){case 1:f=g.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:f=g.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":f=g.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":f=g.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":f=g.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof o.is=="string"?g.createElement("select",{is:o.is}):g.createElement("select"),o.multiple?f.multiple=!0:o.size&&(f.size=o.size);break;default:f=typeof o.is=="string"?g.createElement(h,{is:o.is}):g.createElement(h)}}f[mt]=n,f[bt]=o;t:for(g=n.child;g!==null;){if(g.tag===5||g.tag===6)f.appendChild(g.stateNode);else if(g.tag!==4&&g.tag!==27&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===n)break t;for(;g.sibling===null;){if(g.return===null||g.return===n)break t;g=g.return}g.sibling.return=g.return,g=g.sibling}n.stateNode=f;t:switch(ln(f,h,o),h){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break t;case"img":o=!0;break t;default:o=!1}o&&gs(n)}}return ve(n),rd(n,n.type,e===null?null:e.memoizedProps,n.pendingProps,a),null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==o&&gs(n);else{if(typeof o!="string"&&n.stateNode===null)throw Error(r(166));if(e=It.current,qa(n)){if(e=n.stateNode,a=n.memoizedProps,o=null,h=rn,h!==null)switch(h.tag){case 27:case 5:o=h.memoizedProps}e[mt]=n,e=!!(e.nodeValue===a||o!==null&&o.suppressHydrationWarning===!0||b_(e.nodeValue,a)),e||Ys(n,!0)}else e=Oc(e).createTextNode(o),e[mt]=n,n.stateNode=e}return ve(n),null;case 31:if(a=n.memoizedState,e===null||e.memoizedState!==null){if(o=qa(n),a!==null){if(e===null){if(!o)throw Error(r(318));if(e=n.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(557));e[mt]=n}else Wr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ve(n),e=!1}else a=gf(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=a),e=!0;if(!e)return n.flags&256?(qn(n),n):(qn(n),null);if((n.flags&128)!==0)throw Error(r(558))}return ve(n),null;case 13:if(o=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(h=qa(n),o!==null&&o.dehydrated!==null){if(e===null){if(!h)throw Error(r(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(r(317));h[mt]=n}else Wr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ve(n),h=!1}else h=gf(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(qn(n),n):(qn(n),null)}return qn(n),(n.flags&128)!==0?(n.lanes=a,n):(a=o!==null,e=e!==null&&e.memoizedState!==null,a&&(o=n.child,h=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(h=o.alternate.memoizedState.cachePool.pool),f=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),f!==h&&(o.flags|=2048)),a!==e&&a&&(n.child.flags|=8192),_c(n,n.updateQueue),ve(n),null);case 4:return ge(),e===null&&xd(n.stateNode.containerInfo),ve(n),null;case 10:return hs(n.type),ve(n),null;case 19:if(F(Ue),o=n.memoizedState,o===null)return ve(n),null;if(h=(n.flags&128)!==0,f=o.rendering,f===null)if(h)Tl(o,!1);else{if(De!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(f=rc(e),f!==null){for(n.flags|=128,Tl(o,!1),e=f.updateQueue,n.updateQueue=e,_c(n,e),n.subtreeFlags=0,e=a,a=n.child;a!==null;)np(a,e),a=a.sibling;return st(Ue,Ue.current&1|2),Qt&&us(n,o.treeForkCount),n.child}e=e.sibling}o.tail!==null&&nn()>Sc&&(n.flags|=128,h=!0,Tl(o,!1),n.lanes=4194304)}else{if(!h)if(e=rc(f),e!==null){if(n.flags|=128,h=!0,e=e.updateQueue,n.updateQueue=e,_c(n,e),Tl(o,!0),o.tail===null&&o.tailMode==="hidden"&&!f.alternate&&!Qt)return ve(n),null}else 2*nn()-o.renderingStartTime>Sc&&a!==536870912&&(n.flags|=128,h=!0,Tl(o,!1),n.lanes=4194304);o.isBackwards?(f.sibling=n.child,n.child=f):(e=o.last,e!==null?e.sibling=f:n.child=f,o.last=f)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=nn(),e.sibling=null,a=Ue.current,st(Ue,h?a&1|2:a&1),Qt&&us(n,o.treeForkCount),e):(ve(n),null);case 22:case 23:return qn(n),If(),o=n.memoizedState!==null,e!==null?e.memoizedState!==null!==o&&(n.flags|=8192):o&&(n.flags|=8192),o?(a&536870912)!==0&&(n.flags&128)===0&&(ve(n),n.subtreeFlags&6&&(n.flags|=8192)):ve(n),a=n.updateQueue,a!==null&&_c(n,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),o=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),o!==a&&(n.flags|=2048),e!==null&&F(na),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),n.memoizedState.cache!==a&&(n.flags|=2048),hs(ze),ve(n),null;case 25:return null;case 30:return null}throw Error(r(156,n.tag))}function X1(e,n){switch(df(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return hs(ze),ge(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return dn(n),null;case 31:if(n.memoizedState!==null){if(qn(n),n.alternate===null)throw Error(r(340));Wr()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 13:if(qn(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(r(340));Wr()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return F(Ue),null;case 4:return ge(),null;case 10:return hs(n.type),null;case 22:case 23:return qn(n),If(),e!==null&&F(na),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return hs(ze),null;case 25:return null;default:return null}}function Cy(e,n){switch(df(n),n.tag){case 3:hs(ze),ge();break;case 26:case 27:case 5:dn(n);break;case 4:ge();break;case 31:n.memoizedState!==null&&qn(n);break;case 13:qn(n);break;case 19:F(Ue);break;case 10:hs(n.type);break;case 22:case 23:qn(n),If(),e!==null&&F(na);break;case 24:hs(ze)}}function Al(e,n){try{var a=n.updateQueue,o=a!==null?a.lastEffect:null;if(o!==null){var h=o.next;a=h;do{if((a.tag&e)===e){o=void 0;var f=a.create,g=a.inst;o=f(),g.destroy=o}a=a.next}while(a!==h)}}catch(E){ae(n,n.return,E)}}function tr(e,n,a){try{var o=n.updateQueue,h=o!==null?o.lastEffect:null;if(h!==null){var f=h.next;o=f;do{if((o.tag&e)===e){var g=o.inst,E=g.destroy;if(E!==void 0){g.destroy=void 0,h=n;var I=a,z=E;try{z()}catch(Y){ae(h,I,Y)}}}o=o.next}while(o!==f)}}catch(Y){ae(n,n.return,Y)}}function Ny(e){var n=e.updateQueue;if(n!==null){var a=e.stateNode;try{Ep(n,a)}catch(o){ae(e,e.return,o)}}}function Dy(e,n,a){a.props=oa(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(o){ae(e,n,o)}}function Sl(e,n){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var o=e.stateNode;break;case 30:o=e.stateNode;break;default:o=e.stateNode}typeof a=="function"?e.refCleanup=a(o):a.current=o}}catch(h){ae(e,n,h)}}function zi(e,n){var a=e.ref,o=e.refCleanup;if(a!==null)if(typeof o=="function")try{o()}catch(h){ae(e,n,h)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){ae(e,n,h)}else a.current=null}function My(e){var n=e.type,a=e.memoizedProps,o=e.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":a.autoFocus&&o.focus();break t;case"img":a.src?o.src=a.src:a.srcSet&&(o.srcset=a.srcSet)}}catch(h){ae(e,e.return,h)}}function ad(e,n,a){try{var o=e.stateNode;yA(o,e.type,a,n),o[bt]=n}catch(h){ae(e,e.return,h)}}function Oy(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&or(e.type)||e.tag===4}function od(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||Oy(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&or(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function ld(e,n,a){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,n):(n=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,n.appendChild(e),a=a._reactRootContainer,a!=null||n.onclick!==null||(n.onclick=fi));else if(o!==4&&(o===27&&or(e.type)&&(a=e.stateNode,n=null),e=e.child,e!==null))for(ld(e,n,a),e=e.sibling;e!==null;)ld(e,n,a),e=e.sibling}function vc(e,n,a){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?a.insertBefore(e,n):a.appendChild(e);else if(o!==4&&(o===27&&or(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(vc(e,n,a),e=e.sibling;e!==null;)vc(e,n,a),e=e.sibling}function Vy(e){var n=e.stateNode,a=e.memoizedProps;try{for(var o=e.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);ln(n,o,a),n[mt]=e,n[bt]=a}catch(f){ae(e,e.return,f)}}var ps=!1,He=!1,ud=!1,Uy=typeof WeakSet=="function"?WeakSet:Set,We=null;function $1(e,n){if(e=e.containerInfo,Nd=zc,e=Yg(e),ef(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else t:{a=(a=e.ownerDocument)&&a.defaultView||window;var o=a.getSelection&&a.getSelection();if(o&&o.rangeCount!==0){a=o.anchorNode;var h=o.anchorOffset,f=o.focusNode;o=o.focusOffset;try{a.nodeType,f.nodeType}catch{a=null;break t}var g=0,E=-1,I=-1,z=0,Y=0,$=e,B=null;e:for(;;){for(var H;$!==a||h!==0&&$.nodeType!==3||(E=g+h),$!==f||o!==0&&$.nodeType!==3||(I=g+o),$.nodeType===3&&(g+=$.nodeValue.length),(H=$.firstChild)!==null;)B=$,$=H;for(;;){if($===e)break e;if(B===a&&++z===h&&(E=g),B===f&&++Y===o&&(I=g),(H=$.nextSibling)!==null)break;$=B,B=$.parentNode}$=H}a=E===-1||I===-1?null:{start:E,end:I}}else a=null}a=a||{start:0,end:0}}else a=null;for(Dd={focusedElem:e,selectionRange:a},zc=!1,We=n;We!==null;)if(n=We,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,We=e;else for(;We!==null;){switch(n=We,f=n.alternate,e=n.flags,n.tag){case 0:if((e&4)!==0&&(e=n.updateQueue,e=e!==null?e.events:null,e!==null))for(a=0;a<e.length;a++)h=e[a],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&f!==null){e=void 0,a=n,h=f.memoizedProps,f=f.memoizedState,o=a.stateNode;try{var ct=oa(a.type,h);e=o.getSnapshotBeforeUpdate(ct,f),o.__reactInternalSnapshotBeforeUpdate=e}catch(Et){ae(a,a.return,Et)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,a=e.nodeType,a===9)Vd(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Vd(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(r(163))}if(e=n.sibling,e!==null){e.return=n.return,We=e;break}We=n.return}}function Ly(e,n,a){var o=a.flags;switch(a.tag){case 0:case 11:case 15:_s(e,a),o&4&&Al(5,a);break;case 1:if(_s(e,a),o&4)if(e=a.stateNode,n===null)try{e.componentDidMount()}catch(g){ae(a,a.return,g)}else{var h=oa(a.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(h,n,e.__reactInternalSnapshotBeforeUpdate)}catch(g){ae(a,a.return,g)}}o&64&&Ny(a),o&512&&Sl(a,a.return);break;case 3:if(_s(e,a),o&64&&(e=a.updateQueue,e!==null)){if(n=null,a.child!==null)switch(a.child.tag){case 27:case 5:n=a.child.stateNode;break;case 1:n=a.child.stateNode}try{Ep(e,n)}catch(g){ae(a,a.return,g)}}break;case 27:n===null&&o&4&&Vy(a);case 26:case 5:_s(e,a),n===null&&o&4&&My(a),o&512&&Sl(a,a.return);break;case 12:_s(e,a);break;case 31:_s(e,a),o&4&&jy(e,a);break;case 13:_s(e,a),o&4&&zy(e,a),o&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=rA.bind(null,a),wA(e,a))));break;case 22:if(o=a.memoizedState!==null||ps,!o){n=n!==null&&n.memoizedState!==null||He,h=ps;var f=He;ps=o,(He=n)&&!f?vs(e,a,(a.subtreeFlags&8772)!==0):_s(e,a),ps=h,He=f}break;case 30:break;default:_s(e,a)}}function ky(e){var n=e.alternate;n!==null&&(e.alternate=null,ky(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&Ln(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Ae=null,In=!1;function ys(e,n,a){for(a=a.child;a!==null;)Py(e,n,a),a=a.sibling}function Py(e,n,a){if(Ke&&typeof Ke.onCommitFiberUnmount=="function")try{Ke.onCommitFiberUnmount(Sn,a)}catch{}switch(a.tag){case 26:He||zi(a,n),ys(e,n,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:He||zi(a,n);var o=Ae,h=In;or(a.type)&&(Ae=a.stateNode,In=!1),ys(e,n,a),Ml(a.stateNode),Ae=o,In=h;break;case 5:He||zi(a,n);case 6:if(o=Ae,h=In,Ae=null,ys(e,n,a),Ae=o,In=h,Ae!==null)if(In)try{(Ae.nodeType===9?Ae.body:Ae.nodeName==="HTML"?Ae.ownerDocument.body:Ae).removeChild(a.stateNode)}catch(f){ae(a,n,f)}else try{Ae.removeChild(a.stateNode)}catch(f){ae(a,n,f)}break;case 18:Ae!==null&&(In?(e=Ae,N_(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),uo(e)):N_(Ae,a.stateNode));break;case 4:o=Ae,h=In,Ae=a.stateNode.containerInfo,In=!0,ys(e,n,a),Ae=o,In=h;break;case 0:case 11:case 14:case 15:tr(2,a,n),He||tr(4,a,n),ys(e,n,a);break;case 1:He||(zi(a,n),o=a.stateNode,typeof o.componentWillUnmount=="function"&&Dy(a,n,o)),ys(e,n,a);break;case 21:ys(e,n,a);break;case 22:He=(o=He)||a.memoizedState!==null,ys(e,n,a),He=o;break;default:ys(e,n,a)}}function jy(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{uo(e)}catch(a){ae(n,n.return,a)}}}function zy(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{uo(e)}catch(a){ae(n,n.return,a)}}function Z1(e){switch(e.tag){case 31:case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new Uy),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new Uy),n;default:throw Error(r(435,e.tag))}}function Ec(e,n){var a=Z1(e);n.forEach(function(o){if(!a.has(o)){a.add(o);var h=aA.bind(null,e,o);o.then(h,h)}})}function Cn(e,n){var a=n.deletions;if(a!==null)for(var o=0;o<a.length;o++){var h=a[o],f=e,g=n,E=g;t:for(;E!==null;){switch(E.tag){case 27:if(or(E.type)){Ae=E.stateNode,In=!1;break t}break;case 5:Ae=E.stateNode,In=!1;break t;case 3:case 4:Ae=E.stateNode.containerInfo,In=!0;break t}E=E.return}if(Ae===null)throw Error(r(160));Py(f,g,h),Ae=null,In=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)By(n,e),n=n.sibling}var _i=null;function By(e,n){var a=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Cn(n,e),Nn(e),o&4&&(tr(3,e,e.return),Al(3,e),tr(5,e,e.return));break;case 1:Cn(n,e),Nn(e),o&512&&(He||a===null||zi(a,a.return)),o&64&&ps&&(e=e.updateQueue,e!==null&&(o=e.callbacks,o!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?o:a.concat(o))));break;case 26:var h=_i;if(Cn(n,e),Nn(e),o&512&&(He||a===null||zi(a,a.return)),o&4){var f=a!==null?a.memoizedState:null;if(o=e.memoizedState,a===null)if(o===null)if(e.stateNode===null){t:{o=e.type,a=e.memoizedProps,h=h.ownerDocument||h;e:switch(o){case"title":f=h.getElementsByTagName("title")[0],(!f||f[Ze]||f[mt]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(o),h.head.insertBefore(f,h.querySelector("head > title"))),ln(f,o,a),f[mt]=e,Pe(f),o=f;break t;case"link":var g=B_("link","href",h).get(o+(a.href||""));if(g){for(var E=0;E<g.length;E++)if(f=g[E],f.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&f.getAttribute("rel")===(a.rel==null?null:a.rel)&&f.getAttribute("title")===(a.title==null?null:a.title)&&f.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){g.splice(E,1);break e}}f=h.createElement(o),ln(f,o,a),h.head.appendChild(f);break;case"meta":if(g=B_("meta","content",h).get(o+(a.content||""))){for(E=0;E<g.length;E++)if(f=g[E],f.getAttribute("content")===(a.content==null?null:""+a.content)&&f.getAttribute("name")===(a.name==null?null:a.name)&&f.getAttribute("property")===(a.property==null?null:a.property)&&f.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&f.getAttribute("charset")===(a.charSet==null?null:a.charSet)){g.splice(E,1);break e}}f=h.createElement(o),ln(f,o,a),h.head.appendChild(f);break;default:throw Error(r(468,o))}f[mt]=e,Pe(f),o=f}e.stateNode=o}else q_(h,e.type,e.stateNode);else e.stateNode=z_(h,o,e.memoizedProps);else f!==o?(f===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):f.count--,o===null?q_(h,e.type,e.stateNode):z_(h,o,e.memoizedProps)):o===null&&e.stateNode!==null&&ad(e,e.memoizedProps,a.memoizedProps)}break;case 27:Cn(n,e),Nn(e),o&512&&(He||a===null||zi(a,a.return)),a!==null&&o&4&&ad(e,e.memoizedProps,a.memoizedProps);break;case 5:if(Cn(n,e),Nn(e),o&512&&(He||a===null||zi(a,a.return)),e.flags&32){h=e.stateNode;try{xn(h,"")}catch(ct){ae(e,e.return,ct)}}o&4&&e.stateNode!=null&&(h=e.memoizedProps,ad(e,h,a!==null?a.memoizedProps:h)),o&1024&&(ud=!0);break;case 6:if(Cn(n,e),Nn(e),o&4){if(e.stateNode===null)throw Error(r(162));o=e.memoizedProps,a=e.stateNode;try{a.nodeValue=o}catch(ct){ae(e,e.return,ct)}}break;case 3:if(Lc=null,h=_i,_i=Vc(n.containerInfo),Cn(n,e),_i=h,Nn(e),o&4&&a!==null&&a.memoizedState.isDehydrated)try{uo(n.containerInfo)}catch(ct){ae(e,e.return,ct)}ud&&(ud=!1,qy(e));break;case 4:o=_i,_i=Vc(e.stateNode.containerInfo),Cn(n,e),Nn(e),_i=o;break;case 12:Cn(n,e),Nn(e);break;case 31:Cn(n,e),Nn(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Ec(e,o)));break;case 13:Cn(n,e),Nn(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Ac=nn()),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Ec(e,o)));break;case 22:h=e.memoizedState!==null;var I=a!==null&&a.memoizedState!==null,z=ps,Y=He;if(ps=z||h,He=Y||I,Cn(n,e),He=Y,ps=z,Nn(e),o&8192)t:for(n=e.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(a===null||I||ps||He||la(e)),a=null,n=e;;){if(n.tag===5||n.tag===26){if(a===null){I=a=n;try{if(f=I.stateNode,h)g=f.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none";else{E=I.stateNode;var $=I.memoizedProps.style,B=$!=null&&$.hasOwnProperty("display")?$.display:null;E.style.display=B==null||typeof B=="boolean"?"":(""+B).trim()}}catch(ct){ae(I,I.return,ct)}}}else if(n.tag===6){if(a===null){I=n;try{I.stateNode.nodeValue=h?"":I.memoizedProps}catch(ct){ae(I,I.return,ct)}}}else if(n.tag===18){if(a===null){I=n;try{var H=I.stateNode;h?D_(H,!0):D_(I.stateNode,!1)}catch(ct){ae(I,I.return,ct)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break t;for(;n.sibling===null;){if(n.return===null||n.return===e)break t;a===n&&(a=null),n=n.return}a===n&&(a=null),n.sibling.return=n.return,n=n.sibling}o&4&&(o=e.updateQueue,o!==null&&(a=o.retryQueue,a!==null&&(o.retryQueue=null,Ec(e,a))));break;case 19:Cn(n,e),Nn(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Ec(e,o)));break;case 30:break;case 21:break;default:Cn(n,e),Nn(e)}}function Nn(e){var n=e.flags;if(n&2){try{for(var a,o=e.return;o!==null;){if(Oy(o)){a=o;break}o=o.return}if(a==null)throw Error(r(160));switch(a.tag){case 27:var h=a.stateNode,f=od(e);vc(e,f,h);break;case 5:var g=a.stateNode;a.flags&32&&(xn(g,""),a.flags&=-33);var E=od(e);vc(e,E,g);break;case 3:case 4:var I=a.stateNode.containerInfo,z=od(e);ld(e,z,I);break;default:throw Error(r(161))}}catch(Y){ae(e,e.return,Y)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function qy(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;qy(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function _s(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)Ly(e,n.alternate,n),n=n.sibling}function la(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:tr(4,n,n.return),la(n);break;case 1:zi(n,n.return);var a=n.stateNode;typeof a.componentWillUnmount=="function"&&Dy(n,n.return,a),la(n);break;case 27:Ml(n.stateNode);case 26:case 5:zi(n,n.return),la(n);break;case 22:n.memoizedState===null&&la(n);break;case 30:la(n);break;default:la(n)}e=e.sibling}}function vs(e,n,a){for(a=a&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var o=n.alternate,h=e,f=n,g=f.flags;switch(f.tag){case 0:case 11:case 15:vs(h,f,a),Al(4,f);break;case 1:if(vs(h,f,a),o=f,h=o.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(z){ae(o,o.return,z)}if(o=f,h=o.updateQueue,h!==null){var E=o.stateNode;try{var I=h.shared.hiddenCallbacks;if(I!==null)for(h.shared.hiddenCallbacks=null,h=0;h<I.length;h++)vp(I[h],E)}catch(z){ae(o,o.return,z)}}a&&g&64&&Ny(f),Sl(f,f.return);break;case 27:Vy(f);case 26:case 5:vs(h,f,a),a&&o===null&&g&4&&My(f),Sl(f,f.return);break;case 12:vs(h,f,a);break;case 31:vs(h,f,a),a&&g&4&&jy(h,f);break;case 13:vs(h,f,a),a&&g&4&&zy(h,f);break;case 22:f.memoizedState===null&&vs(h,f,a),Sl(f,f.return);break;case 30:break;default:vs(h,f,a)}n=n.sibling}}function cd(e,n){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&ul(a))}function hd(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&ul(e))}function vi(e,n,a,o){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Hy(e,n,a,o),n=n.sibling}function Hy(e,n,a,o){var h=n.flags;switch(n.tag){case 0:case 11:case 15:vi(e,n,a,o),h&2048&&Al(9,n);break;case 1:vi(e,n,a,o);break;case 3:vi(e,n,a,o),h&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&ul(e)));break;case 12:if(h&2048){vi(e,n,a,o),e=n.stateNode;try{var f=n.memoizedProps,g=f.id,E=f.onPostCommit;typeof E=="function"&&E(g,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(I){ae(n,n.return,I)}}else vi(e,n,a,o);break;case 31:vi(e,n,a,o);break;case 13:vi(e,n,a,o);break;case 23:break;case 22:f=n.stateNode,g=n.alternate,n.memoizedState!==null?f._visibility&2?vi(e,n,a,o):bl(e,n):f._visibility&2?vi(e,n,a,o):(f._visibility|=2,Ja(e,n,a,o,(n.subtreeFlags&10256)!==0||!1)),h&2048&&cd(g,n);break;case 24:vi(e,n,a,o),h&2048&&hd(n.alternate,n);break;default:vi(e,n,a,o)}}function Ja(e,n,a,o,h){for(h=h&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=e,g=n,E=a,I=o,z=g.flags;switch(g.tag){case 0:case 11:case 15:Ja(f,g,E,I,h),Al(8,g);break;case 23:break;case 22:var Y=g.stateNode;g.memoizedState!==null?Y._visibility&2?Ja(f,g,E,I,h):bl(f,g):(Y._visibility|=2,Ja(f,g,E,I,h)),h&&z&2048&&cd(g.alternate,g);break;case 24:Ja(f,g,E,I,h),h&&z&2048&&hd(g.alternate,g);break;default:Ja(f,g,E,I,h)}n=n.sibling}}function bl(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var a=e,o=n,h=o.flags;switch(o.tag){case 22:bl(a,o),h&2048&&cd(o.alternate,o);break;case 24:bl(a,o),h&2048&&hd(o.alternate,o);break;default:bl(a,o)}n=n.sibling}}var wl=8192;function Wa(e,n,a){if(e.subtreeFlags&wl)for(e=e.child;e!==null;)Fy(e,n,a),e=e.sibling}function Fy(e,n,a){switch(e.tag){case 26:Wa(e,n,a),e.flags&wl&&e.memoizedState!==null&&kA(a,_i,e.memoizedState,e.memoizedProps);break;case 5:Wa(e,n,a);break;case 3:case 4:var o=_i;_i=Vc(e.stateNode.containerInfo),Wa(e,n,a),_i=o;break;case 22:e.memoizedState===null&&(o=e.alternate,o!==null&&o.memoizedState!==null?(o=wl,wl=16777216,Wa(e,n,a),wl=o):Wa(e,n,a));break;default:Wa(e,n,a)}}function Gy(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function Rl(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var o=n[a];We=o,Yy(o,e)}Gy(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Qy(e),e=e.sibling}function Qy(e){switch(e.tag){case 0:case 11:case 15:Rl(e),e.flags&2048&&tr(9,e,e.return);break;case 3:Rl(e);break;case 12:Rl(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,Tc(e)):Rl(e);break;default:Rl(e)}}function Tc(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var o=n[a];We=o,Yy(o,e)}Gy(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:tr(8,n,n.return),Tc(n);break;case 22:a=n.stateNode,a._visibility&2&&(a._visibility&=-3,Tc(n));break;default:Tc(n)}e=e.sibling}}function Yy(e,n){for(;We!==null;){var a=We;switch(a.tag){case 0:case 11:case 15:tr(8,a,n);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var o=a.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:ul(a.memoizedState.cache)}if(o=a.child,o!==null)o.return=a,We=o;else t:for(a=e;We!==null;){o=We;var h=o.sibling,f=o.return;if(ky(o),o===a){We=null;break t}if(h!==null){h.return=f,We=h;break t}We=f}}}var J1={getCacheForType:function(e){var n=an(ze),a=n.data.get(e);return a===void 0&&(a=e(),n.data.set(e,a)),a},cacheSignal:function(){return an(ze).controller.signal}},W1=typeof WeakMap=="function"?WeakMap:Map,ne=0,pe=null,Ut=null,zt=0,re=0,Hn=null,er=!1,to=!1,fd=!1,Es=0,De=0,nr=0,ua=0,dd=0,Fn=0,eo=0,xl=null,Dn=null,md=!1,Ac=0,Ky=0,Sc=1/0,bc=null,ir=null,Xe=0,sr=null,no=null,Ts=0,gd=0,pd=null,Xy=null,Il=0,yd=null;function Gn(){return(ne&2)!==0&&zt!==0?zt&-zt:Q.T!==null?Sd():tt()}function $y(){if(Fn===0)if((zt&536870912)===0||Qt){var e=ns;ns<<=1,(ns&3932160)===0&&(ns=262144),Fn=e}else Fn=536870912;return e=Bn.current,e!==null&&(e.flags|=32),Fn}function Mn(e,n,a){(e===pe&&(re===2||re===9)||e.cancelPendingCommit!==null)&&(io(e,0),rr(e,zt,Fn,!1)),is(e,a),((ne&2)===0||e!==pe)&&(e===pe&&((ne&2)===0&&(ua|=a),De===4&&rr(e,zt,Fn,!1)),Bi(e))}function Zy(e,n,a){if((ne&6)!==0)throw Error(r(327));var o=!a&&(n&127)===0&&(n&e.expiredLanes)===0||Un(e,n),h=o?nA(e,n):vd(e,n,!0),f=o;do{if(h===0){to&&!o&&rr(e,n,0,!1);break}else{if(a=e.current.alternate,f&&!tA(a)){h=vd(e,n,!1),f=!1;continue}if(h===2){if(f=n,e.errorRecoveryDisabledLanes&f)var g=0;else g=e.pendingLanes&-536870913,g=g!==0?g:g&536870912?536870912:0;if(g!==0){n=g;t:{var E=e;h=xl;var I=E.current.memoizedState.isDehydrated;if(I&&(io(E,g).flags|=256),g=vd(E,g,!1),g!==2){if(fd&&!I){E.errorRecoveryDisabledLanes|=f,ua|=f,h=4;break t}f=Dn,Dn=h,f!==null&&(Dn===null?Dn=f:Dn.push.apply(Dn,f))}h=g}if(f=!1,h!==2)continue}}if(h===1){io(e,0),rr(e,n,0,!0);break}t:{switch(o=e,f=h,f){case 0:case 1:throw Error(r(345));case 4:if((n&4194048)!==n)break;case 6:rr(o,n,Fn,!er);break t;case 2:Dn=null;break;case 3:case 5:break;default:throw Error(r(329))}if((n&62914560)===n&&(h=Ac+300-nn(),10<h)){if(rr(o,n,Fn,!er),Jn(o,0,!0)!==0)break t;Ts=n,o.timeoutHandle=I_(Jy.bind(null,o,a,Dn,bc,md,n,Fn,ua,eo,er,f,"Throttled",-0,0),h);break t}Jy(o,a,Dn,bc,md,n,Fn,ua,eo,er,f,null,-0,0)}}break}while(!0);Bi(e)}function Jy(e,n,a,o,h,f,g,E,I,z,Y,$,B,H){if(e.timeoutHandle=-1,$=n.subtreeFlags,$&8192||($&16785408)===16785408){$={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:fi},Fy(n,f,$);var ct=(f&62914560)===f?Ac-nn():(f&4194048)===f?Ky-nn():0;if(ct=PA($,ct),ct!==null){Ts=f,e.cancelPendingCommit=ct(a_.bind(null,e,n,f,a,o,h,g,E,I,Y,$,null,B,H)),rr(e,f,g,!z);return}}a_(e,n,f,a,o,h,g,E,I)}function tA(e){for(var n=e;;){var a=n.tag;if((a===0||a===11||a===15)&&n.flags&16384&&(a=n.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var o=0;o<a.length;o++){var h=a[o],f=h.getSnapshot;h=h.value;try{if(!jn(f(),h))return!1}catch{return!1}}if(a=n.child,n.subtreeFlags&16384&&a!==null)a.return=n,n=a;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function rr(e,n,a,o){n&=~dd,n&=~ua,e.suspendedLanes|=n,e.pingedLanes&=~n,o&&(e.warmLanes|=n),o=e.expirationTimes;for(var h=n;0<h;){var f=31-be(h),g=1<<f;o[f]=-1,h&=~g}a!==0&&ss(e,a,n)}function wc(){return(ne&6)===0?(Cl(0),!1):!0}function _d(){if(Ut!==null){if(re===0)var e=Ut.return;else e=Ut,cs=ta=null,Vf(e),Ya=null,hl=0,e=Ut;for(;e!==null;)Cy(e.alternate,e),e=e.return;Ut=null}}function io(e,n){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,EA(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),Ts=0,_d(),pe=e,Ut=a=ls(e.current,null),zt=n,re=0,Hn=null,er=!1,to=Un(e,n),fd=!1,eo=Fn=dd=ua=nr=De=0,Dn=xl=null,md=!1,(n&8)!==0&&(n|=n&32);var o=e.entangledLanes;if(o!==0)for(e=e.entanglements,o&=n;0<o;){var h=31-be(o),f=1<<h;n|=e[h],o&=~f}return Es=n,Qu(),a}function Wy(e,n){Dt=null,Q.H=vl,n===Qa||n===tc?(n=gp(),re=3):n===Af?(n=gp(),re=4):re=n===$f?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,Hn=n,Ut===null&&(De=1,mc(e,ri(n,e.current)))}function t_(){var e=Bn.current;return e===null?!0:(zt&4194048)===zt?ui===null:(zt&62914560)===zt||(zt&536870912)!==0?e===ui:!1}function e_(){var e=Q.H;return Q.H=vl,e===null?vl:e}function n_(){var e=Q.A;return Q.A=J1,e}function Rc(){De=4,er||(zt&4194048)!==zt&&Bn.current!==null||(to=!0),(nr&134217727)===0&&(ua&134217727)===0||pe===null||rr(pe,zt,Fn,!1)}function vd(e,n,a){var o=ne;ne|=2;var h=e_(),f=n_();(pe!==e||zt!==n)&&(bc=null,io(e,n)),n=!1;var g=De;t:do try{if(re!==0&&Ut!==null){var E=Ut,I=Hn;switch(re){case 8:_d(),g=6;break t;case 3:case 2:case 9:case 6:Bn.current===null&&(n=!0);var z=re;if(re=0,Hn=null,so(e,E,I,z),a&&to){g=0;break t}break;default:z=re,re=0,Hn=null,so(e,E,I,z)}}eA(),g=De;break}catch(Y){Wy(e,Y)}while(!0);return n&&e.shellSuspendCounter++,cs=ta=null,ne=o,Q.H=h,Q.A=f,Ut===null&&(pe=null,zt=0,Qu()),g}function eA(){for(;Ut!==null;)i_(Ut)}function nA(e,n){var a=ne;ne|=2;var o=e_(),h=n_();pe!==e||zt!==n?(bc=null,Sc=nn()+500,io(e,n)):to=Un(e,n);t:do try{if(re!==0&&Ut!==null){n=Ut;var f=Hn;e:switch(re){case 1:re=0,Hn=null,so(e,n,f,1);break;case 2:case 9:if(dp(f)){re=0,Hn=null,s_(n);break}n=function(){re!==2&&re!==9||pe!==e||(re=7),Bi(e)},f.then(n,n);break t;case 3:re=7;break t;case 4:re=5;break t;case 7:dp(f)?(re=0,Hn=null,s_(n)):(re=0,Hn=null,so(e,n,f,7));break;case 5:var g=null;switch(Ut.tag){case 26:g=Ut.memoizedState;case 5:case 27:var E=Ut;if(g?H_(g):E.stateNode.complete){re=0,Hn=null;var I=E.sibling;if(I!==null)Ut=I;else{var z=E.return;z!==null?(Ut=z,xc(z)):Ut=null}break e}}re=0,Hn=null,so(e,n,f,5);break;case 6:re=0,Hn=null,so(e,n,f,6);break;case 8:_d(),De=6;break t;default:throw Error(r(462))}}iA();break}catch(Y){Wy(e,Y)}while(!0);return cs=ta=null,Q.H=o,Q.A=h,ne=a,Ut!==null?0:(pe=null,zt=0,Qu(),De)}function iA(){for(;Ut!==null&&!jo();)i_(Ut)}function i_(e){var n=xy(e.alternate,e,Es);e.memoizedProps=e.pendingProps,n===null?xc(e):Ut=n}function s_(e){var n=e,a=n.alternate;switch(n.tag){case 15:case 0:n=Ty(a,n,n.pendingProps,n.type,void 0,zt);break;case 11:n=Ty(a,n,n.pendingProps,n.type.render,n.ref,zt);break;case 5:Vf(n);default:Cy(a,n),n=Ut=np(n,Es),n=xy(a,n,Es)}e.memoizedProps=e.pendingProps,n===null?xc(e):Ut=n}function so(e,n,a,o){cs=ta=null,Vf(n),Ya=null,hl=0;var h=n.return;try{if(G1(e,h,n,a,zt)){De=1,mc(e,ri(a,e.current)),Ut=null;return}}catch(f){if(h!==null)throw Ut=h,f;De=1,mc(e,ri(a,e.current)),Ut=null;return}n.flags&32768?(Qt||o===1?e=!0:to||(zt&536870912)!==0?e=!1:(er=e=!0,(o===2||o===9||o===3||o===6)&&(o=Bn.current,o!==null&&o.tag===13&&(o.flags|=16384))),r_(n,e)):xc(n)}function xc(e){var n=e;do{if((n.flags&32768)!==0){r_(n,er);return}e=n.return;var a=K1(n.alternate,n,Es);if(a!==null){Ut=a;return}if(n=n.sibling,n!==null){Ut=n;return}Ut=n=e}while(n!==null);De===0&&(De=5)}function r_(e,n){do{var a=X1(e.alternate,e);if(a!==null){a.flags&=32767,Ut=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!n&&(e=e.sibling,e!==null)){Ut=e;return}Ut=e=a}while(e!==null);De=6,Ut=null}function a_(e,n,a,o,h,f,g,E,I){e.cancelPendingCommit=null;do Ic();while(Xe!==0);if((ne&6)!==0)throw Error(r(327));if(n!==null){if(n===e.current)throw Error(r(177));if(f=n.lanes|n.childLanes,f|=of,Bo(e,a,f,g,E,I),e===pe&&(Ut=pe=null,zt=0),no=n,sr=e,Ts=a,gd=f,pd=h,Xy=o,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,oA(_n,function(){return h_(),null})):(e.callbackNode=null,e.callbackPriority=0),o=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||o){o=Q.T,Q.T=null,h=at.p,at.p=2,g=ne,ne|=4;try{$1(e,n,a)}finally{ne=g,at.p=h,Q.T=o}}Xe=1,o_(),l_(),u_()}}function o_(){if(Xe===1){Xe=0;var e=sr,n=no,a=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||a){a=Q.T,Q.T=null;var o=at.p;at.p=2;var h=ne;ne|=4;try{By(n,e);var f=Dd,g=Yg(e.containerInfo),E=f.focusedElem,I=f.selectionRange;if(g!==E&&E&&E.ownerDocument&&Qg(E.ownerDocument.documentElement,E)){if(I!==null&&ef(E)){var z=I.start,Y=I.end;if(Y===void 0&&(Y=z),"selectionStart"in E)E.selectionStart=z,E.selectionEnd=Math.min(Y,E.value.length);else{var $=E.ownerDocument||document,B=$&&$.defaultView||window;if(B.getSelection){var H=B.getSelection(),ct=E.textContent.length,Et=Math.min(I.start,ct),ce=I.end===void 0?Et:Math.min(I.end,ct);!H.extend&&Et>ce&&(g=ce,ce=Et,Et=g);var k=Gg(E,Et),O=Gg(E,ce);if(k&&O&&(H.rangeCount!==1||H.anchorNode!==k.node||H.anchorOffset!==k.offset||H.focusNode!==O.node||H.focusOffset!==O.offset)){var j=$.createRange();j.setStart(k.node,k.offset),H.removeAllRanges(),Et>ce?(H.addRange(j),H.extend(O.node,O.offset)):(j.setEnd(O.node,O.offset),H.addRange(j))}}}}for($=[],H=E;H=H.parentNode;)H.nodeType===1&&$.push({element:H,left:H.scrollLeft,top:H.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<$.length;E++){var X=$[E];X.element.scrollLeft=X.left,X.element.scrollTop=X.top}}zc=!!Nd,Dd=Nd=null}finally{ne=h,at.p=o,Q.T=a}}e.current=n,Xe=2}}function l_(){if(Xe===2){Xe=0;var e=sr,n=no,a=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||a){a=Q.T,Q.T=null;var o=at.p;at.p=2;var h=ne;ne|=4;try{Ly(e,n.alternate,n)}finally{ne=h,at.p=o,Q.T=a}}Xe=3}}function u_(){if(Xe===4||Xe===3){Xe=0,Vs();var e=sr,n=no,a=Ts,o=Xy;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Xe=5:(Xe=0,no=sr=null,c_(e,e.pendingLanes));var h=e.pendingLanes;if(h===0&&(ir=null),W(a),n=n.stateNode,Ke&&typeof Ke.onCommitFiberRoot=="function")try{Ke.onCommitFiberRoot(Sn,n,void 0,(n.current.flags&128)===128)}catch{}if(o!==null){n=Q.T,h=at.p,at.p=2,Q.T=null;try{for(var f=e.onRecoverableError,g=0;g<o.length;g++){var E=o[g];f(E.value,{componentStack:E.stack})}}finally{Q.T=n,at.p=h}}(Ts&3)!==0&&Ic(),Bi(e),h=e.pendingLanes,(a&261930)!==0&&(h&42)!==0?e===yd?Il++:(Il=0,yd=e):Il=0,Cl(0)}}function c_(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,ul(n)))}function Ic(){return o_(),l_(),u_(),h_()}function h_(){if(Xe!==5)return!1;var e=sr,n=gd;gd=0;var a=W(Ts),o=Q.T,h=at.p;try{at.p=32>a?32:a,Q.T=null,a=pd,pd=null;var f=sr,g=Ts;if(Xe=0,no=sr=null,Ts=0,(ne&6)!==0)throw Error(r(331));var E=ne;if(ne|=4,Qy(f.current),Hy(f,f.current,g,a),ne=E,Cl(0,!1),Ke&&typeof Ke.onPostCommitFiberRoot=="function")try{Ke.onPostCommitFiberRoot(Sn,f)}catch{}return!0}finally{at.p=h,Q.T=o,c_(e,n)}}function f_(e,n,a){n=ri(a,n),n=Xf(e.stateNode,n,2),e=Zs(e,n,2),e!==null&&(is(e,2),Bi(e))}function ae(e,n,a){if(e.tag===3)f_(e,e,a);else for(;n!==null;){if(n.tag===3){f_(n,e,a);break}else if(n.tag===1){var o=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(ir===null||!ir.has(o))){e=ri(a,e),a=dy(2),o=Zs(n,a,2),o!==null&&(my(a,o,n,e),is(o,2),Bi(o));break}}n=n.return}}function Ed(e,n,a){var o=e.pingCache;if(o===null){o=e.pingCache=new W1;var h=new Set;o.set(n,h)}else h=o.get(n),h===void 0&&(h=new Set,o.set(n,h));h.has(a)||(fd=!0,h.add(a),e=sA.bind(null,e,n,a),n.then(e,e))}function sA(e,n,a){var o=e.pingCache;o!==null&&o.delete(n),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,pe===e&&(zt&a)===a&&(De===4||De===3&&(zt&62914560)===zt&&300>nn()-Ac?(ne&2)===0&&io(e,0):dd|=a,eo===zt&&(eo=0)),Bi(e)}function d_(e,n){n===0&&(n=wa()),e=Zr(e,n),e!==null&&(is(e,n),Bi(e))}function rA(e){var n=e.memoizedState,a=0;n!==null&&(a=n.retryLane),d_(e,a)}function aA(e,n){var a=0;switch(e.tag){case 31:case 13:var o=e.stateNode,h=e.memoizedState;h!==null&&(a=h.retryLane);break;case 19:o=e.stateNode;break;case 22:o=e.stateNode._retryCache;break;default:throw Error(r(314))}o!==null&&o.delete(n),d_(e,a)}function oA(e,n){return Me(e,n)}var Cc=null,ro=null,Td=!1,Nc=!1,Ad=!1,ar=0;function Bi(e){e!==ro&&e.next===null&&(ro===null?Cc=ro=e:ro=ro.next=e),Nc=!0,Td||(Td=!0,uA())}function Cl(e,n){if(!Ad&&Nc){Ad=!0;do for(var a=!1,o=Cc;o!==null;){if(e!==0){var h=o.pendingLanes;if(h===0)var f=0;else{var g=o.suspendedLanes,E=o.pingedLanes;f=(1<<31-be(42|e)+1)-1,f&=h&~(g&~E),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(a=!0,y_(o,f))}else f=zt,f=Jn(o,o===pe?f:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(f&3)===0||Un(o,f)||(a=!0,y_(o,f));o=o.next}while(a);Ad=!1}}function lA(){m_()}function m_(){Nc=Td=!1;var e=0;ar!==0&&vA()&&(e=ar);for(var n=nn(),a=null,o=Cc;o!==null;){var h=o.next,f=g_(o,n);f===0?(o.next=null,a===null?Cc=h:a.next=h,h===null&&(ro=a)):(a=o,(e!==0||(f&3)!==0)&&(Nc=!0)),o=h}Xe!==0&&Xe!==5||Cl(e),ar!==0&&(ar=0)}function g_(e,n){for(var a=e.suspendedLanes,o=e.pingedLanes,h=e.expirationTimes,f=e.pendingLanes&-62914561;0<f;){var g=31-be(f),E=1<<g,I=h[g];I===-1?((E&a)===0||(E&o)!==0)&&(h[g]=zo(E,n)):I<=n&&(e.expiredLanes|=E),f&=~E}if(n=pe,a=zt,a=Jn(e,e===n?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o=e.callbackNode,a===0||e===n&&(re===2||re===9)||e.cancelPendingCommit!==null)return o!==null&&o!==null&&Ri(o),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||Un(e,a)){if(n=a&-a,n===e.callbackPriority)return n;switch(o!==null&&Ri(o),W(a)){case 2:case 8:a=Ur;break;case 32:a=_n;break;case 268435456:a=Lr;break;default:a=_n}return o=p_.bind(null,e),a=Me(a,o),e.callbackPriority=n,e.callbackNode=a,n}return o!==null&&o!==null&&Ri(o),e.callbackPriority=2,e.callbackNode=null,2}function p_(e,n){if(Xe!==0&&Xe!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(Ic()&&e.callbackNode!==a)return null;var o=zt;return o=Jn(e,e===pe?o:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o===0?null:(Zy(e,o,n),g_(e,nn()),e.callbackNode!=null&&e.callbackNode===a?p_.bind(null,e):null)}function y_(e,n){if(Ic())return null;Zy(e,n,!0)}function uA(){TA(function(){(ne&6)!==0?Me(Vr,lA):m_()})}function Sd(){if(ar===0){var e=Fa;e===0&&(e=wn,wn<<=1,(wn&261888)===0&&(wn=256)),ar=e}return ar}function __(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Ca(""+e)}function v_(e,n){var a=n.ownerDocument.createElement("input");return a.name=n.name,a.value=n.value,e.id&&a.setAttribute("form",e.id),n.parentNode.insertBefore(a,n),e=new FormData(e),a.parentNode.removeChild(a),e}function cA(e,n,a,o,h){if(n==="submit"&&a&&a.stateNode===h){var f=__((h[bt]||null).action),g=o.submitter;g&&(n=(n=g[bt]||null)?__(n.formAction):g.getAttribute("formAction"),n!==null&&(f=n,g=null));var E=new Vi("action","action",null,o,h);e.push({event:E,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(ar!==0){var I=g?v_(h,g):new FormData(h);Hf(a,{pending:!0,data:I,method:h.method,action:f},null,I)}}else typeof f=="function"&&(E.preventDefault(),I=g?v_(h,g):new FormData(h),Hf(a,{pending:!0,data:I,method:h.method,action:f},f,I))},currentTarget:h}]})}}for(var bd=0;bd<af.length;bd++){var wd=af[bd],hA=wd.toLowerCase(),fA=wd[0].toUpperCase()+wd.slice(1);yi(hA,"on"+fA)}yi($g,"onAnimationEnd"),yi(Zg,"onAnimationIteration"),yi(Jg,"onAnimationStart"),yi("dblclick","onDoubleClick"),yi("focusin","onFocus"),yi("focusout","onBlur"),yi(I1,"onTransitionRun"),yi(C1,"onTransitionStart"),yi(N1,"onTransitionCancel"),yi(Wg,"onTransitionEnd"),Ni("onMouseEnter",["mouseout","mouseover"]),Ni("onMouseLeave",["mouseout","mouseover"]),Ni("onPointerEnter",["pointerout","pointerover"]),Ni("onPointerLeave",["pointerout","pointerover"]),Ci("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ci("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ci("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ci("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ci("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ci("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Nl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),dA=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Nl));function E_(e,n){n=(n&4)!==0;for(var a=0;a<e.length;a++){var o=e[a],h=o.event;o=o.listeners;t:{var f=void 0;if(n)for(var g=o.length-1;0<=g;g--){var E=o[g],I=E.instance,z=E.currentTarget;if(E=E.listener,I!==f&&h.isPropagationStopped())break t;f=E,h.currentTarget=z;try{f(h)}catch(Y){Gu(Y)}h.currentTarget=null,f=I}else for(g=0;g<o.length;g++){if(E=o[g],I=E.instance,z=E.currentTarget,E=E.listener,I!==f&&h.isPropagationStopped())break t;f=E,h.currentTarget=z;try{f(h)}catch(Y){Gu(Y)}h.currentTarget=null,f=I}}}}function Lt(e,n){var a=n[Pt];a===void 0&&(a=n[Pt]=new Set);var o=e+"__bubble";a.has(o)||(T_(n,e,2,!1),a.add(o))}function Rd(e,n,a){var o=0;n&&(o|=4),T_(a,e,o,n)}var Dc="_reactListening"+Math.random().toString(36).slice(2);function xd(e){if(!e[Dc]){e[Dc]=!0,qo.forEach(function(a){a!=="selectionchange"&&(dA.has(a)||Rd(a,!1,e),Rd(a,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[Dc]||(n[Dc]=!0,Rd("selectionchange",!1,n))}}function T_(e,n,a,o){switch($_(n)){case 2:var h=BA;break;case 8:h=qA;break;default:h=qd}a=h.bind(null,n,a,e),h=void 0,!Hr||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),o?h!==void 0?e.addEventListener(n,a,{capture:!0,passive:h}):e.addEventListener(n,a,!0):h!==void 0?e.addEventListener(n,a,{passive:h}):e.addEventListener(n,a,!1)}function Id(e,n,a,o,h){var f=o;if((n&1)===0&&(n&2)===0&&o!==null)t:for(;;){if(o===null)return;var g=o.tag;if(g===3||g===4){var E=o.stateNode.containerInfo;if(E===h)break;if(g===4)for(g=o.return;g!==null;){var I=g.tag;if((I===3||I===4)&&g.stateNode.containerInfo===h)return;g=g.return}for(;E!==null;){if(g=xi(E),g===null)return;if(I=g.tag,I===5||I===6||I===26||I===27){o=f=g;continue t}E=E.parentNode}}o=o.return}Bs(function(){var z=f,Y=ei(a),$=[];t:{var B=tp.get(e);if(B!==void 0){var H=Vi,ct=e;switch(e){case"keypress":if(Gr(a)===0)break t;case"keydown":case"keyup":H=qu;break;case"focusin":ct="focus",H=Yr;break;case"focusout":ct="blur",H=Yr;break;case"beforeblur":case"afterblur":H=Yr;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":H=el;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":H=Ou;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":H=m;break;case $g:case Zg:case Jg:H=Uu;break;case Wg:H=T;break;case"scroll":case"scrollend":H=tl;break;case"wheel":H=q;break;case"copy":case"cut":case"paste":H=Lu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":H=os;break;case"toggle":case"beforetoggle":H=Nt}var Et=(n&4)!==0,ce=!Et&&(e==="scroll"||e==="scrollend"),k=Et?B!==null?B+"Capture":null:B;Et=[];for(var O=z,j;O!==null;){var X=O;if(j=X.stateNode,X=X.tag,X!==5&&X!==26&&X!==27||j===null||k===null||(X=di(O,k),X!=null&&Et.push(Dl(O,X,j))),ce)break;O=O.return}0<Et.length&&(B=new H(B,ct,null,a,Y),$.push({event:B,listeners:Et}))}}if((n&7)===0){t:{if(B=e==="mouseover"||e==="pointerover",H=e==="mouseout"||e==="pointerout",B&&a!==Zo&&(ct=a.relatedTarget||a.fromElement)&&(xi(ct)||ct[ft]))break t;if((H||B)&&(B=Y.window===Y?Y:(B=Y.ownerDocument)?B.defaultView||B.parentWindow:window,H?(ct=a.relatedTarget||a.toElement,H=z,ct=ct?xi(ct):null,ct!==null&&(ce=c(ct),Et=ct.tag,ct!==ce||Et!==5&&Et!==27&&Et!==6)&&(ct=null)):(H=null,ct=z),H!==ct)){if(Et=el,X="onMouseLeave",k="onMouseEnter",O="mouse",(e==="pointerout"||e==="pointerover")&&(Et=os,X="onPointerLeave",k="onPointerEnter",O="pointer"),ce=H==null?B:kn(H),j=ct==null?B:kn(ct),B=new Et(X,O+"leave",H,a,Y),B.target=ce,B.relatedTarget=j,X=null,xi(Y)===z&&(Et=new Et(k,O+"enter",ct,a,Y),Et.target=j,Et.relatedTarget=ce,X=Et),ce=X,H&&ct)e:{for(Et=mA,k=H,O=ct,j=0,X=k;X;X=Et(X))j++;X=0;for(var pt=O;pt;pt=Et(pt))X++;for(;0<j-X;)k=Et(k),j--;for(;0<X-j;)O=Et(O),X--;for(;j--;){if(k===O||O!==null&&k===O.alternate){Et=k;break e}k=Et(k),O=Et(O)}Et=null}else Et=null;H!==null&&A_($,B,H,Et,!1),ct!==null&&ce!==null&&A_($,ce,ct,Et,!0)}}t:{if(B=z?kn(z):window,H=B.nodeName&&B.nodeName.toLowerCase(),H==="select"||H==="input"&&B.type==="file")var Jt=jg;else if(kg(B))if(zg)Jt=w1;else{Jt=S1;var ht=A1}else H=B.nodeName,!H||H.toLowerCase()!=="input"||B.type!=="checkbox"&&B.type!=="radio"?z&&Ia(z.elementType)&&(Jt=jg):Jt=b1;if(Jt&&(Jt=Jt(e,z))){Pg($,Jt,a,Y);break t}ht&&ht(e,B,z),e==="focusout"&&z&&B.type==="number"&&z.memoizedProps.value!=null&&Ko(B,"number",B.value)}switch(ht=z?kn(z):window,e){case"focusin":(kg(ht)||ht.contentEditable==="true")&&(La=ht,nf=z,al=null);break;case"focusout":al=nf=La=null;break;case"mousedown":sf=!0;break;case"contextmenu":case"mouseup":case"dragend":sf=!1,Kg($,a,Y);break;case"selectionchange":if(x1)break;case"keydown":case"keyup":Kg($,a,Y)}var Mt;if(ee)t:{switch(e){case"compositionstart":var Bt="onCompositionStart";break t;case"compositionend":Bt="onCompositionEnd";break t;case"compositionupdate":Bt="onCompositionUpdate";break t}Bt=void 0}else Ua?Kr(e,a)&&(Bt="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(Bt="onCompositionStart");Bt&&(ki&&a.locale!=="ko"&&(Ua||Bt!=="onCompositionStart"?Bt==="onCompositionEnd"&&Ua&&(Mt=Wo()):(Oi=Y,Jo="value"in Oi?Oi.value:Oi.textContent,Ua=!0)),ht=Mc(z,Bt),0<ht.length&&(Bt=new Li(Bt,e,null,a,Y),$.push({event:Bt,listeners:ht}),Mt?Bt.data=Mt:(Mt=Va(a),Mt!==null&&(Bt.data=Mt)))),(Mt=ii?_1(e,a):v1(e,a))&&(Bt=Mc(z,"onBeforeInput"),0<Bt.length&&(ht=new Li("onBeforeInput","beforeinput",null,a,Y),$.push({event:ht,listeners:Bt}),ht.data=Mt)),cA($,e,z,a,Y)}E_($,n)})}function Dl(e,n,a){return{instance:e,listener:n,currentTarget:a}}function Mc(e,n){for(var a=n+"Capture",o=[];e!==null;){var h=e,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=di(e,a),h!=null&&o.unshift(Dl(e,h,f)),h=di(e,n),h!=null&&o.push(Dl(e,h,f))),e.tag===3)return o;e=e.return}return[]}function mA(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function A_(e,n,a,o,h){for(var f=n._reactName,g=[];a!==null&&a!==o;){var E=a,I=E.alternate,z=E.stateNode;if(E=E.tag,I!==null&&I===o)break;E!==5&&E!==26&&E!==27||z===null||(I=z,h?(z=di(a,f),z!=null&&g.unshift(Dl(a,z,I))):h||(z=di(a,f),z!=null&&g.push(Dl(a,z,I)))),a=a.return}g.length!==0&&e.push({event:n,listeners:g})}var gA=/\r\n?/g,pA=/\u0000|\uFFFD/g;function S_(e){return(typeof e=="string"?e:""+e).replace(gA,`
`).replace(pA,"")}function b_(e,n){return n=S_(n),S_(e)===n}function ue(e,n,a,o,h,f){switch(a){case"children":typeof o=="string"?n==="body"||n==="textarea"&&o===""||xn(e,o):(typeof o=="number"||typeof o=="bigint")&&n!=="body"&&xn(e,""+o);break;case"className":Pn(e,"class",o);break;case"tabIndex":Pn(e,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":Pn(e,a,o);break;case"style":$o(e,o,f);break;case"data":if(n!=="object"){Pn(e,"data",o);break}case"src":case"href":if(o===""&&(n!=="a"||a!=="href")){e.removeAttribute(a);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(a);break}o=Ca(""+o),e.setAttribute(a,o);break;case"action":case"formAction":if(typeof o=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(a==="formAction"?(n!=="input"&&ue(e,n,"name",h.name,h,null),ue(e,n,"formEncType",h.formEncType,h,null),ue(e,n,"formMethod",h.formMethod,h,null),ue(e,n,"formTarget",h.formTarget,h,null)):(ue(e,n,"encType",h.encType,h,null),ue(e,n,"method",h.method,h,null),ue(e,n,"target",h.target,h,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(a);break}o=Ca(""+o),e.setAttribute(a,o);break;case"onClick":o!=null&&(e.onclick=fi);break;case"onScroll":o!=null&&Lt("scroll",e);break;case"onScrollEnd":o!=null&&Lt("scrollend",e);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(r(61));if(a=o.__html,a!=null){if(h.children!=null)throw Error(r(60));e.innerHTML=a}}break;case"multiple":e.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":e.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){e.removeAttribute("xlink:href");break}a=Ca(""+o),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(a,""+o):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":o===!0?e.setAttribute(a,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(a,o):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?e.setAttribute(a,o):e.removeAttribute(a);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?e.removeAttribute(a):e.setAttribute(a,o);break;case"popover":Lt("beforetoggle",e),Lt("toggle",e),Ra(e,"popover",o);break;case"xlinkActuate":je(e,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":je(e,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":je(e,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":je(e,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":je(e,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":je(e,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":je(e,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":je(e,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":je(e,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":Ra(e,"is",o);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Mu.get(a)||a,Ra(e,a,o))}}function Cd(e,n,a,o,h,f){switch(a){case"style":$o(e,o,f);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(r(61));if(a=o.__html,a!=null){if(h.children!=null)throw Error(r(60));e.innerHTML=a}}break;case"children":typeof o=="string"?xn(e,o):(typeof o=="number"||typeof o=="bigint")&&xn(e,""+o);break;case"onScroll":o!=null&&Lt("scroll",e);break;case"onScrollEnd":o!=null&&Lt("scrollend",e);break;case"onClick":o!=null&&(e.onclick=fi);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ho.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),n=a.slice(2,h?a.length-7:void 0),f=e[bt]||null,f=f!=null?f[a]:null,typeof f=="function"&&e.removeEventListener(n,f,h),typeof o=="function")){typeof f!="function"&&f!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(n,o,h);break t}a in e?e[a]=o:o===!0?e.setAttribute(a,""):Ra(e,a,o)}}}function ln(e,n,a){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Lt("error",e),Lt("load",e);var o=!1,h=!1,f;for(f in a)if(a.hasOwnProperty(f)){var g=a[f];if(g!=null)switch(f){case"src":o=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,n));default:ue(e,n,f,g,a,null)}}h&&ue(e,n,"srcSet",a.srcSet,a,null),o&&ue(e,n,"src",a.src,a,null);return;case"input":Lt("invalid",e);var E=f=g=h=null,I=null,z=null;for(o in a)if(a.hasOwnProperty(o)){var Y=a[o];if(Y!=null)switch(o){case"name":h=Y;break;case"type":g=Y;break;case"checked":I=Y;break;case"defaultChecked":z=Y;break;case"value":f=Y;break;case"defaultValue":E=Y;break;case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(r(137,n));break;default:ue(e,n,o,Y,a,null)}}Cu(e,f,E,I,z,g,h,!1);return;case"select":Lt("invalid",e),o=g=f=null;for(h in a)if(a.hasOwnProperty(h)&&(E=a[h],E!=null))switch(h){case"value":f=E;break;case"defaultValue":g=E;break;case"multiple":o=E;default:ue(e,n,h,E,a,null)}n=f,a=g,e.multiple=!!o,n!=null?ks(e,!!o,n,!1):a!=null&&ks(e,!!o,a,!0);return;case"textarea":Lt("invalid",e),f=h=o=null;for(g in a)if(a.hasOwnProperty(g)&&(E=a[g],E!=null))switch(g){case"value":o=E;break;case"defaultValue":h=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(r(91));break;default:ue(e,n,g,E,a,null)}Ps(e,o,h,f);return;case"option":for(I in a)if(a.hasOwnProperty(I)&&(o=a[I],o!=null))switch(I){case"selected":e.selected=o&&typeof o!="function"&&typeof o!="symbol";break;default:ue(e,n,I,o,a,null)}return;case"dialog":Lt("beforetoggle",e),Lt("toggle",e),Lt("cancel",e),Lt("close",e);break;case"iframe":case"object":Lt("load",e);break;case"video":case"audio":for(o=0;o<Nl.length;o++)Lt(Nl[o],e);break;case"image":Lt("error",e),Lt("load",e);break;case"details":Lt("toggle",e);break;case"embed":case"source":case"link":Lt("error",e),Lt("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(z in a)if(a.hasOwnProperty(z)&&(o=a[z],o!=null))switch(z){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,n));default:ue(e,n,z,o,a,null)}return;default:if(Ia(n)){for(Y in a)a.hasOwnProperty(Y)&&(o=a[Y],o!==void 0&&Cd(e,n,Y,o,a,void 0));return}}for(E in a)a.hasOwnProperty(E)&&(o=a[E],o!=null&&ue(e,n,E,o,a,null))}function yA(e,n,a,o){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,g=null,E=null,I=null,z=null,Y=null;for(H in a){var $=a[H];if(a.hasOwnProperty(H)&&$!=null)switch(H){case"checked":break;case"value":break;case"defaultValue":I=$;default:o.hasOwnProperty(H)||ue(e,n,H,null,o,$)}}for(var B in o){var H=o[B];if($=a[B],o.hasOwnProperty(B)&&(H!=null||$!=null))switch(B){case"type":f=H;break;case"name":h=H;break;case"checked":z=H;break;case"defaultChecked":Y=H;break;case"value":g=H;break;case"defaultValue":E=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(r(137,n));break;default:H!==$&&ue(e,n,B,H,o,$)}}xa(e,g,E,I,z,Y,f,h);return;case"select":H=g=E=B=null;for(f in a)if(I=a[f],a.hasOwnProperty(f)&&I!=null)switch(f){case"value":break;case"multiple":H=I;default:o.hasOwnProperty(f)||ue(e,n,f,null,o,I)}for(h in o)if(f=o[h],I=a[h],o.hasOwnProperty(h)&&(f!=null||I!=null))switch(h){case"value":B=f;break;case"defaultValue":E=f;break;case"multiple":g=f;default:f!==I&&ue(e,n,h,f,o,I)}n=E,a=g,o=H,B!=null?ks(e,!!a,B,!1):!!o!=!!a&&(n!=null?ks(e,!!a,n,!0):ks(e,!!a,a?[]:"",!1));return;case"textarea":H=B=null;for(E in a)if(h=a[E],a.hasOwnProperty(E)&&h!=null&&!o.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:ue(e,n,E,null,o,h)}for(g in o)if(h=o[g],f=a[g],o.hasOwnProperty(g)&&(h!=null||f!=null))switch(g){case"value":B=h;break;case"defaultValue":H=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(r(91));break;default:h!==f&&ue(e,n,g,h,o,f)}Nu(e,B,H);return;case"option":for(var ct in a)if(B=a[ct],a.hasOwnProperty(ct)&&B!=null&&!o.hasOwnProperty(ct))switch(ct){case"selected":e.selected=!1;break;default:ue(e,n,ct,null,o,B)}for(I in o)if(B=o[I],H=a[I],o.hasOwnProperty(I)&&B!==H&&(B!=null||H!=null))switch(I){case"selected":e.selected=B&&typeof B!="function"&&typeof B!="symbol";break;default:ue(e,n,I,B,o,H)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Et in a)B=a[Et],a.hasOwnProperty(Et)&&B!=null&&!o.hasOwnProperty(Et)&&ue(e,n,Et,null,o,B);for(z in o)if(B=o[z],H=a[z],o.hasOwnProperty(z)&&B!==H&&(B!=null||H!=null))switch(z){case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(r(137,n));break;default:ue(e,n,z,B,o,H)}return;default:if(Ia(n)){for(var ce in a)B=a[ce],a.hasOwnProperty(ce)&&B!==void 0&&!o.hasOwnProperty(ce)&&Cd(e,n,ce,void 0,o,B);for(Y in o)B=o[Y],H=a[Y],!o.hasOwnProperty(Y)||B===H||B===void 0&&H===void 0||Cd(e,n,Y,B,o,H);return}}for(var k in a)B=a[k],a.hasOwnProperty(k)&&B!=null&&!o.hasOwnProperty(k)&&ue(e,n,k,null,o,B);for($ in o)B=o[$],H=a[$],!o.hasOwnProperty($)||B===H||B==null&&H==null||ue(e,n,$,B,o,H)}function w_(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function _A(){if(typeof performance.getEntriesByType=="function"){for(var e=0,n=0,a=performance.getEntriesByType("resource"),o=0;o<a.length;o++){var h=a[o],f=h.transferSize,g=h.initiatorType,E=h.duration;if(f&&E&&w_(g)){for(g=0,E=h.responseEnd,o+=1;o<a.length;o++){var I=a[o],z=I.startTime;if(z>E)break;var Y=I.transferSize,$=I.initiatorType;Y&&w_($)&&(I=I.responseEnd,g+=Y*(I<E?1:(E-z)/(I-z)))}if(--o,n+=8*(f+g)/(h.duration/1e3),e++,10<e)break}}if(0<e)return n/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var Nd=null,Dd=null;function Oc(e){return e.nodeType===9?e:e.ownerDocument}function R_(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function x_(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function Md(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Od=null;function vA(){var e=window.event;return e&&e.type==="popstate"?e===Od?!1:(Od=e,!0):(Od=null,!1)}var I_=typeof setTimeout=="function"?setTimeout:void 0,EA=typeof clearTimeout=="function"?clearTimeout:void 0,C_=typeof Promise=="function"?Promise:void 0,TA=typeof queueMicrotask=="function"?queueMicrotask:typeof C_<"u"?function(e){return C_.resolve(null).then(e).catch(AA)}:I_;function AA(e){setTimeout(function(){throw e})}function or(e){return e==="head"}function N_(e,n){var a=n,o=0;do{var h=a.nextSibling;if(e.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"||a==="/&"){if(o===0){e.removeChild(h),uo(n);return}o--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")o++;else if(a==="html")Ml(e.ownerDocument.documentElement);else if(a==="head"){a=e.ownerDocument.head,Ml(a);for(var f=a.firstChild;f;){var g=f.nextSibling,E=f.nodeName;f[Ze]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&f.rel.toLowerCase()==="stylesheet"||a.removeChild(f),f=g}}else a==="body"&&Ml(e.ownerDocument.body);a=h}while(a);uo(n)}function D_(e,n){var a=e;e=0;do{var o=a.nextSibling;if(a.nodeType===1?n?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(n?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),o&&o.nodeType===8)if(a=o.data,a==="/$"){if(e===0)break;e--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||e++;a=o}while(a)}function Vd(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var a=n;switch(n=n.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Vd(a),Ln(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function SA(e,n,a,o){for(;e.nodeType===1;){var h=a;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!o&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(o){if(!e[Ze])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(f=e.getAttribute("rel"),f==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(f!==h.rel||e.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||e.getAttribute("title")!==(h.title==null?null:h.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(f=e.getAttribute("src"),(f!==(h.src==null?null:h.src)||e.getAttribute("type")!==(h.type==null?null:h.type)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&e.getAttribute("name")===f)return e}else return e;if(e=ci(e.nextSibling),e===null)break}return null}function bA(e,n,a){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=ci(e.nextSibling),e===null))return null;return e}function M_(e,n){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=ci(e.nextSibling),e===null))return null;return e}function Ud(e){return e.data==="$?"||e.data==="$~"}function Ld(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function wA(e,n){var a=e.ownerDocument;if(e.data==="$~")e._reactRetry=n;else if(e.data!=="$?"||a.readyState!=="loading")n();else{var o=function(){n(),a.removeEventListener("DOMContentLoaded",o)};a.addEventListener("DOMContentLoaded",o),e._reactRetry=o}}function ci(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return e}var kd=null;function O_(e){e=e.nextSibling;for(var n=0;e;){if(e.nodeType===8){var a=e.data;if(a==="/$"||a==="/&"){if(n===0)return ci(e.nextSibling);n--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||n++}e=e.nextSibling}return null}function V_(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(n===0)return e;n--}else a!=="/$"&&a!=="/&"||n++}e=e.previousSibling}return null}function U_(e,n,a){switch(n=Oc(a),e){case"html":if(e=n.documentElement,!e)throw Error(r(452));return e;case"head":if(e=n.head,!e)throw Error(r(453));return e;case"body":if(e=n.body,!e)throw Error(r(454));return e;default:throw Error(r(451))}}function Ml(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);Ln(e)}var hi=new Map,L_=new Set;function Vc(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var As=at.d;at.d={f:RA,r:xA,D:IA,C:CA,L:NA,m:DA,X:OA,S:MA,M:VA};function RA(){var e=As.f(),n=wc();return e||n}function xA(e){var n=ti(e);n!==null&&n.tag===5&&n.type==="form"?Wp(n):As.r(e)}var ao=typeof document>"u"?null:document;function k_(e,n,a){var o=ao;if(o&&typeof n=="string"&&n){var h=Rn(n);h='link[rel="'+e+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),L_.has(h)||(L_.add(h),e={rel:e,crossOrigin:a,href:n},o.querySelector(h)===null&&(n=o.createElement("link"),ln(n,"link",e),Pe(n),o.head.appendChild(n)))}}function IA(e){As.D(e),k_("dns-prefetch",e,null)}function CA(e,n){As.C(e,n),k_("preconnect",e,n)}function NA(e,n,a){As.L(e,n,a);var o=ao;if(o&&e&&n){var h='link[rel="preload"][as="'+Rn(n)+'"]';n==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+Rn(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+Rn(a.imageSizes)+'"]')):h+='[href="'+Rn(e)+'"]';var f=h;switch(n){case"style":f=oo(e);break;case"script":f=lo(e)}hi.has(f)||(e=b({rel:"preload",href:n==="image"&&a&&a.imageSrcSet?void 0:e,as:n},a),hi.set(f,e),o.querySelector(h)!==null||n==="style"&&o.querySelector(Ol(f))||n==="script"&&o.querySelector(Vl(f))||(n=o.createElement("link"),ln(n,"link",e),Pe(n),o.head.appendChild(n)))}}function DA(e,n){As.m(e,n);var a=ao;if(a&&e){var o=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+Rn(o)+'"][href="'+Rn(e)+'"]',f=h;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=lo(e)}if(!hi.has(f)&&(e=b({rel:"modulepreload",href:e},n),hi.set(f,e),a.querySelector(h)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Vl(f)))return}o=a.createElement("link"),ln(o,"link",e),Pe(o),a.head.appendChild(o)}}}function MA(e,n,a){As.S(e,n,a);var o=ao;if(o&&e){var h=Ii(o).hoistableStyles,f=oo(e);n=n||"default";var g=h.get(f);if(!g){var E={loading:0,preload:null};if(g=o.querySelector(Ol(f)))E.loading=5;else{e=b({rel:"stylesheet",href:e,"data-precedence":n},a),(a=hi.get(f))&&Pd(e,a);var I=g=o.createElement("link");Pe(I),ln(I,"link",e),I._p=new Promise(function(z,Y){I.onload=z,I.onerror=Y}),I.addEventListener("load",function(){E.loading|=1}),I.addEventListener("error",function(){E.loading|=2}),E.loading|=4,Uc(g,n,o)}g={type:"stylesheet",instance:g,count:1,state:E},h.set(f,g)}}}function OA(e,n){As.X(e,n);var a=ao;if(a&&e){var o=Ii(a).hoistableScripts,h=lo(e),f=o.get(h);f||(f=a.querySelector(Vl(h)),f||(e=b({src:e,async:!0},n),(n=hi.get(h))&&jd(e,n),f=a.createElement("script"),Pe(f),ln(f,"link",e),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function VA(e,n){As.M(e,n);var a=ao;if(a&&e){var o=Ii(a).hoistableScripts,h=lo(e),f=o.get(h);f||(f=a.querySelector(Vl(h)),f||(e=b({src:e,async:!0,type:"module"},n),(n=hi.get(h))&&jd(e,n),f=a.createElement("script"),Pe(f),ln(f,"link",e),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function P_(e,n,a,o){var h=(h=It.current)?Vc(h):null;if(!h)throw Error(r(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(n=oo(a.href),a=Ii(h).hoistableStyles,o=a.get(n),o||(o={type:"style",instance:null,count:0,state:null},a.set(n,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=oo(a.href);var f=Ii(h).hoistableStyles,g=f.get(e);if(g||(h=h.ownerDocument||h,g={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(e,g),(f=h.querySelector(Ol(e)))&&!f._p&&(g.instance=f,g.state.loading=5),hi.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},hi.set(e,a),f||UA(h,e,a,g.state))),n&&o===null)throw Error(r(528,""));return g}if(n&&o!==null)throw Error(r(529,""));return null;case"script":return n=a.async,a=a.src,typeof a=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=lo(a),a=Ii(h).hoistableScripts,o=a.get(n),o||(o={type:"script",instance:null,count:0,state:null},a.set(n,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,e))}}function oo(e){return'href="'+Rn(e)+'"'}function Ol(e){return'link[rel="stylesheet"]['+e+"]"}function j_(e){return b({},e,{"data-precedence":e.precedence,precedence:null})}function UA(e,n,a,o){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?o.loading=1:(n=e.createElement("link"),o.preload=n,n.addEventListener("load",function(){return o.loading|=1}),n.addEventListener("error",function(){return o.loading|=2}),ln(n,"link",a),Pe(n),e.head.appendChild(n))}function lo(e){return'[src="'+Rn(e)+'"]'}function Vl(e){return"script[async]"+e}function z_(e,n,a){if(n.count++,n.instance===null)switch(n.type){case"style":var o=e.querySelector('style[data-href~="'+Rn(a.href)+'"]');if(o)return n.instance=o,Pe(o),o;var h=b({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return o=(e.ownerDocument||e).createElement("style"),Pe(o),ln(o,"style",h),Uc(o,a.precedence,e),n.instance=o;case"stylesheet":h=oo(a.href);var f=e.querySelector(Ol(h));if(f)return n.state.loading|=4,n.instance=f,Pe(f),f;o=j_(a),(h=hi.get(h))&&Pd(o,h),f=(e.ownerDocument||e).createElement("link"),Pe(f);var g=f;return g._p=new Promise(function(E,I){g.onload=E,g.onerror=I}),ln(f,"link",o),n.state.loading|=4,Uc(f,a.precedence,e),n.instance=f;case"script":return f=lo(a.src),(h=e.querySelector(Vl(f)))?(n.instance=h,Pe(h),h):(o=a,(h=hi.get(f))&&(o=b({},a),jd(o,h)),e=e.ownerDocument||e,h=e.createElement("script"),Pe(h),ln(h,"link",o),e.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(r(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(o=n.instance,n.state.loading|=4,Uc(o,a.precedence,e));return n.instance}function Uc(e,n,a){for(var o=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=o.length?o[o.length-1]:null,f=h,g=0;g<o.length;g++){var E=o[g];if(E.dataset.precedence===n)f=E;else if(f!==h)break}f?f.parentNode.insertBefore(e,f.nextSibling):(n=a.nodeType===9?a.head:a,n.insertBefore(e,n.firstChild))}function Pd(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function jd(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var Lc=null;function B_(e,n,a){if(Lc===null){var o=new Map,h=Lc=new Map;h.set(a,o)}else h=Lc,o=h.get(a),o||(o=new Map,h.set(a,o));if(o.has(e))return o;for(o.set(e,null),a=a.getElementsByTagName(e),h=0;h<a.length;h++){var f=a[h];if(!(f[Ze]||f[mt]||e==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var g=f.getAttribute(n)||"";g=e+g;var E=o.get(g);E?E.push(f):o.set(g,[f])}}return o}function q_(e,n,a){e=e.ownerDocument||e,e.head.insertBefore(a,n==="title"?e.querySelector("head > title"):null)}function LA(e,n,a){if(a===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return e=n.disabled,typeof n.precedence=="string"&&e==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function H_(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function kA(e,n,a,o){if(a.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var h=oo(o.href),f=n.querySelector(Ol(h));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(e.count++,e=kc.bind(e),n.then(e,e)),a.state.loading|=4,a.instance=f,Pe(f);return}f=n.ownerDocument||n,o=j_(o),(h=hi.get(h))&&Pd(o,h),f=f.createElement("link"),Pe(f);var g=f;g._p=new Promise(function(E,I){g.onload=E,g.onerror=I}),ln(f,"link",o),a.instance=f}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(a,n),(n=a.state.preload)&&(a.state.loading&3)===0&&(e.count++,a=kc.bind(e),n.addEventListener("load",a),n.addEventListener("error",a))}}var zd=0;function PA(e,n){return e.stylesheets&&e.count===0&&jc(e,e.stylesheets),0<e.count||0<e.imgCount?function(a){var o=setTimeout(function(){if(e.stylesheets&&jc(e,e.stylesheets),e.unsuspend){var f=e.unsuspend;e.unsuspend=null,f()}},6e4+n);0<e.imgBytes&&zd===0&&(zd=62500*_A());var h=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&jc(e,e.stylesheets),e.unsuspend)){var f=e.unsuspend;e.unsuspend=null,f()}},(e.imgBytes>zd?50:800)+n);return e.unsuspend=a,function(){e.unsuspend=null,clearTimeout(o),clearTimeout(h)}}:null}function kc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)jc(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Pc=null;function jc(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Pc=new Map,n.forEach(jA,e),Pc=null,kc.call(e))}function jA(e,n){if(!(n.state.loading&4)){var a=Pc.get(e);if(a)var o=a.get(null);else{a=new Map,Pc.set(e,a);for(var h=e.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var g=h[f];(g.nodeName==="LINK"||g.getAttribute("media")!=="not all")&&(a.set(g.dataset.precedence,g),o=g)}o&&a.set(null,o)}h=n.instance,g=h.getAttribute("data-precedence"),f=a.get(g)||o,f===o&&a.set(null,h),a.set(g,h),this.count++,o=kc.bind(this),h.addEventListener("load",o),h.addEventListener("error",o),f?f.parentNode.insertBefore(h,f.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(h,e.firstChild)),n.state.loading|=4}}var Ul={$$typeof:Tt,Provider:null,Consumer:null,_currentValue:yt,_currentValue2:yt,_threadCount:0};function zA(e,n,a,o,h,f,g,E,I){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Wn(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Wn(0),this.hiddenUpdates=Wn(null),this.identifierPrefix=o,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=g,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=I,this.incompleteTransitions=new Map}function F_(e,n,a,o,h,f,g,E,I,z,Y,$){return e=new zA(e,n,a,g,I,z,Y,$,E),n=1,f===!0&&(n|=24),f=zn(3,null,null,n),e.current=f,f.stateNode=e,n=vf(),n.refCount++,e.pooledCache=n,n.refCount++,f.memoizedState={element:o,isDehydrated:a,cache:n},Sf(f),e}function G_(e){return e?(e=ja,e):ja}function Q_(e,n,a,o,h,f){h=G_(h),o.context===null?o.context=h:o.pendingContext=h,o=$s(n),o.payload={element:a},f=f===void 0?null:f,f!==null&&(o.callback=f),a=Zs(e,o,n),a!==null&&(Mn(a,e,n),dl(a,e,n))}function Y_(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<n?a:n}}function Bd(e,n){Y_(e,n),(e=e.alternate)&&Y_(e,n)}function K_(e){if(e.tag===13||e.tag===31){var n=Zr(e,67108864);n!==null&&Mn(n,e,67108864),Bd(e,67108864)}}function X_(e){if(e.tag===13||e.tag===31){var n=Gn();n=D(n);var a=Zr(e,n);a!==null&&Mn(a,e,n),Bd(e,n)}}var zc=!0;function BA(e,n,a,o){var h=Q.T;Q.T=null;var f=at.p;try{at.p=2,qd(e,n,a,o)}finally{at.p=f,Q.T=h}}function qA(e,n,a,o){var h=Q.T;Q.T=null;var f=at.p;try{at.p=8,qd(e,n,a,o)}finally{at.p=f,Q.T=h}}function qd(e,n,a,o){if(zc){var h=Hd(o);if(h===null)Id(e,n,o,Bc,a),Z_(e,o);else if(FA(h,e,n,a,o))o.stopPropagation();else if(Z_(e,o),n&4&&-1<HA.indexOf(e)){for(;h!==null;){var f=ti(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var g=Vn(f.pendingLanes);if(g!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;g;){var I=1<<31-be(g);E.entanglements[1]|=I,g&=~I}Bi(f),(ne&6)===0&&(Sc=nn()+500,Cl(0))}}break;case 31:case 13:E=Zr(f,2),E!==null&&Mn(E,f,2),wc(),Bd(f,2)}if(f=Hd(o),f===null&&Id(e,n,o,Bc,a),f===h)break;h=f}h!==null&&o.stopPropagation()}else Id(e,n,o,null,a)}}function Hd(e){return e=ei(e),Fd(e)}var Bc=null;function Fd(e){if(Bc=null,e=xi(e),e!==null){var n=c(e);if(n===null)e=null;else{var a=n.tag;if(a===13){if(e=d(n),e!==null)return e;e=null}else if(a===31){if(e=p(n),e!==null)return e;e=null}else if(a===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return Bc=e,null}function $_(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Wi()){case Vr:return 2;case Ur:return 8;case _n:case Us:return 32;case Lr:return 268435456;default:return 32}default:return 32}}var Gd=!1,lr=null,ur=null,cr=null,Ll=new Map,kl=new Map,hr=[],HA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Z_(e,n){switch(e){case"focusin":case"focusout":lr=null;break;case"dragenter":case"dragleave":ur=null;break;case"mouseover":case"mouseout":cr=null;break;case"pointerover":case"pointerout":Ll.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":kl.delete(n.pointerId)}}function Pl(e,n,a,o,h,f){return e===null||e.nativeEvent!==f?(e={blockedOn:n,domEventName:a,eventSystemFlags:o,nativeEvent:f,targetContainers:[h]},n!==null&&(n=ti(n),n!==null&&K_(n)),e):(e.eventSystemFlags|=o,n=e.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),e)}function FA(e,n,a,o,h){switch(n){case"focusin":return lr=Pl(lr,e,n,a,o,h),!0;case"dragenter":return ur=Pl(ur,e,n,a,o,h),!0;case"mouseover":return cr=Pl(cr,e,n,a,o,h),!0;case"pointerover":var f=h.pointerId;return Ll.set(f,Pl(Ll.get(f)||null,e,n,a,o,h)),!0;case"gotpointercapture":return f=h.pointerId,kl.set(f,Pl(kl.get(f)||null,e,n,a,o,h)),!0}return!1}function J_(e){var n=xi(e.target);if(n!==null){var a=c(n);if(a!==null){if(n=a.tag,n===13){if(n=d(a),n!==null){e.blockedOn=n,nt(e.priority,function(){X_(a)});return}}else if(n===31){if(n=p(a),n!==null){e.blockedOn=n,nt(e.priority,function(){X_(a)});return}}else if(n===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function qc(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var a=Hd(e.nativeEvent);if(a===null){a=e.nativeEvent;var o=new a.constructor(a.type,a);Zo=o,a.target.dispatchEvent(o),Zo=null}else return n=ti(a),n!==null&&K_(n),e.blockedOn=a,!1;n.shift()}return!0}function W_(e,n,a){qc(e)&&a.delete(n)}function GA(){Gd=!1,lr!==null&&qc(lr)&&(lr=null),ur!==null&&qc(ur)&&(ur=null),cr!==null&&qc(cr)&&(cr=null),Ll.forEach(W_),kl.forEach(W_)}function Hc(e,n){e.blockedOn===n&&(e.blockedOn=null,Gd||(Gd=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,GA)))}var Fc=null;function tv(e){Fc!==e&&(Fc=e,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){Fc===e&&(Fc=null);for(var n=0;n<e.length;n+=3){var a=e[n],o=e[n+1],h=e[n+2];if(typeof o!="function"){if(Fd(o||a)===null)continue;break}var f=ti(a);f!==null&&(e.splice(n,3),n-=3,Hf(f,{pending:!0,data:h,method:a.method,action:o},o,h))}}))}function uo(e){function n(I){return Hc(I,e)}lr!==null&&Hc(lr,e),ur!==null&&Hc(ur,e),cr!==null&&Hc(cr,e),Ll.forEach(n),kl.forEach(n);for(var a=0;a<hr.length;a++){var o=hr[a];o.blockedOn===e&&(o.blockedOn=null)}for(;0<hr.length&&(a=hr[0],a.blockedOn===null);)J_(a),a.blockedOn===null&&hr.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(o=0;o<a.length;o+=3){var h=a[o],f=a[o+1],g=h[bt]||null;if(typeof f=="function")g||tv(a);else if(g){var E=null;if(f&&f.hasAttribute("formAction")){if(h=f,g=f[bt]||null)E=g.formAction;else if(Fd(h)!==null)continue}else E=g.action;typeof E=="function"?a[o+1]=E:(a.splice(o,3),o-=3),tv(a)}}}function ev(){function e(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(g){return h=g})},focusReset:"manual",scroll:"manual"})}function n(){h!==null&&(h(),h=null),o||setTimeout(a,20)}function a(){if(!o&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var o=!1,h=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(a,100),function(){o=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),h!==null&&(h(),h=null)}}}function Qd(e){this._internalRoot=e}Gc.prototype.render=Qd.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(r(409));var a=n.current,o=Gn();Q_(a,o,e,n,null,null)},Gc.prototype.unmount=Qd.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;Q_(e.current,2,null,e,null,null),wc(),n[ft]=null}};function Gc(e){this._internalRoot=e}Gc.prototype.unstable_scheduleHydration=function(e){if(e){var n=tt();e={blockedOn:null,target:e,priority:n};for(var a=0;a<hr.length&&n!==0&&n<hr[a].priority;a++);hr.splice(a,0,e),a===0&&J_(e)}};var nv=t.version;if(nv!=="19.2.0")throw Error(r(527,nv,"19.2.0"));at.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(r(188)):(e=Object.keys(e).join(","),Error(r(268,e)));return e=y(n),e=e!==null?A(e):null,e=e===null?null:e.stateNode,e};var QA={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:Q,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Qc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Qc.isDisabled&&Qc.supportsFiber)try{Sn=Qc.inject(QA),Ke=Qc}catch{}}return zl.createRoot=function(e,n){if(!l(e))throw Error(r(299));var a=!1,o="",h=uy,f=cy,g=hy;return n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(g=n.onRecoverableError)),n=F_(e,1,!1,null,null,a,o,null,h,f,g,ev),e[ft]=n.current,xd(e),new Qd(n)},zl.hydrateRoot=function(e,n,a){if(!l(e))throw Error(r(299));var o=!1,h="",f=uy,g=cy,E=hy,I=null;return a!=null&&(a.unstable_strictMode===!0&&(o=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(f=a.onUncaughtError),a.onCaughtError!==void 0&&(g=a.onCaughtError),a.onRecoverableError!==void 0&&(E=a.onRecoverableError),a.formState!==void 0&&(I=a.formState)),n=F_(e,1,!0,n,a??null,o,h,I,f,g,E,ev),n.context=G_(null),a=n.current,o=Gn(),o=D(o),h=$s(o),h.callback=null,Zs(a,h,o),a=o,n.current.lanes=a,is(n,a),Bi(n),e[ft]=n.current,xd(e),new Gc(n)},zl.version="19.2.0",zl}var fv;function nS(){if(fv)return Xd.exports;fv=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(t){console.error(t)}}return s(),Xd.exports=eS(),Xd.exports}var iS=nS();/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sS=s=>s.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),rS=s=>s.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,i,r)=>r?r.toUpperCase():i.toLowerCase()),dv=s=>{const t=rS(s);return t.charAt(0).toUpperCase()+t.slice(1)},Y0=(...s)=>s.filter((t,i,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===i).join(" ").trim(),aS=s=>{for(const t in s)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var oS={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lS=Yt.forwardRef(({color:s="currentColor",size:t=24,strokeWidth:i=2,absoluteStrokeWidth:r,className:l="",children:c,iconNode:d,...p},_)=>Yt.createElement("svg",{ref:_,...oS,width:t,height:t,stroke:s,strokeWidth:r?Number(i)*24/Number(t):i,className:Y0("lucide",l),...!c&&!aS(p)&&{"aria-hidden":"true"},...p},[...d.map(([y,A])=>Yt.createElement(y,A)),...Array.isArray(c)?c:[c]]));/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nr=(s,t)=>{const i=Yt.forwardRef(({className:r,...l},c)=>Yt.createElement(lS,{ref:c,iconNode:t,className:Y0(`lucide-${sS(dv(s))}`,`lucide-${s}`,r),...l}));return i.displayName=dv(s),i};/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uS=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],mv=Nr("award",uS);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cS=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],hS=Nr("calendar",cS);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fS=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],dS=Nr("clock",fS);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mS=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],gS=Nr("history",mS);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pS=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],yS=Nr("house",pS);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _S=[["path",{d:"m16 11 2 2 4-4",key:"9rsbq5"}],["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],vS=Nr("user-check",_S);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ES=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],TS=Nr("user-plus",ES);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AS=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],gv=Nr("users",AS),SS=()=>{};var pv={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K0=function(s){const t=[];let i=0;for(let r=0;r<s.length;r++){let l=s.charCodeAt(r);l<128?t[i++]=l:l<2048?(t[i++]=l>>6|192,t[i++]=l&63|128):(l&64512)===55296&&r+1<s.length&&(s.charCodeAt(r+1)&64512)===56320?(l=65536+((l&1023)<<10)+(s.charCodeAt(++r)&1023),t[i++]=l>>18|240,t[i++]=l>>12&63|128,t[i++]=l>>6&63|128,t[i++]=l&63|128):(t[i++]=l>>12|224,t[i++]=l>>6&63|128,t[i++]=l&63|128)}return t},bS=function(s){const t=[];let i=0,r=0;for(;i<s.length;){const l=s[i++];if(l<128)t[r++]=String.fromCharCode(l);else if(l>191&&l<224){const c=s[i++];t[r++]=String.fromCharCode((l&31)<<6|c&63)}else if(l>239&&l<365){const c=s[i++],d=s[i++],p=s[i++],_=((l&7)<<18|(c&63)<<12|(d&63)<<6|p&63)-65536;t[r++]=String.fromCharCode(55296+(_>>10)),t[r++]=String.fromCharCode(56320+(_&1023))}else{const c=s[i++],d=s[i++];t[r++]=String.fromCharCode((l&15)<<12|(c&63)<<6|d&63)}}return t.join("")},X0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,t){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let l=0;l<s.length;l+=3){const c=s[l],d=l+1<s.length,p=d?s[l+1]:0,_=l+2<s.length,y=_?s[l+2]:0,A=c>>2,b=(c&3)<<4|p>>4;let C=(p&15)<<2|y>>6,G=y&63;_||(G=64,d||(C=64)),r.push(i[A],i[b],i[C],i[G])}return r.join("")},encodeString(s,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(s):this.encodeByteArray(K0(s),t)},decodeString(s,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(s):bS(this.decodeStringToByteArray(s,t))},decodeStringToByteArray(s,t){this.init_();const i=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let l=0;l<s.length;){const c=i[s.charAt(l++)],p=l<s.length?i[s.charAt(l)]:0;++l;const y=l<s.length?i[s.charAt(l)]:64;++l;const b=l<s.length?i[s.charAt(l)]:64;if(++l,c==null||p==null||y==null||b==null)throw new wS;const C=c<<2|p>>4;if(r.push(C),y!==64){const G=p<<4&240|y>>2;if(r.push(G),b!==64){const et=y<<6&192|b;r.push(et)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class wS extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const RS=function(s){const t=K0(s);return X0.encodeByteArray(t,!0)},ch=function(s){return RS(s).replace(/\./g,"")},$0=function(s){try{return X0.decodeString(s,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xS(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IS=()=>xS().__FIREBASE_DEFAULTS__,CS=()=>{if(typeof process>"u"||typeof pv>"u")return;const s=pv.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},NS=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=s&&$0(s[1]);return t&&JSON.parse(t)},Nh=()=>{try{return SS()||IS()||CS()||NS()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},Z0=s=>Nh()?.emulatorHosts?.[s],DS=s=>{const t=Z0(s);if(!t)return;const i=t.lastIndexOf(":");if(i<=0||i+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(i+1),10);return t[0]==="["?[t.substring(1,i-1),r]:[t.substring(0,i),r]},J0=()=>Nh()?.config,W0=s=>Nh()?.[`_${s}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MS{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,i)=>{this.resolve=t,this.reject=i})}wrapCallback(t){return(i,r)=>{i?this.reject(i):this.resolve(r),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(i):t(i,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Do(s){try{return(s.startsWith("http://")||s.startsWith("https://")?new URL(s).hostname:s).endsWith(".cloudworkstations.dev")}catch{return!1}}async function tE(s){return(await fetch(s,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OS(s,t){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},r=t||"demo-project",l=s.iat||0,c=s.sub||s.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${r}`,aud:r,iat:l,exp:l+3600,auth_time:l,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...s};return[ch(JSON.stringify(i)),ch(JSON.stringify(d)),""].join(".")}const Kl={};function VS(){const s={prod:[],emulator:[]};for(const t of Object.keys(Kl))Kl[t]?s.emulator.push(t):s.prod.push(t);return s}function US(s){let t=document.getElementById(s),i=!1;return t||(t=document.createElement("div"),t.setAttribute("id",s),i=!0),{created:i,element:t}}let yv=!1;function eE(s,t){if(typeof window>"u"||typeof document>"u"||!Do(window.location.host)||Kl[s]===t||Kl[s]||yv)return;Kl[s]=t;function i(C){return`__firebase__banner__${C}`}const r="__firebase__banner",c=VS().prod.length>0;function d(){const C=document.getElementById(r);C&&C.remove()}function p(C){C.style.display="flex",C.style.background="#7faaf0",C.style.position="fixed",C.style.bottom="5px",C.style.left="5px",C.style.padding=".5em",C.style.borderRadius="5px",C.style.alignItems="center"}function _(C,G){C.setAttribute("width","24"),C.setAttribute("id",G),C.setAttribute("height","24"),C.setAttribute("viewBox","0 0 24 24"),C.setAttribute("fill","none"),C.style.marginLeft="-6px"}function y(){const C=document.createElement("span");return C.style.cursor="pointer",C.style.marginLeft="16px",C.style.fontSize="24px",C.innerHTML=" &times;",C.onclick=()=>{yv=!0,d()},C}function A(C,G){C.setAttribute("id",G),C.innerText="Learn more",C.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",C.setAttribute("target","__blank"),C.style.paddingLeft="5px",C.style.textDecoration="underline"}function b(){const C=US(r),G=i("text"),et=document.getElementById(G)||document.createElement("span"),ot=i("learnmore"),it=document.getElementById(ot)||document.createElement("a"),_t=i("preprendIcon"),Rt=document.getElementById(_t)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(C.created){const Tt=C.element;p(Tt),A(it,ot);const Zt=y();_(Rt,_t),Tt.append(Rt,et,it,Zt),document.body.appendChild(Tt)}c?(et.innerText="Preview backend disconnected.",Rt.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(Rt.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,et.innerText="Preview backend running in this workspace."),et.setAttribute("id",G)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",b):b()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function LS(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(yn())}function kS(){const s=Nh()?.forceEnvironment;if(s==="node")return!0;if(s==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function PS(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function jS(){const s=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof s=="object"&&s.id!==void 0}function zS(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function BS(){const s=yn();return s.indexOf("MSIE ")>=0||s.indexOf("Trident/")>=0}function qS(){return!kS()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function HS(){try{return typeof indexedDB=="object"}catch{return!1}}function FS(){return new Promise((s,t)=>{try{let i=!0;const r="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(r);l.onsuccess=()=>{l.result.close(),i||self.indexedDB.deleteDatabase(r),s(!0)},l.onupgradeneeded=()=>{i=!1},l.onerror=()=>{t(l.error?.message||"")}}catch(i){t(i)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GS="FirebaseError";class Ms extends Error{constructor(t,i,r){super(i),this.code=t,this.customData=r,this.name=GS,Object.setPrototypeOf(this,Ms.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,fu.prototype.create)}}class fu{constructor(t,i,r){this.service=t,this.serviceName=i,this.errors=r}create(t,...i){const r=i[0]||{},l=`${this.service}/${t}`,c=this.errors[t],d=c?QS(c,r):"Error",p=`${this.serviceName}: ${d} (${l}).`;return new Ms(l,p,r)}}function QS(s,t){return s.replace(YS,(i,r)=>{const l=t[r];return l!=null?String(l):`<${r}?>`})}const YS=/\{\$([^}]+)}/g;function KS(s){for(const t in s)if(Object.prototype.hasOwnProperty.call(s,t))return!1;return!0}function pa(s,t){if(s===t)return!0;const i=Object.keys(s),r=Object.keys(t);for(const l of i){if(!r.includes(l))return!1;const c=s[l],d=t[l];if(_v(c)&&_v(d)){if(!pa(c,d))return!1}else if(c!==d)return!1}for(const l of r)if(!i.includes(l))return!1;return!0}function _v(s){return s!==null&&typeof s=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function du(s){const t=[];for(const[i,r]of Object.entries(s))Array.isArray(r)?r.forEach(l=>{t.push(encodeURIComponent(i)+"="+encodeURIComponent(l))}):t.push(encodeURIComponent(i)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function XS(s,t){const i=new $S(s,t);return i.subscribe.bind(i)}class $S{constructor(t,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{t(this)}).catch(r=>{this.error(r)})}next(t){this.forEachObserver(i=>{i.next(t)})}error(t){this.forEachObserver(i=>{i.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,i,r){let l;if(t===void 0&&i===void 0&&r===void 0)throw new Error("Missing Observer.");ZS(t,["next","error","complete"])?l=t:l={next:t,error:i,complete:r},l.next===void 0&&(l.next=Wd),l.error===void 0&&(l.error=Wd),l.complete===void 0&&(l.complete=Wd);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),c}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,t)}sendOne(t,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{i(this.observers[t])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function ZS(s,t){if(typeof s!="object"||s===null)return!1;for(const i of t)if(i in s&&typeof s[i]=="function")return!0;return!1}function Wd(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ye(s){return s&&s._delegate?s._delegate:s}class ya{constructor(t,i,r){this.name=t,this.instanceFactory=i,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ha="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JS{constructor(t,i){this.name=t,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const i=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(i)){const r=new MS;if(this.instancesDeferred.set(i,r),this.isInitialized(i)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:i});l&&r.resolve(l)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(t){const i=this.normalizeInstanceIdentifier(t?.identifier),r=t?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(l){if(r)return null;throw l}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(tb(t))try{this.getOrInitializeService({instanceIdentifier:ha})}catch{}for(const[i,r]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);try{const c=this.getOrInitializeService({instanceIdentifier:l});r.resolve(c)}catch{}}}}clearInstance(t=ha){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...t.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=ha){return this.instances.has(t)}getOptions(t=ha){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:i={}}=t,r=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:r,options:i});for(const[c,d]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(c);r===p&&d.resolve(l)}return l}onInit(t,i){const r=this.normalizeInstanceIdentifier(i),l=this.onInitCallbacks.get(r)??new Set;l.add(t),this.onInitCallbacks.set(r,l);const c=this.instances.get(r);return c&&t(c,r),()=>{l.delete(t)}}invokeOnInitCallbacks(t,i){const r=this.onInitCallbacks.get(i);if(r)for(const l of r)try{l(t,i)}catch{}}getOrInitializeService({instanceIdentifier:t,options:i={}}){let r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:WS(t),options:i}),this.instances.set(t,r),this.instancesOptions.set(t,i),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch{}return r||null}normalizeInstanceIdentifier(t=ha){return this.component?this.component.multipleInstances?t:ha:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function WS(s){return s===ha?void 0:s}function tb(s){return s.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eb{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const i=this.getProvider(t.name);if(i.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);i.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const i=new JS(t,this);return this.providers.set(t,i),i}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var qt;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(qt||(qt={}));const nb={debug:qt.DEBUG,verbose:qt.VERBOSE,info:qt.INFO,warn:qt.WARN,error:qt.ERROR,silent:qt.SILENT},ib=qt.INFO,sb={[qt.DEBUG]:"log",[qt.VERBOSE]:"log",[qt.INFO]:"info",[qt.WARN]:"warn",[qt.ERROR]:"error"},rb=(s,t,...i)=>{if(t<s.logLevel)return;const r=new Date().toISOString(),l=sb[t];if(l)console[l](`[${r}]  ${s.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class Pm{constructor(t){this.name=t,this._logLevel=ib,this._logHandler=rb,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in qt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?nb[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,qt.DEBUG,...t),this._logHandler(this,qt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,qt.VERBOSE,...t),this._logHandler(this,qt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,qt.INFO,...t),this._logHandler(this,qt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,qt.WARN,...t),this._logHandler(this,qt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,qt.ERROR,...t),this._logHandler(this,qt.ERROR,...t)}}const ab=(s,t)=>t.some(i=>s instanceof i);let vv,Ev;function ob(){return vv||(vv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function lb(){return Ev||(Ev=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const nE=new WeakMap,fm=new WeakMap,iE=new WeakMap,tm=new WeakMap,jm=new WeakMap;function ub(s){const t=new Promise((i,r)=>{const l=()=>{s.removeEventListener("success",c),s.removeEventListener("error",d)},c=()=>{i(_r(s.result)),l()},d=()=>{r(s.error),l()};s.addEventListener("success",c),s.addEventListener("error",d)});return t.then(i=>{i instanceof IDBCursor&&nE.set(i,s)}).catch(()=>{}),jm.set(t,s),t}function cb(s){if(fm.has(s))return;const t=new Promise((i,r)=>{const l=()=>{s.removeEventListener("complete",c),s.removeEventListener("error",d),s.removeEventListener("abort",d)},c=()=>{i(),l()},d=()=>{r(s.error||new DOMException("AbortError","AbortError")),l()};s.addEventListener("complete",c),s.addEventListener("error",d),s.addEventListener("abort",d)});fm.set(s,t)}let dm={get(s,t,i){if(s instanceof IDBTransaction){if(t==="done")return fm.get(s);if(t==="objectStoreNames")return s.objectStoreNames||iE.get(s);if(t==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return _r(s[t])},set(s,t,i){return s[t]=i,!0},has(s,t){return s instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in s}};function hb(s){dm=s(dm)}function fb(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...i){const r=s.call(em(this),t,...i);return iE.set(r,t.sort?t.sort():[t]),_r(r)}:lb().includes(s)?function(...t){return s.apply(em(this),t),_r(nE.get(this))}:function(...t){return _r(s.apply(em(this),t))}}function db(s){return typeof s=="function"?fb(s):(s instanceof IDBTransaction&&cb(s),ab(s,ob())?new Proxy(s,dm):s)}function _r(s){if(s instanceof IDBRequest)return ub(s);if(tm.has(s))return tm.get(s);const t=db(s);return t!==s&&(tm.set(s,t),jm.set(t,s)),t}const em=s=>jm.get(s);function mb(s,t,{blocked:i,upgrade:r,blocking:l,terminated:c}={}){const d=indexedDB.open(s,t),p=_r(d);return r&&d.addEventListener("upgradeneeded",_=>{r(_r(d.result),_.oldVersion,_.newVersion,_r(d.transaction),_)}),i&&d.addEventListener("blocked",_=>i(_.oldVersion,_.newVersion,_)),p.then(_=>{c&&_.addEventListener("close",()=>c()),l&&_.addEventListener("versionchange",y=>l(y.oldVersion,y.newVersion,y))}).catch(()=>{}),p}const gb=["get","getKey","getAll","getAllKeys","count"],pb=["put","add","delete","clear"],nm=new Map;function Tv(s,t){if(!(s instanceof IDBDatabase&&!(t in s)&&typeof t=="string"))return;if(nm.get(t))return nm.get(t);const i=t.replace(/FromIndex$/,""),r=t!==i,l=pb.includes(i);if(!(i in(r?IDBIndex:IDBObjectStore).prototype)||!(l||gb.includes(i)))return;const c=async function(d,...p){const _=this.transaction(d,l?"readwrite":"readonly");let y=_.store;return r&&(y=y.index(p.shift())),(await Promise.all([y[i](...p),l&&_.done]))[0]};return nm.set(t,c),c}hb(s=>({...s,get:(t,i,r)=>Tv(t,i)||s.get(t,i,r),has:(t,i)=>!!Tv(t,i)||s.has(t,i)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yb{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(_b(i)){const r=i.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(i=>i).join(" ")}}function _b(s){return s.getComponent()?.type==="VERSION"}const mm="@firebase/app",Av="0.14.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Is=new Pm("@firebase/app"),vb="@firebase/app-compat",Eb="@firebase/analytics-compat",Tb="@firebase/analytics",Ab="@firebase/app-check-compat",Sb="@firebase/app-check",bb="@firebase/auth",wb="@firebase/auth-compat",Rb="@firebase/database",xb="@firebase/data-connect",Ib="@firebase/database-compat",Cb="@firebase/functions",Nb="@firebase/functions-compat",Db="@firebase/installations",Mb="@firebase/installations-compat",Ob="@firebase/messaging",Vb="@firebase/messaging-compat",Ub="@firebase/performance",Lb="@firebase/performance-compat",kb="@firebase/remote-config",Pb="@firebase/remote-config-compat",jb="@firebase/storage",zb="@firebase/storage-compat",Bb="@firebase/firestore",qb="@firebase/ai",Hb="@firebase/firestore-compat",Fb="firebase",Gb="12.3.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gm="[DEFAULT]",Qb={[mm]:"fire-core",[vb]:"fire-core-compat",[Tb]:"fire-analytics",[Eb]:"fire-analytics-compat",[Sb]:"fire-app-check",[Ab]:"fire-app-check-compat",[bb]:"fire-auth",[wb]:"fire-auth-compat",[Rb]:"fire-rtdb",[xb]:"fire-data-connect",[Ib]:"fire-rtdb-compat",[Cb]:"fire-fn",[Nb]:"fire-fn-compat",[Db]:"fire-iid",[Mb]:"fire-iid-compat",[Ob]:"fire-fcm",[Vb]:"fire-fcm-compat",[Ub]:"fire-perf",[Lb]:"fire-perf-compat",[kb]:"fire-rc",[Pb]:"fire-rc-compat",[jb]:"fire-gcs",[zb]:"fire-gcs-compat",[Bb]:"fire-fst",[Hb]:"fire-fst-compat",[qb]:"fire-vertex","fire-js":"fire-js",[Fb]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hh=new Map,Yb=new Map,pm=new Map;function Sv(s,t){try{s.container.addComponent(t)}catch(i){Is.debug(`Component ${t.name} failed to register with FirebaseApp ${s.name}`,i)}}function So(s){const t=s.name;if(pm.has(t))return Is.debug(`There were multiple attempts to register component ${t}.`),!1;pm.set(t,s);for(const i of hh.values())Sv(i,s);for(const i of Yb.values())Sv(i,s);return!0}function zm(s,t){const i=s.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),s.container.getProvider(t)}function Ei(s){return s==null?!1:s.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kb={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},vr=new fu("app","Firebase",Kb);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xb{constructor(t,i,r){this._isDeleted=!1,this._options={...t},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ya("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw vr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mo=Gb;function sE(s,t={}){let i=s;typeof t!="object"&&(t={name:t});const r={name:gm,automaticDataCollectionEnabled:!0,...t},l=r.name;if(typeof l!="string"||!l)throw vr.create("bad-app-name",{appName:String(l)});if(i||(i=J0()),!i)throw vr.create("no-options");const c=hh.get(l);if(c){if(pa(i,c.options)&&pa(r,c.config))return c;throw vr.create("duplicate-app",{appName:l})}const d=new eb(l);for(const _ of pm.values())d.addComponent(_);const p=new Xb(i,r,d);return hh.set(l,p),p}function rE(s=gm){const t=hh.get(s);if(!t&&s===gm&&J0())return sE();if(!t)throw vr.create("no-app",{appName:s});return t}function Er(s,t,i){let r=Qb[s]??s;i&&(r+=`-${i}`);const l=r.match(/\s|\//),c=t.match(/\s|\//);if(l||c){const d=[`Unable to register library "${r}" with version "${t}":`];l&&d.push(`library name "${r}" contains illegal characters (whitespace or "/")`),l&&c&&d.push("and"),c&&d.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Is.warn(d.join(" "));return}So(new ya(`${r}-version`,()=>({library:r,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $b="firebase-heartbeat-database",Zb=1,eu="firebase-heartbeat-store";let im=null;function aE(){return im||(im=mb($b,Zb,{upgrade:(s,t)=>{switch(t){case 0:try{s.createObjectStore(eu)}catch(i){console.warn(i)}}}}).catch(s=>{throw vr.create("idb-open",{originalErrorMessage:s.message})})),im}async function Jb(s){try{const i=(await aE()).transaction(eu),r=await i.objectStore(eu).get(oE(s));return await i.done,r}catch(t){if(t instanceof Ms)Is.warn(t.message);else{const i=vr.create("idb-get",{originalErrorMessage:t?.message});Is.warn(i.message)}}}async function bv(s,t){try{const r=(await aE()).transaction(eu,"readwrite");await r.objectStore(eu).put(t,oE(s)),await r.done}catch(i){if(i instanceof Ms)Is.warn(i.message);else{const r=vr.create("idb-set",{originalErrorMessage:i?.message});Is.warn(r.message)}}}function oE(s){return`${s.name}!${s.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wb=1024,tw=30;class ew{constructor(t){this.container=t,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new iw(i),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=wv();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(l=>l.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:i}),this._heartbeatsCache.heartbeats.length>tw){const l=sw(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){Is.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=wv(),{heartbeatsToSend:i,unsentEntries:r}=nw(this._heartbeatsCache.heartbeats),l=ch(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(t){return Is.warn(t),""}}}function wv(){return new Date().toISOString().substring(0,10)}function nw(s,t=Wb){const i=[];let r=s.slice();for(const l of s){const c=i.find(d=>d.agent===l.agent);if(c){if(c.dates.push(l.date),Rv(i)>t){c.dates.pop();break}}else if(i.push({agent:l.agent,dates:[l.date]}),Rv(i)>t){i.pop();break}r=r.slice(1)}return{heartbeatsToSend:i,unsentEntries:r}}class iw{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return HS()?FS().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await Jb(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const r=await this.read();return bv(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const r=await this.read();return bv(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...t.heartbeats]})}else return}}function Rv(s){return ch(JSON.stringify({version:2,heartbeats:s})).length}function sw(s){if(s.length===0)return-1;let t=0,i=s[0].date;for(let r=1;r<s.length;r++)s[r].date<i&&(i=s[r].date,t=r);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rw(s){So(new ya("platform-logger",t=>new yb(t),"PRIVATE")),So(new ya("heartbeat",t=>new ew(t),"PRIVATE")),Er(mm,Av,s),Er(mm,Av,"esm2020"),Er("fire-js","")}rw("");var aw="firebase",ow="12.3.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Er(aw,ow,"app");function lE(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const lw=lE,uE=new fu("auth","Firebase",lE());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fh=new Pm("@firebase/auth");function uw(s,...t){fh.logLevel<=qt.WARN&&fh.warn(`Auth (${Mo}): ${s}`,...t)}function th(s,...t){fh.logLevel<=qt.ERROR&&fh.error(`Auth (${Mo}): ${s}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ki(s,...t){throw qm(s,...t)}function Ai(s,...t){return qm(s,...t)}function Bm(s,t,i){const r={...lw(),[t]:i};return new fu("auth","Firebase",r).create(t,{appName:s.name})}function ma(s){return Bm(s,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function cw(s,t,i){const r=i;if(!(t instanceof r))throw r.name!==t.constructor.name&&Ki(s,"argument-error"),Bm(s,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function qm(s,...t){if(typeof s!="string"){const i=t[0],r=[...t.slice(1)];return r[0]&&(r[0].appName=s.name),s._errorFactory.create(i,...r)}return uE.create(s,...t)}function wt(s,t,...i){if(!s)throw qm(t,...i)}function Rs(s){const t="INTERNAL ASSERTION FAILED: "+s;throw th(t),new Error(t)}function Cs(s,t){s||Rs(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ym(){return typeof self<"u"&&self.location?.href||""}function hw(){return xv()==="http:"||xv()==="https:"}function xv(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fw(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(hw()||jS()||"connection"in navigator)?navigator.onLine:!0}function dw(){if(typeof navigator>"u")return null;const s=navigator;return s.languages&&s.languages[0]||s.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mu{constructor(t,i){this.shortDelay=t,this.longDelay=i,Cs(i>t,"Short delay should be less than long delay!"),this.isMobile=LS()||zS()}get(){return fw()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hm(s,t){Cs(s.emulator,"Emulator should always be set here");const{url:i}=s.emulator;return t?`${i}${t.startsWith("/")?t.slice(1):t}`:i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cE{static initialize(t,i,r){this.fetchImpl=t,i&&(this.headersImpl=i),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Rs("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Rs("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Rs("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mw={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gw=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],pw=new mu(3e4,6e4);function Fm(s,t){return s.tenantId&&!t.tenantId?{...t,tenantId:s.tenantId}:t}async function Oo(s,t,i,r,l={}){return hE(s,l,async()=>{let c={},d={};r&&(t==="GET"?d=r:c={body:JSON.stringify(r)});const p=du({key:s.config.apiKey,...d}).slice(1),_=await s._getAdditionalHeaders();_["Content-Type"]="application/json",s.languageCode&&(_["X-Firebase-Locale"]=s.languageCode);const y={method:t,headers:_,...c};return PS()||(y.referrerPolicy="no-referrer"),s.emulatorConfig&&Do(s.emulatorConfig.host)&&(y.credentials="include"),cE.fetch()(await fE(s,s.config.apiHost,i,p),y)})}async function hE(s,t,i){s._canInitEmulator=!1;const r={...mw,...t};try{const l=new _w(s),c=await Promise.race([i(),l.promise]);l.clearNetworkTimeout();const d=await c.json();if("needConfirmation"in d)throw Yc(s,"account-exists-with-different-credential",d);if(c.ok&&!("errorMessage"in d))return d;{const p=c.ok?d.errorMessage:d.error.message,[_,y]=p.split(" : ");if(_==="FEDERATED_USER_ID_ALREADY_LINKED")throw Yc(s,"credential-already-in-use",d);if(_==="EMAIL_EXISTS")throw Yc(s,"email-already-in-use",d);if(_==="USER_DISABLED")throw Yc(s,"user-disabled",d);const A=r[_]||_.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw Bm(s,A,y);Ki(s,A)}}catch(l){if(l instanceof Ms)throw l;Ki(s,"network-request-failed",{message:String(l)})}}async function yw(s,t,i,r,l={}){const c=await Oo(s,t,i,r,l);return"mfaPendingCredential"in c&&Ki(s,"multi-factor-auth-required",{_serverResponse:c}),c}async function fE(s,t,i,r){const l=`${t}${i}?${r}`,c=s,d=c.config.emulator?Hm(s.config,l):`${s.config.apiScheme}://${l}`;return gw.includes(i)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(d).toString():d}class _w{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((i,r)=>{this.timer=setTimeout(()=>r(Ai(this.auth,"network-request-failed")),pw.get())})}}function Yc(s,t,i){const r={appName:s.name};i.email&&(r.email=i.email),i.phoneNumber&&(r.phoneNumber=i.phoneNumber);const l=Ai(s,t,r);return l.customData._tokenResponse=i,l}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vw(s,t){return Oo(s,"POST","/v1/accounts:delete",t)}async function dh(s,t){return Oo(s,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xl(s){if(s)try{const t=new Date(Number(s));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function Ew(s,t=!1){const i=Ye(s),r=await i.getIdToken(t),l=Gm(r);wt(l&&l.exp&&l.auth_time&&l.iat,i.auth,"internal-error");const c=typeof l.firebase=="object"?l.firebase:void 0,d=c?.sign_in_provider;return{claims:l,token:r,authTime:Xl(sm(l.auth_time)),issuedAtTime:Xl(sm(l.iat)),expirationTime:Xl(sm(l.exp)),signInProvider:d||null,signInSecondFactor:c?.sign_in_second_factor||null}}function sm(s){return Number(s)*1e3}function Gm(s){const[t,i,r]=s.split(".");if(t===void 0||i===void 0||r===void 0)return th("JWT malformed, contained fewer than 3 sections"),null;try{const l=$0(i);return l?JSON.parse(l):(th("Failed to decode base64 JWT payload"),null)}catch(l){return th("Caught error parsing JWT payload as JSON",l?.toString()),null}}function Iv(s){const t=Gm(s);return wt(t,"internal-error"),wt(typeof t.exp<"u","internal-error"),wt(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nu(s,t,i=!1){if(i)return t;try{return await t}catch(r){throw r instanceof Ms&&Tw(r)&&s.auth.currentUser===s&&await s.auth.signOut(),r}}function Tw({code:s}){return s==="auth/user-disabled"||s==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aw{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(t=!1){if(!this.isRunning)return;const i=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _m{constructor(t,i){this.createdAt=t,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=Xl(this.lastLoginAt),this.creationTime=Xl(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mh(s){const t=s.auth,i=await s.getIdToken(),r=await nu(s,dh(t,{idToken:i}));wt(r?.users.length,t,"internal-error");const l=r.users[0];s._notifyReloadListener(l);const c=l.providerUserInfo?.length?dE(l.providerUserInfo):[],d=bw(s.providerData,c),p=s.isAnonymous,_=!(s.email&&l.passwordHash)&&!d?.length,y=p?_:!1,A={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:d,metadata:new _m(l.createdAt,l.lastLoginAt),isAnonymous:y};Object.assign(s,A)}async function Sw(s){const t=Ye(s);await mh(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function bw(s,t){return[...s.filter(r=>!t.some(l=>l.providerId===r.providerId)),...t]}function dE(s){return s.map(({providerId:t,...i})=>({providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ww(s,t){const i=await hE(s,{},async()=>{const r=du({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:l,apiKey:c}=s.config,d=await fE(s,l,"/v1/token",`key=${c}`),p=await s._getAdditionalHeaders();p["Content-Type"]="application/x-www-form-urlencoded";const _={method:"POST",headers:p,body:r};return s.emulatorConfig&&Do(s.emulatorConfig.host)&&(_.credentials="include"),cE.fetch()(d,_)});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function Rw(s,t){return Oo(s,"POST","/v2/accounts:revokeToken",Fm(s,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){wt(t.idToken,"internal-error"),wt(typeof t.idToken<"u","internal-error"),wt(typeof t.refreshToken<"u","internal-error");const i="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):Iv(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,i)}updateFromIdToken(t){wt(t.length!==0,"internal-error");const i=Iv(t);this.updateTokensAndExpiration(t,null,i)}async getToken(t,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(wt(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,i){const{accessToken:r,refreshToken:l,expiresIn:c}=await ww(t,i);this.updateTokensAndExpiration(r,l,Number(c))}updateTokensAndExpiration(t,i,r){this.refreshToken=i||null,this.accessToken=t||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(t,i){const{refreshToken:r,accessToken:l,expirationTime:c}=i,d=new vo;return r&&(wt(typeof r=="string","internal-error",{appName:t}),d.refreshToken=r),l&&(wt(typeof l=="string","internal-error",{appName:t}),d.accessToken=l),c&&(wt(typeof c=="number","internal-error",{appName:t}),d.expirationTime=c),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new vo,this.toJSON())}_performRefresh(){return Rs("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dr(s,t){wt(typeof s=="string"||typeof s>"u","internal-error",{appName:t})}class Ti{constructor({uid:t,auth:i,stsTokenManager:r,...l}){this.providerId="firebase",this.proactiveRefresh=new Aw(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new _m(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(t){const i=await nu(this,this.stsTokenManager.getToken(this.auth,t));return wt(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(t){return Ew(this,t)}reload(){return Sw(this)}_assign(t){this!==t&&(wt(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(i=>({...i})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const i=new Ti({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return i.metadata._copy(this.metadata),i}_onReload(t){wt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,i=!1){let r=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),i&&await mh(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Ei(this.auth.app))return Promise.reject(ma(this.auth));const t=await this.getIdToken();return await nu(this,vw(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,i){const r=i.displayName??void 0,l=i.email??void 0,c=i.phoneNumber??void 0,d=i.photoURL??void 0,p=i.tenantId??void 0,_=i._redirectEventId??void 0,y=i.createdAt??void 0,A=i.lastLoginAt??void 0,{uid:b,emailVerified:C,isAnonymous:G,providerData:et,stsTokenManager:ot}=i;wt(b&&ot,t,"internal-error");const it=vo.fromJSON(this.name,ot);wt(typeof b=="string",t,"internal-error"),dr(r,t.name),dr(l,t.name),wt(typeof C=="boolean",t,"internal-error"),wt(typeof G=="boolean",t,"internal-error"),dr(c,t.name),dr(d,t.name),dr(p,t.name),dr(_,t.name),dr(y,t.name),dr(A,t.name);const _t=new Ti({uid:b,auth:t,email:l,emailVerified:C,displayName:r,isAnonymous:G,photoURL:d,phoneNumber:c,tenantId:p,stsTokenManager:it,createdAt:y,lastLoginAt:A});return et&&Array.isArray(et)&&(_t.providerData=et.map(Rt=>({...Rt}))),_&&(_t._redirectEventId=_),_t}static async _fromIdTokenResponse(t,i,r=!1){const l=new vo;l.updateFromServerResponse(i);const c=new Ti({uid:i.localId,auth:t,stsTokenManager:l,isAnonymous:r});return await mh(c),c}static async _fromGetAccountInfoResponse(t,i,r){const l=i.users[0];wt(l.localId!==void 0,"internal-error");const c=l.providerUserInfo!==void 0?dE(l.providerUserInfo):[],d=!(l.email&&l.passwordHash)&&!c?.length,p=new vo;p.updateFromIdToken(r);const _=new Ti({uid:l.localId,auth:t,stsTokenManager:p,isAnonymous:d}),y={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:c,metadata:new _m(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!c?.length};return Object.assign(_,y),_}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cv=new Map;function xs(s){Cs(s instanceof Function,"Expected a class definition");let t=Cv.get(s);return t?(Cs(t instanceof s,"Instance stored in cache mismatched with class"),t):(t=new s,Cv.set(s,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mE{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,i){this.storage[t]=i}async _get(t){const i=this.storage[t];return i===void 0?null:i}async _remove(t){delete this.storage[t]}_addListener(t,i){}_removeListener(t,i){}}mE.type="NONE";const Nv=mE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eh(s,t,i){return`firebase:${s}:${t}:${i}`}class Eo{constructor(t,i,r){this.persistence=t,this.auth=i,this.userKey=r;const{config:l,name:c}=this.auth;this.fullUserKey=eh(this.userKey,l.apiKey,c),this.fullPersistenceKey=eh("persistence",l.apiKey,c),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const i=await dh(this.auth,{idToken:t}).catch(()=>{});return i?Ti._fromGetAccountInfoResponse(this.auth,i,t):null}return Ti._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,i,r="authUser"){if(!i.length)return new Eo(xs(Nv),t,r);const l=(await Promise.all(i.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let c=l[0]||xs(Nv);const d=eh(r,t.config.apiKey,t.name);let p=null;for(const y of i)try{const A=await y._get(d);if(A){let b;if(typeof A=="string"){const C=await dh(t,{idToken:A}).catch(()=>{});if(!C)break;b=await Ti._fromGetAccountInfoResponse(t,C,A)}else b=Ti._fromJSON(t,A);y!==c&&(p=b),c=y;break}}catch{}const _=l.filter(y=>y._shouldAllowMigration);return!c._shouldAllowMigration||!_.length?new Eo(c,t,r):(c=_[0],p&&await c._set(d,p.toJSON()),await Promise.all(i.map(async y=>{if(y!==c)try{await y._remove(d)}catch{}})),new Eo(c,t,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dv(s){const t=s.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(_E(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(gE(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(EE(t))return"Blackberry";if(TE(t))return"Webos";if(pE(t))return"Safari";if((t.includes("chrome/")||yE(t))&&!t.includes("edge/"))return"Chrome";if(vE(t))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=s.match(i);if(r?.length===2)return r[1]}return"Other"}function gE(s=yn()){return/firefox\//i.test(s)}function pE(s=yn()){const t=s.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function yE(s=yn()){return/crios\//i.test(s)}function _E(s=yn()){return/iemobile/i.test(s)}function vE(s=yn()){return/android/i.test(s)}function EE(s=yn()){return/blackberry/i.test(s)}function TE(s=yn()){return/webos/i.test(s)}function Qm(s=yn()){return/iphone|ipad|ipod/i.test(s)||/macintosh/i.test(s)&&/mobile/i.test(s)}function xw(s=yn()){return Qm(s)&&!!window.navigator?.standalone}function Iw(){return BS()&&document.documentMode===10}function AE(s=yn()){return Qm(s)||vE(s)||TE(s)||EE(s)||/windows phone/i.test(s)||_E(s)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SE(s,t=[]){let i;switch(s){case"Browser":i=Dv(yn());break;case"Worker":i=`${Dv(yn())}-${s}`;break;default:i=s}const r=t.length?t.join(","):"FirebaseCore-web";return`${i}/JsCore/${Mo}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cw{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,i){const r=c=>new Promise((d,p)=>{try{const _=t(c);d(_)}catch(_){p(_)}});r.onAbort=i,this.queue.push(r);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const i=[];try{for(const r of this.queue)await r(t),r.onAbort&&i.push(r.onAbort)}catch(r){i.reverse();for(const l of i)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Nw(s,t={}){return Oo(s,"GET","/v2/passwordPolicy",Fm(s,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dw=6;class Mw{constructor(t){const i=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=i.minPasswordLength??Dw,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),i.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),i.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),i.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),i.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const i={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,i),this.validatePasswordCharacterOptions(t,i),i.isValid&&(i.isValid=i.meetsMinPasswordLength??!0),i.isValid&&(i.isValid=i.meetsMaxPasswordLength??!0),i.isValid&&(i.isValid=i.containsLowercaseLetter??!0),i.isValid&&(i.isValid=i.containsUppercaseLetter??!0),i.isValid&&(i.isValid=i.containsNumericCharacter??!0),i.isValid&&(i.isValid=i.containsNonAlphanumericCharacter??!0),i}validatePasswordLengthOptions(t,i){const r=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;r&&(i.meetsMinPasswordLength=t.length>=r),l&&(i.meetsMaxPasswordLength=t.length<=l)}validatePasswordCharacterOptions(t,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let r;for(let l=0;l<t.length;l++)r=t.charAt(l),this.updatePasswordCharacterOptionsStatuses(i,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(t,i,r,l,c){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ow{constructor(t,i,r,l){this.app=t,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=r,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Mv(this),this.idTokenSubscription=new Mv(this),this.beforeStateQueue=new Cw(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=uE,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=l.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(t,i){return i&&(this._popupRedirectResolver=xs(i)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Eo.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const i=await dh(this,{idToken:t}),r=await Ti._fromGetAccountInfoResponse(this,i,t);await this.directlySetCurrentUser(r)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(Ei(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let r=i,l=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,d=r?._redirectEventId,p=await this.tryRedirectSignIn(t);(!c||c===d)&&p?.user&&(r=p.user,l=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(r)}catch(c){r=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return wt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(t){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(t){try{await mh(t)}catch(i){if(i?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=dw()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(Ei(this.app))return Promise.reject(ma(this));const i=t?Ye(t):null;return i&&wt(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(t,i=!1){if(!this._deleted)return t&&wt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return Ei(this.app)?Promise.reject(ma(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return Ei(this.app)?Promise.reject(ma(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(xs(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await Nw(this),i=new Mw(t);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new fu("auth","Firebase",t())}onAuthStateChanged(t,i,r){return this.registerStateListener(this.authStateSubscription,t,i,r)}beforeAuthStateChanged(t,i){return this.beforeStateQueue.pushCallback(t,i)}onIdTokenChanged(t,i,r){return this.registerStateListener(this.idTokenSubscription,t,i,r)}authStateReady(){return new Promise((t,i)=>{if(this.currentUser)t();else{const r=this.onAuthStateChanged(()=>{r(),t()},i)}})}async revokeAccessToken(t){if(this.currentUser){const i=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:i};this.tenantId!=null&&(r.tenantId=this.tenantId),await Rw(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,i){const r=await this.getOrInitRedirectPersistenceManager(i);return t===null?r.removeCurrentUser():r.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const i=t&&xs(t)||this._popupRedirectResolver;wt(i,this,"argument-error"),this.redirectPersistenceManager=await Eo.create(this,[xs(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,i,r,l){if(this._deleted)return()=>{};const c=typeof i=="function"?i:i.next.bind(i);let d=!1;const p=this._isInitialized?Promise.resolve():this._initializationPromise;if(wt(p,this,"internal-error"),p.then(()=>{d||c(this.currentUser)}),typeof i=="function"){const _=t.addObserver(i,r,l);return()=>{d=!0,_()}}else{const _=t.addObserver(i);return()=>{d=!0,_()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return wt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=SE(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const i=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();i&&(t["X-Firebase-Client"]=i);const r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){if(Ei(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&uw(`Error while retrieving App Check token: ${t.error}`),t?.token}}function Dh(s){return Ye(s)}class Mv{constructor(t){this.auth=t,this.observer=null,this.addObserver=XS(i=>this.observer=i)}get next(){return wt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ym={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Vw(s){Ym=s}function Uw(s){return Ym.loadJS(s)}function Lw(){return Ym.gapiScript}function kw(s){return`__${s}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pw(s,t){const i=zm(s,"auth");if(i.isInitialized()){const l=i.getImmediate(),c=i.getOptions();if(pa(c,t??{}))return l;Ki(l,"already-initialized")}return i.initialize({options:t})}function jw(s,t){const i=t?.persistence||[],r=(Array.isArray(i)?i:[i]).map(xs);t?.errorMap&&s._updateErrorMap(t.errorMap),s._initializeWithPersistence(r,t?.popupRedirectResolver)}function zw(s,t,i){const r=Dh(s);wt(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const l=!1,c=bE(t),{host:d,port:p}=Bw(t),_=p===null?"":`:${p}`,y={url:`${c}//${d}${_}/`},A=Object.freeze({host:d,port:p,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!r._canInitEmulator){wt(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),wt(pa(y,r.config.emulator)&&pa(A,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=y,r.emulatorConfig=A,r.settings.appVerificationDisabledForTesting=!0,Do(d)?(tE(`${c}//${d}${_}`),eE("Auth",!0)):qw()}function bE(s){const t=s.indexOf(":");return t<0?"":s.substr(0,t+1)}function Bw(s){const t=bE(s),i=/(\/\/)?([^?#/]+)/.exec(s.substr(t.length));if(!i)return{host:"",port:null};const r=i[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(r);if(l){const c=l[1];return{host:c,port:Ov(r.substr(c.length+1))}}else{const[c,d]=r.split(":");return{host:c,port:Ov(d)}}}function Ov(s){if(!s)return null;const t=Number(s);return isNaN(t)?null:t}function qw(){function s(){const t=document.createElement("p"),i=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",s):s())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wE{constructor(t,i){this.providerId=t,this.signInMethod=i}toJSON(){return Rs("not implemented")}_getIdTokenResponse(t){return Rs("not implemented")}_linkToIdToken(t,i){return Rs("not implemented")}_getReauthenticationResolver(t){return Rs("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function To(s,t){return yw(s,"POST","/v1/accounts:signInWithIdp",Fm(s,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hw="http://localhost";class _a extends wE{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const i=new _a(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(i.idToken=t.idToken),t.accessToken&&(i.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(i.nonce=t.nonce),t.pendingToken&&(i.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(i.accessToken=t.oauthToken,i.secret=t.oauthTokenSecret):Ki("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const i=typeof t=="string"?JSON.parse(t):t,{providerId:r,signInMethod:l,...c}=i;if(!r||!l)return null;const d=new _a(r,l);return d.idToken=c.idToken||void 0,d.accessToken=c.accessToken||void 0,d.secret=c.secret,d.nonce=c.nonce,d.pendingToken=c.pendingToken||null,d}_getIdTokenResponse(t){const i=this.buildRequest();return To(t,i)}_linkToIdToken(t,i){const r=this.buildRequest();return r.idToken=i,To(t,r)}_getReauthenticationResolver(t){const i=this.buildRequest();return i.autoCreate=!1,To(t,i)}buildRequest(){const t={requestUri:Hw,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),t.postBody=du(i)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Km{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gu extends Km{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mr extends gu{constructor(){super("facebook.com")}static credential(t){return _a._fromParams({providerId:mr.PROVIDER_ID,signInMethod:mr.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return mr.credentialFromTaggedObject(t)}static credentialFromError(t){return mr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return mr.credential(t.oauthAccessToken)}catch{return null}}}mr.FACEBOOK_SIGN_IN_METHOD="facebook.com";mr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ws extends gu{constructor(){super("google.com"),this.addScope("profile")}static credential(t,i){return _a._fromParams({providerId:ws.PROVIDER_ID,signInMethod:ws.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:i})}static credentialFromResult(t){return ws.credentialFromTaggedObject(t)}static credentialFromError(t){return ws.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:i,oauthAccessToken:r}=t;if(!i&&!r)return null;try{return ws.credential(i,r)}catch{return null}}}ws.GOOGLE_SIGN_IN_METHOD="google.com";ws.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gr extends gu{constructor(){super("github.com")}static credential(t){return _a._fromParams({providerId:gr.PROVIDER_ID,signInMethod:gr.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return gr.credentialFromTaggedObject(t)}static credentialFromError(t){return gr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return gr.credential(t.oauthAccessToken)}catch{return null}}}gr.GITHUB_SIGN_IN_METHOD="github.com";gr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pr extends gu{constructor(){super("twitter.com")}static credential(t,i){return _a._fromParams({providerId:pr.PROVIDER_ID,signInMethod:pr.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:i})}static credentialFromResult(t){return pr.credentialFromTaggedObject(t)}static credentialFromError(t){return pr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:i,oauthTokenSecret:r}=t;if(!i||!r)return null;try{return pr.credential(i,r)}catch{return null}}}pr.TWITTER_SIGN_IN_METHOD="twitter.com";pr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bo{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,i,r,l=!1){const c=await Ti._fromIdTokenResponse(t,r,l),d=Vv(r);return new bo({user:c,providerId:d,_tokenResponse:r,operationType:i})}static async _forOperation(t,i,r){await t._updateTokensIfNecessary(r,!0);const l=Vv(r);return new bo({user:t,providerId:l,_tokenResponse:r,operationType:i})}}function Vv(s){return s.providerId?s.providerId:"phoneNumber"in s?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gh extends Ms{constructor(t,i,r,l){super(i.code,i.message),this.operationType=r,this.user=l,Object.setPrototypeOf(this,gh.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:i.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(t,i,r,l){return new gh(t,i,r,l)}}function RE(s,t,i,r){return(t==="reauthenticate"?i._getReauthenticationResolver(s):i._getIdTokenResponse(s)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?gh._fromErrorAndOperation(s,c,t,r):c})}async function Fw(s,t,i=!1){const r=await nu(s,t._linkToIdToken(s.auth,await s.getIdToken()),i);return bo._forOperation(s,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Gw(s,t,i=!1){const{auth:r}=s;if(Ei(r.app))return Promise.reject(ma(r));const l="reauthenticate";try{const c=await nu(s,RE(r,l,t,s),i);wt(c.idToken,r,"internal-error");const d=Gm(c.idToken);wt(d,r,"internal-error");const{sub:p}=d;return wt(s.uid===p,r,"user-mismatch"),bo._forOperation(s,l,c)}catch(c){throw c?.code==="auth/user-not-found"&&Ki(r,"user-mismatch"),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Qw(s,t,i=!1){if(Ei(s.app))return Promise.reject(ma(s));const r="signIn",l=await RE(s,r,t),c=await bo._fromIdTokenResponse(s,r,l);return i||await s._updateCurrentUser(c.user),c}function Yw(s,t,i,r){return Ye(s).onIdTokenChanged(t,i,r)}function Kw(s,t,i){return Ye(s).beforeAuthStateChanged(t,i)}function Xw(s,t,i,r){return Ye(s).onAuthStateChanged(t,i,r)}function $w(s){return Ye(s).signOut()}const ph="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xE{constructor(t,i){this.storageRetriever=t,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(ph,"1"),this.storage.removeItem(ph),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,i){return this.storage.setItem(t,JSON.stringify(i)),Promise.resolve()}_get(t){const i=this.storage.getItem(t);return Promise.resolve(i?JSON.parse(i):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zw=1e3,Jw=10;class IE extends xE{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,i)=>this.onStorageEvent(t,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=AE(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const i of Object.keys(this.listeners)){const r=this.storage.getItem(i),l=this.localCache[i];r!==l&&t(i,l,r)}}onStorageEvent(t,i=!1){if(!t.key){this.forAllChangedKeys((d,p,_)=>{this.notifyListeners(d,_)});return}const r=t.key;i?this.detachListener():this.stopPolling();const l=()=>{const d=this.storage.getItem(r);!i&&this.localCache[r]===d||this.notifyListeners(r,d)},c=this.storage.getItem(r);Iw()&&c!==t.newValue&&t.newValue!==t.oldValue?setTimeout(l,Jw):l()}notifyListeners(t,i){this.localCache[t]=i;const r=this.listeners[t];if(r)for(const l of Array.from(r))l(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,i,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:i,newValue:r}),!0)})},Zw)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,i){await super._set(t,i),this.localCache[t]=JSON.stringify(i)}async _get(t){const i=await super._get(t);return this.localCache[t]=JSON.stringify(i),i}async _remove(t){await super._remove(t),delete this.localCache[t]}}IE.type="LOCAL";const Ww=IE;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CE extends xE{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,i){}_removeListener(t,i){}}CE.type="SESSION";const NE=CE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tR(s){return Promise.all(s.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(i){return{fulfilled:!1,reason:i}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mh{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const i=this.receivers.find(l=>l.isListeningto(t));if(i)return i;const r=new Mh(t);return this.receivers.push(r),r}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const i=t,{eventId:r,eventType:l,data:c}=i.data,d=this.handlersMap[l];if(!d?.size)return;i.ports[0].postMessage({status:"ack",eventId:r,eventType:l});const p=Array.from(d).map(async y=>y(i.origin,c)),_=await tR(p);i.ports[0].postMessage({status:"done",eventId:r,eventType:l,response:_})}_subscribe(t,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(i)}_unsubscribe(t,i){this.handlersMap[t]&&i&&this.handlersMap[t].delete(i),(!i||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Mh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xm(s="",t=10){let i="";for(let r=0;r<t;r++)i+=Math.floor(Math.random()*10);return s+i}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eR{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,i,r=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let c,d;return new Promise((p,_)=>{const y=Xm("",20);l.port1.start();const A=setTimeout(()=>{_(new Error("unsupported_event"))},r);d={messageChannel:l,onMessage(b){const C=b;if(C.data.eventId===y)switch(C.data.status){case"ack":clearTimeout(A),c=setTimeout(()=>{_(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),p(C.data.response);break;default:clearTimeout(A),clearTimeout(c),_(new Error("invalid_response"));break}}},this.handlers.add(d),l.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:t,eventId:y,data:i},[l.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hi(){return window}function nR(s){Hi().location.href=s}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DE(){return typeof Hi().WorkerGlobalScope<"u"&&typeof Hi().importScripts=="function"}async function iR(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function sR(){return navigator?.serviceWorker?.controller||null}function rR(){return DE()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ME="firebaseLocalStorageDb",aR=1,yh="firebaseLocalStorage",OE="fbase_key";class pu{constructor(t){this.request=t}toPromise(){return new Promise((t,i)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function Oh(s,t){return s.transaction([yh],t?"readwrite":"readonly").objectStore(yh)}function oR(){const s=indexedDB.deleteDatabase(ME);return new pu(s).toPromise()}function vm(){const s=indexedDB.open(ME,aR);return new Promise((t,i)=>{s.addEventListener("error",()=>{i(s.error)}),s.addEventListener("upgradeneeded",()=>{const r=s.result;try{r.createObjectStore(yh,{keyPath:OE})}catch(l){i(l)}}),s.addEventListener("success",async()=>{const r=s.result;r.objectStoreNames.contains(yh)?t(r):(r.close(),await oR(),t(await vm()))})})}async function Uv(s,t,i){const r=Oh(s,!0).put({[OE]:t,value:i});return new pu(r).toPromise()}async function lR(s,t){const i=Oh(s,!1).get(t),r=await new pu(i).toPromise();return r===void 0?null:r.value}function Lv(s,t){const i=Oh(s,!0).delete(t);return new pu(i).toPromise()}const uR=800,cR=3;class VE{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await vm(),this.db)}async _withRetries(t){let i=0;for(;;)try{const r=await this._openDb();return await t(r)}catch(r){if(i++>cR)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return DE()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Mh._getInstance(rR()),this.receiver._subscribe("keyChanged",async(t,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(t,i)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await iR(),!this.activeServiceWorker)return;this.sender=new eR(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||sR()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await vm();return await Uv(t,ph,"1"),await Lv(t,ph),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,i){return this._withPendingWrite(async()=>(await this._withRetries(r=>Uv(r,t,i)),this.localCache[t]=i,this.notifyServiceWorker(t)))}async _get(t){const i=await this._withRetries(r=>lR(r,t));return this.localCache[t]=i,i}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(i=>Lv(i,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(l=>{const c=Oh(l,!1).getAll();return new pu(c).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const i=[],r=new Set;if(t.length!==0)for(const{fbase_key:l,value:c}of t)r.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(c)&&(this.notifyListeners(l,c),i.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!r.has(l)&&(this.notifyListeners(l,null),i.push(l));return i}notifyListeners(t,i){this.localCache[t]=i;const r=this.listeners[t];if(r)for(const l of Array.from(r))l(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),uR)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}VE.type="LOCAL";const hR=VE;new mu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UE(s,t){return t?xs(t):(wt(s._popupRedirectResolver,s,"argument-error"),s._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $m extends wE{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return To(t,this._buildIdpRequest())}_linkToIdToken(t,i){return To(t,this._buildIdpRequest(i))}_getReauthenticationResolver(t){return To(t,this._buildIdpRequest())}_buildIdpRequest(t){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(i.idToken=t),i}}function fR(s){return Qw(s.auth,new $m(s),s.bypassAuthState)}function dR(s){const{auth:t,user:i}=s;return wt(i,t,"internal-error"),Gw(i,new $m(s),s.bypassAuthState)}async function mR(s){const{auth:t,user:i}=s;return wt(i,t,"internal-error"),Fw(i,new $m(s),s.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LE{constructor(t,i,r,l,c=!1){this.auth=t,this.resolver=r,this.user=l,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(t,i)=>{this.pendingPromise={resolve:t,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(t){const{urlResponse:i,sessionId:r,postBody:l,tenantId:c,error:d,type:p}=t;if(d){this.reject(d);return}const _={auth:this.auth,requestUri:i,sessionId:r,tenantId:c||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(p)(_))}catch(y){this.reject(y)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return fR;case"linkViaPopup":case"linkViaRedirect":return mR;case"reauthViaPopup":case"reauthViaRedirect":return dR;default:Ki(this.auth,"internal-error")}}resolve(t){Cs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){Cs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gR=new mu(2e3,1e4);async function pR(s,t,i){if(Ei(s.app))return Promise.reject(Ai(s,"operation-not-supported-in-this-environment"));const r=Dh(s);cw(s,t,Km);const l=UE(r,i);return new fa(r,"signInViaPopup",t,l).executeNotNull()}class fa extends LE{constructor(t,i,r,l,c){super(t,i,l,c),this.provider=r,this.authWindow=null,this.pollId=null,fa.currentPopupAction&&fa.currentPopupAction.cancel(),fa.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return wt(t,this.auth,"internal-error"),t}async onExecution(){Cs(this.filter.length===1,"Popup operations only handle one event");const t=Xm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(Ai(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Ai(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,fa.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ai(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,gR.get())};t()}}fa.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yR="pendingRedirect",nh=new Map;class _R extends LE{constructor(t,i,r=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,r),this.eventId=null}async execute(){let t=nh.get(this.auth._key());if(!t){try{const r=await vR(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(r)}catch(i){t=()=>Promise.reject(i)}nh.set(this.auth._key(),t)}return this.bypassAuthState||nh.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const i=await this.auth._redirectUserForId(t.eventId);if(i)return this.user=i,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function vR(s,t){const i=AR(t),r=TR(s);if(!await r._isAvailable())return!1;const l=await r._get(i)==="true";return await r._remove(i),l}function ER(s,t){nh.set(s._key(),t)}function TR(s){return xs(s._redirectPersistence)}function AR(s){return eh(yR,s.config.apiKey,s.name)}async function SR(s,t,i=!1){if(Ei(s.app))return Promise.reject(ma(s));const r=Dh(s),l=UE(r,t),d=await new _R(r,l,i).execute();return d&&!i&&(delete d.user._redirectEventId,await r._persistUserIfCurrent(d.user),await r._setRedirectUser(null,t)),d}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bR=600*1e3;class wR{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let i=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(t,r)&&(i=!0,this.sendToConsumer(t,r),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!RR(t)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=t,i=!0)),i}sendToConsumer(t,i){if(t.error&&!kE(t)){const r=t.error.code?.split("auth/")[1]||"internal-error";i.onError(Ai(this.auth,r))}else i.onAuthEvent(t)}isEventForConsumer(t,i){const r=i.eventId===null||!!t.eventId&&t.eventId===i.eventId;return i.filter.includes(t.type)&&r}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=bR&&this.cachedEventUids.clear(),this.cachedEventUids.has(kv(t))}saveEventToCache(t){this.cachedEventUids.add(kv(t)),this.lastProcessedEventTime=Date.now()}}function kv(s){return[s.type,s.eventId,s.sessionId,s.tenantId].filter(t=>t).join("-")}function kE({type:s,error:t}){return s==="unknown"&&t?.code==="auth/no-auth-event"}function RR(s){switch(s.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return kE(s);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xR(s,t={}){return Oo(s,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IR=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,CR=/^https?/;async function NR(s){if(s.config.emulator)return;const{authorizedDomains:t}=await xR(s);for(const i of t)try{if(DR(i))return}catch{}Ki(s,"unauthorized-domain")}function DR(s){const t=ym(),{protocol:i,hostname:r}=new URL(t);if(s.startsWith("chrome-extension://")){const d=new URL(s);return d.hostname===""&&r===""?i==="chrome-extension:"&&s.replace("chrome-extension://","")===t.replace("chrome-extension://",""):i==="chrome-extension:"&&d.hostname===r}if(!CR.test(i))return!1;if(IR.test(s))return r===s;const l=s.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MR=new mu(3e4,6e4);function Pv(){const s=Hi().___jsl;if(s?.H){for(const t of Object.keys(s.H))if(s.H[t].r=s.H[t].r||[],s.H[t].L=s.H[t].L||[],s.H[t].r=[...s.H[t].L],s.CP)for(let i=0;i<s.CP.length;i++)s.CP[i]=null}}function OR(s){return new Promise((t,i)=>{function r(){Pv(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{Pv(),i(Ai(s,"network-request-failed"))},timeout:MR.get()})}if(Hi().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(Hi().gapi?.load)r();else{const l=kw("iframefcb");return Hi()[l]=()=>{gapi.load?r():i(Ai(s,"network-request-failed"))},Uw(`${Lw()}?onload=${l}`).catch(c=>i(c))}}).catch(t=>{throw ih=null,t})}let ih=null;function VR(s){return ih=ih||OR(s),ih}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UR=new mu(5e3,15e3),LR="__/auth/iframe",kR="emulator/auth/iframe",PR={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},jR=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function zR(s){const t=s.config;wt(t.authDomain,s,"auth-domain-config-required");const i=t.emulator?Hm(t,kR):`https://${s.config.authDomain}/${LR}`,r={apiKey:t.apiKey,appName:s.name,v:Mo},l=jR.get(s.config.apiHost);l&&(r.eid=l);const c=s._getFrameworks();return c.length&&(r.fw=c.join(",")),`${i}?${du(r).slice(1)}`}async function BR(s){const t=await VR(s),i=Hi().gapi;return wt(i,s,"internal-error"),t.open({where:document.body,url:zR(s),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:PR,dontclear:!0},r=>new Promise(async(l,c)=>{await r.restyle({setHideOnLeave:!1});const d=Ai(s,"network-request-failed"),p=Hi().setTimeout(()=>{c(d)},UR.get());function _(){Hi().clearTimeout(p),l(r)}r.ping(_).then(_,()=>{c(d)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qR={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},HR=500,FR=600,GR="_blank",QR="http://localhost";class jv{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function YR(s,t,i,r=HR,l=FR){const c=Math.max((window.screen.availHeight-l)/2,0).toString(),d=Math.max((window.screen.availWidth-r)/2,0).toString();let p="";const _={...qR,width:r.toString(),height:l.toString(),top:c,left:d},y=yn().toLowerCase();i&&(p=yE(y)?GR:i),gE(y)&&(t=t||QR,_.scrollbars="yes");const A=Object.entries(_).reduce((C,[G,et])=>`${C}${G}=${et},`,"");if(xw(y)&&p!=="_self")return KR(t||"",p),new jv(null);const b=window.open(t||"",p,A);wt(b,s,"popup-blocked");try{b.focus()}catch{}return new jv(b)}function KR(s,t){const i=document.createElement("a");i.href=s,i.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XR="__/auth/handler",$R="emulator/auth/handler",ZR=encodeURIComponent("fac");async function zv(s,t,i,r,l,c){wt(s.config.authDomain,s,"auth-domain-config-required"),wt(s.config.apiKey,s,"invalid-api-key");const d={apiKey:s.config.apiKey,appName:s.name,authType:i,redirectUrl:r,v:Mo,eventId:l};if(t instanceof Km){t.setDefaultLanguage(s.languageCode),d.providerId=t.providerId||"",KS(t.getCustomParameters())||(d.customParameters=JSON.stringify(t.getCustomParameters()));for(const[A,b]of Object.entries({}))d[A]=b}if(t instanceof gu){const A=t.getScopes().filter(b=>b!=="");A.length>0&&(d.scopes=A.join(","))}s.tenantId&&(d.tid=s.tenantId);const p=d;for(const A of Object.keys(p))p[A]===void 0&&delete p[A];const _=await s._getAppCheckToken(),y=_?`#${ZR}=${encodeURIComponent(_)}`:"";return`${JR(s)}?${du(p).slice(1)}${y}`}function JR({config:s}){return s.emulator?Hm(s,$R):`https://${s.authDomain}/${XR}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rm="webStorageSupport";class WR{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=NE,this._completeRedirectFn=SR,this._overrideRedirectResult=ER}async _openPopup(t,i,r,l){Cs(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const c=await zv(t,i,r,ym(),l);return YR(t,c,Xm())}async _openRedirect(t,i,r,l){await this._originValidation(t);const c=await zv(t,i,r,ym(),l);return nR(c),new Promise(()=>{})}_initialize(t){const i=t._key();if(this.eventManagers[i]){const{manager:l,promise:c}=this.eventManagers[i];return l?Promise.resolve(l):(Cs(c,"If manager is not set, promise should be"),c)}const r=this.initAndGetManager(t);return this.eventManagers[i]={promise:r},r.catch(()=>{delete this.eventManagers[i]}),r}async initAndGetManager(t){const i=await BR(t),r=new wR(t);return i.register("authEvent",l=>(wt(l?.authEvent,t,"invalid-auth-event"),{status:r.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=i,r}_isIframeWebStorageSupported(t,i){this.iframes[t._key()].send(rm,{type:rm},l=>{const c=l?.[0]?.[rm];c!==void 0&&i(!!c),Ki(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const i=t._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=NR(t)),this.originValidationPromises[i]}get _shouldInitProactively(){return AE()||pE()||Qm()}}const t2=WR;var Bv="@firebase/auth",qv="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e2{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const i=this.auth.onIdTokenChanged(r=>{t(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,i),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const i=this.internalListeners.get(t);i&&(this.internalListeners.delete(t),i(),this.updateProactiveRefresh())}assertAuthConfigured(){wt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n2(s){switch(s){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function i2(s){So(new ya("auth",(t,{options:i})=>{const r=t.getProvider("app").getImmediate(),l=t.getProvider("heartbeat"),c=t.getProvider("app-check-internal"),{apiKey:d,authDomain:p}=r.options;wt(d&&!d.includes(":"),"invalid-api-key",{appName:r.name});const _={apiKey:d,authDomain:p,clientPlatform:s,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:SE(s)},y=new Ow(r,l,c,_);return jw(y,i),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,i,r)=>{t.getProvider("auth-internal").initialize()})),So(new ya("auth-internal",t=>{const i=Dh(t.getProvider("auth").getImmediate());return(r=>new e2(r))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),Er(Bv,qv,n2(s)),Er(Bv,qv,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s2=300,r2=W0("authIdTokenMaxAge")||s2;let Hv=null;const a2=s=>async t=>{const i=t&&await t.getIdTokenResult(),r=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(r&&r>r2)return;const l=i?.token;Hv!==l&&(Hv=l,await fetch(s,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function o2(s=rE()){const t=zm(s,"auth");if(t.isInitialized())return t.getImmediate();const i=Pw(s,{popupRedirectResolver:t2,persistence:[hR,Ww,NE]}),r=W0("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(r,location.origin);if(location.origin===c.origin){const d=a2(c.toString());Kw(i,d,()=>d(i.currentUser)),Yw(i,p=>d(p))}}const l=Z0("auth");return l&&zw(i,`http://${l}`),i}function l2(){return document.getElementsByTagName("head")?.[0]??document}Vw({loadJS(s){return new Promise((t,i)=>{const r=document.createElement("script");r.setAttribute("src",s),r.onload=t,r.onerror=l=>{const c=Ai("internal-error");c.customData=l,i(c)},r.type="text/javascript",r.charset="UTF-8",l2().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});i2("Browser");var Fv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Tr,PE;(function(){var s;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(N,w){function x(){}x.prototype=w.prototype,N.F=w.prototype,N.prototype=new x,N.prototype.constructor=N,N.D=function(U,M,L){for(var R=Array(arguments.length-2),de=2;de<arguments.length;de++)R[de-2]=arguments[de];return w.prototype[M].apply(U,R)}}function i(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(r,i),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(N,w,x){x||(x=0);const U=Array(16);if(typeof w=="string")for(var M=0;M<16;++M)U[M]=w.charCodeAt(x++)|w.charCodeAt(x++)<<8|w.charCodeAt(x++)<<16|w.charCodeAt(x++)<<24;else for(M=0;M<16;++M)U[M]=w[x++]|w[x++]<<8|w[x++]<<16|w[x++]<<24;w=N.g[0],x=N.g[1],M=N.g[2];let L=N.g[3],R;R=w+(L^x&(M^L))+U[0]+3614090360&4294967295,w=x+(R<<7&4294967295|R>>>25),R=L+(M^w&(x^M))+U[1]+3905402710&4294967295,L=w+(R<<12&4294967295|R>>>20),R=M+(x^L&(w^x))+U[2]+606105819&4294967295,M=L+(R<<17&4294967295|R>>>15),R=x+(w^M&(L^w))+U[3]+3250441966&4294967295,x=M+(R<<22&4294967295|R>>>10),R=w+(L^x&(M^L))+U[4]+4118548399&4294967295,w=x+(R<<7&4294967295|R>>>25),R=L+(M^w&(x^M))+U[5]+1200080426&4294967295,L=w+(R<<12&4294967295|R>>>20),R=M+(x^L&(w^x))+U[6]+2821735955&4294967295,M=L+(R<<17&4294967295|R>>>15),R=x+(w^M&(L^w))+U[7]+4249261313&4294967295,x=M+(R<<22&4294967295|R>>>10),R=w+(L^x&(M^L))+U[8]+1770035416&4294967295,w=x+(R<<7&4294967295|R>>>25),R=L+(M^w&(x^M))+U[9]+2336552879&4294967295,L=w+(R<<12&4294967295|R>>>20),R=M+(x^L&(w^x))+U[10]+4294925233&4294967295,M=L+(R<<17&4294967295|R>>>15),R=x+(w^M&(L^w))+U[11]+2304563134&4294967295,x=M+(R<<22&4294967295|R>>>10),R=w+(L^x&(M^L))+U[12]+1804603682&4294967295,w=x+(R<<7&4294967295|R>>>25),R=L+(M^w&(x^M))+U[13]+4254626195&4294967295,L=w+(R<<12&4294967295|R>>>20),R=M+(x^L&(w^x))+U[14]+2792965006&4294967295,M=L+(R<<17&4294967295|R>>>15),R=x+(w^M&(L^w))+U[15]+1236535329&4294967295,x=M+(R<<22&4294967295|R>>>10),R=w+(M^L&(x^M))+U[1]+4129170786&4294967295,w=x+(R<<5&4294967295|R>>>27),R=L+(x^M&(w^x))+U[6]+3225465664&4294967295,L=w+(R<<9&4294967295|R>>>23),R=M+(w^x&(L^w))+U[11]+643717713&4294967295,M=L+(R<<14&4294967295|R>>>18),R=x+(L^w&(M^L))+U[0]+3921069994&4294967295,x=M+(R<<20&4294967295|R>>>12),R=w+(M^L&(x^M))+U[5]+3593408605&4294967295,w=x+(R<<5&4294967295|R>>>27),R=L+(x^M&(w^x))+U[10]+38016083&4294967295,L=w+(R<<9&4294967295|R>>>23),R=M+(w^x&(L^w))+U[15]+3634488961&4294967295,M=L+(R<<14&4294967295|R>>>18),R=x+(L^w&(M^L))+U[4]+3889429448&4294967295,x=M+(R<<20&4294967295|R>>>12),R=w+(M^L&(x^M))+U[9]+568446438&4294967295,w=x+(R<<5&4294967295|R>>>27),R=L+(x^M&(w^x))+U[14]+3275163606&4294967295,L=w+(R<<9&4294967295|R>>>23),R=M+(w^x&(L^w))+U[3]+4107603335&4294967295,M=L+(R<<14&4294967295|R>>>18),R=x+(L^w&(M^L))+U[8]+1163531501&4294967295,x=M+(R<<20&4294967295|R>>>12),R=w+(M^L&(x^M))+U[13]+2850285829&4294967295,w=x+(R<<5&4294967295|R>>>27),R=L+(x^M&(w^x))+U[2]+4243563512&4294967295,L=w+(R<<9&4294967295|R>>>23),R=M+(w^x&(L^w))+U[7]+1735328473&4294967295,M=L+(R<<14&4294967295|R>>>18),R=x+(L^w&(M^L))+U[12]+2368359562&4294967295,x=M+(R<<20&4294967295|R>>>12),R=w+(x^M^L)+U[5]+4294588738&4294967295,w=x+(R<<4&4294967295|R>>>28),R=L+(w^x^M)+U[8]+2272392833&4294967295,L=w+(R<<11&4294967295|R>>>21),R=M+(L^w^x)+U[11]+1839030562&4294967295,M=L+(R<<16&4294967295|R>>>16),R=x+(M^L^w)+U[14]+4259657740&4294967295,x=M+(R<<23&4294967295|R>>>9),R=w+(x^M^L)+U[1]+2763975236&4294967295,w=x+(R<<4&4294967295|R>>>28),R=L+(w^x^M)+U[4]+1272893353&4294967295,L=w+(R<<11&4294967295|R>>>21),R=M+(L^w^x)+U[7]+4139469664&4294967295,M=L+(R<<16&4294967295|R>>>16),R=x+(M^L^w)+U[10]+3200236656&4294967295,x=M+(R<<23&4294967295|R>>>9),R=w+(x^M^L)+U[13]+681279174&4294967295,w=x+(R<<4&4294967295|R>>>28),R=L+(w^x^M)+U[0]+3936430074&4294967295,L=w+(R<<11&4294967295|R>>>21),R=M+(L^w^x)+U[3]+3572445317&4294967295,M=L+(R<<16&4294967295|R>>>16),R=x+(M^L^w)+U[6]+76029189&4294967295,x=M+(R<<23&4294967295|R>>>9),R=w+(x^M^L)+U[9]+3654602809&4294967295,w=x+(R<<4&4294967295|R>>>28),R=L+(w^x^M)+U[12]+3873151461&4294967295,L=w+(R<<11&4294967295|R>>>21),R=M+(L^w^x)+U[15]+530742520&4294967295,M=L+(R<<16&4294967295|R>>>16),R=x+(M^L^w)+U[2]+3299628645&4294967295,x=M+(R<<23&4294967295|R>>>9),R=w+(M^(x|~L))+U[0]+4096336452&4294967295,w=x+(R<<6&4294967295|R>>>26),R=L+(x^(w|~M))+U[7]+1126891415&4294967295,L=w+(R<<10&4294967295|R>>>22),R=M+(w^(L|~x))+U[14]+2878612391&4294967295,M=L+(R<<15&4294967295|R>>>17),R=x+(L^(M|~w))+U[5]+4237533241&4294967295,x=M+(R<<21&4294967295|R>>>11),R=w+(M^(x|~L))+U[12]+1700485571&4294967295,w=x+(R<<6&4294967295|R>>>26),R=L+(x^(w|~M))+U[3]+2399980690&4294967295,L=w+(R<<10&4294967295|R>>>22),R=M+(w^(L|~x))+U[10]+4293915773&4294967295,M=L+(R<<15&4294967295|R>>>17),R=x+(L^(M|~w))+U[1]+2240044497&4294967295,x=M+(R<<21&4294967295|R>>>11),R=w+(M^(x|~L))+U[8]+1873313359&4294967295,w=x+(R<<6&4294967295|R>>>26),R=L+(x^(w|~M))+U[15]+4264355552&4294967295,L=w+(R<<10&4294967295|R>>>22),R=M+(w^(L|~x))+U[6]+2734768916&4294967295,M=L+(R<<15&4294967295|R>>>17),R=x+(L^(M|~w))+U[13]+1309151649&4294967295,x=M+(R<<21&4294967295|R>>>11),R=w+(M^(x|~L))+U[4]+4149444226&4294967295,w=x+(R<<6&4294967295|R>>>26),R=L+(x^(w|~M))+U[11]+3174756917&4294967295,L=w+(R<<10&4294967295|R>>>22),R=M+(w^(L|~x))+U[2]+718787259&4294967295,M=L+(R<<15&4294967295|R>>>17),R=x+(L^(M|~w))+U[9]+3951481745&4294967295,N.g[0]=N.g[0]+w&4294967295,N.g[1]=N.g[1]+(M+(R<<21&4294967295|R>>>11))&4294967295,N.g[2]=N.g[2]+M&4294967295,N.g[3]=N.g[3]+L&4294967295}r.prototype.v=function(N,w){w===void 0&&(w=N.length);const x=w-this.blockSize,U=this.C;let M=this.h,L=0;for(;L<w;){if(M==0)for(;L<=x;)l(this,N,L),L+=this.blockSize;if(typeof N=="string"){for(;L<w;)if(U[M++]=N.charCodeAt(L++),M==this.blockSize){l(this,U),M=0;break}}else for(;L<w;)if(U[M++]=N[L++],M==this.blockSize){l(this,U),M=0;break}}this.h=M,this.o+=w},r.prototype.A=function(){var N=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);N[0]=128;for(var w=1;w<N.length-8;++w)N[w]=0;w=this.o*8;for(var x=N.length-8;x<N.length;++x)N[x]=w&255,w/=256;for(this.v(N),N=Array(16),w=0,x=0;x<4;++x)for(let U=0;U<32;U+=8)N[w++]=this.g[x]>>>U&255;return N};function c(N,w){var x=p;return Object.prototype.hasOwnProperty.call(x,N)?x[N]:x[N]=w(N)}function d(N,w){this.h=w;const x=[];let U=!0;for(let M=N.length-1;M>=0;M--){const L=N[M]|0;U&&L==w||(x[M]=L,U=!1)}this.g=x}var p={};function _(N){return-128<=N&&N<128?c(N,function(w){return new d([w|0],w<0?-1:0)}):new d([N|0],N<0?-1:0)}function y(N){if(isNaN(N)||!isFinite(N))return b;if(N<0)return it(y(-N));const w=[];let x=1;for(let U=0;N>=x;U++)w[U]=N/x|0,x*=4294967296;return new d(w,0)}function A(N,w){if(N.length==0)throw Error("number format error: empty string");if(w=w||10,w<2||36<w)throw Error("radix out of range: "+w);if(N.charAt(0)=="-")return it(A(N.substring(1),w));if(N.indexOf("-")>=0)throw Error('number format error: interior "-" character');const x=y(Math.pow(w,8));let U=b;for(let L=0;L<N.length;L+=8){var M=Math.min(8,N.length-L);const R=parseInt(N.substring(L,L+M),w);M<8?(M=y(Math.pow(w,M)),U=U.j(M).add(y(R))):(U=U.j(x),U=U.add(y(R)))}return U}var b=_(0),C=_(1),G=_(16777216);s=d.prototype,s.m=function(){if(ot(this))return-it(this).m();let N=0,w=1;for(let x=0;x<this.g.length;x++){const U=this.i(x);N+=(U>=0?U:4294967296+U)*w,w*=4294967296}return N},s.toString=function(N){if(N=N||10,N<2||36<N)throw Error("radix out of range: "+N);if(et(this))return"0";if(ot(this))return"-"+it(this).toString(N);const w=y(Math.pow(N,6));var x=this;let U="";for(;;){const M=Zt(x,w).g;x=_t(x,M.j(w));let L=((x.g.length>0?x.g[0]:x.h)>>>0).toString(N);if(x=M,et(x))return L+U;for(;L.length<6;)L="0"+L;U=L+U}},s.i=function(N){return N<0?0:N<this.g.length?this.g[N]:this.h};function et(N){if(N.h!=0)return!1;for(let w=0;w<N.g.length;w++)if(N.g[w]!=0)return!1;return!0}function ot(N){return N.h==-1}s.l=function(N){return N=_t(this,N),ot(N)?-1:et(N)?0:1};function it(N){const w=N.g.length,x=[];for(let U=0;U<w;U++)x[U]=~N.g[U];return new d(x,~N.h).add(C)}s.abs=function(){return ot(this)?it(this):this},s.add=function(N){const w=Math.max(this.g.length,N.g.length),x=[];let U=0;for(let M=0;M<=w;M++){let L=U+(this.i(M)&65535)+(N.i(M)&65535),R=(L>>>16)+(this.i(M)>>>16)+(N.i(M)>>>16);U=R>>>16,L&=65535,R&=65535,x[M]=R<<16|L}return new d(x,x[x.length-1]&-2147483648?-1:0)};function _t(N,w){return N.add(it(w))}s.j=function(N){if(et(this)||et(N))return b;if(ot(this))return ot(N)?it(this).j(it(N)):it(it(this).j(N));if(ot(N))return it(this.j(it(N)));if(this.l(G)<0&&N.l(G)<0)return y(this.m()*N.m());const w=this.g.length+N.g.length,x=[];for(var U=0;U<2*w;U++)x[U]=0;for(U=0;U<this.g.length;U++)for(let M=0;M<N.g.length;M++){const L=this.i(U)>>>16,R=this.i(U)&65535,de=N.i(M)>>>16,Se=N.i(M)&65535;x[2*U+2*M]+=R*Se,Rt(x,2*U+2*M),x[2*U+2*M+1]+=L*Se,Rt(x,2*U+2*M+1),x[2*U+2*M+1]+=R*de,Rt(x,2*U+2*M+1),x[2*U+2*M+2]+=L*de,Rt(x,2*U+2*M+2)}for(N=0;N<w;N++)x[N]=x[2*N+1]<<16|x[2*N];for(N=w;N<2*w;N++)x[N]=0;return new d(x,0)};function Rt(N,w){for(;(N[w]&65535)!=N[w];)N[w+1]+=N[w]>>>16,N[w]&=65535,w++}function Tt(N,w){this.g=N,this.h=w}function Zt(N,w){if(et(w))throw Error("division by zero");if(et(N))return new Tt(b,b);if(ot(N))return w=Zt(it(N),w),new Tt(it(w.g),it(w.h));if(ot(w))return w=Zt(N,it(w)),new Tt(it(w.g),w.h);if(N.g.length>30){if(ot(N)||ot(w))throw Error("slowDivide_ only works with positive integers.");for(var x=C,U=w;U.l(N)<=0;)x=ie(x),U=ie(U);var M=Gt(x,1),L=Gt(U,1);for(U=Gt(U,2),x=Gt(x,2);!et(U);){var R=L.add(U);R.l(N)<=0&&(M=M.add(x),L=R),U=Gt(U,1),x=Gt(x,1)}return w=_t(N,M.j(w)),new Tt(M,w)}for(M=b;N.l(w)>=0;){for(x=Math.max(1,Math.floor(N.m()/w.m())),U=Math.ceil(Math.log(x)/Math.LN2),U=U<=48?1:Math.pow(2,U-48),L=y(x),R=L.j(w);ot(R)||R.l(N)>0;)x-=U,L=y(x),R=L.j(w);et(L)&&(L=C),M=M.add(L),N=_t(N,R)}return new Tt(M,N)}s.B=function(N){return Zt(this,N).h},s.and=function(N){const w=Math.max(this.g.length,N.g.length),x=[];for(let U=0;U<w;U++)x[U]=this.i(U)&N.i(U);return new d(x,this.h&N.h)},s.or=function(N){const w=Math.max(this.g.length,N.g.length),x=[];for(let U=0;U<w;U++)x[U]=this.i(U)|N.i(U);return new d(x,this.h|N.h)},s.xor=function(N){const w=Math.max(this.g.length,N.g.length),x=[];for(let U=0;U<w;U++)x[U]=this.i(U)^N.i(U);return new d(x,this.h^N.h)};function ie(N){const w=N.g.length+1,x=[];for(let U=0;U<w;U++)x[U]=N.i(U)<<1|N.i(U-1)>>>31;return new d(x,N.h)}function Gt(N,w){const x=w>>5;w%=32;const U=N.g.length-x,M=[];for(let L=0;L<U;L++)M[L]=w>0?N.i(L+x)>>>w|N.i(L+x+1)<<32-w:N.i(L+x);return new d(M,N.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,PE=r,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=y,d.fromString=A,Tr=d}).apply(typeof Fv<"u"?Fv:typeof self<"u"?self:typeof window<"u"?window:{});var Kc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var jE,Fl,zE,sh,Em,BE,qE,HE;(function(){var s,t=Object.defineProperty;function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Kc=="object"&&Kc];for(var m=0;m<u.length;++m){var v=u[m];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var r=i(this);function l(u,m){if(m)t:{var v=r;u=u.split(".");for(var T=0;T<u.length-1;T++){var P=u[T];if(!(P in v))break t;v=v[P]}u=u[u.length-1],T=v[u],m=m(T),m!=T&&m!=null&&t(v,u,{configurable:!0,writable:!0,value:m})}}l("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),l("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),l("Object.entries",function(u){return u||function(m){var v=[],T;for(T in m)Object.prototype.hasOwnProperty.call(m,T)&&v.push([T,m[T]]);return v}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var c=c||{},d=this||self;function p(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function _(u,m,v){return u.call.apply(u.bind,arguments)}function y(u,m,v){return y=_,y.apply(null,arguments)}function A(u,m){var v=Array.prototype.slice.call(arguments,1);return function(){var T=v.slice();return T.push.apply(T,arguments),u.apply(this,T)}}function b(u,m){function v(){}v.prototype=m.prototype,u.Z=m.prototype,u.prototype=new v,u.prototype.constructor=u,u.Ob=function(T,P,q){for(var rt=Array(arguments.length-2),Nt=2;Nt<arguments.length;Nt++)rt[Nt-2]=arguments[Nt];return m.prototype[P].apply(T,rt)}}var C=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function G(u){const m=u.length;if(m>0){const v=Array(m);for(let T=0;T<m;T++)v[T]=u[T];return v}return[]}function et(u,m){for(let T=1;T<arguments.length;T++){const P=arguments[T];var v=typeof P;if(v=v!="object"?v:P?Array.isArray(P)?"array":v:"null",v=="array"||v=="object"&&typeof P.length=="number"){v=u.length||0;const q=P.length||0;u.length=v+q;for(let rt=0;rt<q;rt++)u[v+rt]=P[rt]}else u.push(P)}}class ot{constructor(m,v){this.i=m,this.j=v,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function it(u){d.setTimeout(()=>{throw u},0)}function _t(){var u=N;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class Rt{constructor(){this.h=this.g=null}add(m,v){const T=Tt.get();T.set(m,v),this.h?this.h.next=T:this.g=T,this.h=T}}var Tt=new ot(()=>new Zt,u=>u.reset());class Zt{constructor(){this.next=this.g=this.h=null}set(m,v){this.h=m,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let ie,Gt=!1,N=new Rt,w=()=>{const u=Promise.resolve(void 0);ie=()=>{u.then(x)}};function x(){for(var u;u=_t();){try{u.h.call(u.g)}catch(v){it(v)}var m=Tt;m.j(u),m.h<100&&(m.h++,u.next=m.g,m.g=u)}Gt=!1}function U(){this.u=this.u,this.C=this.C}U.prototype.u=!1,U.prototype.dispose=function(){this.u||(this.u=!0,this.N())},U.prototype[Symbol.dispose]=function(){this.dispose()},U.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function M(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}M.prototype.h=function(){this.defaultPrevented=!0};var L=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const v=()=>{};d.addEventListener("test",v,m),d.removeEventListener("test",v,m)}catch{}return u})();function R(u){return/^[\s\xa0]*$/.test(u)}function de(u,m){M.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,m)}b(de,M),de.prototype.init=function(u,m){const v=this.type=u.type,T=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget,m||(v=="mouseover"?m=u.fromElement:v=="mouseout"&&(m=u.toElement)),this.relatedTarget=m,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&de.Z.h.call(this)},de.prototype.h=function(){de.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var Se="closure_listenable_"+(Math.random()*1e6|0),Q=0;function at(u,m,v,T,P){this.listener=u,this.proxy=null,this.src=m,this.type=v,this.capture=!!T,this.ha=P,this.key=++Q,this.da=this.fa=!1}function yt(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Kt(u,m,v){for(const T in u)m.call(v,u[T],T,u)}function te(u,m){for(const v in u)m.call(void 0,u[v],v,u)}function V(u){const m={};for(const v in u)m[v]=u[v];return m}const F="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function st(u,m){let v,T;for(let P=1;P<arguments.length;P++){T=arguments[P];for(v in T)u[v]=T[v];for(let q=0;q<F.length;q++)v=F[q],Object.prototype.hasOwnProperty.call(T,v)&&(u[v]=T[v])}}function J(u){this.src=u,this.g={},this.h=0}J.prototype.add=function(u,m,v,T,P){const q=u.toString();u=this.g[q],u||(u=this.g[q]=[],this.h++);const rt=It(u,m,T,P);return rt>-1?(m=u[rt],v||(m.fa=!1)):(m=new at(m,this.src,q,!!T,P),m.fa=v,u.push(m)),m};function At(u,m){const v=m.type;if(v in u.g){var T=u.g[v],P=Array.prototype.indexOf.call(T,m,void 0),q;(q=P>=0)&&Array.prototype.splice.call(T,P,1),q&&(yt(m),u.g[v].length==0&&(delete u.g[v],u.h--))}}function It(u,m,v,T){for(let P=0;P<u.length;++P){const q=u[P];if(!q.da&&q.listener==m&&q.capture==!!v&&q.ha==T)return P}return-1}var Vt="closure_lm_"+(Math.random()*1e6|0),me={};function ge(u,m,v,T,P){if(Array.isArray(m)){for(let q=0;q<m.length;q++)ge(u,m[q],v,T,P);return null}return v=Ji(v),u&&u[Se]?u.J(m,v,p(T)?!!T.capture:!1,P):$n(u,m,v,!1,T,P)}function $n(u,m,v,T,P,q){if(!m)throw Error("Invalid event type");const rt=p(P)?!!P.capture:!!P;let Nt=wi(u);if(Nt||(u[Vt]=Nt=new J(u)),v=Nt.add(m,v,T,rt,q),v.proxy)return v;if(T=dn(),v.proxy=T,T.src=u,T.listener=v,u.addEventListener)L||(P=rt),P===void 0&&(P=!1),u.addEventListener(m.toString(),T,P);else if(u.attachEvent)u.attachEvent(Zn(m.toString()),T);else if(u.addListener&&u.removeListener)u.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return v}function dn(){function u(v){return m.call(u.src,u.listener,v)}const m=bi;return u}function Zi(u,m,v,T,P){if(Array.isArray(m))for(var q=0;q<m.length;q++)Zi(u,m[q],v,T,P);else T=p(T)?!!T.capture:!!T,v=Ji(v),u&&u[Se]?(u=u.i,q=String(m).toString(),q in u.g&&(m=u.g[q],v=It(m,v,T,P),v>-1&&(yt(m[v]),Array.prototype.splice.call(m,v,1),m.length==0&&(delete u.g[q],u.h--)))):u&&(u=wi(u))&&(m=u.g[m.toString()],u=-1,m&&(u=It(m,v,T,P)),(v=u>-1?m[u]:null)&&Ot(v))}function Ot(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[Se])At(m.i,u);else{var v=u.type,T=u.proxy;m.removeEventListener?m.removeEventListener(v,T,u.capture):m.detachEvent?m.detachEvent(Zn(v),T):m.addListener&&m.removeListener&&m.removeListener(T),(v=wi(m))?(At(v,u),v.h==0&&(v.src=null,m[Vt]=null)):yt(u)}}}function Zn(u){return u in me?me[u]:me[u]="on"+u}function bi(u,m){if(u.da)u=!0;else{m=new de(m,this);const v=u.listener,T=u.ha||u.src;u.fa&&Ot(u),u=v.call(T,m)}return u}function wi(u){return u=u[Vt],u instanceof J?u:null}var Os="__closure_events_fn_"+(Math.random()*1e9>>>0);function Ji(u){return typeof u=="function"?u:(u[Os]||(u[Os]=function(m){return u.handleEvent(m)}),u[Os])}function Ce(){U.call(this),this.i=new J(this),this.M=this,this.G=null}b(Ce,U),Ce.prototype[Se]=!0,Ce.prototype.removeEventListener=function(u,m,v,T){Zi(this,u,m,v,T)};function Me(u,m){var v,T=u.G;if(T)for(v=[];T;T=T.G)v.push(T);if(u=u.M,T=m.type||m,typeof m=="string")m=new M(m,u);else if(m instanceof M)m.target=m.target||u;else{var P=m;m=new M(T,u),st(m,P)}P=!0;let q,rt;if(v)for(rt=v.length-1;rt>=0;rt--)q=m.g=v[rt],P=Ri(q,T,!0,m)&&P;if(q=m.g=u,P=Ri(q,T,!0,m)&&P,P=Ri(q,T,!1,m)&&P,v)for(rt=0;rt<v.length;rt++)q=m.g=v[rt],P=Ri(q,T,!1,m)&&P}Ce.prototype.N=function(){if(Ce.Z.N.call(this),this.i){var u=this.i;for(const m in u.g){const v=u.g[m];for(let T=0;T<v.length;T++)yt(v[T]);delete u.g[m],u.h--}}this.G=null},Ce.prototype.J=function(u,m,v,T){return this.i.add(String(u),m,!1,v,T)},Ce.prototype.K=function(u,m,v,T){return this.i.add(String(u),m,!0,v,T)};function Ri(u,m,v,T){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();let P=!0;for(let q=0;q<m.length;++q){const rt=m[q];if(rt&&!rt.da&&rt.capture==v){const Nt=rt.listener,Ve=rt.ha||rt.src;rt.fa&&At(u.i,rt),P=Nt.call(Ve,T)!==!1&&P}}return P&&!T.defaultPrevented}function jo(u,m){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=y(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(u,m||0)}function Vs(u){u.g=jo(()=>{u.g=null,u.i&&(u.i=!1,Vs(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class nn extends U{constructor(m,v){super(),this.m=m,this.l=v,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:Vs(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Wi(u){U.call(this),this.h=u,this.g={}}b(Wi,U);var Vr=[];function Ur(u){Kt(u.g,function(m,v){this.g.hasOwnProperty(v)&&Ot(m)},u),u.g={}}Wi.prototype.N=function(){Wi.Z.N.call(this),Ur(this)},Wi.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var _n=d.JSON.stringify,Us=d.JSON.parse,Lr=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function kr(){}function Sa(){}var Sn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Ke(){M.call(this,"d")}b(Ke,M);function bn(){M.call(this,"c")}b(bn,M);var be={},ts=null;function es(){return ts=ts||new Ce}be.Ia="serverreachability";function ba(u){M.call(this,be.Ia,u)}b(ba,M);function wn(u){const m=es();Me(m,new ba(m))}be.STAT_EVENT="statevent";function ns(u,m){M.call(this,be.STAT_EVENT,u),this.stat=m}b(ns,M);function we(u){const m=es();Me(m,new ns(m,u))}be.Ja="timingevent";function Vn(u,m){M.call(this,be.Ja,u),this.size=m}b(Vn,M);function Jn(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},m)}function Un(){this.g=!0}Un.prototype.ua=function(){this.g=!1};function zo(u,m,v,T,P,q){u.info(function(){if(u.g)if(q){var rt="",Nt=q.split("&");for(let ee=0;ee<Nt.length;ee++){var Ve=Nt[ee].split("=");if(Ve.length>1){const Te=Ve[0];Ve=Ve[1];const ii=Te.split("_");rt=ii.length>=2&&ii[1]=="type"?rt+(Te+"="+Ve+"&"):rt+(Te+"=redacted&")}}}else rt=null;else rt=q;return"XMLHTTP REQ ("+T+") [attempt "+P+"]: "+m+`
`+v+`
`+rt})}function wa(u,m,v,T,P,q,rt){u.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+P+"]: "+m+`
`+v+`
`+q+" "+rt})}function Wn(u,m,v,T){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+Bo(u,v)+(T?" "+T:"")})}function is(u,m){u.info(function(){return"TIMEOUT: "+m})}Un.prototype.info=function(){};function Bo(u,m){if(!u.g)return m;if(!m)return null;try{const q=JSON.parse(m);if(q){for(u=0;u<q.length;u++)if(Array.isArray(q[u])){var v=q[u];if(!(v.length<2)){var T=v[1];if(Array.isArray(T)&&!(T.length<1)){var P=T[0];if(P!="noop"&&P!="stop"&&P!="close")for(let rt=1;rt<T.length;rt++)T[rt]=""}}}}return _n(q)}catch{return m}}var ss={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Pr={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},jr;function D(){}b(D,kr),D.prototype.g=function(){return new XMLHttpRequest},jr=new D;function W(u){return encodeURIComponent(String(u))}function tt(u){var m=1;u=u.split(":");const v=[];for(;m>0&&u.length;)v.push(u.shift()),m--;return u.length&&v.push(u.join(":")),v}function nt(u,m,v,T){this.j=u,this.i=m,this.l=v,this.S=T||1,this.V=new Wi(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new dt}function dt(){this.i=null,this.g="",this.h=!1}var mt={},bt={};function ft(u,m,v){u.M=1,u.A=zr(je(m)),u.u=v,u.R=!0,Pt(u,null)}function Pt(u,m){u.F=Date.now(),Ze(u),u.B=je(u.A);var v=u.B,T=u.S;Array.isArray(T)||(T=[String(T)]),Ia(v.i,"t",T),u.C=0,v=u.j.L,u.h=new dt,u.g=zu(u.j,v?m:null,!u.u),u.P>0&&(u.O=new nn(y(u.Y,u,u.g),u.P)),m=u.V,v=u.g,T=u.ba;var P="readystatechange";Array.isArray(P)||(P&&(Vr[0]=P.toString()),P=Vr);for(let q=0;q<P.length;q++){const rt=ge(v,P[q],T||m.handleEvent,!1,m.h||m);if(!rt)break;m.g[rt.key]=rt}m=u.J?V(u.J):{},u.u?(u.v||(u.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,m)):(u.v="GET",u.g.ea(u.B,u.v,null,m)),wn(),zo(u.i,u.v,u.B,u.l,u.S,u.u)}nt.prototype.ba=function(u){u=u.target;const m=this.O;m&&mi(u)==3?m.j():this.Y(u)},nt.prototype.Y=function(u){try{if(u==this.g)t:{const Nt=mi(this.g),Ve=this.g.ya(),ee=this.g.ca();if(!(Nt<3)&&(Nt!=3||this.g&&(this.h.h||this.g.la()||sn(this.g)))){this.K||Nt!=4||Ve==7||(Ve==8||ee<=0?wn(3):wn(2)),xi(this);var m=this.g.ca();this.X=m;var v=jt(this);if(this.o=m==200,wa(this.i,this.v,this.B,this.l,this.S,Nt,m),this.o){if(this.U&&!this.L){e:{if(this.g){var T,P=this.g;if((T=P.g?P.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!R(T)){var q=T;break e}}q=null}if(u=q)Wn(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Ii(this,u);else{this.o=!1,this.m=3,we(12),kn(this),ti(this);break t}}if(this.R){u=!0;let Te;for(;!this.K&&this.C<v.length;)if(Te=Oe(this,v),Te==bt){Nt==4&&(this.m=4,we(14),u=!1),Wn(this.i,this.l,null,"[Incomplete Response]");break}else if(Te==mt){this.m=4,we(15),Wn(this.i,this.l,v,"[Invalid Chunk]"),u=!1;break}else Wn(this.i,this.l,Te,null),Ii(this,Te);if(ye(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Nt!=4||v.length!=0||this.h.h||(this.m=1,we(16),u=!1),this.o=this.o&&u,!u)Wn(this.i,this.l,v,"[Invalid Chunked Response]"),kn(this),ti(this);else if(v.length>0&&!this.W){this.W=!0;var rt=this.j;rt.g==this&&rt.aa&&!rt.P&&(rt.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),nl(rt),rt.P=!0,we(11))}}else Wn(this.i,this.l,v,null),Ii(this,v);Nt==4&&kn(this),this.o&&!this.K&&(Nt==4?Lu(this.j,this):(this.o=!1,Ze(this)))}else as(this.g),m==400&&v.indexOf("Unknown SID")>0?(this.m=3,we(12)):(this.m=0,we(13)),kn(this),ti(this)}}}catch{}finally{}};function jt(u){if(!ye(u))return u.g.la();const m=sn(u.g);if(m==="")return"";let v="";const T=m.length,P=mi(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return kn(u),ti(u),"";u.h.i=new d.TextDecoder}for(let q=0;q<T;q++)u.h.h=!0,v+=u.h.i.decode(m[q],{stream:!(P&&q==T-1)});return m.length=0,u.h.g+=v,u.C=0,u.h.g}function ye(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function Oe(u,m){var v=u.C,T=m.indexOf(`
`,v);return T==-1?bt:(v=Number(m.substring(v,T)),isNaN(v)?mt:(T+=1,T+v>m.length?bt:(m=m.slice(T,T+v),u.C=T+v,m)))}nt.prototype.cancel=function(){this.K=!0,kn(this)};function Ze(u){u.T=Date.now()+u.H,Ln(u,u.H)}function Ln(u,m){if(u.D!=null)throw Error("WatchDog timer not null");u.D=Jn(y(u.aa,u),m)}function xi(u){u.D&&(d.clearTimeout(u.D),u.D=null)}nt.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(is(this.i,this.B),this.M!=2&&(wn(),we(17)),kn(this),this.m=2,ti(this)):Ln(this,this.T-u)};function ti(u){u.j.I==0||u.K||Lu(u.j,u)}function kn(u){xi(u);var m=u.O;m&&typeof m.dispose=="function"&&m.dispose(),u.O=null,Ur(u.V),u.g&&(m=u.g,u.g=null,m.abort(),m.dispose())}function Ii(u,m){try{var v=u.j;if(v.I!=0&&(v.g==u||Ni(v.h,u))){if(!u.L&&Ni(v.h,u)&&v.I==3){try{var T=v.Ba.g.parse(m)}catch{T=null}if(Array.isArray(T)&&T.length==3){var P=T;if(P[0]==0){t:if(!v.v){if(v.g)if(v.g.F+3e3<u.F)Oa(v),Hs(v);else break t;Yr(v),we(18)}}else v.xa=P[1],0<v.xa-v.K&&P[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=Jn(y(v.Va,v),6e3));Ci(v.h)<=1&&v.ta&&(v.ta=void 0)}else Li(v,11)}else if((u.L||v.g==u)&&Oa(v),!R(m))for(P=v.Ba.g.parse(m),m=0;m<P.length;m++){let ee=P[m];const Te=ee[0];if(!(Te<=v.K))if(v.K=Te,ee=ee[1],v.I==2)if(ee[0]=="c"){v.M=ee[1],v.ba=ee[2];const ii=ee[3];ii!=null&&(v.ka=ii,v.j.info("VER="+v.ka));const ki=ee[4];ki!=null&&(v.za=ki,v.j.info("SVER="+v.za));const gi=ee[5];gi!=null&&typeof gi=="number"&&gi>0&&(T=1.5*gi,v.O=T,v.j.info("backChannelRequestTimeoutMs_="+T)),T=v;const pi=u.g;if(pi){const Kr=pi.g?pi.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Kr){var q=T.h;q.g||Kr.indexOf("spdy")==-1&&Kr.indexOf("quic")==-1&&Kr.indexOf("h2")==-1||(q.j=q.l,q.g=new Set,q.h&&(Fo(q,q.h),q.h=null))}if(T.G){const Va=pi.g?pi.g.getResponseHeader("X-HTTP-Session-Id"):null;Va&&(T.wa=Va,se(T.J,T.G,Va))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-u.F,v.j.info("Handshake RTT: "+v.T+"ms")),T=v;var rt=u;if(T.na=ju(T,T.L?T.ba:null,T.W),rt.L){Go(T.h,rt);var Nt=rt,Ve=T.O;Ve&&(Nt.H=Ve),Nt.D&&(xi(Nt),Ze(Nt)),T.g=rt}else Vu(T);v.i.length>0&&Ui(v)}else ee[0]!="stop"&&ee[0]!="close"||Li(v,7);else v.I==3&&(ee[0]=="stop"||ee[0]=="close"?ee[0]=="stop"?Li(v,7):tl(v):ee[0]!="noop"&&v.l&&v.l.qa(ee),v.A=0)}}wn(4)}catch{}}var Pe=class{constructor(u,m){this.g=u,this.map=m}};function qo(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Ho(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function Ci(u){return u.h?1:u.g?u.g.size:0}function Ni(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function Fo(u,m){u.g?u.g.add(m):u.h=m}function Go(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}qo.prototype.cancel=function(){if(this.i=Qo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Qo(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const v of u.g.values())m=m.concat(v.G);return m}return G(u.i)}var Iu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ra(u,m){if(u){u=u.split("&");for(let v=0;v<u.length;v++){const T=u[v].indexOf("=");let P,q=null;T>=0?(P=u[v].substring(0,T),q=u[v].substring(T+1)):P=u[v],m(P,q?decodeURIComponent(q.replace(/\+/g," ")):"")}}}function Pn(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;u instanceof Pn?(this.l=u.l,Je(this,u.j),this.o=u.o,this.g=u.g,Ls(this,u.u),this.h=u.h,Yo(this,Mu(u.i)),this.m=u.m):u&&(m=String(u).match(Iu))?(this.l=!1,Je(this,m[1]||"",!0),this.o=Di(m[2]||""),this.g=Di(m[3]||"",!0),Ls(this,m[4]),this.h=Di(m[5]||"",!0),Yo(this,m[6]||"",!0),this.m=Di(m[7]||"")):(this.l=!1,this.i=new Ps(null,this.l))}Pn.prototype.toString=function(){const u=[];var m=this.j;m&&u.push(Br(m,xa,!0),":");var v=this.g;return(v||m=="file")&&(u.push("//"),(m=this.o)&&u.push(Br(m,xa,!0),"@"),u.push(W(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&u.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&u.push("/"),u.push(Br(v,v.charAt(0)=="/"?Ko:Cu,!0))),(v=this.i.toString())&&u.push("?",v),(v=this.m)&&u.push("#",Br(v,Nu)),u.join("")},Pn.prototype.resolve=function(u){const m=je(this);let v=!!u.j;v?Je(m,u.j):v=!!u.o,v?m.o=u.o:v=!!u.g,v?m.g=u.g:v=u.u!=null;var T=u.h;if(v)Ls(m,u.u);else if(v=!!u.h){if(T.charAt(0)!="/")if(this.g&&!this.h)T="/"+T;else{var P=m.h.lastIndexOf("/");P!=-1&&(T=m.h.slice(0,P+1)+T)}if(P=T,P==".."||P==".")T="";else if(P.indexOf("./")!=-1||P.indexOf("/.")!=-1){T=P.lastIndexOf("/",0)==0,P=P.split("/");const q=[];for(let rt=0;rt<P.length;){const Nt=P[rt++];Nt=="."?T&&rt==P.length&&q.push(""):Nt==".."?((q.length>1||q.length==1&&q[0]!="")&&q.pop(),T&&rt==P.length&&q.push("")):(q.push(Nt),T=!0)}T=q.join("/")}else T=P}return v?m.h=T:v=u.i.toString()!=="",v?Yo(m,Mu(u.i)):v=!!u.m,v&&(m.m=u.m),m};function je(u){return new Pn(u)}function Je(u,m,v){u.j=v?Di(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function Ls(u,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);u.u=m}else u.u=null}function Yo(u,m,v){m instanceof Ps?(u.i=m,Ca(u.i,u.l)):(v||(m=Br(m,ks)),u.i=new Ps(m,u.l))}function se(u,m,v){u.i.set(m,v)}function zr(u){return se(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function Di(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Br(u,m,v){return typeof u=="string"?(u=encodeURI(u).replace(m,Rn),v&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function Rn(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var xa=/[#\/\?@]/g,Cu=/[#\?:]/g,Ko=/[#\?]/g,ks=/[#\?@]/g,Nu=/#/g;function Ps(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function xn(u){u.g||(u.g=new Map,u.h=0,u.i&&Ra(u.i,function(m,v){u.add(decodeURIComponent(m.replace(/\+/g," ")),v)}))}s=Ps.prototype,s.add=function(u,m){xn(this),this.i=null,u=js(this,u);let v=this.g.get(u);return v||this.g.set(u,v=[]),v.push(m),this.h+=1,this};function Du(u,m){xn(u),m=js(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function Xo(u,m){return xn(u),m=js(u,m),u.g.has(m)}s.forEach=function(u,m){xn(this),this.g.forEach(function(v,T){v.forEach(function(P){u.call(m,P,T,this)},this)},this)};function $o(u,m){xn(u);let v=[];if(typeof m=="string")Xo(u,m)&&(v=v.concat(u.g.get(js(u,m))));else for(u=Array.from(u.g.values()),m=0;m<u.length;m++)v=v.concat(u[m]);return v}s.set=function(u,m){return xn(this),this.i=null,u=js(this,u),Xo(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},s.get=function(u,m){return u?(u=$o(this,u),u.length>0?String(u[0]):m):m};function Ia(u,m,v){Du(u,m),v.length>0&&(u.i=null,u.g.set(js(u,m),G(v)),u.h+=v.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(let T=0;T<m.length;T++){var v=m[T];const P=W(v);v=$o(this,v);for(let q=0;q<v.length;q++){let rt=P;v[q]!==""&&(rt+="="+W(v[q])),u.push(rt)}}return this.i=u.join("&")};function Mu(u){const m=new Ps;return m.i=u.i,u.g&&(m.g=new Map(u.g),m.h=u.h),m}function js(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function Ca(u,m){m&&!u.j&&(xn(u),u.i=null,u.g.forEach(function(v,T){const P=T.toLowerCase();T!=P&&(Du(this,T),Ia(this,P,v))},u)),u.j=m}function fi(u,m){const v=new Un;if(d.Image){const T=new Image;T.onload=A(ei,v,"TestLoadImage: loaded",!0,m,T),T.onerror=A(ei,v,"TestLoadImage: error",!1,m,T),T.onabort=A(ei,v,"TestLoadImage: abort",!1,m,T),T.ontimeout=A(ei,v,"TestLoadImage: timeout",!1,m,T),d.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=u}else m(!1)}function Zo(u,m){const v=new Un,T=new AbortController,P=setTimeout(()=>{T.abort(),ei(v,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:T.signal}).then(q=>{clearTimeout(P),q.ok?ei(v,"TestPingServer: ok",!0,m):ei(v,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(P),ei(v,"TestPingServer: error",!1,m)})}function ei(u,m,v,T,P){try{P&&(P.onload=null,P.onerror=null,P.onabort=null,P.ontimeout=null),T(v)}catch{}}function zs(){this.g=new Lr}function Mi(u){this.i=u.Sb||null,this.h=u.ab||!1}b(Mi,kr),Mi.prototype.g=function(){return new qr(this.i,this.h)};function qr(u,m){Ce.call(this),this.H=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}b(qr,Ce),s=qr.prototype,s.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=m,this.readyState=1,di(this)},s.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(m.body=u),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Bs(this)),this.readyState=0},s.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,di(this)),this.g&&(this.readyState=3,di(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Na(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function Na(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}s.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?Bs(this):di(this),this.readyState==3&&Na(this)}},s.Oa=function(u){this.g&&(this.response=this.responseText=u,Bs(this))},s.Na=function(u){this.g&&(this.response=u,Bs(this))},s.ga=function(){this.g&&Bs(this)};function Bs(u){u.readyState=4,u.l=null,u.j=null,u.B=null,di(u)}s.setRequestHeader=function(u,m){this.A.append(u,m)},s.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var v=m.next();!v.done;)v=v.value,u.push(v[0]+": "+v[1]),v=m.next();return u.join(`\r
`)};function di(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(qr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function ni(u){let m="";return Kt(u,function(v,T){m+=T,m+=":",m+=v,m+=`\r
`}),m}function Hr(u,m,v){t:{for(T in v){var T=!1;break t}T=!0}T||(v=ni(v),typeof u=="string"?v!=null&&W(v):se(u,m,v))}function oe(u){Ce.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}b(oe,Ce);var Oi=/^https?$/i,Jo=["POST","PUT"];s=oe.prototype,s.Fa=function(u){this.H=u},s.ea=function(u,m,v,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():jr.g(),this.g.onreadystatechange=C(y(this.Ca,this));try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(q){Fr(this,q);return}if(u=v||"",v=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var P in T)v.set(P,T[P]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const q of T.keys())v.set(q,T.get(q));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(v.keys()).find(q=>q.toLowerCase()=="content-type"),P=d.FormData&&u instanceof d.FormData,!(Array.prototype.indexOf.call(Jo,m,void 0)>=0)||T||P||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[q,rt]of v)this.g.setRequestHeader(q,rt);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(q){Fr(this,q)}};function Fr(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.o=5,Wo(u),rs(u)}function Wo(u){u.A||(u.A=!0,Me(u,"complete"),Me(u,"error"))}s.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,Me(this,"complete"),Me(this,"abort"),rs(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),rs(this,!0)),oe.Z.N.call(this)},s.Ca=function(){this.u||(this.B||this.v||this.j?Gr(this):this.Xa())},s.Xa=function(){Gr(this)};function Gr(u){if(u.h&&typeof c<"u"){if(u.v&&mi(u)==4)setTimeout(u.Ca.bind(u),0);else if(Me(u,"readystatechange"),mi(u)==4){u.h=!1;try{const q=u.ca();t:switch(q){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var v;if(!(v=m)){var T;if(T=q===0){let rt=String(u.D).match(Iu)[1]||null;!rt&&d.self&&d.self.location&&(rt=d.self.location.protocol.slice(0,-1)),T=!Oi.test(rt?rt.toLowerCase():"")}v=T}if(v)Me(u,"complete"),Me(u,"success");else{u.o=6;try{var P=mi(u)>2?u.g.statusText:""}catch{P=""}u.l=P+" ["+u.ca()+"]",Wo(u)}}finally{rs(u)}}}}function rs(u,m){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const v=u.g;u.g=null,m||Me(u,"ready");try{v.onreadystatechange=null}catch{}}}s.isActive=function(){return!!this.g};function mi(u){return u.g?u.g.readyState:0}s.ca=function(){try{return mi(this)>2?this.g.status:-1}catch{return-1}},s.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.La=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),Us(m)}};function sn(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function as(u){const m={};u=(u.g&&mi(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<u.length;T++){if(R(u[T]))continue;var v=tt(u[T]);const P=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const q=m[P]||[];m[P]=q,q.push(v)}te(m,function(T){return T.join(", ")})}s.ya=function(){return this.o},s.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Vi(u,m,v){return v&&v.internalChannelParams&&v.internalChannelParams[u]||m}function qs(u){this.za=0,this.i=[],this.j=new Un,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Vi("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Vi("baseRetryDelayMs",5e3,u),this.Za=Vi("retryDelaySeedMs",1e4,u),this.Ta=Vi("forwardChannelMaxRetries",2,u),this.va=Vi("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new qo(u&&u.concurrentRequestLimit),this.Ba=new zs,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}s=qs.prototype,s.ka=8,s.I=1,s.connect=function(u,m,v,T){we(0),this.W=u,this.H=m||{},v&&T!==void 0&&(this.H.OSID=v,this.H.OAID=T),this.F=this.X,this.J=ju(this,null,this.W),Ui(this)};function tl(u){if(Da(u),u.I==3){var m=u.V++,v=je(u.J);if(se(v,"SID",u.M),se(v,"RID",m),se(v,"TYPE","terminate"),Qr(u,v),m=new nt(u,u.j,m),m.M=2,m.A=zr(je(v)),v=!1,d.navigator&&d.navigator.sendBeacon)try{v=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!v&&d.Image&&(new Image().src=m.A,v=!0),v||(m.g=zu(m.j,null),m.g.ea(m.A)),m.F=Date.now(),Ze(m)}Pu(u)}function Hs(u){u.g&&(nl(u),u.g.cancel(),u.g=null)}function Da(u){Hs(u),u.v&&(d.clearTimeout(u.v),u.v=null),Oa(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&d.clearTimeout(u.m),u.m=null)}function Ui(u){if(!Ho(u.h)&&!u.m){u.m=!0;var m=u.Ea;ie||w(),Gt||(ie(),Gt=!0),N.add(m,u),u.D=0}}function Ma(u,m){return Ci(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=m.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=Jn(y(u.Ea,u,m),ku(u,u.D)),u.D++,!0)}s.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const P=new nt(this,this.j,u);let q=this.o;if(this.U&&(q?(q=V(q),st(q,this.U)):q=this.U),this.u!==null||this.R||(P.J=q,q=null),this.S)t:{for(var m=0,v=0;v<this.i.length;v++){e:{var T=this.i[v];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break e}T=void 0}if(T===void 0)break;if(m+=T,m>4096){m=v;break t}if(m===4096||v===this.i.length-1){m=v+1;break t}}m=1e3}else m=1e3;m=Ou(this,P,m),v=je(this.J),se(v,"RID",u),se(v,"CVER",22),this.G&&se(v,"X-HTTP-Session-Id",this.G),Qr(this,v),q&&(this.R?m="headers="+W(ni(q))+"&"+m:this.u&&Hr(v,this.u,q)),Fo(this.h,P),this.Ra&&se(v,"TYPE","init"),this.S?(se(v,"$req",m),se(v,"SID","null"),P.U=!0,ft(P,v,null)):ft(P,v,m),this.I=2}}else this.I==3&&(u?el(this,u):this.i.length==0||Ho(this.h)||el(this))};function el(u,m){var v;m?v=m.l:v=u.V++;const T=je(u.J);se(T,"SID",u.M),se(T,"RID",v),se(T,"AID",u.K),Qr(u,T),u.u&&u.o&&Hr(T,u.u,u.o),v=new nt(u,u.j,v,u.D+1),u.u===null&&(v.J=u.o),m&&(u.i=m.G.concat(u.i)),m=Ou(u,v,1e3),v.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),Fo(u.h,v),ft(v,T,m)}function Qr(u,m){u.H&&Kt(u.H,function(v,T){se(m,T,v)}),u.l&&Kt({},function(v,T){se(m,T,v)})}function Ou(u,m,v){v=Math.min(u.i.length,v);const T=u.l?y(u.l.Ka,u.l,u):null;t:{var P=u.i;let Nt=-1;for(;;){const Ve=["count="+v];Nt==-1?v>0?(Nt=P[0].g,Ve.push("ofs="+Nt)):Nt=0:Ve.push("ofs="+Nt);let ee=!0;for(let Te=0;Te<v;Te++){var q=P[Te].g;const ii=P[Te].map;if(q-=Nt,q<0)Nt=Math.max(0,P[Te].g-100),ee=!1;else try{q="req"+q+"_"||"";try{var rt=ii instanceof Map?ii:Object.entries(ii);for(const[ki,gi]of rt){let pi=gi;p(gi)&&(pi=_n(gi)),Ve.push(q+ki+"="+encodeURIComponent(pi))}}catch(ki){throw Ve.push(q+"type="+encodeURIComponent("_badmap")),ki}}catch{T&&T(ii)}}if(ee){rt=Ve.join("&");break t}}rt=void 0}return u=u.i.splice(0,v),m.G=u,rt}function Vu(u){if(!u.g&&!u.v){u.Y=1;var m=u.Da;ie||w(),Gt||(ie(),Gt=!0),N.add(m,u),u.A=0}}function Yr(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=Jn(y(u.Da,u),ku(u,u.A)),u.A++,!0)}s.Da=function(){if(this.v=null,Uu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=Jn(y(this.Wa,this),u)}},s.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,we(10),Hs(this),Uu(this))};function nl(u){u.B!=null&&(d.clearTimeout(u.B),u.B=null)}function Uu(u){u.g=new nt(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var m=je(u.na);se(m,"RID","rpc"),se(m,"SID",u.M),se(m,"AID",u.K),se(m,"CI",u.F?"0":"1"),!u.F&&u.ia&&se(m,"TO",u.ia),se(m,"TYPE","xmlhttp"),Qr(u,m),u.u&&u.o&&Hr(m,u.u,u.o),u.O&&(u.g.H=u.O);var v=u.g;u=u.ba,v.M=1,v.A=zr(je(m)),v.u=null,v.R=!0,Pt(v,u)}s.Va=function(){this.C!=null&&(this.C=null,Hs(this),Yr(this),we(19))};function Oa(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function Lu(u,m){var v=null;if(u.g==m){Oa(u),nl(u),u.g=null;var T=2}else if(Ni(u.h,m))v=m.G,Go(u.h,m),T=1;else return;if(u.I!=0){if(m.o)if(T==1){v=m.u?m.u.length:0,m=Date.now()-m.F;var P=u.D;T=es(),Me(T,new Vn(T,v)),Ui(u)}else Vu(u);else if(P=m.m,P==3||P==0&&m.X>0||!(T==1&&Ma(u,m)||T==2&&Yr(u)))switch(v&&v.length>0&&(m=u.h,m.i=m.i.concat(v)),P){case 1:Li(u,5);break;case 4:Li(u,10);break;case 3:Li(u,6);break;default:Li(u,2)}}}function ku(u,m){let v=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(v*=2),v*m}function Li(u,m){if(u.j.info("Error code "+m),m==2){var v=y(u.bb,u),T=u.Ua;const P=!T;T=new Pn(T||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Je(T,"https"),zr(T),P?fi(T.toString(),v):Zo(T.toString(),v)}else we(2);u.I=0,u.l&&u.l.pa(m),Pu(u),Da(u)}s.bb=function(u){u?(this.j.info("Successfully pinged google.com"),we(2)):(this.j.info("Failed to ping google.com"),we(1))};function Pu(u){if(u.I=0,u.ja=[],u.l){const m=Qo(u.h);(m.length!=0||u.i.length!=0)&&(et(u.ja,m),et(u.ja,u.i),u.h.i.length=0,G(u.i),u.i.length=0),u.l.oa()}}function ju(u,m,v){var T=v instanceof Pn?je(v):new Pn(v);if(T.g!="")m&&(T.g=m+"."+T.g),Ls(T,T.u);else{var P=d.location;T=P.protocol,m=m?m+"."+P.hostname:P.hostname,P=+P.port;const q=new Pn(null);T&&Je(q,T),m&&(q.g=m),P&&Ls(q,P),v&&(q.h=v),T=q}return v=u.G,m=u.wa,v&&m&&se(T,v,m),se(T,"VER",u.ka),Qr(u,T),T}function zu(u,m,v){if(m&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Aa&&!u.ma?new oe(new Mi({ab:v})):new oe(u.ma),m.Fa(u.L),m}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function Bu(){}s=Bu.prototype,s.ra=function(){},s.qa=function(){},s.pa=function(){},s.oa=function(){},s.isActive=function(){return!0},s.Ka=function(){};function Fs(){}Fs.prototype.g=function(u,m){return new vn(u,m)};function vn(u,m){Ce.call(this),this.g=new qs(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(u?u["X-WebChannel-Client-Profile"]=m.sa:u={"X-WebChannel-Client-Profile":m.sa}),this.g.U=u,(u=m&&m.Qb)&&!R(u)&&(this.g.u=u),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!R(m)&&(this.g.G=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new os(this)}b(vn,Ce),vn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},vn.prototype.close=function(){tl(this.g)},vn.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var v={};v.__data__=u,u=v}else this.v&&(v={},v.__data__=_n(u),u=v);m.i.push(new Pe(m.Ya++,u)),m.I==3&&Ui(m)},vn.prototype.N=function(){this.g.l=null,delete this.j,tl(this.g),delete this.g,vn.Z.N.call(this)};function qu(u){Ke.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){t:{for(const v in m){u=v;break t}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}b(qu,Ke);function Hu(){bn.call(this),this.status=1}b(Hu,bn);function os(u){this.g=u}b(os,Bu),os.prototype.ra=function(){Me(this.g,"a")},os.prototype.qa=function(u){Me(this.g,new qu(u))},os.prototype.pa=function(u){Me(this.g,new Hu)},os.prototype.oa=function(){Me(this.g,"b")},Fs.prototype.createWebChannel=Fs.prototype.g,vn.prototype.send=vn.prototype.o,vn.prototype.open=vn.prototype.m,vn.prototype.close=vn.prototype.close,HE=function(){return new Fs},qE=function(){return es()},BE=be,Em={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},ss.NO_ERROR=0,ss.TIMEOUT=8,ss.HTTP_ERROR=6,sh=ss,Pr.COMPLETE="complete",zE=Pr,Sa.EventType=Sn,Sn.OPEN="a",Sn.CLOSE="b",Sn.ERROR="c",Sn.MESSAGE="d",Ce.prototype.listen=Ce.prototype.J,Fl=Sa,oe.prototype.listenOnce=oe.prototype.K,oe.prototype.getLastError=oe.prototype.Ha,oe.prototype.getLastErrorCode=oe.prototype.ya,oe.prototype.getStatus=oe.prototype.ca,oe.prototype.getResponseJson=oe.prototype.La,oe.prototype.getResponseText=oe.prototype.la,oe.prototype.send=oe.prototype.ea,oe.prototype.setWithCredentials=oe.prototype.Fa,jE=oe}).apply(typeof Kc<"u"?Kc:typeof self<"u"?self:typeof window<"u"?window:{});const Gv="@firebase/firestore",Qv="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pn{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}pn.UNAUTHENTICATED=new pn(null),pn.GOOGLE_CREDENTIALS=new pn("google-credentials-uid"),pn.FIRST_PARTY=new pn("first-party-uid"),pn.MOCK_USER=new pn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Vo="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const va=new Pm("@firebase/firestore");function mo(){return va.logLevel}function ut(s,...t){if(va.logLevel<=qt.DEBUG){const i=t.map(Zm);va.debug(`Firestore (${Vo}): ${s}`,...i)}}function Ns(s,...t){if(va.logLevel<=qt.ERROR){const i=t.map(Zm);va.error(`Firestore (${Vo}): ${s}`,...i)}}function wo(s,...t){if(va.logLevel<=qt.WARN){const i=t.map(Zm);va.warn(`Firestore (${Vo}): ${s}`,...i)}}function Zm(s){if(typeof s=="string")return s;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(i){return JSON.stringify(i)})(s)}catch{return s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vt(s,t,i){let r="Unexpected state";typeof t=="string"?r=t:i=t,FE(s,r,i)}function FE(s,t,i){let r=`FIRESTORE (${Vo}) INTERNAL ASSERTION FAILED: ${t} (ID: ${s.toString(16)})`;if(i!==void 0)try{r+=" CONTEXT: "+JSON.stringify(i)}catch{r+=" CONTEXT: "+i}throw Ns(r),new Error(r)}function $t(s,t,i,r){let l="Unexpected state";typeof i=="string"?l=i:r=i,s||FE(t,l,r)}function xt(s,t){return s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class lt extends Ms{constructor(t,i){super(t,i),this.code=t,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fi{constructor(){this.promise=new Promise(((t,i)=>{this.resolve=t,this.reject=i}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GE{constructor(t,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class u2{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,i){t.enqueueRetryable((()=>i(pn.UNAUTHENTICATED)))}shutdown(){}}class c2{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,i){this.changeListener=i,t.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class h2{constructor(t){this.t=t,this.currentUser=pn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,i){$t(this.o===void 0,42304);let r=this.i;const l=_=>this.i!==r?(r=this.i,i(_)):Promise.resolve();let c=new Fi;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new Fi,t.enqueueRetryable((()=>l(this.currentUser)))};const d=()=>{const _=c;t.enqueueRetryable((async()=>{await _.promise,await l(this.currentUser)}))},p=_=>{ut("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=_,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((_=>p(_))),setTimeout((()=>{if(!this.auth){const _=this.t.getImmediate({optional:!0});_?p(_):(ut("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new Fi)}}),0),d()}getToken(){const t=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((r=>this.i!==t?(ut("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?($t(typeof r.accessToken=="string",31837,{l:r}),new GE(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return $t(t===null||typeof t=="string",2055,{h:t}),new pn(t)}}class f2{constructor(t,i,r){this.P=t,this.T=i,this.I=r,this.type="FirstParty",this.user=pn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class d2{constructor(t,i,r){this.P=t,this.T=i,this.I=r}getToken(){return Promise.resolve(new f2(this.P,this.T,this.I))}start(t,i){t.enqueueRetryable((()=>i(pn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Yv{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class m2{constructor(t,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Ei(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,i){$t(this.o===void 0,3512);const r=c=>{c.error!=null&&ut("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.m;return this.m=c.token,ut("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(c.token):Promise.resolve()};this.o=c=>{t.enqueueRetryable((()=>r(c)))};const l=c=>{ut("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>l(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?l(c):ut("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new Yv(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((i=>i?($t(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new Yv(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g2(s){const t=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(s);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(i);else for(let r=0;r<s;r++)i[r]=Math.floor(256*Math.random());return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jm{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const l=g2(40);for(let c=0;c<l.length;++c)r.length<20&&l[c]<i&&(r+=t.charAt(l[c]%62))}return r}}function Ht(s,t){return s<t?-1:s>t?1:0}function Tm(s,t){const i=Math.min(s.length,t.length);for(let r=0;r<i;r++){const l=s.charAt(r),c=t.charAt(r);if(l!==c)return am(l)===am(c)?Ht(l,c):am(l)?1:-1}return Ht(s.length,t.length)}const p2=55296,y2=57343;function am(s){const t=s.charCodeAt(0);return t>=p2&&t<=y2}function Ro(s,t,i){return s.length===t.length&&s.every(((r,l)=>i(r,t[l])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kv="__name__";class qi{constructor(t,i,r){i===void 0?i=0:i>t.length&&vt(637,{offset:i,range:t.length}),r===void 0?r=t.length-i:r>t.length-i&&vt(1746,{length:r,range:t.length-i}),this.segments=t,this.offset=i,this.len=r}get length(){return this.len}isEqual(t){return qi.comparator(this,t)===0}child(t){const i=this.segments.slice(this.offset,this.limit());return t instanceof qi?t.forEach((r=>{i.push(r)})):i.push(t),this.construct(i)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}forEach(t){for(let i=this.offset,r=this.limit();i<r;i++)t(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,i){const r=Math.min(t.length,i.length);for(let l=0;l<r;l++){const c=qi.compareSegments(t.get(l),i.get(l));if(c!==0)return c}return Ht(t.length,i.length)}static compareSegments(t,i){const r=qi.isNumericId(t),l=qi.isNumericId(i);return r&&!l?-1:!r&&l?1:r&&l?qi.extractNumericId(t).compare(qi.extractNumericId(i)):Tm(t,i)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Tr.fromString(t.substring(4,t.length-2))}}class fe extends qi{construct(t,i,r){return new fe(t,i,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const i=[];for(const r of t){if(r.indexOf("//")>=0)throw new lt(K.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);i.push(...r.split("/").filter((l=>l.length>0)))}return new fe(i)}static emptyPath(){return new fe([])}}const _2=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class cn extends qi{construct(t,i,r){return new cn(t,i,r)}static isValidIdentifier(t){return _2.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),cn.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Kv}static keyField(){return new cn([Kv])}static fromServerFormat(t){const i=[];let r="",l=0;const c=()=>{if(r.length===0)throw new lt(K.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(r),r=""};let d=!1;for(;l<t.length;){const p=t[l];if(p==="\\"){if(l+1===t.length)throw new lt(K.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const _=t[l+1];if(_!=="\\"&&_!=="."&&_!=="`")throw new lt(K.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=_,l+=2}else p==="`"?(d=!d,l++):p!=="."||d?(r+=p,l++):(c(),l++)}if(c(),d)throw new lt(K.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new cn(i)}static emptyPath(){return new cn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gt{constructor(t){this.path=t}static fromPath(t){return new gt(fe.fromString(t))}static fromName(t){return new gt(fe.fromString(t).popFirst(5))}static empty(){return new gt(fe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&fe.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,i){return fe.comparator(t.path,i.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new gt(new fe(t.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QE(s,t,i){if(!i)throw new lt(K.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${t}.`)}function v2(s,t,i,r){if(t===!0&&r===!0)throw new lt(K.INVALID_ARGUMENT,`${s} and ${i} cannot be used together.`)}function Xv(s){if(!gt.isDocumentKey(s))throw new lt(K.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function $v(s){if(gt.isDocumentKey(s))throw new lt(K.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${s} has ${s.length}.`)}function YE(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}function Vh(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const t=(function(r){return r.constructor?r.constructor.name:null})(s);return t?`a custom ${t} object`:"an object"}}return typeof s=="function"?"a function":vt(12329,{type:typeof s})}function An(s,t){if("_delegate"in s&&(s=s._delegate),!(s instanceof t)){if(t.name===s.constructor.name)throw new lt(K.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=Vh(s);throw new lt(K.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${i}`)}}return s}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qe(s,t){const i={typeString:s};return t&&(i.value=t),i}function yu(s,t){if(!YE(s))throw new lt(K.INVALID_ARGUMENT,"JSON must be an object");let i;for(const r in t)if(t[r]){const l=t[r].typeString,c="value"in t[r]?{value:t[r].value}:void 0;if(!(r in s)){i=`JSON missing required field: '${r}'`;break}const d=s[r];if(l&&typeof d!==l){i=`JSON field '${r}' must be a ${l}.`;break}if(c!==void 0&&d!==c.value){i=`Expected '${r}' field to equal '${c.value}'`;break}}if(i)throw new lt(K.INVALID_ARGUMENT,i);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zv=-62135596800,Jv=1e6;class Ee{static now(){return Ee.fromMillis(Date.now())}static fromDate(t){return Ee.fromMillis(t.getTime())}static fromMillis(t){const i=Math.floor(t/1e3),r=Math.floor((t-1e3*i)*Jv);return new Ee(i,r)}constructor(t,i){if(this.seconds=t,this.nanoseconds=i,i<0)throw new lt(K.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new lt(K.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(t<Zv)throw new lt(K.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new lt(K.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Jv}_compareTo(t){return this.seconds===t.seconds?Ht(this.nanoseconds,t.nanoseconds):Ht(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Ee._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(yu(t,Ee._jsonSchema))return new Ee(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-Zv;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Ee._jsonSchemaVersion="firestore/timestamp/1.0",Ee._jsonSchema={type:Qe("string",Ee._jsonSchemaVersion),seconds:Qe("number"),nanoseconds:Qe("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class St{static fromTimestamp(t){return new St(t)}static min(){return new St(new Ee(0,0))}static max(){return new St(new Ee(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iu=-1;function E2(s,t){const i=s.toTimestamp().seconds,r=s.toTimestamp().nanoseconds+1,l=St.fromTimestamp(r===1e9?new Ee(i+1,0):new Ee(i,r));return new br(l,gt.empty(),t)}function T2(s){return new br(s.readTime,s.key,iu)}class br{constructor(t,i,r){this.readTime=t,this.documentKey=i,this.largestBatchId=r}static min(){return new br(St.min(),gt.empty(),iu)}static max(){return new br(St.max(),gt.empty(),iu)}}function A2(s,t){let i=s.readTime.compareTo(t.readTime);return i!==0?i:(i=gt.comparator(s.documentKey,t.documentKey),i!==0?i:Ht(s.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S2="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class b2{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Uo(s){if(s.code!==K.FAILED_PRECONDITION||s.message!==S2)throw s;ut("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(t){return this.next(void 0,t)}next(t,i){return this.callbackAttached&&vt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(t,this.result):new Z(((r,l)=>{this.nextCallback=c=>{this.wrapSuccess(t,c).next(r,l)},this.catchCallback=c=>{this.wrapFailure(i,c).next(r,l)}}))}toPromise(){return new Promise(((t,i)=>{this.next(t,i)}))}wrapUserFunction(t){try{const i=t();return i instanceof Z?i:Z.resolve(i)}catch(i){return Z.reject(i)}}wrapSuccess(t,i){return t?this.wrapUserFunction((()=>t(i))):Z.resolve(i)}wrapFailure(t,i){return t?this.wrapUserFunction((()=>t(i))):Z.reject(i)}static resolve(t){return new Z(((i,r)=>{i(t)}))}static reject(t){return new Z(((i,r)=>{r(t)}))}static waitFor(t){return new Z(((i,r)=>{let l=0,c=0,d=!1;t.forEach((p=>{++l,p.next((()=>{++c,d&&c===l&&i()}),(_=>r(_)))})),d=!0,c===l&&i()}))}static or(t){let i=Z.resolve(!1);for(const r of t)i=i.next((l=>l?Z.resolve(l):r()));return i}static forEach(t,i){const r=[];return t.forEach(((l,c)=>{r.push(i.call(this,l,c))})),this.waitFor(r)}static mapArray(t,i){return new Z(((r,l)=>{const c=t.length,d=new Array(c);let p=0;for(let _=0;_<c;_++){const y=_;i(t[y]).next((A=>{d[y]=A,++p,p===c&&r(d)}),(A=>l(A)))}}))}static doWhile(t,i){return new Z(((r,l)=>{const c=()=>{t()===!0?i().next((()=>{c()}),l):r()};c()}))}}function w2(s){const t=s.match(/Android ([\d.]+)/i),i=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function Lo(s){return s.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uh{constructor(t,i){this.previousValue=t,i&&(i.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>i.writeSequenceNumber(r))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}Uh.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wm=-1;function _u(s){return s==null}function _h(s){return s===0&&1/s==-1/0}function R2(s){return typeof s=="number"&&Number.isInteger(s)&&!_h(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KE="";function x2(s){let t="";for(let i=0;i<s.length;i++)t.length>0&&(t=Wv(t)),t=I2(s.get(i),t);return Wv(t)}function I2(s,t){let i=t;const r=s.length;for(let l=0;l<r;l++){const c=s.charAt(l);switch(c){case"\0":i+="";break;case KE:i+="";break;default:i+=c}}return i}function Wv(s){return s+KE+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t0(s){let t=0;for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&t++;return t}function Dr(s,t){for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&t(i,s[i])}function XE(s){for(const t in s)if(Object.prototype.hasOwnProperty.call(s,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ie{constructor(t,i){this.comparator=t,this.root=i||un.EMPTY}insert(t,i){return new Ie(this.comparator,this.root.insert(t,i,this.comparator).copy(null,null,un.BLACK,null,null))}remove(t){return new Ie(this.comparator,this.root.remove(t,this.comparator).copy(null,null,un.BLACK,null,null))}get(t){let i=this.root;for(;!i.isEmpty();){const r=this.comparator(t,i.key);if(r===0)return i.value;r<0?i=i.left:r>0&&(i=i.right)}return null}indexOf(t){let i=0,r=this.root;for(;!r.isEmpty();){const l=this.comparator(t,r.key);if(l===0)return i+r.left.size;l<0?r=r.left:(i+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((i,r)=>(t(i,r),!1)))}toString(){const t=[];return this.inorderTraversal(((i,r)=>(t.push(`${i}:${r}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Xc(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Xc(this.root,t,this.comparator,!1)}getReverseIterator(){return new Xc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Xc(this.root,t,this.comparator,!0)}}class Xc{constructor(t,i,r,l){this.isReverse=l,this.nodeStack=[];let c=1;for(;!t.isEmpty();)if(c=i?r(t.key,i):1,i&&l&&(c*=-1),c<0)t=this.isReverse?t.left:t.right;else{if(c===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const i={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class un{constructor(t,i,r,l,c){this.key=t,this.value=i,this.color=r??un.RED,this.left=l??un.EMPTY,this.right=c??un.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,i,r,l,c){return new un(t??this.key,i??this.value,r??this.color,l??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,i,r){let l=this;const c=r(t,l.key);return l=c<0?l.copy(null,null,null,l.left.insert(t,i,r),null):c===0?l.copy(null,i,null,null,null):l.copy(null,null,null,null,l.right.insert(t,i,r)),l.fixUp()}removeMin(){if(this.left.isEmpty())return un.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,i){let r,l=this;if(i(t,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(t,i),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),i(t,l.key)===0){if(l.right.isEmpty())return un.EMPTY;r=l.right.min(),l=l.copy(r.key,r.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(t,i))}return l.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,un.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,un.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,i)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw vt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw vt(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw vt(27949);return t+(this.isRed()?0:1)}}un.EMPTY=null,un.RED=!0,un.BLACK=!1;un.EMPTY=new class{constructor(){this.size=0}get key(){throw vt(57766)}get value(){throw vt(16141)}get color(){throw vt(16727)}get left(){throw vt(29726)}get right(){throw vt(36894)}copy(t,i,r,l,c){return this}insert(t,i,r){return new un(t,i)}remove(t,i){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $e{constructor(t){this.comparator=t,this.data=new Ie(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((i,r)=>(t(i),!1)))}forEachInRange(t,i){const r=this.data.getIteratorFrom(t[0]);for(;r.hasNext();){const l=r.getNext();if(this.comparator(l.key,t[1])>=0)return;i(l.key)}}forEachWhile(t,i){let r;for(r=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();r.hasNext();)if(!t(r.getNext().key))return}firstAfterOrEqual(t){const i=this.data.getIteratorFrom(t);return i.hasNext()?i.getNext().key:null}getIterator(){return new e0(this.data.getIterator())}getIteratorFrom(t){return new e0(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let i=this;return i.size<t.size&&(i=t,t=this),t.forEach((r=>{i=i.add(r)})),i}isEqual(t){if(!(t instanceof $e)||this.size!==t.size)return!1;const i=this.data.getIterator(),r=t.data.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=r.getNext().key;if(this.comparator(l,c)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((i=>{t.push(i)})),t}toString(){const t=[];return this.forEach((i=>t.push(i))),"SortedSet("+t.toString()+")"}copy(t){const i=new $e(this.comparator);return i.data=t,i}}class e0{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kn{constructor(t){this.fields=t,t.sort(cn.comparator)}static empty(){return new Kn([])}unionWith(t){let i=new $e(cn.comparator);for(const r of this.fields)i=i.add(r);for(const r of t)i=i.add(r);return new Kn(i.toArray())}covers(t){for(const i of this.fields)if(i.isPrefixOf(t))return!0;return!1}isEqual(t){return Ro(this.fields,t.fields,((i,r)=>i.isEqual(r)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $E extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fn{constructor(t){this.binaryString=t}static fromBase64String(t){const i=(function(l){try{return atob(l)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new $E("Invalid base64 string: "+c):c}})(t);return new fn(i)}static fromUint8Array(t){const i=(function(l){let c="";for(let d=0;d<l.length;++d)c+=String.fromCharCode(l[d]);return c})(t);return new fn(i)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const r=new Uint8Array(i.length);for(let l=0;l<i.length;l++)r[l]=i.charCodeAt(l);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Ht(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}fn.EMPTY_BYTE_STRING=new fn("");const C2=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function wr(s){if($t(!!s,39018),typeof s=="string"){let t=0;const i=C2.exec(s);if($t(!!i,46558,{timestamp:s}),i[1]){let l=i[1];l=(l+"000000000").substr(0,9),t=Number(l)}const r=new Date(s);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:ke(s.seconds),nanos:ke(s.nanos)}}function ke(s){return typeof s=="number"?s:typeof s=="string"?Number(s):0}function Rr(s){return typeof s=="string"?fn.fromBase64String(s):fn.fromUint8Array(s)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZE="server_timestamp",JE="__type__",WE="__previous_value__",tT="__local_write_time__";function tg(s){return(s?.mapValue?.fields||{})[JE]?.stringValue===ZE}function Lh(s){const t=s.mapValue.fields[WE];return tg(t)?Lh(t):t}function su(s){const t=wr(s.mapValue.fields[tT].timestampValue);return new Ee(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N2{constructor(t,i,r,l,c,d,p,_,y,A){this.databaseId=t,this.appId=i,this.persistenceKey=r,this.host=l,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=p,this.longPollingOptions=_,this.useFetchStreams=y,this.isUsingEmulator=A}}const vh="(default)";class ru{constructor(t,i){this.projectId=t,this.database=i||vh}static empty(){return new ru("","")}get isDefaultDatabase(){return this.database===vh}isEqual(t){return t instanceof ru&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eT="__type__",D2="__max__",$c={mapValue:{}},nT="__vector__",Eh="value";function xr(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?tg(s)?4:O2(s)?9007199254740991:M2(s)?10:11:vt(28295,{value:s})}function Xi(s,t){if(s===t)return!0;const i=xr(s);if(i!==xr(t))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===t.booleanValue;case 4:return su(s).isEqual(su(t));case 3:return(function(l,c){if(typeof l.timestampValue=="string"&&typeof c.timestampValue=="string"&&l.timestampValue.length===c.timestampValue.length)return l.timestampValue===c.timestampValue;const d=wr(l.timestampValue),p=wr(c.timestampValue);return d.seconds===p.seconds&&d.nanos===p.nanos})(s,t);case 5:return s.stringValue===t.stringValue;case 6:return(function(l,c){return Rr(l.bytesValue).isEqual(Rr(c.bytesValue))})(s,t);case 7:return s.referenceValue===t.referenceValue;case 8:return(function(l,c){return ke(l.geoPointValue.latitude)===ke(c.geoPointValue.latitude)&&ke(l.geoPointValue.longitude)===ke(c.geoPointValue.longitude)})(s,t);case 2:return(function(l,c){if("integerValue"in l&&"integerValue"in c)return ke(l.integerValue)===ke(c.integerValue);if("doubleValue"in l&&"doubleValue"in c){const d=ke(l.doubleValue),p=ke(c.doubleValue);return d===p?_h(d)===_h(p):isNaN(d)&&isNaN(p)}return!1})(s,t);case 9:return Ro(s.arrayValue.values||[],t.arrayValue.values||[],Xi);case 10:case 11:return(function(l,c){const d=l.mapValue.fields||{},p=c.mapValue.fields||{};if(t0(d)!==t0(p))return!1;for(const _ in d)if(d.hasOwnProperty(_)&&(p[_]===void 0||!Xi(d[_],p[_])))return!1;return!0})(s,t);default:return vt(52216,{left:s})}}function au(s,t){return(s.values||[]).find((i=>Xi(i,t)))!==void 0}function xo(s,t){if(s===t)return 0;const i=xr(s),r=xr(t);if(i!==r)return Ht(i,r);switch(i){case 0:case 9007199254740991:return 0;case 1:return Ht(s.booleanValue,t.booleanValue);case 2:return(function(c,d){const p=ke(c.integerValue||c.doubleValue),_=ke(d.integerValue||d.doubleValue);return p<_?-1:p>_?1:p===_?0:isNaN(p)?isNaN(_)?0:-1:1})(s,t);case 3:return n0(s.timestampValue,t.timestampValue);case 4:return n0(su(s),su(t));case 5:return Tm(s.stringValue,t.stringValue);case 6:return(function(c,d){const p=Rr(c),_=Rr(d);return p.compareTo(_)})(s.bytesValue,t.bytesValue);case 7:return(function(c,d){const p=c.split("/"),_=d.split("/");for(let y=0;y<p.length&&y<_.length;y++){const A=Ht(p[y],_[y]);if(A!==0)return A}return Ht(p.length,_.length)})(s.referenceValue,t.referenceValue);case 8:return(function(c,d){const p=Ht(ke(c.latitude),ke(d.latitude));return p!==0?p:Ht(ke(c.longitude),ke(d.longitude))})(s.geoPointValue,t.geoPointValue);case 9:return i0(s.arrayValue,t.arrayValue);case 10:return(function(c,d){const p=c.fields||{},_=d.fields||{},y=p[Eh]?.arrayValue,A=_[Eh]?.arrayValue,b=Ht(y?.values?.length||0,A?.values?.length||0);return b!==0?b:i0(y,A)})(s.mapValue,t.mapValue);case 11:return(function(c,d){if(c===$c.mapValue&&d===$c.mapValue)return 0;if(c===$c.mapValue)return 1;if(d===$c.mapValue)return-1;const p=c.fields||{},_=Object.keys(p),y=d.fields||{},A=Object.keys(y);_.sort(),A.sort();for(let b=0;b<_.length&&b<A.length;++b){const C=Tm(_[b],A[b]);if(C!==0)return C;const G=xo(p[_[b]],y[A[b]]);if(G!==0)return G}return Ht(_.length,A.length)})(s.mapValue,t.mapValue);default:throw vt(23264,{he:i})}}function n0(s,t){if(typeof s=="string"&&typeof t=="string"&&s.length===t.length)return Ht(s,t);const i=wr(s),r=wr(t),l=Ht(i.seconds,r.seconds);return l!==0?l:Ht(i.nanos,r.nanos)}function i0(s,t){const i=s.values||[],r=t.values||[];for(let l=0;l<i.length&&l<r.length;++l){const c=xo(i[l],r[l]);if(c)return c}return Ht(i.length,r.length)}function Io(s){return Am(s)}function Am(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?(function(i){const r=wr(i);return`time(${r.seconds},${r.nanos})`})(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?(function(i){return Rr(i).toBase64()})(s.bytesValue):"referenceValue"in s?(function(i){return gt.fromName(i).toString()})(s.referenceValue):"geoPointValue"in s?(function(i){return`geo(${i.latitude},${i.longitude})`})(s.geoPointValue):"arrayValue"in s?(function(i){let r="[",l=!0;for(const c of i.values||[])l?l=!1:r+=",",r+=Am(c);return r+"]"})(s.arrayValue):"mapValue"in s?(function(i){const r=Object.keys(i.fields||{}).sort();let l="{",c=!0;for(const d of r)c?c=!1:l+=",",l+=`${d}:${Am(i.fields[d])}`;return l+"}"})(s.mapValue):vt(61005,{value:s})}function rh(s){switch(xr(s)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=Lh(s);return t?16+rh(t):16;case 5:return 2*s.stringValue.length;case 6:return Rr(s.bytesValue).approximateByteSize();case 7:return s.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((l,c)=>l+rh(c)),0)})(s.arrayValue);case 10:case 11:return(function(r){let l=0;return Dr(r.fields,((c,d)=>{l+=c.length+rh(d)})),l})(s.mapValue);default:throw vt(13486,{value:s})}}function s0(s,t){return{referenceValue:`projects/${s.projectId}/databases/${s.database}/documents/${t.path.canonicalString()}`}}function Sm(s){return!!s&&"integerValue"in s}function eg(s){return!!s&&"arrayValue"in s}function r0(s){return!!s&&"nullValue"in s}function a0(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function ah(s){return!!s&&"mapValue"in s}function M2(s){return(s?.mapValue?.fields||{})[eT]?.stringValue===nT}function $l(s){if(s.geoPointValue)return{geoPointValue:{...s.geoPointValue}};if(s.timestampValue&&typeof s.timestampValue=="object")return{timestampValue:{...s.timestampValue}};if(s.mapValue){const t={mapValue:{fields:{}}};return Dr(s.mapValue.fields,((i,r)=>t.mapValue.fields[i]=$l(r))),t}if(s.arrayValue){const t={arrayValue:{values:[]}};for(let i=0;i<(s.arrayValue.values||[]).length;++i)t.arrayValue.values[i]=$l(s.arrayValue.values[i]);return t}return{...s}}function O2(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue===D2}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tn{constructor(t){this.value=t}static empty(){return new Tn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let i=this.value;for(let r=0;r<t.length-1;++r)if(i=(i.mapValue.fields||{})[t.get(r)],!ah(i))return null;return i=(i.mapValue.fields||{})[t.lastSegment()],i||null}}set(t,i){this.getFieldsMap(t.popLast())[t.lastSegment()]=$l(i)}setAll(t){let i=cn.emptyPath(),r={},l=[];t.forEach(((d,p)=>{if(!i.isImmediateParentOf(p)){const _=this.getFieldsMap(i);this.applyChanges(_,r,l),r={},l=[],i=p.popLast()}d?r[p.lastSegment()]=$l(d):l.push(p.lastSegment())}));const c=this.getFieldsMap(i);this.applyChanges(c,r,l)}delete(t){const i=this.field(t.popLast());ah(i)&&i.mapValue.fields&&delete i.mapValue.fields[t.lastSegment()]}isEqual(t){return Xi(this.value,t.value)}getFieldsMap(t){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let r=0;r<t.length;++r){let l=i.mapValue.fields[t.get(r)];ah(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},i.mapValue.fields[t.get(r)]=l),i=l}return i.mapValue.fields}applyChanges(t,i,r){Dr(i,((l,c)=>t[l]=c));for(const l of r)delete t[l]}clone(){return new Tn($l(this.value))}}function iT(s){const t=[];return Dr(s.fields,((i,r)=>{const l=new cn([i]);if(ah(r)){const c=iT(r.mapValue).fields;if(c.length===0)t.push(l);else for(const d of c)t.push(l.child(d))}else t.push(l)})),new Kn(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class en{constructor(t,i,r,l,c,d,p){this.key=t,this.documentType=i,this.version=r,this.readTime=l,this.createTime=c,this.data=d,this.documentState=p}static newInvalidDocument(t){return new en(t,0,St.min(),St.min(),St.min(),Tn.empty(),0)}static newFoundDocument(t,i,r,l){return new en(t,1,i,St.min(),r,l,0)}static newNoDocument(t,i){return new en(t,2,i,St.min(),St.min(),Tn.empty(),0)}static newUnknownDocument(t,i){return new en(t,3,i,St.min(),St.min(),Tn.empty(),2)}convertToFoundDocument(t,i){return!this.createTime.isEqual(St.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Tn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Tn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=St.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof en&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new en(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Th{constructor(t,i){this.position=t,this.inclusive=i}}function o0(s,t,i){let r=0;for(let l=0;l<s.position.length;l++){const c=t[l],d=s.position[l];if(c.field.isKeyField()?r=gt.comparator(gt.fromName(d.referenceValue),i.key):r=xo(d,i.data.field(c.field)),c.dir==="desc"&&(r*=-1),r!==0)break}return r}function l0(s,t){if(s===null)return t===null;if(t===null||s.inclusive!==t.inclusive||s.position.length!==t.position.length)return!1;for(let i=0;i<s.position.length;i++)if(!Xi(s.position[i],t.position[i]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ou{constructor(t,i="asc"){this.field=t,this.dir=i}}function V2(s,t){return s.dir===t.dir&&s.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sT{}class Ge extends sT{constructor(t,i,r){super(),this.field=t,this.op=i,this.value=r}static create(t,i,r){return t.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(t,i,r):new L2(t,i,r):i==="array-contains"?new j2(t,r):i==="in"?new z2(t,r):i==="not-in"?new B2(t,r):i==="array-contains-any"?new q2(t,r):new Ge(t,i,r)}static createKeyFieldInFilter(t,i,r){return i==="in"?new k2(t,r):new P2(t,r)}matches(t){const i=t.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(xo(i,this.value)):i!==null&&xr(this.value)===xr(i)&&this.matchesComparison(xo(i,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return vt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Si extends sT{constructor(t,i){super(),this.filters=t,this.op=i,this.Pe=null}static create(t,i){return new Si(t,i)}matches(t){return rT(this)?this.filters.find((i=>!i.matches(t)))===void 0:this.filters.find((i=>i.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,i)=>t.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function rT(s){return s.op==="and"}function aT(s){return U2(s)&&rT(s)}function U2(s){for(const t of s.filters)if(t instanceof Si)return!1;return!0}function bm(s){if(s instanceof Ge)return s.field.canonicalString()+s.op.toString()+Io(s.value);if(aT(s))return s.filters.map((t=>bm(t))).join(",");{const t=s.filters.map((i=>bm(i))).join(",");return`${s.op}(${t})`}}function oT(s,t){return s instanceof Ge?(function(r,l){return l instanceof Ge&&r.op===l.op&&r.field.isEqual(l.field)&&Xi(r.value,l.value)})(s,t):s instanceof Si?(function(r,l){return l instanceof Si&&r.op===l.op&&r.filters.length===l.filters.length?r.filters.reduce(((c,d,p)=>c&&oT(d,l.filters[p])),!0):!1})(s,t):void vt(19439)}function lT(s){return s instanceof Ge?(function(i){return`${i.field.canonicalString()} ${i.op} ${Io(i.value)}`})(s):s instanceof Si?(function(i){return i.op.toString()+" {"+i.getFilters().map(lT).join(" ,")+"}"})(s):"Filter"}class L2 extends Ge{constructor(t,i,r){super(t,i,r),this.key=gt.fromName(r.referenceValue)}matches(t){const i=gt.comparator(t.key,this.key);return this.matchesComparison(i)}}class k2 extends Ge{constructor(t,i){super(t,"in",i),this.keys=uT("in",i)}matches(t){return this.keys.some((i=>i.isEqual(t.key)))}}class P2 extends Ge{constructor(t,i){super(t,"not-in",i),this.keys=uT("not-in",i)}matches(t){return!this.keys.some((i=>i.isEqual(t.key)))}}function uT(s,t){return(t.arrayValue?.values||[]).map((i=>gt.fromName(i.referenceValue)))}class j2 extends Ge{constructor(t,i){super(t,"array-contains",i)}matches(t){const i=t.data.field(this.field);return eg(i)&&au(i.arrayValue,this.value)}}class z2 extends Ge{constructor(t,i){super(t,"in",i)}matches(t){const i=t.data.field(this.field);return i!==null&&au(this.value.arrayValue,i)}}class B2 extends Ge{constructor(t,i){super(t,"not-in",i)}matches(t){if(au(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=t.data.field(this.field);return i!==null&&i.nullValue===void 0&&!au(this.value.arrayValue,i)}}class q2 extends Ge{constructor(t,i){super(t,"array-contains-any",i)}matches(t){const i=t.data.field(this.field);return!(!eg(i)||!i.arrayValue.values)&&i.arrayValue.values.some((r=>au(this.value.arrayValue,r)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H2{constructor(t,i=null,r=[],l=[],c=null,d=null,p=null){this.path=t,this.collectionGroup=i,this.orderBy=r,this.filters=l,this.limit=c,this.startAt=d,this.endAt=p,this.Te=null}}function u0(s,t=null,i=[],r=[],l=null,c=null,d=null){return new H2(s,t,i,r,l,c,d)}function ng(s){const t=xt(s);if(t.Te===null){let i=t.path.canonicalString();t.collectionGroup!==null&&(i+="|cg:"+t.collectionGroup),i+="|f:",i+=t.filters.map((r=>bm(r))).join(","),i+="|ob:",i+=t.orderBy.map((r=>(function(c){return c.field.canonicalString()+c.dir})(r))).join(","),_u(t.limit)||(i+="|l:",i+=t.limit),t.startAt&&(i+="|lb:",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map((r=>Io(r))).join(",")),t.endAt&&(i+="|ub:",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map((r=>Io(r))).join(",")),t.Te=i}return t.Te}function ig(s,t){if(s.limit!==t.limit||s.orderBy.length!==t.orderBy.length)return!1;for(let i=0;i<s.orderBy.length;i++)if(!V2(s.orderBy[i],t.orderBy[i]))return!1;if(s.filters.length!==t.filters.length)return!1;for(let i=0;i<s.filters.length;i++)if(!oT(s.filters[i],t.filters[i]))return!1;return s.collectionGroup===t.collectionGroup&&!!s.path.isEqual(t.path)&&!!l0(s.startAt,t.startAt)&&l0(s.endAt,t.endAt)}function wm(s){return gt.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ko{constructor(t,i=null,r=[],l=[],c=null,d="F",p=null,_=null){this.path=t,this.collectionGroup=i,this.explicitOrderBy=r,this.filters=l,this.limit=c,this.limitType=d,this.startAt=p,this.endAt=_,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function F2(s,t,i,r,l,c,d,p){return new ko(s,t,i,r,l,c,d,p)}function kh(s){return new ko(s)}function c0(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}function cT(s){return s.collectionGroup!==null}function Zl(s){const t=xt(s);if(t.Ie===null){t.Ie=[];const i=new Set;for(const c of t.explicitOrderBy)t.Ie.push(c),i.add(c.field.canonicalString());const r=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(d){let p=new $e(cn.comparator);return d.filters.forEach((_=>{_.getFlattenedFilters().forEach((y=>{y.isInequality()&&(p=p.add(y.field))}))})),p})(t).forEach((c=>{i.has(c.canonicalString())||c.isKeyField()||t.Ie.push(new ou(c,r))})),i.has(cn.keyField().canonicalString())||t.Ie.push(new ou(cn.keyField(),r))}return t.Ie}function Gi(s){const t=xt(s);return t.Ee||(t.Ee=G2(t,Zl(s))),t.Ee}function G2(s,t){if(s.limitType==="F")return u0(s.path,s.collectionGroup,t,s.filters,s.limit,s.startAt,s.endAt);{t=t.map((l=>{const c=l.dir==="desc"?"asc":"desc";return new ou(l.field,c)}));const i=s.endAt?new Th(s.endAt.position,s.endAt.inclusive):null,r=s.startAt?new Th(s.startAt.position,s.startAt.inclusive):null;return u0(s.path,s.collectionGroup,t,s.filters,s.limit,i,r)}}function Rm(s,t){const i=s.filters.concat([t]);return new ko(s.path,s.collectionGroup,s.explicitOrderBy.slice(),i,s.limit,s.limitType,s.startAt,s.endAt)}function xm(s,t,i){return new ko(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),t,i,s.startAt,s.endAt)}function Ph(s,t){return ig(Gi(s),Gi(t))&&s.limitType===t.limitType}function hT(s){return`${ng(Gi(s))}|lt:${s.limitType}`}function go(s){return`Query(target=${(function(i){let r=i.path.canonicalString();return i.collectionGroup!==null&&(r+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(r+=`, filters: [${i.filters.map((l=>lT(l))).join(", ")}]`),_u(i.limit)||(r+=", limit: "+i.limit),i.orderBy.length>0&&(r+=`, orderBy: [${i.orderBy.map((l=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(l))).join(", ")}]`),i.startAt&&(r+=", startAt: ",r+=i.startAt.inclusive?"b:":"a:",r+=i.startAt.position.map((l=>Io(l))).join(",")),i.endAt&&(r+=", endAt: ",r+=i.endAt.inclusive?"a:":"b:",r+=i.endAt.position.map((l=>Io(l))).join(",")),`Target(${r})`})(Gi(s))}; limitType=${s.limitType})`}function jh(s,t){return t.isFoundDocument()&&(function(r,l){const c=l.key.path;return r.collectionGroup!==null?l.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(c):gt.isDocumentKey(r.path)?r.path.isEqual(c):r.path.isImmediateParentOf(c)})(s,t)&&(function(r,l){for(const c of Zl(r))if(!c.field.isKeyField()&&l.data.field(c.field)===null)return!1;return!0})(s,t)&&(function(r,l){for(const c of r.filters)if(!c.matches(l))return!1;return!0})(s,t)&&(function(r,l){return!(r.startAt&&!(function(d,p,_){const y=o0(d,p,_);return d.inclusive?y<=0:y<0})(r.startAt,Zl(r),l)||r.endAt&&!(function(d,p,_){const y=o0(d,p,_);return d.inclusive?y>=0:y>0})(r.endAt,Zl(r),l))})(s,t)}function Q2(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function fT(s){return(t,i)=>{let r=!1;for(const l of Zl(s)){const c=Y2(l,t,i);if(c!==0)return c;r=r||l.field.isKeyField()}return 0}}function Y2(s,t,i){const r=s.field.isKeyField()?gt.comparator(t.key,i.key):(function(c,d,p){const _=d.data.field(c),y=p.data.field(c);return _!==null&&y!==null?xo(_,y):vt(42886)})(s.field,t,i);switch(s.dir){case"asc":return r;case"desc":return-1*r;default:return vt(19790,{direction:s.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ta{constructor(t,i){this.mapKeyFn=t,this.equalsFn=i,this.inner={},this.innerSize=0}get(t){const i=this.mapKeyFn(t),r=this.inner[i];if(r!==void 0){for(const[l,c]of r)if(this.equalsFn(l,t))return c}}has(t){return this.get(t)!==void 0}set(t,i){const r=this.mapKeyFn(t),l=this.inner[r];if(l===void 0)return this.inner[r]=[[t,i]],void this.innerSize++;for(let c=0;c<l.length;c++)if(this.equalsFn(l[c][0],t))return void(l[c]=[t,i]);l.push([t,i]),this.innerSize++}delete(t){const i=this.mapKeyFn(t),r=this.inner[i];if(r===void 0)return!1;for(let l=0;l<r.length;l++)if(this.equalsFn(r[l][0],t))return r.length===1?delete this.inner[i]:r.splice(l,1),this.innerSize--,!0;return!1}forEach(t){Dr(this.inner,((i,r)=>{for(const[l,c]of r)t(l,c)}))}isEmpty(){return XE(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K2=new Ie(gt.comparator);function Ds(){return K2}const dT=new Ie(gt.comparator);function Gl(...s){let t=dT;for(const i of s)t=t.insert(i.key,i);return t}function mT(s){let t=dT;return s.forEach(((i,r)=>t=t.insert(i,r.overlayedDocument))),t}function da(){return Jl()}function gT(){return Jl()}function Jl(){return new Ta((s=>s.toString()),((s,t)=>s.isEqual(t)))}const X2=new Ie(gt.comparator),$2=new $e(gt.comparator);function Ft(...s){let t=$2;for(const i of s)t=t.add(i);return t}const Z2=new $e(Ht);function J2(){return Z2}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sg(s,t){if(s.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:_h(t)?"-0":t}}function pT(s){return{integerValue:""+s}}function yT(s,t){return R2(t)?pT(t):sg(s,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zh{constructor(){this._=void 0}}function W2(s,t,i){return s instanceof lu?(function(l,c){const d={fields:{[JE]:{stringValue:ZE},[tT]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return c&&tg(c)&&(c=Lh(c)),c&&(d.fields[WE]=c),{mapValue:d}})(i,t):s instanceof uu?vT(s,t):s instanceof cu?ET(s,t):(function(l,c){const d=_T(l,c),p=h0(d)+h0(l.Ae);return Sm(d)&&Sm(l.Ae)?pT(p):sg(l.serializer,p)})(s,t)}function tx(s,t,i){return s instanceof uu?vT(s,t):s instanceof cu?ET(s,t):i}function _T(s,t){return s instanceof hu?(function(r){return Sm(r)||(function(c){return!!c&&"doubleValue"in c})(r)})(t)?t:{integerValue:0}:null}class lu extends zh{}class uu extends zh{constructor(t){super(),this.elements=t}}function vT(s,t){const i=TT(t);for(const r of s.elements)i.some((l=>Xi(l,r)))||i.push(r);return{arrayValue:{values:i}}}class cu extends zh{constructor(t){super(),this.elements=t}}function ET(s,t){let i=TT(t);for(const r of s.elements)i=i.filter((l=>!Xi(l,r)));return{arrayValue:{values:i}}}class hu extends zh{constructor(t,i){super(),this.serializer=t,this.Ae=i}}function h0(s){return ke(s.integerValue||s.doubleValue)}function TT(s){return eg(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AT{constructor(t,i){this.field=t,this.transform=i}}function ex(s,t){return s.field.isEqual(t.field)&&(function(r,l){return r instanceof uu&&l instanceof uu||r instanceof cu&&l instanceof cu?Ro(r.elements,l.elements,Xi):r instanceof hu&&l instanceof hu?Xi(r.Ae,l.Ae):r instanceof lu&&l instanceof lu})(s.transform,t.transform)}class nx{constructor(t,i){this.version=t,this.transformResults=i}}class hn{constructor(t,i){this.updateTime=t,this.exists=i}static none(){return new hn}static exists(t){return new hn(void 0,t)}static updateTime(t){return new hn(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function oh(s,t){return s.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(s.updateTime):s.exists===void 0||s.exists===t.isFoundDocument()}class Bh{}function ST(s,t){if(!s.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return s.isNoDocument()?new qh(s.key,hn.none()):new vu(s.key,s.data,hn.none());{const i=s.data,r=Tn.empty();let l=new $e(cn.comparator);for(let c of t.fields)if(!l.has(c)){let d=i.field(c);d===null&&c.length>1&&(c=c.popLast(),d=i.field(c)),d===null?r.delete(c):r.set(c,d),l=l.add(c)}return new Mr(s.key,r,new Kn(l.toArray()),hn.none())}}function ix(s,t,i){s instanceof vu?(function(l,c,d){const p=l.value.clone(),_=d0(l.fieldTransforms,c,d.transformResults);p.setAll(_),c.convertToFoundDocument(d.version,p).setHasCommittedMutations()})(s,t,i):s instanceof Mr?(function(l,c,d){if(!oh(l.precondition,c))return void c.convertToUnknownDocument(d.version);const p=d0(l.fieldTransforms,c,d.transformResults),_=c.data;_.setAll(bT(l)),_.setAll(p),c.convertToFoundDocument(d.version,_).setHasCommittedMutations()})(s,t,i):(function(l,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()})(0,t,i)}function Wl(s,t,i,r){return s instanceof vu?(function(c,d,p,_){if(!oh(c.precondition,d))return p;const y=c.value.clone(),A=m0(c.fieldTransforms,_,d);return y.setAll(A),d.convertToFoundDocument(d.version,y).setHasLocalMutations(),null})(s,t,i,r):s instanceof Mr?(function(c,d,p,_){if(!oh(c.precondition,d))return p;const y=m0(c.fieldTransforms,_,d),A=d.data;return A.setAll(bT(c)),A.setAll(y),d.convertToFoundDocument(d.version,A).setHasLocalMutations(),p===null?null:p.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((b=>b.field)))})(s,t,i,r):(function(c,d,p){return oh(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):p})(s,t,i)}function sx(s,t){let i=null;for(const r of s.fieldTransforms){const l=t.data.field(r.field),c=_T(r.transform,l||null);c!=null&&(i===null&&(i=Tn.empty()),i.set(r.field,c))}return i||null}function f0(s,t){return s.type===t.type&&!!s.key.isEqual(t.key)&&!!s.precondition.isEqual(t.precondition)&&!!(function(r,l){return r===void 0&&l===void 0||!(!r||!l)&&Ro(r,l,((c,d)=>ex(c,d)))})(s.fieldTransforms,t.fieldTransforms)&&(s.type===0?s.value.isEqual(t.value):s.type!==1||s.data.isEqual(t.data)&&s.fieldMask.isEqual(t.fieldMask))}class vu extends Bh{constructor(t,i,r,l=[]){super(),this.key=t,this.value=i,this.precondition=r,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class Mr extends Bh{constructor(t,i,r,l,c=[]){super(),this.key=t,this.data=i,this.fieldMask=r,this.precondition=l,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function bT(s){const t=new Map;return s.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const r=s.data.field(i);t.set(i,r)}})),t}function d0(s,t,i){const r=new Map;$t(s.length===i.length,32656,{Re:i.length,Ve:s.length});for(let l=0;l<i.length;l++){const c=s[l],d=c.transform,p=t.data.field(c.field);r.set(c.field,tx(d,p,i[l]))}return r}function m0(s,t,i){const r=new Map;for(const l of s){const c=l.transform,d=i.data.field(l.field);r.set(l.field,W2(c,d,t))}return r}class qh extends Bh{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class wT extends Bh{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rx{constructor(t,i,r,l){this.batchId=t,this.localWriteTime=i,this.baseMutations=r,this.mutations=l}applyToRemoteDocument(t,i){const r=i.mutationResults;for(let l=0;l<this.mutations.length;l++){const c=this.mutations[l];c.key.isEqual(t.key)&&ix(c,t,r[l])}}applyToLocalView(t,i){for(const r of this.baseMutations)r.key.isEqual(t.key)&&(i=Wl(r,t,i,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(t.key)&&(i=Wl(r,t,i,this.localWriteTime));return i}applyToLocalDocumentSet(t,i){const r=gT();return this.mutations.forEach((l=>{const c=t.get(l.key),d=c.overlayedDocument;let p=this.applyToLocalView(d,c.mutatedFields);p=i.has(l.key)?null:p;const _=ST(d,p);_!==null&&r.set(l.key,_),d.isValidDocument()||d.convertToNoDocument(St.min())})),r}keys(){return this.mutations.reduce(((t,i)=>t.add(i.key)),Ft())}isEqual(t){return this.batchId===t.batchId&&Ro(this.mutations,t.mutations,((i,r)=>f0(i,r)))&&Ro(this.baseMutations,t.baseMutations,((i,r)=>f0(i,r)))}}class rg{constructor(t,i,r,l){this.batch=t,this.commitVersion=i,this.mutationResults=r,this.docVersions=l}static from(t,i,r){$t(t.mutations.length===r.length,58842,{me:t.mutations.length,fe:r.length});let l=(function(){return X2})();const c=t.mutations;for(let d=0;d<c.length;d++)l=l.insert(c[d].key,r[d].version);return new rg(t,i,r,l)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ax{constructor(t,i){this.largestBatchId=t,this.mutation=i}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ox{constructor(t,i){this.count=t,this.unchangedNames=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Fe,Xt;function RT(s){switch(s){case K.OK:return vt(64938);case K.CANCELLED:case K.UNKNOWN:case K.DEADLINE_EXCEEDED:case K.RESOURCE_EXHAUSTED:case K.INTERNAL:case K.UNAVAILABLE:case K.UNAUTHENTICATED:return!1;case K.INVALID_ARGUMENT:case K.NOT_FOUND:case K.ALREADY_EXISTS:case K.PERMISSION_DENIED:case K.FAILED_PRECONDITION:case K.ABORTED:case K.OUT_OF_RANGE:case K.UNIMPLEMENTED:case K.DATA_LOSS:return!0;default:return vt(15467,{code:s})}}function xT(s){if(s===void 0)return Ns("GRPC error has no .code"),K.UNKNOWN;switch(s){case Fe.OK:return K.OK;case Fe.CANCELLED:return K.CANCELLED;case Fe.UNKNOWN:return K.UNKNOWN;case Fe.DEADLINE_EXCEEDED:return K.DEADLINE_EXCEEDED;case Fe.RESOURCE_EXHAUSTED:return K.RESOURCE_EXHAUSTED;case Fe.INTERNAL:return K.INTERNAL;case Fe.UNAVAILABLE:return K.UNAVAILABLE;case Fe.UNAUTHENTICATED:return K.UNAUTHENTICATED;case Fe.INVALID_ARGUMENT:return K.INVALID_ARGUMENT;case Fe.NOT_FOUND:return K.NOT_FOUND;case Fe.ALREADY_EXISTS:return K.ALREADY_EXISTS;case Fe.PERMISSION_DENIED:return K.PERMISSION_DENIED;case Fe.FAILED_PRECONDITION:return K.FAILED_PRECONDITION;case Fe.ABORTED:return K.ABORTED;case Fe.OUT_OF_RANGE:return K.OUT_OF_RANGE;case Fe.UNIMPLEMENTED:return K.UNIMPLEMENTED;case Fe.DATA_LOSS:return K.DATA_LOSS;default:return vt(39323,{code:s})}}(Xt=Fe||(Fe={}))[Xt.OK=0]="OK",Xt[Xt.CANCELLED=1]="CANCELLED",Xt[Xt.UNKNOWN=2]="UNKNOWN",Xt[Xt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Xt[Xt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Xt[Xt.NOT_FOUND=5]="NOT_FOUND",Xt[Xt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Xt[Xt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Xt[Xt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Xt[Xt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Xt[Xt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Xt[Xt.ABORTED=10]="ABORTED",Xt[Xt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Xt[Xt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Xt[Xt.INTERNAL=13]="INTERNAL",Xt[Xt.UNAVAILABLE=14]="UNAVAILABLE",Xt[Xt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lx(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ux=new Tr([4294967295,4294967295],0);function g0(s){const t=lx().encode(s),i=new PE;return i.update(t),new Uint8Array(i.digest())}function p0(s){const t=new DataView(s.buffer),i=t.getUint32(0,!0),r=t.getUint32(4,!0),l=t.getUint32(8,!0),c=t.getUint32(12,!0);return[new Tr([i,r],0),new Tr([l,c],0)]}class ag{constructor(t,i,r){if(this.bitmap=t,this.padding=i,this.hashCount=r,i<0||i>=8)throw new Ql(`Invalid padding: ${i}`);if(r<0)throw new Ql(`Invalid hash count: ${r}`);if(t.length>0&&this.hashCount===0)throw new Ql(`Invalid hash count: ${r}`);if(t.length===0&&i!==0)throw new Ql(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*t.length-i,this.pe=Tr.fromNumber(this.ge)}ye(t,i,r){let l=t.add(i.multiply(Tr.fromNumber(r)));return l.compare(ux)===1&&(l=new Tr([l.getBits(0),l.getBits(1)],0)),l.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const i=g0(t),[r,l]=p0(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(r,l,c);if(!this.we(d))return!1}return!0}static create(t,i,r){const l=t%8==0?0:8-t%8,c=new Uint8Array(Math.ceil(t/8)),d=new ag(c,l,i);return r.forEach((p=>d.insert(p))),d}insert(t){if(this.ge===0)return;const i=g0(t),[r,l]=p0(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(r,l,c);this.Se(d)}}Se(t){const i=Math.floor(t/8),r=t%8;this.bitmap[i]|=1<<r}}class Ql extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hh{constructor(t,i,r,l,c){this.snapshotVersion=t,this.targetChanges=i,this.targetMismatches=r,this.documentUpdates=l,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(t,i,r){const l=new Map;return l.set(t,Eu.createSynthesizedTargetChangeForCurrentChange(t,i,r)),new Hh(St.min(),l,new Ie(Ht),Ds(),Ft())}}class Eu{constructor(t,i,r,l,c){this.resumeToken=t,this.current=i,this.addedDocuments=r,this.modifiedDocuments=l,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(t,i,r){return new Eu(r,i,Ft(),Ft(),Ft())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lh{constructor(t,i,r,l){this.be=t,this.removedTargetIds=i,this.key=r,this.De=l}}class IT{constructor(t,i){this.targetId=t,this.Ce=i}}class CT{constructor(t,i,r=fn.EMPTY_BYTE_STRING,l=null){this.state=t,this.targetIds=i,this.resumeToken=r,this.cause=l}}class y0{constructor(){this.ve=0,this.Fe=_0(),this.Me=fn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=Ft(),i=Ft(),r=Ft();return this.Fe.forEach(((l,c)=>{switch(c){case 0:t=t.add(l);break;case 2:i=i.add(l);break;case 1:r=r.add(l);break;default:vt(38017,{changeType:c})}})),new Eu(this.Me,this.xe,t,i,r)}qe(){this.Oe=!1,this.Fe=_0()}Qe(t,i){this.Oe=!0,this.Fe=this.Fe.insert(t,i)}$e(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}Ue(){this.ve+=1}Ke(){this.ve-=1,$t(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class cx{constructor(t){this.Ge=t,this.ze=new Map,this.je=Ds(),this.Je=Zc(),this.He=Zc(),this.Ye=new Ie(Ht)}Ze(t){for(const i of t.be)t.De&&t.De.isFoundDocument()?this.Xe(i,t.De):this.et(i,t.key,t.De);for(const i of t.removedTargetIds)this.et(i,t.key,t.De)}tt(t){this.forEachTarget(t,(i=>{const r=this.nt(i);switch(t.state){case 0:this.rt(i)&&r.Le(t.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(t.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(r.We(),r.Le(t.resumeToken));break;case 4:this.rt(i)&&(this.it(i),r.Le(t.resumeToken));break;default:vt(56790,{state:t.state})}}))}forEachTarget(t,i){t.targetIds.length>0?t.targetIds.forEach(i):this.ze.forEach(((r,l)=>{this.rt(l)&&i(l)}))}st(t){const i=t.targetId,r=t.Ce.count,l=this.ot(i);if(l){const c=l.target;if(wm(c))if(r===0){const d=new gt(c.path);this.et(i,d,en.newNoDocument(d,St.min()))}else $t(r===1,20013,{expectedCount:r});else{const d=this._t(i);if(d!==r){const p=this.ut(t),_=p?this.ct(p,t,d):1;if(_!==0){this.it(i);const y=_===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(i,y)}}}}}ut(t){const i=t.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:r="",padding:l=0},hashCount:c=0}=i;let d,p;try{d=Rr(r).toUint8Array()}catch(_){if(_ instanceof $E)return wo("Decoding the base64 bloom filter in existence filter failed ("+_.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw _}try{p=new ag(d,l,c)}catch(_){return wo(_ instanceof Ql?"BloomFilter error: ":"Applying bloom filter failed: ",_),null}return p.ge===0?null:p}ct(t,i,r){return i.Ce.count===r-this.Pt(t,i.targetId)?0:2}Pt(t,i){const r=this.Ge.getRemoteKeysForTarget(i);let l=0;return r.forEach((c=>{const d=this.Ge.ht(),p=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;t.mightContain(p)||(this.et(i,c,null),l++)})),l}Tt(t){const i=new Map;this.ze.forEach(((c,d)=>{const p=this.ot(d);if(p){if(c.current&&wm(p.target)){const _=new gt(p.target.path);this.It(_).has(d)||this.Et(d,_)||this.et(d,_,en.newNoDocument(_,t))}c.Be&&(i.set(d,c.ke()),c.qe())}}));let r=Ft();this.He.forEach(((c,d)=>{let p=!0;d.forEachWhile((_=>{const y=this.ot(_);return!y||y.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)})),p&&(r=r.add(c))})),this.je.forEach(((c,d)=>d.setReadTime(t)));const l=new Hh(t,i,this.Ye,this.je,r);return this.je=Ds(),this.Je=Zc(),this.He=Zc(),this.Ye=new Ie(Ht),l}Xe(t,i){if(!this.rt(t))return;const r=this.Et(t,i.key)?2:0;this.nt(t).Qe(i.key,r),this.je=this.je.insert(i.key,i),this.Je=this.Je.insert(i.key,this.It(i.key).add(t)),this.He=this.He.insert(i.key,this.dt(i.key).add(t))}et(t,i,r){if(!this.rt(t))return;const l=this.nt(t);this.Et(t,i)?l.Qe(i,1):l.$e(i),this.He=this.He.insert(i,this.dt(i).delete(t)),this.He=this.He.insert(i,this.dt(i).add(t)),r&&(this.je=this.je.insert(i,r))}removeTarget(t){this.ze.delete(t)}_t(t){const i=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+i.addedDocuments.size-i.removedDocuments.size}Ue(t){this.nt(t).Ue()}nt(t){let i=this.ze.get(t);return i||(i=new y0,this.ze.set(t,i)),i}dt(t){let i=this.He.get(t);return i||(i=new $e(Ht),this.He=this.He.insert(t,i)),i}It(t){let i=this.Je.get(t);return i||(i=new $e(Ht),this.Je=this.Je.insert(t,i)),i}rt(t){const i=this.ot(t)!==null;return i||ut("WatchChangeAggregator","Detected inactive target",t),i}ot(t){const i=this.ze.get(t);return i&&i.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new y0),this.Ge.getRemoteKeysForTarget(t).forEach((i=>{this.et(t,i,null)}))}Et(t,i){return this.Ge.getRemoteKeysForTarget(t).has(i)}}function Zc(){return new Ie(gt.comparator)}function _0(){return new Ie(gt.comparator)}const hx={asc:"ASCENDING",desc:"DESCENDING"},fx={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},dx={and:"AND",or:"OR"};class mx{constructor(t,i){this.databaseId=t,this.useProto3Json=i}}function Im(s,t){return s.useProto3Json||_u(t)?t:{value:t}}function Ah(s,t){return s.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function NT(s,t){return s.useProto3Json?t.toBase64():t.toUint8Array()}function gx(s,t){return Ah(s,t.toTimestamp())}function Xn(s){return $t(!!s,49232),St.fromTimestamp((function(i){const r=wr(i);return new Ee(r.seconds,r.nanos)})(s))}function og(s,t){return Cm(s,t).canonicalString()}function Cm(s,t){const i=(function(l){return new fe(["projects",l.projectId,"databases",l.database])})(s).child("documents");return t===void 0?i:i.child(t)}function DT(s){const t=fe.fromString(s);return $t(kT(t),10190,{key:t.toString()}),t}function Sh(s,t){return og(s.databaseId,t.path)}function tu(s,t){const i=DT(t);if(i.get(1)!==s.databaseId.projectId)throw new lt(K.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+s.databaseId.projectId);if(i.get(3)!==s.databaseId.database)throw new lt(K.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+s.databaseId.database);return new gt(OT(i))}function MT(s,t){return og(s.databaseId,t)}function px(s){const t=DT(s);return t.length===4?fe.emptyPath():OT(t)}function Nm(s){return new fe(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function OT(s){return $t(s.length>4&&s.get(4)==="documents",29091,{key:s.toString()}),s.popFirst(5)}function v0(s,t,i){return{name:Sh(s,t),fields:i.value.mapValue.fields}}function yx(s,t){return"found"in t?(function(r,l){$t(!!l.found,43571),l.found.name,l.found.updateTime;const c=tu(r,l.found.name),d=Xn(l.found.updateTime),p=l.found.createTime?Xn(l.found.createTime):St.min(),_=new Tn({mapValue:{fields:l.found.fields}});return en.newFoundDocument(c,d,p,_)})(s,t):"missing"in t?(function(r,l){$t(!!l.missing,3894),$t(!!l.readTime,22933);const c=tu(r,l.missing),d=Xn(l.readTime);return en.newNoDocument(c,d)})(s,t):vt(7234,{result:t})}function _x(s,t){let i;if("targetChange"in t){t.targetChange;const r=(function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:vt(39313,{state:y})})(t.targetChange.targetChangeType||"NO_CHANGE"),l=t.targetChange.targetIds||[],c=(function(y,A){return y.useProto3Json?($t(A===void 0||typeof A=="string",58123),fn.fromBase64String(A||"")):($t(A===void 0||A instanceof Buffer||A instanceof Uint8Array,16193),fn.fromUint8Array(A||new Uint8Array))})(s,t.targetChange.resumeToken),d=t.targetChange.cause,p=d&&(function(y){const A=y.code===void 0?K.UNKNOWN:xT(y.code);return new lt(A,y.message||"")})(d);i=new CT(r,l,c,p||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const l=tu(s,r.document.name),c=Xn(r.document.updateTime),d=r.document.createTime?Xn(r.document.createTime):St.min(),p=new Tn({mapValue:{fields:r.document.fields}}),_=en.newFoundDocument(l,c,d,p),y=r.targetIds||[],A=r.removedTargetIds||[];i=new lh(y,A,_.key,_)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const l=tu(s,r.document),c=r.readTime?Xn(r.readTime):St.min(),d=en.newNoDocument(l,c),p=r.removedTargetIds||[];i=new lh([],p,d.key,d)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const l=tu(s,r.document),c=r.removedTargetIds||[];i=new lh([],c,l,null)}else{if(!("filter"in t))return vt(11601,{Rt:t});{t.filter;const r=t.filter;r.targetId;const{count:l=0,unchangedNames:c}=r,d=new ox(l,c),p=r.targetId;i=new IT(p,d)}}return i}function VT(s,t){let i;if(t instanceof vu)i={update:v0(s,t.key,t.value)};else if(t instanceof qh)i={delete:Sh(s,t.key)};else if(t instanceof Mr)i={update:v0(s,t.key,t.data),updateMask:xx(t.fieldMask)};else{if(!(t instanceof wT))return vt(16599,{Vt:t.type});i={verify:Sh(s,t.key)}}return t.fieldTransforms.length>0&&(i.updateTransforms=t.fieldTransforms.map((r=>(function(c,d){const p=d.transform;if(p instanceof lu)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof uu)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof cu)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof hu)return{fieldPath:d.field.canonicalString(),increment:p.Ae};throw vt(20930,{transform:d.transform})})(0,r)))),t.precondition.isNone||(i.currentDocument=(function(l,c){return c.updateTime!==void 0?{updateTime:gx(l,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:vt(27497)})(s,t.precondition)),i}function vx(s,t){return s&&s.length>0?($t(t!==void 0,14353),s.map((i=>(function(l,c){let d=l.updateTime?Xn(l.updateTime):Xn(c);return d.isEqual(St.min())&&(d=Xn(c)),new nx(d,l.transformResults||[])})(i,t)))):[]}function Ex(s,t){return{documents:[MT(s,t.path)]}}function Tx(s,t){const i={structuredQuery:{}},r=t.path;let l;t.collectionGroup!==null?(l=r,i.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(l=r.popLast(),i.structuredQuery.from=[{collectionId:r.lastSegment()}]),i.parent=MT(s,l);const c=(function(y){if(y.length!==0)return LT(Si.create(y,"and"))})(t.filters);c&&(i.structuredQuery.where=c);const d=(function(y){if(y.length!==0)return y.map((A=>(function(C){return{field:po(C.field),direction:bx(C.dir)}})(A)))})(t.orderBy);d&&(i.structuredQuery.orderBy=d);const p=Im(s,t.limit);return p!==null&&(i.structuredQuery.limit=p),t.startAt&&(i.structuredQuery.startAt=(function(y){return{before:y.inclusive,values:y.position}})(t.startAt)),t.endAt&&(i.structuredQuery.endAt=(function(y){return{before:!y.inclusive,values:y.position}})(t.endAt)),{ft:i,parent:l}}function Ax(s){let t=px(s.parent);const i=s.structuredQuery,r=i.from?i.from.length:0;let l=null;if(r>0){$t(r===1,65062);const A=i.from[0];A.allDescendants?l=A.collectionId:t=t.child(A.collectionId)}let c=[];i.where&&(c=(function(b){const C=UT(b);return C instanceof Si&&aT(C)?C.getFilters():[C]})(i.where));let d=[];i.orderBy&&(d=(function(b){return b.map((C=>(function(et){return new ou(yo(et.field),(function(it){switch(it){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(et.direction))})(C)))})(i.orderBy));let p=null;i.limit&&(p=(function(b){let C;return C=typeof b=="object"?b.value:b,_u(C)?null:C})(i.limit));let _=null;i.startAt&&(_=(function(b){const C=!!b.before,G=b.values||[];return new Th(G,C)})(i.startAt));let y=null;return i.endAt&&(y=(function(b){const C=!b.before,G=b.values||[];return new Th(G,C)})(i.endAt)),F2(t,l,d,c,p,"F",_,y)}function Sx(s,t){const i=(function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return vt(28987,{purpose:l})}})(t.purpose);return i==null?null:{"goog-listen-tags":i}}function UT(s){return s.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const r=yo(i.unaryFilter.field);return Ge.create(r,"==",{doubleValue:NaN});case"IS_NULL":const l=yo(i.unaryFilter.field);return Ge.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=yo(i.unaryFilter.field);return Ge.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=yo(i.unaryFilter.field);return Ge.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return vt(61313);default:return vt(60726)}})(s):s.fieldFilter!==void 0?(function(i){return Ge.create(yo(i.fieldFilter.field),(function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return vt(58110);default:return vt(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(s):s.compositeFilter!==void 0?(function(i){return Si.create(i.compositeFilter.filters.map((r=>UT(r))),(function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return vt(1026)}})(i.compositeFilter.op))})(s):vt(30097,{filter:s})}function bx(s){return hx[s]}function wx(s){return fx[s]}function Rx(s){return dx[s]}function po(s){return{fieldPath:s.canonicalString()}}function yo(s){return cn.fromServerFormat(s.fieldPath)}function LT(s){return s instanceof Ge?(function(i){if(i.op==="=="){if(a0(i.value))return{unaryFilter:{field:po(i.field),op:"IS_NAN"}};if(r0(i.value))return{unaryFilter:{field:po(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(a0(i.value))return{unaryFilter:{field:po(i.field),op:"IS_NOT_NAN"}};if(r0(i.value))return{unaryFilter:{field:po(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:po(i.field),op:wx(i.op),value:i.value}}})(s):s instanceof Si?(function(i){const r=i.getFilters().map((l=>LT(l)));return r.length===1?r[0]:{compositeFilter:{op:Rx(i.op),filters:r}}})(s):vt(54877,{filter:s})}function xx(s){const t=[];return s.fields.forEach((i=>t.push(i.canonicalString()))),{fieldPaths:t}}function kT(s){return s.length>=4&&s.get(0)==="projects"&&s.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yr{constructor(t,i,r,l,c=St.min(),d=St.min(),p=fn.EMPTY_BYTE_STRING,_=null){this.target=t,this.targetId=i,this.purpose=r,this.sequenceNumber=l,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=p,this.expectedCount=_}withSequenceNumber(t){return new yr(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,i){return new yr(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new yr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new yr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ix{constructor(t){this.yt=t}}function Cx(s){const t=Ax({parent:s.parent,structuredQuery:s.structuredQuery});return s.limitType==="LAST"?xm(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nx{constructor(){this.Cn=new Dx}addToCollectionParentIndex(t,i){return this.Cn.add(i),Z.resolve()}getCollectionParents(t,i){return Z.resolve(this.Cn.getEntries(i))}addFieldIndex(t,i){return Z.resolve()}deleteFieldIndex(t,i){return Z.resolve()}deleteAllFieldIndexes(t){return Z.resolve()}createTargetIndexes(t,i){return Z.resolve()}getDocumentsMatchingTarget(t,i){return Z.resolve(null)}getIndexType(t,i){return Z.resolve(0)}getFieldIndexes(t,i){return Z.resolve([])}getNextCollectionGroupToUpdate(t){return Z.resolve(null)}getMinOffset(t,i){return Z.resolve(br.min())}getMinOffsetFromCollectionGroup(t,i){return Z.resolve(br.min())}updateCollectionGroup(t,i,r){return Z.resolve()}updateIndexEntries(t,i){return Z.resolve()}}class Dx{constructor(){this.index={}}add(t){const i=t.lastSegment(),r=t.popLast(),l=this.index[i]||new $e(fe.comparator),c=!l.has(r);return this.index[i]=l.add(r),c}has(t){const i=t.lastSegment(),r=t.popLast(),l=this.index[i];return l&&l.has(r)}getEntries(t){return(this.index[t]||new $e(fe.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},PT=41943040;class On{static withCacheSize(t){return new On(t,On.DEFAULT_COLLECTION_PERCENTILE,On.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,i,r){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */On.DEFAULT_COLLECTION_PERCENTILE=10,On.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,On.DEFAULT=new On(PT,On.DEFAULT_COLLECTION_PERCENTILE,On.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),On.DISABLED=new On(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Co{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new Co(0)}static cr(){return new Co(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T0="LruGarbageCollector",Mx=1048576;function A0([s,t],[i,r]){const l=Ht(s,i);return l===0?Ht(t,r):l}class Ox{constructor(t){this.Ir=t,this.buffer=new $e(A0),this.Er=0}dr(){return++this.Er}Ar(t){const i=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(i);else{const r=this.buffer.last();A0(i,r)<0&&(this.buffer=this.buffer.delete(r).add(i))}}get maxValue(){return this.buffer.last()[0]}}class Vx{constructor(t,i,r){this.garbageCollector=t,this.asyncQueue=i,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(t){ut(T0,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){Lo(i)?ut(T0,"Ignoring IndexedDB error during garbage collection: ",i):await Uo(i)}await this.Vr(3e5)}))}}class Ux{constructor(t,i){this.mr=t,this.params=i}calculateTargetCount(t,i){return this.mr.gr(t).next((r=>Math.floor(i/100*r)))}nthSequenceNumber(t,i){if(i===0)return Z.resolve(Uh.ce);const r=new Ox(i);return this.mr.forEachTarget(t,(l=>r.Ar(l.sequenceNumber))).next((()=>this.mr.pr(t,(l=>r.Ar(l))))).next((()=>r.maxValue))}removeTargets(t,i,r){return this.mr.removeTargets(t,i,r)}removeOrphanedDocuments(t,i){return this.mr.removeOrphanedDocuments(t,i)}collect(t,i){return this.params.cacheSizeCollectionThreshold===-1?(ut("LruGarbageCollector","Garbage collection skipped; disabled"),Z.resolve(E0)):this.getCacheSize(t).next((r=>r<this.params.cacheSizeCollectionThreshold?(ut("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),E0):this.yr(t,i)))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,i){let r,l,c,d,p,_,y;const A=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((b=>(b>this.params.maximumSequenceNumbersToCollect?(ut("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${b}`),l=this.params.maximumSequenceNumbersToCollect):l=b,d=Date.now(),this.nthSequenceNumber(t,l)))).next((b=>(r=b,p=Date.now(),this.removeTargets(t,r,i)))).next((b=>(c=b,_=Date.now(),this.removeOrphanedDocuments(t,r)))).next((b=>(y=Date.now(),mo()<=qt.DEBUG&&ut("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-A}ms
	Determined least recently used ${l} in `+(p-d)+`ms
	Removed ${c} targets in `+(_-p)+`ms
	Removed ${b} documents in `+(y-_)+`ms
Total Duration: ${y-A}ms`),Z.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:c,documentsRemoved:b}))))}}function Lx(s,t){return new Ux(s,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kx{constructor(){this.changes=new Ta((t=>t.toString()),((t,i)=>t.isEqual(i))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,i){this.assertNotApplied(),this.changes.set(t,en.newInvalidDocument(t).setReadTime(i))}getEntry(t,i){this.assertNotApplied();const r=this.changes.get(i);return r!==void 0?Z.resolve(r):this.getFromCache(t,i)}getEntries(t,i){return this.getAllFromCache(t,i)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Px{constructor(t,i){this.overlayedDocument=t,this.mutatedFields=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jx{constructor(t,i,r,l){this.remoteDocumentCache=t,this.mutationQueue=i,this.documentOverlayCache=r,this.indexManager=l}getDocument(t,i){let r=null;return this.documentOverlayCache.getOverlay(t,i).next((l=>(r=l,this.remoteDocumentCache.getEntry(t,i)))).next((l=>(r!==null&&Wl(r.mutation,l,Kn.empty(),Ee.now()),l)))}getDocuments(t,i){return this.remoteDocumentCache.getEntries(t,i).next((r=>this.getLocalViewOfDocuments(t,r,Ft()).next((()=>r))))}getLocalViewOfDocuments(t,i,r=Ft()){const l=da();return this.populateOverlays(t,l,i).next((()=>this.computeViews(t,i,l,r).next((c=>{let d=Gl();return c.forEach(((p,_)=>{d=d.insert(p,_.overlayedDocument)})),d}))))}getOverlayedDocuments(t,i){const r=da();return this.populateOverlays(t,r,i).next((()=>this.computeViews(t,i,r,Ft())))}populateOverlays(t,i,r){const l=[];return r.forEach((c=>{i.has(c)||l.push(c)})),this.documentOverlayCache.getOverlays(t,l).next((c=>{c.forEach(((d,p)=>{i.set(d,p)}))}))}computeViews(t,i,r,l){let c=Ds();const d=Jl(),p=(function(){return Jl()})();return i.forEach(((_,y)=>{const A=r.get(y.key);l.has(y.key)&&(A===void 0||A.mutation instanceof Mr)?c=c.insert(y.key,y):A!==void 0?(d.set(y.key,A.mutation.getFieldMask()),Wl(A.mutation,y,A.mutation.getFieldMask(),Ee.now())):d.set(y.key,Kn.empty())})),this.recalculateAndSaveOverlays(t,c).next((_=>(_.forEach(((y,A)=>d.set(y,A))),i.forEach(((y,A)=>p.set(y,new Px(A,d.get(y)??null)))),p)))}recalculateAndSaveOverlays(t,i){const r=Jl();let l=new Ie(((d,p)=>d-p)),c=Ft();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,i).next((d=>{for(const p of d)p.keys().forEach((_=>{const y=i.get(_);if(y===null)return;let A=r.get(_)||Kn.empty();A=p.applyToLocalView(y,A),r.set(_,A);const b=(l.get(p.batchId)||Ft()).add(_);l=l.insert(p.batchId,b)}))})).next((()=>{const d=[],p=l.getReverseIterator();for(;p.hasNext();){const _=p.getNext(),y=_.key,A=_.value,b=gT();A.forEach((C=>{if(!c.has(C)){const G=ST(i.get(C),r.get(C));G!==null&&b.set(C,G),c=c.add(C)}})),d.push(this.documentOverlayCache.saveOverlays(t,y,b))}return Z.waitFor(d)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(t,i){return this.remoteDocumentCache.getEntries(t,i).next((r=>this.recalculateAndSaveOverlays(t,r)))}getDocumentsMatchingQuery(t,i,r,l){return(function(d){return gt.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0})(i)?this.getDocumentsMatchingDocumentQuery(t,i.path):cT(i)?this.getDocumentsMatchingCollectionGroupQuery(t,i,r,l):this.getDocumentsMatchingCollectionQuery(t,i,r,l)}getNextDocuments(t,i,r,l){return this.remoteDocumentCache.getAllFromCollectionGroup(t,i,r,l).next((c=>{const d=l-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,i,r.largestBatchId,l-c.size):Z.resolve(da());let p=iu,_=c;return d.next((y=>Z.forEach(y,((A,b)=>(p<b.largestBatchId&&(p=b.largestBatchId),c.get(A)?Z.resolve():this.remoteDocumentCache.getEntry(t,A).next((C=>{_=_.insert(A,C)}))))).next((()=>this.populateOverlays(t,y,c))).next((()=>this.computeViews(t,_,y,Ft()))).next((A=>({batchId:p,changes:mT(A)})))))}))}getDocumentsMatchingDocumentQuery(t,i){return this.getDocument(t,new gt(i)).next((r=>{let l=Gl();return r.isFoundDocument()&&(l=l.insert(r.key,r)),l}))}getDocumentsMatchingCollectionGroupQuery(t,i,r,l){const c=i.collectionGroup;let d=Gl();return this.indexManager.getCollectionParents(t,c).next((p=>Z.forEach(p,(_=>{const y=(function(b,C){return new ko(C,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt)})(i,_.child(c));return this.getDocumentsMatchingCollectionQuery(t,y,r,l).next((A=>{A.forEach(((b,C)=>{d=d.insert(b,C)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(t,i,r,l){let c;return this.documentOverlayCache.getOverlaysForCollection(t,i.path,r.largestBatchId).next((d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(t,i,r,c,l)))).next((d=>{c.forEach(((_,y)=>{const A=y.getKey();d.get(A)===null&&(d=d.insert(A,en.newInvalidDocument(A)))}));let p=Gl();return d.forEach(((_,y)=>{const A=c.get(_);A!==void 0&&Wl(A.mutation,y,Kn.empty(),Ee.now()),jh(i,y)&&(p=p.insert(_,y))})),p}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zx{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,i){return Z.resolve(this.Lr.get(i))}saveBundleMetadata(t,i){return this.Lr.set(i.id,(function(l){return{id:l.id,version:l.version,createTime:Xn(l.createTime)}})(i)),Z.resolve()}getNamedQuery(t,i){return Z.resolve(this.kr.get(i))}saveNamedQuery(t,i){return this.kr.set(i.name,(function(l){return{name:l.name,query:Cx(l.bundledQuery),readTime:Xn(l.readTime)}})(i)),Z.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bx{constructor(){this.overlays=new Ie(gt.comparator),this.qr=new Map}getOverlay(t,i){return Z.resolve(this.overlays.get(i))}getOverlays(t,i){const r=da();return Z.forEach(i,(l=>this.getOverlay(t,l).next((c=>{c!==null&&r.set(l,c)})))).next((()=>r))}saveOverlays(t,i,r){return r.forEach(((l,c)=>{this.St(t,i,c)})),Z.resolve()}removeOverlaysForBatchId(t,i,r){const l=this.qr.get(r);return l!==void 0&&(l.forEach((c=>this.overlays=this.overlays.remove(c))),this.qr.delete(r)),Z.resolve()}getOverlaysForCollection(t,i,r){const l=da(),c=i.length+1,d=new gt(i.child("")),p=this.overlays.getIteratorFrom(d);for(;p.hasNext();){const _=p.getNext().value,y=_.getKey();if(!i.isPrefixOf(y.path))break;y.path.length===c&&_.largestBatchId>r&&l.set(_.getKey(),_)}return Z.resolve(l)}getOverlaysForCollectionGroup(t,i,r,l){let c=new Ie(((y,A)=>y-A));const d=this.overlays.getIterator();for(;d.hasNext();){const y=d.getNext().value;if(y.getKey().getCollectionGroup()===i&&y.largestBatchId>r){let A=c.get(y.largestBatchId);A===null&&(A=da(),c=c.insert(y.largestBatchId,A)),A.set(y.getKey(),y)}}const p=da(),_=c.getIterator();for(;_.hasNext()&&(_.getNext().value.forEach(((y,A)=>p.set(y,A))),!(p.size()>=l)););return Z.resolve(p)}St(t,i,r){const l=this.overlays.get(r.key);if(l!==null){const d=this.qr.get(l.largestBatchId).delete(r.key);this.qr.set(l.largestBatchId,d)}this.overlays=this.overlays.insert(r.key,new ax(i,r));let c=this.qr.get(i);c===void 0&&(c=Ft(),this.qr.set(i,c)),this.qr.set(i,c.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qx{constructor(){this.sessionToken=fn.EMPTY_BYTE_STRING}getSessionToken(t){return Z.resolve(this.sessionToken)}setSessionToken(t,i){return this.sessionToken=i,Z.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lg{constructor(){this.Qr=new $e(tn.$r),this.Ur=new $e(tn.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,i){const r=new tn(t,i);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(t,i){t.forEach((r=>this.addReference(r,i)))}removeReference(t,i){this.Gr(new tn(t,i))}zr(t,i){t.forEach((r=>this.removeReference(r,i)))}jr(t){const i=new gt(new fe([])),r=new tn(i,t),l=new tn(i,t+1),c=[];return this.Ur.forEachInRange([r,l],(d=>{this.Gr(d),c.push(d.key)})),c}Jr(){this.Qr.forEach((t=>this.Gr(t)))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){const i=new gt(new fe([])),r=new tn(i,t),l=new tn(i,t+1);let c=Ft();return this.Ur.forEachInRange([r,l],(d=>{c=c.add(d.key)})),c}containsKey(t){const i=new tn(t,0),r=this.Qr.firstAfterOrEqual(i);return r!==null&&t.isEqual(r.key)}}class tn{constructor(t,i){this.key=t,this.Yr=i}static $r(t,i){return gt.comparator(t.key,i.key)||Ht(t.Yr,i.Yr)}static Kr(t,i){return Ht(t.Yr,i.Yr)||gt.comparator(t.key,i.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hx{constructor(t,i){this.indexManager=t,this.referenceDelegate=i,this.mutationQueue=[],this.tr=1,this.Zr=new $e(tn.$r)}checkEmpty(t){return Z.resolve(this.mutationQueue.length===0)}addMutationBatch(t,i,r,l){const c=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new rx(c,i,r,l);this.mutationQueue.push(d);for(const p of l)this.Zr=this.Zr.add(new tn(p.key,c)),this.indexManager.addToCollectionParentIndex(t,p.key.path.popLast());return Z.resolve(d)}lookupMutationBatch(t,i){return Z.resolve(this.Xr(i))}getNextMutationBatchAfterBatchId(t,i){const r=i+1,l=this.ei(r),c=l<0?0:l;return Z.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return Z.resolve(this.mutationQueue.length===0?Wm:this.tr-1)}getAllMutationBatches(t){return Z.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,i){const r=new tn(i,0),l=new tn(i,Number.POSITIVE_INFINITY),c=[];return this.Zr.forEachInRange([r,l],(d=>{const p=this.Xr(d.Yr);c.push(p)})),Z.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(t,i){let r=new $e(Ht);return i.forEach((l=>{const c=new tn(l,0),d=new tn(l,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([c,d],(p=>{r=r.add(p.Yr)}))})),Z.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(t,i){const r=i.path,l=r.length+1;let c=r;gt.isDocumentKey(c)||(c=c.child(""));const d=new tn(new gt(c),0);let p=new $e(Ht);return this.Zr.forEachWhile((_=>{const y=_.key.path;return!!r.isPrefixOf(y)&&(y.length===l&&(p=p.add(_.Yr)),!0)}),d),Z.resolve(this.ti(p))}ti(t){const i=[];return t.forEach((r=>{const l=this.Xr(r);l!==null&&i.push(l)})),i}removeMutationBatch(t,i){$t(this.ni(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return Z.forEach(i.mutations,(l=>{const c=new tn(l.key,i.batchId);return r=r.delete(c),this.referenceDelegate.markPotentiallyOrphaned(t,l.key)})).next((()=>{this.Zr=r}))}ir(t){}containsKey(t,i){const r=new tn(i,0),l=this.Zr.firstAfterOrEqual(r);return Z.resolve(i.isEqual(l&&l.key))}performConsistencyCheck(t){return this.mutationQueue.length,Z.resolve()}ni(t,i){return this.ei(t)}ei(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Xr(t){const i=this.ei(t);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fx{constructor(t){this.ri=t,this.docs=(function(){return new Ie(gt.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,i){const r=i.key,l=this.docs.get(r),c=l?l.size:0,d=this.ri(i);return this.docs=this.docs.insert(r,{document:i.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(t,r.path.popLast())}removeEntry(t){const i=this.docs.get(t);i&&(this.docs=this.docs.remove(t),this.size-=i.size)}getEntry(t,i){const r=this.docs.get(i);return Z.resolve(r?r.document.mutableCopy():en.newInvalidDocument(i))}getEntries(t,i){let r=Ds();return i.forEach((l=>{const c=this.docs.get(l);r=r.insert(l,c?c.document.mutableCopy():en.newInvalidDocument(l))})),Z.resolve(r)}getDocumentsMatchingQuery(t,i,r,l){let c=Ds();const d=i.path,p=new gt(d.child("__id-9223372036854775808__")),_=this.docs.getIteratorFrom(p);for(;_.hasNext();){const{key:y,value:{document:A}}=_.getNext();if(!d.isPrefixOf(y.path))break;y.path.length>d.length+1||A2(T2(A),r)<=0||(l.has(A.key)||jh(i,A))&&(c=c.insert(A.key,A.mutableCopy()))}return Z.resolve(c)}getAllFromCollectionGroup(t,i,r,l){vt(9500)}ii(t,i){return Z.forEach(this.docs,(r=>i(r)))}newChangeBuffer(t){return new Gx(this)}getSize(t){return Z.resolve(this.size)}}class Gx extends kx{constructor(t){super(),this.Nr=t}applyChanges(t){const i=[];return this.changes.forEach(((r,l)=>{l.isValidDocument()?i.push(this.Nr.addEntry(t,l)):this.Nr.removeEntry(r)})),Z.waitFor(i)}getFromCache(t,i){return this.Nr.getEntry(t,i)}getAllFromCache(t,i){return this.Nr.getEntries(t,i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qx{constructor(t){this.persistence=t,this.si=new Ta((i=>ng(i)),ig),this.lastRemoteSnapshotVersion=St.min(),this.highestTargetId=0,this.oi=0,this._i=new lg,this.targetCount=0,this.ai=Co.ur()}forEachTarget(t,i){return this.si.forEach(((r,l)=>i(l))),Z.resolve()}getLastRemoteSnapshotVersion(t){return Z.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return Z.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),Z.resolve(this.highestTargetId)}setTargetsMetadata(t,i,r){return r&&(this.lastRemoteSnapshotVersion=r),i>this.oi&&(this.oi=i),Z.resolve()}Pr(t){this.si.set(t.target,t);const i=t.targetId;i>this.highestTargetId&&(this.ai=new Co(i),this.highestTargetId=i),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,i){return this.Pr(i),this.targetCount+=1,Z.resolve()}updateTargetData(t,i){return this.Pr(i),Z.resolve()}removeTargetData(t,i){return this.si.delete(i.target),this._i.jr(i.targetId),this.targetCount-=1,Z.resolve()}removeTargets(t,i,r){let l=0;const c=[];return this.si.forEach(((d,p)=>{p.sequenceNumber<=i&&r.get(p.targetId)===null&&(this.si.delete(d),c.push(this.removeMatchingKeysForTargetId(t,p.targetId)),l++)})),Z.waitFor(c).next((()=>l))}getTargetCount(t){return Z.resolve(this.targetCount)}getTargetData(t,i){const r=this.si.get(i)||null;return Z.resolve(r)}addMatchingKeys(t,i,r){return this._i.Wr(i,r),Z.resolve()}removeMatchingKeys(t,i,r){this._i.zr(i,r);const l=this.persistence.referenceDelegate,c=[];return l&&i.forEach((d=>{c.push(l.markPotentiallyOrphaned(t,d))})),Z.waitFor(c)}removeMatchingKeysForTargetId(t,i){return this._i.jr(i),Z.resolve()}getMatchingKeysForTargetId(t,i){const r=this._i.Hr(i);return Z.resolve(r)}containsKey(t,i){return Z.resolve(this._i.containsKey(i))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jT{constructor(t,i){this.ui={},this.overlays={},this.ci=new Uh(0),this.li=!1,this.li=!0,this.hi=new qx,this.referenceDelegate=t(this),this.Pi=new Qx(this),this.indexManager=new Nx,this.remoteDocumentCache=(function(l){return new Fx(l)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new Ix(i),this.Ii=new zx(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let i=this.overlays[t.toKey()];return i||(i=new Bx,this.overlays[t.toKey()]=i),i}getMutationQueue(t,i){let r=this.ui[t.toKey()];return r||(r=new Hx(i,this.referenceDelegate),this.ui[t.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,i,r){ut("MemoryPersistence","Starting transaction:",t);const l=new Yx(this.ci.next());return this.referenceDelegate.Ei(),r(l).next((c=>this.referenceDelegate.di(l).next((()=>c)))).toPromise().then((c=>(l.raiseOnCommittedEvent(),c)))}Ai(t,i){return Z.or(Object.values(this.ui).map((r=>()=>r.containsKey(t,i))))}}class Yx extends b2{constructor(t){super(),this.currentSequenceNumber=t}}class ug{constructor(t){this.persistence=t,this.Ri=new lg,this.Vi=null}static mi(t){return new ug(t)}get fi(){if(this.Vi)return this.Vi;throw vt(60996)}addReference(t,i,r){return this.Ri.addReference(r,i),this.fi.delete(r.toString()),Z.resolve()}removeReference(t,i,r){return this.Ri.removeReference(r,i),this.fi.add(r.toString()),Z.resolve()}markPotentiallyOrphaned(t,i){return this.fi.add(i.toString()),Z.resolve()}removeTarget(t,i){this.Ri.jr(i.targetId).forEach((l=>this.fi.add(l.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,i.targetId).next((l=>{l.forEach((c=>this.fi.add(c.toString())))})).next((()=>r.removeTargetData(t,i)))}Ei(){this.Vi=new Set}di(t){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Z.forEach(this.fi,(r=>{const l=gt.fromPath(r);return this.gi(t,l).next((c=>{c||i.removeEntry(l,St.min())}))})).next((()=>(this.Vi=null,i.apply(t))))}updateLimboDocument(t,i){return this.gi(t,i).next((r=>{r?this.fi.delete(i.toString()):this.fi.add(i.toString())}))}Ti(t){return 0}gi(t,i){return Z.or([()=>Z.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(t,i),()=>this.persistence.Ai(t,i)])}}class bh{constructor(t,i){this.persistence=t,this.pi=new Ta((r=>x2(r.path)),((r,l)=>r.isEqual(l))),this.garbageCollector=Lx(this,i)}static mi(t,i){return new bh(t,i)}Ei(){}di(t){return Z.resolve()}forEachTarget(t,i){return this.persistence.getTargetCache().forEachTarget(t,i)}gr(t){const i=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next((r=>i.next((l=>r+l))))}wr(t){let i=0;return this.pr(t,(r=>{i++})).next((()=>i))}pr(t,i){return Z.forEach(this.pi,((r,l)=>this.br(t,r,l).next((c=>c?Z.resolve():i(l)))))}removeTargets(t,i,r){return this.persistence.getTargetCache().removeTargets(t,i,r)}removeOrphanedDocuments(t,i){let r=0;const l=this.persistence.getRemoteDocumentCache(),c=l.newChangeBuffer();return l.ii(t,(d=>this.br(t,d,i).next((p=>{p||(r++,c.removeEntry(d,St.min()))})))).next((()=>c.apply(t))).next((()=>r))}markPotentiallyOrphaned(t,i){return this.pi.set(i,t.currentSequenceNumber),Z.resolve()}removeTarget(t,i){const r=i.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,r)}addReference(t,i,r){return this.pi.set(r,t.currentSequenceNumber),Z.resolve()}removeReference(t,i,r){return this.pi.set(r,t.currentSequenceNumber),Z.resolve()}updateLimboDocument(t,i){return this.pi.set(i,t.currentSequenceNumber),Z.resolve()}Ti(t){let i=t.key.toString().length;return t.isFoundDocument()&&(i+=rh(t.data.value)),i}br(t,i,r){return Z.or([()=>this.persistence.Ai(t,i),()=>this.persistence.getTargetCache().containsKey(t,i),()=>{const l=this.pi.get(i);return Z.resolve(l!==void 0&&l>r)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cg{constructor(t,i,r,l){this.targetId=t,this.fromCache=i,this.Es=r,this.ds=l}static As(t,i){let r=Ft(),l=Ft();for(const c of i.docChanges)switch(c.type){case 0:r=r.add(c.doc.key);break;case 1:l=l.add(c.doc.key)}return new cg(t,i.fromCache,r,l)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kx{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xx{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return qS()?8:w2(yn())>0?6:4})()}initialize(t,i){this.ps=t,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(t,i,r,l){const c={result:null};return this.ys(t,i).next((d=>{c.result=d})).next((()=>{if(!c.result)return this.ws(t,i,l,r).next((d=>{c.result=d}))})).next((()=>{if(c.result)return;const d=new Kx;return this.Ss(t,i,d).next((p=>{if(c.result=p,this.Vs)return this.bs(t,i,d,p.size)}))})).next((()=>c.result))}bs(t,i,r,l){return r.documentReadCount<this.fs?(mo()<=qt.DEBUG&&ut("QueryEngine","SDK will not create cache indexes for query:",go(i),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),Z.resolve()):(mo()<=qt.DEBUG&&ut("QueryEngine","Query:",go(i),"scans",r.documentReadCount,"local documents and returns",l,"documents as results."),r.documentReadCount>this.gs*l?(mo()<=qt.DEBUG&&ut("QueryEngine","The SDK decides to create cache indexes for query:",go(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Gi(i))):Z.resolve())}ys(t,i){if(c0(i))return Z.resolve(null);let r=Gi(i);return this.indexManager.getIndexType(t,r).next((l=>l===0?null:(i.limit!==null&&l===1&&(i=xm(i,null,"F"),r=Gi(i)),this.indexManager.getDocumentsMatchingTarget(t,r).next((c=>{const d=Ft(...c);return this.ps.getDocuments(t,d).next((p=>this.indexManager.getMinOffset(t,r).next((_=>{const y=this.Ds(i,p);return this.Cs(i,y,d,_.readTime)?this.ys(t,xm(i,null,"F")):this.vs(t,y,i,_)}))))})))))}ws(t,i,r,l){return c0(i)||l.isEqual(St.min())?Z.resolve(null):this.ps.getDocuments(t,r).next((c=>{const d=this.Ds(i,c);return this.Cs(i,d,r,l)?Z.resolve(null):(mo()<=qt.DEBUG&&ut("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),go(i)),this.vs(t,d,i,E2(l,iu)).next((p=>p)))}))}Ds(t,i){let r=new $e(fT(t));return i.forEach(((l,c)=>{jh(t,c)&&(r=r.add(c))})),r}Cs(t,i,r,l){if(t.limit===null)return!1;if(r.size!==i.size)return!0;const c=t.limitType==="F"?i.last():i.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(l)>0)}Ss(t,i,r){return mo()<=qt.DEBUG&&ut("QueryEngine","Using full collection scan to execute query:",go(i)),this.ps.getDocumentsMatchingQuery(t,i,br.min(),r)}vs(t,i,r,l){return this.ps.getDocumentsMatchingQuery(t,r,l).next((c=>(i.forEach((d=>{c=c.insert(d.key,d)})),c)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hg="LocalStore",$x=3e8;class Zx{constructor(t,i,r,l){this.persistence=t,this.Fs=i,this.serializer=l,this.Ms=new Ie(Ht),this.xs=new Ta((c=>ng(c)),ig),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(r)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new jx(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>t.collect(i,this.Ms)))}}function Jx(s,t,i,r){return new Zx(s,t,i,r)}async function zT(s,t){const i=xt(s);return await i.persistence.runTransaction("Handle user change","readonly",(r=>{let l;return i.mutationQueue.getAllMutationBatches(r).next((c=>(l=c,i.Bs(t),i.mutationQueue.getAllMutationBatches(r)))).next((c=>{const d=[],p=[];let _=Ft();for(const y of l){d.push(y.batchId);for(const A of y.mutations)_=_.add(A.key)}for(const y of c){p.push(y.batchId);for(const A of y.mutations)_=_.add(A.key)}return i.localDocuments.getDocuments(r,_).next((y=>({Ls:y,removedBatchIds:d,addedBatchIds:p})))}))}))}function Wx(s,t){const i=xt(s);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const l=t.batch.keys(),c=i.Ns.newChangeBuffer({trackRemovals:!0});return(function(p,_,y,A){const b=y.batch,C=b.keys();let G=Z.resolve();return C.forEach((et=>{G=G.next((()=>A.getEntry(_,et))).next((ot=>{const it=y.docVersions.get(et);$t(it!==null,48541),ot.version.compareTo(it)<0&&(b.applyToRemoteDocument(ot,y),ot.isValidDocument()&&(ot.setReadTime(y.commitVersion),A.addEntry(ot)))}))})),G.next((()=>p.mutationQueue.removeMutationBatch(_,b)))})(i,r,t,c).next((()=>c.apply(r))).next((()=>i.mutationQueue.performConsistencyCheck(r))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(r,l,t.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(p){let _=Ft();for(let y=0;y<p.mutationResults.length;++y)p.mutationResults[y].transformResults.length>0&&(_=_.add(p.batch.mutations[y].key));return _})(t)))).next((()=>i.localDocuments.getDocuments(r,l)))}))}function BT(s){const t=xt(s);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>t.Pi.getLastRemoteSnapshotVersion(i)))}function tI(s,t){const i=xt(s),r=t.snapshotVersion;let l=i.Ms;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const d=i.Ns.newChangeBuffer({trackRemovals:!0});l=i.Ms;const p=[];t.targetChanges.forEach(((A,b)=>{const C=l.get(b);if(!C)return;p.push(i.Pi.removeMatchingKeys(c,A.removedDocuments,b).next((()=>i.Pi.addMatchingKeys(c,A.addedDocuments,b))));let G=C.withSequenceNumber(c.currentSequenceNumber);t.targetMismatches.get(b)!==null?G=G.withResumeToken(fn.EMPTY_BYTE_STRING,St.min()).withLastLimboFreeSnapshotVersion(St.min()):A.resumeToken.approximateByteSize()>0&&(G=G.withResumeToken(A.resumeToken,r)),l=l.insert(b,G),(function(ot,it,_t){return ot.resumeToken.approximateByteSize()===0||it.snapshotVersion.toMicroseconds()-ot.snapshotVersion.toMicroseconds()>=$x?!0:_t.addedDocuments.size+_t.modifiedDocuments.size+_t.removedDocuments.size>0})(C,G,A)&&p.push(i.Pi.updateTargetData(c,G))}));let _=Ds(),y=Ft();if(t.documentUpdates.forEach((A=>{t.resolvedLimboDocuments.has(A)&&p.push(i.persistence.referenceDelegate.updateLimboDocument(c,A))})),p.push(eI(c,d,t.documentUpdates).next((A=>{_=A.ks,y=A.qs}))),!r.isEqual(St.min())){const A=i.Pi.getLastRemoteSnapshotVersion(c).next((b=>i.Pi.setTargetsMetadata(c,c.currentSequenceNumber,r)));p.push(A)}return Z.waitFor(p).next((()=>d.apply(c))).next((()=>i.localDocuments.getLocalViewOfDocuments(c,_,y))).next((()=>_))})).then((c=>(i.Ms=l,c)))}function eI(s,t,i){let r=Ft(),l=Ft();return i.forEach((c=>r=r.add(c))),t.getEntries(s,r).next((c=>{let d=Ds();return i.forEach(((p,_)=>{const y=c.get(p);_.isFoundDocument()!==y.isFoundDocument()&&(l=l.add(p)),_.isNoDocument()&&_.version.isEqual(St.min())?(t.removeEntry(p,_.readTime),d=d.insert(p,_)):!y.isValidDocument()||_.version.compareTo(y.version)>0||_.version.compareTo(y.version)===0&&y.hasPendingWrites?(t.addEntry(_),d=d.insert(p,_)):ut(hg,"Ignoring outdated watch update for ",p,". Current version:",y.version," Watch version:",_.version)})),{ks:d,qs:l}}))}function nI(s,t){const i=xt(s);return i.persistence.runTransaction("Get next mutation batch","readonly",(r=>(t===void 0&&(t=Wm),i.mutationQueue.getNextMutationBatchAfterBatchId(r,t))))}function iI(s,t){const i=xt(s);return i.persistence.runTransaction("Allocate target","readwrite",(r=>{let l;return i.Pi.getTargetData(r,t).next((c=>c?(l=c,Z.resolve(l)):i.Pi.allocateTargetId(r).next((d=>(l=new yr(t,d,"TargetPurposeListen",r.currentSequenceNumber),i.Pi.addTargetData(r,l).next((()=>l)))))))})).then((r=>{const l=i.Ms.get(r.targetId);return(l===null||r.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(i.Ms=i.Ms.insert(r.targetId,r),i.xs.set(t,r.targetId)),r}))}async function Dm(s,t,i){const r=xt(s),l=r.Ms.get(t),c=i?"readwrite":"readwrite-primary";try{i||await r.persistence.runTransaction("Release target",c,(d=>r.persistence.referenceDelegate.removeTarget(d,l)))}catch(d){if(!Lo(d))throw d;ut(hg,`Failed to update sequence numbers for target ${t}: ${d}`)}r.Ms=r.Ms.remove(t),r.xs.delete(l.target)}function S0(s,t,i){const r=xt(s);let l=St.min(),c=Ft();return r.persistence.runTransaction("Execute query","readwrite",(d=>(function(_,y,A){const b=xt(_),C=b.xs.get(A);return C!==void 0?Z.resolve(b.Ms.get(C)):b.Pi.getTargetData(y,A)})(r,d,Gi(t)).next((p=>{if(p)return l=p.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(d,p.targetId).next((_=>{c=_}))})).next((()=>r.Fs.getDocumentsMatchingQuery(d,t,i?l:St.min(),i?c:Ft()))).next((p=>(sI(r,Q2(t),p),{documents:p,Qs:c})))))}function sI(s,t,i){let r=s.Os.get(t)||St.min();i.forEach(((l,c)=>{c.readTime.compareTo(r)>0&&(r=c.readTime)})),s.Os.set(t,r)}class b0{constructor(){this.activeTargetIds=J2()}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class rI{constructor(){this.Mo=new b0,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,i,r){}addLocalQueryTarget(t,i=!0){return i&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,i,r){this.xo[t]=i}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new b0,Promise.resolve()}handleUserChange(t,i,r){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aI{Oo(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w0="ConnectivityMonitor";class R0{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ut(w0,"Network connectivity changed: AVAILABLE");for(const t of this.qo)t(0)}ko(){ut(w0,"Network connectivity changed: UNAVAILABLE");for(const t of this.qo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Jc=null;function Mm(){return Jc===null?Jc=(function(){return 268435456+Math.round(2147483648*Math.random())})():Jc++,"0x"+Jc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const om="RestConnection",oI={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class lI{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const i=t.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.Uo=i+"://"+t.host,this.Ko=`projects/${r}/databases/${l}`,this.Wo=this.databaseId.database===vh?`project_id=${r}`:`project_id=${r}&database_id=${l}`}Go(t,i,r,l,c){const d=Mm(),p=this.zo(t,i.toUriEncodedString());ut(om,`Sending RPC '${t}' ${d}:`,p,r);const _={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(_,l,c);const{host:y}=new URL(p),A=Do(y);return this.Jo(t,p,_,r,A).then((b=>(ut(om,`Received RPC '${t}' ${d}: `,b),b)),(b=>{throw wo(om,`RPC '${t}' ${d} failed with error: `,b,"url: ",p,"request:",r),b}))}Ho(t,i,r,l,c,d){return this.Go(t,i,r,l,c)}jo(t,i,r){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Vo})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((l,c)=>t[c]=l)),r&&r.headers.forEach(((l,c)=>t[c]=l))}zo(t,i){const r=oI[t];return`${this.Uo}/v1/${i}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uI{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gn="WebChannelConnection";class cI extends lI{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,i,r,l,c){const d=Mm();return new Promise(((p,_)=>{const y=new jE;y.setWithCredentials(!0),y.listenOnce(zE.COMPLETE,(()=>{try{switch(y.getLastErrorCode()){case sh.NO_ERROR:const b=y.getResponseJson();ut(gn,`XHR for RPC '${t}' ${d} received:`,JSON.stringify(b)),p(b);break;case sh.TIMEOUT:ut(gn,`RPC '${t}' ${d} timed out`),_(new lt(K.DEADLINE_EXCEEDED,"Request time out"));break;case sh.HTTP_ERROR:const C=y.getStatus();if(ut(gn,`RPC '${t}' ${d} failed with status:`,C,"response text:",y.getResponseText()),C>0){let G=y.getResponseJson();Array.isArray(G)&&(G=G[0]);const et=G?.error;if(et&&et.status&&et.message){const ot=(function(_t){const Rt=_t.toLowerCase().replace(/_/g,"-");return Object.values(K).indexOf(Rt)>=0?Rt:K.UNKNOWN})(et.status);_(new lt(ot,et.message))}else _(new lt(K.UNKNOWN,"Server responded with status "+y.getStatus()))}else _(new lt(K.UNAVAILABLE,"Connection failed."));break;default:vt(9055,{l_:t,streamId:d,h_:y.getLastErrorCode(),P_:y.getLastError()})}}finally{ut(gn,`RPC '${t}' ${d} completed.`)}}));const A=JSON.stringify(l);ut(gn,`RPC '${t}' ${d} sending request:`,l),y.send(i,"POST",A,r,15)}))}T_(t,i,r){const l=Mm(),c=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],d=HE(),p=qE(),_={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(_.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(_.useFetchStreams=!0),this.jo(_.initMessageHeaders,i,r),_.encodeInitMessageHeaders=!0;const A=c.join("");ut(gn,`Creating RPC '${t}' stream ${l}: ${A}`,_);const b=d.createWebChannel(A,_);this.I_(b);let C=!1,G=!1;const et=new uI({Yo:it=>{G?ut(gn,`Not sending because RPC '${t}' stream ${l} is closed:`,it):(C||(ut(gn,`Opening RPC '${t}' stream ${l} transport.`),b.open(),C=!0),ut(gn,`RPC '${t}' stream ${l} sending:`,it),b.send(it))},Zo:()=>b.close()}),ot=(it,_t,Rt)=>{it.listen(_t,(Tt=>{try{Rt(Tt)}catch(Zt){setTimeout((()=>{throw Zt}),0)}}))};return ot(b,Fl.EventType.OPEN,(()=>{G||(ut(gn,`RPC '${t}' stream ${l} transport opened.`),et.o_())})),ot(b,Fl.EventType.CLOSE,(()=>{G||(G=!0,ut(gn,`RPC '${t}' stream ${l} transport closed`),et.a_(),this.E_(b))})),ot(b,Fl.EventType.ERROR,(it=>{G||(G=!0,wo(gn,`RPC '${t}' stream ${l} transport errored. Name:`,it.name,"Message:",it.message),et.a_(new lt(K.UNAVAILABLE,"The operation could not be completed")))})),ot(b,Fl.EventType.MESSAGE,(it=>{if(!G){const _t=it.data[0];$t(!!_t,16349);const Rt=_t,Tt=Rt?.error||Rt[0]?.error;if(Tt){ut(gn,`RPC '${t}' stream ${l} received error:`,Tt);const Zt=Tt.status;let ie=(function(w){const x=Fe[w];if(x!==void 0)return xT(x)})(Zt),Gt=Tt.message;ie===void 0&&(ie=K.INTERNAL,Gt="Unknown error status: "+Zt+" with message "+Tt.message),G=!0,et.a_(new lt(ie,Gt)),b.close()}else ut(gn,`RPC '${t}' stream ${l} received:`,_t),et.u_(_t)}})),ot(p,BE.STAT_EVENT,(it=>{it.stat===Em.PROXY?ut(gn,`RPC '${t}' stream ${l} detected buffering proxy`):it.stat===Em.NOPROXY&&ut(gn,`RPC '${t}' stream ${l} detected no buffering proxy`)})),setTimeout((()=>{et.__()}),0),et}terminate(){this.c_.forEach((t=>t.close())),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter((i=>i===t))}}function lm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fh(s){return new mx(s,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fg{constructor(t,i,r=1e3,l=1.5,c=6e4){this.Mi=t,this.timerId=i,this.d_=r,this.A_=l,this.R_=c,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const i=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),l=Math.max(0,i-r);l>0&&ut("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.V_} ms, delay with jitter: ${i} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,l,(()=>(this.f_=Date.now(),t()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x0="PersistentStream";class qT{constructor(t,i,r,l,c,d,p,_){this.Mi=t,this.S_=r,this.b_=l,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=p,this.listener=_,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new fg(t,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(t){this.Q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,i){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():i&&i.code===K.RESOURCE_EXHAUSTED?(Ns(i.toString()),Ns("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===K.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.r_(i)}K_(){}auth(){this.state=1;const t=this.W_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,l])=>{this.D_===i&&this.G_(r,l)}),(r=>{t((()=>{const l=new lt(K.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(l)}))}))}G_(t,i){const r=this.W_(this.D_);this.stream=this.j_(t,i),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((l=>{r((()=>this.z_(l)))})),this.stream.onMessage((l=>{r((()=>++this.F_==1?this.J_(l):this.onNext(l)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return ut(x0,`close with error: ${t}`),this.stream=null,this.close(4,t)}W_(t){return i=>{this.Mi.enqueueAndForget((()=>this.D_===t?i():(ut(x0,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class hI extends qT{constructor(t,i,r,l,c,d){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,r,l,d),this.serializer=c}j_(t,i){return this.connection.T_("Listen",t,i)}J_(t){return this.onNext(t)}onNext(t){this.M_.reset();const i=_x(this.serializer,t),r=(function(c){if(!("targetChange"in c))return St.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?St.min():d.readTime?Xn(d.readTime):St.min()})(t);return this.listener.H_(i,r)}Y_(t){const i={};i.database=Nm(this.serializer),i.addTarget=(function(c,d){let p;const _=d.target;if(p=wm(_)?{documents:Ex(c,_)}:{query:Tx(c,_).ft},p.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){p.resumeToken=NT(c,d.resumeToken);const y=Im(c,d.expectedCount);y!==null&&(p.expectedCount=y)}else if(d.snapshotVersion.compareTo(St.min())>0){p.readTime=Ah(c,d.snapshotVersion.toTimestamp());const y=Im(c,d.expectedCount);y!==null&&(p.expectedCount=y)}return p})(this.serializer,t);const r=Sx(this.serializer,t);r&&(i.labels=r),this.q_(i)}Z_(t){const i={};i.database=Nm(this.serializer),i.removeTarget=t,this.q_(i)}}class fI extends qT{constructor(t,i,r,l,c,d){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,r,l,d),this.serializer=c}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(t,i){return this.connection.T_("Write",t,i)}J_(t){return $t(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,$t(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){$t(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const i=vx(t.writeResults,t.commitTime),r=Xn(t.commitTime);return this.listener.na(r,i)}ra(){const t={};t.database=Nm(this.serializer),this.q_(t)}ea(t){const i={streamToken:this.lastStreamToken,writes:t.map((r=>VT(this.serializer,r)))};this.q_(i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dI{}class mI extends dI{constructor(t,i,r,l){super(),this.authCredentials=t,this.appCheckCredentials=i,this.connection=r,this.serializer=l,this.ia=!1}sa(){if(this.ia)throw new lt(K.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,i,r,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Go(t,Cm(i,r),l,c,d))).catch((c=>{throw c.name==="FirebaseError"?(c.code===K.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new lt(K.UNKNOWN,c.toString())}))}Ho(t,i,r,l,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,p])=>this.connection.Ho(t,Cm(i,r),l,d,p,c))).catch((d=>{throw d.name==="FirebaseError"?(d.code===K.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new lt(K.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class gI{constructor(t,i){this.asyncQueue=t,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const i=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Ns(i),this.aa=!1):ut("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ea="RemoteStore";class pI{constructor(t,i,r,l,c){this.localStore=t,this.datastore=i,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=c,this.Aa.Oo((d=>{r.enqueueAndForget((async()=>{Aa(this)&&(ut(Ea,"Restarting streams for network reachability change."),await(async function(_){const y=xt(_);y.Ea.add(4),await Tu(y),y.Ra.set("Unknown"),y.Ea.delete(4),await Gh(y)})(this))}))})),this.Ra=new gI(r,l)}}async function Gh(s){if(Aa(s))for(const t of s.da)await t(!0)}async function Tu(s){for(const t of s.da)await t(!1)}function HT(s,t){const i=xt(s);i.Ia.has(t.targetId)||(i.Ia.set(t.targetId,t),pg(i)?gg(i):Po(i).O_()&&mg(i,t))}function dg(s,t){const i=xt(s),r=Po(i);i.Ia.delete(t),r.O_()&&FT(i,t),i.Ia.size===0&&(r.O_()?r.L_():Aa(i)&&i.Ra.set("Unknown"))}function mg(s,t){if(s.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(St.min())>0){const i=s.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(i)}Po(s).Y_(t)}function FT(s,t){s.Va.Ue(t),Po(s).Z_(t)}function gg(s){s.Va=new cx({getRemoteKeysForTarget:t=>s.remoteSyncer.getRemoteKeysForTarget(t),At:t=>s.Ia.get(t)||null,ht:()=>s.datastore.serializer.databaseId}),Po(s).start(),s.Ra.ua()}function pg(s){return Aa(s)&&!Po(s).x_()&&s.Ia.size>0}function Aa(s){return xt(s).Ea.size===0}function GT(s){s.Va=void 0}async function yI(s){s.Ra.set("Online")}async function _I(s){s.Ia.forEach(((t,i)=>{mg(s,t)}))}async function vI(s,t){GT(s),pg(s)?(s.Ra.ha(t),gg(s)):s.Ra.set("Unknown")}async function EI(s,t,i){if(s.Ra.set("Online"),t instanceof CT&&t.state===2&&t.cause)try{await(async function(l,c){const d=c.cause;for(const p of c.targetIds)l.Ia.has(p)&&(await l.remoteSyncer.rejectListen(p,d),l.Ia.delete(p),l.Va.removeTarget(p))})(s,t)}catch(r){ut(Ea,"Failed to remove targets %s: %s ",t.targetIds.join(","),r),await wh(s,r)}else if(t instanceof lh?s.Va.Ze(t):t instanceof IT?s.Va.st(t):s.Va.tt(t),!i.isEqual(St.min()))try{const r=await BT(s.localStore);i.compareTo(r)>=0&&await(function(c,d){const p=c.Va.Tt(d);return p.targetChanges.forEach(((_,y)=>{if(_.resumeToken.approximateByteSize()>0){const A=c.Ia.get(y);A&&c.Ia.set(y,A.withResumeToken(_.resumeToken,d))}})),p.targetMismatches.forEach(((_,y)=>{const A=c.Ia.get(_);if(!A)return;c.Ia.set(_,A.withResumeToken(fn.EMPTY_BYTE_STRING,A.snapshotVersion)),FT(c,_);const b=new yr(A.target,_,y,A.sequenceNumber);mg(c,b)})),c.remoteSyncer.applyRemoteEvent(p)})(s,i)}catch(r){ut(Ea,"Failed to raise snapshot:",r),await wh(s,r)}}async function wh(s,t,i){if(!Lo(t))throw t;s.Ea.add(1),await Tu(s),s.Ra.set("Offline"),i||(i=()=>BT(s.localStore)),s.asyncQueue.enqueueRetryable((async()=>{ut(Ea,"Retrying IndexedDB access"),await i(),s.Ea.delete(1),await Gh(s)}))}function QT(s,t){return t().catch((i=>wh(s,i,t)))}async function Qh(s){const t=xt(s),i=Ir(t);let r=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:Wm;for(;TI(t);)try{const l=await nI(t.localStore,r);if(l===null){t.Ta.length===0&&i.L_();break}r=l.batchId,AI(t,l)}catch(l){await wh(t,l)}YT(t)&&KT(t)}function TI(s){return Aa(s)&&s.Ta.length<10}function AI(s,t){s.Ta.push(t);const i=Ir(s);i.O_()&&i.X_&&i.ea(t.mutations)}function YT(s){return Aa(s)&&!Ir(s).x_()&&s.Ta.length>0}function KT(s){Ir(s).start()}async function SI(s){Ir(s).ra()}async function bI(s){const t=Ir(s);for(const i of s.Ta)t.ea(i.mutations)}async function wI(s,t,i){const r=s.Ta.shift(),l=rg.from(r,t,i);await QT(s,(()=>s.remoteSyncer.applySuccessfulWrite(l))),await Qh(s)}async function RI(s,t){t&&Ir(s).X_&&await(async function(r,l){if((function(d){return RT(d)&&d!==K.ABORTED})(l.code)){const c=r.Ta.shift();Ir(r).B_(),await QT(r,(()=>r.remoteSyncer.rejectFailedWrite(c.batchId,l))),await Qh(r)}})(s,t),YT(s)&&KT(s)}async function I0(s,t){const i=xt(s);i.asyncQueue.verifyOperationInProgress(),ut(Ea,"RemoteStore received new credentials");const r=Aa(i);i.Ea.add(3),await Tu(i),r&&i.Ra.set("Unknown"),await i.remoteSyncer.handleCredentialChange(t),i.Ea.delete(3),await Gh(i)}async function xI(s,t){const i=xt(s);t?(i.Ea.delete(2),await Gh(i)):t||(i.Ea.add(2),await Tu(i),i.Ra.set("Unknown"))}function Po(s){return s.ma||(s.ma=(function(i,r,l){const c=xt(i);return c.sa(),new hI(r,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(s.datastore,s.asyncQueue,{Xo:yI.bind(null,s),t_:_I.bind(null,s),r_:vI.bind(null,s),H_:EI.bind(null,s)}),s.da.push((async t=>{t?(s.ma.B_(),pg(s)?gg(s):s.Ra.set("Unknown")):(await s.ma.stop(),GT(s))}))),s.ma}function Ir(s){return s.fa||(s.fa=(function(i,r,l){const c=xt(i);return c.sa(),new fI(r,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(s.datastore,s.asyncQueue,{Xo:()=>Promise.resolve(),t_:SI.bind(null,s),r_:RI.bind(null,s),ta:bI.bind(null,s),na:wI.bind(null,s)}),s.da.push((async t=>{t?(s.fa.B_(),await Qh(s)):(await s.fa.stop(),s.Ta.length>0&&(ut(Ea,`Stopping write stream with ${s.Ta.length} pending writes`),s.Ta=[]))}))),s.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yg{constructor(t,i,r,l,c){this.asyncQueue=t,this.timerId=i,this.targetTimeMs=r,this.op=l,this.removalCallback=c,this.deferred=new Fi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,i,r,l,c){const d=Date.now()+r,p=new yg(t,i,d,l,c);return p.start(r),p}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new lt(K.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function _g(s,t){if(Ns("AsyncQueue",`${t}: ${s}`),Lo(s))return new lt(K.UNAVAILABLE,`${t}: ${s}`);throw s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ao{static emptySet(t){return new Ao(t.comparator)}constructor(t){this.comparator=t?(i,r)=>t(i,r)||gt.comparator(i.key,r.key):(i,r)=>gt.comparator(i.key,r.key),this.keyedMap=Gl(),this.sortedSet=new Ie(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const i=this.keyedMap.get(t);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((i,r)=>(t(i),!1)))}add(t){const i=this.delete(t.key);return i.copy(i.keyedMap.insert(t.key,t),i.sortedSet.insert(t,null))}delete(t){const i=this.get(t);return i?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(i)):this}isEqual(t){if(!(t instanceof Ao)||this.size!==t.size)return!1;const i=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=r.getNext().key;if(!l.isEqual(c))return!1}return!0}toString(){const t=[];return this.forEach((i=>{t.push(i.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,i){const r=new Ao;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=i,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C0{constructor(){this.ga=new Ie(gt.comparator)}track(t){const i=t.doc.key,r=this.ga.get(i);r?t.type!==0&&r.type===3?this.ga=this.ga.insert(i,t):t.type===3&&r.type!==1?this.ga=this.ga.insert(i,{type:r.type,doc:t.doc}):t.type===2&&r.type===2?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):t.type===2&&r.type===0?this.ga=this.ga.insert(i,{type:0,doc:t.doc}):t.type===1&&r.type===0?this.ga=this.ga.remove(i):t.type===1&&r.type===2?this.ga=this.ga.insert(i,{type:1,doc:r.doc}):t.type===0&&r.type===1?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):vt(63341,{Rt:t,pa:r}):this.ga=this.ga.insert(i,t)}ya(){const t=[];return this.ga.inorderTraversal(((i,r)=>{t.push(r)})),t}}class No{constructor(t,i,r,l,c,d,p,_,y){this.query=t,this.docs=i,this.oldDocs=r,this.docChanges=l,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=p,this.excludesMetadataChanges=_,this.hasCachedResults=y}static fromInitialDocuments(t,i,r,l,c){const d=[];return i.forEach((p=>{d.push({type:0,doc:p})})),new No(t,i,Ao.emptySet(i),d,r,l,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Ph(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const i=this.docChanges,r=t.docChanges;if(i.length!==r.length)return!1;for(let l=0;l<i.length;l++)if(i[l].type!==r[l].type||!i[l].doc.isEqual(r[l].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class II{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((t=>t.Da()))}}class CI{constructor(){this.queries=N0(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,r){const l=xt(i),c=l.queries;l.queries=N0(),c.forEach(((d,p)=>{for(const _ of p.Sa)_.onError(r)}))})(this,new lt(K.ABORTED,"Firestore shutting down"))}}function N0(){return new Ta((s=>hT(s)),Ph)}async function vg(s,t){const i=xt(s);let r=3;const l=t.query;let c=i.queries.get(l);c?!c.ba()&&t.Da()&&(r=2):(c=new II,r=t.Da()?0:1);try{switch(r){case 0:c.wa=await i.onListen(l,!0);break;case 1:c.wa=await i.onListen(l,!1);break;case 2:await i.onFirstRemoteStoreListen(l)}}catch(d){const p=_g(d,`Initialization of query '${go(t.query)}' failed`);return void t.onError(p)}i.queries.set(l,c),c.Sa.push(t),t.va(i.onlineState),c.wa&&t.Fa(c.wa)&&Tg(i)}async function Eg(s,t){const i=xt(s),r=t.query;let l=3;const c=i.queries.get(r);if(c){const d=c.Sa.indexOf(t);d>=0&&(c.Sa.splice(d,1),c.Sa.length===0?l=t.Da()?0:1:!c.ba()&&t.Da()&&(l=2))}switch(l){case 0:return i.queries.delete(r),i.onUnlisten(r,!0);case 1:return i.queries.delete(r),i.onUnlisten(r,!1);case 2:return i.onLastRemoteStoreUnlisten(r);default:return}}function NI(s,t){const i=xt(s);let r=!1;for(const l of t){const c=l.query,d=i.queries.get(c);if(d){for(const p of d.Sa)p.Fa(l)&&(r=!0);d.wa=l}}r&&Tg(i)}function DI(s,t,i){const r=xt(s),l=r.queries.get(t);if(l)for(const c of l.Sa)c.onError(i);r.queries.delete(t)}function Tg(s){s.Ca.forEach((t=>{t.next()}))}var Om,D0;(D0=Om||(Om={})).Ma="default",D0.Cache="cache";class Ag{constructor(t,i,r){this.query=t,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(t){if(!this.options.includeMetadataChanges){const r=[];for(const l of t.docChanges)l.type!==3&&r.push(l);t=new No(t.query,t.docs,t.oldDocs,r,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let i=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),i=!0):this.La(t,this.onlineState)&&(this.ka(t),i=!0),this.Na=t,i}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),i=!0),i}La(t,i){if(!t.fromCache||!this.Da())return!0;const r=i!=="Offline";return(!this.options.qa||!r)&&(!t.docs.isEmpty()||t.hasCachedResults||i==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(t){t=No.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==Om.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XT{constructor(t){this.key=t}}class $T{constructor(t){this.key=t}}class MI{constructor(t,i){this.query=t,this.Ya=i,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Ft(),this.mutatedKeys=Ft(),this.eu=fT(t),this.tu=new Ao(this.eu)}get nu(){return this.Ya}ru(t,i){const r=i?i.iu:new C0,l=i?i.tu:this.tu;let c=i?i.mutatedKeys:this.mutatedKeys,d=l,p=!1;const _=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,y=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(t.inorderTraversal(((A,b)=>{const C=l.get(A),G=jh(this.query,b)?b:null,et=!!C&&this.mutatedKeys.has(C.key),ot=!!G&&(G.hasLocalMutations||this.mutatedKeys.has(G.key)&&G.hasCommittedMutations);let it=!1;C&&G?C.data.isEqual(G.data)?et!==ot&&(r.track({type:3,doc:G}),it=!0):this.su(C,G)||(r.track({type:2,doc:G}),it=!0,(_&&this.eu(G,_)>0||y&&this.eu(G,y)<0)&&(p=!0)):!C&&G?(r.track({type:0,doc:G}),it=!0):C&&!G&&(r.track({type:1,doc:C}),it=!0,(_||y)&&(p=!0)),it&&(G?(d=d.add(G),c=ot?c.add(A):c.delete(A)):(d=d.delete(A),c=c.delete(A)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const A=this.query.limitType==="F"?d.last():d.first();d=d.delete(A.key),c=c.delete(A.key),r.track({type:1,doc:A})}return{tu:d,iu:r,Cs:p,mutatedKeys:c}}su(t,i){return t.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(t,i,r,l){const c=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const d=t.iu.ya();d.sort(((A,b)=>(function(G,et){const ot=it=>{switch(it){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return vt(20277,{Rt:it})}};return ot(G)-ot(et)})(A.type,b.type)||this.eu(A.doc,b.doc))),this.ou(r),l=l??!1;const p=i&&!l?this._u():[],_=this.Xa.size===0&&this.current&&!l?1:0,y=_!==this.Za;return this.Za=_,d.length!==0||y?{snapshot:new No(this.query,t.tu,c,d,t.mutatedKeys,_===0,y,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:p}:{au:p}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new C0,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(t){return!this.Ya.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((i=>this.Ya=this.Ya.add(i))),t.modifiedDocuments.forEach((i=>{})),t.removedDocuments.forEach((i=>this.Ya=this.Ya.delete(i))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Xa;this.Xa=Ft(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const i=[];return t.forEach((r=>{this.Xa.has(r)||i.push(new $T(r))})),this.Xa.forEach((r=>{t.has(r)||i.push(new XT(r))})),i}cu(t){this.Ya=t.Qs,this.Xa=Ft();const i=this.ru(t.documents);return this.applyChanges(i,!0)}lu(){return No.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Sg="SyncEngine";class OI{constructor(t,i,r){this.query=t,this.targetId=i,this.view=r}}class VI{constructor(t){this.key=t,this.hu=!1}}class UI{constructor(t,i,r,l,c,d){this.localStore=t,this.remoteStore=i,this.eventManager=r,this.sharedClientState=l,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new Ta((p=>hT(p)),Ph),this.Iu=new Map,this.Eu=new Set,this.du=new Ie(gt.comparator),this.Au=new Map,this.Ru=new lg,this.Vu={},this.mu=new Map,this.fu=Co.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function LI(s,t,i=!0){const r=n1(s);let l;const c=r.Tu.get(t);return c?(r.sharedClientState.addLocalQueryTarget(c.targetId),l=c.view.lu()):l=await ZT(r,t,i,!0),l}async function kI(s,t){const i=n1(s);await ZT(i,t,!0,!1)}async function ZT(s,t,i,r){const l=await iI(s.localStore,Gi(t)),c=l.targetId,d=s.sharedClientState.addLocalQueryTarget(c,i);let p;return r&&(p=await PI(s,t,c,d==="current",l.resumeToken)),s.isPrimaryClient&&i&&HT(s.remoteStore,l),p}async function PI(s,t,i,r,l){s.pu=(b,C,G)=>(async function(ot,it,_t,Rt){let Tt=it.view.ru(_t);Tt.Cs&&(Tt=await S0(ot.localStore,it.query,!1).then((({documents:N})=>it.view.ru(N,Tt))));const Zt=Rt&&Rt.targetChanges.get(it.targetId),ie=Rt&&Rt.targetMismatches.get(it.targetId)!=null,Gt=it.view.applyChanges(Tt,ot.isPrimaryClient,Zt,ie);return O0(ot,it.targetId,Gt.au),Gt.snapshot})(s,b,C,G);const c=await S0(s.localStore,t,!0),d=new MI(t,c.Qs),p=d.ru(c.documents),_=Eu.createSynthesizedTargetChangeForCurrentChange(i,r&&s.onlineState!=="Offline",l),y=d.applyChanges(p,s.isPrimaryClient,_);O0(s,i,y.au);const A=new OI(t,i,d);return s.Tu.set(t,A),s.Iu.has(i)?s.Iu.get(i).push(t):s.Iu.set(i,[t]),y.snapshot}async function jI(s,t,i){const r=xt(s),l=r.Tu.get(t),c=r.Iu.get(l.targetId);if(c.length>1)return r.Iu.set(l.targetId,c.filter((d=>!Ph(d,t)))),void r.Tu.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(l.targetId),r.sharedClientState.isActiveQueryTarget(l.targetId)||await Dm(r.localStore,l.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(l.targetId),i&&dg(r.remoteStore,l.targetId),Vm(r,l.targetId)})).catch(Uo)):(Vm(r,l.targetId),await Dm(r.localStore,l.targetId,!0))}async function zI(s,t){const i=xt(s),r=i.Tu.get(t),l=i.Iu.get(r.targetId);i.isPrimaryClient&&l.length===1&&(i.sharedClientState.removeLocalQueryTarget(r.targetId),dg(i.remoteStore,r.targetId))}async function BI(s,t,i){const r=KI(s);try{const l=await(function(d,p){const _=xt(d),y=Ee.now(),A=p.reduce(((G,et)=>G.add(et.key)),Ft());let b,C;return _.persistence.runTransaction("Locally write mutations","readwrite",(G=>{let et=Ds(),ot=Ft();return _.Ns.getEntries(G,A).next((it=>{et=it,et.forEach(((_t,Rt)=>{Rt.isValidDocument()||(ot=ot.add(_t))}))})).next((()=>_.localDocuments.getOverlayedDocuments(G,et))).next((it=>{b=it;const _t=[];for(const Rt of p){const Tt=sx(Rt,b.get(Rt.key).overlayedDocument);Tt!=null&&_t.push(new Mr(Rt.key,Tt,iT(Tt.value.mapValue),hn.exists(!0)))}return _.mutationQueue.addMutationBatch(G,y,_t,p)})).next((it=>{C=it;const _t=it.applyToLocalDocumentSet(b,ot);return _.documentOverlayCache.saveOverlays(G,it.batchId,_t)}))})).then((()=>({batchId:C.batchId,changes:mT(b)})))})(r.localStore,t);r.sharedClientState.addPendingMutation(l.batchId),(function(d,p,_){let y=d.Vu[d.currentUser.toKey()];y||(y=new Ie(Ht)),y=y.insert(p,_),d.Vu[d.currentUser.toKey()]=y})(r,l.batchId,i),await Au(r,l.changes),await Qh(r.remoteStore)}catch(l){const c=_g(l,"Failed to persist write");i.reject(c)}}async function JT(s,t){const i=xt(s);try{const r=await tI(i.localStore,t);t.targetChanges.forEach(((l,c)=>{const d=i.Au.get(c);d&&($t(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1,22616),l.addedDocuments.size>0?d.hu=!0:l.modifiedDocuments.size>0?$t(d.hu,14607):l.removedDocuments.size>0&&($t(d.hu,42227),d.hu=!1))})),await Au(i,r,t)}catch(r){await Uo(r)}}function M0(s,t,i){const r=xt(s);if(r.isPrimaryClient&&i===0||!r.isPrimaryClient&&i===1){const l=[];r.Tu.forEach(((c,d)=>{const p=d.view.va(t);p.snapshot&&l.push(p.snapshot)})),(function(d,p){const _=xt(d);_.onlineState=p;let y=!1;_.queries.forEach(((A,b)=>{for(const C of b.Sa)C.va(p)&&(y=!0)})),y&&Tg(_)})(r.eventManager,t),l.length&&r.Pu.H_(l),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function qI(s,t,i){const r=xt(s);r.sharedClientState.updateQueryState(t,"rejected",i);const l=r.Au.get(t),c=l&&l.key;if(c){let d=new Ie(gt.comparator);d=d.insert(c,en.newNoDocument(c,St.min()));const p=Ft().add(c),_=new Hh(St.min(),new Map,new Ie(Ht),d,p);await JT(r,_),r.du=r.du.remove(c),r.Au.delete(t),bg(r)}else await Dm(r.localStore,t,!1).then((()=>Vm(r,t,i))).catch(Uo)}async function HI(s,t){const i=xt(s),r=t.batch.batchId;try{const l=await Wx(i.localStore,t);t1(i,r,null),WT(i,r),i.sharedClientState.updateMutationState(r,"acknowledged"),await Au(i,l)}catch(l){await Uo(l)}}async function FI(s,t,i){const r=xt(s);try{const l=await(function(d,p){const _=xt(d);return _.persistence.runTransaction("Reject batch","readwrite-primary",(y=>{let A;return _.mutationQueue.lookupMutationBatch(y,p).next((b=>($t(b!==null,37113),A=b.keys(),_.mutationQueue.removeMutationBatch(y,b)))).next((()=>_.mutationQueue.performConsistencyCheck(y))).next((()=>_.documentOverlayCache.removeOverlaysForBatchId(y,A,p))).next((()=>_.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,A))).next((()=>_.localDocuments.getDocuments(y,A)))}))})(r.localStore,t);t1(r,t,i),WT(r,t),r.sharedClientState.updateMutationState(t,"rejected",i),await Au(r,l)}catch(l){await Uo(l)}}function WT(s,t){(s.mu.get(t)||[]).forEach((i=>{i.resolve()})),s.mu.delete(t)}function t1(s,t,i){const r=xt(s);let l=r.Vu[r.currentUser.toKey()];if(l){const c=l.get(t);c&&(i?c.reject(i):c.resolve(),l=l.remove(t)),r.Vu[r.currentUser.toKey()]=l}}function Vm(s,t,i=null){s.sharedClientState.removeLocalQueryTarget(t);for(const r of s.Iu.get(t))s.Tu.delete(r),i&&s.Pu.yu(r,i);s.Iu.delete(t),s.isPrimaryClient&&s.Ru.jr(t).forEach((r=>{s.Ru.containsKey(r)||e1(s,r)}))}function e1(s,t){s.Eu.delete(t.path.canonicalString());const i=s.du.get(t);i!==null&&(dg(s.remoteStore,i),s.du=s.du.remove(t),s.Au.delete(i),bg(s))}function O0(s,t,i){for(const r of i)r instanceof XT?(s.Ru.addReference(r.key,t),GI(s,r)):r instanceof $T?(ut(Sg,"Document no longer in limbo: "+r.key),s.Ru.removeReference(r.key,t),s.Ru.containsKey(r.key)||e1(s,r.key)):vt(19791,{wu:r})}function GI(s,t){const i=t.key,r=i.path.canonicalString();s.du.get(i)||s.Eu.has(r)||(ut(Sg,"New document in limbo: "+i),s.Eu.add(r),bg(s))}function bg(s){for(;s.Eu.size>0&&s.du.size<s.maxConcurrentLimboResolutions;){const t=s.Eu.values().next().value;s.Eu.delete(t);const i=new gt(fe.fromString(t)),r=s.fu.next();s.Au.set(r,new VI(i)),s.du=s.du.insert(i,r),HT(s.remoteStore,new yr(Gi(kh(i.path)),r,"TargetPurposeLimboResolution",Uh.ce))}}async function Au(s,t,i){const r=xt(s),l=[],c=[],d=[];r.Tu.isEmpty()||(r.Tu.forEach(((p,_)=>{d.push(r.pu(_,t,i).then((y=>{if((y||i)&&r.isPrimaryClient){const A=y?!y.fromCache:i?.targetChanges.get(_.targetId)?.current;r.sharedClientState.updateQueryState(_.targetId,A?"current":"not-current")}if(y){l.push(y);const A=cg.As(_.targetId,y);c.push(A)}})))})),await Promise.all(d),r.Pu.H_(l),await(async function(_,y){const A=xt(_);try{await A.persistence.runTransaction("notifyLocalViewChanges","readwrite",(b=>Z.forEach(y,(C=>Z.forEach(C.Es,(G=>A.persistence.referenceDelegate.addReference(b,C.targetId,G))).next((()=>Z.forEach(C.ds,(G=>A.persistence.referenceDelegate.removeReference(b,C.targetId,G)))))))))}catch(b){if(!Lo(b))throw b;ut(hg,"Failed to update sequence numbers: "+b)}for(const b of y){const C=b.targetId;if(!b.fromCache){const G=A.Ms.get(C),et=G.snapshotVersion,ot=G.withLastLimboFreeSnapshotVersion(et);A.Ms=A.Ms.insert(C,ot)}}})(r.localStore,c))}async function QI(s,t){const i=xt(s);if(!i.currentUser.isEqual(t)){ut(Sg,"User change. New user:",t.toKey());const r=await zT(i.localStore,t);i.currentUser=t,(function(c,d){c.mu.forEach((p=>{p.forEach((_=>{_.reject(new lt(K.CANCELLED,d))}))})),c.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(t,r.removedBatchIds,r.addedBatchIds),await Au(i,r.Ls)}}function YI(s,t){const i=xt(s),r=i.Au.get(t);if(r&&r.hu)return Ft().add(r.key);{let l=Ft();const c=i.Iu.get(t);if(!c)return l;for(const d of c){const p=i.Tu.get(d);l=l.unionWith(p.view.nu)}return l}}function n1(s){const t=xt(s);return t.remoteStore.remoteSyncer.applyRemoteEvent=JT.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=YI.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=qI.bind(null,t),t.Pu.H_=NI.bind(null,t.eventManager),t.Pu.yu=DI.bind(null,t.eventManager),t}function KI(s){const t=xt(s);return t.remoteStore.remoteSyncer.applySuccessfulWrite=HI.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=FI.bind(null,t),t}class Rh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=Fh(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,i){return null}Mu(t,i){return null}vu(t){return Jx(this.persistence,new Xx,t.initialUser,this.serializer)}Cu(t){return new jT(ug.mi,this.serializer)}Du(t){return new rI}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Rh.provider={build:()=>new Rh};class XI extends Rh{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,i){$t(this.persistence.referenceDelegate instanceof bh,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new Vx(r,t.asyncQueue,i)}Cu(t){const i=this.cacheSizeBytes!==void 0?On.withCacheSize(this.cacheSizeBytes):On.DEFAULT;return new jT((r=>bh.mi(r,i)),this.serializer)}}class Um{async initialize(t,i){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>M0(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=QI.bind(null,this.syncEngine),await xI(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new CI})()}createDatastore(t){const i=Fh(t.databaseInfo.databaseId),r=(function(c){return new cI(c)})(t.databaseInfo);return(function(c,d,p,_){return new mI(c,d,p,_)})(t.authCredentials,t.appCheckCredentials,r,i)}createRemoteStore(t){return(function(r,l,c,d,p){return new pI(r,l,c,d,p)})(this.localStore,this.datastore,t.asyncQueue,(i=>M0(this.syncEngine,i,0)),(function(){return R0.v()?new R0:new aI})())}createSyncEngine(t,i){return(function(l,c,d,p,_,y,A){const b=new UI(l,c,d,p,_,y);return A&&(b.gu=!0),b})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const r=xt(i);ut(Ea,"RemoteStore shutting down."),r.Ea.add(5),await Tu(r),r.Aa.shutdown(),r.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Um.provider={build:()=>new Um};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wg{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):Ns("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,i){setTimeout((()=>{this.muted||t(i)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $I{constructor(t){this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}async lookup(t){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw this.lastTransactionError=new lt(K.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),this.lastTransactionError;const i=await(async function(l,c){const d=xt(l),p={documents:c.map((b=>Sh(d.serializer,b)))},_=await d.Ho("BatchGetDocuments",d.serializer.databaseId,fe.emptyPath(),p,c.length),y=new Map;_.forEach((b=>{const C=yx(d.serializer,b);y.set(C.key.toString(),C)}));const A=[];return c.forEach((b=>{const C=y.get(b.toString());$t(!!C,55234,{key:b}),A.push(C)})),A})(this.datastore,t);return i.forEach((r=>this.recordVersion(r))),i}set(t,i){this.write(i.toMutation(t,this.precondition(t))),this.writtenDocs.add(t.toString())}update(t,i){try{this.write(i.toMutation(t,this.preconditionForUpdate(t)))}catch(r){this.lastTransactionError=r}this.writtenDocs.add(t.toString())}delete(t){this.write(new qh(t,this.precondition(t))),this.writtenDocs.add(t.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastTransactionError)throw this.lastTransactionError;const t=this.readVersions;this.mutations.forEach((i=>{t.delete(i.key.toString())})),t.forEach(((i,r)=>{const l=gt.fromPath(r);this.mutations.push(new wT(l,this.precondition(l)))})),await(async function(r,l){const c=xt(r),d={writes:l.map((p=>VT(c.serializer,p)))};await c.Go("Commit",c.serializer.databaseId,fe.emptyPath(),d)})(this.datastore,this.mutations),this.committed=!0}recordVersion(t){let i;if(t.isFoundDocument())i=t.version;else{if(!t.isNoDocument())throw vt(50498,{Gu:t.constructor.name});i=St.min()}const r=this.readVersions.get(t.key.toString());if(r){if(!i.isEqual(r))throw new lt(K.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(t.key.toString(),i)}precondition(t){const i=this.readVersions.get(t.toString());return!this.writtenDocs.has(t.toString())&&i?i.isEqual(St.min())?hn.exists(!1):hn.updateTime(i):hn.none()}preconditionForUpdate(t){const i=this.readVersions.get(t.toString());if(!this.writtenDocs.has(t.toString())&&i){if(i.isEqual(St.min()))throw new lt(K.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return hn.updateTime(i)}return hn.exists(!0)}write(t){this.ensureCommitNotCalled(),this.mutations.push(t)}ensureCommitNotCalled(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZI{constructor(t,i,r,l,c){this.asyncQueue=t,this.datastore=i,this.options=r,this.updateFunction=l,this.deferred=c,this.zu=r.maxAttempts,this.M_=new fg(this.asyncQueue,"transaction_retry")}ju(){this.zu-=1,this.Ju()}Ju(){this.M_.p_((async()=>{const t=new $I(this.datastore),i=this.Hu(t);i&&i.then((r=>{this.asyncQueue.enqueueAndForget((()=>t.commit().then((()=>{this.deferred.resolve(r)})).catch((l=>{this.Yu(l)}))))})).catch((r=>{this.Yu(r)}))}))}Hu(t){try{const i=this.updateFunction(t);return!_u(i)&&i.catch&&i.then?i:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(i){return this.deferred.reject(i),null}}Yu(t){this.zu>0&&this.Zu(t)?(this.zu-=1,this.asyncQueue.enqueueAndForget((()=>(this.Ju(),Promise.resolve())))):this.deferred.reject(t)}Zu(t){if(t?.name==="FirebaseError"){const i=t.code;return i==="aborted"||i==="failed-precondition"||i==="already-exists"||!RT(i)}return!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cr="FirestoreClient";class JI{constructor(t,i,r,l,c){this.authCredentials=t,this.appCheckCredentials=i,this.asyncQueue=r,this.databaseInfo=l,this.user=pn.UNAUTHENTICATED,this.clientId=Jm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(r,(async d=>{ut(Cr,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(r,(d=>(ut(Cr,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Fi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(i){const r=_g(i,"Failed to shutdown persistence");t.reject(r)}})),t.promise}}async function um(s,t){s.asyncQueue.verifyOperationInProgress(),ut(Cr,"Initializing OfflineComponentProvider");const i=s.configuration;await t.initialize(i);let r=i.initialUser;s.setCredentialChangeListener((async l=>{r.isEqual(l)||(await zT(t.localStore,l),r=l)})),t.persistence.setDatabaseDeletedListener((()=>s.terminate())),s._offlineComponents=t}async function V0(s,t){s.asyncQueue.verifyOperationInProgress();const i=await WI(s);ut(Cr,"Initializing OnlineComponentProvider"),await t.initialize(i,s.configuration),s.setCredentialChangeListener((r=>I0(t.remoteStore,r))),s.setAppCheckTokenChangeListener(((r,l)=>I0(t.remoteStore,l))),s._onlineComponents=t}async function WI(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){ut(Cr,"Using user provided OfflineComponentProvider");try{await um(s,s._uninitializedComponentsProvider._offline)}catch(t){const i=t;if(!(function(l){return l.name==="FirebaseError"?l.code===K.FAILED_PRECONDITION||l.code===K.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11})(i))throw i;wo("Error using user provided cache. Falling back to memory cache: "+i),await um(s,new Rh)}}else ut(Cr,"Using default OfflineComponentProvider"),await um(s,new XI(void 0));return s._offlineComponents}async function Rg(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(ut(Cr,"Using user provided OnlineComponentProvider"),await V0(s,s._uninitializedComponentsProvider._online)):(ut(Cr,"Using default OnlineComponentProvider"),await V0(s,new Um))),s._onlineComponents}function tC(s){return Rg(s).then((t=>t.syncEngine))}function eC(s){return Rg(s).then((t=>t.datastore))}async function xh(s){const t=await Rg(s),i=t.eventManager;return i.onListen=LI.bind(null,t.syncEngine),i.onUnlisten=jI.bind(null,t.syncEngine),i.onFirstRemoteStoreListen=kI.bind(null,t.syncEngine),i.onLastRemoteStoreUnlisten=zI.bind(null,t.syncEngine),i}function nC(s,t,i={}){const r=new Fi;return s.asyncQueue.enqueueAndForget((async()=>(function(c,d,p,_,y){const A=new wg({next:C=>{A.Nu(),d.enqueueAndForget((()=>Eg(c,b)));const G=C.docs.has(p);!G&&C.fromCache?y.reject(new lt(K.UNAVAILABLE,"Failed to get document because the client is offline.")):G&&C.fromCache&&_&&_.source==="server"?y.reject(new lt(K.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(C)},error:C=>y.reject(C)}),b=new Ag(kh(p.path),A,{includeMetadataChanges:!0,qa:!0});return vg(c,b)})(await xh(s),s.asyncQueue,t,i,r))),r.promise}function iC(s,t,i={}){const r=new Fi;return s.asyncQueue.enqueueAndForget((async()=>(function(c,d,p,_,y){const A=new wg({next:C=>{A.Nu(),d.enqueueAndForget((()=>Eg(c,b))),C.fromCache&&_.source==="server"?y.reject(new lt(K.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):y.resolve(C)},error:C=>y.reject(C)}),b=new Ag(p,A,{includeMetadataChanges:!0,qa:!0});return vg(c,b)})(await xh(s),s.asyncQueue,t,i,r))),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i1(s){const t={};return s.timeoutSeconds!==void 0&&(t.timeoutSeconds=s.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U0=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s1="firestore.googleapis.com",L0=!0;class k0{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new lt(K.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=s1,this.ssl=L0}else this.host=t.host,this.ssl=t.ssl??L0;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=PT;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<Mx)throw new lt(K.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}v2("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=i1(t.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new lt(K.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new lt(K.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new lt(K.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(r,l){return r.timeoutSeconds===l.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Yh{constructor(t,i,r,l){this._authCredentials=t,this._appCheckCredentials=i,this._databaseId=r,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new k0({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new lt(K.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new lt(K.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new k0(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new u2;switch(r.type){case"firstParty":return new d2(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new lt(K.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const r=U0.get(i);r&&(ut("ComponentProvider","Removing Datastore"),U0.delete(i),r.terminate())})(this),Promise.resolve()}}function sC(s,t,i,r={}){s=An(s,Yh);const l=Do(t),c=s._getSettings(),d={...c,emulatorOptions:s._getEmulatorOptions()},p=`${t}:${i}`;l&&(tE(`https://${p}`),eE("Firestore",!0)),c.host!==s1&&c.host!==p&&wo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const _={...c,host:p,ssl:l,emulatorOptions:r};if(!pa(_,d)&&(s._setSettings(_),r.mockUserToken)){let y,A;if(typeof r.mockUserToken=="string")y=r.mockUserToken,A=pn.MOCK_USER;else{y=OS(r.mockUserToken,s._app?.options.projectId);const b=r.mockUserToken.sub||r.mockUserToken.user_id;if(!b)throw new lt(K.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");A=new pn(b)}s._authCredentials=new c2(new GE(y,A))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Or{constructor(t,i,r){this.converter=i,this._query=r,this.type="query",this.firestore=t}withConverter(t){return new Or(this.firestore,t,this._query)}}class xe{constructor(t,i,r){this.converter=i,this._key=r,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ar(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new xe(this.firestore,t,this._key)}toJSON(){return{type:xe._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,i,r){if(yu(i,xe._jsonSchema))return new xe(t,r||null,new gt(fe.fromString(i.referencePath)))}}xe._jsonSchemaVersion="firestore/documentReference/1.0",xe._jsonSchema={type:Qe("string",xe._jsonSchemaVersion),referencePath:Qe("string")};class Ar extends Or{constructor(t,i,r){super(t,i,kh(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new xe(this.firestore,null,new gt(t))}withConverter(t){return new Ar(this.firestore,t,this._path)}}function Ss(s,t,...i){if(s=Ye(s),QE("collection","path",t),s instanceof Yh){const r=fe.fromString(t,...i);return $v(r),new Ar(s,null,r)}{if(!(s instanceof xe||s instanceof Ar))throw new lt(K.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=s._path.child(fe.fromString(t,...i));return $v(r),new Ar(s.firestore,null,r)}}function Re(s,t,...i){if(s=Ye(s),arguments.length===1&&(t=Jm.newId()),QE("doc","path",t),s instanceof Yh){const r=fe.fromString(t,...i);return Xv(r),new xe(s,null,new gt(r))}{if(!(s instanceof xe||s instanceof Ar))throw new lt(K.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=s._path.child(fe.fromString(t,...i));return Xv(r),new xe(s.firestore,s instanceof Ar?s.converter:null,new gt(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P0="AsyncQueue";class j0{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new fg(this,"async_queue_retry"),this._c=()=>{const r=lm();r&&ut(P0,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=t;const i=lm();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const i=lm();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new Fi;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Xu.push(t),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!Lo(t))throw t;ut(P0,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const i=this.ac.then((()=>(this.rc=!0,t().catch((r=>{throw this.nc=r,this.rc=!1,Ns("INTERNAL UNHANDLED ERROR: ",z0(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=i,i}enqueueAfterDelay(t,i,r){this.uc(),this.oc.indexOf(t)>-1&&(i=0);const l=yg.createAndSchedule(this,t,i,r,(c=>this.hc(c)));return this.tc.push(l),l}uc(){this.nc&&vt(47125,{Pc:z0(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const i of this.tc)if(i.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((i,r)=>i.targetTimeMs-r.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),t!=="all"&&i.timerId===t)break;return this.Tc()}))}dc(t){this.oc.push(t)}hc(t){const i=this.tc.indexOf(t);this.tc.splice(i,1)}}function z0(s){let t=s.message||"";return s.stack&&(t=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B0(s){return(function(i,r){if(typeof i!="object"||i===null)return!1;const l=i;for(const c of r)if(c in l&&typeof l[c]=="function")return!0;return!1})(s,["next","error","complete"])}class $i extends Yh{constructor(t,i,r,l){super(t,i,r,l),this.type="firestore",this._queue=new j0,this._persistenceKey=l?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new j0(t),this._firestoreClient=void 0,await t}}}function rC(s,t){const i=typeof s=="object"?s:rE(),r=typeof s=="string"?s:vh,l=zm(i,"firestore").getImmediate({identifier:r});if(!l._initialized){const c=DS("firestore");c&&sC(l,...c)}return l}function Su(s){if(s._terminated)throw new lt(K.FAILED_PRECONDITION,"The client has already been terminated.");return s._firestoreClient||aC(s),s._firestoreClient}function aC(s){const t=s._freezeSettings(),i=(function(l,c,d,p){return new N2(l,c,d,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,i1(p.experimentalLongPollingOptions),p.useFetchStreams,p.isUsingEmulator)})(s._databaseId,s._app?.options.appId||"",s._persistenceKey,t);s._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(s._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),s._firestoreClient=new JI(s._authCredentials,s._appCheckCredentials,s._queue,i,s._componentsProvider&&(function(l){const c=l?._online.build();return{_offline:l?._offline.build(c),_online:c}})(s._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yn{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Yn(fn.fromBase64String(t))}catch(i){throw new lt(K.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(t){return new Yn(fn.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:Yn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(yu(t,Yn._jsonSchema))return Yn.fromBase64String(t.bytes)}}Yn._jsonSchemaVersion="firestore/bytes/1.0",Yn._jsonSchema={type:Qe("string",Yn._jsonSchemaVersion),bytes:Qe("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bu{constructor(...t){for(let i=0;i<t.length;++i)if(t[i].length===0)throw new lt(K.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new cn(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wu{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qi{constructor(t,i){if(!isFinite(t)||t<-90||t>90)throw new lt(K.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(i)||i<-180||i>180)throw new lt(K.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=t,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return Ht(this._lat,t._lat)||Ht(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Qi._jsonSchemaVersion}}static fromJSON(t){if(yu(t,Qi._jsonSchema))return new Qi(t.latitude,t.longitude)}}Qi._jsonSchemaVersion="firestore/geoPoint/1.0",Qi._jsonSchema={type:Qe("string",Qi._jsonSchemaVersion),latitude:Qe("number"),longitude:Qe("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yi{constructor(t){this._values=(t||[]).map((i=>i))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(r,l){if(r.length!==l.length)return!1;for(let c=0;c<r.length;++c)if(r[c]!==l[c])return!1;return!0})(this._values,t._values)}toJSON(){return{type:Yi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(yu(t,Yi._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((i=>typeof i=="number")))return new Yi(t.vectorValues);throw new lt(K.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Yi._jsonSchemaVersion="firestore/vectorValue/1.0",Yi._jsonSchema={type:Qe("string",Yi._jsonSchemaVersion),vectorValues:Qe("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oC=/^__.*__$/;class lC{constructor(t,i,r){this.data=t,this.fieldMask=i,this.fieldTransforms=r}toMutation(t,i){return this.fieldMask!==null?new Mr(t,this.data,this.fieldMask,i,this.fieldTransforms):new vu(t,this.data,i,this.fieldTransforms)}}class r1{constructor(t,i,r){this.data=t,this.fieldMask=i,this.fieldTransforms=r}toMutation(t,i){return new Mr(t,this.data,this.fieldMask,i,this.fieldTransforms)}}function a1(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw vt(40011,{Ac:s})}}class xg{constructor(t,i,r,l,c,d){this.settings=t,this.databaseId=i,this.serializer=r,this.ignoreUndefinedProperties=l,c===void 0&&this.Rc(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(t){return new xg({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(t){const i=this.path?.child(t),r=this.Vc({path:i,fc:!1});return r.gc(t),r}yc(t){const i=this.path?.child(t),r=this.Vc({path:i,fc:!1});return r.Rc(),r}wc(t){return this.Vc({path:void 0,fc:!0})}Sc(t){return Ih(t,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(t){return this.fieldMask.find((i=>t.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>t.isPrefixOf(i.field)))!==void 0}Rc(){if(this.path)for(let t=0;t<this.path.length;t++)this.gc(this.path.get(t))}gc(t){if(t.length===0)throw this.Sc("Document fields must not be empty");if(a1(this.Ac)&&oC.test(t))throw this.Sc('Document fields cannot begin and end with "__"')}}class uC{constructor(t,i,r){this.databaseId=t,this.ignoreUndefinedProperties=i,this.serializer=r||Fh(t)}Cc(t,i,r,l=!1){return new xg({Ac:t,methodName:i,Dc:r,path:cn.emptyPath(),fc:!1,bc:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Ru(s){const t=s._freezeSettings(),i=Fh(s._databaseId);return new uC(s._databaseId,!!t.ignoreUndefinedProperties,i)}function Ig(s,t,i,r,l,c={}){const d=s.Cc(c.merge||c.mergeFields?2:0,t,i,l);Dg("Data must be an object, but it was:",d,r);const p=u1(r,d);let _,y;if(c.merge)_=new Kn(d.fieldMask),y=d.fieldTransforms;else if(c.mergeFields){const A=[];for(const b of c.mergeFields){const C=Lm(t,b,i);if(!d.contains(C))throw new lt(K.INVALID_ARGUMENT,`Field '${C}' is specified in your field mask but missing from your input data.`);h1(A,C)||A.push(C)}_=new Kn(A),y=d.fieldTransforms.filter((b=>_.covers(b.field)))}else _=null,y=d.fieldTransforms;return new lC(new Tn(p),_,y)}class Kh extends wu{_toFieldTransform(t){if(t.Ac!==2)throw t.Ac===1?t.Sc(`${this._methodName}() can only appear at the top level of your update data`):t.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof Kh}}class Cg extends wu{_toFieldTransform(t){return new AT(t.path,new lu)}isEqual(t){return t instanceof Cg}}class Ng extends wu{constructor(t,i){super(t),this.Fc=i}_toFieldTransform(t){const i=new hu(t.serializer,yT(t.serializer,this.Fc));return new AT(t.path,i)}isEqual(t){return t instanceof Ng&&this.Fc===t.Fc}}function o1(s,t,i,r){const l=s.Cc(1,t,i);Dg("Data must be an object, but it was:",l,r);const c=[],d=Tn.empty();Dr(r,((_,y)=>{const A=Mg(t,_,i);y=Ye(y);const b=l.yc(A);if(y instanceof Kh)c.push(A);else{const C=xu(y,b);C!=null&&(c.push(A),d.set(A,C))}}));const p=new Kn(c);return new r1(d,p,l.fieldTransforms)}function l1(s,t,i,r,l,c){const d=s.Cc(1,t,i),p=[Lm(t,r,i)],_=[l];if(c.length%2!=0)throw new lt(K.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let C=0;C<c.length;C+=2)p.push(Lm(t,c[C])),_.push(c[C+1]);const y=[],A=Tn.empty();for(let C=p.length-1;C>=0;--C)if(!h1(y,p[C])){const G=p[C];let et=_[C];et=Ye(et);const ot=d.yc(G);if(et instanceof Kh)y.push(G);else{const it=xu(et,ot);it!=null&&(y.push(G),A.set(G,it))}}const b=new Kn(y);return new r1(A,b,d.fieldTransforms)}function cC(s,t,i,r=!1){return xu(i,s.Cc(r?4:3,t))}function xu(s,t){if(c1(s=Ye(s)))return Dg("Unsupported field value:",t,s),u1(s,t);if(s instanceof wu)return(function(r,l){if(!a1(l.Ac))throw l.Sc(`${r._methodName}() can only be used with update() and set()`);if(!l.path)throw l.Sc(`${r._methodName}() is not currently supported inside arrays`);const c=r._toFieldTransform(l);c&&l.fieldTransforms.push(c)})(s,t),null;if(s===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),s instanceof Array){if(t.settings.fc&&t.Ac!==4)throw t.Sc("Nested arrays are not supported");return(function(r,l){const c=[];let d=0;for(const p of r){let _=xu(p,l.wc(d));_==null&&(_={nullValue:"NULL_VALUE"}),c.push(_),d++}return{arrayValue:{values:c}}})(s,t)}return(function(r,l){if((r=Ye(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return yT(l.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const c=Ee.fromDate(r);return{timestampValue:Ah(l.serializer,c)}}if(r instanceof Ee){const c=new Ee(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Ah(l.serializer,c)}}if(r instanceof Qi)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Yn)return{bytesValue:NT(l.serializer,r._byteString)};if(r instanceof xe){const c=l.databaseId,d=r.firestore._databaseId;if(!d.isEqual(c))throw l.Sc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:og(r.firestore._databaseId||l.databaseId,r._key.path)}}if(r instanceof Yi)return(function(d,p){return{mapValue:{fields:{[eT]:{stringValue:nT},[Eh]:{arrayValue:{values:d.toArray().map((y=>{if(typeof y!="number")throw p.Sc("VectorValues must only contain numeric values.");return sg(p.serializer,y)}))}}}}}})(r,l);throw l.Sc(`Unsupported field value: ${Vh(r)}`)})(s,t)}function u1(s,t){const i={};return XE(s)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Dr(s,((r,l)=>{const c=xu(l,t.mc(r));c!=null&&(i[r]=c)})),{mapValue:{fields:i}}}function c1(s){return!(typeof s!="object"||s===null||s instanceof Array||s instanceof Date||s instanceof Ee||s instanceof Qi||s instanceof Yn||s instanceof xe||s instanceof wu||s instanceof Yi)}function Dg(s,t,i){if(!c1(i)||!YE(i)){const r=Vh(i);throw r==="an object"?t.Sc(s+" a custom object"):t.Sc(s+" "+r)}}function Lm(s,t,i){if((t=Ye(t))instanceof bu)return t._internalPath;if(typeof t=="string")return Mg(s,t);throw Ih("Field path arguments must be of type string or ",s,!1,void 0,i)}const hC=new RegExp("[~\\*/\\[\\]]");function Mg(s,t,i){if(t.search(hC)>=0)throw Ih(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,i);try{return new bu(...t.split("."))._internalPath}catch{throw Ih(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,i)}}function Ih(s,t,i,r,l){const c=r&&!r.isEmpty(),d=l!==void 0;let p=`Function ${t}() called with invalid data`;i&&(p+=" (via `toFirestore()`)"),p+=". ";let _="";return(c||d)&&(_+=" (found",c&&(_+=` in field ${r}`),d&&(_+=` in document ${l}`),_+=")"),new lt(K.INVALID_ARGUMENT,p+s+_)}function h1(s,t){return s.some((i=>i.isEqual(t)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ch{constructor(t,i,r,l,c){this._firestore=t,this._userDataWriter=i,this._key=r,this._document=l,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new xe(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new fC(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const i=this._document.data.field(Xh("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i)}}}class fC extends Ch{data(){return super.data()}}function Xh(s,t){return typeof t=="string"?Mg(s,t):t instanceof bu?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f1(s){if(s.limitType==="L"&&s.explicitOrderBy.length===0)throw new lt(K.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Og{}class d1 extends Og{}function co(s,t,...i){let r=[];t instanceof Og&&r.push(t),r=r.concat(i),(function(c){const d=c.filter((_=>_ instanceof Vg)).length,p=c.filter((_=>_ instanceof $h)).length;if(d>1||d>0&&p>0)throw new lt(K.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const l of r)s=l._apply(s);return s}class $h extends d1{constructor(t,i,r){super(),this._field=t,this._op=i,this._value=r,this.type="where"}static _create(t,i,r){return new $h(t,i,r)}_apply(t){const i=this._parse(t);return m1(t._query,i),new Or(t.firestore,t.converter,Rm(t._query,i))}_parse(t){const i=Ru(t.firestore);return(function(c,d,p,_,y,A,b){let C;if(y.isKeyField()){if(A==="array-contains"||A==="array-contains-any")throw new lt(K.INVALID_ARGUMENT,`Invalid Query. You can't perform '${A}' queries on documentId().`);if(A==="in"||A==="not-in"){F0(b,A);const et=[];for(const ot of b)et.push(H0(_,c,ot));C={arrayValue:{values:et}}}else C=H0(_,c,b)}else A!=="in"&&A!=="not-in"&&A!=="array-contains-any"||F0(b,A),C=cC(p,d,b,A==="in"||A==="not-in");return Ge.create(y,A,C)})(t._query,"where",i,t.firestore._databaseId,this._field,this._op,this._value)}}function q0(s,t,i){const r=t,l=Xh("where",s);return $h._create(l,r,i)}class Vg extends Og{constructor(t,i){super(),this.type=t,this._queryConstraints=i}static _create(t,i){return new Vg(t,i)}_parse(t){const i=this._queryConstraints.map((r=>r._parse(t))).filter((r=>r.getFilters().length>0));return i.length===1?i[0]:Si.create(i,this._getOperator())}_apply(t){const i=this._parse(t);return i.getFilters().length===0?t:((function(l,c){let d=l;const p=c.getFlattenedFilters();for(const _ of p)m1(d,_),d=Rm(d,_)})(t._query,i),new Or(t.firestore,t.converter,Rm(t._query,i)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Ug extends d1{constructor(t,i){super(),this._field=t,this._direction=i,this.type="orderBy"}static _create(t,i){return new Ug(t,i)}_apply(t){const i=(function(l,c,d){if(l.startAt!==null)throw new lt(K.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(l.endAt!==null)throw new lt(K.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new ou(c,d)})(t._query,this._field,this._direction);return new Or(t.firestore,t.converter,(function(l,c){const d=l.explicitOrderBy.concat([c]);return new ko(l.path,l.collectionGroup,d,l.filters.slice(),l.limit,l.limitType,l.startAt,l.endAt)})(t._query,i))}}function ho(s,t="asc"){const i=t,r=Xh("orderBy",s);return Ug._create(r,i)}function H0(s,t,i){if(typeof(i=Ye(i))=="string"){if(i==="")throw new lt(K.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!cT(t)&&i.indexOf("/")!==-1)throw new lt(K.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${i}' contains a '/' character.`);const r=t.path.child(fe.fromString(i));if(!gt.isDocumentKey(r))throw new lt(K.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return s0(s,new gt(r))}if(i instanceof xe)return s0(s,i._key);throw new lt(K.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Vh(i)}.`)}function F0(s,t){if(!Array.isArray(s)||s.length===0)throw new lt(K.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function m1(s,t){const i=(function(l,c){for(const d of l)for(const p of d.getFlattenedFilters())if(c.indexOf(p.op)>=0)return p.op;return null})(s.filters,(function(l){switch(l){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(t.op));if(i!==null)throw i===t.op?new lt(K.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new lt(K.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${i.toString()}' filters.`)}class g1{convertValue(t,i="none"){switch(xr(t)){case 0:return null;case 1:return t.booleanValue;case 2:return ke(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,i);case 5:return t.stringValue;case 6:return this.convertBytes(Rr(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,i);case 11:return this.convertObject(t.mapValue,i);case 10:return this.convertVectorValue(t.mapValue);default:throw vt(62114,{value:t})}}convertObject(t,i){return this.convertObjectMap(t.fields,i)}convertObjectMap(t,i="none"){const r={};return Dr(t,((l,c)=>{r[l]=this.convertValue(c,i)})),r}convertVectorValue(t){const i=t.fields?.[Eh].arrayValue?.values?.map((r=>ke(r.doubleValue)));return new Yi(i)}convertGeoPoint(t){return new Qi(ke(t.latitude),ke(t.longitude))}convertArray(t,i){return(t.values||[]).map((r=>this.convertValue(r,i)))}convertServerTimestamp(t,i){switch(i){case"previous":const r=Lh(t);return r==null?null:this.convertValue(r,i);case"estimate":return this.convertTimestamp(su(t));default:return null}}convertTimestamp(t){const i=wr(t);return new Ee(i.seconds,i.nanos)}convertDocumentKey(t,i){const r=fe.fromString(t);$t(kT(r),9688,{name:t});const l=new ru(r.get(1),r.get(3)),c=new gt(r.popFirst(5));return l.isEqual(i)||Ns(`Document ${c} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lg(s,t,i){let r;return r=s?i&&(i.merge||i.mergeFields)?s.toFirestore(t,i):s.toFirestore(t):t,r}class dC extends g1{constructor(t){super(),this.firestore=t}convertBytes(t){return new Yn(t)}convertReference(t){const i=this.convertDocumentKey(t,this.firestore._databaseId);return new xe(this.firestore,null,i)}}class _o{constructor(t,i){this.hasPendingWrites=t,this.fromCache=i}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Sr extends Ch{constructor(t,i,r,l,c,d){super(t,i,r,l,d),this._firestore=t,this._firestoreImpl=t,this.metadata=c}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const i=new uh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,i={}){if(this._document){const r=this._document.data.field(Xh("DocumentSnapshot.get",t));if(r!==null)return this._userDataWriter.convertValue(r,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new lt(K.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,i={};return i.type=Sr._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}Sr._jsonSchemaVersion="firestore/documentSnapshot/1.0",Sr._jsonSchema={type:Qe("string",Sr._jsonSchemaVersion),bundleSource:Qe("string","DocumentSnapshot"),bundleName:Qe("string"),bundle:Qe("string")};class uh extends Sr{data(t={}){return super.data(t)}}class ga{constructor(t,i,r,l){this._firestore=t,this._userDataWriter=i,this._snapshot=l,this.metadata=new _o(l.hasPendingWrites,l.fromCache),this.query=r}get docs(){const t=[];return this.forEach((i=>t.push(i))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,i){this._snapshot.docs.forEach((r=>{t.call(i,new uh(this._firestore,this._userDataWriter,r.key,r,new _o(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const i=!!t.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new lt(K.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(l,c){if(l._snapshot.oldDocs.isEmpty()){let d=0;return l._snapshot.docChanges.map((p=>{const _=new uh(l._firestore,l._userDataWriter,p.doc.key,p.doc,new _o(l._snapshot.mutatedKeys.has(p.doc.key),l._snapshot.fromCache),l.query.converter);return p.doc,{type:"added",doc:_,oldIndex:-1,newIndex:d++}}))}{let d=l._snapshot.oldDocs;return l._snapshot.docChanges.filter((p=>c||p.type!==3)).map((p=>{const _=new uh(l._firestore,l._userDataWriter,p.doc.key,p.doc,new _o(l._snapshot.mutatedKeys.has(p.doc.key),l._snapshot.fromCache),l.query.converter);let y=-1,A=-1;return p.type!==0&&(y=d.indexOf(p.doc.key),d=d.delete(p.doc.key)),p.type!==1&&(d=d.add(p.doc),A=d.indexOf(p.doc.key)),{type:mC(p.type),doc:_,oldIndex:y,newIndex:A}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new lt(K.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=ga._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=Jm.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],r=[],l=[];return this.docs.forEach((c=>{c._document!==null&&(i.push(c._document),r.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),l.push(c.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function mC(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return vt(61501,{type:s})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bl(s){s=An(s,xe);const t=An(s.firestore,$i);return nC(Su(t),s._key).then((i=>p1(t,s,i)))}ga._jsonSchemaVersion="firestore/querySnapshot/1.0",ga._jsonSchema={type:Qe("string",ga._jsonSchemaVersion),bundleSource:Qe("string","QuerySnapshot"),bundleName:Qe("string"),bundle:Qe("string")};class Zh extends g1{constructor(t){super(),this.firestore=t}convertBytes(t){return new Yn(t)}convertReference(t){const i=this.convertDocumentKey(t,this.firestore._databaseId);return new xe(this.firestore,null,i)}}function ql(s){s=An(s,Or);const t=An(s.firestore,$i),i=Su(t),r=new Zh(t);return f1(s._query),iC(i,s._query).then((l=>new ga(t,r,s,l)))}function ca(s,t,i){s=An(s,xe);const r=An(s.firestore,$i),l=Lg(s.converter,t,i);return Jh(r,[Ig(Ru(r),"setDoc",s._key,l,s.converter!==null,i).toMutation(s._key,hn.none())])}function G0(s,t,i,...r){s=An(s,xe);const l=An(s.firestore,$i),c=Ru(l);let d;return d=typeof(t=Ye(t))=="string"||t instanceof bu?l1(c,"updateDoc",s._key,t,i,r):o1(c,"updateDoc",s._key,t),Jh(l,[d.toMutation(s._key,hn.exists(!0))])}function Wc(s){return Jh(An(s.firestore,$i),[new qh(s._key,hn.none())])}function cm(s,t){const i=An(s.firestore,$i),r=Re(s),l=Lg(s.converter,t);return Jh(i,[Ig(Ru(s.firestore),"addDoc",r._key,l,s.converter!==null,{}).toMutation(r._key,hn.exists(!1))]).then((()=>r))}function Q0(s,...t){s=Ye(s);let i={includeMetadataChanges:!1,source:"default"},r=0;typeof t[r]!="object"||B0(t[r])||(i=t[r++]);const l={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(B0(t[r])){const _=t[r];t[r]=_.next?.bind(_),t[r+1]=_.error?.bind(_),t[r+2]=_.complete?.bind(_)}let c,d,p;if(s instanceof xe)d=An(s.firestore,$i),p=kh(s._key.path),c={next:_=>{t[r]&&t[r](p1(d,s,_))},error:t[r+1],complete:t[r+2]};else{const _=An(s,Or);d=An(_.firestore,$i),p=_._query;const y=new Zh(d);c={next:A=>{t[r]&&t[r](new ga(d,y,_,A))},error:t[r+1],complete:t[r+2]},f1(s._query)}return(function(y,A,b,C){const G=new wg(C),et=new Ag(A,G,b);return y.asyncQueue.enqueueAndForget((async()=>vg(await xh(y),et))),()=>{G.Nu(),y.asyncQueue.enqueueAndForget((async()=>Eg(await xh(y),et)))}})(Su(d),p,l,c)}function Jh(s,t){return(function(r,l){const c=new Fi;return r.asyncQueue.enqueueAndForget((async()=>BI(await tC(r),l,c))),c.promise})(Su(s),t)}function p1(s,t,i){const r=i.docs.get(t._key),l=new Zh(s);return new Sr(s,l,t._key,r,new _o(i.hasPendingWrites,i.fromCache),t.converter)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gC={maxAttempts:5};function Yl(s,t){if((s=Ye(s)).firestore!==t)throw new lt(K.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pC{constructor(t,i){this._firestore=t,this._transaction=i,this._dataReader=Ru(t)}get(t){const i=Yl(t,this._firestore),r=new dC(this._firestore);return this._transaction.lookup([i._key]).then((l=>{if(!l||l.length!==1)return vt(24041);const c=l[0];if(c.isFoundDocument())return new Ch(this._firestore,r,c.key,c,i.converter);if(c.isNoDocument())return new Ch(this._firestore,r,i._key,null,i.converter);throw vt(18433,{doc:c})}))}set(t,i,r){const l=Yl(t,this._firestore),c=Lg(l.converter,i,r),d=Ig(this._dataReader,"Transaction.set",l._key,c,l.converter!==null,r);return this._transaction.set(l._key,d),this}update(t,i,r,...l){const c=Yl(t,this._firestore);let d;return d=typeof(i=Ye(i))=="string"||i instanceof bu?l1(this._dataReader,"Transaction.update",c._key,i,r,l):o1(this._dataReader,"Transaction.update",c._key,i),this._transaction.update(c._key,d),this}delete(t){const i=Yl(t,this._firestore);return this._transaction.delete(i._key),this}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yC extends pC{constructor(t,i){super(t,i),this._firestore=t}get(t){const i=Yl(t,this._firestore),r=new Zh(this._firestore);return super.get(t).then((l=>new Sr(this._firestore,r,i._key,l._document,new _o(!1,!1),i.converter)))}}function fo(s,t,i){s=An(s,$i);const r={...gC,...i};return(function(c){if(c.maxAttempts<1)throw new lt(K.INVALID_ARGUMENT,"Max attempts must be at least 1")})(r),(function(c,d,p){const _=new Fi;return c.asyncQueue.enqueueAndForget((async()=>{const y=await eC(c);new ZI(c.asyncQueue,y,p,d,_).ju()})),_.promise})(Su(s),(l=>t(new yC(s,l))),r)}function Qn(){return new Cg("serverTimestamp")}function Hl(s){return new Ng("increment",s)}(function(t,i=!0){(function(l){Vo=l})(Mo),So(new ya("firestore",((r,{instanceIdentifier:l,options:c})=>{const d=r.getProvider("app").getImmediate(),p=new $i(new h2(r.getProvider("auth-internal")),new m2(d,r.getProvider("app-check-internal")),(function(y,A){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new lt(K.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ru(y.options.projectId,A)})(d,l),d);return c={useFetchStreams:i,...c},p._setSettings(c),p}),"PUBLIC").setMultipleInstances(!0)),Er(Gv,Qv,t),Er(Gv,Qv,"esm2020")})();const _C={apiKey:"AIzaSyD9Q8xysodbNwRxv_YshLDo5pG9-CvdTQE",authDomain:"pallavolo-67515986-17130.firebaseapp.com",projectId:"pallavolo-67515986-17130",storageBucket:"pallavolo-67515986-17130.firebasestorage.app",messagingSenderId:"462112859333",appId:"1:462112859333:web:059bb7a96b44dca9e33cac"},y1=sE(_C),hm=o2(y1),kt=rC(y1),vC=new ws,bs=14,he={NO_MATCHES:"no_matches",MATCH_LIST:"match_list",MATCH_DETAIL:"match_detail",MATCH_HISTORY:"match_history",USERS_LIST:"users_list"};function EC(){const[s,t]=Yt.useState(null),[i,r]=Yt.useState(!1),[l,c]=Yt.useState(!1),[d,p]=Yt.useState([]),[_,y]=Yt.useState([]),[A,b]=Yt.useState(null),[C,G]=Yt.useState([]),[et,ot]=Yt.useState(""),[it,_t]=Yt.useState(!1),[Rt,Tt]=Yt.useState(null),[Zt,ie]=Yt.useState(""),[Gt,N]=Yt.useState(!1),[w,x]=Yt.useState(""),[U,M]=Yt.useState(!1),[L,R]=Yt.useState(null),[de,Se]=Yt.useState("user"),[Q,at]=Yt.useState([]),[yt,Kt]=Yt.useState(!1),[te,V]=Yt.useState(!1),[F,st]=Yt.useState(he.NO_MATCHES),[J,At]=Yt.useState(null),[It,Vt]=Yt.useState([]),[me,ge]=Yt.useState([]),$n=Yt.useMemo(()=>Re(kt,"state","currentSession"),[]),dn="tidolamiamail@gmail.com",Zi=s?.email===dn,Ot=de==="admin"||Zi;Yt.useEffect(()=>{const D=Xw(hm,async W=>{if(W){t(W),r(!0);const tt=Re(kt,"users",W.uid),nt=await Bl(tt);let dt={};if(nt.exists())dt=nt.data(),ie(dt.customDisplayName||W.displayName),W.email===dn?Se("super-admin"):Se(dt.role||"user");else{ie(W.displayName);const mt=W.email===dn?"super-admin":"user";Se(mt)}await ca(tt,{email:W.email,displayName:W.displayName,photoURL:W.photoURL,lastLogin:Qn(),role:de||(W.email===dn?"super-admin":"user")},{merge:!0}),_n(W.uid)}else t(null),r(!1),_t(!1),Tt(null),ie(""),N(!1)});return()=>D()},[]),Yt.useEffect(()=>{let D;return(async()=>((await Bl($n)).exists()||await ca($n,{participants:[],reserves:[],lastUpdated:Qn()}),D=Q0($n,tt=>{const nt=tt.data();p(Array.isArray(nt?.participants)?nt.participants:[]),y(Array.isArray(nt?.reserves)?nt.reserves:[]),b(nt?.date||null)})))(),()=>{typeof D=="function"&&D()}},[$n]),Yt.useEffect(()=>{const W=(async()=>{try{const tt=co(Ss(kt,"activeMatches"),ho("date","asc"));return Q0(tt,dt=>{const mt=dt.docs.map(bt=>({id:bt.id,...bt.data()}));ge(mt),F===he.NO_MATCHES&&mt.length>0?st(he.MATCH_LIST):F===he.MATCH_LIST&&mt.length===0&&st(he.NO_MATCHES)})}catch(tt){console.error("Error loading active matches:",tt),ge([])}})();return()=>{typeof W=="function"&&W.then(tt=>tt())}},[]),Yt.useEffect(()=>{const D=W=>{it&&!W.target.closest(".user-dropdown")&&_t(!1)};return document.addEventListener("mousedown",D),()=>{document.removeEventListener("mousedown",D)}},[it]);function Zn(){const D=new Date,tt=(9-D.getDay())%7||7,nt=new Date(D);nt.setDate(D.getDate()+tt),nt.setHours(20,30,0,0);const dt=mt=>mt.toString().padStart(2,"0");return`${nt.getFullYear()}-${dt(nt.getMonth()+1)}-${dt(nt.getDate())}T${dt(nt.getHours())}:${dt(nt.getMinutes())}`}const[bi,wi]=Yt.useState(Zn()),Os=async()=>{if(!(!Ot||te)){V(!0);try{const D=new Date(bi),W=co(Ss(kt,"activeMatches"),ho("date","asc"));if((await ql(W)).docs.some(mt=>new Date(mt.data().date).getTime()===D.getTime())){alert("Esiste gi una partita per questo giorno e orario!");return}const dt=await cm(Ss(kt,"activeMatches"),{participants:[],reserves:[],date:bi,createdAt:Qn(),lastUpdated:Qn(),createdBy:s.uid,status:"active"});console.log("Partita creata con ID:",dt.id)}catch(D){console.error("Errore nella creazione della partita:",D),alert("Errore nella creazione della partita")}finally{V(!1)}}},Ji=async()=>{c(!0);try{const W=(await pR(hm,vC)).user,tt=Re(kt,"users",W.uid),nt=await Bl(tt),dt=nt.exists()?nt.data():{};await ca(tt,{email:W.email,displayName:W.displayName,photoURL:W.photoURL,lastLogin:Qn(),...dt.customDisplayName&&{customDisplayName:dt.customDisplayName},...dt.role&&{role:dt.role}},{merge:!0}),t(W),r(!0),_n(W.uid)}catch(D){alert(`Errore durante il login: ${D.message||D}`),console.error("Login error:",D)}finally{c(!1)}},Ce=async()=>{await $w(hm),r(!1),t(null)},Me=()=>{x(Zt),N(!0)},Ri=async()=>{if(!(!s||!w.trim()))try{await ca(Re(kt,"users",s.uid),{customDisplayName:w.trim()},{merge:!0}),ie(w.trim()),N(!1)}catch(D){console.error("Errore nel salvataggio del nome:",D),alert("Errore nel salvataggio del nome")}},jo=()=>{x(""),N(!1)},Vs=async(D,W)=>{try{const tt=await Bl(Re(kt,"users",D)),nt=tt.exists()?tt.data():{},dt=co(Ss(kt,"sessions"),q0("participantUids","array-contains",D),ho("date","desc")),bt=(await ql(dt)).docs.map(ft=>({id:ft.id,...ft.data()}));R({uid:D,displayName:nt.customDisplayName||W,totalSessions:nt?.stats?.totalSessions||0,asParticipant:nt?.stats?.asParticipant||0,asReserve:nt?.stats?.asReserve||0,friendsBrought:nt?.stats?.friendsBrought||0,sessionsHistory:bt}),M(!0)}catch(tt){console.error("Errore nel caricamento delle statistiche:",tt),alert("Errore nel caricamento delle statistiche")}},nn=async D=>{if(!(!Ot||!confirm("Sei sicuro di voler resettare tutte le statistiche di questo utente?")))try{await ca(Re(kt,"users",D),{stats:{totalSessions:0,asParticipant:0,asReserve:0,friendsBrought:0}},{merge:!0}),alert("Statistiche resettate con successo"),L&&L.uid===D&&R({...L,totalSessions:0,asParticipant:0,asReserve:0,friendsBrought:0}),s&&s.uid===D&&_n(D)}catch(tt){console.error("Errore nel reset delle statistiche:",tt),alert("Errore nel reset delle statistiche")}},Wi=async D=>{if(!(!Ot||!confirm("Sei sicuro di voler eliminare questa sessione dalle statistiche?")))try{await fo(kt,async tt=>{const nt=Re(kt,"sessions",D),dt=await tt.get(nt);if(!dt.exists())throw new Error("Sessione non trovata");const mt=dt.data(),bt=[...(mt.participantUids||[]).map(ft=>({uid:ft,participant:!0})),...(mt.reserveUids||[]).map(ft=>({uid:ft,participant:!1}))];for(const ft of bt){const Pt=Re(kt,"users",ft.uid),jt=await tt.get(Pt);if(jt.exists()){const Oe=jt.data().stats||{};tt.update(Pt,{stats:{...Oe,totalSessions:Math.max(0,(Oe.totalSessions||1)-1),asParticipant:ft.participant?Math.max(0,(Oe.asParticipant||1)-1):Oe.asParticipant||0,asReserve:ft.participant?Oe.asReserve||0:Math.max(0,(Oe.asReserve||1)-1)}})}}tt.delete(nt)}),alert("Sessione eliminata con successo"),Us(),s&&_n(s.uid)}catch(tt){console.error("Errore nell'eliminazione della sessione:",tt),alert("Errore nell'eliminazione della sessione")}},Vr=async D=>{if(!(!Ot||!confirm("Sei sicuro di voler eliminare questa partita attiva? Tutti i partecipanti iscritti verranno rimossi.")))try{const tt=Re(kt,"activeMatches",D);await Wc(tt),alert("Partita eliminata con successo")}catch(tt){console.error("Errore nell'eliminazione della partita:",tt),alert("Errore nell'eliminazione della partita")}},Ur=async D=>{if(!(!Ot||!confirm("Sei sicuro di voler chiudere questa partita? Verr salvata nello storico e rimossa dalle partite attive.")))try{const tt=D.participants||[],nt=D.reserves||[];if(tt.length>0){const dt={date:new Date(D.date),participants:tt,reserves:nt,participantUids:tt.map(ft=>ft.uid),reserveUids:nt.map(ft=>ft.uid)};await cm(Ss(kt,"sessions"),dt);const mt=tt.map(ft=>G0(Re(kt,"users",ft.uid),{"stats.totalSessions":Hl(1),"stats.asParticipant":Hl(1),"stats.friendsBrought":Hl(ft.friends?.length||0)})),bt=nt.map(ft=>G0(Re(kt,"users",ft.uid),{"stats.asReserve":Hl(1),"stats.friendsBrought":Hl(ft.friends?.length||0)}));await Promise.allSettled([...mt,...bt])}await Wc(Re(kt,"activeMatches",D.id)),alert(tt.length>0?"Partita chiusa e salvata nello storico!":"Partita chiusa!")}catch(tt){console.error("Errore nella chiusura della partita:",tt),alert("Errore nella chiusura della partita")}},_n=async D=>{const W=await Bl(Re(kt,"users",D)),tt=W.exists()?W.data():{},nt=co(Ss(kt,"sessions"),q0("participantUids","array-contains",D),ho("date","desc")),mt=(await ql(nt)).docs.map(bt=>({id:bt.id,...bt.data()}));Tt({totalSessions:tt?.stats?.totalSessions||0,asParticipant:tt?.stats?.asParticipant||0,asReserve:tt?.stats?.asReserve||0,friendsBrought:tt?.stats?.friendsBrought||0,sessionsHistory:mt})},Us=async()=>{try{const D=co(Ss(kt,"sessions"),ho("date","desc")),tt=(await ql(D)).docs.map(nt=>({id:nt.id,...nt.data()}));Vt(tt)}catch(D){console.error("Error loading match history:",D),Vt([])}},Lr=async()=>{if(i)try{const D=co(Ss(kt,"users"),ho("lastLogin","desc")),tt=(await ql(D)).docs.map(nt=>({id:nt.id,...nt.data()}));at(tt)}catch(D){console.error("Error loading users:",D),at([])}},kr=async(D,W)=>{if(!Ot||D===s?.uid)return;if(Q.find(nt=>nt.id===D)?.email===dn){alert("Non puoi modificare il ruolo del super admin");return}try{await ca(Re(kt,"users",D),{role:W},{merge:!0}),at(nt=>nt.map(dt=>dt.id===D?{...dt,role:W}:dt)),alert(`Ruolo utente aggiornato a: ${W}`)}catch(nt){console.error("Error updating user role:",nt),alert("Errore nell'aggiornamento del ruolo")}},Sa=async D=>{if(!(!Ot||!confirm("Sei sicuro di voler ignorare questa sessione dalle statistiche?")))try{await ca(Re(kt,"sessions",D),{ignoredFromStats:!0},{merge:!0}),alert("Sessione ignorata dalle statistiche"),Us()}catch(tt){console.error("Errore nell'ignorare la sessione:",tt),alert("Errore nell'ignorare la sessione")}},Sn=()=>J?J.participants?.some(D=>D.uid===s?.uid)||J.reserves?.some(D=>D.uid===s?.uid):!1,Ke=()=>J?J.participants?.some(D=>D.uid===s?.uid):!1,bn=()=>J?J.reserves?.some(D=>D.uid===s?.uid):!1,be=!!J&&me.some(D=>D.id===J.id),ts=!!J&&!me.some(D=>D.id===J.id),es=()=>{if(!J)return 0;let D=J.participants?.length||0;for(const W of J.participants||[])D+=W.friends?.length||0;return D},ba=()=>{if(!J)return 0;let D=J.reserves?.length||0;for(const W of J.reserves||[])D+=W.friends?.length||0;return D},wn=async(D=!1)=>{if(!(!i||!s||!J))try{const W=Re(kt,"activeMatches",J.id);await fo(kt,async nt=>{const mt=(await nt.get(W)).data()||{participants:[],reserves:[]},bt=mt.participants?.some(ye=>ye.uid===s.uid);if(mt.reserves?.some(ye=>ye.uid===s.uid))throw new Error("Sei gi iscritto come riserva!");if(bt){if(C.length===0)throw new Error("Sei gi iscritto come partecipante!");let ye=mt.participants.length;for(const Ln of mt.participants)ye+=Ln.friends?.length||0;if(ye+C.length>bs)throw new Error(`Non ci sono abbastanza posti per tutti i +1, rimuoverne qualcuno e riprovare (posti disponibili: ${bs-ye})`);const Ze={...mt};Ze.participants=Ze.participants.map(Ln=>Ln.uid===s.uid?{...Ln,friends:[...Ln.friends||[],...C],timestamp:new Date().toLocaleString("it-IT")}:Ln),nt.update(W,{participants:Ze.participants,lastUpdated:Qn()}),G([]),await _n(s.uid),alert(`${C.length} amici aggiunti con successo!`);return}const Pt={uid:s.uid,name:Zt||s.displayName,photoURL:s.photoURL,friends:C,timestamp:new Date().toLocaleString("it-IT")},jt={...mt};if(jt.participants=Array.isArray(jt.participants)?jt.participants:[],jt.reserves=Array.isArray(jt.reserves)?jt.reserves:[],D)jt.reserves=[...jt.reserves,Pt];else{let ye=jt.participants.length;for(const Ze of jt.participants)ye+=Ze.friends?.length||0;if(ye+1+(C.length||0)<=bs)jt.participants=[...jt.participants,Pt];else{const Ze=bs-ye;throw new Error(`Non ci sono abbastanza posti per tutti i +1, rimuoverne qualcuno e riprovare (posti disponibili: ${Ze})`)}}nt.update(W,{participants:jt.participants,reserves:jt.reserves,lastUpdated:Qn()})}),G([]),await _n(s.uid);const tt=es();!D&&tt>bs&&alert(`Lista partecipanti piena (${bs} posti)! Sei stato aggiunto alle riserve.`)}catch(W){alert(W.message||"Errore durante l'iscrizione")}},ns=async()=>{if(!(!i||!s||!J))try{const D=Re(kt,"activeMatches",J.id);await fo(kt,async W=>{const nt=(await W.get(D)).data()||{participants:[],reserves:[]},dt=nt.participants?.findIndex(Pt=>Pt.uid===s.uid),mt=nt.reserves?.findIndex(Pt=>Pt.uid===s.uid);if((dt===void 0||dt===-1)&&(mt===void 0||mt===-1))throw new Error("Non sei iscritto a questa partita.");const bt=[...nt.participants||[]];let ft=[...nt.reserves||[]];if(dt!==void 0&&dt!==-1){if(bt.splice(dt,1),ft.length>0){const Pt=ft[0];ft=ft.slice(1),bt.push(Pt)}}else mt!==void 0&&mt!==-1&&(ft=ft.filter(Pt=>Pt.uid!==s.uid));W.update(D,{participants:bt,reserves:ft,lastUpdated:Qn()})})}catch(D){alert(D.message||"Errore durante la disiscrizione")}},we=async(D,W=!1)=>{if(!(!Ot||!J))try{const tt=Re(kt,"activeMatches",J.id);await fo(kt,async nt=>{const mt=(await nt.get(tt)).data()||{participants:[],reserves:[]};let bt=[...mt.participants||[]],ft=[...mt.reserves||[]];if(W)ft=ft.filter(Pt=>Pt.uid!==D);else if(bt=bt.filter(Pt=>Pt.uid!==D),ft.length>0){const Pt=ft[0];ft=ft.slice(1),bt.push(Pt)}nt.update(tt,{participants:bt,reserves:ft,lastUpdated:Qn()})})}catch(tt){alert(tt.message||"Errore durante la rimozione")}},Vn=async(D,W,tt=!1)=>{if(!(!Ot||!J))try{const nt=Re(kt,"activeMatches",J.id);await fo(kt,async dt=>{const bt=(await dt.get(nt)).data()||{participants:[],reserves:[]};let ft=[...bt.participants||[]],Pt=[...bt.reserves||[]];if(tt){const jt=Pt.findIndex(ye=>ye.uid===D);jt!==-1&&Pt[jt].friends&&(Pt[jt]={...Pt[jt],friends:Pt[jt].friends.filter((ye,Oe)=>Oe!==W)})}else{const jt=ft.findIndex(ye=>ye.uid===D);jt!==-1&&ft[jt].friends&&(ft[jt]={...ft[jt],friends:ft[jt].friends.filter((ye,Oe)=>Oe!==W)})}dt.update(nt,{participants:ft,reserves:Pt,lastUpdated:Qn()})})}catch(nt){alert(nt.message||"Errore durante la rimozione dell'amico")}},Jn=async D=>{if(!(!Ot||!J))try{const W=Re(kt,"activeMatches",J.id);await fo(kt,async tt=>{const dt=(await tt.get(W)).data()||{participants:[],reserves:[]},mt=dt.reserves?.findIndex(Oe=>Oe.uid===D);if(mt===-1)throw new Error("Riserva non trovata");const bt=dt.reserves[mt];let ft=dt.participants?.length||0;for(const Oe of dt.participants||[])ft+=Oe.friends?.length||0;const Pt=ft+1+(bt.friends?.length||0);if(Pt>bs)throw new Error(`Non c' abbastanza spazio. Servono ${Pt-ft} posti ma ne rimangono solo ${bs-ft}.`);const jt=[...dt.reserves||[]];jt.splice(mt,1);const ye=[...dt.participants||[],bt];tt.update(W,{participants:ye,reserves:jt,lastUpdated:Qn()})}),alert("Riserva promossa a partecipante con successo!")}catch(W){console.error("Errore nella promozione:",W),alert(W.message||"Errore nella promozione della riserva")}},Un=()=>S.jsx("div",{className:"bg-gray-800 rounded-xl shadow-2xl p-4 md:p-6 mb-6 border border-gray-700",children:S.jsxs("div",{className:"flex items-center justify-between",children:[S.jsxs("div",{className:"flex items-center gap-2 md:gap-3 flex-1 min-w-0",children:[S.jsx("div",{className:"bg-indigo-600 p-2 md:p-3 rounded-lg flex-shrink-0",children:S.jsx("div",{className:"w-6 h-6 md:w-8 md:h-8 text-white text-lg md:text-2xl flex items-center justify-center",children:""})}),S.jsxs("div",{className:"min-w-0 flex-1",children:[S.jsx("h1",{className:"text-xl md:text-3xl font-bold text-gray-100 truncate",children:F===he.MATCH_HISTORY?"Storico Partite":F===he.USERS_LIST?"Lista Utenti":"Pallavolo - 7 fighters"}),i&&(F===he.MATCH_DETAIL&&A?S.jsxs("div",{className:"mt-1 md:mt-2 flex items-center gap-3 flex-wrap",children:[S.jsxs("div",{className:"text-sm md:text-lg text-indigo-300 font-semibold",children:["Partita del ",new Date(A).toLocaleString("it-IT",{dateStyle:"full",timeStyle:"short"})]}),S.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${J&&me.some(D=>D.id===J.id)?"bg-green-600 text-green-100":"bg-gray-600 text-gray-100"}`,children:J&&me.some(D=>D.id===J.id)?"Aperta":"Giocata"})]}):F===he.MATCH_HISTORY?S.jsx("div",{className:"mt-1 md:mt-2 text-sm md:text-lg text-indigo-300 font-semibold",children:"Partite gi giocate"}):F===he.USERS_LIST?S.jsx("div",{className:"mt-1 md:mt-2 text-sm md:text-lg text-indigo-300 font-semibold",children:"Gestisci ruoli e utenti"}):F===he.MATCH_LIST&&A?S.jsx("div",{className:"mt-1 md:mt-2 text-sm md:text-lg text-indigo-300 font-semibold",children:"Seleziona una partita per iscriverti"}):S.jsx("div",{className:"mt-1 md:mt-2 text-sm md:text-lg text-indigo-300 font-semibold",children:"Nessuna partita attiva"}))]})]}),i&&S.jsxs("div",{className:"relative flex items-center gap-2 md:gap-3 user-dropdown flex-shrink-0",children:[S.jsx("span",{className:"hidden md:block text-gray-100 font-medium truncate max-w-32",children:Zt||s?.displayName}),S.jsx("button",{onClick:()=>_t(!it),className:"p-1 md:p-2 bg-gray-700 rounded-full border border-gray-600 hover:bg-gray-600 transition flex-shrink-0",title:"Area personale",children:S.jsx("img",{src:s.photoURL||"",alt:s.displayName||"",className:"w-8 h-8 md:w-10 md:h-10 rounded-full border-2 border-indigo-500 object-cover"})}),it&&Rt&&S.jsxs("div",{className:"absolute right-0 top-full mt-2 w-80 md:w-96 bg-gray-800 rounded-lg shadow-xl border border-gray-700 z-10 p-4 md:p-6 max-w-[90vw]",children:[S.jsxs("h3",{className:"text-lg font-bold text-gray-100 mb-4 flex items-center gap-2",children:[S.jsx(mv,{className:"w-5 h-5 text-yellow-500"}),"Le tue statistiche"]}),S.jsxs("div",{className:"mb-4 p-3 bg-gray-700/30 rounded-lg border border-gray-600/50",children:[S.jsx("div",{className:"text-xs text-gray-400 mb-1",children:"Nome visualizzato"}),Gt?S.jsxs("div",{className:"space-y-2",children:[S.jsx("input",{type:"text",value:w,onChange:D=>x(D.target.value),className:"w-full px-2 py-1 bg-gray-600 text-gray-100 rounded border border-gray-500 text-sm",placeholder:"Inserisci il tuo nome",autoFocus:!0}),S.jsxs("div",{className:"flex gap-2",children:[S.jsx("button",{onClick:Ri,className:"flex-1 px-2 py-1 bg-green-600 text-white rounded text-xs hover:bg-green-700 transition",children:"Salva"}),S.jsx("button",{onClick:jo,className:"flex-1 px-2 py-1 bg-gray-600 text-gray-100 rounded text-xs hover:bg-gray-700 transition",children:"Annulla"})]})]}):S.jsxs("div",{className:"flex items-center justify-between",children:[S.jsx("span",{className:"text-sm text-gray-100 font-medium",children:Zt}),S.jsx("button",{onClick:Me,className:"px-2 py-1 bg-indigo-600 text-white rounded text-xs hover:bg-indigo-700 transition",children:"Modifica"})]})]}),S.jsxs("div",{className:"grid grid-cols-2 gap-2 md:gap-3",children:[S.jsxs("div",{className:"bg-gray-700/50 rounded-lg p-2 md:p-3 border border-gray-600/50",children:[S.jsx("div",{className:"text-lg md:text-xl font-bold text-indigo-400",children:Rt.totalSessions||0}),S.jsx("div",{className:"text-xs text-gray-400",children:"Partite totali"})]}),S.jsxs("div",{className:"bg-gray-700/50 rounded-lg p-3 border border-gray-600/50",children:[S.jsx("div",{className:"text-xl font-bold text-purple-400",children:Rt.friendsBrought||0}),S.jsx("div",{className:"text-xs text-gray-400",children:"Amici portati"})]})]}),S.jsx("button",{onClick:Ce,className:"mt-4 w-full px-4 py-2 bg-gray-700 text-gray-100 rounded-lg hover:bg-gray-600 transition border border-gray-600 text-sm",children:"Esci"})]})]})]})}),zo=()=>S.jsx("div",{className:"flex flex-col items-center justify-center",children:S.jsxs("div",{className:"bg-gray-800 rounded-xl shadow-2xl p-8 border border-gray-700 w-full max-w-md text-center",children:[S.jsx("div",{className:"text-lg text-yellow-200 mb-6",children:"Nessuna partita attiva, attendere che venga creata"}),!i&&S.jsxs("div",{className:"mb-6",children:[S.jsx("p",{className:"text-gray-400 text-sm mb-4",children:"Effettua il login per partecipare alle partite"}),S.jsx("button",{onClick:Ji,disabled:l,className:"w-full px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition font-medium flex items-center justify-center gap-2",children:l?S.jsxs(S.Fragment,{children:[S.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white"}),"Accesso..."]}):S.jsxs(S.Fragment,{children:[S.jsx(gv,{className:"w-5 h-5"}),"Accedi con Google"]})})]})]})}),wa=()=>S.jsx("div",{className:"space-y-4 md:space-y-6",children:S.jsxs("div",{className:"bg-gray-800 rounded-xl shadow-2xl p-4 md:p-6 border border-gray-700",children:[S.jsx("h2",{className:"text-xl md:text-2xl font-bold text-gray-100 mb-4",children:"Partite Attive"}),me.length>0?S.jsxs("div",{className:"space-y-3 md:space-y-4",children:[me.map(D=>S.jsx("div",{className:"bg-gray-700 rounded-lg p-3 md:p-4 border border-gray-600 hover:border-indigo-500 transition group",children:S.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-3",children:[S.jsxs("div",{onClick:()=>{At(D),st(he.MATCH_DETAIL)},className:"flex-1 cursor-pointer",children:[S.jsx("h3",{className:"text-base md:text-lg font-semibold text-gray-100 group-hover:text-indigo-300",children:"Partita di Pallavolo"}),S.jsx("p",{className:"text-sm md:text-base text-gray-400 mt-1",children:new Date(D.date).toLocaleString("it-IT",{dateStyle:"short",timeStyle:"short"})})]}),S.jsxs("div",{className:"flex items-center gap-3 md:gap-4 justify-between md:justify-end",children:[S.jsxs("div",{className:"text-center",children:[S.jsx("div",{className:"text-lg md:text-2xl font-bold text-green-400",children:(D.participants?.length||0)+(D.participants?.reduce((W,tt)=>W+(tt.friends?.length||0),0)||0)}),S.jsx("div",{className:"text-xs text-gray-400",children:"Partecipanti"})]}),S.jsxs("div",{className:"text-center",children:[S.jsx("div",{className:"text-lg md:text-2xl font-bold text-amber-400",children:(D.reserves?.length||0)+(D.reserves?.reduce((W,tt)=>W+(tt.friends?.length||0),0)||0)}),S.jsx("div",{className:"text-xs text-gray-400",children:"Riserve"})]}),Ot&&S.jsxs("div",{className:"flex items-center gap-2",children:[S.jsx("button",{onClick:W=>{W.stopPropagation(),Ur(D)},className:"p-1 md:p-2 text-blue-400 hover:text-blue-300 hover:bg-blue-900/20 rounded-lg transition",title:"Chiudi partita (marca come giocata)",children:S.jsx(hS,{className:"w-4 h-4 md:w-5 md:h-5"})}),S.jsx("button",{onClick:W=>{W.stopPropagation(),Vr(D.id)},className:"p-1 md:p-2 text-red-400 hover:text-red-300 hover:bg-red-900/20 rounded-lg transition",title:"Elimina partita",children:S.jsx("svg",{className:"w-4 h-4 md:w-5 md:h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]})]})]})},D.id)),Ot&&S.jsxs("div",{className:"border-t border-gray-600 pt-4 space-y-4",children:[S.jsx("h3",{className:"text-lg font-semibold text-gray-100",children:"Controlli Admin"}),S.jsxs("div",{className:"flex items-center gap-3",children:[S.jsx("label",{htmlFor:"nextSessionDate",className:"text-sm text-gray-300 font-medium",children:"Data prossima partita:"}),S.jsx("input",{id:"nextSessionDate",type:"datetime-local",value:bi,onChange:D=>wi(D.target.value),className:"px-3 py-2 rounded-lg bg-gray-700 text-gray-100 border border-gray-600 focus:ring-2 focus:ring-blue-500"}),S.jsx("button",{onClick:Os,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition font-medium text-sm",children:"Crea"})]})]})]}):S.jsxs("div",{className:"text-center py-8",children:[S.jsx("p",{className:"text-gray-400 mb-4",children:"Nessuna partita attiva al momento"}),Ot&&S.jsx("div",{className:"space-y-4",children:S.jsxs("div",{className:"flex items-center gap-3 justify-center",children:[S.jsx("label",{htmlFor:"nextSessionDate",className:"text-sm text-gray-300 font-medium",children:"Data partita:"}),S.jsx("input",{id:"nextSessionDate",type:"datetime-local",value:bi,onChange:D=>wi(D.target.value),className:"px-3 py-2 rounded-lg bg-gray-700 text-gray-100 border border-gray-600 focus:ring-2 focus:ring-blue-500"}),S.jsx("button",{onClick:Os,className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition font-medium text-sm",children:"Crea"})]})})]})]})}),Wn=()=>i?S.jsxs("div",{className:"space-y-6",children:[ts&&S.jsxs("div",{className:"bg-gray-700 border border-gray-600 rounded-lg p-4",children:[S.jsxs("div",{className:"flex items-center gap-2",children:[S.jsx("svg",{className:"w-5 h-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),S.jsx("span",{className:"text-gray-300 font-medium",children:"Partita Storica - Solo Visualizzazione"})]}),S.jsx("p",{className:"text-sm text-gray-400 mt-1",children:"Questa partita  stata completata e non  pi possibile iscriversi o modificare i partecipanti."})]}),be&&S.jsxs(S.Fragment,{children:[!Sn()&&S.jsxs("div",{className:"space-y-4",children:[S.jsxs("div",{className:"flex gap-3",children:[S.jsxs("button",{onClick:()=>wn(!1),className:"flex-1 px-6 py-3 bg-green-600 text-white rounded-lg hover:bg-green-700 transition font-medium flex items-center justify-center gap-2",children:[S.jsx(TS,{className:"w-5 h-5"}),"Iscriviti come Partecipante"]}),S.jsxs("button",{onClick:()=>wn(!0),className:"flex-1 px-6 py-3 bg-amber-600 text-white rounded-lg hover:bg-amber-700 transition font-medium flex items-center justify-center gap-2",children:[S.jsx(dS,{className:"w-5 h-5"}),"Iscriviti come Riserva"]})]}),S.jsxs("div",{className:"space-y-4",children:[S.jsxs("div",{className:"text-xs text-gray-400 mb-2",children:["* Puoi aggiungere fino a ",S.jsxs("span",{className:"font-bold text-indigo-300",children:[Ot?"illimitati":"3"," amici"]})," per sessione"]}),S.jsxs("div",{className:"flex gap-2 items-center",children:[S.jsx("input",{type:"text",value:et||"",onChange:D=>ot(D.target.value),className:"px-4 py-2 rounded-lg bg-gray-700 text-gray-100 border border-gray-600 focus:ring-2 focus:ring-indigo-500",placeholder:"Nome amico",disabled:!Ot&&C.length>=3}),S.jsx("button",{type:"button",onClick:()=>{et&&(Ot||C.length<3)&&(G([...C,et]),ot(""))},className:"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition font-medium",disabled:!et||!Ot&&C.length>=3,children:"Aggiungi amico"})]}),C.length>0&&S.jsxs("div",{className:"mt-2",children:[S.jsx("div",{className:"text-sm text-gray-300 mb-2",children:"Amici aggiunti:"}),S.jsx("ul",{className:"space-y-2",children:C.map((D,W)=>S.jsxs("li",{className:"flex items-center gap-2",children:[S.jsx("span",{className:"bg-indigo-900 text-indigo-100 px-3 py-1 rounded-full",children:D}),S.jsx("button",{type:"button",onClick:()=>G(C.filter((tt,nt)=>nt!==W)),className:"text-red-400 hover:text-red-600 text-xs",children:"Rimuovi"})]},W))})]})]})]}),Ke()&&S.jsxs("div",{className:"space-y-4",children:[S.jsxs("div",{className:"p-3 bg-green-900/20 border border-green-600 rounded-lg",children:[S.jsx("p",{className:"text-green-300 text-sm font-medium",children:" Sei gi iscritto come partecipante"}),S.jsx("p",{className:"text-green-200 text-xs mt-1",children:"Puoi comunque aggiungere amici alla tua iscrizione"})]}),S.jsxs("div",{className:"space-y-4",children:[S.jsxs("div",{className:"text-xs text-gray-400 mb-2",children:["* Puoi aggiungere fino a ",S.jsxs("span",{className:"font-bold text-indigo-300",children:[Ot?"illimitati":"3"," amici"]})," per sessione"]}),S.jsxs("div",{className:"flex gap-2 items-center",children:[S.jsx("input",{type:"text",value:et||"",onChange:D=>ot(D.target.value),className:"px-4 py-2 rounded-lg bg-gray-700 text-gray-100 border border-gray-600 focus:ring-2 focus:ring-indigo-500",placeholder:"Nome amico",disabled:!Ot&&C.length>=3}),S.jsx("button",{type:"button",onClick:()=>{et&&(Ot||C.length<3)&&(G([...C,et]),ot(""))},className:"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition font-medium",disabled:!et||!Ot&&C.length>=3,children:"Aggiungi amico"})]}),C.length>0&&S.jsxs("div",{className:"mt-2",children:[S.jsx("div",{className:"text-sm text-gray-300 mb-2",children:"Amici da aggiungere:"}),S.jsx("ul",{className:"space-y-2",children:C.map((D,W)=>S.jsxs("li",{className:"flex items-center gap-2",children:[S.jsx("span",{className:"bg-indigo-900 text-indigo-100 px-3 py-1 rounded-full",children:D}),S.jsx("button",{type:"button",onClick:()=>G(C.filter((tt,nt)=>nt!==W)),className:"text-red-400 hover:text-red-600 text-xs",children:"Rimuovi"})]},W))}),S.jsxs("button",{onClick:()=>wn(!1),className:"w-full mt-3 px-6 py-3 bg-green-600 text-white rounded-lg hover:bg-green-700 transition font-medium",children:["Aggiungi ",C.length," amici alla mia iscrizione"]})]})]})]}),bn()&&S.jsxs("div",{className:"p-3 bg-amber-900/20 border border-amber-600 rounded-lg",children:[S.jsx("p",{className:"text-amber-300 text-sm font-medium",children:" Sei iscritto come riserva"}),S.jsx("p",{className:"text-amber-200 text-xs mt-1",children:"Non puoi aggiungere amici finch sei in lista riserve"})]}),Sn()&&S.jsx("button",{onClick:ns,className:"w-full px-6 py-3 bg-red-600 text-white rounded-lg hover:bg-red-700 transition font-medium",children:"Disiscriviti"})]}),S.jsxs("div",{className:"grid md:grid-cols-2 gap-6 mt-8",children:[S.jsxs("div",{className:"bg-gray-800 rounded-xl shadow-2xl p-6 border border-gray-700",children:[S.jsxs("div",{className:"flex items-center justify-between mb-4",children:[S.jsx("h2",{className:"text-xl font-bold text-gray-100",children:"Partecipanti"}),S.jsxs("span",{className:"bg-green-900 text-green-200 px-3 py-1 rounded-full font-semibold text-sm border border-green-700",children:[es()," / ",bs]})]}),S.jsx("div",{className:"space-y-3 max-h-96 overflow-y-auto",children:!J||!J.participants||J.participants.length===0?S.jsx("p",{className:"text-gray-500 text-center py-4",children:"Nessun partecipante"}):J.participants.map((D,W)=>S.jsx("div",{className:"bg-green-900 rounded-lg p-3 border border-green-700",children:S.jsxs("div",{className:"flex items-center gap-3",children:[S.jsx("img",{src:D.photoURL,alt:D.name,className:"w-10 h-10 rounded-full border-2 border-green-500"}),S.jsxs("div",{className:"flex-1",children:[S.jsxs("div",{className:"flex items-center justify-between",children:[S.jsx("span",{className:"font-medium text-gray-100",children:D.name}),S.jsxs("div",{className:"flex items-center gap-2",children:[S.jsx("span",{className:"text-xs text-gray-400",children:D.timestamp}),S.jsx("button",{onClick:()=>Vs(D.uid,D.name),className:"text-blue-400 hover:text-blue-300 text-xs px-2 py-1 rounded bg-blue-900/30 hover:bg-blue-900/50 transition",title:"Visualizza statistiche",children:""}),Ot&&!ts&&S.jsx("button",{onClick:()=>we(D.uid,!1),className:"text-red-400 hover:text-red-600 text-xs px-2 py-1 rounded bg-red-900/30 hover:bg-red-900/50 transition",title:"Rimuovi utente",children:""})]})]}),D.friends?.length>0&&S.jsx("div",{className:"mt-2 space-y-1",children:D.friends.map((tt,nt)=>S.jsxs("div",{className:"text-sm text-gray-300 flex items-center gap-2 justify-between",children:[S.jsxs("div",{className:"flex items-center gap-2",children:[S.jsx("span",{className:"text-green-400",children:"+"}),tt]}),Ot&&!ts&&S.jsx("button",{onClick:()=>Vn(D.uid,nt,!1),className:"text-red-400 hover:text-red-600 text-xs px-1 py-0.5 rounded bg-red-900/30 hover:bg-red-900/50 transition ml-2",title:"Rimuovi amico",children:""})]},nt))})]})]})},D.uid+"_"+W))})]}),!ts&&S.jsxs("div",{className:"bg-gray-800 rounded-xl shadow-2xl p-6 border border-gray-700",children:[S.jsxs("div",{className:"flex items-center justify-between mb-4",children:[S.jsx("h2",{className:"text-xl font-bold text-gray-100",children:"Riserve"}),S.jsx("span",{className:"bg-amber-900 text-amber-200 px-3 py-1 rounded-full font-semibold text-sm border border-amber-700",children:ba()})]}),S.jsx("div",{className:"space-y-3 max-h-96 overflow-y-auto",children:!J||!J.reserves||J.reserves.length===0?S.jsx("p",{className:"text-gray-500 text-center py-4",children:"Nessuna riserva"}):J.reserves.map((D,W)=>S.jsx("div",{className:"bg-amber-900 rounded-lg p-3 border border-amber-700",children:S.jsxs("div",{className:"flex items-center gap-3",children:[S.jsx("img",{src:D.photoURL,alt:D.name,className:"w-10 h-10 rounded-full border-2 border-amber-500"}),S.jsxs("div",{className:"flex-1",children:[S.jsxs("div",{className:"flex items-center justify-between",children:[S.jsxs("span",{className:"font-medium text-gray-100",children:[W+1,". ",D.name]}),S.jsxs("div",{className:"flex items-center gap-2",children:[S.jsx("span",{className:"text-xs text-gray-400",children:D.timestamp}),S.jsx("button",{onClick:()=>Vs(D.uid,D.name),className:"text-blue-400 hover:text-blue-300 text-xs px-2 py-1 rounded bg-blue-900/30 hover:bg-blue-900/50 transition",title:"Visualizza statistiche",children:""}),Ot&&S.jsxs(S.Fragment,{children:[S.jsx("button",{onClick:()=>Jn(D.uid),className:"text-green-400 hover:text-green-300 text-xs px-2 py-1 rounded bg-green-900/30 hover:bg-green-900/50 transition",title:"Promuovi a partecipante",children:""}),S.jsx("button",{onClick:()=>we(D.uid,!0),className:"text-red-400 hover:text-red-600 text-xs px-2 py-1 rounded bg-red-900/30 hover:bg-red-900/50 transition",title:"Rimuovi utente",children:""})]})]})]}),D.friends?.length>0&&S.jsx("div",{className:"mt-2 space-y-1",children:D.friends.map((tt,nt)=>S.jsxs("div",{className:"text-sm text-gray-300 flex items-center gap-2 justify-between",children:[S.jsxs("div",{className:"flex items-center gap-2",children:[S.jsx("span",{className:"text-amber-400",children:"+"}),tt]}),Ot&&S.jsx("button",{onClick:()=>Vn(D.uid,nt,!0),className:"text-red-400 hover:text-red-600 text-xs px-1 py-0.5 rounded bg-red-900/30 hover:bg-red-900/50 transition ml-2",title:"Rimuovi amico",children:""})]},nt))})]})]})},D.uid+"_"+W))})]})]})]}):S.jsxs("div",{className:"space-y-4 text-center py-8",children:[S.jsx("p",{className:"text-gray-300 mb-6",children:"Accedi con Google per iscriverti agli allenamenti"}),S.jsxs("button",{onClick:Ji,disabled:l,className:"inline-flex items-center gap-3 px-8 py-4 bg-white text-gray-800 rounded-lg hover:bg-gray-100 transition font-medium shadow-lg disabled:opacity-50",children:[S.jsxs("svg",{className:"w-6 h-6",viewBox:"0 0 24 24",children:[S.jsx("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),S.jsx("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),S.jsx("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),S.jsx("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),l?"Accesso in corso...":"Accedi con Google"]}),S.jsx("p",{className:"text-xs text-gray-500 mt-4",children:"* Login con Firebase/Google OAuth"})]}),is=async D=>{if(!(!Ot||!confirm("Sei sicuro di voler riaprire questa partita? Verr aggiunta alle partite attive.")))try{await cm(Ss(kt,"activeMatches"),{participants:D.participants||[],reserves:D.reserves||[],date:D.date.toDate?D.date.toDate().toISOString():new Date().toISOString(),createdAt:Qn(),lastUpdated:Qn(),createdBy:s.uid,status:"active",reopenedFrom:D.id}),await Wc(Re(kt,"sessions",D.id)),alert("Partita riaperta con successo!"),await Us()}catch(tt){console.error("Errore nella riapertura della partita:",tt),alert("Errore nella riapertura della partita")}},Bo=()=>S.jsx("div",{className:"space-y-4 md:space-y-6",children:S.jsxs("div",{className:"bg-gray-800 rounded-xl shadow-2xl p-4 md:p-6 border border-gray-700",children:[S.jsx("h2",{className:"text-xl md:text-2xl font-bold text-gray-100 mb-4",children:"Storico Partite"}),It.length===0?S.jsx("div",{className:"text-center py-8",children:S.jsx("p",{className:"text-gray-400",children:"Nessuna partita nel database"})}):S.jsx("div",{className:"space-y-3 md:space-y-4",children:It.map((D,W)=>S.jsx("div",{className:"bg-gray-700 rounded-lg p-3 md:p-4 border border-gray-600 hover:border-indigo-500 transition group",children:S.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-3",children:[S.jsxs("div",{onClick:()=>{At({...D,id:D.id,date:D.date.toDate?D.date.toDate().toISOString():new Date().toISOString()}),st(he.MATCH_DETAIL)},className:"flex-1 cursor-pointer",children:[S.jsx("h3",{className:"text-base md:text-lg font-semibold text-gray-100 group-hover:text-indigo-300",children:D.date?.toDate?D.date.toDate().toLocaleDateString("it-IT",{weekday:"long",year:"numeric",month:"long",day:"numeric"}):"Partita"}),S.jsx("p",{className:"text-sm md:text-base text-gray-400 mt-1",children:D.date?.toDate?D.date.toDate().toLocaleString("it-IT",{dateStyle:"short",timeStyle:"short"}):"Data non disponibile"}),D.ignoredFromStats&&S.jsx("span",{className:"inline-block mt-1 text-xs bg-yellow-900/50 text-yellow-300 px-2 py-1 rounded",children:"Ignorata dalle statistiche"})]}),S.jsxs("div",{className:"flex items-center gap-3 md:gap-4 justify-between md:justify-end",children:[S.jsxs("div",{className:"text-center",children:[S.jsx("div",{className:"text-lg md:text-2xl font-bold text-green-400",children:(D.participants?.length||0)+(D.participants?.reduce((tt,nt)=>tt+(nt.friends?.length||0),0)||0)}),S.jsx("div",{className:"text-xs text-gray-400",children:"Partecipanti"})]}),S.jsxs("div",{className:"text-center",children:[S.jsx("div",{className:"text-lg md:text-2xl font-bold text-amber-400",children:(D.reserves?.length||0)+(D.reserves?.reduce((tt,nt)=>tt+(nt.friends?.length||0),0)||0)}),S.jsx("div",{className:"text-xs text-gray-400",children:"Riserve"})]}),Ot&&S.jsxs("div",{className:"flex items-center gap-2",children:[S.jsx("button",{onClick:tt=>{tt.stopPropagation(),is(D)},className:"p-1 md:p-2 text-blue-400 hover:text-blue-300 hover:bg-blue-900/20 rounded-lg transition",title:"Riapri partita",children:S.jsx("svg",{className:"w-4 h-4 md:w-5 md:h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})})}),S.jsx("button",{onClick:tt=>{tt.stopPropagation(),Sa(D.id)},className:`p-1 md:p-2 text-yellow-400 hover:text-yellow-300 hover:bg-yellow-900/20 rounded-lg transition ${D.ignoredFromStats?"bg-yellow-900/50":""}`,title:D.ignoredFromStats?"Riattiva nelle statistiche":"Ignora dalle statistiche",children:D.ignoredFromStats?"":""}),S.jsx("button",{onClick:tt=>{tt.stopPropagation(),Wi(D.id)},className:"p-1 md:p-2 text-red-400 hover:text-red-300 hover:bg-red-900/20 rounded-lg transition",title:"Elimina partita",children:S.jsx("svg",{className:"w-4 h-4 md:w-5 md:h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]})]})]})},D.id))})]})}),ss=async(D,W)=>{if(!(!Ot||!confirm(`Sei sicuro di voler eliminare completamente l'utente "${W}"? Questa azione non pu essere annullata.`)))try{await Wc(Re(kt,"users",D)),await Lr(),alert("Utente eliminato con successo")}catch(nt){console.error("Errore nell'eliminazione utente:",nt),alert("Errore nell'eliminazione utente")}},Pr=()=>S.jsx("div",{className:"space-y-6",children:Q.length===0?S.jsx("div",{className:"bg-gray-800 rounded-xl shadow-2xl p-8 border border-gray-700 text-center",children:S.jsx("p",{className:"text-gray-400",children:"Nessun utente registrato"})}):S.jsxs("div",{className:"bg-gray-800 rounded-xl shadow-2xl p-4 md:p-6 border border-gray-700",children:[S.jsx("h2",{className:"text-xl md:text-2xl font-bold text-gray-100 mb-4",children:"Lista Utenti"}),S.jsx("div",{className:"space-y-3 md:space-y-4",children:Q.map(D=>S.jsx("div",{className:"bg-gray-700 rounded-lg p-3 md:p-4 border border-gray-600",children:S.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-3",children:[S.jsxs("div",{className:"flex items-center gap-3 md:gap-4 min-w-0 flex-1",children:[S.jsx("img",{src:D.photoURL||"",alt:D.displayName||"",className:"w-10 h-10 md:w-12 md:h-12 rounded-full border-2 border-indigo-500 flex-shrink-0 object-cover"}),S.jsxs("div",{className:"flex flex-col md:flex-row md:items-center gap-2 md:gap-6 min-w-0 flex-1",children:[S.jsx("div",{className:"min-w-0",children:S.jsx("div",{className:"font-medium text-gray-100 truncate",children:D.customDisplayName||D.displayName})}),S.jsxs("div",{className:"flex gap-2 md:gap-3 text-xs",children:[S.jsxs("div",{className:"text-center",children:[S.jsx("div",{className:"font-bold text-indigo-400",children:D.stats?.totalSessions||0}),S.jsx("div",{className:"text-gray-400",children:"Partite"})]}),S.jsxs("div",{className:"text-center",children:[S.jsx("div",{className:"font-bold text-green-400",children:D.stats?.asParticipant||0}),S.jsx("div",{className:"text-gray-400",children:"Part"})]}),S.jsxs("div",{className:"text-center",children:[S.jsx("div",{className:"font-bold text-purple-400",children:D.stats?.friendsBrought||0}),S.jsx("div",{className:"text-gray-400",children:"Amici"})]})]})]})]}),S.jsxs("div",{className:"flex items-center gap-2 md:gap-3 flex-shrink-0",children:[Ot&&S.jsx("span",{className:`px-2 md:px-3 py-1 rounded-full text-xs font-medium ${D.email===dn||D.role==="admin"?"bg-blue-900 text-blue-200":"bg-gray-600 text-gray-200"}`,children:D.email===dn||D.role==="admin"?"Admin":"Utente"}),Ot&&D.email!==dn&&D.id!==s?.uid&&S.jsxs("div",{className:"flex gap-1 md:gap-2",children:[D.role!=="admin"&&S.jsx("button",{onClick:()=>kr(D.id,"admin"),className:"px-2 md:px-3 py-1 bg-blue-600 text-white rounded text-xs hover:bg-blue-700 transition",children:"Rendi Admin"}),D.role==="admin"&&Zi&&S.jsx("button",{onClick:()=>kr(D.id,"user"),className:"px-2 md:px-3 py-1 bg-gray-600 text-white rounded text-xs hover:bg-gray-700 transition",children:"Rendi Utente"})]}),S.jsx("button",{onClick:()=>Vs(D.id,D.displayName),className:"px-2 md:px-3 py-1 bg-indigo-600 text-white rounded text-xs hover:bg-indigo-700 transition",children:" Stats"}),Ot&&D.email!==dn&&D.id!==s?.uid&&S.jsx("button",{onClick:()=>ss(D.id,D.customDisplayName||D.displayName),className:"px-2 md:px-3 py-1 bg-red-600 text-white rounded text-xs hover:bg-red-700 transition",title:"Elimina utente",children:""})]})]})},D.id))})]})}),jr=()=>i?S.jsx("div",{className:"fixed bottom-0 left-0 right-0 bg-gray-800 border-t border-gray-700 p-2 md:p-4 z-40",children:S.jsx("div",{className:"max-w-6xl mx-auto flex justify-center",children:S.jsxs("div",{className:"flex items-center gap-3 md:gap-6",children:[S.jsxs("button",{onClick:()=>st(me.length>0?he.MATCH_LIST:he.NO_MATCHES),className:`flex flex-col items-center gap-1 p-1 md:p-2 rounded-lg transition ${F===he.NO_MATCHES||F===he.MATCH_LIST?"bg-indigo-600 text-white":"text-gray-400 hover:text-gray-200"}`,title:"Partite",children:[S.jsx(yS,{className:"w-5 h-5 md:w-6 md:h-6"}),S.jsx("span",{className:"text-xs",children:"Partite"})]}),J&&S.jsxs("button",{onClick:()=>st(he.MATCH_DETAIL),className:`flex flex-col items-center gap-1 p-1 md:p-2 rounded-lg transition ${F===he.MATCH_DETAIL?"bg-indigo-600 text-white":"text-gray-400 hover:text-gray-200"}`,title:"Partita Corrente",children:[S.jsx("svg",{className:"w-5 h-5 md:w-6 md:h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 14l-7 7m0 0l-7-7m7 7V3"})}),S.jsx("span",{className:"text-xs",children:"Partita"})]}),S.jsxs("button",{onClick:()=>{Us(),st(he.MATCH_HISTORY)},className:`flex flex-col items-center gap-1 p-1 md:p-2 rounded-lg transition ${F===he.MATCH_HISTORY?"bg-indigo-600 text-white":"text-gray-400 hover:text-gray-200"}`,title:"Storico",children:[S.jsx(gS,{className:"w-5 h-5 md:w-6 md:h-6"}),S.jsx("span",{className:"text-xs",children:"Storico"})]}),S.jsxs("button",{onClick:()=>{Lr(),st(he.USERS_LIST)},className:`flex flex-col items-center gap-1 p-1 md:p-2 rounded-lg transition ${F===he.USERS_LIST?"bg-indigo-600 text-white":"text-gray-400 hover:text-gray-200"}`,title:"Utenti",children:[S.jsx(vS,{className:"w-5 h-5 md:w-6 md:h-6"}),S.jsx("span",{className:"text-xs",children:"Utenti"})]})]})})}):null;return S.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 to-gray-800 p-3 md:p-6 pb-24",children:S.jsxs("div",{className:"max-w-6xl mx-auto",children:[Un(),i?S.jsxs("div",{className:"mb-20",children:[" ",F===he.NO_MATCHES&&zo(),F===he.MATCH_LIST&&wa(),F===he.MATCH_DETAIL&&Wn(),F===he.MATCH_HISTORY&&Bo(),F===he.USERS_LIST&&Pr()]}):S.jsx("div",{className:"flex flex-col items-center justify-center",children:S.jsxs("div",{className:"bg-gray-800 rounded-xl shadow-2xl p-8 border border-gray-700 w-full max-w-md text-center",children:[S.jsx("div",{className:"text-lg text-yellow-200 mb-6",children:"Benvenuto! Effettua il login per accedere alle partite di pallavolo"}),S.jsx("button",{onClick:Ji,disabled:l,className:"w-full px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition font-medium flex items-center justify-center gap-2",children:l?S.jsxs(S.Fragment,{children:[S.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white"}),"Accesso..."]}):S.jsxs(S.Fragment,{children:[S.jsx(gv,{className:"w-5 h-5"}),"Accedi con Google"]})})]})}),jr(),U&&L&&S.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:S.jsxs("div",{className:"bg-gray-800 rounded-xl shadow-2xl border border-gray-700 w-full max-w-md p-6",children:[S.jsxs("div",{className:"flex items-center justify-between mb-4",children:[S.jsxs("h3",{className:"text-lg font-bold text-gray-100 flex items-center gap-2",children:[S.jsx(mv,{className:"w-5 h-5 text-yellow-500"}),"Statistiche di ",L.displayName]}),S.jsx("button",{onClick:()=>M(!1),className:"text-gray-400 hover:text-gray-200 transition",children:""})]}),S.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[S.jsxs("div",{className:"bg-gray-700/50 rounded-lg p-3 border border-gray-600/50",children:[S.jsx("div",{className:"text-xl font-bold text-indigo-400",children:L.totalSessions||0}),S.jsx("div",{className:"text-xs text-gray-400",children:"Partite totali"})]}),S.jsxs("div",{className:"bg-gray-700/50 rounded-lg p-3 border border-gray-600/50",children:[S.jsx("div",{className:"text-xl font-bold text-purple-400",children:L.friendsBrought||0}),S.jsx("div",{className:"text-xs text-gray-400",children:"Amici portati"})]})]}),Ot&&S.jsx("button",{onClick:()=>nn(L.uid),className:"mt-4 w-full px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition border border-red-500 text-sm",children:" Reset statistiche utente"}),S.jsx("button",{onClick:()=>M(!1),className:"mt-2 w-full px-4 py-2 bg-gray-700 text-gray-100 rounded-lg hover:bg-gray-600 transition border border-gray-600 text-sm",children:"Chiudi"})]})})]})})}function TC(){return S.jsx("div",{className:"App",children:S.jsx(EC,{})})}iS.createRoot(document.getElementById("root")).render(S.jsx(Yt.StrictMode,{children:S.jsx(TC,{})}));
