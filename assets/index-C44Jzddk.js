(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))r(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&r(d)}).observe(document,{childList:!0,subtree:!0});function i(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function r(l){if(l.ep)return;l.ep=!0;const c=i(l);fetch(l.href,c)}})();var Xd={exports:{}},ql={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sv;function XA(){if(sv)return ql;sv=1;var s=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function i(r,l,c){var d=null;if(c!==void 0&&(d=""+c),l.key!==void 0&&(d=""+l.key),"key"in l){c={};for(var p in l)p!=="key"&&(c[p]=l[p])}else c=l;return l=c.ref,{$$typeof:s,type:r,key:d,ref:l!==void 0?l:null,props:c}}return ql.Fragment=t,ql.jsx=i,ql.jsxs=i,ql}var rv;function $A(){return rv||(rv=1,Xd.exports=XA()),Xd.exports}var S=$A(),$d={exports:{}},Ct={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var av;function ZA(){if(av)return Ct;av=1;var s=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),_=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),b=Symbol.for("react.activity"),N=Symbol.iterator;function Y(V){return V===null||typeof V!="object"?null:(V=N&&V[N]||V["@@iterator"],typeof V=="function"?V:null)}var et={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},ut=Object.assign,nt={};function yt(V,F,it){this.props=V,this.context=F,this.refs=nt,this.updater=it||et}yt.prototype.isReactComponent={},yt.prototype.setState=function(V,F){if(typeof V!="object"&&typeof V!="function"&&V!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,V,F,"setState")},yt.prototype.forceUpdate=function(V){this.updater.enqueueForceUpdate(this,V,"forceUpdate")};function wt(){}wt.prototype=yt.prototype;function Tt(V,F,it){this.props=V,this.context=F,this.refs=nt,this.updater=it||et}var $t=Tt.prototype=new wt;$t.constructor=Tt,ut($t,yt.prototype),$t.isPureReactComponent=!0;var ne=Array.isArray;function Ft(){}var C={H:null,A:null,T:null,S:null},w=Object.prototype.hasOwnProperty;function I(V,F,it){var W=it.ref;return{$$typeof:s,type:V,key:F,ref:W!==void 0?W:null,props:it}}function U(V,F){return I(V.type,F,V.props)}function M(V){return typeof V=="object"&&V!==null&&V.$$typeof===s}function L(V){var F={"=":"=0",":":"=2"};return"$"+V.replace(/[=:]/g,function(it){return F[it]})}var R=/\/+/g;function de(V,F){return typeof V=="object"&&V!==null&&V.key!=null?L(""+V.key):F.toString(36)}function be(V){switch(V.status){case"fulfilled":return V.value;case"rejected":throw V.reason;default:switch(typeof V.status=="string"?V.then(Ft,Ft):(V.status="pending",V.then(function(F){V.status==="pending"&&(V.status="fulfilled",V.value=F)},function(F){V.status==="pending"&&(V.status="rejected",V.reason=F)})),V.status){case"fulfilled":return V.value;case"rejected":throw V.reason}}throw V}function G(V,F,it,W,At){var xt=typeof V;(xt==="undefined"||xt==="boolean")&&(V=null);var Lt=!1;if(V===null)Lt=!0;else switch(xt){case"bigint":case"string":case"number":Lt=!0;break;case"object":switch(V.$$typeof){case s:case t:Lt=!0;break;case A:return Lt=V._init,G(Lt(V._payload),F,it,W,At)}}if(Lt)return At=At(V),Lt=W===""?"."+de(V,0):W,ne(At)?(it="",Lt!=null&&(it=Lt.replace(R,"$&/")+"/"),G(At,F,it,"",function(Qn){return Qn})):At!=null&&(M(At)&&(At=U(At,it+(At.key==null||V&&V.key===At.key?"":(""+At.key).replace(R,"$&/")+"/")+Lt)),F.push(At)),1;Lt=0;var me=W===""?".":W+":";if(ne(V))for(var ge=0;ge<V.length;ge++)W=V[ge],xt=me+de(W,ge),Lt+=G(W,F,it,xt,At);else if(ge=Y(V),typeof ge=="function")for(V=ge.call(V),ge=0;!(W=V.next()).done;)W=W.value,xt=me+de(W,ge++),Lt+=G(W,F,it,xt,At);else if(xt==="object"){if(typeof V.then=="function")return G(be(V),F,it,W,At);throw F=String(V),Error("Objects are not valid as a React child (found: "+(F==="[object Object]"?"object with keys {"+Object.keys(V).join(", ")+"}":F)+"). If you meant to render a collection of children, use an array instead.")}return Lt}function at(V,F,it){if(V==null)return V;var W=[],At=0;return G(V,W,"","",function(xt){return F.call(it,xt,At++)}),W}function pt(V){if(V._status===-1){var F=V._result;F=F(),F.then(function(it){(V._status===0||V._status===-1)&&(V._status=1,V._result=it)},function(it){(V._status===0||V._status===-1)&&(V._status=2,V._result=it)}),V._status===-1&&(V._status=0,V._result=F)}if(V._status===1)return V._result.default;throw V._result}var Yt=typeof reportError=="function"?reportError:function(V){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var F=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof V=="object"&&V!==null&&typeof V.message=="string"?String(V.message):String(V),error:V});if(!window.dispatchEvent(F))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",V);return}console.error(V)},Wt={map:at,forEach:function(V,F,it){at(V,function(){F.apply(this,arguments)},it)},count:function(V){var F=0;return at(V,function(){F++}),F},toArray:function(V){return at(V,function(F){return F})||[]},only:function(V){if(!M(V))throw Error("React.Children.only expected to receive a single React element child.");return V}};return Ct.Activity=b,Ct.Children=Wt,Ct.Component=yt,Ct.Fragment=i,Ct.Profiler=l,Ct.PureComponent=Tt,Ct.StrictMode=r,Ct.Suspense=_,Ct.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=C,Ct.__COMPILER_RUNTIME={__proto__:null,c:function(V){return C.H.useMemoCache(V)}},Ct.cache=function(V){return function(){return V.apply(null,arguments)}},Ct.cacheSignal=function(){return null},Ct.cloneElement=function(V,F,it){if(V==null)throw Error("The argument must be a React element, but you passed "+V+".");var W=ut({},V.props),At=V.key;if(F!=null)for(xt in F.key!==void 0&&(At=""+F.key),F)!w.call(F,xt)||xt==="key"||xt==="__self"||xt==="__source"||xt==="ref"&&F.ref===void 0||(W[xt]=F[xt]);var xt=arguments.length-2;if(xt===1)W.children=it;else if(1<xt){for(var Lt=Array(xt),me=0;me<xt;me++)Lt[me]=arguments[me+2];W.children=Lt}return I(V.type,At,W)},Ct.createContext=function(V){return V={$$typeof:d,_currentValue:V,_currentValue2:V,_threadCount:0,Provider:null,Consumer:null},V.Provider=V,V.Consumer={$$typeof:c,_context:V},V},Ct.createElement=function(V,F,it){var W,At={},xt=null;if(F!=null)for(W in F.key!==void 0&&(xt=""+F.key),F)w.call(F,W)&&W!=="key"&&W!=="__self"&&W!=="__source"&&(At[W]=F[W]);var Lt=arguments.length-2;if(Lt===1)At.children=it;else if(1<Lt){for(var me=Array(Lt),ge=0;ge<Lt;ge++)me[ge]=arguments[ge+2];At.children=me}if(V&&V.defaultProps)for(W in Lt=V.defaultProps,Lt)At[W]===void 0&&(At[W]=Lt[W]);return I(V,xt,At)},Ct.createRef=function(){return{current:null}},Ct.forwardRef=function(V){return{$$typeof:p,render:V}},Ct.isValidElement=M,Ct.lazy=function(V){return{$$typeof:A,_payload:{_status:-1,_result:V},_init:pt}},Ct.memo=function(V,F){return{$$typeof:y,type:V,compare:F===void 0?null:F}},Ct.startTransition=function(V){var F=C.T,it={};C.T=it;try{var W=V(),At=C.S;At!==null&&At(it,W),typeof W=="object"&&W!==null&&typeof W.then=="function"&&W.then(Ft,Yt)}catch(xt){Yt(xt)}finally{F!==null&&it.types!==null&&(F.types=it.types),C.T=F}},Ct.unstable_useCacheRefresh=function(){return C.H.useCacheRefresh()},Ct.use=function(V){return C.H.use(V)},Ct.useActionState=function(V,F,it){return C.H.useActionState(V,F,it)},Ct.useCallback=function(V,F){return C.H.useCallback(V,F)},Ct.useContext=function(V){return C.H.useContext(V)},Ct.useDebugValue=function(){},Ct.useDeferredValue=function(V,F){return C.H.useDeferredValue(V,F)},Ct.useEffect=function(V,F){return C.H.useEffect(V,F)},Ct.useEffectEvent=function(V){return C.H.useEffectEvent(V)},Ct.useId=function(){return C.H.useId()},Ct.useImperativeHandle=function(V,F,it){return C.H.useImperativeHandle(V,F,it)},Ct.useInsertionEffect=function(V,F){return C.H.useInsertionEffect(V,F)},Ct.useLayoutEffect=function(V,F){return C.H.useLayoutEffect(V,F)},Ct.useMemo=function(V,F){return C.H.useMemo(V,F)},Ct.useOptimistic=function(V,F){return C.H.useOptimistic(V,F)},Ct.useReducer=function(V,F,it){return C.H.useReducer(V,F,it)},Ct.useRef=function(V){return C.H.useRef(V)},Ct.useState=function(V){return C.H.useState(V)},Ct.useSyncExternalStore=function(V,F,it){return C.H.useSyncExternalStore(V,F,it)},Ct.useTransition=function(){return C.H.useTransition()},Ct.version="19.2.0",Ct}var ov;function Pm(){return ov||(ov=1,$d.exports=ZA()),$d.exports}var Qt=Pm(),Zd={exports:{}},Hl={},Jd={exports:{}},Wd={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lv;function JA(){return lv||(lv=1,(function(s){function t(G,at){var pt=G.length;G.push(at);t:for(;0<pt;){var Yt=pt-1>>>1,Wt=G[Yt];if(0<l(Wt,at))G[Yt]=at,G[pt]=Wt,pt=Yt;else break t}}function i(G){return G.length===0?null:G[0]}function r(G){if(G.length===0)return null;var at=G[0],pt=G.pop();if(pt!==at){G[0]=pt;t:for(var Yt=0,Wt=G.length,V=Wt>>>1;Yt<V;){var F=2*(Yt+1)-1,it=G[F],W=F+1,At=G[W];if(0>l(it,pt))W<Wt&&0>l(At,it)?(G[Yt]=At,G[W]=pt,Yt=W):(G[Yt]=it,G[F]=pt,Yt=F);else if(W<Wt&&0>l(At,pt))G[Yt]=At,G[W]=pt,Yt=W;else break t}}return at}function l(G,at){var pt=G.sortIndex-at.sortIndex;return pt!==0?pt:G.id-at.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;s.unstable_now=function(){return c.now()}}else{var d=Date,p=d.now();s.unstable_now=function(){return d.now()-p}}var _=[],y=[],A=1,b=null,N=3,Y=!1,et=!1,ut=!1,nt=!1,yt=typeof setTimeout=="function"?setTimeout:null,wt=typeof clearTimeout=="function"?clearTimeout:null,Tt=typeof setImmediate<"u"?setImmediate:null;function $t(G){for(var at=i(y);at!==null;){if(at.callback===null)r(y);else if(at.startTime<=G)r(y),at.sortIndex=at.expirationTime,t(_,at);else break;at=i(y)}}function ne(G){if(ut=!1,$t(G),!et)if(i(_)!==null)et=!0,Ft||(Ft=!0,L());else{var at=i(y);at!==null&&be(ne,at.startTime-G)}}var Ft=!1,C=-1,w=5,I=-1;function U(){return nt?!0:!(s.unstable_now()-I<w)}function M(){if(nt=!1,Ft){var G=s.unstable_now();I=G;var at=!0;try{t:{et=!1,ut&&(ut=!1,wt(C),C=-1),Y=!0;var pt=N;try{e:{for($t(G),b=i(_);b!==null&&!(b.expirationTime>G&&U());){var Yt=b.callback;if(typeof Yt=="function"){b.callback=null,N=b.priorityLevel;var Wt=Yt(b.expirationTime<=G);if(G=s.unstable_now(),typeof Wt=="function"){b.callback=Wt,$t(G),at=!0;break e}b===i(_)&&r(_),$t(G)}else r(_);b=i(_)}if(b!==null)at=!0;else{var V=i(y);V!==null&&be(ne,V.startTime-G),at=!1}}break t}finally{b=null,N=pt,Y=!1}at=void 0}}finally{at?L():Ft=!1}}}var L;if(typeof Tt=="function")L=function(){Tt(M)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,de=R.port2;R.port1.onmessage=M,L=function(){de.postMessage(null)}}else L=function(){yt(M,0)};function be(G,at){C=yt(function(){G(s.unstable_now())},at)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(G){G.callback=null},s.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):w=0<G?Math.floor(1e3/G):5},s.unstable_getCurrentPriorityLevel=function(){return N},s.unstable_next=function(G){switch(N){case 1:case 2:case 3:var at=3;break;default:at=N}var pt=N;N=at;try{return G()}finally{N=pt}},s.unstable_requestPaint=function(){nt=!0},s.unstable_runWithPriority=function(G,at){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var pt=N;N=G;try{return at()}finally{N=pt}},s.unstable_scheduleCallback=function(G,at,pt){var Yt=s.unstable_now();switch(typeof pt=="object"&&pt!==null?(pt=pt.delay,pt=typeof pt=="number"&&0<pt?Yt+pt:Yt):pt=Yt,G){case 1:var Wt=-1;break;case 2:Wt=250;break;case 5:Wt=1073741823;break;case 4:Wt=1e4;break;default:Wt=5e3}return Wt=pt+Wt,G={id:A++,callback:at,priorityLevel:G,startTime:pt,expirationTime:Wt,sortIndex:-1},pt>Yt?(G.sortIndex=pt,t(y,G),i(_)===null&&G===i(y)&&(ut?(wt(C),C=-1):ut=!0,be(ne,pt-Yt))):(G.sortIndex=Wt,t(_,G),et||Y||(et=!0,Ft||(Ft=!0,L()))),G},s.unstable_shouldYield=U,s.unstable_wrapCallback=function(G){var at=N;return function(){var pt=N;N=at;try{return G.apply(this,arguments)}finally{N=pt}}}})(Wd)),Wd}var uv;function WA(){return uv||(uv=1,Jd.exports=JA()),Jd.exports}var tm={exports:{}},dn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cv;function tS(){if(cv)return dn;cv=1;var s=Pm();function t(_){var y="https://react.dev/errors/"+_;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var A=2;A<arguments.length;A++)y+="&args[]="+encodeURIComponent(arguments[A])}return"Minified React error #"+_+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var r={d:{f:i,r:function(){throw Error(t(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},l=Symbol.for("react.portal");function c(_,y,A){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:b==null?null:""+b,children:_,containerInfo:y,implementation:A}}var d=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(_,y){if(_==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return dn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,dn.createPortal=function(_,y){var A=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(t(299));return c(_,y,null,A)},dn.flushSync=function(_){var y=d.T,A=r.p;try{if(d.T=null,r.p=2,_)return _()}finally{d.T=y,r.p=A,r.d.f()}},dn.preconnect=function(_,y){typeof _=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,r.d.C(_,y))},dn.prefetchDNS=function(_){typeof _=="string"&&r.d.D(_)},dn.preinit=function(_,y){if(typeof _=="string"&&y&&typeof y.as=="string"){var A=y.as,b=p(A,y.crossOrigin),N=typeof y.integrity=="string"?y.integrity:void 0,Y=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;A==="style"?r.d.S(_,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:b,integrity:N,fetchPriority:Y}):A==="script"&&r.d.X(_,{crossOrigin:b,integrity:N,fetchPriority:Y,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},dn.preinitModule=function(_,y){if(typeof _=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var A=p(y.as,y.crossOrigin);r.d.M(_,{crossOrigin:A,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&r.d.M(_)},dn.preload=function(_,y){if(typeof _=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var A=y.as,b=p(A,y.crossOrigin);r.d.L(_,A,{crossOrigin:b,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},dn.preloadModule=function(_,y){if(typeof _=="string")if(y){var A=p(y.as,y.crossOrigin);r.d.m(_,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:A,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else r.d.m(_)},dn.requestFormReset=function(_){r.d.r(_)},dn.unstable_batchedUpdates=function(_,y){return _(y)},dn.useFormState=function(_,y,A){return d.H.useFormState(_,y,A)},dn.useFormStatus=function(){return d.H.useHostTransitionStatus()},dn.version="19.2.0",dn}var hv;function eS(){if(hv)return tm.exports;hv=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(t){console.error(t)}}return s(),tm.exports=tS(),tm.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fv;function nS(){if(fv)return Hl;fv=1;var s=WA(),t=Pm(),i=eS();function r(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)n+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function c(e){var n=e,a=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(a=n.return),e=n.return;while(e)}return n.tag===3?a:null}function d(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function p(e){if(e.tag===31){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function _(e){if(c(e)!==e)throw Error(r(188))}function y(e){var n=e.alternate;if(!n){if(n=c(e),n===null)throw Error(r(188));return n!==e?null:e}for(var a=e,o=n;;){var h=a.return;if(h===null)break;var f=h.alternate;if(f===null){if(o=h.return,o!==null){a=o;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===a)return _(h),e;if(f===o)return _(h),n;f=f.sibling}throw Error(r(188))}if(a.return!==o.return)a=h,o=f;else{for(var g=!1,E=h.child;E;){if(E===a){g=!0,a=h,o=f;break}if(E===o){g=!0,o=h,a=f;break}E=E.sibling}if(!g){for(E=f.child;E;){if(E===a){g=!0,a=f,o=h;break}if(E===o){g=!0,o=f,a=h;break}E=E.sibling}if(!g)throw Error(r(189))}}if(a.alternate!==o)throw Error(r(190))}if(a.tag!==3)throw Error(r(188));return a.stateNode.current===a?e:n}function A(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=A(e),n!==null)return n;e=e.sibling}return null}var b=Object.assign,N=Symbol.for("react.element"),Y=Symbol.for("react.transitional.element"),et=Symbol.for("react.portal"),ut=Symbol.for("react.fragment"),nt=Symbol.for("react.strict_mode"),yt=Symbol.for("react.profiler"),wt=Symbol.for("react.consumer"),Tt=Symbol.for("react.context"),$t=Symbol.for("react.forward_ref"),ne=Symbol.for("react.suspense"),Ft=Symbol.for("react.suspense_list"),C=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),U=Symbol.for("react.memo_cache_sentinel"),M=Symbol.iterator;function L(e){return e===null||typeof e!="object"?null:(e=M&&e[M]||e["@@iterator"],typeof e=="function"?e:null)}var R=Symbol.for("react.client.reference");function de(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===R?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case ut:return"Fragment";case yt:return"Profiler";case nt:return"StrictMode";case ne:return"Suspense";case Ft:return"SuspenseList";case I:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case et:return"Portal";case Tt:return e.displayName||"Context";case wt:return(e._context.displayName||"Context")+".Consumer";case $t:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case C:return n=e.displayName||null,n!==null?n:de(e.type)||"Memo";case w:n=e._payload,e=e._init;try{return de(e(n))}catch{}}return null}var be=Array.isArray,G=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,at=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,pt={pending:!1,data:null,method:null,action:null},Yt=[],Wt=-1;function V(e){return{current:e}}function F(e){0>Wt||(e.current=Yt[Wt],Yt[Wt]=null,Wt--)}function it(e,n){Wt++,Yt[Wt]=e.current,e.current=n}var W=V(null),At=V(null),xt=V(null),Lt=V(null);function me(e,n){switch(it(xt,n),it(At,e),it(W,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?I_(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=I_(n),e=x_(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}F(W),it(W,e)}function ge(){F(W),F(At),F(xt)}function Qn(e){e.memoizedState!==null&&it(Lt,e);var n=W.current,a=x_(n,e.type);n!==a&&(it(At,e),it(W,a))}function fn(e){At.current===e&&(F(W),F(At)),Lt.current===e&&(F(Lt),Pl._currentValue=pt)}var bi,ie;function Yn(e){if(bi===void 0)try{throw Error()}catch(a){var n=a.stack.trim().match(/\n( *(at )?)/);bi=n&&n[1]||"",ie=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+bi+e+ie}var ci=!1;function hi(e,n){if(!e||ci)return"";ci=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(n){var $=function(){throw Error()};if(Object.defineProperty($.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct($,[])}catch(H){var B=H}Reflect.construct(e,[],$)}else{try{$.call()}catch(H){B=H}e.call($.prototype)}}else{try{throw Error()}catch(H){B=H}($=e())&&typeof $.catch=="function"&&$.catch(function(){})}}catch(H){if(H&&B&&typeof H.stack=="string")return[H.stack,B.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=o.DetermineComponentFrameRoot(),g=f[0],E=f[1];if(g&&E){var x=g.split(`
`),z=E.split(`
`);for(h=o=0;o<x.length&&!x[o].includes("DetermineComponentFrameRoot");)o++;for(;h<z.length&&!z[h].includes("DetermineComponentFrameRoot");)h++;if(o===x.length||h===z.length)for(o=x.length-1,h=z.length-1;1<=o&&0<=h&&x[o]!==z[h];)h--;for(;1<=o&&0<=h;o--,h--)if(x[o]!==z[h]){if(o!==1||h!==1)do if(o--,h--,0>h||x[o]!==z[h]){var Q=`
`+x[o].replace(" at new "," at ");return e.displayName&&Q.includes("<anonymous>")&&(Q=Q.replace("<anonymous>",e.displayName)),Q}while(1<=o&&0<=h);break}}}finally{ci=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?Yn(a):""}function ts(e,n){switch(e.tag){case 26:case 27:case 5:return Yn(e.type);case 16:return Yn("Lazy");case 13:return e.child!==n&&n!==null?Yn("Suspense Fallback"):Yn("Suspense");case 19:return Yn("SuspenseList");case 0:case 15:return hi(e.type,!1);case 11:return hi(e.type.render,!1);case 1:return hi(e.type,!0);case 31:return Yn("Activity");default:return""}}function es(e){try{var n="",a=null;do n+=ts(e,a),a=e,e=e.return;while(e);return n}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}var Ie=Object.prototype.hasOwnProperty,De=s.unstable_scheduleCallback,wi=s.unstable_cancelCallback,qo=s.unstable_shouldYield,Os=s.unstable_requestPaint,en=s.unstable_now,ns=s.unstable_getCurrentPriorityLevel,Or=s.unstable_ImmediatePriority,Vr=s.unstable_UserBlockingPriority,yn=s.unstable_NormalPriority,Vs=s.unstable_LowPriority,Ur=s.unstable_IdlePriority,Lr=s.log,Ta=s.unstable_setDisableYieldValue,An=null,Ye=null;function Sn(e){if(typeof Lr=="function"&&Ta(e),Ye&&typeof Ye.setStrictMode=="function")try{Ye.setStrictMode(An,e)}catch{}}var _e=Math.clz32?Math.clz32:Sa,Aa=Math.log,is=Math.LN2;function Sa(e){return e>>>=0,e===0?32:31-(Aa(e)/is|0)|0}var Mn=256,Ri=262144,xe=4194304;function Kn(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Xn(e,n,a){var o=e.pendingLanes;if(o===0)return 0;var h=0,f=e.suspendedLanes,g=e.pingedLanes;e=e.warmLanes;var E=o&134217727;return E!==0?(o=E&~f,o!==0?h=Kn(o):(g&=E,g!==0?h=Kn(g):a||(a=E&~e,a!==0&&(h=Kn(a))))):(E=o&~f,E!==0?h=Kn(E):g!==0?h=Kn(g):a||(a=o&~e,a!==0&&(h=Kn(a)))),h===0?0:n!==0&&n!==h&&(n&f)===0&&(f=h&-h,a=n&-n,f>=a||f===32&&(a&4194048)!==0)?n:h}function On(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function Ho(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ba(){var e=xe;return xe<<=1,(xe&62914560)===0&&(xe=4194304),e}function $n(e){for(var n=[],a=0;31>a;a++)n.push(e);return n}function ss(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Fo(e,n,a,o,h,f){var g=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var E=e.entanglements,x=e.expirationTimes,z=e.hiddenUpdates;for(a=g&~a;0<a;){var Q=31-_e(a),$=1<<Q;E[Q]=0,x[Q]=-1;var B=z[Q];if(B!==null)for(z[Q]=null,Q=0;Q<B.length;Q++){var H=B[Q];H!==null&&(H.lane&=-536870913)}a&=~$}o!==0&&rs(e,o,0),f!==0&&h===0&&e.tag!==0&&(e.suspendedLanes|=f&~(g&~n))}function rs(e,n,a){e.pendingLanes|=n,e.suspendedLanes&=~n;var o=31-_e(n);e.entangledLanes|=n,e.entanglements[o]=e.entanglements[o]|1073741824|a&261930}function kr(e,n){var a=e.entangledLanes|=n;for(e=e.entanglements;a;){var o=31-_e(a),h=1<<o;h&n|e[o]&n&&(e[o]|=n),a&=~h}}function D(e,n){var a=n&-n;return a=(a&42)!==0?1:tt(a),(a&(e.suspendedLanes|n))!==0?0:a}function tt(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function J(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function st(){var e=at.p;return e!==0?e:(e=window.event,e===void 0?32:Z_(e.type))}function dt(e,n){var a=at.p;try{return at.p=e,n()}finally{at.p=a}}var bt=Math.random().toString(36).slice(2),vt="__reactFiber$"+bt,ot="__reactProps$"+bt,Mt="__reactContainer$"+bt,Ot="__reactEvents$"+bt,Ke="__reactListeners$"+bt,Le="__reactHandles$"+bt,wa="__reactResources$"+bt,Ii="__reactMarker$"+bt;function Ra(e){delete e[vt],delete e[ot],delete e[Ot],delete e[Ke],delete e[Le]}function xi(e){var n=e[vt];if(n)return n;for(var a=e.parentNode;a;){if(n=a[Mt]||a[vt]){if(a=n.alternate,n.child!==null||a!==null&&a.child!==null)for(e=U_(e);e!==null;){if(a=e[vt])return a;e=U_(e)}return n}e=a,a=e.parentNode}return null}function Zn(e){if(e=e[vt]||e[Mt]){var n=e.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return e}return null}function Vn(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(r(33))}function Ci(e){var n=e[wa];return n||(n=e[wa]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function ke(e){e[Ii]=!0}var Go=new Set,Qo={};function Ni(e,n){Di(e,n),Di(e+"Capture",n)}function Di(e,n){for(Qo[e]=n,e=0;e<n.length;e++)Go.add(n[e])}var Yo=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ko={},Xo={};function Cu(e){return Ie.call(Xo,e)?!0:Ie.call(Ko,e)?!1:Yo.test(e)?Xo[e]=!0:(Ko[e]=!0,!1)}function Ia(e,n,a){if(Cu(n))if(a===null)e.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var o=n.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+a)}}function Un(e,n,a){if(a===null)e.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+a)}}function Pe(e,n,a,o){if(o===null)e.removeAttribute(a);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(n,a,""+o)}}function Ze(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Us(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function $o(e,n,a){var o=Object.getOwnPropertyDescriptor(e.constructor.prototype,n);if(!e.hasOwnProperty(n)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var h=o.get,f=o.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return h.call(this)},set:function(g){a=""+g,f.call(this,g)}}),Object.defineProperty(e,n,{enumerable:o.enumerable}),{getValue:function(){return a},setValue:function(g){a=""+g},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function se(e){if(!e._valueTracker){var n=Us(e)?"checked":"value";e._valueTracker=$o(e,n,""+e[n])}}function Pr(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var a=n.getValue(),o="";return e&&(o=Us(e)?e.checked?"true":"false":e.value),e=o,e!==a?(n.setValue(e),!0):!1}function Mi(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var jr=/[\n"\\]/g;function bn(e){return e.replace(jr,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function xa(e,n,a,o,h,f,g,E){e.name="",g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"?e.type=g:e.removeAttribute("type"),n!=null?g==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+Ze(n)):e.value!==""+Ze(n)&&(e.value=""+Ze(n)):g!=="submit"&&g!=="reset"||e.removeAttribute("value"),n!=null?Zo(e,g,Ze(n)):a!=null?Zo(e,g,Ze(a)):o!=null&&e.removeAttribute("value"),h==null&&f!=null&&(e.defaultChecked=!!f),h!=null&&(e.checked=h&&typeof h!="function"&&typeof h!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?e.name=""+Ze(E):e.removeAttribute("name")}function Nu(e,n,a,o,h,f,g,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(e.type=f),n!=null||a!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){se(e);return}a=a!=null?""+Ze(a):"",n=n!=null?""+Ze(n):a,E||n===e.value||(e.value=n),e.defaultValue=n}o=o??h,o=typeof o!="function"&&typeof o!="symbol"&&!!o,e.checked=E?e.checked:!!o,e.defaultChecked=!!o,g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(e.name=g),se(e)}function Zo(e,n,a){n==="number"&&Mi(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function Ls(e,n,a,o){if(e=e.options,n){n={};for(var h=0;h<a.length;h++)n["$"+a[h]]=!0;for(a=0;a<e.length;a++)h=n.hasOwnProperty("$"+e[a].value),e[a].selected!==h&&(e[a].selected=h),h&&o&&(e[a].defaultSelected=!0)}else{for(a=""+Ze(a),n=null,h=0;h<e.length;h++){if(e[h].value===a){e[h].selected=!0,o&&(e[h].defaultSelected=!0);return}n!==null||e[h].disabled||(n=e[h])}n!==null&&(n.selected=!0)}}function Du(e,n,a){if(n!=null&&(n=""+Ze(n),n!==e.value&&(e.value=n),a==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=a!=null?""+Ze(a):""}function ks(e,n,a,o){if(n==null){if(o!=null){if(a!=null)throw Error(r(92));if(be(o)){if(1<o.length)throw Error(r(93));o=o[0]}a=o}a==null&&(a=""),n=a}a=Ze(n),e.defaultValue=a,o=e.textContent,o===a&&o!==""&&o!==null&&(e.value=o),se(e)}function wn(e,n){if(n){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=n;return}}e.textContent=n}var Mu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Jo(e,n,a){var o=n.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?o?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":o?e.setProperty(n,a):typeof a!="number"||a===0||Mu.has(n)?n==="float"?e.cssFloat=a:e[n]=(""+a).trim():e[n]=a+"px"}function Wo(e,n,a){if(n!=null&&typeof n!="object")throw Error(r(62));if(e=e.style,a!=null){for(var o in a)!a.hasOwnProperty(o)||n!=null&&n.hasOwnProperty(o)||(o.indexOf("--")===0?e.setProperty(o,""):o==="float"?e.cssFloat="":e[o]="");for(var h in n)o=n[h],n.hasOwnProperty(h)&&a[h]!==o&&Jo(e,h,o)}else for(var f in n)n.hasOwnProperty(f)&&Jo(e,f,n[f])}function Ca(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ou=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ps=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Na(e){return Ps.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function fi(){}var tl=null;function Jn(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var js=null,Oi=null;function zr(e){var n=Zn(e);if(n&&(e=n.stateNode)){var a=e[ot]||null;t:switch(e=n.stateNode,n.type){case"input":if(xa(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),n=a.name,a.type==="radio"&&n!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+bn(""+n)+'"][type="radio"]'),n=0;n<a.length;n++){var o=a[n];if(o!==e&&o.form===e.form){var h=o[ot]||null;if(!h)throw Error(r(90));xa(o,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<a.length;n++)o=a[n],o.form===e.form&&Pr(o)}break t;case"textarea":Du(e,a.value,a.defaultValue);break t;case"select":n=a.value,n!=null&&Ls(e,!!a.multiple,n,!1)}}}var Da=!1;function zs(e,n,a){if(Da)return e(n,a);Da=!0;try{var o=e(n);return o}finally{if(Da=!1,(js!==null||Oi!==null)&&(Rc(),js&&(n=js,e=Oi,Oi=js=null,zr(n),e)))for(n=0;n<e.length;n++)zr(e[n])}}function di(e,n){var a=e.stateNode;if(a===null)return null;var o=a[ot]||null;if(o===null)return null;a=o[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(e=e.type,o=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!o;break t;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(r(231,n,typeof a));return a}var Wn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Br=!1;if(Wn)try{var le={};Object.defineProperty(le,"passive",{get:function(){Br=!0}}),window.addEventListener("test",le,le),window.removeEventListener("test",le,le)}catch{Br=!1}var Vi=null,el=null,qr=null;function nl(){if(qr)return qr;var e,n=el,a=n.length,o,h="value"in Vi?Vi.value:Vi.textContent,f=h.length;for(e=0;e<a&&n[e]===h[e];e++);var g=a-e;for(o=1;o<=g&&n[a-o]===h[f-o];o++);return qr=h.slice(e,1<o?1-o:void 0)}function Hr(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function as(){return!0}function mi(){return!1}function nn(e){function n(a,o,h,f,g){this._reactName=a,this._targetInst=h,this.type=o,this.nativeEvent=f,this.target=g,this.currentTarget=null;for(var E in e)e.hasOwnProperty(E)&&(a=e[E],this[E]=a?a(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?as:mi,this.isPropagationStopped=mi,this}return b(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=as)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=as)},persist:function(){},isPersistent:as}),n}var os={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ui=nn(os),Bs=b({},os,{view:0,detail:0}),il=nn(Bs),qs,Ma,Li,Oa=b({},Bs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Hs,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Li&&(Li&&e.type==="mousemove"?(qs=e.screenX-Li.screenX,Ma=e.screenY-Li.screenY):Ma=qs=0,Li=e),qs)},movementY:function(e){return"movementY"in e?e.movementY:Ma}}),sl=nn(Oa),Fr=b({},Oa,{dataTransfer:0}),Vu=nn(Fr),Uu=b({},Bs,{relatedTarget:0}),Gr=nn(Uu),rl=b({},os,{animationName:0,elapsedTime:0,pseudoElement:0}),Lu=nn(rl),Va=b({},os,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),ku=nn(Va),Pu=b({},os,{data:0}),ki=nn(Pu),ju={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},zu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Bu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function qu(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=Bu[e])?!!n[e]:!1}function Hs(){return qu}var _n=b({},Bs,{key:function(e){if(e.key){var n=ju[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=Hr(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?zu[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Hs,charCode:function(e){return e.type==="keypress"?Hr(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Hr(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Hu=nn(_n),Fu=b({},Oa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ls=nn(Fu),u=b({},Bs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Hs}),m=nn(u),v=b({},os,{propertyName:0,elapsedTime:0,pseudoElement:0}),T=nn(v),P=b({},Oa,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),q=nn(P),rt=b({},os,{newState:0,oldState:0}),Nt=nn(rt),Me=[9,13,27,32],te=Wn&&"CompositionEvent"in window,Ae=null;Wn&&"documentMode"in document&&(Ae=document.documentMode);var ti=Wn&&"TextEvent"in window&&!Ae,Pi=Wn&&(!te||Ae&&8<Ae&&11>=Ae),gi=" ",pi=!1;function Qr(e,n){switch(e){case"keyup":return Me.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ua(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var La=!1;function v1(e,n){switch(e){case"compositionend":return Ua(n);case"keypress":return n.which!==32?null:(pi=!0,gi);case"textInput":return e=n.data,e===gi&&pi?null:e;default:return null}}function E1(e,n){if(La)return e==="compositionend"||!te&&Qr(e,n)?(e=nl(),qr=el=Vi=null,La=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return Pi&&n.locale!=="ko"?null:n.data;default:return null}}var T1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Pg(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!T1[e.type]:n==="textarea"}function jg(e,n,a,o){js?Oi?Oi.push(o):Oi=[o]:js=o,n=Oc(n,"onChange"),0<n.length&&(a=new Ui("onChange","change",null,a,o),e.push({event:a,listeners:n}))}var al=null,ol=null;function A1(e){T_(e,0)}function Gu(e){var n=Vn(e);if(Pr(n))return e}function zg(e,n){if(e==="change")return n}var Bg=!1;if(Wn){var ef;if(Wn){var nf="oninput"in document;if(!nf){var qg=document.createElement("div");qg.setAttribute("oninput","return;"),nf=typeof qg.oninput=="function"}ef=nf}else ef=!1;Bg=ef&&(!document.documentMode||9<document.documentMode)}function Hg(){al&&(al.detachEvent("onpropertychange",Fg),ol=al=null)}function Fg(e){if(e.propertyName==="value"&&Gu(ol)){var n=[];jg(n,ol,e,Jn(e)),zs(A1,n)}}function S1(e,n,a){e==="focusin"?(Hg(),al=n,ol=a,al.attachEvent("onpropertychange",Fg)):e==="focusout"&&Hg()}function b1(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Gu(ol)}function w1(e,n){if(e==="click")return Gu(n)}function R1(e,n){if(e==="input"||e==="change")return Gu(n)}function I1(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var Ln=typeof Object.is=="function"?Object.is:I1;function ll(e,n){if(Ln(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var a=Object.keys(e),o=Object.keys(n);if(a.length!==o.length)return!1;for(o=0;o<a.length;o++){var h=a[o];if(!Ie.call(n,h)||!Ln(e[h],n[h]))return!1}return!0}function Gg(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Qg(e,n){var a=Gg(e);e=0;for(var o;a;){if(a.nodeType===3){if(o=e+a.textContent.length,e<=n&&o>=n)return{node:a,offset:n-e};e=o}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=Gg(a)}}function Yg(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?Yg(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function Kg(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=Mi(e.document);n instanceof e.HTMLIFrameElement;){try{var a=typeof n.contentWindow.location.href=="string"}catch{a=!1}if(a)e=n.contentWindow;else break;n=Mi(e.document)}return n}function sf(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var x1=Wn&&"documentMode"in document&&11>=document.documentMode,ka=null,rf=null,ul=null,af=!1;function Xg(e,n,a){var o=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;af||ka==null||ka!==Mi(o)||(o=ka,"selectionStart"in o&&sf(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),ul&&ll(ul,o)||(ul=o,o=Oc(rf,"onSelect"),0<o.length&&(n=new Ui("onSelect","select",null,n,a),e.push({event:n,listeners:o}),n.target=ka)))}function Yr(e,n){var a={};return a[e.toLowerCase()]=n.toLowerCase(),a["Webkit"+e]="webkit"+n,a["Moz"+e]="moz"+n,a}var Pa={animationend:Yr("Animation","AnimationEnd"),animationiteration:Yr("Animation","AnimationIteration"),animationstart:Yr("Animation","AnimationStart"),transitionrun:Yr("Transition","TransitionRun"),transitionstart:Yr("Transition","TransitionStart"),transitioncancel:Yr("Transition","TransitionCancel"),transitionend:Yr("Transition","TransitionEnd")},of={},$g={};Wn&&($g=document.createElement("div").style,"AnimationEvent"in window||(delete Pa.animationend.animation,delete Pa.animationiteration.animation,delete Pa.animationstart.animation),"TransitionEvent"in window||delete Pa.transitionend.transition);function Kr(e){if(of[e])return of[e];if(!Pa[e])return e;var n=Pa[e],a;for(a in n)if(n.hasOwnProperty(a)&&a in $g)return of[e]=n[a];return e}var Zg=Kr("animationend"),Jg=Kr("animationiteration"),Wg=Kr("animationstart"),C1=Kr("transitionrun"),N1=Kr("transitionstart"),D1=Kr("transitioncancel"),tp=Kr("transitionend"),ep=new Map,lf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");lf.push("scrollEnd");function yi(e,n){ep.set(e,n),Ni(n,[e])}var Qu=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},ei=[],ja=0,uf=0;function Yu(){for(var e=ja,n=uf=ja=0;n<e;){var a=ei[n];ei[n++]=null;var o=ei[n];ei[n++]=null;var h=ei[n];ei[n++]=null;var f=ei[n];if(ei[n++]=null,o!==null&&h!==null){var g=o.pending;g===null?h.next=h:(h.next=g.next,g.next=h),o.pending=h}f!==0&&np(a,h,f)}}function Ku(e,n,a,o){ei[ja++]=e,ei[ja++]=n,ei[ja++]=a,ei[ja++]=o,uf|=o,e.lanes|=o,e=e.alternate,e!==null&&(e.lanes|=o)}function cf(e,n,a,o){return Ku(e,n,a,o),Xu(e)}function Xr(e,n){return Ku(e,null,null,n),Xu(e)}function np(e,n,a){e.lanes|=a;var o=e.alternate;o!==null&&(o.lanes|=a);for(var h=!1,f=e.return;f!==null;)f.childLanes|=a,o=f.alternate,o!==null&&(o.childLanes|=a),f.tag===22&&(e=f.stateNode,e===null||e._visibility&1||(h=!0)),e=f,f=f.return;return e.tag===3?(f=e.stateNode,h&&n!==null&&(h=31-_e(a),e=f.hiddenUpdates,o=e[h],o===null?e[h]=[n]:o.push(n),n.lane=a|536870912),f):null}function Xu(e){if(50<Dl)throw Dl=0,vd=null,Error(r(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var za={};function M1(e,n,a,o){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function kn(e,n,a,o){return new M1(e,n,a,o)}function hf(e){return e=e.prototype,!(!e||!e.isReactComponent)}function us(e,n){var a=e.alternate;return a===null?(a=kn(e.tag,n,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=n,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,n=e.dependencies,a.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function ip(e,n){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,n=a.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function $u(e,n,a,o,h,f){var g=0;if(o=e,typeof e=="function")hf(e)&&(g=1);else if(typeof e=="string")g=kA(e,a,W.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case I:return e=kn(31,a,n,h),e.elementType=I,e.lanes=f,e;case ut:return $r(a.children,h,f,n);case nt:g=8,h|=24;break;case yt:return e=kn(12,a,n,h|2),e.elementType=yt,e.lanes=f,e;case ne:return e=kn(13,a,n,h),e.elementType=ne,e.lanes=f,e;case Ft:return e=kn(19,a,n,h),e.elementType=Ft,e.lanes=f,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Tt:g=10;break t;case wt:g=9;break t;case $t:g=11;break t;case C:g=14;break t;case w:g=16,o=null;break t}g=29,a=Error(r(130,e===null?"null":typeof e,"")),o=null}return n=kn(g,a,n,h),n.elementType=e,n.type=o,n.lanes=f,n}function $r(e,n,a,o){return e=kn(7,e,o,n),e.lanes=a,e}function ff(e,n,a){return e=kn(6,e,null,n),e.lanes=a,e}function sp(e){var n=kn(18,null,null,0);return n.stateNode=e,n}function df(e,n,a){return n=kn(4,e.children!==null?e.children:[],e.key,n),n.lanes=a,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var rp=new WeakMap;function ni(e,n){if(typeof e=="object"&&e!==null){var a=rp.get(e);return a!==void 0?a:(n={value:e,source:n,stack:es(n)},rp.set(e,n),n)}return{value:e,source:n,stack:es(n)}}var Ba=[],qa=0,Zu=null,cl=0,ii=[],si=0,Fs=null,ji=1,zi="";function cs(e,n){Ba[qa++]=cl,Ba[qa++]=Zu,Zu=e,cl=n}function ap(e,n,a){ii[si++]=ji,ii[si++]=zi,ii[si++]=Fs,Fs=e;var o=ji;e=zi;var h=32-_e(o)-1;o&=~(1<<h),a+=1;var f=32-_e(n)+h;if(30<f){var g=h-h%5;f=(o&(1<<g)-1).toString(32),o>>=g,h-=g,ji=1<<32-_e(n)+h|a<<h|o,zi=f+e}else ji=1<<f|a<<h|o,zi=e}function mf(e){e.return!==null&&(cs(e,1),ap(e,1,0))}function gf(e){for(;e===Zu;)Zu=Ba[--qa],Ba[qa]=null,cl=Ba[--qa],Ba[qa]=null;for(;e===Fs;)Fs=ii[--si],ii[si]=null,zi=ii[--si],ii[si]=null,ji=ii[--si],ii[si]=null}function op(e,n){ii[si++]=ji,ii[si++]=zi,ii[si++]=Fs,ji=n.id,zi=n.overflow,Fs=e}var sn=null,ve=null,Gt=!1,Gs=null,ri=!1,pf=Error(r(519));function Qs(e){var n=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw hl(ni(n,e)),pf}function lp(e){var n=e.stateNode,a=e.type,o=e.memoizedProps;switch(n[vt]=e,n[ot]=o,a){case"dialog":Pt("cancel",n),Pt("close",n);break;case"iframe":case"object":case"embed":Pt("load",n);break;case"video":case"audio":for(a=0;a<Ol.length;a++)Pt(Ol[a],n);break;case"source":Pt("error",n);break;case"img":case"image":case"link":Pt("error",n),Pt("load",n);break;case"details":Pt("toggle",n);break;case"input":Pt("invalid",n),Nu(n,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0);break;case"select":Pt("invalid",n);break;case"textarea":Pt("invalid",n),ks(n,o.value,o.defaultValue,o.children)}a=o.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||n.textContent===""+a||o.suppressHydrationWarning===!0||w_(n.textContent,a)?(o.popover!=null&&(Pt("beforetoggle",n),Pt("toggle",n)),o.onScroll!=null&&Pt("scroll",n),o.onScrollEnd!=null&&Pt("scrollend",n),o.onClick!=null&&(n.onclick=fi),n=!0):n=!1,n||Qs(e,!0)}function up(e){for(sn=e.return;sn;)switch(sn.tag){case 5:case 31:case 13:ri=!1;return;case 27:case 3:ri=!0;return;default:sn=sn.return}}function Ha(e){if(e!==sn)return!1;if(!Gt)return up(e),Gt=!0,!1;var n=e.tag,a;if((a=n!==3&&n!==27)&&((a=n===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||Vd(e.type,e.memoizedProps)),a=!a),a&&ve&&Qs(e),up(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));ve=V_(e)}else if(n===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));ve=V_(e)}else n===27?(n=ve,ar(e.type)?(e=jd,jd=null,ve=e):ve=n):ve=sn?oi(e.stateNode.nextSibling):null;return!0}function Zr(){ve=sn=null,Gt=!1}function yf(){var e=Gs;return e!==null&&(Cn===null?Cn=e:Cn.push.apply(Cn,e),Gs=null),e}function hl(e){Gs===null?Gs=[e]:Gs.push(e)}var _f=V(null),Jr=null,hs=null;function Ys(e,n,a){it(_f,n._currentValue),n._currentValue=a}function fs(e){e._currentValue=_f.current,F(_f)}function vf(e,n,a){for(;e!==null;){var o=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,o!==null&&(o.childLanes|=n)):o!==null&&(o.childLanes&n)!==n&&(o.childLanes|=n),e===a)break;e=e.return}}function Ef(e,n,a,o){var h=e.child;for(h!==null&&(h.return=e);h!==null;){var f=h.dependencies;if(f!==null){var g=h.child;f=f.firstContext;t:for(;f!==null;){var E=f;f=h;for(var x=0;x<n.length;x++)if(E.context===n[x]){f.lanes|=a,E=f.alternate,E!==null&&(E.lanes|=a),vf(f.return,a,e),o||(g=null);break t}f=E.next}}else if(h.tag===18){if(g=h.return,g===null)throw Error(r(341));g.lanes|=a,f=g.alternate,f!==null&&(f.lanes|=a),vf(g,a,e),g=null}else g=h.child;if(g!==null)g.return=h;else for(g=h;g!==null;){if(g===e){g=null;break}if(h=g.sibling,h!==null){h.return=g.return,g=h;break}g=g.return}h=g}}function Fa(e,n,a,o){e=null;for(var h=n,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var g=h.alternate;if(g===null)throw Error(r(387));if(g=g.memoizedProps,g!==null){var E=h.type;Ln(h.pendingProps.value,g.value)||(e!==null?e.push(E):e=[E])}}else if(h===Lt.current){if(g=h.alternate,g===null)throw Error(r(387));g.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(e!==null?e.push(Pl):e=[Pl])}h=h.return}e!==null&&Ef(n,e,a,o),n.flags|=262144}function Ju(e){for(e=e.firstContext;e!==null;){if(!Ln(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Wr(e){Jr=e,hs=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function rn(e){return cp(Jr,e)}function Wu(e,n){return Jr===null&&Wr(e),cp(e,n)}function cp(e,n){var a=n._currentValue;if(n={context:n,memoizedValue:a,next:null},hs===null){if(e===null)throw Error(r(308));hs=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else hs=hs.next=n;return a}var O1=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(a,o){e.push(o)}};this.abort=function(){n.aborted=!0,e.forEach(function(a){return a()})}},V1=s.unstable_scheduleCallback,U1=s.unstable_NormalPriority,je={$$typeof:Tt,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Tf(){return{controller:new O1,data:new Map,refCount:0}}function fl(e){e.refCount--,e.refCount===0&&V1(U1,function(){e.controller.abort()})}var dl=null,Af=0,Ga=0,Qa=null;function L1(e,n){if(dl===null){var a=dl=[];Af=0,Ga=wd(),Qa={status:"pending",value:void 0,then:function(o){a.push(o)}}}return Af++,n.then(hp,hp),n}function hp(){if(--Af===0&&dl!==null){Qa!==null&&(Qa.status="fulfilled");var e=dl;dl=null,Ga=0,Qa=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function k1(e,n){var a=[],o={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return e.then(function(){o.status="fulfilled",o.value=n;for(var h=0;h<a.length;h++)(0,a[h])(n)},function(h){for(o.status="rejected",o.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),o}var fp=G.S;G.S=function(e,n){Xy=en(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&L1(e,n),fp!==null&&fp(e,n)};var ta=V(null);function Sf(){var e=ta.current;return e!==null?e:pe.pooledCache}function tc(e,n){n===null?it(ta,ta.current):it(ta,n.pool)}function dp(){var e=Sf();return e===null?null:{parent:je._currentValue,pool:e}}var Ya=Error(r(460)),bf=Error(r(474)),ec=Error(r(542)),nc={then:function(){}};function mp(e){return e=e.status,e==="fulfilled"||e==="rejected"}function gp(e,n,a){switch(a=e[a],a===void 0?e.push(n):a!==n&&(n.then(fi,fi),n=a),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,yp(e),e;default:if(typeof n.status=="string")n.then(fi,fi);else{if(e=pe,e!==null&&100<e.shellSuspendCounter)throw Error(r(482));e=n,e.status="pending",e.then(function(o){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=o}},function(o){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=o}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,yp(e),e}throw na=n,Ya}}function ea(e){try{var n=e._init;return n(e._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(na=a,Ya):a}}var na=null;function pp(){if(na===null)throw Error(r(459));var e=na;return na=null,e}function yp(e){if(e===Ya||e===ec)throw Error(r(483))}var Ka=null,ml=0;function ic(e){var n=ml;return ml+=1,Ka===null&&(Ka=[]),gp(Ka,e,n)}function gl(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function sc(e,n){throw n.$$typeof===N?Error(r(525)):(e=Object.prototype.toString.call(n),Error(r(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function _p(e){function n(k,O){if(e){var j=k.deletions;j===null?(k.deletions=[O],k.flags|=16):j.push(O)}}function a(k,O){if(!e)return null;for(;O!==null;)n(k,O),O=O.sibling;return null}function o(k){for(var O=new Map;k!==null;)k.key!==null?O.set(k.key,k):O.set(k.index,k),k=k.sibling;return O}function h(k,O){return k=us(k,O),k.index=0,k.sibling=null,k}function f(k,O,j){return k.index=j,e?(j=k.alternate,j!==null?(j=j.index,j<O?(k.flags|=67108866,O):j):(k.flags|=67108866,O)):(k.flags|=1048576,O)}function g(k){return e&&k.alternate===null&&(k.flags|=67108866),k}function E(k,O,j,X){return O===null||O.tag!==6?(O=ff(j,k.mode,X),O.return=k,O):(O=h(O,j),O.return=k,O)}function x(k,O,j,X){var gt=j.type;return gt===ut?Q(k,O,j.props.children,X,j.key):O!==null&&(O.elementType===gt||typeof gt=="object"&&gt!==null&&gt.$$typeof===w&&ea(gt)===O.type)?(O=h(O,j.props),gl(O,j),O.return=k,O):(O=$u(j.type,j.key,j.props,null,k.mode,X),gl(O,j),O.return=k,O)}function z(k,O,j,X){return O===null||O.tag!==4||O.stateNode.containerInfo!==j.containerInfo||O.stateNode.implementation!==j.implementation?(O=df(j,k.mode,X),O.return=k,O):(O=h(O,j.children||[]),O.return=k,O)}function Q(k,O,j,X,gt){return O===null||O.tag!==7?(O=$r(j,k.mode,X,gt),O.return=k,O):(O=h(O,j),O.return=k,O)}function $(k,O,j){if(typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint")return O=ff(""+O,k.mode,j),O.return=k,O;if(typeof O=="object"&&O!==null){switch(O.$$typeof){case Y:return j=$u(O.type,O.key,O.props,null,k.mode,j),gl(j,O),j.return=k,j;case et:return O=df(O,k.mode,j),O.return=k,O;case w:return O=ea(O),$(k,O,j)}if(be(O)||L(O))return O=$r(O,k.mode,j,null),O.return=k,O;if(typeof O.then=="function")return $(k,ic(O),j);if(O.$$typeof===Tt)return $(k,Wu(k,O),j);sc(k,O)}return null}function B(k,O,j,X){var gt=O!==null?O.key:null;if(typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint")return gt!==null?null:E(k,O,""+j,X);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case Y:return j.key===gt?x(k,O,j,X):null;case et:return j.key===gt?z(k,O,j,X):null;case w:return j=ea(j),B(k,O,j,X)}if(be(j)||L(j))return gt!==null?null:Q(k,O,j,X,null);if(typeof j.then=="function")return B(k,O,ic(j),X);if(j.$$typeof===Tt)return B(k,O,Wu(k,j),X);sc(k,j)}return null}function H(k,O,j,X,gt){if(typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint")return k=k.get(j)||null,E(O,k,""+X,gt);if(typeof X=="object"&&X!==null){switch(X.$$typeof){case Y:return k=k.get(X.key===null?j:X.key)||null,x(O,k,X,gt);case et:return k=k.get(X.key===null?j:X.key)||null,z(O,k,X,gt);case w:return X=ea(X),H(k,O,j,X,gt)}if(be(X)||L(X))return k=k.get(j)||null,Q(O,k,X,gt,null);if(typeof X.then=="function")return H(k,O,j,ic(X),gt);if(X.$$typeof===Tt)return H(k,O,j,Wu(O,X),gt);sc(O,X)}return null}function ht(k,O,j,X){for(var gt=null,Zt=null,ft=O,Vt=O=0,zt=null;ft!==null&&Vt<j.length;Vt++){ft.index>Vt?(zt=ft,ft=null):zt=ft.sibling;var Jt=B(k,ft,j[Vt],X);if(Jt===null){ft===null&&(ft=zt);break}e&&ft&&Jt.alternate===null&&n(k,ft),O=f(Jt,O,Vt),Zt===null?gt=Jt:Zt.sibling=Jt,Zt=Jt,ft=zt}if(Vt===j.length)return a(k,ft),Gt&&cs(k,Vt),gt;if(ft===null){for(;Vt<j.length;Vt++)ft=$(k,j[Vt],X),ft!==null&&(O=f(ft,O,Vt),Zt===null?gt=ft:Zt.sibling=ft,Zt=ft);return Gt&&cs(k,Vt),gt}for(ft=o(ft);Vt<j.length;Vt++)zt=H(ft,k,Vt,j[Vt],X),zt!==null&&(e&&zt.alternate!==null&&ft.delete(zt.key===null?Vt:zt.key),O=f(zt,O,Vt),Zt===null?gt=zt:Zt.sibling=zt,Zt=zt);return e&&ft.forEach(function(hr){return n(k,hr)}),Gt&&cs(k,Vt),gt}function Et(k,O,j,X){if(j==null)throw Error(r(151));for(var gt=null,Zt=null,ft=O,Vt=O=0,zt=null,Jt=j.next();ft!==null&&!Jt.done;Vt++,Jt=j.next()){ft.index>Vt?(zt=ft,ft=null):zt=ft.sibling;var hr=B(k,ft,Jt.value,X);if(hr===null){ft===null&&(ft=zt);break}e&&ft&&hr.alternate===null&&n(k,ft),O=f(hr,O,Vt),Zt===null?gt=hr:Zt.sibling=hr,Zt=hr,ft=zt}if(Jt.done)return a(k,ft),Gt&&cs(k,Vt),gt;if(ft===null){for(;!Jt.done;Vt++,Jt=j.next())Jt=$(k,Jt.value,X),Jt!==null&&(O=f(Jt,O,Vt),Zt===null?gt=Jt:Zt.sibling=Jt,Zt=Jt);return Gt&&cs(k,Vt),gt}for(ft=o(ft);!Jt.done;Vt++,Jt=j.next())Jt=H(ft,k,Vt,Jt.value,X),Jt!==null&&(e&&Jt.alternate!==null&&ft.delete(Jt.key===null?Vt:Jt.key),O=f(Jt,O,Vt),Zt===null?gt=Jt:Zt.sibling=Jt,Zt=Jt);return e&&ft.forEach(function(KA){return n(k,KA)}),Gt&&cs(k,Vt),gt}function he(k,O,j,X){if(typeof j=="object"&&j!==null&&j.type===ut&&j.key===null&&(j=j.props.children),typeof j=="object"&&j!==null){switch(j.$$typeof){case Y:t:{for(var gt=j.key;O!==null;){if(O.key===gt){if(gt=j.type,gt===ut){if(O.tag===7){a(k,O.sibling),X=h(O,j.props.children),X.return=k,k=X;break t}}else if(O.elementType===gt||typeof gt=="object"&&gt!==null&&gt.$$typeof===w&&ea(gt)===O.type){a(k,O.sibling),X=h(O,j.props),gl(X,j),X.return=k,k=X;break t}a(k,O);break}else n(k,O);O=O.sibling}j.type===ut?(X=$r(j.props.children,k.mode,X,j.key),X.return=k,k=X):(X=$u(j.type,j.key,j.props,null,k.mode,X),gl(X,j),X.return=k,k=X)}return g(k);case et:t:{for(gt=j.key;O!==null;){if(O.key===gt)if(O.tag===4&&O.stateNode.containerInfo===j.containerInfo&&O.stateNode.implementation===j.implementation){a(k,O.sibling),X=h(O,j.children||[]),X.return=k,k=X;break t}else{a(k,O);break}else n(k,O);O=O.sibling}X=df(j,k.mode,X),X.return=k,k=X}return g(k);case w:return j=ea(j),he(k,O,j,X)}if(be(j))return ht(k,O,j,X);if(L(j)){if(gt=L(j),typeof gt!="function")throw Error(r(150));return j=gt.call(j),Et(k,O,j,X)}if(typeof j.then=="function")return he(k,O,ic(j),X);if(j.$$typeof===Tt)return he(k,O,Wu(k,j),X);sc(k,j)}return typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint"?(j=""+j,O!==null&&O.tag===6?(a(k,O.sibling),X=h(O,j),X.return=k,k=X):(a(k,O),X=ff(j,k.mode,X),X.return=k,k=X),g(k)):a(k,O)}return function(k,O,j,X){try{ml=0;var gt=he(k,O,j,X);return Ka=null,gt}catch(ft){if(ft===Ya||ft===ec)throw ft;var Zt=kn(29,ft,null,k.mode);return Zt.lanes=X,Zt.return=k,Zt}finally{}}}var ia=_p(!0),vp=_p(!1),Ks=!1;function wf(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Rf(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Xs(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function $s(e,n,a){var o=e.updateQueue;if(o===null)return null;if(o=o.shared,(ee&2)!==0){var h=o.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),o.pending=n,n=Xu(e),np(e,null,a),n}return Ku(e,o,n,a),Xu(e)}function pl(e,n,a){if(n=n.updateQueue,n!==null&&(n=n.shared,(a&4194048)!==0)){var o=n.lanes;o&=e.pendingLanes,a|=o,n.lanes=a,kr(e,a)}}function If(e,n){var a=e.updateQueue,o=e.alternate;if(o!==null&&(o=o.updateQueue,a===o)){var h=null,f=null;if(a=a.firstBaseUpdate,a!==null){do{var g={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};f===null?h=f=g:f=f.next=g,a=a.next}while(a!==null);f===null?h=f=n:f=f.next=n}else h=f=n;a={baseState:o.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:o.shared,callbacks:o.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=n:e.next=n,a.lastBaseUpdate=n}var xf=!1;function yl(){if(xf){var e=Qa;if(e!==null)throw e}}function _l(e,n,a,o){xf=!1;var h=e.updateQueue;Ks=!1;var f=h.firstBaseUpdate,g=h.lastBaseUpdate,E=h.shared.pending;if(E!==null){h.shared.pending=null;var x=E,z=x.next;x.next=null,g===null?f=z:g.next=z,g=x;var Q=e.alternate;Q!==null&&(Q=Q.updateQueue,E=Q.lastBaseUpdate,E!==g&&(E===null?Q.firstBaseUpdate=z:E.next=z,Q.lastBaseUpdate=x))}if(f!==null){var $=h.baseState;g=0,Q=z=x=null,E=f;do{var B=E.lane&-536870913,H=B!==E.lane;if(H?(jt&B)===B:(o&B)===B){B!==0&&B===Ga&&(xf=!0),Q!==null&&(Q=Q.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var ht=e,Et=E;B=n;var he=a;switch(Et.tag){case 1:if(ht=Et.payload,typeof ht=="function"){$=ht.call(he,$,B);break t}$=ht;break t;case 3:ht.flags=ht.flags&-65537|128;case 0:if(ht=Et.payload,B=typeof ht=="function"?ht.call(he,$,B):ht,B==null)break t;$=b({},$,B);break t;case 2:Ks=!0}}B=E.callback,B!==null&&(e.flags|=64,H&&(e.flags|=8192),H=h.callbacks,H===null?h.callbacks=[B]:H.push(B))}else H={lane:B,tag:E.tag,payload:E.payload,callback:E.callback,next:null},Q===null?(z=Q=H,x=$):Q=Q.next=H,g|=B;if(E=E.next,E===null){if(E=h.shared.pending,E===null)break;H=E,E=H.next,H.next=null,h.lastBaseUpdate=H,h.shared.pending=null}}while(!0);Q===null&&(x=$),h.baseState=x,h.firstBaseUpdate=z,h.lastBaseUpdate=Q,f===null&&(h.shared.lanes=0),er|=g,e.lanes=g,e.memoizedState=$}}function Ep(e,n){if(typeof e!="function")throw Error(r(191,e));e.call(n)}function Tp(e,n){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)Ep(a[e],n)}var Xa=V(null),rc=V(0);function Ap(e,n){e=Ts,it(rc,e),it(Xa,n),Ts=e|n.baseLanes}function Cf(){it(rc,Ts),it(Xa,Xa.current)}function Nf(){Ts=rc.current,F(Xa),F(rc)}var Pn=V(null),ai=null;function Zs(e){var n=e.alternate;it(Oe,Oe.current&1),it(Pn,e),ai===null&&(n===null||Xa.current!==null||n.memoizedState!==null)&&(ai=e)}function Df(e){it(Oe,Oe.current),it(Pn,e),ai===null&&(ai=e)}function Sp(e){e.tag===22?(it(Oe,Oe.current),it(Pn,e),ai===null&&(ai=e)):Js()}function Js(){it(Oe,Oe.current),it(Pn,Pn.current)}function jn(e){F(Pn),ai===e&&(ai=null),F(Oe)}var Oe=V(0);function ac(e){for(var n=e;n!==null;){if(n.tag===13){var a=n.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||kd(a)||Pd(a)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var ds=0,Dt=null,ue=null,ze=null,oc=!1,$a=!1,sa=!1,lc=0,vl=0,Za=null,P1=0;function Ce(){throw Error(r(321))}function Mf(e,n){if(n===null)return!1;for(var a=0;a<n.length&&a<e.length;a++)if(!Ln(e[a],n[a]))return!1;return!0}function Of(e,n,a,o,h,f){return ds=f,Dt=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,G.H=e===null||e.memoizedState===null?ay:Kf,sa=!1,f=a(o,h),sa=!1,$a&&(f=wp(n,a,o,h)),bp(e),f}function bp(e){G.H=Al;var n=ue!==null&&ue.next!==null;if(ds=0,ze=ue=Dt=null,oc=!1,vl=0,Za=null,n)throw Error(r(300));e===null||Be||(e=e.dependencies,e!==null&&Ju(e)&&(Be=!0))}function wp(e,n,a,o){Dt=e;var h=0;do{if($a&&(Za=null),vl=0,$a=!1,25<=h)throw Error(r(301));if(h+=1,ze=ue=null,e.updateQueue!=null){var f=e.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}G.H=oy,f=n(a,o)}while($a);return f}function j1(){var e=G.H,n=e.useState()[0];return n=typeof n.then=="function"?El(n):n,e=e.useState()[0],(ue!==null?ue.memoizedState:null)!==e&&(Dt.flags|=1024),n}function Vf(){var e=lc!==0;return lc=0,e}function Uf(e,n,a){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~a}function Lf(e){if(oc){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}oc=!1}ds=0,ze=ue=Dt=null,$a=!1,vl=lc=0,Za=null}function vn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ze===null?Dt.memoizedState=ze=e:ze=ze.next=e,ze}function Ve(){if(ue===null){var e=Dt.alternate;e=e!==null?e.memoizedState:null}else e=ue.next;var n=ze===null?Dt.memoizedState:ze.next;if(n!==null)ze=n,ue=e;else{if(e===null)throw Dt.alternate===null?Error(r(467)):Error(r(310));ue=e,e={memoizedState:ue.memoizedState,baseState:ue.baseState,baseQueue:ue.baseQueue,queue:ue.queue,next:null},ze===null?Dt.memoizedState=ze=e:ze=ze.next=e}return ze}function uc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function El(e){var n=vl;return vl+=1,Za===null&&(Za=[]),e=gp(Za,e,n),n=Dt,(ze===null?n.memoizedState:ze.next)===null&&(n=n.alternate,G.H=n===null||n.memoizedState===null?ay:Kf),e}function cc(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return El(e);if(e.$$typeof===Tt)return rn(e)}throw Error(r(438,String(e)))}function kf(e){var n=null,a=Dt.updateQueue;if(a!==null&&(n=a.memoCache),n==null){var o=Dt.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(n={data:o.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),a===null&&(a=uc(),Dt.updateQueue=a),a.memoCache=n,a=n.data[n.index],a===void 0)for(a=n.data[n.index]=Array(e),o=0;o<e;o++)a[o]=U;return n.index++,a}function ms(e,n){return typeof n=="function"?n(e):n}function hc(e){var n=Ve();return Pf(n,ue,e)}function Pf(e,n,a){var o=e.queue;if(o===null)throw Error(r(311));o.lastRenderedReducer=a;var h=e.baseQueue,f=o.pending;if(f!==null){if(h!==null){var g=h.next;h.next=f.next,f.next=g}n.baseQueue=h=f,o.pending=null}if(f=e.baseState,h===null)e.memoizedState=f;else{n=h.next;var E=g=null,x=null,z=n,Q=!1;do{var $=z.lane&-536870913;if($!==z.lane?(jt&$)===$:(ds&$)===$){var B=z.revertLane;if(B===0)x!==null&&(x=x.next={lane:0,revertLane:0,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null}),$===Ga&&(Q=!0);else if((ds&B)===B){z=z.next,B===Ga&&(Q=!0);continue}else $={lane:0,revertLane:z.revertLane,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},x===null?(E=x=$,g=f):x=x.next=$,Dt.lanes|=B,er|=B;$=z.action,sa&&a(f,$),f=z.hasEagerState?z.eagerState:a(f,$)}else B={lane:$,revertLane:z.revertLane,gesture:z.gesture,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},x===null?(E=x=B,g=f):x=x.next=B,Dt.lanes|=$,er|=$;z=z.next}while(z!==null&&z!==n);if(x===null?g=f:x.next=E,!Ln(f,e.memoizedState)&&(Be=!0,Q&&(a=Qa,a!==null)))throw a;e.memoizedState=f,e.baseState=g,e.baseQueue=x,o.lastRenderedState=f}return h===null&&(o.lanes=0),[e.memoizedState,o.dispatch]}function jf(e){var n=Ve(),a=n.queue;if(a===null)throw Error(r(311));a.lastRenderedReducer=e;var o=a.dispatch,h=a.pending,f=n.memoizedState;if(h!==null){a.pending=null;var g=h=h.next;do f=e(f,g.action),g=g.next;while(g!==h);Ln(f,n.memoizedState)||(Be=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),a.lastRenderedState=f}return[f,o]}function Rp(e,n,a){var o=Dt,h=Ve(),f=Gt;if(f){if(a===void 0)throw Error(r(407));a=a()}else a=n();var g=!Ln((ue||h).memoizedState,a);if(g&&(h.memoizedState=a,Be=!0),h=h.queue,qf(Cp.bind(null,o,h,e),[e]),h.getSnapshot!==n||g||ze!==null&&ze.memoizedState.tag&1){if(o.flags|=2048,Ja(9,{destroy:void 0},xp.bind(null,o,h,a,n),null),pe===null)throw Error(r(349));f||(ds&127)!==0||Ip(o,n,a)}return a}function Ip(e,n,a){e.flags|=16384,e={getSnapshot:n,value:a},n=Dt.updateQueue,n===null?(n=uc(),Dt.updateQueue=n,n.stores=[e]):(a=n.stores,a===null?n.stores=[e]:a.push(e))}function xp(e,n,a,o){n.value=a,n.getSnapshot=o,Np(n)&&Dp(e)}function Cp(e,n,a){return a(function(){Np(n)&&Dp(e)})}function Np(e){var n=e.getSnapshot;e=e.value;try{var a=n();return!Ln(e,a)}catch{return!0}}function Dp(e){var n=Xr(e,2);n!==null&&Nn(n,e,2)}function zf(e){var n=vn();if(typeof e=="function"){var a=e;if(e=a(),sa){Sn(!0);try{a()}finally{Sn(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ms,lastRenderedState:e},n}function Mp(e,n,a,o){return e.baseState=a,Pf(e,ue,typeof o=="function"?o:ms)}function z1(e,n,a,o,h){if(mc(e))throw Error(r(485));if(e=n.action,e!==null){var f={payload:h,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(g){f.listeners.push(g)}};G.T!==null?a(!0):f.isTransition=!1,o(f),a=n.pending,a===null?(f.next=n.pending=f,Op(n,f)):(f.next=a.next,n.pending=a.next=f)}}function Op(e,n){var a=n.action,o=n.payload,h=e.state;if(n.isTransition){var f=G.T,g={};G.T=g;try{var E=a(h,o),x=G.S;x!==null&&x(g,E),Vp(e,n,E)}catch(z){Bf(e,n,z)}finally{f!==null&&g.types!==null&&(f.types=g.types),G.T=f}}else try{f=a(h,o),Vp(e,n,f)}catch(z){Bf(e,n,z)}}function Vp(e,n,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(o){Up(e,n,o)},function(o){return Bf(e,n,o)}):Up(e,n,a)}function Up(e,n,a){n.status="fulfilled",n.value=a,Lp(n),e.state=a,n=e.pending,n!==null&&(a=n.next,a===n?e.pending=null:(a=a.next,n.next=a,Op(e,a)))}function Bf(e,n,a){var o=e.pending;if(e.pending=null,o!==null){o=o.next;do n.status="rejected",n.reason=a,Lp(n),n=n.next;while(n!==o)}e.action=null}function Lp(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function kp(e,n){return n}function Pp(e,n){if(Gt){var a=pe.formState;if(a!==null){t:{var o=Dt;if(Gt){if(ve){e:{for(var h=ve,f=ri;h.nodeType!==8;){if(!f){h=null;break e}if(h=oi(h.nextSibling),h===null){h=null;break e}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){ve=oi(h.nextSibling),o=h.data==="F!";break t}}Qs(o)}o=!1}o&&(n=a[0])}}return a=vn(),a.memoizedState=a.baseState=n,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:kp,lastRenderedState:n},a.queue=o,a=iy.bind(null,Dt,o),o.dispatch=a,o=zf(!1),f=Yf.bind(null,Dt,!1,o.queue),o=vn(),h={state:n,dispatch:null,action:e,pending:null},o.queue=h,a=z1.bind(null,Dt,h,f,a),h.dispatch=a,o.memoizedState=e,[n,a,!1]}function jp(e){var n=Ve();return zp(n,ue,e)}function zp(e,n,a){if(n=Pf(e,n,kp)[0],e=hc(ms)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var o=El(n)}catch(g){throw g===Ya?ec:g}else o=n;n=Ve();var h=n.queue,f=h.dispatch;return a!==n.memoizedState&&(Dt.flags|=2048,Ja(9,{destroy:void 0},B1.bind(null,h,a),null)),[o,f,e]}function B1(e,n){e.action=n}function Bp(e){var n=Ve(),a=ue;if(a!==null)return zp(n,a,e);Ve(),n=n.memoizedState,a=Ve();var o=a.queue.dispatch;return a.memoizedState=e,[n,o,!1]}function Ja(e,n,a,o){return e={tag:e,create:a,deps:o,inst:n,next:null},n=Dt.updateQueue,n===null&&(n=uc(),Dt.updateQueue=n),a=n.lastEffect,a===null?n.lastEffect=e.next=e:(o=a.next,a.next=e,e.next=o,n.lastEffect=e),e}function qp(){return Ve().memoizedState}function fc(e,n,a,o){var h=vn();Dt.flags|=e,h.memoizedState=Ja(1|n,{destroy:void 0},a,o===void 0?null:o)}function dc(e,n,a,o){var h=Ve();o=o===void 0?null:o;var f=h.memoizedState.inst;ue!==null&&o!==null&&Mf(o,ue.memoizedState.deps)?h.memoizedState=Ja(n,f,a,o):(Dt.flags|=e,h.memoizedState=Ja(1|n,f,a,o))}function Hp(e,n){fc(8390656,8,e,n)}function qf(e,n){dc(2048,8,e,n)}function q1(e){Dt.flags|=4;var n=Dt.updateQueue;if(n===null)n=uc(),Dt.updateQueue=n,n.events=[e];else{var a=n.events;a===null?n.events=[e]:a.push(e)}}function Fp(e){var n=Ve().memoizedState;return q1({ref:n,nextImpl:e}),function(){if((ee&2)!==0)throw Error(r(440));return n.impl.apply(void 0,arguments)}}function Gp(e,n){return dc(4,2,e,n)}function Qp(e,n){return dc(4,4,e,n)}function Yp(e,n){if(typeof n=="function"){e=e();var a=n(e);return function(){typeof a=="function"?a():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function Kp(e,n,a){a=a!=null?a.concat([e]):null,dc(4,4,Yp.bind(null,n,e),a)}function Hf(){}function Xp(e,n){var a=Ve();n=n===void 0?null:n;var o=a.memoizedState;return n!==null&&Mf(n,o[1])?o[0]:(a.memoizedState=[e,n],e)}function $p(e,n){var a=Ve();n=n===void 0?null:n;var o=a.memoizedState;if(n!==null&&Mf(n,o[1]))return o[0];if(o=e(),sa){Sn(!0);try{e()}finally{Sn(!1)}}return a.memoizedState=[o,n],o}function Ff(e,n,a){return a===void 0||(ds&1073741824)!==0&&(jt&261930)===0?e.memoizedState=n:(e.memoizedState=a,e=Zy(),Dt.lanes|=e,er|=e,a)}function Zp(e,n,a,o){return Ln(a,n)?a:Xa.current!==null?(e=Ff(e,a,o),Ln(e,n)||(Be=!0),e):(ds&42)===0||(ds&1073741824)!==0&&(jt&261930)===0?(Be=!0,e.memoizedState=a):(e=Zy(),Dt.lanes|=e,er|=e,n)}function Jp(e,n,a,o,h){var f=at.p;at.p=f!==0&&8>f?f:8;var g=G.T,E={};G.T=E,Yf(e,!1,n,a);try{var x=h(),z=G.S;if(z!==null&&z(E,x),x!==null&&typeof x=="object"&&typeof x.then=="function"){var Q=k1(x,o);Tl(e,n,Q,qn(e))}else Tl(e,n,o,qn(e))}catch($){Tl(e,n,{then:function(){},status:"rejected",reason:$},qn())}finally{at.p=f,g!==null&&E.types!==null&&(g.types=E.types),G.T=g}}function H1(){}function Gf(e,n,a,o){if(e.tag!==5)throw Error(r(476));var h=Wp(e).queue;Jp(e,h,n,pt,a===null?H1:function(){return ty(e),a(o)})}function Wp(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:pt,baseState:pt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ms,lastRenderedState:pt},next:null};var a={};return n.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ms,lastRenderedState:a},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function ty(e){var n=Wp(e);n.next===null&&(n=e.alternate.memoizedState),Tl(e,n.next.queue,{},qn())}function Qf(){return rn(Pl)}function ey(){return Ve().memoizedState}function ny(){return Ve().memoizedState}function F1(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var a=qn();e=Xs(a);var o=$s(n,e,a);o!==null&&(Nn(o,n,a),pl(o,n,a)),n={cache:Tf()},e.payload=n;return}n=n.return}}function G1(e,n,a){var o=qn();a={lane:o,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},mc(e)?sy(n,a):(a=cf(e,n,a,o),a!==null&&(Nn(a,e,o),ry(a,n,o)))}function iy(e,n,a){var o=qn();Tl(e,n,a,o)}function Tl(e,n,a,o){var h={lane:o,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(mc(e))sy(n,h);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var g=n.lastRenderedState,E=f(g,a);if(h.hasEagerState=!0,h.eagerState=E,Ln(E,g))return Ku(e,n,h,0),pe===null&&Yu(),!1}catch{}finally{}if(a=cf(e,n,h,o),a!==null)return Nn(a,e,o),ry(a,n,o),!0}return!1}function Yf(e,n,a,o){if(o={lane:2,revertLane:wd(),gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},mc(e)){if(n)throw Error(r(479))}else n=cf(e,a,o,2),n!==null&&Nn(n,e,2)}function mc(e){var n=e.alternate;return e===Dt||n!==null&&n===Dt}function sy(e,n){$a=oc=!0;var a=e.pending;a===null?n.next=n:(n.next=a.next,a.next=n),e.pending=n}function ry(e,n,a){if((a&4194048)!==0){var o=n.lanes;o&=e.pendingLanes,a|=o,n.lanes=a,kr(e,a)}}var Al={readContext:rn,use:cc,useCallback:Ce,useContext:Ce,useEffect:Ce,useImperativeHandle:Ce,useLayoutEffect:Ce,useInsertionEffect:Ce,useMemo:Ce,useReducer:Ce,useRef:Ce,useState:Ce,useDebugValue:Ce,useDeferredValue:Ce,useTransition:Ce,useSyncExternalStore:Ce,useId:Ce,useHostTransitionStatus:Ce,useFormState:Ce,useActionState:Ce,useOptimistic:Ce,useMemoCache:Ce,useCacheRefresh:Ce};Al.useEffectEvent=Ce;var ay={readContext:rn,use:cc,useCallback:function(e,n){return vn().memoizedState=[e,n===void 0?null:n],e},useContext:rn,useEffect:Hp,useImperativeHandle:function(e,n,a){a=a!=null?a.concat([e]):null,fc(4194308,4,Yp.bind(null,n,e),a)},useLayoutEffect:function(e,n){return fc(4194308,4,e,n)},useInsertionEffect:function(e,n){fc(4,2,e,n)},useMemo:function(e,n){var a=vn();n=n===void 0?null:n;var o=e();if(sa){Sn(!0);try{e()}finally{Sn(!1)}}return a.memoizedState=[o,n],o},useReducer:function(e,n,a){var o=vn();if(a!==void 0){var h=a(n);if(sa){Sn(!0);try{a(n)}finally{Sn(!1)}}}else h=n;return o.memoizedState=o.baseState=h,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:h},o.queue=e,e=e.dispatch=G1.bind(null,Dt,e),[o.memoizedState,e]},useRef:function(e){var n=vn();return e={current:e},n.memoizedState=e},useState:function(e){e=zf(e);var n=e.queue,a=iy.bind(null,Dt,n);return n.dispatch=a,[e.memoizedState,a]},useDebugValue:Hf,useDeferredValue:function(e,n){var a=vn();return Ff(a,e,n)},useTransition:function(){var e=zf(!1);return e=Jp.bind(null,Dt,e.queue,!0,!1),vn().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,a){var o=Dt,h=vn();if(Gt){if(a===void 0)throw Error(r(407));a=a()}else{if(a=n(),pe===null)throw Error(r(349));(jt&127)!==0||Ip(o,n,a)}h.memoizedState=a;var f={value:a,getSnapshot:n};return h.queue=f,Hp(Cp.bind(null,o,f,e),[e]),o.flags|=2048,Ja(9,{destroy:void 0},xp.bind(null,o,f,a,n),null),a},useId:function(){var e=vn(),n=pe.identifierPrefix;if(Gt){var a=zi,o=ji;a=(o&~(1<<32-_e(o)-1)).toString(32)+a,n="_"+n+"R_"+a,a=lc++,0<a&&(n+="H"+a.toString(32)),n+="_"}else a=P1++,n="_"+n+"r_"+a.toString(32)+"_";return e.memoizedState=n},useHostTransitionStatus:Qf,useFormState:Pp,useActionState:Pp,useOptimistic:function(e){var n=vn();n.memoizedState=n.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=a,n=Yf.bind(null,Dt,!0,a),a.dispatch=n,[e,n]},useMemoCache:kf,useCacheRefresh:function(){return vn().memoizedState=F1.bind(null,Dt)},useEffectEvent:function(e){var n=vn(),a={impl:e};return n.memoizedState=a,function(){if((ee&2)!==0)throw Error(r(440));return a.impl.apply(void 0,arguments)}}},Kf={readContext:rn,use:cc,useCallback:Xp,useContext:rn,useEffect:qf,useImperativeHandle:Kp,useInsertionEffect:Gp,useLayoutEffect:Qp,useMemo:$p,useReducer:hc,useRef:qp,useState:function(){return hc(ms)},useDebugValue:Hf,useDeferredValue:function(e,n){var a=Ve();return Zp(a,ue.memoizedState,e,n)},useTransition:function(){var e=hc(ms)[0],n=Ve().memoizedState;return[typeof e=="boolean"?e:El(e),n]},useSyncExternalStore:Rp,useId:ey,useHostTransitionStatus:Qf,useFormState:jp,useActionState:jp,useOptimistic:function(e,n){var a=Ve();return Mp(a,ue,e,n)},useMemoCache:kf,useCacheRefresh:ny};Kf.useEffectEvent=Fp;var oy={readContext:rn,use:cc,useCallback:Xp,useContext:rn,useEffect:qf,useImperativeHandle:Kp,useInsertionEffect:Gp,useLayoutEffect:Qp,useMemo:$p,useReducer:jf,useRef:qp,useState:function(){return jf(ms)},useDebugValue:Hf,useDeferredValue:function(e,n){var a=Ve();return ue===null?Ff(a,e,n):Zp(a,ue.memoizedState,e,n)},useTransition:function(){var e=jf(ms)[0],n=Ve().memoizedState;return[typeof e=="boolean"?e:El(e),n]},useSyncExternalStore:Rp,useId:ey,useHostTransitionStatus:Qf,useFormState:Bp,useActionState:Bp,useOptimistic:function(e,n){var a=Ve();return ue!==null?Mp(a,ue,e,n):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:kf,useCacheRefresh:ny};oy.useEffectEvent=Fp;function Xf(e,n,a,o){n=e.memoizedState,a=a(o,n),a=a==null?n:b({},n,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var $f={enqueueSetState:function(e,n,a){e=e._reactInternals;var o=qn(),h=Xs(o);h.payload=n,a!=null&&(h.callback=a),n=$s(e,h,o),n!==null&&(Nn(n,e,o),pl(n,e,o))},enqueueReplaceState:function(e,n,a){e=e._reactInternals;var o=qn(),h=Xs(o);h.tag=1,h.payload=n,a!=null&&(h.callback=a),n=$s(e,h,o),n!==null&&(Nn(n,e,o),pl(n,e,o))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var a=qn(),o=Xs(a);o.tag=2,n!=null&&(o.callback=n),n=$s(e,o,a),n!==null&&(Nn(n,e,a),pl(n,e,a))}};function ly(e,n,a,o,h,f,g){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(o,f,g):n.prototype&&n.prototype.isPureReactComponent?!ll(a,o)||!ll(h,f):!0}function uy(e,n,a,o){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(a,o),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(a,o),n.state!==e&&$f.enqueueReplaceState(n,n.state,null)}function ra(e,n){var a=n;if("ref"in n){a={};for(var o in n)o!=="ref"&&(a[o]=n[o])}if(e=e.defaultProps){a===n&&(a=b({},a));for(var h in e)a[h]===void 0&&(a[h]=e[h])}return a}function cy(e){Qu(e)}function hy(e){console.error(e)}function fy(e){Qu(e)}function gc(e,n){try{var a=e.onUncaughtError;a(n.value,{componentStack:n.stack})}catch(o){setTimeout(function(){throw o})}}function dy(e,n,a){try{var o=e.onCaughtError;o(a.value,{componentStack:a.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Zf(e,n,a){return a=Xs(a),a.tag=3,a.payload={element:null},a.callback=function(){gc(e,n)},a}function my(e){return e=Xs(e),e.tag=3,e}function gy(e,n,a,o){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var f=o.value;e.payload=function(){return h(f)},e.callback=function(){dy(n,a,o)}}var g=a.stateNode;g!==null&&typeof g.componentDidCatch=="function"&&(e.callback=function(){dy(n,a,o),typeof h!="function"&&(nr===null?nr=new Set([this]):nr.add(this));var E=o.stack;this.componentDidCatch(o.value,{componentStack:E!==null?E:""})})}function Q1(e,n,a,o,h){if(a.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(n=a.alternate,n!==null&&Fa(n,a,h,!0),a=Pn.current,a!==null){switch(a.tag){case 31:case 13:return ai===null?Ic():a.alternate===null&&Ne===0&&(Ne=3),a.flags&=-257,a.flags|=65536,a.lanes=h,o===nc?a.flags|=16384:(n=a.updateQueue,n===null?a.updateQueue=new Set([o]):n.add(o),Ad(e,o,h)),!1;case 22:return a.flags|=65536,o===nc?a.flags|=16384:(n=a.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([o])},a.updateQueue=n):(a=n.retryQueue,a===null?n.retryQueue=new Set([o]):a.add(o)),Ad(e,o,h)),!1}throw Error(r(435,a.tag))}return Ad(e,o,h),Ic(),!1}if(Gt)return n=Pn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,o!==pf&&(e=Error(r(422),{cause:o}),hl(ni(e,a)))):(o!==pf&&(n=Error(r(423),{cause:o}),hl(ni(n,a))),e=e.current.alternate,e.flags|=65536,h&=-h,e.lanes|=h,o=ni(o,a),h=Zf(e.stateNode,o,h),If(e,h),Ne!==4&&(Ne=2)),!1;var f=Error(r(520),{cause:o});if(f=ni(f,a),Nl===null?Nl=[f]:Nl.push(f),Ne!==4&&(Ne=2),n===null)return!0;o=ni(o,a),a=n;do{switch(a.tag){case 3:return a.flags|=65536,e=h&-h,a.lanes|=e,e=Zf(a.stateNode,o,e),If(a,e),!1;case 1:if(n=a.type,f=a.stateNode,(a.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(nr===null||!nr.has(f))))return a.flags|=65536,h&=-h,a.lanes|=h,h=my(h),gy(h,e,a,o),If(a,h),!1}a=a.return}while(a!==null);return!1}var Jf=Error(r(461)),Be=!1;function an(e,n,a,o){n.child=e===null?vp(n,null,a,o):ia(n,e.child,a,o)}function py(e,n,a,o,h){a=a.render;var f=n.ref;if("ref"in o){var g={};for(var E in o)E!=="ref"&&(g[E]=o[E])}else g=o;return Wr(n),o=Of(e,n,a,g,f,h),E=Vf(),e!==null&&!Be?(Uf(e,n,h),gs(e,n,h)):(Gt&&E&&mf(n),n.flags|=1,an(e,n,o,h),n.child)}function yy(e,n,a,o,h){if(e===null){var f=a.type;return typeof f=="function"&&!hf(f)&&f.defaultProps===void 0&&a.compare===null?(n.tag=15,n.type=f,_y(e,n,f,o,h)):(e=$u(a.type,null,o,n,n.mode,h),e.ref=n.ref,e.return=n,n.child=e)}if(f=e.child,!ad(e,h)){var g=f.memoizedProps;if(a=a.compare,a=a!==null?a:ll,a(g,o)&&e.ref===n.ref)return gs(e,n,h)}return n.flags|=1,e=us(f,o),e.ref=n.ref,e.return=n,n.child=e}function _y(e,n,a,o,h){if(e!==null){var f=e.memoizedProps;if(ll(f,o)&&e.ref===n.ref)if(Be=!1,n.pendingProps=o=f,ad(e,h))(e.flags&131072)!==0&&(Be=!0);else return n.lanes=e.lanes,gs(e,n,h)}return Wf(e,n,a,o,h)}function vy(e,n,a,o){var h=o.children,f=e!==null?e.memoizedState:null;if(e===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|a:a,e!==null){for(o=n.child=e.child,h=0;o!==null;)h=h|o.lanes|o.childLanes,o=o.sibling;o=h&~f}else o=0,n.child=null;return Ey(e,n,f,a,o)}if((a&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&tc(n,f!==null?f.cachePool:null),f!==null?Ap(n,f):Cf(),Sp(n);else return o=n.lanes=536870912,Ey(e,n,f!==null?f.baseLanes|a:a,a,o)}else f!==null?(tc(n,f.cachePool),Ap(n,f),Js(),n.memoizedState=null):(e!==null&&tc(n,null),Cf(),Js());return an(e,n,h,a),n.child}function Sl(e,n){return e!==null&&e.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function Ey(e,n,a,o,h){var f=Sf();return f=f===null?null:{parent:je._currentValue,pool:f},n.memoizedState={baseLanes:a,cachePool:f},e!==null&&tc(n,null),Cf(),Sp(n),e!==null&&Fa(e,n,o,!0),n.childLanes=h,null}function pc(e,n){return n=_c({mode:n.mode,children:n.children},e.mode),n.ref=e.ref,e.child=n,n.return=e,n}function Ty(e,n,a){return ia(n,e.child,null,a),e=pc(n,n.pendingProps),e.flags|=2,jn(n),n.memoizedState=null,e}function Y1(e,n,a){var o=n.pendingProps,h=(n.flags&128)!==0;if(n.flags&=-129,e===null){if(Gt){if(o.mode==="hidden")return e=pc(n,o),n.lanes=536870912,Sl(null,e);if(Df(n),(e=ve)?(e=O_(e,ri),e=e!==null&&e.data==="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:Fs!==null?{id:ji,overflow:zi}:null,retryLane:536870912,hydrationErrors:null},a=sp(e),a.return=n,n.child=a,sn=n,ve=null)):e=null,e===null)throw Qs(n);return n.lanes=536870912,null}return pc(n,o)}var f=e.memoizedState;if(f!==null){var g=f.dehydrated;if(Df(n),h)if(n.flags&256)n.flags&=-257,n=Ty(e,n,a);else if(n.memoizedState!==null)n.child=e.child,n.flags|=128,n=null;else throw Error(r(558));else if(Be||Fa(e,n,a,!1),h=(a&e.childLanes)!==0,Be||h){if(o=pe,o!==null&&(g=D(o,a),g!==0&&g!==f.retryLane))throw f.retryLane=g,Xr(e,g),Nn(o,e,g),Jf;Ic(),n=Ty(e,n,a)}else e=f.treeContext,ve=oi(g.nextSibling),sn=n,Gt=!0,Gs=null,ri=!1,e!==null&&op(n,e),n=pc(n,o),n.flags|=4096;return n}return e=us(e.child,{mode:o.mode,children:o.children}),e.ref=n.ref,n.child=e,e.return=n,e}function yc(e,n){var a=n.ref;if(a===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(r(284));(e===null||e.ref!==a)&&(n.flags|=4194816)}}function Wf(e,n,a,o,h){return Wr(n),a=Of(e,n,a,o,void 0,h),o=Vf(),e!==null&&!Be?(Uf(e,n,h),gs(e,n,h)):(Gt&&o&&mf(n),n.flags|=1,an(e,n,a,h),n.child)}function Ay(e,n,a,o,h,f){return Wr(n),n.updateQueue=null,a=wp(n,o,a,h),bp(e),o=Vf(),e!==null&&!Be?(Uf(e,n,f),gs(e,n,f)):(Gt&&o&&mf(n),n.flags|=1,an(e,n,a,f),n.child)}function Sy(e,n,a,o,h){if(Wr(n),n.stateNode===null){var f=za,g=a.contextType;typeof g=="object"&&g!==null&&(f=rn(g)),f=new a(o,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=$f,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=o,f.state=n.memoizedState,f.refs={},wf(n),g=a.contextType,f.context=typeof g=="object"&&g!==null?rn(g):za,f.state=n.memoizedState,g=a.getDerivedStateFromProps,typeof g=="function"&&(Xf(n,a,g,o),f.state=n.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(g=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),g!==f.state&&$f.enqueueReplaceState(f,f.state,null),_l(n,o,f,h),yl(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!0}else if(e===null){f=n.stateNode;var E=n.memoizedProps,x=ra(a,E);f.props=x;var z=f.context,Q=a.contextType;g=za,typeof Q=="object"&&Q!==null&&(g=rn(Q));var $=a.getDerivedStateFromProps;Q=typeof $=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,Q||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||z!==g)&&uy(n,f,o,g),Ks=!1;var B=n.memoizedState;f.state=B,_l(n,o,f,h),yl(),z=n.memoizedState,E||B!==z||Ks?(typeof $=="function"&&(Xf(n,a,$,o),z=n.memoizedState),(x=Ks||ly(n,a,x,o,B,z,g))?(Q||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=o,n.memoizedState=z),f.props=o,f.state=z,f.context=g,o=x):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!1)}else{f=n.stateNode,Rf(e,n),g=n.memoizedProps,Q=ra(a,g),f.props=Q,$=n.pendingProps,B=f.context,z=a.contextType,x=za,typeof z=="object"&&z!==null&&(x=rn(z)),E=a.getDerivedStateFromProps,(z=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(g!==$||B!==x)&&uy(n,f,o,x),Ks=!1,B=n.memoizedState,f.state=B,_l(n,o,f,h),yl();var H=n.memoizedState;g!==$||B!==H||Ks||e!==null&&e.dependencies!==null&&Ju(e.dependencies)?(typeof E=="function"&&(Xf(n,a,E,o),H=n.memoizedState),(Q=Ks||ly(n,a,Q,o,B,H,x)||e!==null&&e.dependencies!==null&&Ju(e.dependencies))?(z||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(o,H,x),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(o,H,x)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||g===e.memoizedProps&&B===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&B===e.memoizedState||(n.flags|=1024),n.memoizedProps=o,n.memoizedState=H),f.props=o,f.state=H,f.context=x,o=Q):(typeof f.componentDidUpdate!="function"||g===e.memoizedProps&&B===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&B===e.memoizedState||(n.flags|=1024),o=!1)}return f=o,yc(e,n),o=(n.flags&128)!==0,f||o?(f=n.stateNode,a=o&&typeof a.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,e!==null&&o?(n.child=ia(n,e.child,null,h),n.child=ia(n,null,a,h)):an(e,n,a,h),n.memoizedState=f.state,e=n.child):e=gs(e,n,h),e}function by(e,n,a,o){return Zr(),n.flags|=256,an(e,n,a,o),n.child}var td={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function ed(e){return{baseLanes:e,cachePool:dp()}}function nd(e,n,a){return e=e!==null?e.childLanes&~a:0,n&&(e|=Bn),e}function wy(e,n,a){var o=n.pendingProps,h=!1,f=(n.flags&128)!==0,g;if((g=f)||(g=e!==null&&e.memoizedState===null?!1:(Oe.current&2)!==0),g&&(h=!0,n.flags&=-129),g=(n.flags&32)!==0,n.flags&=-33,e===null){if(Gt){if(h?Zs(n):Js(),(e=ve)?(e=O_(e,ri),e=e!==null&&e.data!=="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:Fs!==null?{id:ji,overflow:zi}:null,retryLane:536870912,hydrationErrors:null},a=sp(e),a.return=n,n.child=a,sn=n,ve=null)):e=null,e===null)throw Qs(n);return Pd(e)?n.lanes=32:n.lanes=536870912,null}var E=o.children;return o=o.fallback,h?(Js(),h=n.mode,E=_c({mode:"hidden",children:E},h),o=$r(o,h,a,null),E.return=n,o.return=n,E.sibling=o,n.child=E,o=n.child,o.memoizedState=ed(a),o.childLanes=nd(e,g,a),n.memoizedState=td,Sl(null,o)):(Zs(n),id(n,E))}var x=e.memoizedState;if(x!==null&&(E=x.dehydrated,E!==null)){if(f)n.flags&256?(Zs(n),n.flags&=-257,n=sd(e,n,a)):n.memoizedState!==null?(Js(),n.child=e.child,n.flags|=128,n=null):(Js(),E=o.fallback,h=n.mode,o=_c({mode:"visible",children:o.children},h),E=$r(E,h,a,null),E.flags|=2,o.return=n,E.return=n,o.sibling=E,n.child=o,ia(n,e.child,null,a),o=n.child,o.memoizedState=ed(a),o.childLanes=nd(e,g,a),n.memoizedState=td,n=Sl(null,o));else if(Zs(n),Pd(E)){if(g=E.nextSibling&&E.nextSibling.dataset,g)var z=g.dgst;g=z,o=Error(r(419)),o.stack="",o.digest=g,hl({value:o,source:null,stack:null}),n=sd(e,n,a)}else if(Be||Fa(e,n,a,!1),g=(a&e.childLanes)!==0,Be||g){if(g=pe,g!==null&&(o=D(g,a),o!==0&&o!==x.retryLane))throw x.retryLane=o,Xr(e,o),Nn(g,e,o),Jf;kd(E)||Ic(),n=sd(e,n,a)}else kd(E)?(n.flags|=192,n.child=e.child,n=null):(e=x.treeContext,ve=oi(E.nextSibling),sn=n,Gt=!0,Gs=null,ri=!1,e!==null&&op(n,e),n=id(n,o.children),n.flags|=4096);return n}return h?(Js(),E=o.fallback,h=n.mode,x=e.child,z=x.sibling,o=us(x,{mode:"hidden",children:o.children}),o.subtreeFlags=x.subtreeFlags&65011712,z!==null?E=us(z,E):(E=$r(E,h,a,null),E.flags|=2),E.return=n,o.return=n,o.sibling=E,n.child=o,Sl(null,o),o=n.child,E=e.child.memoizedState,E===null?E=ed(a):(h=E.cachePool,h!==null?(x=je._currentValue,h=h.parent!==x?{parent:x,pool:x}:h):h=dp(),E={baseLanes:E.baseLanes|a,cachePool:h}),o.memoizedState=E,o.childLanes=nd(e,g,a),n.memoizedState=td,Sl(e.child,o)):(Zs(n),a=e.child,e=a.sibling,a=us(a,{mode:"visible",children:o.children}),a.return=n,a.sibling=null,e!==null&&(g=n.deletions,g===null?(n.deletions=[e],n.flags|=16):g.push(e)),n.child=a,n.memoizedState=null,a)}function id(e,n){return n=_c({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function _c(e,n){return e=kn(22,e,null,n),e.lanes=0,e}function sd(e,n,a){return ia(n,e.child,null,a),e=id(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function Ry(e,n,a){e.lanes|=n;var o=e.alternate;o!==null&&(o.lanes|=n),vf(e.return,n,a)}function rd(e,n,a,o,h,f){var g=e.memoizedState;g===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:o,tail:a,tailMode:h,treeForkCount:f}:(g.isBackwards=n,g.rendering=null,g.renderingStartTime=0,g.last=o,g.tail=a,g.tailMode=h,g.treeForkCount=f)}function Iy(e,n,a){var o=n.pendingProps,h=o.revealOrder,f=o.tail;o=o.children;var g=Oe.current,E=(g&2)!==0;if(E?(g=g&1|2,n.flags|=128):g&=1,it(Oe,g),an(e,n,o,a),o=Gt?cl:0,!E&&e!==null&&(e.flags&128)!==0)t:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Ry(e,a,n);else if(e.tag===19)Ry(e,a,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break t;for(;e.sibling===null;){if(e.return===null||e.return===n)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(h){case"forwards":for(a=n.child,h=null;a!==null;)e=a.alternate,e!==null&&ac(e)===null&&(h=a),a=a.sibling;a=h,a===null?(h=n.child,n.child=null):(h=a.sibling,a.sibling=null),rd(n,!1,h,a,f,o);break;case"backwards":case"unstable_legacy-backwards":for(a=null,h=n.child,n.child=null;h!==null;){if(e=h.alternate,e!==null&&ac(e)===null){n.child=h;break}e=h.sibling,h.sibling=a,a=h,h=e}rd(n,!0,a,null,f,o);break;case"together":rd(n,!1,null,null,void 0,o);break;default:n.memoizedState=null}return n.child}function gs(e,n,a){if(e!==null&&(n.dependencies=e.dependencies),er|=n.lanes,(a&n.childLanes)===0)if(e!==null){if(Fa(e,n,a,!1),(a&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(r(153));if(n.child!==null){for(e=n.child,a=us(e,e.pendingProps),n.child=a,a.return=n;e.sibling!==null;)e=e.sibling,a=a.sibling=us(e,e.pendingProps),a.return=n;a.sibling=null}return n.child}function ad(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&Ju(e)))}function K1(e,n,a){switch(n.tag){case 3:me(n,n.stateNode.containerInfo),Ys(n,je,e.memoizedState.cache),Zr();break;case 27:case 5:Qn(n);break;case 4:me(n,n.stateNode.containerInfo);break;case 10:Ys(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,Df(n),null;break;case 13:var o=n.memoizedState;if(o!==null)return o.dehydrated!==null?(Zs(n),n.flags|=128,null):(a&n.child.childLanes)!==0?wy(e,n,a):(Zs(n),e=gs(e,n,a),e!==null?e.sibling:null);Zs(n);break;case 19:var h=(e.flags&128)!==0;if(o=(a&n.childLanes)!==0,o||(Fa(e,n,a,!1),o=(a&n.childLanes)!==0),h){if(o)return Iy(e,n,a);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),it(Oe,Oe.current),o)break;return null;case 22:return n.lanes=0,vy(e,n,a,n.pendingProps);case 24:Ys(n,je,e.memoizedState.cache)}return gs(e,n,a)}function xy(e,n,a){if(e!==null)if(e.memoizedProps!==n.pendingProps)Be=!0;else{if(!ad(e,a)&&(n.flags&128)===0)return Be=!1,K1(e,n,a);Be=(e.flags&131072)!==0}else Be=!1,Gt&&(n.flags&1048576)!==0&&ap(n,cl,n.index);switch(n.lanes=0,n.tag){case 16:t:{var o=n.pendingProps;if(e=ea(n.elementType),n.type=e,typeof e=="function")hf(e)?(o=ra(e,o),n.tag=1,n=Sy(null,n,e,o,a)):(n.tag=0,n=Wf(null,n,e,o,a));else{if(e!=null){var h=e.$$typeof;if(h===$t){n.tag=11,n=py(null,n,e,o,a);break t}else if(h===C){n.tag=14,n=yy(null,n,e,o,a);break t}}throw n=de(e)||e,Error(r(306,n,""))}}return n;case 0:return Wf(e,n,n.type,n.pendingProps,a);case 1:return o=n.type,h=ra(o,n.pendingProps),Sy(e,n,o,h,a);case 3:t:{if(me(n,n.stateNode.containerInfo),e===null)throw Error(r(387));o=n.pendingProps;var f=n.memoizedState;h=f.element,Rf(e,n),_l(n,o,null,a);var g=n.memoizedState;if(o=g.cache,Ys(n,je,o),o!==f.cache&&Ef(n,[je],a,!0),yl(),o=g.element,f.isDehydrated)if(f={element:o,isDehydrated:!1,cache:g.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=by(e,n,o,a);break t}else if(o!==h){h=ni(Error(r(424)),n),hl(h),n=by(e,n,o,a);break t}else{switch(e=n.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(ve=oi(e.firstChild),sn=n,Gt=!0,Gs=null,ri=!0,a=vp(n,null,o,a),n.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Zr(),o===h){n=gs(e,n,a);break t}an(e,n,o,a)}n=n.child}return n;case 26:return yc(e,n),e===null?(a=j_(n.type,null,n.pendingProps,null))?n.memoizedState=a:Gt||(a=n.type,e=n.pendingProps,o=Vc(xt.current).createElement(a),o[vt]=n,o[ot]=e,on(o,a,e),ke(o),n.stateNode=o):n.memoizedState=j_(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return Qn(n),e===null&&Gt&&(o=n.stateNode=L_(n.type,n.pendingProps,xt.current),sn=n,ri=!0,h=ve,ar(n.type)?(jd=h,ve=oi(o.firstChild)):ve=h),an(e,n,n.pendingProps.children,a),yc(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&Gt&&((h=o=ve)&&(o=bA(o,n.type,n.pendingProps,ri),o!==null?(n.stateNode=o,sn=n,ve=oi(o.firstChild),ri=!1,h=!0):h=!1),h||Qs(n)),Qn(n),h=n.type,f=n.pendingProps,g=e!==null?e.memoizedProps:null,o=f.children,Vd(h,f)?o=null:g!==null&&Vd(h,g)&&(n.flags|=32),n.memoizedState!==null&&(h=Of(e,n,j1,null,null,a),Pl._currentValue=h),yc(e,n),an(e,n,o,a),n.child;case 6:return e===null&&Gt&&((e=a=ve)&&(a=wA(a,n.pendingProps,ri),a!==null?(n.stateNode=a,sn=n,ve=null,e=!0):e=!1),e||Qs(n)),null;case 13:return wy(e,n,a);case 4:return me(n,n.stateNode.containerInfo),o=n.pendingProps,e===null?n.child=ia(n,null,o,a):an(e,n,o,a),n.child;case 11:return py(e,n,n.type,n.pendingProps,a);case 7:return an(e,n,n.pendingProps,a),n.child;case 8:return an(e,n,n.pendingProps.children,a),n.child;case 12:return an(e,n,n.pendingProps.children,a),n.child;case 10:return o=n.pendingProps,Ys(n,n.type,o.value),an(e,n,o.children,a),n.child;case 9:return h=n.type._context,o=n.pendingProps.children,Wr(n),h=rn(h),o=o(h),n.flags|=1,an(e,n,o,a),n.child;case 14:return yy(e,n,n.type,n.pendingProps,a);case 15:return _y(e,n,n.type,n.pendingProps,a);case 19:return Iy(e,n,a);case 31:return Y1(e,n,a);case 22:return vy(e,n,a,n.pendingProps);case 24:return Wr(n),o=rn(je),e===null?(h=Sf(),h===null&&(h=pe,f=Tf(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=a),h=f),n.memoizedState={parent:o,cache:h},wf(n),Ys(n,je,h)):((e.lanes&a)!==0&&(Rf(e,n),_l(n,null,null,a),yl()),h=e.memoizedState,f=n.memoizedState,h.parent!==o?(h={parent:o,cache:o},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),Ys(n,je,o)):(o=f.cache,Ys(n,je,o),o!==h.cache&&Ef(n,[je],a,!0))),an(e,n,n.pendingProps.children,a),n.child;case 29:throw n.pendingProps}throw Error(r(156,n.tag))}function ps(e){e.flags|=4}function od(e,n,a,o,h){if((n=(e.mode&32)!==0)&&(n=!1),n){if(e.flags|=16777216,(h&335544128)===h)if(e.stateNode.complete)e.flags|=8192;else if(e_())e.flags|=8192;else throw na=nc,bf}else e.flags&=-16777217}function Cy(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!F_(n))if(e_())e.flags|=8192;else throw na=nc,bf}function vc(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?ba():536870912,e.lanes|=n,no|=n)}function bl(e,n){if(!Gt)switch(e.tailMode){case"hidden":n=e.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var o=null;a!==null;)a.alternate!==null&&(o=a),a=a.sibling;o===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:o.sibling=null}}function Ee(e){var n=e.alternate!==null&&e.alternate.child===e.child,a=0,o=0;if(n)for(var h=e.child;h!==null;)a|=h.lanes|h.childLanes,o|=h.subtreeFlags&65011712,o|=h.flags&65011712,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)a|=h.lanes|h.childLanes,o|=h.subtreeFlags,o|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=o,e.childLanes=a,n}function X1(e,n,a){var o=n.pendingProps;switch(gf(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ee(n),null;case 1:return Ee(n),null;case 3:return a=n.stateNode,o=null,e!==null&&(o=e.memoizedState.cache),n.memoizedState.cache!==o&&(n.flags|=2048),fs(je),ge(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(Ha(n)?ps(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,yf())),Ee(n),null;case 26:var h=n.type,f=n.memoizedState;return e===null?(ps(n),f!==null?(Ee(n),Cy(n,f)):(Ee(n),od(n,h,null,o,a))):f?f!==e.memoizedState?(ps(n),Ee(n),Cy(n,f)):(Ee(n),n.flags&=-16777217):(e=e.memoizedProps,e!==o&&ps(n),Ee(n),od(n,h,e,o,a)),null;case 27:if(fn(n),a=xt.current,h=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&ps(n);else{if(!o){if(n.stateNode===null)throw Error(r(166));return Ee(n),null}e=W.current,Ha(n)?lp(n):(e=L_(h,o,a),n.stateNode=e,ps(n))}return Ee(n),null;case 5:if(fn(n),h=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&ps(n);else{if(!o){if(n.stateNode===null)throw Error(r(166));return Ee(n),null}if(f=W.current,Ha(n))lp(n);else{var g=Vc(xt.current);switch(f){case 1:f=g.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:f=g.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":f=g.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":f=g.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":f=g.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof o.is=="string"?g.createElement("select",{is:o.is}):g.createElement("select"),o.multiple?f.multiple=!0:o.size&&(f.size=o.size);break;default:f=typeof o.is=="string"?g.createElement(h,{is:o.is}):g.createElement(h)}}f[vt]=n,f[ot]=o;t:for(g=n.child;g!==null;){if(g.tag===5||g.tag===6)f.appendChild(g.stateNode);else if(g.tag!==4&&g.tag!==27&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===n)break t;for(;g.sibling===null;){if(g.return===null||g.return===n)break t;g=g.return}g.sibling.return=g.return,g=g.sibling}n.stateNode=f;t:switch(on(f,h,o),h){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break t;case"img":o=!0;break t;default:o=!1}o&&ps(n)}}return Ee(n),od(n,n.type,e===null?null:e.memoizedProps,n.pendingProps,a),null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==o&&ps(n);else{if(typeof o!="string"&&n.stateNode===null)throw Error(r(166));if(e=xt.current,Ha(n)){if(e=n.stateNode,a=n.memoizedProps,o=null,h=sn,h!==null)switch(h.tag){case 27:case 5:o=h.memoizedProps}e[vt]=n,e=!!(e.nodeValue===a||o!==null&&o.suppressHydrationWarning===!0||w_(e.nodeValue,a)),e||Qs(n,!0)}else e=Vc(e).createTextNode(o),e[vt]=n,n.stateNode=e}return Ee(n),null;case 31:if(a=n.memoizedState,e===null||e.memoizedState!==null){if(o=Ha(n),a!==null){if(e===null){if(!o)throw Error(r(318));if(e=n.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(557));e[vt]=n}else Zr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;Ee(n),e=!1}else a=yf(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=a),e=!0;if(!e)return n.flags&256?(jn(n),n):(jn(n),null);if((n.flags&128)!==0)throw Error(r(558))}return Ee(n),null;case 13:if(o=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(h=Ha(n),o!==null&&o.dehydrated!==null){if(e===null){if(!h)throw Error(r(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(r(317));h[vt]=n}else Zr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;Ee(n),h=!1}else h=yf(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(jn(n),n):(jn(n),null)}return jn(n),(n.flags&128)!==0?(n.lanes=a,n):(a=o!==null,e=e!==null&&e.memoizedState!==null,a&&(o=n.child,h=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(h=o.alternate.memoizedState.cachePool.pool),f=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),f!==h&&(o.flags|=2048)),a!==e&&a&&(n.child.flags|=8192),vc(n,n.updateQueue),Ee(n),null);case 4:return ge(),e===null&&Cd(n.stateNode.containerInfo),Ee(n),null;case 10:return fs(n.type),Ee(n),null;case 19:if(F(Oe),o=n.memoizedState,o===null)return Ee(n),null;if(h=(n.flags&128)!==0,f=o.rendering,f===null)if(h)bl(o,!1);else{if(Ne!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(f=ac(e),f!==null){for(n.flags|=128,bl(o,!1),e=f.updateQueue,n.updateQueue=e,vc(n,e),n.subtreeFlags=0,e=a,a=n.child;a!==null;)ip(a,e),a=a.sibling;return it(Oe,Oe.current&1|2),Gt&&cs(n,o.treeForkCount),n.child}e=e.sibling}o.tail!==null&&en()>bc&&(n.flags|=128,h=!0,bl(o,!1),n.lanes=4194304)}else{if(!h)if(e=ac(f),e!==null){if(n.flags|=128,h=!0,e=e.updateQueue,n.updateQueue=e,vc(n,e),bl(o,!0),o.tail===null&&o.tailMode==="hidden"&&!f.alternate&&!Gt)return Ee(n),null}else 2*en()-o.renderingStartTime>bc&&a!==536870912&&(n.flags|=128,h=!0,bl(o,!1),n.lanes=4194304);o.isBackwards?(f.sibling=n.child,n.child=f):(e=o.last,e!==null?e.sibling=f:n.child=f,o.last=f)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=en(),e.sibling=null,a=Oe.current,it(Oe,h?a&1|2:a&1),Gt&&cs(n,o.treeForkCount),e):(Ee(n),null);case 22:case 23:return jn(n),Nf(),o=n.memoizedState!==null,e!==null?e.memoizedState!==null!==o&&(n.flags|=8192):o&&(n.flags|=8192),o?(a&536870912)!==0&&(n.flags&128)===0&&(Ee(n),n.subtreeFlags&6&&(n.flags|=8192)):Ee(n),a=n.updateQueue,a!==null&&vc(n,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),o=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),o!==a&&(n.flags|=2048),e!==null&&F(ta),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),n.memoizedState.cache!==a&&(n.flags|=2048),fs(je),Ee(n),null;case 25:return null;case 30:return null}throw Error(r(156,n.tag))}function $1(e,n){switch(gf(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return fs(je),ge(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return fn(n),null;case 31:if(n.memoizedState!==null){if(jn(n),n.alternate===null)throw Error(r(340));Zr()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 13:if(jn(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(r(340));Zr()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return F(Oe),null;case 4:return ge(),null;case 10:return fs(n.type),null;case 22:case 23:return jn(n),Nf(),e!==null&&F(ta),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return fs(je),null;case 25:return null;default:return null}}function Ny(e,n){switch(gf(n),n.tag){case 3:fs(je),ge();break;case 26:case 27:case 5:fn(n);break;case 4:ge();break;case 31:n.memoizedState!==null&&jn(n);break;case 13:jn(n);break;case 19:F(Oe);break;case 10:fs(n.type);break;case 22:case 23:jn(n),Nf(),e!==null&&F(ta);break;case 24:fs(je)}}function wl(e,n){try{var a=n.updateQueue,o=a!==null?a.lastEffect:null;if(o!==null){var h=o.next;a=h;do{if((a.tag&e)===e){o=void 0;var f=a.create,g=a.inst;o=f(),g.destroy=o}a=a.next}while(a!==h)}}catch(E){ae(n,n.return,E)}}function Ws(e,n,a){try{var o=n.updateQueue,h=o!==null?o.lastEffect:null;if(h!==null){var f=h.next;o=f;do{if((o.tag&e)===e){var g=o.inst,E=g.destroy;if(E!==void 0){g.destroy=void 0,h=n;var x=a,z=E;try{z()}catch(Q){ae(h,x,Q)}}}o=o.next}while(o!==f)}}catch(Q){ae(n,n.return,Q)}}function Dy(e){var n=e.updateQueue;if(n!==null){var a=e.stateNode;try{Tp(n,a)}catch(o){ae(e,e.return,o)}}}function My(e,n,a){a.props=ra(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(o){ae(e,n,o)}}function Rl(e,n){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var o=e.stateNode;break;case 30:o=e.stateNode;break;default:o=e.stateNode}typeof a=="function"?e.refCleanup=a(o):a.current=o}}catch(h){ae(e,n,h)}}function Bi(e,n){var a=e.ref,o=e.refCleanup;if(a!==null)if(typeof o=="function")try{o()}catch(h){ae(e,n,h)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){ae(e,n,h)}else a.current=null}function Oy(e){var n=e.type,a=e.memoizedProps,o=e.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":a.autoFocus&&o.focus();break t;case"img":a.src?o.src=a.src:a.srcSet&&(o.srcset=a.srcSet)}}catch(h){ae(e,e.return,h)}}function ld(e,n,a){try{var o=e.stateNode;_A(o,e.type,a,n),o[ot]=n}catch(h){ae(e,e.return,h)}}function Vy(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&ar(e.type)||e.tag===4}function ud(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||Vy(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&ar(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function cd(e,n,a){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,n):(n=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,n.appendChild(e),a=a._reactRootContainer,a!=null||n.onclick!==null||(n.onclick=fi));else if(o!==4&&(o===27&&ar(e.type)&&(a=e.stateNode,n=null),e=e.child,e!==null))for(cd(e,n,a),e=e.sibling;e!==null;)cd(e,n,a),e=e.sibling}function Ec(e,n,a){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?a.insertBefore(e,n):a.appendChild(e);else if(o!==4&&(o===27&&ar(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(Ec(e,n,a),e=e.sibling;e!==null;)Ec(e,n,a),e=e.sibling}function Uy(e){var n=e.stateNode,a=e.memoizedProps;try{for(var o=e.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);on(n,o,a),n[vt]=e,n[ot]=a}catch(f){ae(e,e.return,f)}}var ys=!1,qe=!1,hd=!1,Ly=typeof WeakSet=="function"?WeakSet:Set,Je=null;function Z1(e,n){if(e=e.containerInfo,Md=Bc,e=Kg(e),sf(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else t:{a=(a=e.ownerDocument)&&a.defaultView||window;var o=a.getSelection&&a.getSelection();if(o&&o.rangeCount!==0){a=o.anchorNode;var h=o.anchorOffset,f=o.focusNode;o=o.focusOffset;try{a.nodeType,f.nodeType}catch{a=null;break t}var g=0,E=-1,x=-1,z=0,Q=0,$=e,B=null;e:for(;;){for(var H;$!==a||h!==0&&$.nodeType!==3||(E=g+h),$!==f||o!==0&&$.nodeType!==3||(x=g+o),$.nodeType===3&&(g+=$.nodeValue.length),(H=$.firstChild)!==null;)B=$,$=H;for(;;){if($===e)break e;if(B===a&&++z===h&&(E=g),B===f&&++Q===o&&(x=g),(H=$.nextSibling)!==null)break;$=B,B=$.parentNode}$=H}a=E===-1||x===-1?null:{start:E,end:x}}else a=null}a=a||{start:0,end:0}}else a=null;for(Od={focusedElem:e,selectionRange:a},Bc=!1,Je=n;Je!==null;)if(n=Je,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,Je=e;else for(;Je!==null;){switch(n=Je,f=n.alternate,e=n.flags,n.tag){case 0:if((e&4)!==0&&(e=n.updateQueue,e=e!==null?e.events:null,e!==null))for(a=0;a<e.length;a++)h=e[a],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&f!==null){e=void 0,a=n,h=f.memoizedProps,f=f.memoizedState,o=a.stateNode;try{var ht=ra(a.type,h);e=o.getSnapshotBeforeUpdate(ht,f),o.__reactInternalSnapshotBeforeUpdate=e}catch(Et){ae(a,a.return,Et)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,a=e.nodeType,a===9)Ld(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Ld(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(r(163))}if(e=n.sibling,e!==null){e.return=n.return,Je=e;break}Je=n.return}}function ky(e,n,a){var o=a.flags;switch(a.tag){case 0:case 11:case 15:vs(e,a),o&4&&wl(5,a);break;case 1:if(vs(e,a),o&4)if(e=a.stateNode,n===null)try{e.componentDidMount()}catch(g){ae(a,a.return,g)}else{var h=ra(a.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(h,n,e.__reactInternalSnapshotBeforeUpdate)}catch(g){ae(a,a.return,g)}}o&64&&Dy(a),o&512&&Rl(a,a.return);break;case 3:if(vs(e,a),o&64&&(e=a.updateQueue,e!==null)){if(n=null,a.child!==null)switch(a.child.tag){case 27:case 5:n=a.child.stateNode;break;case 1:n=a.child.stateNode}try{Tp(e,n)}catch(g){ae(a,a.return,g)}}break;case 27:n===null&&o&4&&Uy(a);case 26:case 5:vs(e,a),n===null&&o&4&&Oy(a),o&512&&Rl(a,a.return);break;case 12:vs(e,a);break;case 31:vs(e,a),o&4&&zy(e,a);break;case 13:vs(e,a),o&4&&By(e,a),o&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=aA.bind(null,a),RA(e,a))));break;case 22:if(o=a.memoizedState!==null||ys,!o){n=n!==null&&n.memoizedState!==null||qe,h=ys;var f=qe;ys=o,(qe=n)&&!f?Es(e,a,(a.subtreeFlags&8772)!==0):vs(e,a),ys=h,qe=f}break;case 30:break;default:vs(e,a)}}function Py(e){var n=e.alternate;n!==null&&(e.alternate=null,Py(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&Ra(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Se=null,Rn=!1;function _s(e,n,a){for(a=a.child;a!==null;)jy(e,n,a),a=a.sibling}function jy(e,n,a){if(Ye&&typeof Ye.onCommitFiberUnmount=="function")try{Ye.onCommitFiberUnmount(An,a)}catch{}switch(a.tag){case 26:qe||Bi(a,n),_s(e,n,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:qe||Bi(a,n);var o=Se,h=Rn;ar(a.type)&&(Se=a.stateNode,Rn=!1),_s(e,n,a),Ul(a.stateNode),Se=o,Rn=h;break;case 5:qe||Bi(a,n);case 6:if(o=Se,h=Rn,Se=null,_s(e,n,a),Se=o,Rn=h,Se!==null)if(Rn)try{(Se.nodeType===9?Se.body:Se.nodeName==="HTML"?Se.ownerDocument.body:Se).removeChild(a.stateNode)}catch(f){ae(a,n,f)}else try{Se.removeChild(a.stateNode)}catch(f){ae(a,n,f)}break;case 18:Se!==null&&(Rn?(e=Se,D_(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),co(e)):D_(Se,a.stateNode));break;case 4:o=Se,h=Rn,Se=a.stateNode.containerInfo,Rn=!0,_s(e,n,a),Se=o,Rn=h;break;case 0:case 11:case 14:case 15:Ws(2,a,n),qe||Ws(4,a,n),_s(e,n,a);break;case 1:qe||(Bi(a,n),o=a.stateNode,typeof o.componentWillUnmount=="function"&&My(a,n,o)),_s(e,n,a);break;case 21:_s(e,n,a);break;case 22:qe=(o=qe)||a.memoizedState!==null,_s(e,n,a),qe=o;break;default:_s(e,n,a)}}function zy(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{co(e)}catch(a){ae(n,n.return,a)}}}function By(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{co(e)}catch(a){ae(n,n.return,a)}}function J1(e){switch(e.tag){case 31:case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new Ly),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new Ly),n;default:throw Error(r(435,e.tag))}}function Tc(e,n){var a=J1(e);n.forEach(function(o){if(!a.has(o)){a.add(o);var h=oA.bind(null,e,o);o.then(h,h)}})}function In(e,n){var a=n.deletions;if(a!==null)for(var o=0;o<a.length;o++){var h=a[o],f=e,g=n,E=g;t:for(;E!==null;){switch(E.tag){case 27:if(ar(E.type)){Se=E.stateNode,Rn=!1;break t}break;case 5:Se=E.stateNode,Rn=!1;break t;case 3:case 4:Se=E.stateNode.containerInfo,Rn=!0;break t}E=E.return}if(Se===null)throw Error(r(160));jy(f,g,h),Se=null,Rn=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)qy(n,e),n=n.sibling}var _i=null;function qy(e,n){var a=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:In(n,e),xn(e),o&4&&(Ws(3,e,e.return),wl(3,e),Ws(5,e,e.return));break;case 1:In(n,e),xn(e),o&512&&(qe||a===null||Bi(a,a.return)),o&64&&ys&&(e=e.updateQueue,e!==null&&(o=e.callbacks,o!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?o:a.concat(o))));break;case 26:var h=_i;if(In(n,e),xn(e),o&512&&(qe||a===null||Bi(a,a.return)),o&4){var f=a!==null?a.memoizedState:null;if(o=e.memoizedState,a===null)if(o===null)if(e.stateNode===null){t:{o=e.type,a=e.memoizedProps,h=h.ownerDocument||h;e:switch(o){case"title":f=h.getElementsByTagName("title")[0],(!f||f[Ii]||f[vt]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(o),h.head.insertBefore(f,h.querySelector("head > title"))),on(f,o,a),f[vt]=e,ke(f),o=f;break t;case"link":var g=q_("link","href",h).get(o+(a.href||""));if(g){for(var E=0;E<g.length;E++)if(f=g[E],f.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&f.getAttribute("rel")===(a.rel==null?null:a.rel)&&f.getAttribute("title")===(a.title==null?null:a.title)&&f.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){g.splice(E,1);break e}}f=h.createElement(o),on(f,o,a),h.head.appendChild(f);break;case"meta":if(g=q_("meta","content",h).get(o+(a.content||""))){for(E=0;E<g.length;E++)if(f=g[E],f.getAttribute("content")===(a.content==null?null:""+a.content)&&f.getAttribute("name")===(a.name==null?null:a.name)&&f.getAttribute("property")===(a.property==null?null:a.property)&&f.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&f.getAttribute("charset")===(a.charSet==null?null:a.charSet)){g.splice(E,1);break e}}f=h.createElement(o),on(f,o,a),h.head.appendChild(f);break;default:throw Error(r(468,o))}f[vt]=e,ke(f),o=f}e.stateNode=o}else H_(h,e.type,e.stateNode);else e.stateNode=B_(h,o,e.memoizedProps);else f!==o?(f===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):f.count--,o===null?H_(h,e.type,e.stateNode):B_(h,o,e.memoizedProps)):o===null&&e.stateNode!==null&&ld(e,e.memoizedProps,a.memoizedProps)}break;case 27:In(n,e),xn(e),o&512&&(qe||a===null||Bi(a,a.return)),a!==null&&o&4&&ld(e,e.memoizedProps,a.memoizedProps);break;case 5:if(In(n,e),xn(e),o&512&&(qe||a===null||Bi(a,a.return)),e.flags&32){h=e.stateNode;try{wn(h,"")}catch(ht){ae(e,e.return,ht)}}o&4&&e.stateNode!=null&&(h=e.memoizedProps,ld(e,h,a!==null?a.memoizedProps:h)),o&1024&&(hd=!0);break;case 6:if(In(n,e),xn(e),o&4){if(e.stateNode===null)throw Error(r(162));o=e.memoizedProps,a=e.stateNode;try{a.nodeValue=o}catch(ht){ae(e,e.return,ht)}}break;case 3:if(kc=null,h=_i,_i=Uc(n.containerInfo),In(n,e),_i=h,xn(e),o&4&&a!==null&&a.memoizedState.isDehydrated)try{co(n.containerInfo)}catch(ht){ae(e,e.return,ht)}hd&&(hd=!1,Hy(e));break;case 4:o=_i,_i=Uc(e.stateNode.containerInfo),In(n,e),xn(e),_i=o;break;case 12:In(n,e),xn(e);break;case 31:In(n,e),xn(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Tc(e,o)));break;case 13:In(n,e),xn(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Sc=en()),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Tc(e,o)));break;case 22:h=e.memoizedState!==null;var x=a!==null&&a.memoizedState!==null,z=ys,Q=qe;if(ys=z||h,qe=Q||x,In(n,e),qe=Q,ys=z,xn(e),o&8192)t:for(n=e.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(a===null||x||ys||qe||aa(e)),a=null,n=e;;){if(n.tag===5||n.tag===26){if(a===null){x=a=n;try{if(f=x.stateNode,h)g=f.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none";else{E=x.stateNode;var $=x.memoizedProps.style,B=$!=null&&$.hasOwnProperty("display")?$.display:null;E.style.display=B==null||typeof B=="boolean"?"":(""+B).trim()}}catch(ht){ae(x,x.return,ht)}}}else if(n.tag===6){if(a===null){x=n;try{x.stateNode.nodeValue=h?"":x.memoizedProps}catch(ht){ae(x,x.return,ht)}}}else if(n.tag===18){if(a===null){x=n;try{var H=x.stateNode;h?M_(H,!0):M_(x.stateNode,!1)}catch(ht){ae(x,x.return,ht)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break t;for(;n.sibling===null;){if(n.return===null||n.return===e)break t;a===n&&(a=null),n=n.return}a===n&&(a=null),n.sibling.return=n.return,n=n.sibling}o&4&&(o=e.updateQueue,o!==null&&(a=o.retryQueue,a!==null&&(o.retryQueue=null,Tc(e,a))));break;case 19:In(n,e),xn(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Tc(e,o)));break;case 30:break;case 21:break;default:In(n,e),xn(e)}}function xn(e){var n=e.flags;if(n&2){try{for(var a,o=e.return;o!==null;){if(Vy(o)){a=o;break}o=o.return}if(a==null)throw Error(r(160));switch(a.tag){case 27:var h=a.stateNode,f=ud(e);Ec(e,f,h);break;case 5:var g=a.stateNode;a.flags&32&&(wn(g,""),a.flags&=-33);var E=ud(e);Ec(e,E,g);break;case 3:case 4:var x=a.stateNode.containerInfo,z=ud(e);cd(e,z,x);break;default:throw Error(r(161))}}catch(Q){ae(e,e.return,Q)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function Hy(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;Hy(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function vs(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)ky(e,n.alternate,n),n=n.sibling}function aa(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:Ws(4,n,n.return),aa(n);break;case 1:Bi(n,n.return);var a=n.stateNode;typeof a.componentWillUnmount=="function"&&My(n,n.return,a),aa(n);break;case 27:Ul(n.stateNode);case 26:case 5:Bi(n,n.return),aa(n);break;case 22:n.memoizedState===null&&aa(n);break;case 30:aa(n);break;default:aa(n)}e=e.sibling}}function Es(e,n,a){for(a=a&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var o=n.alternate,h=e,f=n,g=f.flags;switch(f.tag){case 0:case 11:case 15:Es(h,f,a),wl(4,f);break;case 1:if(Es(h,f,a),o=f,h=o.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(z){ae(o,o.return,z)}if(o=f,h=o.updateQueue,h!==null){var E=o.stateNode;try{var x=h.shared.hiddenCallbacks;if(x!==null)for(h.shared.hiddenCallbacks=null,h=0;h<x.length;h++)Ep(x[h],E)}catch(z){ae(o,o.return,z)}}a&&g&64&&Dy(f),Rl(f,f.return);break;case 27:Uy(f);case 26:case 5:Es(h,f,a),a&&o===null&&g&4&&Oy(f),Rl(f,f.return);break;case 12:Es(h,f,a);break;case 31:Es(h,f,a),a&&g&4&&zy(h,f);break;case 13:Es(h,f,a),a&&g&4&&By(h,f);break;case 22:f.memoizedState===null&&Es(h,f,a),Rl(f,f.return);break;case 30:break;default:Es(h,f,a)}n=n.sibling}}function fd(e,n){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&fl(a))}function dd(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&fl(e))}function vi(e,n,a,o){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Fy(e,n,a,o),n=n.sibling}function Fy(e,n,a,o){var h=n.flags;switch(n.tag){case 0:case 11:case 15:vi(e,n,a,o),h&2048&&wl(9,n);break;case 1:vi(e,n,a,o);break;case 3:vi(e,n,a,o),h&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&fl(e)));break;case 12:if(h&2048){vi(e,n,a,o),e=n.stateNode;try{var f=n.memoizedProps,g=f.id,E=f.onPostCommit;typeof E=="function"&&E(g,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(x){ae(n,n.return,x)}}else vi(e,n,a,o);break;case 31:vi(e,n,a,o);break;case 13:vi(e,n,a,o);break;case 23:break;case 22:f=n.stateNode,g=n.alternate,n.memoizedState!==null?f._visibility&2?vi(e,n,a,o):Il(e,n):f._visibility&2?vi(e,n,a,o):(f._visibility|=2,Wa(e,n,a,o,(n.subtreeFlags&10256)!==0||!1)),h&2048&&fd(g,n);break;case 24:vi(e,n,a,o),h&2048&&dd(n.alternate,n);break;default:vi(e,n,a,o)}}function Wa(e,n,a,o,h){for(h=h&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=e,g=n,E=a,x=o,z=g.flags;switch(g.tag){case 0:case 11:case 15:Wa(f,g,E,x,h),wl(8,g);break;case 23:break;case 22:var Q=g.stateNode;g.memoizedState!==null?Q._visibility&2?Wa(f,g,E,x,h):Il(f,g):(Q._visibility|=2,Wa(f,g,E,x,h)),h&&z&2048&&fd(g.alternate,g);break;case 24:Wa(f,g,E,x,h),h&&z&2048&&dd(g.alternate,g);break;default:Wa(f,g,E,x,h)}n=n.sibling}}function Il(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var a=e,o=n,h=o.flags;switch(o.tag){case 22:Il(a,o),h&2048&&fd(o.alternate,o);break;case 24:Il(a,o),h&2048&&dd(o.alternate,o);break;default:Il(a,o)}n=n.sibling}}var xl=8192;function to(e,n,a){if(e.subtreeFlags&xl)for(e=e.child;e!==null;)Gy(e,n,a),e=e.sibling}function Gy(e,n,a){switch(e.tag){case 26:to(e,n,a),e.flags&xl&&e.memoizedState!==null&&PA(a,_i,e.memoizedState,e.memoizedProps);break;case 5:to(e,n,a);break;case 3:case 4:var o=_i;_i=Uc(e.stateNode.containerInfo),to(e,n,a),_i=o;break;case 22:e.memoizedState===null&&(o=e.alternate,o!==null&&o.memoizedState!==null?(o=xl,xl=16777216,to(e,n,a),xl=o):to(e,n,a));break;default:to(e,n,a)}}function Qy(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function Cl(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var o=n[a];Je=o,Ky(o,e)}Qy(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Yy(e),e=e.sibling}function Yy(e){switch(e.tag){case 0:case 11:case 15:Cl(e),e.flags&2048&&Ws(9,e,e.return);break;case 3:Cl(e);break;case 12:Cl(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,Ac(e)):Cl(e);break;default:Cl(e)}}function Ac(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var o=n[a];Je=o,Ky(o,e)}Qy(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:Ws(8,n,n.return),Ac(n);break;case 22:a=n.stateNode,a._visibility&2&&(a._visibility&=-3,Ac(n));break;default:Ac(n)}e=e.sibling}}function Ky(e,n){for(;Je!==null;){var a=Je;switch(a.tag){case 0:case 11:case 15:Ws(8,a,n);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var o=a.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:fl(a.memoizedState.cache)}if(o=a.child,o!==null)o.return=a,Je=o;else t:for(a=e;Je!==null;){o=Je;var h=o.sibling,f=o.return;if(Py(o),o===a){Je=null;break t}if(h!==null){h.return=f,Je=h;break t}Je=f}}}var W1={getCacheForType:function(e){var n=rn(je),a=n.data.get(e);return a===void 0&&(a=e(),n.data.set(e,a)),a},cacheSignal:function(){return rn(je).controller.signal}},tA=typeof WeakMap=="function"?WeakMap:Map,ee=0,pe=null,kt=null,jt=0,re=0,zn=null,tr=!1,eo=!1,md=!1,Ts=0,Ne=0,er=0,oa=0,gd=0,Bn=0,no=0,Nl=null,Cn=null,pd=!1,Sc=0,Xy=0,bc=1/0,wc=null,nr=null,Xe=0,ir=null,io=null,As=0,yd=0,_d=null,$y=null,Dl=0,vd=null;function qn(){return(ee&2)!==0&&jt!==0?jt&-jt:G.T!==null?wd():st()}function Zy(){if(Bn===0)if((jt&536870912)===0||Gt){var e=Ri;Ri<<=1,(Ri&3932160)===0&&(Ri=262144),Bn=e}else Bn=536870912;return e=Pn.current,e!==null&&(e.flags|=32),Bn}function Nn(e,n,a){(e===pe&&(re===2||re===9)||e.cancelPendingCommit!==null)&&(so(e,0),sr(e,jt,Bn,!1)),ss(e,a),((ee&2)===0||e!==pe)&&(e===pe&&((ee&2)===0&&(oa|=a),Ne===4&&sr(e,jt,Bn,!1)),qi(e))}function Jy(e,n,a){if((ee&6)!==0)throw Error(r(327));var o=!a&&(n&127)===0&&(n&e.expiredLanes)===0||On(e,n),h=o?iA(e,n):Td(e,n,!0),f=o;do{if(h===0){eo&&!o&&sr(e,n,0,!1);break}else{if(a=e.current.alternate,f&&!eA(a)){h=Td(e,n,!1),f=!1;continue}if(h===2){if(f=n,e.errorRecoveryDisabledLanes&f)var g=0;else g=e.pendingLanes&-536870913,g=g!==0?g:g&536870912?536870912:0;if(g!==0){n=g;t:{var E=e;h=Nl;var x=E.current.memoizedState.isDehydrated;if(x&&(so(E,g).flags|=256),g=Td(E,g,!1),g!==2){if(md&&!x){E.errorRecoveryDisabledLanes|=f,oa|=f,h=4;break t}f=Cn,Cn=h,f!==null&&(Cn===null?Cn=f:Cn.push.apply(Cn,f))}h=g}if(f=!1,h!==2)continue}}if(h===1){so(e,0),sr(e,n,0,!0);break}t:{switch(o=e,f=h,f){case 0:case 1:throw Error(r(345));case 4:if((n&4194048)!==n)break;case 6:sr(o,n,Bn,!tr);break t;case 2:Cn=null;break;case 3:case 5:break;default:throw Error(r(329))}if((n&62914560)===n&&(h=Sc+300-en(),10<h)){if(sr(o,n,Bn,!tr),Xn(o,0,!0)!==0)break t;As=n,o.timeoutHandle=C_(Wy.bind(null,o,a,Cn,wc,pd,n,Bn,oa,no,tr,f,"Throttled",-0,0),h);break t}Wy(o,a,Cn,wc,pd,n,Bn,oa,no,tr,f,null,-0,0)}}break}while(!0);qi(e)}function Wy(e,n,a,o,h,f,g,E,x,z,Q,$,B,H){if(e.timeoutHandle=-1,$=n.subtreeFlags,$&8192||($&16785408)===16785408){$={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:fi},Gy(n,f,$);var ht=(f&62914560)===f?Sc-en():(f&4194048)===f?Xy-en():0;if(ht=jA($,ht),ht!==null){As=f,e.cancelPendingCommit=ht(o_.bind(null,e,n,f,a,o,h,g,E,x,Q,$,null,B,H)),sr(e,f,g,!z);return}}o_(e,n,f,a,o,h,g,E,x)}function eA(e){for(var n=e;;){var a=n.tag;if((a===0||a===11||a===15)&&n.flags&16384&&(a=n.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var o=0;o<a.length;o++){var h=a[o],f=h.getSnapshot;h=h.value;try{if(!Ln(f(),h))return!1}catch{return!1}}if(a=n.child,n.subtreeFlags&16384&&a!==null)a.return=n,n=a;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function sr(e,n,a,o){n&=~gd,n&=~oa,e.suspendedLanes|=n,e.pingedLanes&=~n,o&&(e.warmLanes|=n),o=e.expirationTimes;for(var h=n;0<h;){var f=31-_e(h),g=1<<f;o[f]=-1,h&=~g}a!==0&&rs(e,a,n)}function Rc(){return(ee&6)===0?(Ml(0),!1):!0}function Ed(){if(kt!==null){if(re===0)var e=kt.return;else e=kt,hs=Jr=null,Lf(e),Ka=null,ml=0,e=kt;for(;e!==null;)Ny(e.alternate,e),e=e.return;kt=null}}function so(e,n){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,TA(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),As=0,Ed(),pe=e,kt=a=us(e.current,null),jt=n,re=0,zn=null,tr=!1,eo=On(e,n),md=!1,no=Bn=gd=oa=er=Ne=0,Cn=Nl=null,pd=!1,(n&8)!==0&&(n|=n&32);var o=e.entangledLanes;if(o!==0)for(e=e.entanglements,o&=n;0<o;){var h=31-_e(o),f=1<<h;n|=e[h],o&=~f}return Ts=n,Yu(),a}function t_(e,n){Dt=null,G.H=Al,n===Ya||n===ec?(n=pp(),re=3):n===bf?(n=pp(),re=4):re=n===Jf?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,zn=n,kt===null&&(Ne=1,gc(e,ni(n,e.current)))}function e_(){var e=Pn.current;return e===null?!0:(jt&4194048)===jt?ai===null:(jt&62914560)===jt||(jt&536870912)!==0?e===ai:!1}function n_(){var e=G.H;return G.H=Al,e===null?Al:e}function i_(){var e=G.A;return G.A=W1,e}function Ic(){Ne=4,tr||(jt&4194048)!==jt&&Pn.current!==null||(eo=!0),(er&134217727)===0&&(oa&134217727)===0||pe===null||sr(pe,jt,Bn,!1)}function Td(e,n,a){var o=ee;ee|=2;var h=n_(),f=i_();(pe!==e||jt!==n)&&(wc=null,so(e,n)),n=!1;var g=Ne;t:do try{if(re!==0&&kt!==null){var E=kt,x=zn;switch(re){case 8:Ed(),g=6;break t;case 3:case 2:case 9:case 6:Pn.current===null&&(n=!0);var z=re;if(re=0,zn=null,ro(e,E,x,z),a&&eo){g=0;break t}break;default:z=re,re=0,zn=null,ro(e,E,x,z)}}nA(),g=Ne;break}catch(Q){t_(e,Q)}while(!0);return n&&e.shellSuspendCounter++,hs=Jr=null,ee=o,G.H=h,G.A=f,kt===null&&(pe=null,jt=0,Yu()),g}function nA(){for(;kt!==null;)s_(kt)}function iA(e,n){var a=ee;ee|=2;var o=n_(),h=i_();pe!==e||jt!==n?(wc=null,bc=en()+500,so(e,n)):eo=On(e,n);t:do try{if(re!==0&&kt!==null){n=kt;var f=zn;e:switch(re){case 1:re=0,zn=null,ro(e,n,f,1);break;case 2:case 9:if(mp(f)){re=0,zn=null,r_(n);break}n=function(){re!==2&&re!==9||pe!==e||(re=7),qi(e)},f.then(n,n);break t;case 3:re=7;break t;case 4:re=5;break t;case 7:mp(f)?(re=0,zn=null,r_(n)):(re=0,zn=null,ro(e,n,f,7));break;case 5:var g=null;switch(kt.tag){case 26:g=kt.memoizedState;case 5:case 27:var E=kt;if(g?F_(g):E.stateNode.complete){re=0,zn=null;var x=E.sibling;if(x!==null)kt=x;else{var z=E.return;z!==null?(kt=z,xc(z)):kt=null}break e}}re=0,zn=null,ro(e,n,f,5);break;case 6:re=0,zn=null,ro(e,n,f,6);break;case 8:Ed(),Ne=6;break t;default:throw Error(r(462))}}sA();break}catch(Q){t_(e,Q)}while(!0);return hs=Jr=null,G.H=o,G.A=h,ee=a,kt!==null?0:(pe=null,jt=0,Yu(),Ne)}function sA(){for(;kt!==null&&!qo();)s_(kt)}function s_(e){var n=xy(e.alternate,e,Ts);e.memoizedProps=e.pendingProps,n===null?xc(e):kt=n}function r_(e){var n=e,a=n.alternate;switch(n.tag){case 15:case 0:n=Ay(a,n,n.pendingProps,n.type,void 0,jt);break;case 11:n=Ay(a,n,n.pendingProps,n.type.render,n.ref,jt);break;case 5:Lf(n);default:Ny(a,n),n=kt=ip(n,Ts),n=xy(a,n,Ts)}e.memoizedProps=e.pendingProps,n===null?xc(e):kt=n}function ro(e,n,a,o){hs=Jr=null,Lf(n),Ka=null,ml=0;var h=n.return;try{if(Q1(e,h,n,a,jt)){Ne=1,gc(e,ni(a,e.current)),kt=null;return}}catch(f){if(h!==null)throw kt=h,f;Ne=1,gc(e,ni(a,e.current)),kt=null;return}n.flags&32768?(Gt||o===1?e=!0:eo||(jt&536870912)!==0?e=!1:(tr=e=!0,(o===2||o===9||o===3||o===6)&&(o=Pn.current,o!==null&&o.tag===13&&(o.flags|=16384))),a_(n,e)):xc(n)}function xc(e){var n=e;do{if((n.flags&32768)!==0){a_(n,tr);return}e=n.return;var a=X1(n.alternate,n,Ts);if(a!==null){kt=a;return}if(n=n.sibling,n!==null){kt=n;return}kt=n=e}while(n!==null);Ne===0&&(Ne=5)}function a_(e,n){do{var a=$1(e.alternate,e);if(a!==null){a.flags&=32767,kt=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!n&&(e=e.sibling,e!==null)){kt=e;return}kt=e=a}while(e!==null);Ne=6,kt=null}function o_(e,n,a,o,h,f,g,E,x){e.cancelPendingCommit=null;do Cc();while(Xe!==0);if((ee&6)!==0)throw Error(r(327));if(n!==null){if(n===e.current)throw Error(r(177));if(f=n.lanes|n.childLanes,f|=uf,Fo(e,a,f,g,E,x),e===pe&&(kt=pe=null,jt=0),io=n,ir=e,As=a,yd=f,_d=h,$y=o,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,lA(yn,function(){return f_(),null})):(e.callbackNode=null,e.callbackPriority=0),o=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||o){o=G.T,G.T=null,h=at.p,at.p=2,g=ee,ee|=4;try{Z1(e,n,a)}finally{ee=g,at.p=h,G.T=o}}Xe=1,l_(),u_(),c_()}}function l_(){if(Xe===1){Xe=0;var e=ir,n=io,a=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||a){a=G.T,G.T=null;var o=at.p;at.p=2;var h=ee;ee|=4;try{qy(n,e);var f=Od,g=Kg(e.containerInfo),E=f.focusedElem,x=f.selectionRange;if(g!==E&&E&&E.ownerDocument&&Yg(E.ownerDocument.documentElement,E)){if(x!==null&&sf(E)){var z=x.start,Q=x.end;if(Q===void 0&&(Q=z),"selectionStart"in E)E.selectionStart=z,E.selectionEnd=Math.min(Q,E.value.length);else{var $=E.ownerDocument||document,B=$&&$.defaultView||window;if(B.getSelection){var H=B.getSelection(),ht=E.textContent.length,Et=Math.min(x.start,ht),he=x.end===void 0?Et:Math.min(x.end,ht);!H.extend&&Et>he&&(g=he,he=Et,Et=g);var k=Qg(E,Et),O=Qg(E,he);if(k&&O&&(H.rangeCount!==1||H.anchorNode!==k.node||H.anchorOffset!==k.offset||H.focusNode!==O.node||H.focusOffset!==O.offset)){var j=$.createRange();j.setStart(k.node,k.offset),H.removeAllRanges(),Et>he?(H.addRange(j),H.extend(O.node,O.offset)):(j.setEnd(O.node,O.offset),H.addRange(j))}}}}for($=[],H=E;H=H.parentNode;)H.nodeType===1&&$.push({element:H,left:H.scrollLeft,top:H.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<$.length;E++){var X=$[E];X.element.scrollLeft=X.left,X.element.scrollTop=X.top}}Bc=!!Md,Od=Md=null}finally{ee=h,at.p=o,G.T=a}}e.current=n,Xe=2}}function u_(){if(Xe===2){Xe=0;var e=ir,n=io,a=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||a){a=G.T,G.T=null;var o=at.p;at.p=2;var h=ee;ee|=4;try{ky(e,n.alternate,n)}finally{ee=h,at.p=o,G.T=a}}Xe=3}}function c_(){if(Xe===4||Xe===3){Xe=0,Os();var e=ir,n=io,a=As,o=$y;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Xe=5:(Xe=0,io=ir=null,h_(e,e.pendingLanes));var h=e.pendingLanes;if(h===0&&(nr=null),J(a),n=n.stateNode,Ye&&typeof Ye.onCommitFiberRoot=="function")try{Ye.onCommitFiberRoot(An,n,void 0,(n.current.flags&128)===128)}catch{}if(o!==null){n=G.T,h=at.p,at.p=2,G.T=null;try{for(var f=e.onRecoverableError,g=0;g<o.length;g++){var E=o[g];f(E.value,{componentStack:E.stack})}}finally{G.T=n,at.p=h}}(As&3)!==0&&Cc(),qi(e),h=e.pendingLanes,(a&261930)!==0&&(h&42)!==0?e===vd?Dl++:(Dl=0,vd=e):Dl=0,Ml(0)}}function h_(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,fl(n)))}function Cc(){return l_(),u_(),c_(),f_()}function f_(){if(Xe!==5)return!1;var e=ir,n=yd;yd=0;var a=J(As),o=G.T,h=at.p;try{at.p=32>a?32:a,G.T=null,a=_d,_d=null;var f=ir,g=As;if(Xe=0,io=ir=null,As=0,(ee&6)!==0)throw Error(r(331));var E=ee;if(ee|=4,Yy(f.current),Fy(f,f.current,g,a),ee=E,Ml(0,!1),Ye&&typeof Ye.onPostCommitFiberRoot=="function")try{Ye.onPostCommitFiberRoot(An,f)}catch{}return!0}finally{at.p=h,G.T=o,h_(e,n)}}function d_(e,n,a){n=ni(a,n),n=Zf(e.stateNode,n,2),e=$s(e,n,2),e!==null&&(ss(e,2),qi(e))}function ae(e,n,a){if(e.tag===3)d_(e,e,a);else for(;n!==null;){if(n.tag===3){d_(n,e,a);break}else if(n.tag===1){var o=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(nr===null||!nr.has(o))){e=ni(a,e),a=my(2),o=$s(n,a,2),o!==null&&(gy(a,o,n,e),ss(o,2),qi(o));break}}n=n.return}}function Ad(e,n,a){var o=e.pingCache;if(o===null){o=e.pingCache=new tA;var h=new Set;o.set(n,h)}else h=o.get(n),h===void 0&&(h=new Set,o.set(n,h));h.has(a)||(md=!0,h.add(a),e=rA.bind(null,e,n,a),n.then(e,e))}function rA(e,n,a){var o=e.pingCache;o!==null&&o.delete(n),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,pe===e&&(jt&a)===a&&(Ne===4||Ne===3&&(jt&62914560)===jt&&300>en()-Sc?(ee&2)===0&&so(e,0):gd|=a,no===jt&&(no=0)),qi(e)}function m_(e,n){n===0&&(n=ba()),e=Xr(e,n),e!==null&&(ss(e,n),qi(e))}function aA(e){var n=e.memoizedState,a=0;n!==null&&(a=n.retryLane),m_(e,a)}function oA(e,n){var a=0;switch(e.tag){case 31:case 13:var o=e.stateNode,h=e.memoizedState;h!==null&&(a=h.retryLane);break;case 19:o=e.stateNode;break;case 22:o=e.stateNode._retryCache;break;default:throw Error(r(314))}o!==null&&o.delete(n),m_(e,a)}function lA(e,n){return De(e,n)}var Nc=null,ao=null,Sd=!1,Dc=!1,bd=!1,rr=0;function qi(e){e!==ao&&e.next===null&&(ao===null?Nc=ao=e:ao=ao.next=e),Dc=!0,Sd||(Sd=!0,cA())}function Ml(e,n){if(!bd&&Dc){bd=!0;do for(var a=!1,o=Nc;o!==null;){if(e!==0){var h=o.pendingLanes;if(h===0)var f=0;else{var g=o.suspendedLanes,E=o.pingedLanes;f=(1<<31-_e(42|e)+1)-1,f&=h&~(g&~E),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(a=!0,__(o,f))}else f=jt,f=Xn(o,o===pe?f:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(f&3)===0||On(o,f)||(a=!0,__(o,f));o=o.next}while(a);bd=!1}}function uA(){g_()}function g_(){Dc=Sd=!1;var e=0;rr!==0&&EA()&&(e=rr);for(var n=en(),a=null,o=Nc;o!==null;){var h=o.next,f=p_(o,n);f===0?(o.next=null,a===null?Nc=h:a.next=h,h===null&&(ao=a)):(a=o,(e!==0||(f&3)!==0)&&(Dc=!0)),o=h}Xe!==0&&Xe!==5||Ml(e),rr!==0&&(rr=0)}function p_(e,n){for(var a=e.suspendedLanes,o=e.pingedLanes,h=e.expirationTimes,f=e.pendingLanes&-62914561;0<f;){var g=31-_e(f),E=1<<g,x=h[g];x===-1?((E&a)===0||(E&o)!==0)&&(h[g]=Ho(E,n)):x<=n&&(e.expiredLanes|=E),f&=~E}if(n=pe,a=jt,a=Xn(e,e===n?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o=e.callbackNode,a===0||e===n&&(re===2||re===9)||e.cancelPendingCommit!==null)return o!==null&&o!==null&&wi(o),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||On(e,a)){if(n=a&-a,n===e.callbackPriority)return n;switch(o!==null&&wi(o),J(a)){case 2:case 8:a=Vr;break;case 32:a=yn;break;case 268435456:a=Ur;break;default:a=yn}return o=y_.bind(null,e),a=De(a,o),e.callbackPriority=n,e.callbackNode=a,n}return o!==null&&o!==null&&wi(o),e.callbackPriority=2,e.callbackNode=null,2}function y_(e,n){if(Xe!==0&&Xe!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(Cc()&&e.callbackNode!==a)return null;var o=jt;return o=Xn(e,e===pe?o:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o===0?null:(Jy(e,o,n),p_(e,en()),e.callbackNode!=null&&e.callbackNode===a?y_.bind(null,e):null)}function __(e,n){if(Cc())return null;Jy(e,n,!0)}function cA(){AA(function(){(ee&6)!==0?De(Or,uA):g_()})}function wd(){if(rr===0){var e=Ga;e===0&&(e=Mn,Mn<<=1,(Mn&261888)===0&&(Mn=256)),rr=e}return rr}function v_(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Na(""+e)}function E_(e,n){var a=n.ownerDocument.createElement("input");return a.name=n.name,a.value=n.value,e.id&&a.setAttribute("form",e.id),n.parentNode.insertBefore(a,n),e=new FormData(e),a.parentNode.removeChild(a),e}function hA(e,n,a,o,h){if(n==="submit"&&a&&a.stateNode===h){var f=v_((h[ot]||null).action),g=o.submitter;g&&(n=(n=g[ot]||null)?v_(n.formAction):g.getAttribute("formAction"),n!==null&&(f=n,g=null));var E=new Ui("action","action",null,o,h);e.push({event:E,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(rr!==0){var x=g?E_(h,g):new FormData(h);Gf(a,{pending:!0,data:x,method:h.method,action:f},null,x)}}else typeof f=="function"&&(E.preventDefault(),x=g?E_(h,g):new FormData(h),Gf(a,{pending:!0,data:x,method:h.method,action:f},f,x))},currentTarget:h}]})}}for(var Rd=0;Rd<lf.length;Rd++){var Id=lf[Rd],fA=Id.toLowerCase(),dA=Id[0].toUpperCase()+Id.slice(1);yi(fA,"on"+dA)}yi(Zg,"onAnimationEnd"),yi(Jg,"onAnimationIteration"),yi(Wg,"onAnimationStart"),yi("dblclick","onDoubleClick"),yi("focusin","onFocus"),yi("focusout","onBlur"),yi(C1,"onTransitionRun"),yi(N1,"onTransitionStart"),yi(D1,"onTransitionCancel"),yi(tp,"onTransitionEnd"),Di("onMouseEnter",["mouseout","mouseover"]),Di("onMouseLeave",["mouseout","mouseover"]),Di("onPointerEnter",["pointerout","pointerover"]),Di("onPointerLeave",["pointerout","pointerover"]),Ni("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ni("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ni("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ni("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ni("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ni("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ol="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),mA=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ol));function T_(e,n){n=(n&4)!==0;for(var a=0;a<e.length;a++){var o=e[a],h=o.event;o=o.listeners;t:{var f=void 0;if(n)for(var g=o.length-1;0<=g;g--){var E=o[g],x=E.instance,z=E.currentTarget;if(E=E.listener,x!==f&&h.isPropagationStopped())break t;f=E,h.currentTarget=z;try{f(h)}catch(Q){Qu(Q)}h.currentTarget=null,f=x}else for(g=0;g<o.length;g++){if(E=o[g],x=E.instance,z=E.currentTarget,E=E.listener,x!==f&&h.isPropagationStopped())break t;f=E,h.currentTarget=z;try{f(h)}catch(Q){Qu(Q)}h.currentTarget=null,f=x}}}}function Pt(e,n){var a=n[Ot];a===void 0&&(a=n[Ot]=new Set);var o=e+"__bubble";a.has(o)||(A_(n,e,2,!1),a.add(o))}function xd(e,n,a){var o=0;n&&(o|=4),A_(a,e,o,n)}var Mc="_reactListening"+Math.random().toString(36).slice(2);function Cd(e){if(!e[Mc]){e[Mc]=!0,Go.forEach(function(a){a!=="selectionchange"&&(mA.has(a)||xd(a,!1,e),xd(a,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[Mc]||(n[Mc]=!0,xd("selectionchange",!1,n))}}function A_(e,n,a,o){switch(Z_(n)){case 2:var h=qA;break;case 8:h=HA;break;default:h=Fd}a=h.bind(null,n,a,e),h=void 0,!Br||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),o?h!==void 0?e.addEventListener(n,a,{capture:!0,passive:h}):e.addEventListener(n,a,!0):h!==void 0?e.addEventListener(n,a,{passive:h}):e.addEventListener(n,a,!1)}function Nd(e,n,a,o,h){var f=o;if((n&1)===0&&(n&2)===0&&o!==null)t:for(;;){if(o===null)return;var g=o.tag;if(g===3||g===4){var E=o.stateNode.containerInfo;if(E===h)break;if(g===4)for(g=o.return;g!==null;){var x=g.tag;if((x===3||x===4)&&g.stateNode.containerInfo===h)return;g=g.return}for(;E!==null;){if(g=xi(E),g===null)return;if(x=g.tag,x===5||x===6||x===26||x===27){o=f=g;continue t}E=E.parentNode}}o=o.return}zs(function(){var z=f,Q=Jn(a),$=[];t:{var B=ep.get(e);if(B!==void 0){var H=Ui,ht=e;switch(e){case"keypress":if(Hr(a)===0)break t;case"keydown":case"keyup":H=Hu;break;case"focusin":ht="focus",H=Gr;break;case"focusout":ht="blur",H=Gr;break;case"beforeblur":case"afterblur":H=Gr;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":H=sl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":H=Vu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":H=m;break;case Zg:case Jg:case Wg:H=Lu;break;case tp:H=T;break;case"scroll":case"scrollend":H=il;break;case"wheel":H=q;break;case"copy":case"cut":case"paste":H=ku;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":H=ls;break;case"toggle":case"beforetoggle":H=Nt}var Et=(n&4)!==0,he=!Et&&(e==="scroll"||e==="scrollend"),k=Et?B!==null?B+"Capture":null:B;Et=[];for(var O=z,j;O!==null;){var X=O;if(j=X.stateNode,X=X.tag,X!==5&&X!==26&&X!==27||j===null||k===null||(X=di(O,k),X!=null&&Et.push(Vl(O,X,j))),he)break;O=O.return}0<Et.length&&(B=new H(B,ht,null,a,Q),$.push({event:B,listeners:Et}))}}if((n&7)===0){t:{if(B=e==="mouseover"||e==="pointerover",H=e==="mouseout"||e==="pointerout",B&&a!==tl&&(ht=a.relatedTarget||a.fromElement)&&(xi(ht)||ht[Mt]))break t;if((H||B)&&(B=Q.window===Q?Q:(B=Q.ownerDocument)?B.defaultView||B.parentWindow:window,H?(ht=a.relatedTarget||a.toElement,H=z,ht=ht?xi(ht):null,ht!==null&&(he=c(ht),Et=ht.tag,ht!==he||Et!==5&&Et!==27&&Et!==6)&&(ht=null)):(H=null,ht=z),H!==ht)){if(Et=sl,X="onMouseLeave",k="onMouseEnter",O="mouse",(e==="pointerout"||e==="pointerover")&&(Et=ls,X="onPointerLeave",k="onPointerEnter",O="pointer"),he=H==null?B:Vn(H),j=ht==null?B:Vn(ht),B=new Et(X,O+"leave",H,a,Q),B.target=he,B.relatedTarget=j,X=null,xi(Q)===z&&(Et=new Et(k,O+"enter",ht,a,Q),Et.target=j,Et.relatedTarget=he,X=Et),he=X,H&&ht)e:{for(Et=gA,k=H,O=ht,j=0,X=k;X;X=Et(X))j++;X=0;for(var gt=O;gt;gt=Et(gt))X++;for(;0<j-X;)k=Et(k),j--;for(;0<X-j;)O=Et(O),X--;for(;j--;){if(k===O||O!==null&&k===O.alternate){Et=k;break e}k=Et(k),O=Et(O)}Et=null}else Et=null;H!==null&&S_($,B,H,Et,!1),ht!==null&&he!==null&&S_($,he,ht,Et,!0)}}t:{if(B=z?Vn(z):window,H=B.nodeName&&B.nodeName.toLowerCase(),H==="select"||H==="input"&&B.type==="file")var Zt=zg;else if(Pg(B))if(Bg)Zt=R1;else{Zt=b1;var ft=S1}else H=B.nodeName,!H||H.toLowerCase()!=="input"||B.type!=="checkbox"&&B.type!=="radio"?z&&Ca(z.elementType)&&(Zt=zg):Zt=w1;if(Zt&&(Zt=Zt(e,z))){jg($,Zt,a,Q);break t}ft&&ft(e,B,z),e==="focusout"&&z&&B.type==="number"&&z.memoizedProps.value!=null&&Zo(B,"number",B.value)}switch(ft=z?Vn(z):window,e){case"focusin":(Pg(ft)||ft.contentEditable==="true")&&(ka=ft,rf=z,ul=null);break;case"focusout":ul=rf=ka=null;break;case"mousedown":af=!0;break;case"contextmenu":case"mouseup":case"dragend":af=!1,Xg($,a,Q);break;case"selectionchange":if(x1)break;case"keydown":case"keyup":Xg($,a,Q)}var Vt;if(te)t:{switch(e){case"compositionstart":var zt="onCompositionStart";break t;case"compositionend":zt="onCompositionEnd";break t;case"compositionupdate":zt="onCompositionUpdate";break t}zt=void 0}else La?Qr(e,a)&&(zt="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(zt="onCompositionStart");zt&&(Pi&&a.locale!=="ko"&&(La||zt!=="onCompositionStart"?zt==="onCompositionEnd"&&La&&(Vt=nl()):(Vi=Q,el="value"in Vi?Vi.value:Vi.textContent,La=!0)),ft=Oc(z,zt),0<ft.length&&(zt=new ki(zt,e,null,a,Q),$.push({event:zt,listeners:ft}),Vt?zt.data=Vt:(Vt=Ua(a),Vt!==null&&(zt.data=Vt)))),(Vt=ti?v1(e,a):E1(e,a))&&(zt=Oc(z,"onBeforeInput"),0<zt.length&&(ft=new ki("onBeforeInput","beforeinput",null,a,Q),$.push({event:ft,listeners:zt}),ft.data=Vt)),hA($,e,z,a,Q)}T_($,n)})}function Vl(e,n,a){return{instance:e,listener:n,currentTarget:a}}function Oc(e,n){for(var a=n+"Capture",o=[];e!==null;){var h=e,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=di(e,a),h!=null&&o.unshift(Vl(e,h,f)),h=di(e,n),h!=null&&o.push(Vl(e,h,f))),e.tag===3)return o;e=e.return}return[]}function gA(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function S_(e,n,a,o,h){for(var f=n._reactName,g=[];a!==null&&a!==o;){var E=a,x=E.alternate,z=E.stateNode;if(E=E.tag,x!==null&&x===o)break;E!==5&&E!==26&&E!==27||z===null||(x=z,h?(z=di(a,f),z!=null&&g.unshift(Vl(a,z,x))):h||(z=di(a,f),z!=null&&g.push(Vl(a,z,x)))),a=a.return}g.length!==0&&e.push({event:n,listeners:g})}var pA=/\r\n?/g,yA=/\u0000|\uFFFD/g;function b_(e){return(typeof e=="string"?e:""+e).replace(pA,`
`).replace(yA,"")}function w_(e,n){return n=b_(n),b_(e)===n}function ce(e,n,a,o,h,f){switch(a){case"children":typeof o=="string"?n==="body"||n==="textarea"&&o===""||wn(e,o):(typeof o=="number"||typeof o=="bigint")&&n!=="body"&&wn(e,""+o);break;case"className":Un(e,"class",o);break;case"tabIndex":Un(e,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":Un(e,a,o);break;case"style":Wo(e,o,f);break;case"data":if(n!=="object"){Un(e,"data",o);break}case"src":case"href":if(o===""&&(n!=="a"||a!=="href")){e.removeAttribute(a);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(a);break}o=Na(""+o),e.setAttribute(a,o);break;case"action":case"formAction":if(typeof o=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(a==="formAction"?(n!=="input"&&ce(e,n,"name",h.name,h,null),ce(e,n,"formEncType",h.formEncType,h,null),ce(e,n,"formMethod",h.formMethod,h,null),ce(e,n,"formTarget",h.formTarget,h,null)):(ce(e,n,"encType",h.encType,h,null),ce(e,n,"method",h.method,h,null),ce(e,n,"target",h.target,h,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(a);break}o=Na(""+o),e.setAttribute(a,o);break;case"onClick":o!=null&&(e.onclick=fi);break;case"onScroll":o!=null&&Pt("scroll",e);break;case"onScrollEnd":o!=null&&Pt("scrollend",e);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(r(61));if(a=o.__html,a!=null){if(h.children!=null)throw Error(r(60));e.innerHTML=a}}break;case"multiple":e.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":e.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){e.removeAttribute("xlink:href");break}a=Na(""+o),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(a,""+o):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":o===!0?e.setAttribute(a,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(a,o):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?e.setAttribute(a,o):e.removeAttribute(a);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?e.removeAttribute(a):e.setAttribute(a,o);break;case"popover":Pt("beforetoggle",e),Pt("toggle",e),Ia(e,"popover",o);break;case"xlinkActuate":Pe(e,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":Pe(e,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":Pe(e,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":Pe(e,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":Pe(e,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":Pe(e,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":Pe(e,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":Pe(e,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":Pe(e,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":Ia(e,"is",o);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Ou.get(a)||a,Ia(e,a,o))}}function Dd(e,n,a,o,h,f){switch(a){case"style":Wo(e,o,f);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(r(61));if(a=o.__html,a!=null){if(h.children!=null)throw Error(r(60));e.innerHTML=a}}break;case"children":typeof o=="string"?wn(e,o):(typeof o=="number"||typeof o=="bigint")&&wn(e,""+o);break;case"onScroll":o!=null&&Pt("scroll",e);break;case"onScrollEnd":o!=null&&Pt("scrollend",e);break;case"onClick":o!=null&&(e.onclick=fi);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Qo.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),n=a.slice(2,h?a.length-7:void 0),f=e[ot]||null,f=f!=null?f[a]:null,typeof f=="function"&&e.removeEventListener(n,f,h),typeof o=="function")){typeof f!="function"&&f!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(n,o,h);break t}a in e?e[a]=o:o===!0?e.setAttribute(a,""):Ia(e,a,o)}}}function on(e,n,a){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Pt("error",e),Pt("load",e);var o=!1,h=!1,f;for(f in a)if(a.hasOwnProperty(f)){var g=a[f];if(g!=null)switch(f){case"src":o=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,n));default:ce(e,n,f,g,a,null)}}h&&ce(e,n,"srcSet",a.srcSet,a,null),o&&ce(e,n,"src",a.src,a,null);return;case"input":Pt("invalid",e);var E=f=g=h=null,x=null,z=null;for(o in a)if(a.hasOwnProperty(o)){var Q=a[o];if(Q!=null)switch(o){case"name":h=Q;break;case"type":g=Q;break;case"checked":x=Q;break;case"defaultChecked":z=Q;break;case"value":f=Q;break;case"defaultValue":E=Q;break;case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(r(137,n));break;default:ce(e,n,o,Q,a,null)}}Nu(e,f,E,x,z,g,h,!1);return;case"select":Pt("invalid",e),o=g=f=null;for(h in a)if(a.hasOwnProperty(h)&&(E=a[h],E!=null))switch(h){case"value":f=E;break;case"defaultValue":g=E;break;case"multiple":o=E;default:ce(e,n,h,E,a,null)}n=f,a=g,e.multiple=!!o,n!=null?Ls(e,!!o,n,!1):a!=null&&Ls(e,!!o,a,!0);return;case"textarea":Pt("invalid",e),f=h=o=null;for(g in a)if(a.hasOwnProperty(g)&&(E=a[g],E!=null))switch(g){case"value":o=E;break;case"defaultValue":h=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(r(91));break;default:ce(e,n,g,E,a,null)}ks(e,o,h,f);return;case"option":for(x in a)if(a.hasOwnProperty(x)&&(o=a[x],o!=null))switch(x){case"selected":e.selected=o&&typeof o!="function"&&typeof o!="symbol";break;default:ce(e,n,x,o,a,null)}return;case"dialog":Pt("beforetoggle",e),Pt("toggle",e),Pt("cancel",e),Pt("close",e);break;case"iframe":case"object":Pt("load",e);break;case"video":case"audio":for(o=0;o<Ol.length;o++)Pt(Ol[o],e);break;case"image":Pt("error",e),Pt("load",e);break;case"details":Pt("toggle",e);break;case"embed":case"source":case"link":Pt("error",e),Pt("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(z in a)if(a.hasOwnProperty(z)&&(o=a[z],o!=null))switch(z){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,n));default:ce(e,n,z,o,a,null)}return;default:if(Ca(n)){for(Q in a)a.hasOwnProperty(Q)&&(o=a[Q],o!==void 0&&Dd(e,n,Q,o,a,void 0));return}}for(E in a)a.hasOwnProperty(E)&&(o=a[E],o!=null&&ce(e,n,E,o,a,null))}function _A(e,n,a,o){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,g=null,E=null,x=null,z=null,Q=null;for(H in a){var $=a[H];if(a.hasOwnProperty(H)&&$!=null)switch(H){case"checked":break;case"value":break;case"defaultValue":x=$;default:o.hasOwnProperty(H)||ce(e,n,H,null,o,$)}}for(var B in o){var H=o[B];if($=a[B],o.hasOwnProperty(B)&&(H!=null||$!=null))switch(B){case"type":f=H;break;case"name":h=H;break;case"checked":z=H;break;case"defaultChecked":Q=H;break;case"value":g=H;break;case"defaultValue":E=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(r(137,n));break;default:H!==$&&ce(e,n,B,H,o,$)}}xa(e,g,E,x,z,Q,f,h);return;case"select":H=g=E=B=null;for(f in a)if(x=a[f],a.hasOwnProperty(f)&&x!=null)switch(f){case"value":break;case"multiple":H=x;default:o.hasOwnProperty(f)||ce(e,n,f,null,o,x)}for(h in o)if(f=o[h],x=a[h],o.hasOwnProperty(h)&&(f!=null||x!=null))switch(h){case"value":B=f;break;case"defaultValue":E=f;break;case"multiple":g=f;default:f!==x&&ce(e,n,h,f,o,x)}n=E,a=g,o=H,B!=null?Ls(e,!!a,B,!1):!!o!=!!a&&(n!=null?Ls(e,!!a,n,!0):Ls(e,!!a,a?[]:"",!1));return;case"textarea":H=B=null;for(E in a)if(h=a[E],a.hasOwnProperty(E)&&h!=null&&!o.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:ce(e,n,E,null,o,h)}for(g in o)if(h=o[g],f=a[g],o.hasOwnProperty(g)&&(h!=null||f!=null))switch(g){case"value":B=h;break;case"defaultValue":H=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(r(91));break;default:h!==f&&ce(e,n,g,h,o,f)}Du(e,B,H);return;case"option":for(var ht in a)if(B=a[ht],a.hasOwnProperty(ht)&&B!=null&&!o.hasOwnProperty(ht))switch(ht){case"selected":e.selected=!1;break;default:ce(e,n,ht,null,o,B)}for(x in o)if(B=o[x],H=a[x],o.hasOwnProperty(x)&&B!==H&&(B!=null||H!=null))switch(x){case"selected":e.selected=B&&typeof B!="function"&&typeof B!="symbol";break;default:ce(e,n,x,B,o,H)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Et in a)B=a[Et],a.hasOwnProperty(Et)&&B!=null&&!o.hasOwnProperty(Et)&&ce(e,n,Et,null,o,B);for(z in o)if(B=o[z],H=a[z],o.hasOwnProperty(z)&&B!==H&&(B!=null||H!=null))switch(z){case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(r(137,n));break;default:ce(e,n,z,B,o,H)}return;default:if(Ca(n)){for(var he in a)B=a[he],a.hasOwnProperty(he)&&B!==void 0&&!o.hasOwnProperty(he)&&Dd(e,n,he,void 0,o,B);for(Q in o)B=o[Q],H=a[Q],!o.hasOwnProperty(Q)||B===H||B===void 0&&H===void 0||Dd(e,n,Q,B,o,H);return}}for(var k in a)B=a[k],a.hasOwnProperty(k)&&B!=null&&!o.hasOwnProperty(k)&&ce(e,n,k,null,o,B);for($ in o)B=o[$],H=a[$],!o.hasOwnProperty($)||B===H||B==null&&H==null||ce(e,n,$,B,o,H)}function R_(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function vA(){if(typeof performance.getEntriesByType=="function"){for(var e=0,n=0,a=performance.getEntriesByType("resource"),o=0;o<a.length;o++){var h=a[o],f=h.transferSize,g=h.initiatorType,E=h.duration;if(f&&E&&R_(g)){for(g=0,E=h.responseEnd,o+=1;o<a.length;o++){var x=a[o],z=x.startTime;if(z>E)break;var Q=x.transferSize,$=x.initiatorType;Q&&R_($)&&(x=x.responseEnd,g+=Q*(x<E?1:(E-z)/(x-z)))}if(--o,n+=8*(f+g)/(h.duration/1e3),e++,10<e)break}}if(0<e)return n/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var Md=null,Od=null;function Vc(e){return e.nodeType===9?e:e.ownerDocument}function I_(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function x_(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function Vd(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Ud=null;function EA(){var e=window.event;return e&&e.type==="popstate"?e===Ud?!1:(Ud=e,!0):(Ud=null,!1)}var C_=typeof setTimeout=="function"?setTimeout:void 0,TA=typeof clearTimeout=="function"?clearTimeout:void 0,N_=typeof Promise=="function"?Promise:void 0,AA=typeof queueMicrotask=="function"?queueMicrotask:typeof N_<"u"?function(e){return N_.resolve(null).then(e).catch(SA)}:C_;function SA(e){setTimeout(function(){throw e})}function ar(e){return e==="head"}function D_(e,n){var a=n,o=0;do{var h=a.nextSibling;if(e.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"||a==="/&"){if(o===0){e.removeChild(h),co(n);return}o--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")o++;else if(a==="html")Ul(e.ownerDocument.documentElement);else if(a==="head"){a=e.ownerDocument.head,Ul(a);for(var f=a.firstChild;f;){var g=f.nextSibling,E=f.nodeName;f[Ii]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&f.rel.toLowerCase()==="stylesheet"||a.removeChild(f),f=g}}else a==="body"&&Ul(e.ownerDocument.body);a=h}while(a);co(n)}function M_(e,n){var a=e;e=0;do{var o=a.nextSibling;if(a.nodeType===1?n?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(n?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),o&&o.nodeType===8)if(a=o.data,a==="/$"){if(e===0)break;e--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||e++;a=o}while(a)}function Ld(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var a=n;switch(n=n.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Ld(a),Ra(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function bA(e,n,a,o){for(;e.nodeType===1;){var h=a;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!o&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(o){if(!e[Ii])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(f=e.getAttribute("rel"),f==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(f!==h.rel||e.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||e.getAttribute("title")!==(h.title==null?null:h.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(f=e.getAttribute("src"),(f!==(h.src==null?null:h.src)||e.getAttribute("type")!==(h.type==null?null:h.type)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&e.getAttribute("name")===f)return e}else return e;if(e=oi(e.nextSibling),e===null)break}return null}function wA(e,n,a){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=oi(e.nextSibling),e===null))return null;return e}function O_(e,n){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=oi(e.nextSibling),e===null))return null;return e}function kd(e){return e.data==="$?"||e.data==="$~"}function Pd(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function RA(e,n){var a=e.ownerDocument;if(e.data==="$~")e._reactRetry=n;else if(e.data!=="$?"||a.readyState!=="loading")n();else{var o=function(){n(),a.removeEventListener("DOMContentLoaded",o)};a.addEventListener("DOMContentLoaded",o),e._reactRetry=o}}function oi(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return e}var jd=null;function V_(e){e=e.nextSibling;for(var n=0;e;){if(e.nodeType===8){var a=e.data;if(a==="/$"||a==="/&"){if(n===0)return oi(e.nextSibling);n--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||n++}e=e.nextSibling}return null}function U_(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(n===0)return e;n--}else a!=="/$"&&a!=="/&"||n++}e=e.previousSibling}return null}function L_(e,n,a){switch(n=Vc(a),e){case"html":if(e=n.documentElement,!e)throw Error(r(452));return e;case"head":if(e=n.head,!e)throw Error(r(453));return e;case"body":if(e=n.body,!e)throw Error(r(454));return e;default:throw Error(r(451))}}function Ul(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);Ra(e)}var li=new Map,k_=new Set;function Uc(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Ss=at.d;at.d={f:IA,r:xA,D:CA,C:NA,L:DA,m:MA,X:VA,S:OA,M:UA};function IA(){var e=Ss.f(),n=Rc();return e||n}function xA(e){var n=Zn(e);n!==null&&n.tag===5&&n.type==="form"?ty(n):Ss.r(e)}var oo=typeof document>"u"?null:document;function P_(e,n,a){var o=oo;if(o&&typeof n=="string"&&n){var h=bn(n);h='link[rel="'+e+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),k_.has(h)||(k_.add(h),e={rel:e,crossOrigin:a,href:n},o.querySelector(h)===null&&(n=o.createElement("link"),on(n,"link",e),ke(n),o.head.appendChild(n)))}}function CA(e){Ss.D(e),P_("dns-prefetch",e,null)}function NA(e,n){Ss.C(e,n),P_("preconnect",e,n)}function DA(e,n,a){Ss.L(e,n,a);var o=oo;if(o&&e&&n){var h='link[rel="preload"][as="'+bn(n)+'"]';n==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+bn(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+bn(a.imageSizes)+'"]')):h+='[href="'+bn(e)+'"]';var f=h;switch(n){case"style":f=lo(e);break;case"script":f=uo(e)}li.has(f)||(e=b({rel:"preload",href:n==="image"&&a&&a.imageSrcSet?void 0:e,as:n},a),li.set(f,e),o.querySelector(h)!==null||n==="style"&&o.querySelector(Ll(f))||n==="script"&&o.querySelector(kl(f))||(n=o.createElement("link"),on(n,"link",e),ke(n),o.head.appendChild(n)))}}function MA(e,n){Ss.m(e,n);var a=oo;if(a&&e){var o=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+bn(o)+'"][href="'+bn(e)+'"]',f=h;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=uo(e)}if(!li.has(f)&&(e=b({rel:"modulepreload",href:e},n),li.set(f,e),a.querySelector(h)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(kl(f)))return}o=a.createElement("link"),on(o,"link",e),ke(o),a.head.appendChild(o)}}}function OA(e,n,a){Ss.S(e,n,a);var o=oo;if(o&&e){var h=Ci(o).hoistableStyles,f=lo(e);n=n||"default";var g=h.get(f);if(!g){var E={loading:0,preload:null};if(g=o.querySelector(Ll(f)))E.loading=5;else{e=b({rel:"stylesheet",href:e,"data-precedence":n},a),(a=li.get(f))&&zd(e,a);var x=g=o.createElement("link");ke(x),on(x,"link",e),x._p=new Promise(function(z,Q){x.onload=z,x.onerror=Q}),x.addEventListener("load",function(){E.loading|=1}),x.addEventListener("error",function(){E.loading|=2}),E.loading|=4,Lc(g,n,o)}g={type:"stylesheet",instance:g,count:1,state:E},h.set(f,g)}}}function VA(e,n){Ss.X(e,n);var a=oo;if(a&&e){var o=Ci(a).hoistableScripts,h=uo(e),f=o.get(h);f||(f=a.querySelector(kl(h)),f||(e=b({src:e,async:!0},n),(n=li.get(h))&&Bd(e,n),f=a.createElement("script"),ke(f),on(f,"link",e),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function UA(e,n){Ss.M(e,n);var a=oo;if(a&&e){var o=Ci(a).hoistableScripts,h=uo(e),f=o.get(h);f||(f=a.querySelector(kl(h)),f||(e=b({src:e,async:!0,type:"module"},n),(n=li.get(h))&&Bd(e,n),f=a.createElement("script"),ke(f),on(f,"link",e),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function j_(e,n,a,o){var h=(h=xt.current)?Uc(h):null;if(!h)throw Error(r(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(n=lo(a.href),a=Ci(h).hoistableStyles,o=a.get(n),o||(o={type:"style",instance:null,count:0,state:null},a.set(n,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=lo(a.href);var f=Ci(h).hoistableStyles,g=f.get(e);if(g||(h=h.ownerDocument||h,g={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(e,g),(f=h.querySelector(Ll(e)))&&!f._p&&(g.instance=f,g.state.loading=5),li.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},li.set(e,a),f||LA(h,e,a,g.state))),n&&o===null)throw Error(r(528,""));return g}if(n&&o!==null)throw Error(r(529,""));return null;case"script":return n=a.async,a=a.src,typeof a=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=uo(a),a=Ci(h).hoistableScripts,o=a.get(n),o||(o={type:"script",instance:null,count:0,state:null},a.set(n,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,e))}}function lo(e){return'href="'+bn(e)+'"'}function Ll(e){return'link[rel="stylesheet"]['+e+"]"}function z_(e){return b({},e,{"data-precedence":e.precedence,precedence:null})}function LA(e,n,a,o){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?o.loading=1:(n=e.createElement("link"),o.preload=n,n.addEventListener("load",function(){return o.loading|=1}),n.addEventListener("error",function(){return o.loading|=2}),on(n,"link",a),ke(n),e.head.appendChild(n))}function uo(e){return'[src="'+bn(e)+'"]'}function kl(e){return"script[async]"+e}function B_(e,n,a){if(n.count++,n.instance===null)switch(n.type){case"style":var o=e.querySelector('style[data-href~="'+bn(a.href)+'"]');if(o)return n.instance=o,ke(o),o;var h=b({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return o=(e.ownerDocument||e).createElement("style"),ke(o),on(o,"style",h),Lc(o,a.precedence,e),n.instance=o;case"stylesheet":h=lo(a.href);var f=e.querySelector(Ll(h));if(f)return n.state.loading|=4,n.instance=f,ke(f),f;o=z_(a),(h=li.get(h))&&zd(o,h),f=(e.ownerDocument||e).createElement("link"),ke(f);var g=f;return g._p=new Promise(function(E,x){g.onload=E,g.onerror=x}),on(f,"link",o),n.state.loading|=4,Lc(f,a.precedence,e),n.instance=f;case"script":return f=uo(a.src),(h=e.querySelector(kl(f)))?(n.instance=h,ke(h),h):(o=a,(h=li.get(f))&&(o=b({},a),Bd(o,h)),e=e.ownerDocument||e,h=e.createElement("script"),ke(h),on(h,"link",o),e.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(r(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(o=n.instance,n.state.loading|=4,Lc(o,a.precedence,e));return n.instance}function Lc(e,n,a){for(var o=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=o.length?o[o.length-1]:null,f=h,g=0;g<o.length;g++){var E=o[g];if(E.dataset.precedence===n)f=E;else if(f!==h)break}f?f.parentNode.insertBefore(e,f.nextSibling):(n=a.nodeType===9?a.head:a,n.insertBefore(e,n.firstChild))}function zd(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function Bd(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var kc=null;function q_(e,n,a){if(kc===null){var o=new Map,h=kc=new Map;h.set(a,o)}else h=kc,o=h.get(a),o||(o=new Map,h.set(a,o));if(o.has(e))return o;for(o.set(e,null),a=a.getElementsByTagName(e),h=0;h<a.length;h++){var f=a[h];if(!(f[Ii]||f[vt]||e==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var g=f.getAttribute(n)||"";g=e+g;var E=o.get(g);E?E.push(f):o.set(g,[f])}}return o}function H_(e,n,a){e=e.ownerDocument||e,e.head.insertBefore(a,n==="title"?e.querySelector("head > title"):null)}function kA(e,n,a){if(a===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return e=n.disabled,typeof n.precedence=="string"&&e==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function F_(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function PA(e,n,a,o){if(a.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var h=lo(o.href),f=n.querySelector(Ll(h));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(e.count++,e=Pc.bind(e),n.then(e,e)),a.state.loading|=4,a.instance=f,ke(f);return}f=n.ownerDocument||n,o=z_(o),(h=li.get(h))&&zd(o,h),f=f.createElement("link"),ke(f);var g=f;g._p=new Promise(function(E,x){g.onload=E,g.onerror=x}),on(f,"link",o),a.instance=f}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(a,n),(n=a.state.preload)&&(a.state.loading&3)===0&&(e.count++,a=Pc.bind(e),n.addEventListener("load",a),n.addEventListener("error",a))}}var qd=0;function jA(e,n){return e.stylesheets&&e.count===0&&zc(e,e.stylesheets),0<e.count||0<e.imgCount?function(a){var o=setTimeout(function(){if(e.stylesheets&&zc(e,e.stylesheets),e.unsuspend){var f=e.unsuspend;e.unsuspend=null,f()}},6e4+n);0<e.imgBytes&&qd===0&&(qd=62500*vA());var h=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&zc(e,e.stylesheets),e.unsuspend)){var f=e.unsuspend;e.unsuspend=null,f()}},(e.imgBytes>qd?50:800)+n);return e.unsuspend=a,function(){e.unsuspend=null,clearTimeout(o),clearTimeout(h)}}:null}function Pc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)zc(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var jc=null;function zc(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,jc=new Map,n.forEach(zA,e),jc=null,Pc.call(e))}function zA(e,n){if(!(n.state.loading&4)){var a=jc.get(e);if(a)var o=a.get(null);else{a=new Map,jc.set(e,a);for(var h=e.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var g=h[f];(g.nodeName==="LINK"||g.getAttribute("media")!=="not all")&&(a.set(g.dataset.precedence,g),o=g)}o&&a.set(null,o)}h=n.instance,g=h.getAttribute("data-precedence"),f=a.get(g)||o,f===o&&a.set(null,h),a.set(g,h),this.count++,o=Pc.bind(this),h.addEventListener("load",o),h.addEventListener("error",o),f?f.parentNode.insertBefore(h,f.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(h,e.firstChild)),n.state.loading|=4}}var Pl={$$typeof:Tt,Provider:null,Consumer:null,_currentValue:pt,_currentValue2:pt,_threadCount:0};function BA(e,n,a,o,h,f,g,E,x){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=$n(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=$n(0),this.hiddenUpdates=$n(null),this.identifierPrefix=o,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=g,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=x,this.incompleteTransitions=new Map}function G_(e,n,a,o,h,f,g,E,x,z,Q,$){return e=new BA(e,n,a,g,x,z,Q,$,E),n=1,f===!0&&(n|=24),f=kn(3,null,null,n),e.current=f,f.stateNode=e,n=Tf(),n.refCount++,e.pooledCache=n,n.refCount++,f.memoizedState={element:o,isDehydrated:a,cache:n},wf(f),e}function Q_(e){return e?(e=za,e):za}function Y_(e,n,a,o,h,f){h=Q_(h),o.context===null?o.context=h:o.pendingContext=h,o=Xs(n),o.payload={element:a},f=f===void 0?null:f,f!==null&&(o.callback=f),a=$s(e,o,n),a!==null&&(Nn(a,e,n),pl(a,e,n))}function K_(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<n?a:n}}function Hd(e,n){K_(e,n),(e=e.alternate)&&K_(e,n)}function X_(e){if(e.tag===13||e.tag===31){var n=Xr(e,67108864);n!==null&&Nn(n,e,67108864),Hd(e,67108864)}}function $_(e){if(e.tag===13||e.tag===31){var n=qn();n=tt(n);var a=Xr(e,n);a!==null&&Nn(a,e,n),Hd(e,n)}}var Bc=!0;function qA(e,n,a,o){var h=G.T;G.T=null;var f=at.p;try{at.p=2,Fd(e,n,a,o)}finally{at.p=f,G.T=h}}function HA(e,n,a,o){var h=G.T;G.T=null;var f=at.p;try{at.p=8,Fd(e,n,a,o)}finally{at.p=f,G.T=h}}function Fd(e,n,a,o){if(Bc){var h=Gd(o);if(h===null)Nd(e,n,o,qc,a),J_(e,o);else if(GA(h,e,n,a,o))o.stopPropagation();else if(J_(e,o),n&4&&-1<FA.indexOf(e)){for(;h!==null;){var f=Zn(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var g=Kn(f.pendingLanes);if(g!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;g;){var x=1<<31-_e(g);E.entanglements[1]|=x,g&=~x}qi(f),(ee&6)===0&&(bc=en()+500,Ml(0))}}break;case 31:case 13:E=Xr(f,2),E!==null&&Nn(E,f,2),Rc(),Hd(f,2)}if(f=Gd(o),f===null&&Nd(e,n,o,qc,a),f===h)break;h=f}h!==null&&o.stopPropagation()}else Nd(e,n,o,null,a)}}function Gd(e){return e=Jn(e),Qd(e)}var qc=null;function Qd(e){if(qc=null,e=xi(e),e!==null){var n=c(e);if(n===null)e=null;else{var a=n.tag;if(a===13){if(e=d(n),e!==null)return e;e=null}else if(a===31){if(e=p(n),e!==null)return e;e=null}else if(a===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return qc=e,null}function Z_(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ns()){case Or:return 2;case Vr:return 8;case yn:case Vs:return 32;case Ur:return 268435456;default:return 32}default:return 32}}var Yd=!1,or=null,lr=null,ur=null,jl=new Map,zl=new Map,cr=[],FA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function J_(e,n){switch(e){case"focusin":case"focusout":or=null;break;case"dragenter":case"dragleave":lr=null;break;case"mouseover":case"mouseout":ur=null;break;case"pointerover":case"pointerout":jl.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":zl.delete(n.pointerId)}}function Bl(e,n,a,o,h,f){return e===null||e.nativeEvent!==f?(e={blockedOn:n,domEventName:a,eventSystemFlags:o,nativeEvent:f,targetContainers:[h]},n!==null&&(n=Zn(n),n!==null&&X_(n)),e):(e.eventSystemFlags|=o,n=e.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),e)}function GA(e,n,a,o,h){switch(n){case"focusin":return or=Bl(or,e,n,a,o,h),!0;case"dragenter":return lr=Bl(lr,e,n,a,o,h),!0;case"mouseover":return ur=Bl(ur,e,n,a,o,h),!0;case"pointerover":var f=h.pointerId;return jl.set(f,Bl(jl.get(f)||null,e,n,a,o,h)),!0;case"gotpointercapture":return f=h.pointerId,zl.set(f,Bl(zl.get(f)||null,e,n,a,o,h)),!0}return!1}function W_(e){var n=xi(e.target);if(n!==null){var a=c(n);if(a!==null){if(n=a.tag,n===13){if(n=d(a),n!==null){e.blockedOn=n,dt(e.priority,function(){$_(a)});return}}else if(n===31){if(n=p(a),n!==null){e.blockedOn=n,dt(e.priority,function(){$_(a)});return}}else if(n===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Hc(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var a=Gd(e.nativeEvent);if(a===null){a=e.nativeEvent;var o=new a.constructor(a.type,a);tl=o,a.target.dispatchEvent(o),tl=null}else return n=Zn(a),n!==null&&X_(n),e.blockedOn=a,!1;n.shift()}return!0}function tv(e,n,a){Hc(e)&&a.delete(n)}function QA(){Yd=!1,or!==null&&Hc(or)&&(or=null),lr!==null&&Hc(lr)&&(lr=null),ur!==null&&Hc(ur)&&(ur=null),jl.forEach(tv),zl.forEach(tv)}function Fc(e,n){e.blockedOn===n&&(e.blockedOn=null,Yd||(Yd=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,QA)))}var Gc=null;function ev(e){Gc!==e&&(Gc=e,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){Gc===e&&(Gc=null);for(var n=0;n<e.length;n+=3){var a=e[n],o=e[n+1],h=e[n+2];if(typeof o!="function"){if(Qd(o||a)===null)continue;break}var f=Zn(a);f!==null&&(e.splice(n,3),n-=3,Gf(f,{pending:!0,data:h,method:a.method,action:o},o,h))}}))}function co(e){function n(x){return Fc(x,e)}or!==null&&Fc(or,e),lr!==null&&Fc(lr,e),ur!==null&&Fc(ur,e),jl.forEach(n),zl.forEach(n);for(var a=0;a<cr.length;a++){var o=cr[a];o.blockedOn===e&&(o.blockedOn=null)}for(;0<cr.length&&(a=cr[0],a.blockedOn===null);)W_(a),a.blockedOn===null&&cr.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(o=0;o<a.length;o+=3){var h=a[o],f=a[o+1],g=h[ot]||null;if(typeof f=="function")g||ev(a);else if(g){var E=null;if(f&&f.hasAttribute("formAction")){if(h=f,g=f[ot]||null)E=g.formAction;else if(Qd(h)!==null)continue}else E=g.action;typeof E=="function"?a[o+1]=E:(a.splice(o,3),o-=3),ev(a)}}}function nv(){function e(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(g){return h=g})},focusReset:"manual",scroll:"manual"})}function n(){h!==null&&(h(),h=null),o||setTimeout(a,20)}function a(){if(!o&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var o=!1,h=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(a,100),function(){o=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),h!==null&&(h(),h=null)}}}function Kd(e){this._internalRoot=e}Qc.prototype.render=Kd.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(r(409));var a=n.current,o=qn();Y_(a,o,e,n,null,null)},Qc.prototype.unmount=Kd.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;Y_(e.current,2,null,e,null,null),Rc(),n[Mt]=null}};function Qc(e){this._internalRoot=e}Qc.prototype.unstable_scheduleHydration=function(e){if(e){var n=st();e={blockedOn:null,target:e,priority:n};for(var a=0;a<cr.length&&n!==0&&n<cr[a].priority;a++);cr.splice(a,0,e),a===0&&W_(e)}};var iv=t.version;if(iv!=="19.2.0")throw Error(r(527,iv,"19.2.0"));at.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(r(188)):(e=Object.keys(e).join(","),Error(r(268,e)));return e=y(n),e=e!==null?A(e):null,e=e===null?null:e.stateNode,e};var YA={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:G,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Yc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Yc.isDisabled&&Yc.supportsFiber)try{An=Yc.inject(YA),Ye=Yc}catch{}}return Hl.createRoot=function(e,n){if(!l(e))throw Error(r(299));var a=!1,o="",h=cy,f=hy,g=fy;return n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(g=n.onRecoverableError)),n=G_(e,1,!1,null,null,a,o,null,h,f,g,nv),e[Mt]=n.current,Cd(e),new Kd(n)},Hl.hydrateRoot=function(e,n,a){if(!l(e))throw Error(r(299));var o=!1,h="",f=cy,g=hy,E=fy,x=null;return a!=null&&(a.unstable_strictMode===!0&&(o=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(f=a.onUncaughtError),a.onCaughtError!==void 0&&(g=a.onCaughtError),a.onRecoverableError!==void 0&&(E=a.onRecoverableError),a.formState!==void 0&&(x=a.formState)),n=G_(e,1,!0,n,a??null,o,h,x,f,g,E,nv),n.context=Q_(null),a=n.current,o=qn(),o=tt(o),h=Xs(o),h.callback=null,$s(a,h,o),a=o,n.current.lanes=a,ss(n,a),qi(n),e[Mt]=n.current,Cd(e),new Qc(n)},Hl.version="19.2.0",Hl}var dv;function iS(){if(dv)return Zd.exports;dv=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(t){console.error(t)}}return s(),Zd.exports=nS(),Zd.exports}var sS=iS();/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rS=s=>s.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),aS=s=>s.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,i,r)=>r?r.toUpperCase():i.toLowerCase()),mv=s=>{const t=aS(s);return t.charAt(0).toUpperCase()+t.slice(1)},K0=(...s)=>s.filter((t,i,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===i).join(" ").trim(),oS=s=>{for(const t in s)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var lS={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uS=Qt.forwardRef(({color:s="currentColor",size:t=24,strokeWidth:i=2,absoluteStrokeWidth:r,className:l="",children:c,iconNode:d,...p},_)=>Qt.createElement("svg",{ref:_,...lS,width:t,height:t,stroke:s,strokeWidth:r?Number(i)*24/Number(t):i,className:K0("lucide",l),...!c&&!oS(p)&&{"aria-hidden":"true"},...p},[...d.map(([y,A])=>Qt.createElement(y,A)),...Array.isArray(c)?c:[c]]));/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cr=(s,t)=>{const i=Qt.forwardRef(({className:r,...l},c)=>Qt.createElement(uS,{ref:c,iconNode:t,className:K0(`lucide-${rS(mv(s))}`,`lucide-${s}`,r),...l}));return i.displayName=mv(s),i};/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cS=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],gv=Cr("award",cS);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hS=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],pv=Cr("calendar",hS);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fS=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],dS=Cr("clock",fS);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mS=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],gS=Cr("history",mS);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pS=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],yS=Cr("house",pS);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _S=[["path",{d:"m16 11 2 2 4-4",key:"9rsbq5"}],["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],vS=Cr("user-check",_S);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ES=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],TS=Cr("user-plus",ES);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AS=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],yv=Cr("users",AS),SS=()=>{};var _v={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X0=function(s){const t=[];let i=0;for(let r=0;r<s.length;r++){let l=s.charCodeAt(r);l<128?t[i++]=l:l<2048?(t[i++]=l>>6|192,t[i++]=l&63|128):(l&64512)===55296&&r+1<s.length&&(s.charCodeAt(r+1)&64512)===56320?(l=65536+((l&1023)<<10)+(s.charCodeAt(++r)&1023),t[i++]=l>>18|240,t[i++]=l>>12&63|128,t[i++]=l>>6&63|128,t[i++]=l&63|128):(t[i++]=l>>12|224,t[i++]=l>>6&63|128,t[i++]=l&63|128)}return t},bS=function(s){const t=[];let i=0,r=0;for(;i<s.length;){const l=s[i++];if(l<128)t[r++]=String.fromCharCode(l);else if(l>191&&l<224){const c=s[i++];t[r++]=String.fromCharCode((l&31)<<6|c&63)}else if(l>239&&l<365){const c=s[i++],d=s[i++],p=s[i++],_=((l&7)<<18|(c&63)<<12|(d&63)<<6|p&63)-65536;t[r++]=String.fromCharCode(55296+(_>>10)),t[r++]=String.fromCharCode(56320+(_&1023))}else{const c=s[i++],d=s[i++];t[r++]=String.fromCharCode((l&15)<<12|(c&63)<<6|d&63)}}return t.join("")},$0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,t){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let l=0;l<s.length;l+=3){const c=s[l],d=l+1<s.length,p=d?s[l+1]:0,_=l+2<s.length,y=_?s[l+2]:0,A=c>>2,b=(c&3)<<4|p>>4;let N=(p&15)<<2|y>>6,Y=y&63;_||(Y=64,d||(N=64)),r.push(i[A],i[b],i[N],i[Y])}return r.join("")},encodeString(s,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(s):this.encodeByteArray(X0(s),t)},decodeString(s,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(s):bS(this.decodeStringToByteArray(s,t))},decodeStringToByteArray(s,t){this.init_();const i=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let l=0;l<s.length;){const c=i[s.charAt(l++)],p=l<s.length?i[s.charAt(l)]:0;++l;const y=l<s.length?i[s.charAt(l)]:64;++l;const b=l<s.length?i[s.charAt(l)]:64;if(++l,c==null||p==null||y==null||b==null)throw new wS;const N=c<<2|p>>4;if(r.push(N),y!==64){const Y=p<<4&240|y>>2;if(r.push(Y),b!==64){const et=y<<6&192|b;r.push(et)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class wS extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const RS=function(s){const t=X0(s);return $0.encodeByteArray(t,!0)},fh=function(s){return RS(s).replace(/\./g,"")},Z0=function(s){try{return $0.decodeString(s,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IS(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xS=()=>IS().__FIREBASE_DEFAULTS__,CS=()=>{if(typeof process>"u"||typeof _v>"u")return;const s=_v.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},NS=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=s&&Z0(s[1]);return t&&JSON.parse(t)},Mh=()=>{try{return SS()||xS()||CS()||NS()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},J0=s=>Mh()?.emulatorHosts?.[s],DS=s=>{const t=J0(s);if(!t)return;const i=t.lastIndexOf(":");if(i<=0||i+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(i+1),10);return t[0]==="["?[t.substring(1,i-1),r]:[t.substring(0,i),r]},W0=()=>Mh()?.config,tE=s=>Mh()?.[`_${s}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MS{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,i)=>{this.resolve=t,this.reject=i})}wrapCallback(t){return(i,r)=>{i?this.reject(i):this.resolve(r),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(i):t(i,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vo(s){try{return(s.startsWith("http://")||s.startsWith("https://")?new URL(s).hostname:s).endsWith(".cloudworkstations.dev")}catch{return!1}}async function eE(s){return(await fetch(s,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OS(s,t){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},r=t||"demo-project",l=s.iat||0,c=s.sub||s.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${r}`,aud:r,iat:l,exp:l+3600,auth_time:l,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...s};return[fh(JSON.stringify(i)),fh(JSON.stringify(d)),""].join(".")}const Xl={};function VS(){const s={prod:[],emulator:[]};for(const t of Object.keys(Xl))Xl[t]?s.emulator.push(t):s.prod.push(t);return s}function US(s){let t=document.getElementById(s),i=!1;return t||(t=document.createElement("div"),t.setAttribute("id",s),i=!0),{created:i,element:t}}let vv=!1;function nE(s,t){if(typeof window>"u"||typeof document>"u"||!Vo(window.location.host)||Xl[s]===t||Xl[s]||vv)return;Xl[s]=t;function i(N){return`__firebase__banner__${N}`}const r="__firebase__banner",c=VS().prod.length>0;function d(){const N=document.getElementById(r);N&&N.remove()}function p(N){N.style.display="flex",N.style.background="#7faaf0",N.style.position="fixed",N.style.bottom="5px",N.style.left="5px",N.style.padding=".5em",N.style.borderRadius="5px",N.style.alignItems="center"}function _(N,Y){N.setAttribute("width","24"),N.setAttribute("id",Y),N.setAttribute("height","24"),N.setAttribute("viewBox","0 0 24 24"),N.setAttribute("fill","none"),N.style.marginLeft="-6px"}function y(){const N=document.createElement("span");return N.style.cursor="pointer",N.style.marginLeft="16px",N.style.fontSize="24px",N.innerHTML=" &times;",N.onclick=()=>{vv=!0,d()},N}function A(N,Y){N.setAttribute("id",Y),N.innerText="Learn more",N.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",N.setAttribute("target","__blank"),N.style.paddingLeft="5px",N.style.textDecoration="underline"}function b(){const N=US(r),Y=i("text"),et=document.getElementById(Y)||document.createElement("span"),ut=i("learnmore"),nt=document.getElementById(ut)||document.createElement("a"),yt=i("preprendIcon"),wt=document.getElementById(yt)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(N.created){const Tt=N.element;p(Tt),A(nt,ut);const $t=y();_(wt,yt),Tt.append(wt,et,nt,$t),document.body.appendChild(Tt)}c?(et.innerText="Preview backend disconnected.",wt.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(wt.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,et.innerText="Preview backend running in this workspace."),et.setAttribute("id",Y)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",b):b()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function LS(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(pn())}function kS(){const s=Mh()?.forceEnvironment;if(s==="node")return!0;if(s==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function PS(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function jS(){const s=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof s=="object"&&s.id!==void 0}function zS(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function BS(){const s=pn();return s.indexOf("MSIE ")>=0||s.indexOf("Trident/")>=0}function qS(){return!kS()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function HS(){try{return typeof indexedDB=="object"}catch{return!1}}function FS(){return new Promise((s,t)=>{try{let i=!0;const r="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(r);l.onsuccess=()=>{l.result.close(),i||self.indexedDB.deleteDatabase(r),s(!0)},l.onupgradeneeded=()=>{i=!1},l.onerror=()=>{t(l.error?.message||"")}}catch(i){t(i)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GS="FirebaseError";class Ms extends Error{constructor(t,i,r){super(i),this.code=t,this.customData=r,this.name=GS,Object.setPrototypeOf(this,Ms.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,du.prototype.create)}}class du{constructor(t,i,r){this.service=t,this.serviceName=i,this.errors=r}create(t,...i){const r=i[0]||{},l=`${this.service}/${t}`,c=this.errors[t],d=c?QS(c,r):"Error",p=`${this.serviceName}: ${d} (${l}).`;return new Ms(l,p,r)}}function QS(s,t){return s.replace(YS,(i,r)=>{const l=t[r];return l!=null?String(l):`<${r}?>`})}const YS=/\{\$([^}]+)}/g;function KS(s){for(const t in s)if(Object.prototype.hasOwnProperty.call(s,t))return!1;return!0}function ma(s,t){if(s===t)return!0;const i=Object.keys(s),r=Object.keys(t);for(const l of i){if(!r.includes(l))return!1;const c=s[l],d=t[l];if(Ev(c)&&Ev(d)){if(!ma(c,d))return!1}else if(c!==d)return!1}for(const l of r)if(!i.includes(l))return!1;return!0}function Ev(s){return s!==null&&typeof s=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mu(s){const t=[];for(const[i,r]of Object.entries(s))Array.isArray(r)?r.forEach(l=>{t.push(encodeURIComponent(i)+"="+encodeURIComponent(l))}):t.push(encodeURIComponent(i)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function XS(s,t){const i=new $S(s,t);return i.subscribe.bind(i)}class $S{constructor(t,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{t(this)}).catch(r=>{this.error(r)})}next(t){this.forEachObserver(i=>{i.next(t)})}error(t){this.forEachObserver(i=>{i.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,i,r){let l;if(t===void 0&&i===void 0&&r===void 0)throw new Error("Missing Observer.");ZS(t,["next","error","complete"])?l=t:l={next:t,error:i,complete:r},l.next===void 0&&(l.next=em),l.error===void 0&&(l.error=em),l.complete===void 0&&(l.complete=em);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),c}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,t)}sendOne(t,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{i(this.observers[t])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function ZS(s,t){if(typeof s!="object"||s===null)return!1;for(const i of t)if(i in s&&typeof s[i]=="function")return!0;return!1}function em(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qe(s){return s&&s._delegate?s._delegate:s}class ga{constructor(t,i,r){this.name=t,this.instanceFactory=i,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ua="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JS{constructor(t,i){this.name=t,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const i=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(i)){const r=new MS;if(this.instancesDeferred.set(i,r),this.isInitialized(i)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:i});l&&r.resolve(l)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(t){const i=this.normalizeInstanceIdentifier(t?.identifier),r=t?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(l){if(r)return null;throw l}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(tb(t))try{this.getOrInitializeService({instanceIdentifier:ua})}catch{}for(const[i,r]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);try{const c=this.getOrInitializeService({instanceIdentifier:l});r.resolve(c)}catch{}}}}clearInstance(t=ua){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...t.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=ua){return this.instances.has(t)}getOptions(t=ua){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:i={}}=t,r=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:r,options:i});for(const[c,d]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(c);r===p&&d.resolve(l)}return l}onInit(t,i){const r=this.normalizeInstanceIdentifier(i),l=this.onInitCallbacks.get(r)??new Set;l.add(t),this.onInitCallbacks.set(r,l);const c=this.instances.get(r);return c&&t(c,r),()=>{l.delete(t)}}invokeOnInitCallbacks(t,i){const r=this.onInitCallbacks.get(i);if(r)for(const l of r)try{l(t,i)}catch{}}getOrInitializeService({instanceIdentifier:t,options:i={}}){let r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:WS(t),options:i}),this.instances.set(t,r),this.instancesOptions.set(t,i),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch{}return r||null}normalizeInstanceIdentifier(t=ua){return this.component?this.component.multipleInstances?t:ua:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function WS(s){return s===ua?void 0:s}function tb(s){return s.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eb{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const i=this.getProvider(t.name);if(i.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);i.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const i=new JS(t,this);return this.providers.set(t,i),i}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Bt;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(Bt||(Bt={}));const nb={debug:Bt.DEBUG,verbose:Bt.VERBOSE,info:Bt.INFO,warn:Bt.WARN,error:Bt.ERROR,silent:Bt.SILENT},ib=Bt.INFO,sb={[Bt.DEBUG]:"log",[Bt.VERBOSE]:"log",[Bt.INFO]:"info",[Bt.WARN]:"warn",[Bt.ERROR]:"error"},rb=(s,t,...i)=>{if(t<s.logLevel)return;const r=new Date().toISOString(),l=sb[t];if(l)console[l](`[${r}]  ${s.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class jm{constructor(t){this.name=t,this._logLevel=ib,this._logHandler=rb,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Bt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?nb[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Bt.DEBUG,...t),this._logHandler(this,Bt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Bt.VERBOSE,...t),this._logHandler(this,Bt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Bt.INFO,...t),this._logHandler(this,Bt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Bt.WARN,...t),this._logHandler(this,Bt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Bt.ERROR,...t),this._logHandler(this,Bt.ERROR,...t)}}const ab=(s,t)=>t.some(i=>s instanceof i);let Tv,Av;function ob(){return Tv||(Tv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function lb(){return Av||(Av=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const iE=new WeakMap,dm=new WeakMap,sE=new WeakMap,nm=new WeakMap,zm=new WeakMap;function ub(s){const t=new Promise((i,r)=>{const l=()=>{s.removeEventListener("success",c),s.removeEventListener("error",d)},c=()=>{i(yr(s.result)),l()},d=()=>{r(s.error),l()};s.addEventListener("success",c),s.addEventListener("error",d)});return t.then(i=>{i instanceof IDBCursor&&iE.set(i,s)}).catch(()=>{}),zm.set(t,s),t}function cb(s){if(dm.has(s))return;const t=new Promise((i,r)=>{const l=()=>{s.removeEventListener("complete",c),s.removeEventListener("error",d),s.removeEventListener("abort",d)},c=()=>{i(),l()},d=()=>{r(s.error||new DOMException("AbortError","AbortError")),l()};s.addEventListener("complete",c),s.addEventListener("error",d),s.addEventListener("abort",d)});dm.set(s,t)}let mm={get(s,t,i){if(s instanceof IDBTransaction){if(t==="done")return dm.get(s);if(t==="objectStoreNames")return s.objectStoreNames||sE.get(s);if(t==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return yr(s[t])},set(s,t,i){return s[t]=i,!0},has(s,t){return s instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in s}};function hb(s){mm=s(mm)}function fb(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...i){const r=s.call(im(this),t,...i);return sE.set(r,t.sort?t.sort():[t]),yr(r)}:lb().includes(s)?function(...t){return s.apply(im(this),t),yr(iE.get(this))}:function(...t){return yr(s.apply(im(this),t))}}function db(s){return typeof s=="function"?fb(s):(s instanceof IDBTransaction&&cb(s),ab(s,ob())?new Proxy(s,mm):s)}function yr(s){if(s instanceof IDBRequest)return ub(s);if(nm.has(s))return nm.get(s);const t=db(s);return t!==s&&(nm.set(s,t),zm.set(t,s)),t}const im=s=>zm.get(s);function mb(s,t,{blocked:i,upgrade:r,blocking:l,terminated:c}={}){const d=indexedDB.open(s,t),p=yr(d);return r&&d.addEventListener("upgradeneeded",_=>{r(yr(d.result),_.oldVersion,_.newVersion,yr(d.transaction),_)}),i&&d.addEventListener("blocked",_=>i(_.oldVersion,_.newVersion,_)),p.then(_=>{c&&_.addEventListener("close",()=>c()),l&&_.addEventListener("versionchange",y=>l(y.oldVersion,y.newVersion,y))}).catch(()=>{}),p}const gb=["get","getKey","getAll","getAllKeys","count"],pb=["put","add","delete","clear"],sm=new Map;function Sv(s,t){if(!(s instanceof IDBDatabase&&!(t in s)&&typeof t=="string"))return;if(sm.get(t))return sm.get(t);const i=t.replace(/FromIndex$/,""),r=t!==i,l=pb.includes(i);if(!(i in(r?IDBIndex:IDBObjectStore).prototype)||!(l||gb.includes(i)))return;const c=async function(d,...p){const _=this.transaction(d,l?"readwrite":"readonly");let y=_.store;return r&&(y=y.index(p.shift())),(await Promise.all([y[i](...p),l&&_.done]))[0]};return sm.set(t,c),c}hb(s=>({...s,get:(t,i,r)=>Sv(t,i)||s.get(t,i,r),has:(t,i)=>!!Sv(t,i)||s.has(t,i)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yb{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(_b(i)){const r=i.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(i=>i).join(" ")}}function _b(s){return s.getComponent()?.type==="VERSION"}const gm="@firebase/app",bv="0.14.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xs=new jm("@firebase/app"),vb="@firebase/app-compat",Eb="@firebase/analytics-compat",Tb="@firebase/analytics",Ab="@firebase/app-check-compat",Sb="@firebase/app-check",bb="@firebase/auth",wb="@firebase/auth-compat",Rb="@firebase/database",Ib="@firebase/data-connect",xb="@firebase/database-compat",Cb="@firebase/functions",Nb="@firebase/functions-compat",Db="@firebase/installations",Mb="@firebase/installations-compat",Ob="@firebase/messaging",Vb="@firebase/messaging-compat",Ub="@firebase/performance",Lb="@firebase/performance-compat",kb="@firebase/remote-config",Pb="@firebase/remote-config-compat",jb="@firebase/storage",zb="@firebase/storage-compat",Bb="@firebase/firestore",qb="@firebase/ai",Hb="@firebase/firestore-compat",Fb="firebase",Gb="12.3.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pm="[DEFAULT]",Qb={[gm]:"fire-core",[vb]:"fire-core-compat",[Tb]:"fire-analytics",[Eb]:"fire-analytics-compat",[Sb]:"fire-app-check",[Ab]:"fire-app-check-compat",[bb]:"fire-auth",[wb]:"fire-auth-compat",[Rb]:"fire-rtdb",[Ib]:"fire-data-connect",[xb]:"fire-rtdb-compat",[Cb]:"fire-fn",[Nb]:"fire-fn-compat",[Db]:"fire-iid",[Mb]:"fire-iid-compat",[Ob]:"fire-fcm",[Vb]:"fire-fcm-compat",[Ub]:"fire-perf",[Lb]:"fire-perf-compat",[kb]:"fire-rc",[Pb]:"fire-rc-compat",[jb]:"fire-gcs",[zb]:"fire-gcs-compat",[Bb]:"fire-fst",[Hb]:"fire-fst-compat",[qb]:"fire-vertex","fire-js":"fire-js",[Fb]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dh=new Map,Yb=new Map,ym=new Map;function wv(s,t){try{s.container.addComponent(t)}catch(i){xs.debug(`Component ${t.name} failed to register with FirebaseApp ${s.name}`,i)}}function Ro(s){const t=s.name;if(ym.has(t))return xs.debug(`There were multiple attempts to register component ${t}.`),!1;ym.set(t,s);for(const i of dh.values())wv(i,s);for(const i of Yb.values())wv(i,s);return!0}function Bm(s,t){const i=s.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),s.container.getProvider(t)}function Ei(s){return s==null?!1:s.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kb={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},_r=new du("app","Firebase",Kb);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xb{constructor(t,i,r){this._isDeleted=!1,this._options={...t},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ga("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw _r.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uo=Gb;function rE(s,t={}){let i=s;typeof t!="object"&&(t={name:t});const r={name:pm,automaticDataCollectionEnabled:!0,...t},l=r.name;if(typeof l!="string"||!l)throw _r.create("bad-app-name",{appName:String(l)});if(i||(i=W0()),!i)throw _r.create("no-options");const c=dh.get(l);if(c){if(ma(i,c.options)&&ma(r,c.config))return c;throw _r.create("duplicate-app",{appName:l})}const d=new eb(l);for(const _ of ym.values())d.addComponent(_);const p=new Xb(i,r,d);return dh.set(l,p),p}function aE(s=pm){const t=dh.get(s);if(!t&&s===pm&&W0())return rE();if(!t)throw _r.create("no-app",{appName:s});return t}function vr(s,t,i){let r=Qb[s]??s;i&&(r+=`-${i}`);const l=r.match(/\s|\//),c=t.match(/\s|\//);if(l||c){const d=[`Unable to register library "${r}" with version "${t}":`];l&&d.push(`library name "${r}" contains illegal characters (whitespace or "/")`),l&&c&&d.push("and"),c&&d.push(`version name "${t}" contains illegal characters (whitespace or "/")`),xs.warn(d.join(" "));return}Ro(new ga(`${r}-version`,()=>({library:r,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $b="firebase-heartbeat-database",Zb=1,nu="firebase-heartbeat-store";let rm=null;function oE(){return rm||(rm=mb($b,Zb,{upgrade:(s,t)=>{switch(t){case 0:try{s.createObjectStore(nu)}catch(i){console.warn(i)}}}}).catch(s=>{throw _r.create("idb-open",{originalErrorMessage:s.message})})),rm}async function Jb(s){try{const i=(await oE()).transaction(nu),r=await i.objectStore(nu).get(lE(s));return await i.done,r}catch(t){if(t instanceof Ms)xs.warn(t.message);else{const i=_r.create("idb-get",{originalErrorMessage:t?.message});xs.warn(i.message)}}}async function Rv(s,t){try{const r=(await oE()).transaction(nu,"readwrite");await r.objectStore(nu).put(t,lE(s)),await r.done}catch(i){if(i instanceof Ms)xs.warn(i.message);else{const r=_r.create("idb-set",{originalErrorMessage:i?.message});xs.warn(r.message)}}}function lE(s){return`${s.name}!${s.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wb=1024,tw=30;class ew{constructor(t){this.container=t,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new iw(i),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=Iv();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(l=>l.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:i}),this._heartbeatsCache.heartbeats.length>tw){const l=sw(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){xs.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=Iv(),{heartbeatsToSend:i,unsentEntries:r}=nw(this._heartbeatsCache.heartbeats),l=fh(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(t){return xs.warn(t),""}}}function Iv(){return new Date().toISOString().substring(0,10)}function nw(s,t=Wb){const i=[];let r=s.slice();for(const l of s){const c=i.find(d=>d.agent===l.agent);if(c){if(c.dates.push(l.date),xv(i)>t){c.dates.pop();break}}else if(i.push({agent:l.agent,dates:[l.date]}),xv(i)>t){i.pop();break}r=r.slice(1)}return{heartbeatsToSend:i,unsentEntries:r}}class iw{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return HS()?FS().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await Jb(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const r=await this.read();return Rv(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const r=await this.read();return Rv(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...t.heartbeats]})}else return}}function xv(s){return fh(JSON.stringify({version:2,heartbeats:s})).length}function sw(s){if(s.length===0)return-1;let t=0,i=s[0].date;for(let r=1;r<s.length;r++)s[r].date<i&&(i=s[r].date,t=r);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rw(s){Ro(new ga("platform-logger",t=>new yb(t),"PRIVATE")),Ro(new ga("heartbeat",t=>new ew(t),"PRIVATE")),vr(gm,bv,s),vr(gm,bv,"esm2020"),vr("fire-js","")}rw("");var aw="firebase",ow="12.3.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */vr(aw,ow,"app");function uE(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const lw=uE,cE=new du("auth","Firebase",uE());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mh=new jm("@firebase/auth");function uw(s,...t){mh.logLevel<=Bt.WARN&&mh.warn(`Auth (${Uo}): ${s}`,...t)}function nh(s,...t){mh.logLevel<=Bt.ERROR&&mh.error(`Auth (${Uo}): ${s}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zi(s,...t){throw Hm(s,...t)}function Ai(s,...t){return Hm(s,...t)}function qm(s,t,i){const r={...lw(),[t]:i};return new du("auth","Firebase",r).create(t,{appName:s.name})}function fa(s){return qm(s,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function cw(s,t,i){const r=i;if(!(t instanceof r))throw r.name!==t.constructor.name&&Zi(s,"argument-error"),qm(s,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Hm(s,...t){if(typeof s!="string"){const i=t[0],r=[...t.slice(1)];return r[0]&&(r[0].appName=s.name),s._errorFactory.create(i,...r)}return cE.create(s,...t)}function Rt(s,t,...i){if(!s)throw Hm(t,...i)}function Rs(s){const t="INTERNAL ASSERTION FAILED: "+s;throw nh(t),new Error(t)}function Cs(s,t){s||Rs(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _m(){return typeof self<"u"&&self.location?.href||""}function hw(){return Cv()==="http:"||Cv()==="https:"}function Cv(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fw(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(hw()||jS()||"connection"in navigator)?navigator.onLine:!0}function dw(){if(typeof navigator>"u")return null;const s=navigator;return s.languages&&s.languages[0]||s.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gu{constructor(t,i){this.shortDelay=t,this.longDelay=i,Cs(i>t,"Short delay should be less than long delay!"),this.isMobile=LS()||zS()}get(){return fw()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fm(s,t){Cs(s.emulator,"Emulator should always be set here");const{url:i}=s.emulator;return t?`${i}${t.startsWith("/")?t.slice(1):t}`:i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hE{static initialize(t,i,r){this.fetchImpl=t,i&&(this.headersImpl=i),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Rs("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Rs("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Rs("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mw={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gw=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],pw=new gu(3e4,6e4);function Gm(s,t){return s.tenantId&&!t.tenantId?{...t,tenantId:s.tenantId}:t}async function Lo(s,t,i,r,l={}){return fE(s,l,async()=>{let c={},d={};r&&(t==="GET"?d=r:c={body:JSON.stringify(r)});const p=mu({key:s.config.apiKey,...d}).slice(1),_=await s._getAdditionalHeaders();_["Content-Type"]="application/json",s.languageCode&&(_["X-Firebase-Locale"]=s.languageCode);const y={method:t,headers:_,...c};return PS()||(y.referrerPolicy="no-referrer"),s.emulatorConfig&&Vo(s.emulatorConfig.host)&&(y.credentials="include"),hE.fetch()(await dE(s,s.config.apiHost,i,p),y)})}async function fE(s,t,i){s._canInitEmulator=!1;const r={...mw,...t};try{const l=new _w(s),c=await Promise.race([i(),l.promise]);l.clearNetworkTimeout();const d=await c.json();if("needConfirmation"in d)throw Kc(s,"account-exists-with-different-credential",d);if(c.ok&&!("errorMessage"in d))return d;{const p=c.ok?d.errorMessage:d.error.message,[_,y]=p.split(" : ");if(_==="FEDERATED_USER_ID_ALREADY_LINKED")throw Kc(s,"credential-already-in-use",d);if(_==="EMAIL_EXISTS")throw Kc(s,"email-already-in-use",d);if(_==="USER_DISABLED")throw Kc(s,"user-disabled",d);const A=r[_]||_.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw qm(s,A,y);Zi(s,A)}}catch(l){if(l instanceof Ms)throw l;Zi(s,"network-request-failed",{message:String(l)})}}async function yw(s,t,i,r,l={}){const c=await Lo(s,t,i,r,l);return"mfaPendingCredential"in c&&Zi(s,"multi-factor-auth-required",{_serverResponse:c}),c}async function dE(s,t,i,r){const l=`${t}${i}?${r}`,c=s,d=c.config.emulator?Fm(s.config,l):`${s.config.apiScheme}://${l}`;return gw.includes(i)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(d).toString():d}class _w{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((i,r)=>{this.timer=setTimeout(()=>r(Ai(this.auth,"network-request-failed")),pw.get())})}}function Kc(s,t,i){const r={appName:s.name};i.email&&(r.email=i.email),i.phoneNumber&&(r.phoneNumber=i.phoneNumber);const l=Ai(s,t,r);return l.customData._tokenResponse=i,l}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vw(s,t){return Lo(s,"POST","/v1/accounts:delete",t)}async function gh(s,t){return Lo(s,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $l(s){if(s)try{const t=new Date(Number(s));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function Ew(s,t=!1){const i=Qe(s),r=await i.getIdToken(t),l=Qm(r);Rt(l&&l.exp&&l.auth_time&&l.iat,i.auth,"internal-error");const c=typeof l.firebase=="object"?l.firebase:void 0,d=c?.sign_in_provider;return{claims:l,token:r,authTime:$l(am(l.auth_time)),issuedAtTime:$l(am(l.iat)),expirationTime:$l(am(l.exp)),signInProvider:d||null,signInSecondFactor:c?.sign_in_second_factor||null}}function am(s){return Number(s)*1e3}function Qm(s){const[t,i,r]=s.split(".");if(t===void 0||i===void 0||r===void 0)return nh("JWT malformed, contained fewer than 3 sections"),null;try{const l=Z0(i);return l?JSON.parse(l):(nh("Failed to decode base64 JWT payload"),null)}catch(l){return nh("Caught error parsing JWT payload as JSON",l?.toString()),null}}function Nv(s){const t=Qm(s);return Rt(t,"internal-error"),Rt(typeof t.exp<"u","internal-error"),Rt(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iu(s,t,i=!1){if(i)return t;try{return await t}catch(r){throw r instanceof Ms&&Tw(r)&&s.auth.currentUser===s&&await s.auth.signOut(),r}}function Tw({code:s}){return s==="auth/user-disabled"||s==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aw{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(t=!1){if(!this.isRunning)return;const i=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vm{constructor(t,i){this.createdAt=t,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=$l(this.lastLoginAt),this.creationTime=$l(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ph(s){const t=s.auth,i=await s.getIdToken(),r=await iu(s,gh(t,{idToken:i}));Rt(r?.users.length,t,"internal-error");const l=r.users[0];s._notifyReloadListener(l);const c=l.providerUserInfo?.length?mE(l.providerUserInfo):[],d=bw(s.providerData,c),p=s.isAnonymous,_=!(s.email&&l.passwordHash)&&!d?.length,y=p?_:!1,A={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:d,metadata:new vm(l.createdAt,l.lastLoginAt),isAnonymous:y};Object.assign(s,A)}async function Sw(s){const t=Qe(s);await ph(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function bw(s,t){return[...s.filter(r=>!t.some(l=>l.providerId===r.providerId)),...t]}function mE(s){return s.map(({providerId:t,...i})=>({providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ww(s,t){const i=await fE(s,{},async()=>{const r=mu({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:l,apiKey:c}=s.config,d=await dE(s,l,"/v1/token",`key=${c}`),p=await s._getAdditionalHeaders();p["Content-Type"]="application/x-www-form-urlencoded";const _={method:"POST",headers:p,body:r};return s.emulatorConfig&&Vo(s.emulatorConfig.host)&&(_.credentials="include"),hE.fetch()(d,_)});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function Rw(s,t){return Lo(s,"POST","/v2/accounts:revokeToken",Gm(s,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ao{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){Rt(t.idToken,"internal-error"),Rt(typeof t.idToken<"u","internal-error"),Rt(typeof t.refreshToken<"u","internal-error");const i="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):Nv(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,i)}updateFromIdToken(t){Rt(t.length!==0,"internal-error");const i=Nv(t);this.updateTokensAndExpiration(t,null,i)}async getToken(t,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(Rt(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,i){const{accessToken:r,refreshToken:l,expiresIn:c}=await ww(t,i);this.updateTokensAndExpiration(r,l,Number(c))}updateTokensAndExpiration(t,i,r){this.refreshToken=i||null,this.accessToken=t||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(t,i){const{refreshToken:r,accessToken:l,expirationTime:c}=i,d=new Ao;return r&&(Rt(typeof r=="string","internal-error",{appName:t}),d.refreshToken=r),l&&(Rt(typeof l=="string","internal-error",{appName:t}),d.accessToken=l),c&&(Rt(typeof c=="number","internal-error",{appName:t}),d.expirationTime=c),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Ao,this.toJSON())}_performRefresh(){return Rs("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fr(s,t){Rt(typeof s=="string"||typeof s>"u","internal-error",{appName:t})}class Ti{constructor({uid:t,auth:i,stsTokenManager:r,...l}){this.providerId="firebase",this.proactiveRefresh=new Aw(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new vm(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(t){const i=await iu(this,this.stsTokenManager.getToken(this.auth,t));return Rt(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(t){return Ew(this,t)}reload(){return Sw(this)}_assign(t){this!==t&&(Rt(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(i=>({...i})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const i=new Ti({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return i.metadata._copy(this.metadata),i}_onReload(t){Rt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,i=!1){let r=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),i&&await ph(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Ei(this.auth.app))return Promise.reject(fa(this.auth));const t=await this.getIdToken();return await iu(this,vw(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,i){const r=i.displayName??void 0,l=i.email??void 0,c=i.phoneNumber??void 0,d=i.photoURL??void 0,p=i.tenantId??void 0,_=i._redirectEventId??void 0,y=i.createdAt??void 0,A=i.lastLoginAt??void 0,{uid:b,emailVerified:N,isAnonymous:Y,providerData:et,stsTokenManager:ut}=i;Rt(b&&ut,t,"internal-error");const nt=Ao.fromJSON(this.name,ut);Rt(typeof b=="string",t,"internal-error"),fr(r,t.name),fr(l,t.name),Rt(typeof N=="boolean",t,"internal-error"),Rt(typeof Y=="boolean",t,"internal-error"),fr(c,t.name),fr(d,t.name),fr(p,t.name),fr(_,t.name),fr(y,t.name),fr(A,t.name);const yt=new Ti({uid:b,auth:t,email:l,emailVerified:N,displayName:r,isAnonymous:Y,photoURL:d,phoneNumber:c,tenantId:p,stsTokenManager:nt,createdAt:y,lastLoginAt:A});return et&&Array.isArray(et)&&(yt.providerData=et.map(wt=>({...wt}))),_&&(yt._redirectEventId=_),yt}static async _fromIdTokenResponse(t,i,r=!1){const l=new Ao;l.updateFromServerResponse(i);const c=new Ti({uid:i.localId,auth:t,stsTokenManager:l,isAnonymous:r});return await ph(c),c}static async _fromGetAccountInfoResponse(t,i,r){const l=i.users[0];Rt(l.localId!==void 0,"internal-error");const c=l.providerUserInfo!==void 0?mE(l.providerUserInfo):[],d=!(l.email&&l.passwordHash)&&!c?.length,p=new Ao;p.updateFromIdToken(r);const _=new Ti({uid:l.localId,auth:t,stsTokenManager:p,isAnonymous:d}),y={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:c,metadata:new vm(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!c?.length};return Object.assign(_,y),_}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dv=new Map;function Is(s){Cs(s instanceof Function,"Expected a class definition");let t=Dv.get(s);return t?(Cs(t instanceof s,"Instance stored in cache mismatched with class"),t):(t=new s,Dv.set(s,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gE{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,i){this.storage[t]=i}async _get(t){const i=this.storage[t];return i===void 0?null:i}async _remove(t){delete this.storage[t]}_addListener(t,i){}_removeListener(t,i){}}gE.type="NONE";const Mv=gE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ih(s,t,i){return`firebase:${s}:${t}:${i}`}class So{constructor(t,i,r){this.persistence=t,this.auth=i,this.userKey=r;const{config:l,name:c}=this.auth;this.fullUserKey=ih(this.userKey,l.apiKey,c),this.fullPersistenceKey=ih("persistence",l.apiKey,c),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const i=await gh(this.auth,{idToken:t}).catch(()=>{});return i?Ti._fromGetAccountInfoResponse(this.auth,i,t):null}return Ti._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,i,r="authUser"){if(!i.length)return new So(Is(Mv),t,r);const l=(await Promise.all(i.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let c=l[0]||Is(Mv);const d=ih(r,t.config.apiKey,t.name);let p=null;for(const y of i)try{const A=await y._get(d);if(A){let b;if(typeof A=="string"){const N=await gh(t,{idToken:A}).catch(()=>{});if(!N)break;b=await Ti._fromGetAccountInfoResponse(t,N,A)}else b=Ti._fromJSON(t,A);y!==c&&(p=b),c=y;break}}catch{}const _=l.filter(y=>y._shouldAllowMigration);return!c._shouldAllowMigration||!_.length?new So(c,t,r):(c=_[0],p&&await c._set(d,p.toJSON()),await Promise.all(i.map(async y=>{if(y!==c)try{await y._remove(d)}catch{}})),new So(c,t,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ov(s){const t=s.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(vE(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(pE(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(TE(t))return"Blackberry";if(AE(t))return"Webos";if(yE(t))return"Safari";if((t.includes("chrome/")||_E(t))&&!t.includes("edge/"))return"Chrome";if(EE(t))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=s.match(i);if(r?.length===2)return r[1]}return"Other"}function pE(s=pn()){return/firefox\//i.test(s)}function yE(s=pn()){const t=s.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function _E(s=pn()){return/crios\//i.test(s)}function vE(s=pn()){return/iemobile/i.test(s)}function EE(s=pn()){return/android/i.test(s)}function TE(s=pn()){return/blackberry/i.test(s)}function AE(s=pn()){return/webos/i.test(s)}function Ym(s=pn()){return/iphone|ipad|ipod/i.test(s)||/macintosh/i.test(s)&&/mobile/i.test(s)}function Iw(s=pn()){return Ym(s)&&!!window.navigator?.standalone}function xw(){return BS()&&document.documentMode===10}function SE(s=pn()){return Ym(s)||EE(s)||AE(s)||TE(s)||/windows phone/i.test(s)||vE(s)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bE(s,t=[]){let i;switch(s){case"Browser":i=Ov(pn());break;case"Worker":i=`${Ov(pn())}-${s}`;break;default:i=s}const r=t.length?t.join(","):"FirebaseCore-web";return`${i}/JsCore/${Uo}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cw{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,i){const r=c=>new Promise((d,p)=>{try{const _=t(c);d(_)}catch(_){p(_)}});r.onAbort=i,this.queue.push(r);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const i=[];try{for(const r of this.queue)await r(t),r.onAbort&&i.push(r.onAbort)}catch(r){i.reverse();for(const l of i)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Nw(s,t={}){return Lo(s,"GET","/v2/passwordPolicy",Gm(s,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dw=6;class Mw{constructor(t){const i=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=i.minPasswordLength??Dw,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),i.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),i.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),i.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),i.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const i={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,i),this.validatePasswordCharacterOptions(t,i),i.isValid&&(i.isValid=i.meetsMinPasswordLength??!0),i.isValid&&(i.isValid=i.meetsMaxPasswordLength??!0),i.isValid&&(i.isValid=i.containsLowercaseLetter??!0),i.isValid&&(i.isValid=i.containsUppercaseLetter??!0),i.isValid&&(i.isValid=i.containsNumericCharacter??!0),i.isValid&&(i.isValid=i.containsNonAlphanumericCharacter??!0),i}validatePasswordLengthOptions(t,i){const r=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;r&&(i.meetsMinPasswordLength=t.length>=r),l&&(i.meetsMaxPasswordLength=t.length<=l)}validatePasswordCharacterOptions(t,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let r;for(let l=0;l<t.length;l++)r=t.charAt(l),this.updatePasswordCharacterOptionsStatuses(i,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(t,i,r,l,c){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ow{constructor(t,i,r,l){this.app=t,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=r,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Vv(this),this.idTokenSubscription=new Vv(this),this.beforeStateQueue=new Cw(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=cE,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=l.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(t,i){return i&&(this._popupRedirectResolver=Is(i)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await So.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const i=await gh(this,{idToken:t}),r=await Ti._fromGetAccountInfoResponse(this,i,t);await this.directlySetCurrentUser(r)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(Ei(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let r=i,l=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,d=r?._redirectEventId,p=await this.tryRedirectSignIn(t);(!c||c===d)&&p?.user&&(r=p.user,l=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(r)}catch(c){r=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Rt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(t){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(t){try{await ph(t)}catch(i){if(i?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=dw()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(Ei(this.app))return Promise.reject(fa(this));const i=t?Qe(t):null;return i&&Rt(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(t,i=!1){if(!this._deleted)return t&&Rt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return Ei(this.app)?Promise.reject(fa(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return Ei(this.app)?Promise.reject(fa(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Is(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await Nw(this),i=new Mw(t);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new du("auth","Firebase",t())}onAuthStateChanged(t,i,r){return this.registerStateListener(this.authStateSubscription,t,i,r)}beforeAuthStateChanged(t,i){return this.beforeStateQueue.pushCallback(t,i)}onIdTokenChanged(t,i,r){return this.registerStateListener(this.idTokenSubscription,t,i,r)}authStateReady(){return new Promise((t,i)=>{if(this.currentUser)t();else{const r=this.onAuthStateChanged(()=>{r(),t()},i)}})}async revokeAccessToken(t){if(this.currentUser){const i=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:i};this.tenantId!=null&&(r.tenantId=this.tenantId),await Rw(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,i){const r=await this.getOrInitRedirectPersistenceManager(i);return t===null?r.removeCurrentUser():r.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const i=t&&Is(t)||this._popupRedirectResolver;Rt(i,this,"argument-error"),this.redirectPersistenceManager=await So.create(this,[Is(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,i,r,l){if(this._deleted)return()=>{};const c=typeof i=="function"?i:i.next.bind(i);let d=!1;const p=this._isInitialized?Promise.resolve():this._initializationPromise;if(Rt(p,this,"internal-error"),p.then(()=>{d||c(this.currentUser)}),typeof i=="function"){const _=t.addObserver(i,r,l);return()=>{d=!0,_()}}else{const _=t.addObserver(i);return()=>{d=!0,_()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return Rt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=bE(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const i=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();i&&(t["X-Firebase-Client"]=i);const r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){if(Ei(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&uw(`Error while retrieving App Check token: ${t.error}`),t?.token}}function Oh(s){return Qe(s)}class Vv{constructor(t){this.auth=t,this.observer=null,this.addObserver=XS(i=>this.observer=i)}get next(){return Rt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Km={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Vw(s){Km=s}function Uw(s){return Km.loadJS(s)}function Lw(){return Km.gapiScript}function kw(s){return`__${s}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pw(s,t){const i=Bm(s,"auth");if(i.isInitialized()){const l=i.getImmediate(),c=i.getOptions();if(ma(c,t??{}))return l;Zi(l,"already-initialized")}return i.initialize({options:t})}function jw(s,t){const i=t?.persistence||[],r=(Array.isArray(i)?i:[i]).map(Is);t?.errorMap&&s._updateErrorMap(t.errorMap),s._initializeWithPersistence(r,t?.popupRedirectResolver)}function zw(s,t,i){const r=Oh(s);Rt(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const l=!1,c=wE(t),{host:d,port:p}=Bw(t),_=p===null?"":`:${p}`,y={url:`${c}//${d}${_}/`},A=Object.freeze({host:d,port:p,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!r._canInitEmulator){Rt(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Rt(ma(y,r.config.emulator)&&ma(A,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=y,r.emulatorConfig=A,r.settings.appVerificationDisabledForTesting=!0,Vo(d)?(eE(`${c}//${d}${_}`),nE("Auth",!0)):qw()}function wE(s){const t=s.indexOf(":");return t<0?"":s.substr(0,t+1)}function Bw(s){const t=wE(s),i=/(\/\/)?([^?#/]+)/.exec(s.substr(t.length));if(!i)return{host:"",port:null};const r=i[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(r);if(l){const c=l[1];return{host:c,port:Uv(r.substr(c.length+1))}}else{const[c,d]=r.split(":");return{host:c,port:Uv(d)}}}function Uv(s){if(!s)return null;const t=Number(s);return isNaN(t)?null:t}function qw(){function s(){const t=document.createElement("p"),i=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",s):s())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RE{constructor(t,i){this.providerId=t,this.signInMethod=i}toJSON(){return Rs("not implemented")}_getIdTokenResponse(t){return Rs("not implemented")}_linkToIdToken(t,i){return Rs("not implemented")}_getReauthenticationResolver(t){return Rs("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bo(s,t){return yw(s,"POST","/v1/accounts:signInWithIdp",Gm(s,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hw="http://localhost";class pa extends RE{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const i=new pa(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(i.idToken=t.idToken),t.accessToken&&(i.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(i.nonce=t.nonce),t.pendingToken&&(i.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(i.accessToken=t.oauthToken,i.secret=t.oauthTokenSecret):Zi("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const i=typeof t=="string"?JSON.parse(t):t,{providerId:r,signInMethod:l,...c}=i;if(!r||!l)return null;const d=new pa(r,l);return d.idToken=c.idToken||void 0,d.accessToken=c.accessToken||void 0,d.secret=c.secret,d.nonce=c.nonce,d.pendingToken=c.pendingToken||null,d}_getIdTokenResponse(t){const i=this.buildRequest();return bo(t,i)}_linkToIdToken(t,i){const r=this.buildRequest();return r.idToken=i,bo(t,r)}_getReauthenticationResolver(t){const i=this.buildRequest();return i.autoCreate=!1,bo(t,i)}buildRequest(){const t={requestUri:Hw,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),t.postBody=mu(i)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xm{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pu extends Xm{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dr extends pu{constructor(){super("facebook.com")}static credential(t){return pa._fromParams({providerId:dr.PROVIDER_ID,signInMethod:dr.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return dr.credentialFromTaggedObject(t)}static credentialFromError(t){return dr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return dr.credential(t.oauthAccessToken)}catch{return null}}}dr.FACEBOOK_SIGN_IN_METHOD="facebook.com";dr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ws extends pu{constructor(){super("google.com"),this.addScope("profile")}static credential(t,i){return pa._fromParams({providerId:ws.PROVIDER_ID,signInMethod:ws.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:i})}static credentialFromResult(t){return ws.credentialFromTaggedObject(t)}static credentialFromError(t){return ws.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:i,oauthAccessToken:r}=t;if(!i&&!r)return null;try{return ws.credential(i,r)}catch{return null}}}ws.GOOGLE_SIGN_IN_METHOD="google.com";ws.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mr extends pu{constructor(){super("github.com")}static credential(t){return pa._fromParams({providerId:mr.PROVIDER_ID,signInMethod:mr.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return mr.credentialFromTaggedObject(t)}static credentialFromError(t){return mr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return mr.credential(t.oauthAccessToken)}catch{return null}}}mr.GITHUB_SIGN_IN_METHOD="github.com";mr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gr extends pu{constructor(){super("twitter.com")}static credential(t,i){return pa._fromParams({providerId:gr.PROVIDER_ID,signInMethod:gr.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:i})}static credentialFromResult(t){return gr.credentialFromTaggedObject(t)}static credentialFromError(t){return gr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:i,oauthTokenSecret:r}=t;if(!i||!r)return null;try{return gr.credential(i,r)}catch{return null}}}gr.TWITTER_SIGN_IN_METHOD="twitter.com";gr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Io{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,i,r,l=!1){const c=await Ti._fromIdTokenResponse(t,r,l),d=Lv(r);return new Io({user:c,providerId:d,_tokenResponse:r,operationType:i})}static async _forOperation(t,i,r){await t._updateTokensIfNecessary(r,!0);const l=Lv(r);return new Io({user:t,providerId:l,_tokenResponse:r,operationType:i})}}function Lv(s){return s.providerId?s.providerId:"phoneNumber"in s?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yh extends Ms{constructor(t,i,r,l){super(i.code,i.message),this.operationType=r,this.user=l,Object.setPrototypeOf(this,yh.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:i.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(t,i,r,l){return new yh(t,i,r,l)}}function IE(s,t,i,r){return(t==="reauthenticate"?i._getReauthenticationResolver(s):i._getIdTokenResponse(s)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?yh._fromErrorAndOperation(s,c,t,r):c})}async function Fw(s,t,i=!1){const r=await iu(s,t._linkToIdToken(s.auth,await s.getIdToken()),i);return Io._forOperation(s,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Gw(s,t,i=!1){const{auth:r}=s;if(Ei(r.app))return Promise.reject(fa(r));const l="reauthenticate";try{const c=await iu(s,IE(r,l,t,s),i);Rt(c.idToken,r,"internal-error");const d=Qm(c.idToken);Rt(d,r,"internal-error");const{sub:p}=d;return Rt(s.uid===p,r,"user-mismatch"),Io._forOperation(s,l,c)}catch(c){throw c?.code==="auth/user-not-found"&&Zi(r,"user-mismatch"),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Qw(s,t,i=!1){if(Ei(s.app))return Promise.reject(fa(s));const r="signIn",l=await IE(s,r,t),c=await Io._fromIdTokenResponse(s,r,l);return i||await s._updateCurrentUser(c.user),c}function Yw(s,t,i,r){return Qe(s).onIdTokenChanged(t,i,r)}function Kw(s,t,i){return Qe(s).beforeAuthStateChanged(t,i)}function Xw(s,t,i,r){return Qe(s).onAuthStateChanged(t,i,r)}function $w(s){return Qe(s).signOut()}const _h="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xE{constructor(t,i){this.storageRetriever=t,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(_h,"1"),this.storage.removeItem(_h),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,i){return this.storage.setItem(t,JSON.stringify(i)),Promise.resolve()}_get(t){const i=this.storage.getItem(t);return Promise.resolve(i?JSON.parse(i):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zw=1e3,Jw=10;class CE extends xE{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,i)=>this.onStorageEvent(t,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=SE(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const i of Object.keys(this.listeners)){const r=this.storage.getItem(i),l=this.localCache[i];r!==l&&t(i,l,r)}}onStorageEvent(t,i=!1){if(!t.key){this.forAllChangedKeys((d,p,_)=>{this.notifyListeners(d,_)});return}const r=t.key;i?this.detachListener():this.stopPolling();const l=()=>{const d=this.storage.getItem(r);!i&&this.localCache[r]===d||this.notifyListeners(r,d)},c=this.storage.getItem(r);xw()&&c!==t.newValue&&t.newValue!==t.oldValue?setTimeout(l,Jw):l()}notifyListeners(t,i){this.localCache[t]=i;const r=this.listeners[t];if(r)for(const l of Array.from(r))l(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,i,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:i,newValue:r}),!0)})},Zw)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,i){await super._set(t,i),this.localCache[t]=JSON.stringify(i)}async _get(t){const i=await super._get(t);return this.localCache[t]=JSON.stringify(i),i}async _remove(t){await super._remove(t),delete this.localCache[t]}}CE.type="LOCAL";const Ww=CE;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NE extends xE{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,i){}_removeListener(t,i){}}NE.type="SESSION";const DE=NE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tR(s){return Promise.all(s.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(i){return{fulfilled:!1,reason:i}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vh{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const i=this.receivers.find(l=>l.isListeningto(t));if(i)return i;const r=new Vh(t);return this.receivers.push(r),r}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const i=t,{eventId:r,eventType:l,data:c}=i.data,d=this.handlersMap[l];if(!d?.size)return;i.ports[0].postMessage({status:"ack",eventId:r,eventType:l});const p=Array.from(d).map(async y=>y(i.origin,c)),_=await tR(p);i.ports[0].postMessage({status:"done",eventId:r,eventType:l,response:_})}_subscribe(t,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(i)}_unsubscribe(t,i){this.handlersMap[t]&&i&&this.handlersMap[t].delete(i),(!i||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Vh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $m(s="",t=10){let i="";for(let r=0;r<t;r++)i+=Math.floor(Math.random()*10);return s+i}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eR{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,i,r=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let c,d;return new Promise((p,_)=>{const y=$m("",20);l.port1.start();const A=setTimeout(()=>{_(new Error("unsupported_event"))},r);d={messageChannel:l,onMessage(b){const N=b;if(N.data.eventId===y)switch(N.data.status){case"ack":clearTimeout(A),c=setTimeout(()=>{_(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),p(N.data.response);break;default:clearTimeout(A),clearTimeout(c),_(new Error("invalid_response"));break}}},this.handlers.add(d),l.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:t,eventId:y,data:i},[l.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qi(){return window}function nR(s){Qi().location.href=s}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ME(){return typeof Qi().WorkerGlobalScope<"u"&&typeof Qi().importScripts=="function"}async function iR(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function sR(){return navigator?.serviceWorker?.controller||null}function rR(){return ME()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OE="firebaseLocalStorageDb",aR=1,vh="firebaseLocalStorage",VE="fbase_key";class yu{constructor(t){this.request=t}toPromise(){return new Promise((t,i)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function Uh(s,t){return s.transaction([vh],t?"readwrite":"readonly").objectStore(vh)}function oR(){const s=indexedDB.deleteDatabase(OE);return new yu(s).toPromise()}function Em(){const s=indexedDB.open(OE,aR);return new Promise((t,i)=>{s.addEventListener("error",()=>{i(s.error)}),s.addEventListener("upgradeneeded",()=>{const r=s.result;try{r.createObjectStore(vh,{keyPath:VE})}catch(l){i(l)}}),s.addEventListener("success",async()=>{const r=s.result;r.objectStoreNames.contains(vh)?t(r):(r.close(),await oR(),t(await Em()))})})}async function kv(s,t,i){const r=Uh(s,!0).put({[VE]:t,value:i});return new yu(r).toPromise()}async function lR(s,t){const i=Uh(s,!1).get(t),r=await new yu(i).toPromise();return r===void 0?null:r.value}function Pv(s,t){const i=Uh(s,!0).delete(t);return new yu(i).toPromise()}const uR=800,cR=3;class UE{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Em(),this.db)}async _withRetries(t){let i=0;for(;;)try{const r=await this._openDb();return await t(r)}catch(r){if(i++>cR)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return ME()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Vh._getInstance(rR()),this.receiver._subscribe("keyChanged",async(t,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(t,i)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await iR(),!this.activeServiceWorker)return;this.sender=new eR(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||sR()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await Em();return await kv(t,_h,"1"),await Pv(t,_h),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,i){return this._withPendingWrite(async()=>(await this._withRetries(r=>kv(r,t,i)),this.localCache[t]=i,this.notifyServiceWorker(t)))}async _get(t){const i=await this._withRetries(r=>lR(r,t));return this.localCache[t]=i,i}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(i=>Pv(i,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(l=>{const c=Uh(l,!1).getAll();return new yu(c).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const i=[],r=new Set;if(t.length!==0)for(const{fbase_key:l,value:c}of t)r.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(c)&&(this.notifyListeners(l,c),i.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!r.has(l)&&(this.notifyListeners(l,null),i.push(l));return i}notifyListeners(t,i){this.localCache[t]=i;const r=this.listeners[t];if(r)for(const l of Array.from(r))l(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),uR)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}UE.type="LOCAL";const hR=UE;new gu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LE(s,t){return t?Is(t):(Rt(s._popupRedirectResolver,s,"argument-error"),s._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zm extends RE{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return bo(t,this._buildIdpRequest())}_linkToIdToken(t,i){return bo(t,this._buildIdpRequest(i))}_getReauthenticationResolver(t){return bo(t,this._buildIdpRequest())}_buildIdpRequest(t){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(i.idToken=t),i}}function fR(s){return Qw(s.auth,new Zm(s),s.bypassAuthState)}function dR(s){const{auth:t,user:i}=s;return Rt(i,t,"internal-error"),Gw(i,new Zm(s),s.bypassAuthState)}async function mR(s){const{auth:t,user:i}=s;return Rt(i,t,"internal-error"),Fw(i,new Zm(s),s.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kE{constructor(t,i,r,l,c=!1){this.auth=t,this.resolver=r,this.user=l,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(t,i)=>{this.pendingPromise={resolve:t,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(t){const{urlResponse:i,sessionId:r,postBody:l,tenantId:c,error:d,type:p}=t;if(d){this.reject(d);return}const _={auth:this.auth,requestUri:i,sessionId:r,tenantId:c||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(p)(_))}catch(y){this.reject(y)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return fR;case"linkViaPopup":case"linkViaRedirect":return mR;case"reauthViaPopup":case"reauthViaRedirect":return dR;default:Zi(this.auth,"internal-error")}}resolve(t){Cs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){Cs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gR=new gu(2e3,1e4);async function pR(s,t,i){if(Ei(s.app))return Promise.reject(Ai(s,"operation-not-supported-in-this-environment"));const r=Oh(s);cw(s,t,Xm);const l=LE(r,i);return new ca(r,"signInViaPopup",t,l).executeNotNull()}class ca extends kE{constructor(t,i,r,l,c){super(t,i,l,c),this.provider=r,this.authWindow=null,this.pollId=null,ca.currentPopupAction&&ca.currentPopupAction.cancel(),ca.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return Rt(t,this.auth,"internal-error"),t}async onExecution(){Cs(this.filter.length===1,"Popup operations only handle one event");const t=$m();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(Ai(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Ai(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ca.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ai(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,gR.get())};t()}}ca.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yR="pendingRedirect",sh=new Map;class _R extends kE{constructor(t,i,r=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,r),this.eventId=null}async execute(){let t=sh.get(this.auth._key());if(!t){try{const r=await vR(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(r)}catch(i){t=()=>Promise.reject(i)}sh.set(this.auth._key(),t)}return this.bypassAuthState||sh.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const i=await this.auth._redirectUserForId(t.eventId);if(i)return this.user=i,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function vR(s,t){const i=AR(t),r=TR(s);if(!await r._isAvailable())return!1;const l=await r._get(i)==="true";return await r._remove(i),l}function ER(s,t){sh.set(s._key(),t)}function TR(s){return Is(s._redirectPersistence)}function AR(s){return ih(yR,s.config.apiKey,s.name)}async function SR(s,t,i=!1){if(Ei(s.app))return Promise.reject(fa(s));const r=Oh(s),l=LE(r,t),d=await new _R(r,l,i).execute();return d&&!i&&(delete d.user._redirectEventId,await r._persistUserIfCurrent(d.user),await r._setRedirectUser(null,t)),d}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bR=600*1e3;class wR{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let i=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(t,r)&&(i=!0,this.sendToConsumer(t,r),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!RR(t)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=t,i=!0)),i}sendToConsumer(t,i){if(t.error&&!PE(t)){const r=t.error.code?.split("auth/")[1]||"internal-error";i.onError(Ai(this.auth,r))}else i.onAuthEvent(t)}isEventForConsumer(t,i){const r=i.eventId===null||!!t.eventId&&t.eventId===i.eventId;return i.filter.includes(t.type)&&r}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=bR&&this.cachedEventUids.clear(),this.cachedEventUids.has(jv(t))}saveEventToCache(t){this.cachedEventUids.add(jv(t)),this.lastProcessedEventTime=Date.now()}}function jv(s){return[s.type,s.eventId,s.sessionId,s.tenantId].filter(t=>t).join("-")}function PE({type:s,error:t}){return s==="unknown"&&t?.code==="auth/no-auth-event"}function RR(s){switch(s.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return PE(s);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function IR(s,t={}){return Lo(s,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xR=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,CR=/^https?/;async function NR(s){if(s.config.emulator)return;const{authorizedDomains:t}=await IR(s);for(const i of t)try{if(DR(i))return}catch{}Zi(s,"unauthorized-domain")}function DR(s){const t=_m(),{protocol:i,hostname:r}=new URL(t);if(s.startsWith("chrome-extension://")){const d=new URL(s);return d.hostname===""&&r===""?i==="chrome-extension:"&&s.replace("chrome-extension://","")===t.replace("chrome-extension://",""):i==="chrome-extension:"&&d.hostname===r}if(!CR.test(i))return!1;if(xR.test(s))return r===s;const l=s.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MR=new gu(3e4,6e4);function zv(){const s=Qi().___jsl;if(s?.H){for(const t of Object.keys(s.H))if(s.H[t].r=s.H[t].r||[],s.H[t].L=s.H[t].L||[],s.H[t].r=[...s.H[t].L],s.CP)for(let i=0;i<s.CP.length;i++)s.CP[i]=null}}function OR(s){return new Promise((t,i)=>{function r(){zv(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{zv(),i(Ai(s,"network-request-failed"))},timeout:MR.get()})}if(Qi().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(Qi().gapi?.load)r();else{const l=kw("iframefcb");return Qi()[l]=()=>{gapi.load?r():i(Ai(s,"network-request-failed"))},Uw(`${Lw()}?onload=${l}`).catch(c=>i(c))}}).catch(t=>{throw rh=null,t})}let rh=null;function VR(s){return rh=rh||OR(s),rh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UR=new gu(5e3,15e3),LR="__/auth/iframe",kR="emulator/auth/iframe",PR={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},jR=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function zR(s){const t=s.config;Rt(t.authDomain,s,"auth-domain-config-required");const i=t.emulator?Fm(t,kR):`https://${s.config.authDomain}/${LR}`,r={apiKey:t.apiKey,appName:s.name,v:Uo},l=jR.get(s.config.apiHost);l&&(r.eid=l);const c=s._getFrameworks();return c.length&&(r.fw=c.join(",")),`${i}?${mu(r).slice(1)}`}async function BR(s){const t=await VR(s),i=Qi().gapi;return Rt(i,s,"internal-error"),t.open({where:document.body,url:zR(s),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:PR,dontclear:!0},r=>new Promise(async(l,c)=>{await r.restyle({setHideOnLeave:!1});const d=Ai(s,"network-request-failed"),p=Qi().setTimeout(()=>{c(d)},UR.get());function _(){Qi().clearTimeout(p),l(r)}r.ping(_).then(_,()=>{c(d)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qR={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},HR=500,FR=600,GR="_blank",QR="http://localhost";class Bv{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function YR(s,t,i,r=HR,l=FR){const c=Math.max((window.screen.availHeight-l)/2,0).toString(),d=Math.max((window.screen.availWidth-r)/2,0).toString();let p="";const _={...qR,width:r.toString(),height:l.toString(),top:c,left:d},y=pn().toLowerCase();i&&(p=_E(y)?GR:i),pE(y)&&(t=t||QR,_.scrollbars="yes");const A=Object.entries(_).reduce((N,[Y,et])=>`${N}${Y}=${et},`,"");if(Iw(y)&&p!=="_self")return KR(t||"",p),new Bv(null);const b=window.open(t||"",p,A);Rt(b,s,"popup-blocked");try{b.focus()}catch{}return new Bv(b)}function KR(s,t){const i=document.createElement("a");i.href=s,i.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XR="__/auth/handler",$R="emulator/auth/handler",ZR=encodeURIComponent("fac");async function qv(s,t,i,r,l,c){Rt(s.config.authDomain,s,"auth-domain-config-required"),Rt(s.config.apiKey,s,"invalid-api-key");const d={apiKey:s.config.apiKey,appName:s.name,authType:i,redirectUrl:r,v:Uo,eventId:l};if(t instanceof Xm){t.setDefaultLanguage(s.languageCode),d.providerId=t.providerId||"",KS(t.getCustomParameters())||(d.customParameters=JSON.stringify(t.getCustomParameters()));for(const[A,b]of Object.entries({}))d[A]=b}if(t instanceof pu){const A=t.getScopes().filter(b=>b!=="");A.length>0&&(d.scopes=A.join(","))}s.tenantId&&(d.tid=s.tenantId);const p=d;for(const A of Object.keys(p))p[A]===void 0&&delete p[A];const _=await s._getAppCheckToken(),y=_?`#${ZR}=${encodeURIComponent(_)}`:"";return`${JR(s)}?${mu(p).slice(1)}${y}`}function JR({config:s}){return s.emulator?Fm(s,$R):`https://${s.authDomain}/${XR}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const om="webStorageSupport";class WR{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=DE,this._completeRedirectFn=SR,this._overrideRedirectResult=ER}async _openPopup(t,i,r,l){Cs(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const c=await qv(t,i,r,_m(),l);return YR(t,c,$m())}async _openRedirect(t,i,r,l){await this._originValidation(t);const c=await qv(t,i,r,_m(),l);return nR(c),new Promise(()=>{})}_initialize(t){const i=t._key();if(this.eventManagers[i]){const{manager:l,promise:c}=this.eventManagers[i];return l?Promise.resolve(l):(Cs(c,"If manager is not set, promise should be"),c)}const r=this.initAndGetManager(t);return this.eventManagers[i]={promise:r},r.catch(()=>{delete this.eventManagers[i]}),r}async initAndGetManager(t){const i=await BR(t),r=new wR(t);return i.register("authEvent",l=>(Rt(l?.authEvent,t,"invalid-auth-event"),{status:r.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=i,r}_isIframeWebStorageSupported(t,i){this.iframes[t._key()].send(om,{type:om},l=>{const c=l?.[0]?.[om];c!==void 0&&i(!!c),Zi(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const i=t._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=NR(t)),this.originValidationPromises[i]}get _shouldInitProactively(){return SE()||yE()||Ym()}}const t2=WR;var Hv="@firebase/auth",Fv="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e2{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const i=this.auth.onIdTokenChanged(r=>{t(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,i),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const i=this.internalListeners.get(t);i&&(this.internalListeners.delete(t),i(),this.updateProactiveRefresh())}assertAuthConfigured(){Rt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n2(s){switch(s){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function i2(s){Ro(new ga("auth",(t,{options:i})=>{const r=t.getProvider("app").getImmediate(),l=t.getProvider("heartbeat"),c=t.getProvider("app-check-internal"),{apiKey:d,authDomain:p}=r.options;Rt(d&&!d.includes(":"),"invalid-api-key",{appName:r.name});const _={apiKey:d,authDomain:p,clientPlatform:s,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:bE(s)},y=new Ow(r,l,c,_);return jw(y,i),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,i,r)=>{t.getProvider("auth-internal").initialize()})),Ro(new ga("auth-internal",t=>{const i=Oh(t.getProvider("auth").getImmediate());return(r=>new e2(r))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),vr(Hv,Fv,n2(s)),vr(Hv,Fv,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s2=300,r2=tE("authIdTokenMaxAge")||s2;let Gv=null;const a2=s=>async t=>{const i=t&&await t.getIdTokenResult(),r=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(r&&r>r2)return;const l=i?.token;Gv!==l&&(Gv=l,await fetch(s,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function o2(s=aE()){const t=Bm(s,"auth");if(t.isInitialized())return t.getImmediate();const i=Pw(s,{popupRedirectResolver:t2,persistence:[hR,Ww,DE]}),r=tE("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(r,location.origin);if(location.origin===c.origin){const d=a2(c.toString());Kw(i,d,()=>d(i.currentUser)),Yw(i,p=>d(p))}}const l=J0("auth");return l&&zw(i,`http://${l}`),i}function l2(){return document.getElementsByTagName("head")?.[0]??document}Vw({loadJS(s){return new Promise((t,i)=>{const r=document.createElement("script");r.setAttribute("src",s),r.onload=t,r.onerror=l=>{const c=Ai("internal-error");c.customData=l,i(c)},r.type="text/javascript",r.charset="UTF-8",l2().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});i2("Browser");var Qv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Er,jE;(function(){var s;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(C,w){function I(){}I.prototype=w.prototype,C.F=w.prototype,C.prototype=new I,C.prototype.constructor=C,C.D=function(U,M,L){for(var R=Array(arguments.length-2),de=2;de<arguments.length;de++)R[de-2]=arguments[de];return w.prototype[M].apply(U,R)}}function i(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(r,i),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(C,w,I){I||(I=0);const U=Array(16);if(typeof w=="string")for(var M=0;M<16;++M)U[M]=w.charCodeAt(I++)|w.charCodeAt(I++)<<8|w.charCodeAt(I++)<<16|w.charCodeAt(I++)<<24;else for(M=0;M<16;++M)U[M]=w[I++]|w[I++]<<8|w[I++]<<16|w[I++]<<24;w=C.g[0],I=C.g[1],M=C.g[2];let L=C.g[3],R;R=w+(L^I&(M^L))+U[0]+3614090360&4294967295,w=I+(R<<7&4294967295|R>>>25),R=L+(M^w&(I^M))+U[1]+3905402710&4294967295,L=w+(R<<12&4294967295|R>>>20),R=M+(I^L&(w^I))+U[2]+606105819&4294967295,M=L+(R<<17&4294967295|R>>>15),R=I+(w^M&(L^w))+U[3]+3250441966&4294967295,I=M+(R<<22&4294967295|R>>>10),R=w+(L^I&(M^L))+U[4]+4118548399&4294967295,w=I+(R<<7&4294967295|R>>>25),R=L+(M^w&(I^M))+U[5]+1200080426&4294967295,L=w+(R<<12&4294967295|R>>>20),R=M+(I^L&(w^I))+U[6]+2821735955&4294967295,M=L+(R<<17&4294967295|R>>>15),R=I+(w^M&(L^w))+U[7]+4249261313&4294967295,I=M+(R<<22&4294967295|R>>>10),R=w+(L^I&(M^L))+U[8]+1770035416&4294967295,w=I+(R<<7&4294967295|R>>>25),R=L+(M^w&(I^M))+U[9]+2336552879&4294967295,L=w+(R<<12&4294967295|R>>>20),R=M+(I^L&(w^I))+U[10]+4294925233&4294967295,M=L+(R<<17&4294967295|R>>>15),R=I+(w^M&(L^w))+U[11]+2304563134&4294967295,I=M+(R<<22&4294967295|R>>>10),R=w+(L^I&(M^L))+U[12]+1804603682&4294967295,w=I+(R<<7&4294967295|R>>>25),R=L+(M^w&(I^M))+U[13]+4254626195&4294967295,L=w+(R<<12&4294967295|R>>>20),R=M+(I^L&(w^I))+U[14]+2792965006&4294967295,M=L+(R<<17&4294967295|R>>>15),R=I+(w^M&(L^w))+U[15]+1236535329&4294967295,I=M+(R<<22&4294967295|R>>>10),R=w+(M^L&(I^M))+U[1]+4129170786&4294967295,w=I+(R<<5&4294967295|R>>>27),R=L+(I^M&(w^I))+U[6]+3225465664&4294967295,L=w+(R<<9&4294967295|R>>>23),R=M+(w^I&(L^w))+U[11]+643717713&4294967295,M=L+(R<<14&4294967295|R>>>18),R=I+(L^w&(M^L))+U[0]+3921069994&4294967295,I=M+(R<<20&4294967295|R>>>12),R=w+(M^L&(I^M))+U[5]+3593408605&4294967295,w=I+(R<<5&4294967295|R>>>27),R=L+(I^M&(w^I))+U[10]+38016083&4294967295,L=w+(R<<9&4294967295|R>>>23),R=M+(w^I&(L^w))+U[15]+3634488961&4294967295,M=L+(R<<14&4294967295|R>>>18),R=I+(L^w&(M^L))+U[4]+3889429448&4294967295,I=M+(R<<20&4294967295|R>>>12),R=w+(M^L&(I^M))+U[9]+568446438&4294967295,w=I+(R<<5&4294967295|R>>>27),R=L+(I^M&(w^I))+U[14]+3275163606&4294967295,L=w+(R<<9&4294967295|R>>>23),R=M+(w^I&(L^w))+U[3]+4107603335&4294967295,M=L+(R<<14&4294967295|R>>>18),R=I+(L^w&(M^L))+U[8]+1163531501&4294967295,I=M+(R<<20&4294967295|R>>>12),R=w+(M^L&(I^M))+U[13]+2850285829&4294967295,w=I+(R<<5&4294967295|R>>>27),R=L+(I^M&(w^I))+U[2]+4243563512&4294967295,L=w+(R<<9&4294967295|R>>>23),R=M+(w^I&(L^w))+U[7]+1735328473&4294967295,M=L+(R<<14&4294967295|R>>>18),R=I+(L^w&(M^L))+U[12]+2368359562&4294967295,I=M+(R<<20&4294967295|R>>>12),R=w+(I^M^L)+U[5]+4294588738&4294967295,w=I+(R<<4&4294967295|R>>>28),R=L+(w^I^M)+U[8]+2272392833&4294967295,L=w+(R<<11&4294967295|R>>>21),R=M+(L^w^I)+U[11]+1839030562&4294967295,M=L+(R<<16&4294967295|R>>>16),R=I+(M^L^w)+U[14]+4259657740&4294967295,I=M+(R<<23&4294967295|R>>>9),R=w+(I^M^L)+U[1]+2763975236&4294967295,w=I+(R<<4&4294967295|R>>>28),R=L+(w^I^M)+U[4]+1272893353&4294967295,L=w+(R<<11&4294967295|R>>>21),R=M+(L^w^I)+U[7]+4139469664&4294967295,M=L+(R<<16&4294967295|R>>>16),R=I+(M^L^w)+U[10]+3200236656&4294967295,I=M+(R<<23&4294967295|R>>>9),R=w+(I^M^L)+U[13]+681279174&4294967295,w=I+(R<<4&4294967295|R>>>28),R=L+(w^I^M)+U[0]+3936430074&4294967295,L=w+(R<<11&4294967295|R>>>21),R=M+(L^w^I)+U[3]+3572445317&4294967295,M=L+(R<<16&4294967295|R>>>16),R=I+(M^L^w)+U[6]+76029189&4294967295,I=M+(R<<23&4294967295|R>>>9),R=w+(I^M^L)+U[9]+3654602809&4294967295,w=I+(R<<4&4294967295|R>>>28),R=L+(w^I^M)+U[12]+3873151461&4294967295,L=w+(R<<11&4294967295|R>>>21),R=M+(L^w^I)+U[15]+530742520&4294967295,M=L+(R<<16&4294967295|R>>>16),R=I+(M^L^w)+U[2]+3299628645&4294967295,I=M+(R<<23&4294967295|R>>>9),R=w+(M^(I|~L))+U[0]+4096336452&4294967295,w=I+(R<<6&4294967295|R>>>26),R=L+(I^(w|~M))+U[7]+1126891415&4294967295,L=w+(R<<10&4294967295|R>>>22),R=M+(w^(L|~I))+U[14]+2878612391&4294967295,M=L+(R<<15&4294967295|R>>>17),R=I+(L^(M|~w))+U[5]+4237533241&4294967295,I=M+(R<<21&4294967295|R>>>11),R=w+(M^(I|~L))+U[12]+1700485571&4294967295,w=I+(R<<6&4294967295|R>>>26),R=L+(I^(w|~M))+U[3]+2399980690&4294967295,L=w+(R<<10&4294967295|R>>>22),R=M+(w^(L|~I))+U[10]+4293915773&4294967295,M=L+(R<<15&4294967295|R>>>17),R=I+(L^(M|~w))+U[1]+2240044497&4294967295,I=M+(R<<21&4294967295|R>>>11),R=w+(M^(I|~L))+U[8]+1873313359&4294967295,w=I+(R<<6&4294967295|R>>>26),R=L+(I^(w|~M))+U[15]+4264355552&4294967295,L=w+(R<<10&4294967295|R>>>22),R=M+(w^(L|~I))+U[6]+2734768916&4294967295,M=L+(R<<15&4294967295|R>>>17),R=I+(L^(M|~w))+U[13]+1309151649&4294967295,I=M+(R<<21&4294967295|R>>>11),R=w+(M^(I|~L))+U[4]+4149444226&4294967295,w=I+(R<<6&4294967295|R>>>26),R=L+(I^(w|~M))+U[11]+3174756917&4294967295,L=w+(R<<10&4294967295|R>>>22),R=M+(w^(L|~I))+U[2]+718787259&4294967295,M=L+(R<<15&4294967295|R>>>17),R=I+(L^(M|~w))+U[9]+3951481745&4294967295,C.g[0]=C.g[0]+w&4294967295,C.g[1]=C.g[1]+(M+(R<<21&4294967295|R>>>11))&4294967295,C.g[2]=C.g[2]+M&4294967295,C.g[3]=C.g[3]+L&4294967295}r.prototype.v=function(C,w){w===void 0&&(w=C.length);const I=w-this.blockSize,U=this.C;let M=this.h,L=0;for(;L<w;){if(M==0)for(;L<=I;)l(this,C,L),L+=this.blockSize;if(typeof C=="string"){for(;L<w;)if(U[M++]=C.charCodeAt(L++),M==this.blockSize){l(this,U),M=0;break}}else for(;L<w;)if(U[M++]=C[L++],M==this.blockSize){l(this,U),M=0;break}}this.h=M,this.o+=w},r.prototype.A=function(){var C=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);C[0]=128;for(var w=1;w<C.length-8;++w)C[w]=0;w=this.o*8;for(var I=C.length-8;I<C.length;++I)C[I]=w&255,w/=256;for(this.v(C),C=Array(16),w=0,I=0;I<4;++I)for(let U=0;U<32;U+=8)C[w++]=this.g[I]>>>U&255;return C};function c(C,w){var I=p;return Object.prototype.hasOwnProperty.call(I,C)?I[C]:I[C]=w(C)}function d(C,w){this.h=w;const I=[];let U=!0;for(let M=C.length-1;M>=0;M--){const L=C[M]|0;U&&L==w||(I[M]=L,U=!1)}this.g=I}var p={};function _(C){return-128<=C&&C<128?c(C,function(w){return new d([w|0],w<0?-1:0)}):new d([C|0],C<0?-1:0)}function y(C){if(isNaN(C)||!isFinite(C))return b;if(C<0)return nt(y(-C));const w=[];let I=1;for(let U=0;C>=I;U++)w[U]=C/I|0,I*=4294967296;return new d(w,0)}function A(C,w){if(C.length==0)throw Error("number format error: empty string");if(w=w||10,w<2||36<w)throw Error("radix out of range: "+w);if(C.charAt(0)=="-")return nt(A(C.substring(1),w));if(C.indexOf("-")>=0)throw Error('number format error: interior "-" character');const I=y(Math.pow(w,8));let U=b;for(let L=0;L<C.length;L+=8){var M=Math.min(8,C.length-L);const R=parseInt(C.substring(L,L+M),w);M<8?(M=y(Math.pow(w,M)),U=U.j(M).add(y(R))):(U=U.j(I),U=U.add(y(R)))}return U}var b=_(0),N=_(1),Y=_(16777216);s=d.prototype,s.m=function(){if(ut(this))return-nt(this).m();let C=0,w=1;for(let I=0;I<this.g.length;I++){const U=this.i(I);C+=(U>=0?U:4294967296+U)*w,w*=4294967296}return C},s.toString=function(C){if(C=C||10,C<2||36<C)throw Error("radix out of range: "+C);if(et(this))return"0";if(ut(this))return"-"+nt(this).toString(C);const w=y(Math.pow(C,6));var I=this;let U="";for(;;){const M=$t(I,w).g;I=yt(I,M.j(w));let L=((I.g.length>0?I.g[0]:I.h)>>>0).toString(C);if(I=M,et(I))return L+U;for(;L.length<6;)L="0"+L;U=L+U}},s.i=function(C){return C<0?0:C<this.g.length?this.g[C]:this.h};function et(C){if(C.h!=0)return!1;for(let w=0;w<C.g.length;w++)if(C.g[w]!=0)return!1;return!0}function ut(C){return C.h==-1}s.l=function(C){return C=yt(this,C),ut(C)?-1:et(C)?0:1};function nt(C){const w=C.g.length,I=[];for(let U=0;U<w;U++)I[U]=~C.g[U];return new d(I,~C.h).add(N)}s.abs=function(){return ut(this)?nt(this):this},s.add=function(C){const w=Math.max(this.g.length,C.g.length),I=[];let U=0;for(let M=0;M<=w;M++){let L=U+(this.i(M)&65535)+(C.i(M)&65535),R=(L>>>16)+(this.i(M)>>>16)+(C.i(M)>>>16);U=R>>>16,L&=65535,R&=65535,I[M]=R<<16|L}return new d(I,I[I.length-1]&-2147483648?-1:0)};function yt(C,w){return C.add(nt(w))}s.j=function(C){if(et(this)||et(C))return b;if(ut(this))return ut(C)?nt(this).j(nt(C)):nt(nt(this).j(C));if(ut(C))return nt(this.j(nt(C)));if(this.l(Y)<0&&C.l(Y)<0)return y(this.m()*C.m());const w=this.g.length+C.g.length,I=[];for(var U=0;U<2*w;U++)I[U]=0;for(U=0;U<this.g.length;U++)for(let M=0;M<C.g.length;M++){const L=this.i(U)>>>16,R=this.i(U)&65535,de=C.i(M)>>>16,be=C.i(M)&65535;I[2*U+2*M]+=R*be,wt(I,2*U+2*M),I[2*U+2*M+1]+=L*be,wt(I,2*U+2*M+1),I[2*U+2*M+1]+=R*de,wt(I,2*U+2*M+1),I[2*U+2*M+2]+=L*de,wt(I,2*U+2*M+2)}for(C=0;C<w;C++)I[C]=I[2*C+1]<<16|I[2*C];for(C=w;C<2*w;C++)I[C]=0;return new d(I,0)};function wt(C,w){for(;(C[w]&65535)!=C[w];)C[w+1]+=C[w]>>>16,C[w]&=65535,w++}function Tt(C,w){this.g=C,this.h=w}function $t(C,w){if(et(w))throw Error("division by zero");if(et(C))return new Tt(b,b);if(ut(C))return w=$t(nt(C),w),new Tt(nt(w.g),nt(w.h));if(ut(w))return w=$t(C,nt(w)),new Tt(nt(w.g),w.h);if(C.g.length>30){if(ut(C)||ut(w))throw Error("slowDivide_ only works with positive integers.");for(var I=N,U=w;U.l(C)<=0;)I=ne(I),U=ne(U);var M=Ft(I,1),L=Ft(U,1);for(U=Ft(U,2),I=Ft(I,2);!et(U);){var R=L.add(U);R.l(C)<=0&&(M=M.add(I),L=R),U=Ft(U,1),I=Ft(I,1)}return w=yt(C,M.j(w)),new Tt(M,w)}for(M=b;C.l(w)>=0;){for(I=Math.max(1,Math.floor(C.m()/w.m())),U=Math.ceil(Math.log(I)/Math.LN2),U=U<=48?1:Math.pow(2,U-48),L=y(I),R=L.j(w);ut(R)||R.l(C)>0;)I-=U,L=y(I),R=L.j(w);et(L)&&(L=N),M=M.add(L),C=yt(C,R)}return new Tt(M,C)}s.B=function(C){return $t(this,C).h},s.and=function(C){const w=Math.max(this.g.length,C.g.length),I=[];for(let U=0;U<w;U++)I[U]=this.i(U)&C.i(U);return new d(I,this.h&C.h)},s.or=function(C){const w=Math.max(this.g.length,C.g.length),I=[];for(let U=0;U<w;U++)I[U]=this.i(U)|C.i(U);return new d(I,this.h|C.h)},s.xor=function(C){const w=Math.max(this.g.length,C.g.length),I=[];for(let U=0;U<w;U++)I[U]=this.i(U)^C.i(U);return new d(I,this.h^C.h)};function ne(C){const w=C.g.length+1,I=[];for(let U=0;U<w;U++)I[U]=C.i(U)<<1|C.i(U-1)>>>31;return new d(I,C.h)}function Ft(C,w){const I=w>>5;w%=32;const U=C.g.length-I,M=[];for(let L=0;L<U;L++)M[L]=w>0?C.i(L+I)>>>w|C.i(L+I+1)<<32-w:C.i(L+I);return new d(M,C.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,jE=r,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=y,d.fromString=A,Er=d}).apply(typeof Qv<"u"?Qv:typeof self<"u"?self:typeof window<"u"?window:{});var Xc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var zE,Gl,BE,ah,Tm,qE,HE,FE;(function(){var s,t=Object.defineProperty;function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Xc=="object"&&Xc];for(var m=0;m<u.length;++m){var v=u[m];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var r=i(this);function l(u,m){if(m)t:{var v=r;u=u.split(".");for(var T=0;T<u.length-1;T++){var P=u[T];if(!(P in v))break t;v=v[P]}u=u[u.length-1],T=v[u],m=m(T),m!=T&&m!=null&&t(v,u,{configurable:!0,writable:!0,value:m})}}l("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),l("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),l("Object.entries",function(u){return u||function(m){var v=[],T;for(T in m)Object.prototype.hasOwnProperty.call(m,T)&&v.push([T,m[T]]);return v}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var c=c||{},d=this||self;function p(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function _(u,m,v){return u.call.apply(u.bind,arguments)}function y(u,m,v){return y=_,y.apply(null,arguments)}function A(u,m){var v=Array.prototype.slice.call(arguments,1);return function(){var T=v.slice();return T.push.apply(T,arguments),u.apply(this,T)}}function b(u,m){function v(){}v.prototype=m.prototype,u.Z=m.prototype,u.prototype=new v,u.prototype.constructor=u,u.Ob=function(T,P,q){for(var rt=Array(arguments.length-2),Nt=2;Nt<arguments.length;Nt++)rt[Nt-2]=arguments[Nt];return m.prototype[P].apply(T,rt)}}var N=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function Y(u){const m=u.length;if(m>0){const v=Array(m);for(let T=0;T<m;T++)v[T]=u[T];return v}return[]}function et(u,m){for(let T=1;T<arguments.length;T++){const P=arguments[T];var v=typeof P;if(v=v!="object"?v:P?Array.isArray(P)?"array":v:"null",v=="array"||v=="object"&&typeof P.length=="number"){v=u.length||0;const q=P.length||0;u.length=v+q;for(let rt=0;rt<q;rt++)u[v+rt]=P[rt]}else u.push(P)}}class ut{constructor(m,v){this.i=m,this.j=v,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function nt(u){d.setTimeout(()=>{throw u},0)}function yt(){var u=C;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class wt{constructor(){this.h=this.g=null}add(m,v){const T=Tt.get();T.set(m,v),this.h?this.h.next=T:this.g=T,this.h=T}}var Tt=new ut(()=>new $t,u=>u.reset());class $t{constructor(){this.next=this.g=this.h=null}set(m,v){this.h=m,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let ne,Ft=!1,C=new wt,w=()=>{const u=Promise.resolve(void 0);ne=()=>{u.then(I)}};function I(){for(var u;u=yt();){try{u.h.call(u.g)}catch(v){nt(v)}var m=Tt;m.j(u),m.h<100&&(m.h++,u.next=m.g,m.g=u)}Ft=!1}function U(){this.u=this.u,this.C=this.C}U.prototype.u=!1,U.prototype.dispose=function(){this.u||(this.u=!0,this.N())},U.prototype[Symbol.dispose]=function(){this.dispose()},U.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function M(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}M.prototype.h=function(){this.defaultPrevented=!0};var L=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const v=()=>{};d.addEventListener("test",v,m),d.removeEventListener("test",v,m)}catch{}return u})();function R(u){return/^[\s\xa0]*$/.test(u)}function de(u,m){M.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,m)}b(de,M),de.prototype.init=function(u,m){const v=this.type=u.type,T=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget,m||(v=="mouseover"?m=u.fromElement:v=="mouseout"&&(m=u.toElement)),this.relatedTarget=m,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&de.Z.h.call(this)},de.prototype.h=function(){de.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var be="closure_listenable_"+(Math.random()*1e6|0),G=0;function at(u,m,v,T,P){this.listener=u,this.proxy=null,this.src=m,this.type=v,this.capture=!!T,this.ha=P,this.key=++G,this.da=this.fa=!1}function pt(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Yt(u,m,v){for(const T in u)m.call(v,u[T],T,u)}function Wt(u,m){for(const v in u)m.call(void 0,u[v],v,u)}function V(u){const m={};for(const v in u)m[v]=u[v];return m}const F="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function it(u,m){let v,T;for(let P=1;P<arguments.length;P++){T=arguments[P];for(v in T)u[v]=T[v];for(let q=0;q<F.length;q++)v=F[q],Object.prototype.hasOwnProperty.call(T,v)&&(u[v]=T[v])}}function W(u){this.src=u,this.g={},this.h=0}W.prototype.add=function(u,m,v,T,P){const q=u.toString();u=this.g[q],u||(u=this.g[q]=[],this.h++);const rt=xt(u,m,T,P);return rt>-1?(m=u[rt],v||(m.fa=!1)):(m=new at(m,this.src,q,!!T,P),m.fa=v,u.push(m)),m};function At(u,m){const v=m.type;if(v in u.g){var T=u.g[v],P=Array.prototype.indexOf.call(T,m,void 0),q;(q=P>=0)&&Array.prototype.splice.call(T,P,1),q&&(pt(m),u.g[v].length==0&&(delete u.g[v],u.h--))}}function xt(u,m,v,T){for(let P=0;P<u.length;++P){const q=u[P];if(!q.da&&q.listener==m&&q.capture==!!v&&q.ha==T)return P}return-1}var Lt="closure_lm_"+(Math.random()*1e6|0),me={};function ge(u,m,v,T,P){if(Array.isArray(m)){for(let q=0;q<m.length;q++)ge(u,m[q],v,T,P);return null}return v=es(v),u&&u[be]?u.J(m,v,p(T)?!!T.capture:!1,P):Qn(u,m,v,!1,T,P)}function Qn(u,m,v,T,P,q){if(!m)throw Error("Invalid event type");const rt=p(P)?!!P.capture:!!P;let Nt=hi(u);if(Nt||(u[Lt]=Nt=new W(u)),v=Nt.add(m,v,T,rt,q),v.proxy)return v;if(T=fn(),v.proxy=T,T.src=u,T.listener=v,u.addEventListener)L||(P=rt),P===void 0&&(P=!1),u.addEventListener(m.toString(),T,P);else if(u.attachEvent)u.attachEvent(Yn(m.toString()),T);else if(u.addListener&&u.removeListener)u.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return v}function fn(){function u(v){return m.call(u.src,u.listener,v)}const m=ci;return u}function bi(u,m,v,T,P){if(Array.isArray(m))for(var q=0;q<m.length;q++)bi(u,m[q],v,T,P);else T=p(T)?!!T.capture:!!T,v=es(v),u&&u[be]?(u=u.i,q=String(m).toString(),q in u.g&&(m=u.g[q],v=xt(m,v,T,P),v>-1&&(pt(m[v]),Array.prototype.splice.call(m,v,1),m.length==0&&(delete u.g[q],u.h--)))):u&&(u=hi(u))&&(m=u.g[m.toString()],u=-1,m&&(u=xt(m,v,T,P)),(v=u>-1?m[u]:null)&&ie(v))}function ie(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[be])At(m.i,u);else{var v=u.type,T=u.proxy;m.removeEventListener?m.removeEventListener(v,T,u.capture):m.detachEvent?m.detachEvent(Yn(v),T):m.addListener&&m.removeListener&&m.removeListener(T),(v=hi(m))?(At(v,u),v.h==0&&(v.src=null,m[Lt]=null)):pt(u)}}}function Yn(u){return u in me?me[u]:me[u]="on"+u}function ci(u,m){if(u.da)u=!0;else{m=new de(m,this);const v=u.listener,T=u.ha||u.src;u.fa&&ie(u),u=v.call(T,m)}return u}function hi(u){return u=u[Lt],u instanceof W?u:null}var ts="__closure_events_fn_"+(Math.random()*1e9>>>0);function es(u){return typeof u=="function"?u:(u[ts]||(u[ts]=function(m){return u.handleEvent(m)}),u[ts])}function Ie(){U.call(this),this.i=new W(this),this.M=this,this.G=null}b(Ie,U),Ie.prototype[be]=!0,Ie.prototype.removeEventListener=function(u,m,v,T){bi(this,u,m,v,T)};function De(u,m){var v,T=u.G;if(T)for(v=[];T;T=T.G)v.push(T);if(u=u.M,T=m.type||m,typeof m=="string")m=new M(m,u);else if(m instanceof M)m.target=m.target||u;else{var P=m;m=new M(T,u),it(m,P)}P=!0;let q,rt;if(v)for(rt=v.length-1;rt>=0;rt--)q=m.g=v[rt],P=wi(q,T,!0,m)&&P;if(q=m.g=u,P=wi(q,T,!0,m)&&P,P=wi(q,T,!1,m)&&P,v)for(rt=0;rt<v.length;rt++)q=m.g=v[rt],P=wi(q,T,!1,m)&&P}Ie.prototype.N=function(){if(Ie.Z.N.call(this),this.i){var u=this.i;for(const m in u.g){const v=u.g[m];for(let T=0;T<v.length;T++)pt(v[T]);delete u.g[m],u.h--}}this.G=null},Ie.prototype.J=function(u,m,v,T){return this.i.add(String(u),m,!1,v,T)},Ie.prototype.K=function(u,m,v,T){return this.i.add(String(u),m,!0,v,T)};function wi(u,m,v,T){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();let P=!0;for(let q=0;q<m.length;++q){const rt=m[q];if(rt&&!rt.da&&rt.capture==v){const Nt=rt.listener,Me=rt.ha||rt.src;rt.fa&&At(u.i,rt),P=Nt.call(Me,T)!==!1&&P}}return P&&!T.defaultPrevented}function qo(u,m){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=y(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(u,m||0)}function Os(u){u.g=qo(()=>{u.g=null,u.i&&(u.i=!1,Os(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class en extends U{constructor(m,v){super(),this.m=m,this.l=v,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:Os(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ns(u){U.call(this),this.h=u,this.g={}}b(ns,U);var Or=[];function Vr(u){Yt(u.g,function(m,v){this.g.hasOwnProperty(v)&&ie(m)},u),u.g={}}ns.prototype.N=function(){ns.Z.N.call(this),Vr(this)},ns.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var yn=d.JSON.stringify,Vs=d.JSON.parse,Ur=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function Lr(){}function Ta(){}var An={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Ye(){M.call(this,"d")}b(Ye,M);function Sn(){M.call(this,"c")}b(Sn,M);var _e={},Aa=null;function is(){return Aa=Aa||new Ie}_e.Ia="serverreachability";function Sa(u){M.call(this,_e.Ia,u)}b(Sa,M);function Mn(u){const m=is();De(m,new Sa(m))}_e.STAT_EVENT="statevent";function Ri(u,m){M.call(this,_e.STAT_EVENT,u),this.stat=m}b(Ri,M);function xe(u){const m=is();De(m,new Ri(m,u))}_e.Ja="timingevent";function Kn(u,m){M.call(this,_e.Ja,u),this.size=m}b(Kn,M);function Xn(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},m)}function On(){this.g=!0}On.prototype.ua=function(){this.g=!1};function Ho(u,m,v,T,P,q){u.info(function(){if(u.g)if(q){var rt="",Nt=q.split("&");for(let te=0;te<Nt.length;te++){var Me=Nt[te].split("=");if(Me.length>1){const Ae=Me[0];Me=Me[1];const ti=Ae.split("_");rt=ti.length>=2&&ti[1]=="type"?rt+(Ae+"="+Me+"&"):rt+(Ae+"=redacted&")}}}else rt=null;else rt=q;return"XMLHTTP REQ ("+T+") [attempt "+P+"]: "+m+`
`+v+`
`+rt})}function ba(u,m,v,T,P,q,rt){u.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+P+"]: "+m+`
`+v+`
`+q+" "+rt})}function $n(u,m,v,T){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+Fo(u,v)+(T?" "+T:"")})}function ss(u,m){u.info(function(){return"TIMEOUT: "+m})}On.prototype.info=function(){};function Fo(u,m){if(!u.g)return m;if(!m)return null;try{const q=JSON.parse(m);if(q){for(u=0;u<q.length;u++)if(Array.isArray(q[u])){var v=q[u];if(!(v.length<2)){var T=v[1];if(Array.isArray(T)&&!(T.length<1)){var P=T[0];if(P!="noop"&&P!="stop"&&P!="close")for(let rt=1;rt<T.length;rt++)T[rt]=""}}}}return yn(q)}catch{return m}}var rs={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},kr={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},D;function tt(){}b(tt,Lr),tt.prototype.g=function(){return new XMLHttpRequest},D=new tt;function J(u){return encodeURIComponent(String(u))}function st(u){var m=1;u=u.split(":");const v=[];for(;m>0&&u.length;)v.push(u.shift()),m--;return u.length&&v.push(u.join(":")),v}function dt(u,m,v,T){this.j=u,this.i=m,this.l=v,this.S=T||1,this.V=new ns(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new bt}function bt(){this.i=null,this.g="",this.h=!1}var vt={},ot={};function Mt(u,m,v){u.M=1,u.A=Pr(Pe(m)),u.u=v,u.R=!0,Ot(u,null)}function Ot(u,m){u.F=Date.now(),Ii(u),u.B=Pe(u.A);var v=u.B,T=u.S;Array.isArray(T)||(T=[String(T)]),Ca(v.i,"t",T),u.C=0,v=u.j.L,u.h=new bt,u.g=Bu(u.j,v?m:null,!u.u),u.P>0&&(u.O=new en(y(u.Y,u,u.g),u.P)),m=u.V,v=u.g,T=u.ba;var P="readystatechange";Array.isArray(P)||(P&&(Or[0]=P.toString()),P=Or);for(let q=0;q<P.length;q++){const rt=ge(v,P[q],T||m.handleEvent,!1,m.h||m);if(!rt)break;m.g[rt.key]=rt}m=u.J?V(u.J):{},u.u?(u.v||(u.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,m)):(u.v="GET",u.g.ea(u.B,u.v,null,m)),Mn(),Ho(u.i,u.v,u.B,u.l,u.S,u.u)}dt.prototype.ba=function(u){u=u.target;const m=this.O;m&&mi(u)==3?m.j():this.Y(u)},dt.prototype.Y=function(u){try{if(u==this.g)t:{const Nt=mi(this.g),Me=this.g.ya(),te=this.g.ca();if(!(Nt<3)&&(Nt!=3||this.g&&(this.h.h||this.g.la()||nn(this.g)))){this.K||Nt!=4||Me==7||(Me==8||te<=0?Mn(3):Mn(2)),xi(this);var m=this.g.ca();this.X=m;var v=Ke(this);if(this.o=m==200,ba(this.i,this.v,this.B,this.l,this.S,Nt,m),this.o){if(this.U&&!this.L){e:{if(this.g){var T,P=this.g;if((T=P.g?P.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!R(T)){var q=T;break e}}q=null}if(u=q)$n(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Ci(this,u);else{this.o=!1,this.m=3,xe(12),Vn(this),Zn(this);break t}}if(this.R){u=!0;let Ae;for(;!this.K&&this.C<v.length;)if(Ae=wa(this,v),Ae==ot){Nt==4&&(this.m=4,xe(14),u=!1),$n(this.i,this.l,null,"[Incomplete Response]");break}else if(Ae==vt){this.m=4,xe(15),$n(this.i,this.l,v,"[Invalid Chunk]"),u=!1;break}else $n(this.i,this.l,Ae,null),Ci(this,Ae);if(Le(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Nt!=4||v.length!=0||this.h.h||(this.m=1,xe(16),u=!1),this.o=this.o&&u,!u)$n(this.i,this.l,v,"[Invalid Chunked Response]"),Vn(this),Zn(this);else if(v.length>0&&!this.W){this.W=!0;var rt=this.j;rt.g==this&&rt.aa&&!rt.P&&(rt.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),rl(rt),rt.P=!0,xe(11))}}else $n(this.i,this.l,v,null),Ci(this,v);Nt==4&&Vn(this),this.o&&!this.K&&(Nt==4?ku(this.j,this):(this.o=!1,Ii(this)))}else os(this.g),m==400&&v.indexOf("Unknown SID")>0?(this.m=3,xe(12)):(this.m=0,xe(13)),Vn(this),Zn(this)}}}catch{}finally{}};function Ke(u){if(!Le(u))return u.g.la();const m=nn(u.g);if(m==="")return"";let v="";const T=m.length,P=mi(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return Vn(u),Zn(u),"";u.h.i=new d.TextDecoder}for(let q=0;q<T;q++)u.h.h=!0,v+=u.h.i.decode(m[q],{stream:!(P&&q==T-1)});return m.length=0,u.h.g+=v,u.C=0,u.h.g}function Le(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function wa(u,m){var v=u.C,T=m.indexOf(`
`,v);return T==-1?ot:(v=Number(m.substring(v,T)),isNaN(v)?vt:(T+=1,T+v>m.length?ot:(m=m.slice(T,T+v),u.C=T+v,m)))}dt.prototype.cancel=function(){this.K=!0,Vn(this)};function Ii(u){u.T=Date.now()+u.H,Ra(u,u.H)}function Ra(u,m){if(u.D!=null)throw Error("WatchDog timer not null");u.D=Xn(y(u.aa,u),m)}function xi(u){u.D&&(d.clearTimeout(u.D),u.D=null)}dt.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(ss(this.i,this.B),this.M!=2&&(Mn(),xe(17)),Vn(this),this.m=2,Zn(this)):Ra(this,this.T-u)};function Zn(u){u.j.I==0||u.K||ku(u.j,u)}function Vn(u){xi(u);var m=u.O;m&&typeof m.dispose=="function"&&m.dispose(),u.O=null,Vr(u.V),u.g&&(m=u.g,u.g=null,m.abort(),m.dispose())}function Ci(u,m){try{var v=u.j;if(v.I!=0&&(v.g==u||Di(v.h,u))){if(!u.L&&Di(v.h,u)&&v.I==3){try{var T=v.Ba.g.parse(m)}catch{T=null}if(Array.isArray(T)&&T.length==3){var P=T;if(P[0]==0){t:if(!v.v){if(v.g)if(v.g.F+3e3<u.F)Va(v),qs(v);else break t;Gr(v),xe(18)}}else v.xa=P[1],0<v.xa-v.K&&P[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=Xn(y(v.Va,v),6e3));Ni(v.h)<=1&&v.ta&&(v.ta=void 0)}else ki(v,11)}else if((u.L||v.g==u)&&Va(v),!R(m))for(P=v.Ba.g.parse(m),m=0;m<P.length;m++){let te=P[m];const Ae=te[0];if(!(Ae<=v.K))if(v.K=Ae,te=te[1],v.I==2)if(te[0]=="c"){v.M=te[1],v.ba=te[2];const ti=te[3];ti!=null&&(v.ka=ti,v.j.info("VER="+v.ka));const Pi=te[4];Pi!=null&&(v.za=Pi,v.j.info("SVER="+v.za));const gi=te[5];gi!=null&&typeof gi=="number"&&gi>0&&(T=1.5*gi,v.O=T,v.j.info("backChannelRequestTimeoutMs_="+T)),T=v;const pi=u.g;if(pi){const Qr=pi.g?pi.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Qr){var q=T.h;q.g||Qr.indexOf("spdy")==-1&&Qr.indexOf("quic")==-1&&Qr.indexOf("h2")==-1||(q.j=q.l,q.g=new Set,q.h&&(Yo(q,q.h),q.h=null))}if(T.G){const Ua=pi.g?pi.g.getResponseHeader("X-HTTP-Session-Id"):null;Ua&&(T.wa=Ua,se(T.J,T.G,Ua))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-u.F,v.j.info("Handshake RTT: "+v.T+"ms")),T=v;var rt=u;if(T.na=zu(T,T.L?T.ba:null,T.W),rt.L){Ko(T.h,rt);var Nt=rt,Me=T.O;Me&&(Nt.H=Me),Nt.D&&(xi(Nt),Ii(Nt)),T.g=rt}else Uu(T);v.i.length>0&&Li(v)}else te[0]!="stop"&&te[0]!="close"||ki(v,7);else v.I==3&&(te[0]=="stop"||te[0]=="close"?te[0]=="stop"?ki(v,7):il(v):te[0]!="noop"&&v.l&&v.l.qa(te),v.A=0)}}Mn(4)}catch{}}var ke=class{constructor(u,m){this.g=u,this.map=m}};function Go(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Qo(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function Ni(u){return u.h?1:u.g?u.g.size:0}function Di(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function Yo(u,m){u.g?u.g.add(m):u.h=m}function Ko(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}Go.prototype.cancel=function(){if(this.i=Xo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Xo(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const v of u.g.values())m=m.concat(v.G);return m}return Y(u.i)}var Cu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ia(u,m){if(u){u=u.split("&");for(let v=0;v<u.length;v++){const T=u[v].indexOf("=");let P,q=null;T>=0?(P=u[v].substring(0,T),q=u[v].substring(T+1)):P=u[v],m(P,q?decodeURIComponent(q.replace(/\+/g," ")):"")}}}function Un(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;u instanceof Un?(this.l=u.l,Ze(this,u.j),this.o=u.o,this.g=u.g,Us(this,u.u),this.h=u.h,$o(this,Ou(u.i)),this.m=u.m):u&&(m=String(u).match(Cu))?(this.l=!1,Ze(this,m[1]||"",!0),this.o=Mi(m[2]||""),this.g=Mi(m[3]||"",!0),Us(this,m[4]),this.h=Mi(m[5]||"",!0),$o(this,m[6]||"",!0),this.m=Mi(m[7]||"")):(this.l=!1,this.i=new ks(null,this.l))}Un.prototype.toString=function(){const u=[];var m=this.j;m&&u.push(jr(m,xa,!0),":");var v=this.g;return(v||m=="file")&&(u.push("//"),(m=this.o)&&u.push(jr(m,xa,!0),"@"),u.push(J(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&u.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&u.push("/"),u.push(jr(v,v.charAt(0)=="/"?Zo:Nu,!0))),(v=this.i.toString())&&u.push("?",v),(v=this.m)&&u.push("#",jr(v,Du)),u.join("")},Un.prototype.resolve=function(u){const m=Pe(this);let v=!!u.j;v?Ze(m,u.j):v=!!u.o,v?m.o=u.o:v=!!u.g,v?m.g=u.g:v=u.u!=null;var T=u.h;if(v)Us(m,u.u);else if(v=!!u.h){if(T.charAt(0)!="/")if(this.g&&!this.h)T="/"+T;else{var P=m.h.lastIndexOf("/");P!=-1&&(T=m.h.slice(0,P+1)+T)}if(P=T,P==".."||P==".")T="";else if(P.indexOf("./")!=-1||P.indexOf("/.")!=-1){T=P.lastIndexOf("/",0)==0,P=P.split("/");const q=[];for(let rt=0;rt<P.length;){const Nt=P[rt++];Nt=="."?T&&rt==P.length&&q.push(""):Nt==".."?((q.length>1||q.length==1&&q[0]!="")&&q.pop(),T&&rt==P.length&&q.push("")):(q.push(Nt),T=!0)}T=q.join("/")}else T=P}return v?m.h=T:v=u.i.toString()!=="",v?$o(m,Ou(u.i)):v=!!u.m,v&&(m.m=u.m),m};function Pe(u){return new Un(u)}function Ze(u,m,v){u.j=v?Mi(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function Us(u,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);u.u=m}else u.u=null}function $o(u,m,v){m instanceof ks?(u.i=m,Na(u.i,u.l)):(v||(m=jr(m,Ls)),u.i=new ks(m,u.l))}function se(u,m,v){u.i.set(m,v)}function Pr(u){return se(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function Mi(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function jr(u,m,v){return typeof u=="string"?(u=encodeURI(u).replace(m,bn),v&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function bn(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var xa=/[#\/\?@]/g,Nu=/[#\?:]/g,Zo=/[#\?]/g,Ls=/[#\?@]/g,Du=/#/g;function ks(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function wn(u){u.g||(u.g=new Map,u.h=0,u.i&&Ia(u.i,function(m,v){u.add(decodeURIComponent(m.replace(/\+/g," ")),v)}))}s=ks.prototype,s.add=function(u,m){wn(this),this.i=null,u=Ps(this,u);let v=this.g.get(u);return v||this.g.set(u,v=[]),v.push(m),this.h+=1,this};function Mu(u,m){wn(u),m=Ps(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function Jo(u,m){return wn(u),m=Ps(u,m),u.g.has(m)}s.forEach=function(u,m){wn(this),this.g.forEach(function(v,T){v.forEach(function(P){u.call(m,P,T,this)},this)},this)};function Wo(u,m){wn(u);let v=[];if(typeof m=="string")Jo(u,m)&&(v=v.concat(u.g.get(Ps(u,m))));else for(u=Array.from(u.g.values()),m=0;m<u.length;m++)v=v.concat(u[m]);return v}s.set=function(u,m){return wn(this),this.i=null,u=Ps(this,u),Jo(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},s.get=function(u,m){return u?(u=Wo(this,u),u.length>0?String(u[0]):m):m};function Ca(u,m,v){Mu(u,m),v.length>0&&(u.i=null,u.g.set(Ps(u,m),Y(v)),u.h+=v.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(let T=0;T<m.length;T++){var v=m[T];const P=J(v);v=Wo(this,v);for(let q=0;q<v.length;q++){let rt=P;v[q]!==""&&(rt+="="+J(v[q])),u.push(rt)}}return this.i=u.join("&")};function Ou(u){const m=new ks;return m.i=u.i,u.g&&(m.g=new Map(u.g),m.h=u.h),m}function Ps(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function Na(u,m){m&&!u.j&&(wn(u),u.i=null,u.g.forEach(function(v,T){const P=T.toLowerCase();T!=P&&(Mu(this,T),Ca(this,P,v))},u)),u.j=m}function fi(u,m){const v=new On;if(d.Image){const T=new Image;T.onload=A(Jn,v,"TestLoadImage: loaded",!0,m,T),T.onerror=A(Jn,v,"TestLoadImage: error",!1,m,T),T.onabort=A(Jn,v,"TestLoadImage: abort",!1,m,T),T.ontimeout=A(Jn,v,"TestLoadImage: timeout",!1,m,T),d.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=u}else m(!1)}function tl(u,m){const v=new On,T=new AbortController,P=setTimeout(()=>{T.abort(),Jn(v,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:T.signal}).then(q=>{clearTimeout(P),q.ok?Jn(v,"TestPingServer: ok",!0,m):Jn(v,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(P),Jn(v,"TestPingServer: error",!1,m)})}function Jn(u,m,v,T,P){try{P&&(P.onload=null,P.onerror=null,P.onabort=null,P.ontimeout=null),T(v)}catch{}}function js(){this.g=new Ur}function Oi(u){this.i=u.Sb||null,this.h=u.ab||!1}b(Oi,Lr),Oi.prototype.g=function(){return new zr(this.i,this.h)};function zr(u,m){Ie.call(this),this.H=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}b(zr,Ie),s=zr.prototype,s.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=m,this.readyState=1,di(this)},s.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(m.body=u),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,zs(this)),this.readyState=0},s.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,di(this)),this.g&&(this.readyState=3,di(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Da(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function Da(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}s.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?zs(this):di(this),this.readyState==3&&Da(this)}},s.Oa=function(u){this.g&&(this.response=this.responseText=u,zs(this))},s.Na=function(u){this.g&&(this.response=u,zs(this))},s.ga=function(){this.g&&zs(this)};function zs(u){u.readyState=4,u.l=null,u.j=null,u.B=null,di(u)}s.setRequestHeader=function(u,m){this.A.append(u,m)},s.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var v=m.next();!v.done;)v=v.value,u.push(v[0]+": "+v[1]),v=m.next();return u.join(`\r
`)};function di(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(zr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Wn(u){let m="";return Yt(u,function(v,T){m+=T,m+=":",m+=v,m+=`\r
`}),m}function Br(u,m,v){t:{for(T in v){var T=!1;break t}T=!0}T||(v=Wn(v),typeof u=="string"?v!=null&&J(v):se(u,m,v))}function le(u){Ie.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}b(le,Ie);var Vi=/^https?$/i,el=["POST","PUT"];s=le.prototype,s.Fa=function(u){this.H=u},s.ea=function(u,m,v,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():D.g(),this.g.onreadystatechange=N(y(this.Ca,this));try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(q){qr(this,q);return}if(u=v||"",v=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var P in T)v.set(P,T[P]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const q of T.keys())v.set(q,T.get(q));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(v.keys()).find(q=>q.toLowerCase()=="content-type"),P=d.FormData&&u instanceof d.FormData,!(Array.prototype.indexOf.call(el,m,void 0)>=0)||T||P||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[q,rt]of v)this.g.setRequestHeader(q,rt);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(q){qr(this,q)}};function qr(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.o=5,nl(u),as(u)}function nl(u){u.A||(u.A=!0,De(u,"complete"),De(u,"error"))}s.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,De(this,"complete"),De(this,"abort"),as(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),as(this,!0)),le.Z.N.call(this)},s.Ca=function(){this.u||(this.B||this.v||this.j?Hr(this):this.Xa())},s.Xa=function(){Hr(this)};function Hr(u){if(u.h&&typeof c<"u"){if(u.v&&mi(u)==4)setTimeout(u.Ca.bind(u),0);else if(De(u,"readystatechange"),mi(u)==4){u.h=!1;try{const q=u.ca();t:switch(q){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var v;if(!(v=m)){var T;if(T=q===0){let rt=String(u.D).match(Cu)[1]||null;!rt&&d.self&&d.self.location&&(rt=d.self.location.protocol.slice(0,-1)),T=!Vi.test(rt?rt.toLowerCase():"")}v=T}if(v)De(u,"complete"),De(u,"success");else{u.o=6;try{var P=mi(u)>2?u.g.statusText:""}catch{P=""}u.l=P+" ["+u.ca()+"]",nl(u)}}finally{as(u)}}}}function as(u,m){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const v=u.g;u.g=null,m||De(u,"ready");try{v.onreadystatechange=null}catch{}}}s.isActive=function(){return!!this.g};function mi(u){return u.g?u.g.readyState:0}s.ca=function(){try{return mi(this)>2?this.g.status:-1}catch{return-1}},s.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.La=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),Vs(m)}};function nn(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function os(u){const m={};u=(u.g&&mi(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<u.length;T++){if(R(u[T]))continue;var v=st(u[T]);const P=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const q=m[P]||[];m[P]=q,q.push(v)}Wt(m,function(T){return T.join(", ")})}s.ya=function(){return this.o},s.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ui(u,m,v){return v&&v.internalChannelParams&&v.internalChannelParams[u]||m}function Bs(u){this.za=0,this.i=[],this.j=new On,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Ui("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Ui("baseRetryDelayMs",5e3,u),this.Za=Ui("retryDelaySeedMs",1e4,u),this.Ta=Ui("forwardChannelMaxRetries",2,u),this.va=Ui("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new Go(u&&u.concurrentRequestLimit),this.Ba=new js,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}s=Bs.prototype,s.ka=8,s.I=1,s.connect=function(u,m,v,T){xe(0),this.W=u,this.H=m||{},v&&T!==void 0&&(this.H.OSID=v,this.H.OAID=T),this.F=this.X,this.J=zu(this,null,this.W),Li(this)};function il(u){if(Ma(u),u.I==3){var m=u.V++,v=Pe(u.J);if(se(v,"SID",u.M),se(v,"RID",m),se(v,"TYPE","terminate"),Fr(u,v),m=new dt(u,u.j,m),m.M=2,m.A=Pr(Pe(v)),v=!1,d.navigator&&d.navigator.sendBeacon)try{v=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!v&&d.Image&&(new Image().src=m.A,v=!0),v||(m.g=Bu(m.j,null),m.g.ea(m.A)),m.F=Date.now(),Ii(m)}ju(u)}function qs(u){u.g&&(rl(u),u.g.cancel(),u.g=null)}function Ma(u){qs(u),u.v&&(d.clearTimeout(u.v),u.v=null),Va(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&d.clearTimeout(u.m),u.m=null)}function Li(u){if(!Qo(u.h)&&!u.m){u.m=!0;var m=u.Ea;ne||w(),Ft||(ne(),Ft=!0),C.add(m,u),u.D=0}}function Oa(u,m){return Ni(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=m.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=Xn(y(u.Ea,u,m),Pu(u,u.D)),u.D++,!0)}s.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const P=new dt(this,this.j,u);let q=this.o;if(this.U&&(q?(q=V(q),it(q,this.U)):q=this.U),this.u!==null||this.R||(P.J=q,q=null),this.S)t:{for(var m=0,v=0;v<this.i.length;v++){e:{var T=this.i[v];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break e}T=void 0}if(T===void 0)break;if(m+=T,m>4096){m=v;break t}if(m===4096||v===this.i.length-1){m=v+1;break t}}m=1e3}else m=1e3;m=Vu(this,P,m),v=Pe(this.J),se(v,"RID",u),se(v,"CVER",22),this.G&&se(v,"X-HTTP-Session-Id",this.G),Fr(this,v),q&&(this.R?m="headers="+J(Wn(q))+"&"+m:this.u&&Br(v,this.u,q)),Yo(this.h,P),this.Ra&&se(v,"TYPE","init"),this.S?(se(v,"$req",m),se(v,"SID","null"),P.U=!0,Mt(P,v,null)):Mt(P,v,m),this.I=2}}else this.I==3&&(u?sl(this,u):this.i.length==0||Qo(this.h)||sl(this))};function sl(u,m){var v;m?v=m.l:v=u.V++;const T=Pe(u.J);se(T,"SID",u.M),se(T,"RID",v),se(T,"AID",u.K),Fr(u,T),u.u&&u.o&&Br(T,u.u,u.o),v=new dt(u,u.j,v,u.D+1),u.u===null&&(v.J=u.o),m&&(u.i=m.G.concat(u.i)),m=Vu(u,v,1e3),v.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),Yo(u.h,v),Mt(v,T,m)}function Fr(u,m){u.H&&Yt(u.H,function(v,T){se(m,T,v)}),u.l&&Yt({},function(v,T){se(m,T,v)})}function Vu(u,m,v){v=Math.min(u.i.length,v);const T=u.l?y(u.l.Ka,u.l,u):null;t:{var P=u.i;let Nt=-1;for(;;){const Me=["count="+v];Nt==-1?v>0?(Nt=P[0].g,Me.push("ofs="+Nt)):Nt=0:Me.push("ofs="+Nt);let te=!0;for(let Ae=0;Ae<v;Ae++){var q=P[Ae].g;const ti=P[Ae].map;if(q-=Nt,q<0)Nt=Math.max(0,P[Ae].g-100),te=!1;else try{q="req"+q+"_"||"";try{var rt=ti instanceof Map?ti:Object.entries(ti);for(const[Pi,gi]of rt){let pi=gi;p(gi)&&(pi=yn(gi)),Me.push(q+Pi+"="+encodeURIComponent(pi))}}catch(Pi){throw Me.push(q+"type="+encodeURIComponent("_badmap")),Pi}}catch{T&&T(ti)}}if(te){rt=Me.join("&");break t}}rt=void 0}return u=u.i.splice(0,v),m.G=u,rt}function Uu(u){if(!u.g&&!u.v){u.Y=1;var m=u.Da;ne||w(),Ft||(ne(),Ft=!0),C.add(m,u),u.A=0}}function Gr(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=Xn(y(u.Da,u),Pu(u,u.A)),u.A++,!0)}s.Da=function(){if(this.v=null,Lu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=Xn(y(this.Wa,this),u)}},s.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,xe(10),qs(this),Lu(this))};function rl(u){u.B!=null&&(d.clearTimeout(u.B),u.B=null)}function Lu(u){u.g=new dt(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var m=Pe(u.na);se(m,"RID","rpc"),se(m,"SID",u.M),se(m,"AID",u.K),se(m,"CI",u.F?"0":"1"),!u.F&&u.ia&&se(m,"TO",u.ia),se(m,"TYPE","xmlhttp"),Fr(u,m),u.u&&u.o&&Br(m,u.u,u.o),u.O&&(u.g.H=u.O);var v=u.g;u=u.ba,v.M=1,v.A=Pr(Pe(m)),v.u=null,v.R=!0,Ot(v,u)}s.Va=function(){this.C!=null&&(this.C=null,qs(this),Gr(this),xe(19))};function Va(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function ku(u,m){var v=null;if(u.g==m){Va(u),rl(u),u.g=null;var T=2}else if(Di(u.h,m))v=m.G,Ko(u.h,m),T=1;else return;if(u.I!=0){if(m.o)if(T==1){v=m.u?m.u.length:0,m=Date.now()-m.F;var P=u.D;T=is(),De(T,new Kn(T,v)),Li(u)}else Uu(u);else if(P=m.m,P==3||P==0&&m.X>0||!(T==1&&Oa(u,m)||T==2&&Gr(u)))switch(v&&v.length>0&&(m=u.h,m.i=m.i.concat(v)),P){case 1:ki(u,5);break;case 4:ki(u,10);break;case 3:ki(u,6);break;default:ki(u,2)}}}function Pu(u,m){let v=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(v*=2),v*m}function ki(u,m){if(u.j.info("Error code "+m),m==2){var v=y(u.bb,u),T=u.Ua;const P=!T;T=new Un(T||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Ze(T,"https"),Pr(T),P?fi(T.toString(),v):tl(T.toString(),v)}else xe(2);u.I=0,u.l&&u.l.pa(m),ju(u),Ma(u)}s.bb=function(u){u?(this.j.info("Successfully pinged google.com"),xe(2)):(this.j.info("Failed to ping google.com"),xe(1))};function ju(u){if(u.I=0,u.ja=[],u.l){const m=Xo(u.h);(m.length!=0||u.i.length!=0)&&(et(u.ja,m),et(u.ja,u.i),u.h.i.length=0,Y(u.i),u.i.length=0),u.l.oa()}}function zu(u,m,v){var T=v instanceof Un?Pe(v):new Un(v);if(T.g!="")m&&(T.g=m+"."+T.g),Us(T,T.u);else{var P=d.location;T=P.protocol,m=m?m+"."+P.hostname:P.hostname,P=+P.port;const q=new Un(null);T&&Ze(q,T),m&&(q.g=m),P&&Us(q,P),v&&(q.h=v),T=q}return v=u.G,m=u.wa,v&&m&&se(T,v,m),se(T,"VER",u.ka),Fr(u,T),T}function Bu(u,m,v){if(m&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Aa&&!u.ma?new le(new Oi({ab:v})):new le(u.ma),m.Fa(u.L),m}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function qu(){}s=qu.prototype,s.ra=function(){},s.qa=function(){},s.pa=function(){},s.oa=function(){},s.isActive=function(){return!0},s.Ka=function(){};function Hs(){}Hs.prototype.g=function(u,m){return new _n(u,m)};function _n(u,m){Ie.call(this),this.g=new Bs(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(u?u["X-WebChannel-Client-Profile"]=m.sa:u={"X-WebChannel-Client-Profile":m.sa}),this.g.U=u,(u=m&&m.Qb)&&!R(u)&&(this.g.u=u),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!R(m)&&(this.g.G=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new ls(this)}b(_n,Ie),_n.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},_n.prototype.close=function(){il(this.g)},_n.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var v={};v.__data__=u,u=v}else this.v&&(v={},v.__data__=yn(u),u=v);m.i.push(new ke(m.Ya++,u)),m.I==3&&Li(m)},_n.prototype.N=function(){this.g.l=null,delete this.j,il(this.g),delete this.g,_n.Z.N.call(this)};function Hu(u){Ye.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){t:{for(const v in m){u=v;break t}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}b(Hu,Ye);function Fu(){Sn.call(this),this.status=1}b(Fu,Sn);function ls(u){this.g=u}b(ls,qu),ls.prototype.ra=function(){De(this.g,"a")},ls.prototype.qa=function(u){De(this.g,new Hu(u))},ls.prototype.pa=function(u){De(this.g,new Fu)},ls.prototype.oa=function(){De(this.g,"b")},Hs.prototype.createWebChannel=Hs.prototype.g,_n.prototype.send=_n.prototype.o,_n.prototype.open=_n.prototype.m,_n.prototype.close=_n.prototype.close,FE=function(){return new Hs},HE=function(){return is()},qE=_e,Tm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},rs.NO_ERROR=0,rs.TIMEOUT=8,rs.HTTP_ERROR=6,ah=rs,kr.COMPLETE="complete",BE=kr,Ta.EventType=An,An.OPEN="a",An.CLOSE="b",An.ERROR="c",An.MESSAGE="d",Ie.prototype.listen=Ie.prototype.J,Gl=Ta,le.prototype.listenOnce=le.prototype.K,le.prototype.getLastError=le.prototype.Ha,le.prototype.getLastErrorCode=le.prototype.ya,le.prototype.getStatus=le.prototype.ca,le.prototype.getResponseJson=le.prototype.La,le.prototype.getResponseText=le.prototype.la,le.prototype.send=le.prototype.ea,le.prototype.setWithCredentials=le.prototype.Fa,zE=le}).apply(typeof Xc<"u"?Xc:typeof self<"u"?self:typeof window<"u"?window:{});const Yv="@firebase/firestore",Kv="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gn{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}gn.UNAUTHENTICATED=new gn(null),gn.GOOGLE_CREDENTIALS=new gn("google-credentials-uid"),gn.FIRST_PARTY=new gn("first-party-uid"),gn.MOCK_USER=new gn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ko="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ya=new jm("@firebase/firestore");function yo(){return ya.logLevel}function ct(s,...t){if(ya.logLevel<=Bt.DEBUG){const i=t.map(Jm);ya.debug(`Firestore (${ko}): ${s}`,...i)}}function Ns(s,...t){if(ya.logLevel<=Bt.ERROR){const i=t.map(Jm);ya.error(`Firestore (${ko}): ${s}`,...i)}}function xo(s,...t){if(ya.logLevel<=Bt.WARN){const i=t.map(Jm);ya.warn(`Firestore (${ko}): ${s}`,...i)}}function Jm(s){if(typeof s=="string")return s;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(i){return JSON.stringify(i)})(s)}catch{return s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _t(s,t,i){let r="Unexpected state";typeof t=="string"?r=t:i=t,GE(s,r,i)}function GE(s,t,i){let r=`FIRESTORE (${ko}) INTERNAL ASSERTION FAILED: ${t} (ID: ${s.toString(16)})`;if(i!==void 0)try{r+=" CONTEXT: "+JSON.stringify(i)}catch{r+=" CONTEXT: "+i}throw Ns(r),new Error(r)}function Xt(s,t,i,r){let l="Unexpected state";typeof i=="string"?l=i:r=i,s||GE(t,l,r)}function It(s,t){return s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class lt extends Ms{constructor(t,i){super(t,i),this.code=t,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yi{constructor(){this.promise=new Promise(((t,i)=>{this.resolve=t,this.reject=i}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QE{constructor(t,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class u2{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,i){t.enqueueRetryable((()=>i(gn.UNAUTHENTICATED)))}shutdown(){}}class c2{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,i){this.changeListener=i,t.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class h2{constructor(t){this.t=t,this.currentUser=gn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,i){Xt(this.o===void 0,42304);let r=this.i;const l=_=>this.i!==r?(r=this.i,i(_)):Promise.resolve();let c=new Yi;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new Yi,t.enqueueRetryable((()=>l(this.currentUser)))};const d=()=>{const _=c;t.enqueueRetryable((async()=>{await _.promise,await l(this.currentUser)}))},p=_=>{ct("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=_,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((_=>p(_))),setTimeout((()=>{if(!this.auth){const _=this.t.getImmediate({optional:!0});_?p(_):(ct("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new Yi)}}),0),d()}getToken(){const t=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((r=>this.i!==t?(ct("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Xt(typeof r.accessToken=="string",31837,{l:r}),new QE(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Xt(t===null||typeof t=="string",2055,{h:t}),new gn(t)}}class f2{constructor(t,i,r){this.P=t,this.T=i,this.I=r,this.type="FirstParty",this.user=gn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class d2{constructor(t,i,r){this.P=t,this.T=i,this.I=r}getToken(){return Promise.resolve(new f2(this.P,this.T,this.I))}start(t,i){t.enqueueRetryable((()=>i(gn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Xv{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class m2{constructor(t,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Ei(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,i){Xt(this.o===void 0,3512);const r=c=>{c.error!=null&&ct("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.m;return this.m=c.token,ct("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(c.token):Promise.resolve()};this.o=c=>{t.enqueueRetryable((()=>r(c)))};const l=c=>{ct("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>l(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?l(c):ct("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new Xv(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((i=>i?(Xt(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new Xv(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g2(s){const t=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(s);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(i);else for(let r=0;r<s;r++)i[r]=Math.floor(256*Math.random());return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wm{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const l=g2(40);for(let c=0;c<l.length;++c)r.length<20&&l[c]<i&&(r+=t.charAt(l[c]%62))}return r}}function qt(s,t){return s<t?-1:s>t?1:0}function Am(s,t){const i=Math.min(s.length,t.length);for(let r=0;r<i;r++){const l=s.charAt(r),c=t.charAt(r);if(l!==c)return lm(l)===lm(c)?qt(l,c):lm(l)?1:-1}return qt(s.length,t.length)}const p2=55296,y2=57343;function lm(s){const t=s.charCodeAt(0);return t>=p2&&t<=y2}function Co(s,t,i){return s.length===t.length&&s.every(((r,l)=>i(r,t[l])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $v="__name__";class Gi{constructor(t,i,r){i===void 0?i=0:i>t.length&&_t(637,{offset:i,range:t.length}),r===void 0?r=t.length-i:r>t.length-i&&_t(1746,{length:r,range:t.length-i}),this.segments=t,this.offset=i,this.len=r}get length(){return this.len}isEqual(t){return Gi.comparator(this,t)===0}child(t){const i=this.segments.slice(this.offset,this.limit());return t instanceof Gi?t.forEach((r=>{i.push(r)})):i.push(t),this.construct(i)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}forEach(t){for(let i=this.offset,r=this.limit();i<r;i++)t(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,i){const r=Math.min(t.length,i.length);for(let l=0;l<r;l++){const c=Gi.compareSegments(t.get(l),i.get(l));if(c!==0)return c}return qt(t.length,i.length)}static compareSegments(t,i){const r=Gi.isNumericId(t),l=Gi.isNumericId(i);return r&&!l?-1:!r&&l?1:r&&l?Gi.extractNumericId(t).compare(Gi.extractNumericId(i)):Am(t,i)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Er.fromString(t.substring(4,t.length-2))}}class fe extends Gi{construct(t,i,r){return new fe(t,i,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const i=[];for(const r of t){if(r.indexOf("//")>=0)throw new lt(K.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);i.push(...r.split("/").filter((l=>l.length>0)))}return new fe(i)}static emptyPath(){return new fe([])}}const _2=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class un extends Gi{construct(t,i,r){return new un(t,i,r)}static isValidIdentifier(t){return _2.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),un.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===$v}static keyField(){return new un([$v])}static fromServerFormat(t){const i=[];let r="",l=0;const c=()=>{if(r.length===0)throw new lt(K.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(r),r=""};let d=!1;for(;l<t.length;){const p=t[l];if(p==="\\"){if(l+1===t.length)throw new lt(K.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const _=t[l+1];if(_!=="\\"&&_!=="."&&_!=="`")throw new lt(K.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=_,l+=2}else p==="`"?(d=!d,l++):p!=="."||d?(r+=p,l++):(c(),l++)}if(c(),d)throw new lt(K.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new un(i)}static emptyPath(){return new un([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mt{constructor(t){this.path=t}static fromPath(t){return new mt(fe.fromString(t))}static fromName(t){return new mt(fe.fromString(t).popFirst(5))}static empty(){return new mt(fe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&fe.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,i){return fe.comparator(t.path,i.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new mt(new fe(t.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YE(s,t,i){if(!i)throw new lt(K.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${t}.`)}function v2(s,t,i,r){if(t===!0&&r===!0)throw new lt(K.INVALID_ARGUMENT,`${s} and ${i} cannot be used together.`)}function Zv(s){if(!mt.isDocumentKey(s))throw new lt(K.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function Jv(s){if(mt.isDocumentKey(s))throw new lt(K.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${s} has ${s.length}.`)}function KE(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}function Lh(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const t=(function(r){return r.constructor?r.constructor.name:null})(s);return t?`a custom ${t} object`:"an object"}}return typeof s=="function"?"a function":_t(12329,{type:typeof s})}function Tn(s,t){if("_delegate"in s&&(s=s._delegate),!(s instanceof t)){if(t.name===s.constructor.name)throw new lt(K.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=Lh(s);throw new lt(K.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${i}`)}}return s}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ge(s,t){const i={typeString:s};return t&&(i.value=t),i}function _u(s,t){if(!KE(s))throw new lt(K.INVALID_ARGUMENT,"JSON must be an object");let i;for(const r in t)if(t[r]){const l=t[r].typeString,c="value"in t[r]?{value:t[r].value}:void 0;if(!(r in s)){i=`JSON missing required field: '${r}'`;break}const d=s[r];if(l&&typeof d!==l){i=`JSON field '${r}' must be a ${l}.`;break}if(c!==void 0&&d!==c.value){i=`Expected '${r}' field to equal '${c.value}'`;break}}if(i)throw new lt(K.INVALID_ARGUMENT,i);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wv=-62135596800,t0=1e6;class Te{static now(){return Te.fromMillis(Date.now())}static fromDate(t){return Te.fromMillis(t.getTime())}static fromMillis(t){const i=Math.floor(t/1e3),r=Math.floor((t-1e3*i)*t0);return new Te(i,r)}constructor(t,i){if(this.seconds=t,this.nanoseconds=i,i<0)throw new lt(K.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new lt(K.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(t<Wv)throw new lt(K.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new lt(K.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/t0}_compareTo(t){return this.seconds===t.seconds?qt(this.nanoseconds,t.nanoseconds):qt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Te._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(_u(t,Te._jsonSchema))return new Te(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-Wv;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Te._jsonSchemaVersion="firestore/timestamp/1.0",Te._jsonSchema={type:Ge("string",Te._jsonSchemaVersion),seconds:Ge("number"),nanoseconds:Ge("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class St{static fromTimestamp(t){return new St(t)}static min(){return new St(new Te(0,0))}static max(){return new St(new Te(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const su=-1;function E2(s,t){const i=s.toTimestamp().seconds,r=s.toTimestamp().nanoseconds+1,l=St.fromTimestamp(r===1e9?new Te(i+1,0):new Te(i,r));return new Sr(l,mt.empty(),t)}function T2(s){return new Sr(s.readTime,s.key,su)}class Sr{constructor(t,i,r){this.readTime=t,this.documentKey=i,this.largestBatchId=r}static min(){return new Sr(St.min(),mt.empty(),su)}static max(){return new Sr(St.max(),mt.empty(),su)}}function A2(s,t){let i=s.readTime.compareTo(t.readTime);return i!==0?i:(i=mt.comparator(s.documentKey,t.documentKey),i!==0?i:qt(s.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S2="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class b2{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Po(s){if(s.code!==K.FAILED_PRECONDITION||s.message!==S2)throw s;ct("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(t){return this.next(void 0,t)}next(t,i){return this.callbackAttached&&_t(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(t,this.result):new Z(((r,l)=>{this.nextCallback=c=>{this.wrapSuccess(t,c).next(r,l)},this.catchCallback=c=>{this.wrapFailure(i,c).next(r,l)}}))}toPromise(){return new Promise(((t,i)=>{this.next(t,i)}))}wrapUserFunction(t){try{const i=t();return i instanceof Z?i:Z.resolve(i)}catch(i){return Z.reject(i)}}wrapSuccess(t,i){return t?this.wrapUserFunction((()=>t(i))):Z.resolve(i)}wrapFailure(t,i){return t?this.wrapUserFunction((()=>t(i))):Z.reject(i)}static resolve(t){return new Z(((i,r)=>{i(t)}))}static reject(t){return new Z(((i,r)=>{r(t)}))}static waitFor(t){return new Z(((i,r)=>{let l=0,c=0,d=!1;t.forEach((p=>{++l,p.next((()=>{++c,d&&c===l&&i()}),(_=>r(_)))})),d=!0,c===l&&i()}))}static or(t){let i=Z.resolve(!1);for(const r of t)i=i.next((l=>l?Z.resolve(l):r()));return i}static forEach(t,i){const r=[];return t.forEach(((l,c)=>{r.push(i.call(this,l,c))})),this.waitFor(r)}static mapArray(t,i){return new Z(((r,l)=>{const c=t.length,d=new Array(c);let p=0;for(let _=0;_<c;_++){const y=_;i(t[y]).next((A=>{d[y]=A,++p,p===c&&r(d)}),(A=>l(A)))}}))}static doWhile(t,i){return new Z(((r,l)=>{const c=()=>{t()===!0?i().next((()=>{c()}),l):r()};c()}))}}function w2(s){const t=s.match(/Android ([\d.]+)/i),i=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function jo(s){return s.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kh{constructor(t,i){this.previousValue=t,i&&(i.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>i.writeSequenceNumber(r))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}kh.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tg=-1;function vu(s){return s==null}function Eh(s){return s===0&&1/s==-1/0}function R2(s){return typeof s=="number"&&Number.isInteger(s)&&!Eh(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XE="";function I2(s){let t="";for(let i=0;i<s.length;i++)t.length>0&&(t=e0(t)),t=x2(s.get(i),t);return e0(t)}function x2(s,t){let i=t;const r=s.length;for(let l=0;l<r;l++){const c=s.charAt(l);switch(c){case"\0":i+="";break;case XE:i+="";break;default:i+=c}}return i}function e0(s){return s+XE+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n0(s){let t=0;for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&t++;return t}function Nr(s,t){for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&t(i,s[i])}function $E(s){for(const t in s)if(Object.prototype.hasOwnProperty.call(s,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Re{constructor(t,i){this.comparator=t,this.root=i||ln.EMPTY}insert(t,i){return new Re(this.comparator,this.root.insert(t,i,this.comparator).copy(null,null,ln.BLACK,null,null))}remove(t){return new Re(this.comparator,this.root.remove(t,this.comparator).copy(null,null,ln.BLACK,null,null))}get(t){let i=this.root;for(;!i.isEmpty();){const r=this.comparator(t,i.key);if(r===0)return i.value;r<0?i=i.left:r>0&&(i=i.right)}return null}indexOf(t){let i=0,r=this.root;for(;!r.isEmpty();){const l=this.comparator(t,r.key);if(l===0)return i+r.left.size;l<0?r=r.left:(i+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((i,r)=>(t(i,r),!1)))}toString(){const t=[];return this.inorderTraversal(((i,r)=>(t.push(`${i}:${r}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new $c(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new $c(this.root,t,this.comparator,!1)}getReverseIterator(){return new $c(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new $c(this.root,t,this.comparator,!0)}}class $c{constructor(t,i,r,l){this.isReverse=l,this.nodeStack=[];let c=1;for(;!t.isEmpty();)if(c=i?r(t.key,i):1,i&&l&&(c*=-1),c<0)t=this.isReverse?t.left:t.right;else{if(c===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const i={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class ln{constructor(t,i,r,l,c){this.key=t,this.value=i,this.color=r??ln.RED,this.left=l??ln.EMPTY,this.right=c??ln.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,i,r,l,c){return new ln(t??this.key,i??this.value,r??this.color,l??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,i,r){let l=this;const c=r(t,l.key);return l=c<0?l.copy(null,null,null,l.left.insert(t,i,r),null):c===0?l.copy(null,i,null,null,null):l.copy(null,null,null,null,l.right.insert(t,i,r)),l.fixUp()}removeMin(){if(this.left.isEmpty())return ln.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,i){let r,l=this;if(i(t,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(t,i),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),i(t,l.key)===0){if(l.right.isEmpty())return ln.EMPTY;r=l.right.min(),l=l.copy(r.key,r.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(t,i))}return l.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,ln.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,ln.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,i)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw _t(43730,{key:this.key,value:this.value});if(this.right.isRed())throw _t(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw _t(27949);return t+(this.isRed()?0:1)}}ln.EMPTY=null,ln.RED=!0,ln.BLACK=!1;ln.EMPTY=new class{constructor(){this.size=0}get key(){throw _t(57766)}get value(){throw _t(16141)}get color(){throw _t(16727)}get left(){throw _t(29726)}get right(){throw _t(36894)}copy(t,i,r,l,c){return this}insert(t,i,r){return new ln(t,i)}remove(t,i){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $e{constructor(t){this.comparator=t,this.data=new Re(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((i,r)=>(t(i),!1)))}forEachInRange(t,i){const r=this.data.getIteratorFrom(t[0]);for(;r.hasNext();){const l=r.getNext();if(this.comparator(l.key,t[1])>=0)return;i(l.key)}}forEachWhile(t,i){let r;for(r=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();r.hasNext();)if(!t(r.getNext().key))return}firstAfterOrEqual(t){const i=this.data.getIteratorFrom(t);return i.hasNext()?i.getNext().key:null}getIterator(){return new i0(this.data.getIterator())}getIteratorFrom(t){return new i0(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let i=this;return i.size<t.size&&(i=t,t=this),t.forEach((r=>{i=i.add(r)})),i}isEqual(t){if(!(t instanceof $e)||this.size!==t.size)return!1;const i=this.data.getIterator(),r=t.data.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=r.getNext().key;if(this.comparator(l,c)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((i=>{t.push(i)})),t}toString(){const t=[];return this.forEach((i=>t.push(i))),"SortedSet("+t.toString()+")"}copy(t){const i=new $e(this.comparator);return i.data=t,i}}class i0{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fn{constructor(t){this.fields=t,t.sort(un.comparator)}static empty(){return new Fn([])}unionWith(t){let i=new $e(un.comparator);for(const r of this.fields)i=i.add(r);for(const r of t)i=i.add(r);return new Fn(i.toArray())}covers(t){for(const i of this.fields)if(i.isPrefixOf(t))return!0;return!1}isEqual(t){return Co(this.fields,t.fields,((i,r)=>i.isEqual(r)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hn{constructor(t){this.binaryString=t}static fromBase64String(t){const i=(function(l){try{return atob(l)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new ZE("Invalid base64 string: "+c):c}})(t);return new hn(i)}static fromUint8Array(t){const i=(function(l){let c="";for(let d=0;d<l.length;++d)c+=String.fromCharCode(l[d]);return c})(t);return new hn(i)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const r=new Uint8Array(i.length);for(let l=0;l<i.length;l++)r[l]=i.charCodeAt(l);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return qt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}hn.EMPTY_BYTE_STRING=new hn("");const C2=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function br(s){if(Xt(!!s,39018),typeof s=="string"){let t=0;const i=C2.exec(s);if(Xt(!!i,46558,{timestamp:s}),i[1]){let l=i[1];l=(l+"000000000").substr(0,9),t=Number(l)}const r=new Date(s);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:Ue(s.seconds),nanos:Ue(s.nanos)}}function Ue(s){return typeof s=="number"?s:typeof s=="string"?Number(s):0}function wr(s){return typeof s=="string"?hn.fromBase64String(s):hn.fromUint8Array(s)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JE="server_timestamp",WE="__type__",tT="__previous_value__",eT="__local_write_time__";function eg(s){return(s?.mapValue?.fields||{})[WE]?.stringValue===JE}function Ph(s){const t=s.mapValue.fields[tT];return eg(t)?Ph(t):t}function ru(s){const t=br(s.mapValue.fields[eT].timestampValue);return new Te(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N2{constructor(t,i,r,l,c,d,p,_,y,A){this.databaseId=t,this.appId=i,this.persistenceKey=r,this.host=l,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=p,this.longPollingOptions=_,this.useFetchStreams=y,this.isUsingEmulator=A}}const Th="(default)";class au{constructor(t,i){this.projectId=t,this.database=i||Th}static empty(){return new au("","")}get isDefaultDatabase(){return this.database===Th}isEqual(t){return t instanceof au&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nT="__type__",D2="__max__",Zc={mapValue:{}},iT="__vector__",Ah="value";function Rr(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?eg(s)?4:O2(s)?9007199254740991:M2(s)?10:11:_t(28295,{value:s})}function Ji(s,t){if(s===t)return!0;const i=Rr(s);if(i!==Rr(t))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===t.booleanValue;case 4:return ru(s).isEqual(ru(t));case 3:return(function(l,c){if(typeof l.timestampValue=="string"&&typeof c.timestampValue=="string"&&l.timestampValue.length===c.timestampValue.length)return l.timestampValue===c.timestampValue;const d=br(l.timestampValue),p=br(c.timestampValue);return d.seconds===p.seconds&&d.nanos===p.nanos})(s,t);case 5:return s.stringValue===t.stringValue;case 6:return(function(l,c){return wr(l.bytesValue).isEqual(wr(c.bytesValue))})(s,t);case 7:return s.referenceValue===t.referenceValue;case 8:return(function(l,c){return Ue(l.geoPointValue.latitude)===Ue(c.geoPointValue.latitude)&&Ue(l.geoPointValue.longitude)===Ue(c.geoPointValue.longitude)})(s,t);case 2:return(function(l,c){if("integerValue"in l&&"integerValue"in c)return Ue(l.integerValue)===Ue(c.integerValue);if("doubleValue"in l&&"doubleValue"in c){const d=Ue(l.doubleValue),p=Ue(c.doubleValue);return d===p?Eh(d)===Eh(p):isNaN(d)&&isNaN(p)}return!1})(s,t);case 9:return Co(s.arrayValue.values||[],t.arrayValue.values||[],Ji);case 10:case 11:return(function(l,c){const d=l.mapValue.fields||{},p=c.mapValue.fields||{};if(n0(d)!==n0(p))return!1;for(const _ in d)if(d.hasOwnProperty(_)&&(p[_]===void 0||!Ji(d[_],p[_])))return!1;return!0})(s,t);default:return _t(52216,{left:s})}}function ou(s,t){return(s.values||[]).find((i=>Ji(i,t)))!==void 0}function No(s,t){if(s===t)return 0;const i=Rr(s),r=Rr(t);if(i!==r)return qt(i,r);switch(i){case 0:case 9007199254740991:return 0;case 1:return qt(s.booleanValue,t.booleanValue);case 2:return(function(c,d){const p=Ue(c.integerValue||c.doubleValue),_=Ue(d.integerValue||d.doubleValue);return p<_?-1:p>_?1:p===_?0:isNaN(p)?isNaN(_)?0:-1:1})(s,t);case 3:return s0(s.timestampValue,t.timestampValue);case 4:return s0(ru(s),ru(t));case 5:return Am(s.stringValue,t.stringValue);case 6:return(function(c,d){const p=wr(c),_=wr(d);return p.compareTo(_)})(s.bytesValue,t.bytesValue);case 7:return(function(c,d){const p=c.split("/"),_=d.split("/");for(let y=0;y<p.length&&y<_.length;y++){const A=qt(p[y],_[y]);if(A!==0)return A}return qt(p.length,_.length)})(s.referenceValue,t.referenceValue);case 8:return(function(c,d){const p=qt(Ue(c.latitude),Ue(d.latitude));return p!==0?p:qt(Ue(c.longitude),Ue(d.longitude))})(s.geoPointValue,t.geoPointValue);case 9:return r0(s.arrayValue,t.arrayValue);case 10:return(function(c,d){const p=c.fields||{},_=d.fields||{},y=p[Ah]?.arrayValue,A=_[Ah]?.arrayValue,b=qt(y?.values?.length||0,A?.values?.length||0);return b!==0?b:r0(y,A)})(s.mapValue,t.mapValue);case 11:return(function(c,d){if(c===Zc.mapValue&&d===Zc.mapValue)return 0;if(c===Zc.mapValue)return 1;if(d===Zc.mapValue)return-1;const p=c.fields||{},_=Object.keys(p),y=d.fields||{},A=Object.keys(y);_.sort(),A.sort();for(let b=0;b<_.length&&b<A.length;++b){const N=Am(_[b],A[b]);if(N!==0)return N;const Y=No(p[_[b]],y[A[b]]);if(Y!==0)return Y}return qt(_.length,A.length)})(s.mapValue,t.mapValue);default:throw _t(23264,{he:i})}}function s0(s,t){if(typeof s=="string"&&typeof t=="string"&&s.length===t.length)return qt(s,t);const i=br(s),r=br(t),l=qt(i.seconds,r.seconds);return l!==0?l:qt(i.nanos,r.nanos)}function r0(s,t){const i=s.values||[],r=t.values||[];for(let l=0;l<i.length&&l<r.length;++l){const c=No(i[l],r[l]);if(c)return c}return qt(i.length,r.length)}function Do(s){return Sm(s)}function Sm(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?(function(i){const r=br(i);return`time(${r.seconds},${r.nanos})`})(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?(function(i){return wr(i).toBase64()})(s.bytesValue):"referenceValue"in s?(function(i){return mt.fromName(i).toString()})(s.referenceValue):"geoPointValue"in s?(function(i){return`geo(${i.latitude},${i.longitude})`})(s.geoPointValue):"arrayValue"in s?(function(i){let r="[",l=!0;for(const c of i.values||[])l?l=!1:r+=",",r+=Sm(c);return r+"]"})(s.arrayValue):"mapValue"in s?(function(i){const r=Object.keys(i.fields||{}).sort();let l="{",c=!0;for(const d of r)c?c=!1:l+=",",l+=`${d}:${Sm(i.fields[d])}`;return l+"}"})(s.mapValue):_t(61005,{value:s})}function oh(s){switch(Rr(s)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=Ph(s);return t?16+oh(t):16;case 5:return 2*s.stringValue.length;case 6:return wr(s.bytesValue).approximateByteSize();case 7:return s.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((l,c)=>l+oh(c)),0)})(s.arrayValue);case 10:case 11:return(function(r){let l=0;return Nr(r.fields,((c,d)=>{l+=c.length+oh(d)})),l})(s.mapValue);default:throw _t(13486,{value:s})}}function a0(s,t){return{referenceValue:`projects/${s.projectId}/databases/${s.database}/documents/${t.path.canonicalString()}`}}function bm(s){return!!s&&"integerValue"in s}function ng(s){return!!s&&"arrayValue"in s}function o0(s){return!!s&&"nullValue"in s}function l0(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function lh(s){return!!s&&"mapValue"in s}function M2(s){return(s?.mapValue?.fields||{})[nT]?.stringValue===iT}function Zl(s){if(s.geoPointValue)return{geoPointValue:{...s.geoPointValue}};if(s.timestampValue&&typeof s.timestampValue=="object")return{timestampValue:{...s.timestampValue}};if(s.mapValue){const t={mapValue:{fields:{}}};return Nr(s.mapValue.fields,((i,r)=>t.mapValue.fields[i]=Zl(r))),t}if(s.arrayValue){const t={arrayValue:{values:[]}};for(let i=0;i<(s.arrayValue.values||[]).length;++i)t.arrayValue.values[i]=Zl(s.arrayValue.values[i]);return t}return{...s}}function O2(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue===D2}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class En{constructor(t){this.value=t}static empty(){return new En({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let i=this.value;for(let r=0;r<t.length-1;++r)if(i=(i.mapValue.fields||{})[t.get(r)],!lh(i))return null;return i=(i.mapValue.fields||{})[t.lastSegment()],i||null}}set(t,i){this.getFieldsMap(t.popLast())[t.lastSegment()]=Zl(i)}setAll(t){let i=un.emptyPath(),r={},l=[];t.forEach(((d,p)=>{if(!i.isImmediateParentOf(p)){const _=this.getFieldsMap(i);this.applyChanges(_,r,l),r={},l=[],i=p.popLast()}d?r[p.lastSegment()]=Zl(d):l.push(p.lastSegment())}));const c=this.getFieldsMap(i);this.applyChanges(c,r,l)}delete(t){const i=this.field(t.popLast());lh(i)&&i.mapValue.fields&&delete i.mapValue.fields[t.lastSegment()]}isEqual(t){return Ji(this.value,t.value)}getFieldsMap(t){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let r=0;r<t.length;++r){let l=i.mapValue.fields[t.get(r)];lh(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},i.mapValue.fields[t.get(r)]=l),i=l}return i.mapValue.fields}applyChanges(t,i,r){Nr(i,((l,c)=>t[l]=c));for(const l of r)delete t[l]}clone(){return new En(Zl(this.value))}}function sT(s){const t=[];return Nr(s.fields,((i,r)=>{const l=new un([i]);if(lh(r)){const c=sT(r.mapValue).fields;if(c.length===0)t.push(l);else for(const d of c)t.push(l.child(d))}else t.push(l)})),new Fn(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tn{constructor(t,i,r,l,c,d,p){this.key=t,this.documentType=i,this.version=r,this.readTime=l,this.createTime=c,this.data=d,this.documentState=p}static newInvalidDocument(t){return new tn(t,0,St.min(),St.min(),St.min(),En.empty(),0)}static newFoundDocument(t,i,r,l){return new tn(t,1,i,St.min(),r,l,0)}static newNoDocument(t,i){return new tn(t,2,i,St.min(),St.min(),En.empty(),0)}static newUnknownDocument(t,i){return new tn(t,3,i,St.min(),St.min(),En.empty(),2)}convertToFoundDocument(t,i){return!this.createTime.isEqual(St.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=En.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=En.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=St.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof tn&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new tn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sh{constructor(t,i){this.position=t,this.inclusive=i}}function u0(s,t,i){let r=0;for(let l=0;l<s.position.length;l++){const c=t[l],d=s.position[l];if(c.field.isKeyField()?r=mt.comparator(mt.fromName(d.referenceValue),i.key):r=No(d,i.data.field(c.field)),c.dir==="desc"&&(r*=-1),r!==0)break}return r}function c0(s,t){if(s===null)return t===null;if(t===null||s.inclusive!==t.inclusive||s.position.length!==t.position.length)return!1;for(let i=0;i<s.position.length;i++)if(!Ji(s.position[i],t.position[i]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lu{constructor(t,i="asc"){this.field=t,this.dir=i}}function V2(s,t){return s.dir===t.dir&&s.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rT{}class Fe extends rT{constructor(t,i,r){super(),this.field=t,this.op=i,this.value=r}static create(t,i,r){return t.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(t,i,r):new L2(t,i,r):i==="array-contains"?new j2(t,r):i==="in"?new z2(t,r):i==="not-in"?new B2(t,r):i==="array-contains-any"?new q2(t,r):new Fe(t,i,r)}static createKeyFieldInFilter(t,i,r){return i==="in"?new k2(t,r):new P2(t,r)}matches(t){const i=t.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(No(i,this.value)):i!==null&&Rr(this.value)===Rr(i)&&this.matchesComparison(No(i,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return _t(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Si extends rT{constructor(t,i){super(),this.filters=t,this.op=i,this.Pe=null}static create(t,i){return new Si(t,i)}matches(t){return aT(this)?this.filters.find((i=>!i.matches(t)))===void 0:this.filters.find((i=>i.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,i)=>t.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function aT(s){return s.op==="and"}function oT(s){return U2(s)&&aT(s)}function U2(s){for(const t of s.filters)if(t instanceof Si)return!1;return!0}function wm(s){if(s instanceof Fe)return s.field.canonicalString()+s.op.toString()+Do(s.value);if(oT(s))return s.filters.map((t=>wm(t))).join(",");{const t=s.filters.map((i=>wm(i))).join(",");return`${s.op}(${t})`}}function lT(s,t){return s instanceof Fe?(function(r,l){return l instanceof Fe&&r.op===l.op&&r.field.isEqual(l.field)&&Ji(r.value,l.value)})(s,t):s instanceof Si?(function(r,l){return l instanceof Si&&r.op===l.op&&r.filters.length===l.filters.length?r.filters.reduce(((c,d,p)=>c&&lT(d,l.filters[p])),!0):!1})(s,t):void _t(19439)}function uT(s){return s instanceof Fe?(function(i){return`${i.field.canonicalString()} ${i.op} ${Do(i.value)}`})(s):s instanceof Si?(function(i){return i.op.toString()+" {"+i.getFilters().map(uT).join(" ,")+"}"})(s):"Filter"}class L2 extends Fe{constructor(t,i,r){super(t,i,r),this.key=mt.fromName(r.referenceValue)}matches(t){const i=mt.comparator(t.key,this.key);return this.matchesComparison(i)}}class k2 extends Fe{constructor(t,i){super(t,"in",i),this.keys=cT("in",i)}matches(t){return this.keys.some((i=>i.isEqual(t.key)))}}class P2 extends Fe{constructor(t,i){super(t,"not-in",i),this.keys=cT("not-in",i)}matches(t){return!this.keys.some((i=>i.isEqual(t.key)))}}function cT(s,t){return(t.arrayValue?.values||[]).map((i=>mt.fromName(i.referenceValue)))}class j2 extends Fe{constructor(t,i){super(t,"array-contains",i)}matches(t){const i=t.data.field(this.field);return ng(i)&&ou(i.arrayValue,this.value)}}class z2 extends Fe{constructor(t,i){super(t,"in",i)}matches(t){const i=t.data.field(this.field);return i!==null&&ou(this.value.arrayValue,i)}}class B2 extends Fe{constructor(t,i){super(t,"not-in",i)}matches(t){if(ou(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=t.data.field(this.field);return i!==null&&i.nullValue===void 0&&!ou(this.value.arrayValue,i)}}class q2 extends Fe{constructor(t,i){super(t,"array-contains-any",i)}matches(t){const i=t.data.field(this.field);return!(!ng(i)||!i.arrayValue.values)&&i.arrayValue.values.some((r=>ou(this.value.arrayValue,r)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H2{constructor(t,i=null,r=[],l=[],c=null,d=null,p=null){this.path=t,this.collectionGroup=i,this.orderBy=r,this.filters=l,this.limit=c,this.startAt=d,this.endAt=p,this.Te=null}}function h0(s,t=null,i=[],r=[],l=null,c=null,d=null){return new H2(s,t,i,r,l,c,d)}function ig(s){const t=It(s);if(t.Te===null){let i=t.path.canonicalString();t.collectionGroup!==null&&(i+="|cg:"+t.collectionGroup),i+="|f:",i+=t.filters.map((r=>wm(r))).join(","),i+="|ob:",i+=t.orderBy.map((r=>(function(c){return c.field.canonicalString()+c.dir})(r))).join(","),vu(t.limit)||(i+="|l:",i+=t.limit),t.startAt&&(i+="|lb:",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map((r=>Do(r))).join(",")),t.endAt&&(i+="|ub:",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map((r=>Do(r))).join(",")),t.Te=i}return t.Te}function sg(s,t){if(s.limit!==t.limit||s.orderBy.length!==t.orderBy.length)return!1;for(let i=0;i<s.orderBy.length;i++)if(!V2(s.orderBy[i],t.orderBy[i]))return!1;if(s.filters.length!==t.filters.length)return!1;for(let i=0;i<s.filters.length;i++)if(!lT(s.filters[i],t.filters[i]))return!1;return s.collectionGroup===t.collectionGroup&&!!s.path.isEqual(t.path)&&!!c0(s.startAt,t.startAt)&&c0(s.endAt,t.endAt)}function Rm(s){return mt.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zo{constructor(t,i=null,r=[],l=[],c=null,d="F",p=null,_=null){this.path=t,this.collectionGroup=i,this.explicitOrderBy=r,this.filters=l,this.limit=c,this.limitType=d,this.startAt=p,this.endAt=_,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function F2(s,t,i,r,l,c,d,p){return new zo(s,t,i,r,l,c,d,p)}function jh(s){return new zo(s)}function f0(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}function hT(s){return s.collectionGroup!==null}function Jl(s){const t=It(s);if(t.Ie===null){t.Ie=[];const i=new Set;for(const c of t.explicitOrderBy)t.Ie.push(c),i.add(c.field.canonicalString());const r=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(d){let p=new $e(un.comparator);return d.filters.forEach((_=>{_.getFlattenedFilters().forEach((y=>{y.isInequality()&&(p=p.add(y.field))}))})),p})(t).forEach((c=>{i.has(c.canonicalString())||c.isKeyField()||t.Ie.push(new lu(c,r))})),i.has(un.keyField().canonicalString())||t.Ie.push(new lu(un.keyField(),r))}return t.Ie}function Ki(s){const t=It(s);return t.Ee||(t.Ee=G2(t,Jl(s))),t.Ee}function G2(s,t){if(s.limitType==="F")return h0(s.path,s.collectionGroup,t,s.filters,s.limit,s.startAt,s.endAt);{t=t.map((l=>{const c=l.dir==="desc"?"asc":"desc";return new lu(l.field,c)}));const i=s.endAt?new Sh(s.endAt.position,s.endAt.inclusive):null,r=s.startAt?new Sh(s.startAt.position,s.startAt.inclusive):null;return h0(s.path,s.collectionGroup,t,s.filters,s.limit,i,r)}}function Im(s,t){const i=s.filters.concat([t]);return new zo(s.path,s.collectionGroup,s.explicitOrderBy.slice(),i,s.limit,s.limitType,s.startAt,s.endAt)}function xm(s,t,i){return new zo(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),t,i,s.startAt,s.endAt)}function zh(s,t){return sg(Ki(s),Ki(t))&&s.limitType===t.limitType}function fT(s){return`${ig(Ki(s))}|lt:${s.limitType}`}function _o(s){return`Query(target=${(function(i){let r=i.path.canonicalString();return i.collectionGroup!==null&&(r+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(r+=`, filters: [${i.filters.map((l=>uT(l))).join(", ")}]`),vu(i.limit)||(r+=", limit: "+i.limit),i.orderBy.length>0&&(r+=`, orderBy: [${i.orderBy.map((l=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(l))).join(", ")}]`),i.startAt&&(r+=", startAt: ",r+=i.startAt.inclusive?"b:":"a:",r+=i.startAt.position.map((l=>Do(l))).join(",")),i.endAt&&(r+=", endAt: ",r+=i.endAt.inclusive?"a:":"b:",r+=i.endAt.position.map((l=>Do(l))).join(",")),`Target(${r})`})(Ki(s))}; limitType=${s.limitType})`}function Bh(s,t){return t.isFoundDocument()&&(function(r,l){const c=l.key.path;return r.collectionGroup!==null?l.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(c):mt.isDocumentKey(r.path)?r.path.isEqual(c):r.path.isImmediateParentOf(c)})(s,t)&&(function(r,l){for(const c of Jl(r))if(!c.field.isKeyField()&&l.data.field(c.field)===null)return!1;return!0})(s,t)&&(function(r,l){for(const c of r.filters)if(!c.matches(l))return!1;return!0})(s,t)&&(function(r,l){return!(r.startAt&&!(function(d,p,_){const y=u0(d,p,_);return d.inclusive?y<=0:y<0})(r.startAt,Jl(r),l)||r.endAt&&!(function(d,p,_){const y=u0(d,p,_);return d.inclusive?y>=0:y>0})(r.endAt,Jl(r),l))})(s,t)}function Q2(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function dT(s){return(t,i)=>{let r=!1;for(const l of Jl(s)){const c=Y2(l,t,i);if(c!==0)return c;r=r||l.field.isKeyField()}return 0}}function Y2(s,t,i){const r=s.field.isKeyField()?mt.comparator(t.key,i.key):(function(c,d,p){const _=d.data.field(c),y=p.data.field(c);return _!==null&&y!==null?No(_,y):_t(42886)})(s.field,t,i);switch(s.dir){case"asc":return r;case"desc":return-1*r;default:return _t(19790,{direction:s.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class va{constructor(t,i){this.mapKeyFn=t,this.equalsFn=i,this.inner={},this.innerSize=0}get(t){const i=this.mapKeyFn(t),r=this.inner[i];if(r!==void 0){for(const[l,c]of r)if(this.equalsFn(l,t))return c}}has(t){return this.get(t)!==void 0}set(t,i){const r=this.mapKeyFn(t),l=this.inner[r];if(l===void 0)return this.inner[r]=[[t,i]],void this.innerSize++;for(let c=0;c<l.length;c++)if(this.equalsFn(l[c][0],t))return void(l[c]=[t,i]);l.push([t,i]),this.innerSize++}delete(t){const i=this.mapKeyFn(t),r=this.inner[i];if(r===void 0)return!1;for(let l=0;l<r.length;l++)if(this.equalsFn(r[l][0],t))return r.length===1?delete this.inner[i]:r.splice(l,1),this.innerSize--,!0;return!1}forEach(t){Nr(this.inner,((i,r)=>{for(const[l,c]of r)t(l,c)}))}isEmpty(){return $E(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K2=new Re(mt.comparator);function Ds(){return K2}const mT=new Re(mt.comparator);function Ql(...s){let t=mT;for(const i of s)t=t.insert(i.key,i);return t}function gT(s){let t=mT;return s.forEach(((i,r)=>t=t.insert(i,r.overlayedDocument))),t}function ha(){return Wl()}function pT(){return Wl()}function Wl(){return new va((s=>s.toString()),((s,t)=>s.isEqual(t)))}const X2=new Re(mt.comparator),$2=new $e(mt.comparator);function Ht(...s){let t=$2;for(const i of s)t=t.add(i);return t}const Z2=new $e(qt);function J2(){return Z2}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rg(s,t){if(s.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Eh(t)?"-0":t}}function yT(s){return{integerValue:""+s}}function _T(s,t){return R2(t)?yT(t):rg(s,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qh{constructor(){this._=void 0}}function W2(s,t,i){return s instanceof uu?(function(l,c){const d={fields:{[WE]:{stringValue:JE},[eT]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return c&&eg(c)&&(c=Ph(c)),c&&(d.fields[tT]=c),{mapValue:d}})(i,t):s instanceof cu?ET(s,t):s instanceof hu?TT(s,t):(function(l,c){const d=vT(l,c),p=d0(d)+d0(l.Ae);return bm(d)&&bm(l.Ae)?yT(p):rg(l.serializer,p)})(s,t)}function tI(s,t,i){return s instanceof cu?ET(s,t):s instanceof hu?TT(s,t):i}function vT(s,t){return s instanceof fu?(function(r){return bm(r)||(function(c){return!!c&&"doubleValue"in c})(r)})(t)?t:{integerValue:0}:null}class uu extends qh{}class cu extends qh{constructor(t){super(),this.elements=t}}function ET(s,t){const i=AT(t);for(const r of s.elements)i.some((l=>Ji(l,r)))||i.push(r);return{arrayValue:{values:i}}}class hu extends qh{constructor(t){super(),this.elements=t}}function TT(s,t){let i=AT(t);for(const r of s.elements)i=i.filter((l=>!Ji(l,r)));return{arrayValue:{values:i}}}class fu extends qh{constructor(t,i){super(),this.serializer=t,this.Ae=i}}function d0(s){return Ue(s.integerValue||s.doubleValue)}function AT(s){return ng(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ST{constructor(t,i){this.field=t,this.transform=i}}function eI(s,t){return s.field.isEqual(t.field)&&(function(r,l){return r instanceof cu&&l instanceof cu||r instanceof hu&&l instanceof hu?Co(r.elements,l.elements,Ji):r instanceof fu&&l instanceof fu?Ji(r.Ae,l.Ae):r instanceof uu&&l instanceof uu})(s.transform,t.transform)}class nI{constructor(t,i){this.version=t,this.transformResults=i}}class cn{constructor(t,i){this.updateTime=t,this.exists=i}static none(){return new cn}static exists(t){return new cn(void 0,t)}static updateTime(t){return new cn(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function uh(s,t){return s.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(s.updateTime):s.exists===void 0||s.exists===t.isFoundDocument()}class Hh{}function bT(s,t){if(!s.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return s.isNoDocument()?new Fh(s.key,cn.none()):new Eu(s.key,s.data,cn.none());{const i=s.data,r=En.empty();let l=new $e(un.comparator);for(let c of t.fields)if(!l.has(c)){let d=i.field(c);d===null&&c.length>1&&(c=c.popLast(),d=i.field(c)),d===null?r.delete(c):r.set(c,d),l=l.add(c)}return new Dr(s.key,r,new Fn(l.toArray()),cn.none())}}function iI(s,t,i){s instanceof Eu?(function(l,c,d){const p=l.value.clone(),_=g0(l.fieldTransforms,c,d.transformResults);p.setAll(_),c.convertToFoundDocument(d.version,p).setHasCommittedMutations()})(s,t,i):s instanceof Dr?(function(l,c,d){if(!uh(l.precondition,c))return void c.convertToUnknownDocument(d.version);const p=g0(l.fieldTransforms,c,d.transformResults),_=c.data;_.setAll(wT(l)),_.setAll(p),c.convertToFoundDocument(d.version,_).setHasCommittedMutations()})(s,t,i):(function(l,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()})(0,t,i)}function tu(s,t,i,r){return s instanceof Eu?(function(c,d,p,_){if(!uh(c.precondition,d))return p;const y=c.value.clone(),A=p0(c.fieldTransforms,_,d);return y.setAll(A),d.convertToFoundDocument(d.version,y).setHasLocalMutations(),null})(s,t,i,r):s instanceof Dr?(function(c,d,p,_){if(!uh(c.precondition,d))return p;const y=p0(c.fieldTransforms,_,d),A=d.data;return A.setAll(wT(c)),A.setAll(y),d.convertToFoundDocument(d.version,A).setHasLocalMutations(),p===null?null:p.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((b=>b.field)))})(s,t,i,r):(function(c,d,p){return uh(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):p})(s,t,i)}function sI(s,t){let i=null;for(const r of s.fieldTransforms){const l=t.data.field(r.field),c=vT(r.transform,l||null);c!=null&&(i===null&&(i=En.empty()),i.set(r.field,c))}return i||null}function m0(s,t){return s.type===t.type&&!!s.key.isEqual(t.key)&&!!s.precondition.isEqual(t.precondition)&&!!(function(r,l){return r===void 0&&l===void 0||!(!r||!l)&&Co(r,l,((c,d)=>eI(c,d)))})(s.fieldTransforms,t.fieldTransforms)&&(s.type===0?s.value.isEqual(t.value):s.type!==1||s.data.isEqual(t.data)&&s.fieldMask.isEqual(t.fieldMask))}class Eu extends Hh{constructor(t,i,r,l=[]){super(),this.key=t,this.value=i,this.precondition=r,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class Dr extends Hh{constructor(t,i,r,l,c=[]){super(),this.key=t,this.data=i,this.fieldMask=r,this.precondition=l,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function wT(s){const t=new Map;return s.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const r=s.data.field(i);t.set(i,r)}})),t}function g0(s,t,i){const r=new Map;Xt(s.length===i.length,32656,{Re:i.length,Ve:s.length});for(let l=0;l<i.length;l++){const c=s[l],d=c.transform,p=t.data.field(c.field);r.set(c.field,tI(d,p,i[l]))}return r}function p0(s,t,i){const r=new Map;for(const l of s){const c=l.transform,d=i.data.field(l.field);r.set(l.field,W2(c,d,t))}return r}class Fh extends Hh{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class RT extends Hh{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rI{constructor(t,i,r,l){this.batchId=t,this.localWriteTime=i,this.baseMutations=r,this.mutations=l}applyToRemoteDocument(t,i){const r=i.mutationResults;for(let l=0;l<this.mutations.length;l++){const c=this.mutations[l];c.key.isEqual(t.key)&&iI(c,t,r[l])}}applyToLocalView(t,i){for(const r of this.baseMutations)r.key.isEqual(t.key)&&(i=tu(r,t,i,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(t.key)&&(i=tu(r,t,i,this.localWriteTime));return i}applyToLocalDocumentSet(t,i){const r=pT();return this.mutations.forEach((l=>{const c=t.get(l.key),d=c.overlayedDocument;let p=this.applyToLocalView(d,c.mutatedFields);p=i.has(l.key)?null:p;const _=bT(d,p);_!==null&&r.set(l.key,_),d.isValidDocument()||d.convertToNoDocument(St.min())})),r}keys(){return this.mutations.reduce(((t,i)=>t.add(i.key)),Ht())}isEqual(t){return this.batchId===t.batchId&&Co(this.mutations,t.mutations,((i,r)=>m0(i,r)))&&Co(this.baseMutations,t.baseMutations,((i,r)=>m0(i,r)))}}class ag{constructor(t,i,r,l){this.batch=t,this.commitVersion=i,this.mutationResults=r,this.docVersions=l}static from(t,i,r){Xt(t.mutations.length===r.length,58842,{me:t.mutations.length,fe:r.length});let l=(function(){return X2})();const c=t.mutations;for(let d=0;d<c.length;d++)l=l.insert(c[d].key,r[d].version);return new ag(t,i,r,l)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aI{constructor(t,i){this.largestBatchId=t,this.mutation=i}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oI{constructor(t,i){this.count=t,this.unchangedNames=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var He,Kt;function IT(s){switch(s){case K.OK:return _t(64938);case K.CANCELLED:case K.UNKNOWN:case K.DEADLINE_EXCEEDED:case K.RESOURCE_EXHAUSTED:case K.INTERNAL:case K.UNAVAILABLE:case K.UNAUTHENTICATED:return!1;case K.INVALID_ARGUMENT:case K.NOT_FOUND:case K.ALREADY_EXISTS:case K.PERMISSION_DENIED:case K.FAILED_PRECONDITION:case K.ABORTED:case K.OUT_OF_RANGE:case K.UNIMPLEMENTED:case K.DATA_LOSS:return!0;default:return _t(15467,{code:s})}}function xT(s){if(s===void 0)return Ns("GRPC error has no .code"),K.UNKNOWN;switch(s){case He.OK:return K.OK;case He.CANCELLED:return K.CANCELLED;case He.UNKNOWN:return K.UNKNOWN;case He.DEADLINE_EXCEEDED:return K.DEADLINE_EXCEEDED;case He.RESOURCE_EXHAUSTED:return K.RESOURCE_EXHAUSTED;case He.INTERNAL:return K.INTERNAL;case He.UNAVAILABLE:return K.UNAVAILABLE;case He.UNAUTHENTICATED:return K.UNAUTHENTICATED;case He.INVALID_ARGUMENT:return K.INVALID_ARGUMENT;case He.NOT_FOUND:return K.NOT_FOUND;case He.ALREADY_EXISTS:return K.ALREADY_EXISTS;case He.PERMISSION_DENIED:return K.PERMISSION_DENIED;case He.FAILED_PRECONDITION:return K.FAILED_PRECONDITION;case He.ABORTED:return K.ABORTED;case He.OUT_OF_RANGE:return K.OUT_OF_RANGE;case He.UNIMPLEMENTED:return K.UNIMPLEMENTED;case He.DATA_LOSS:return K.DATA_LOSS;default:return _t(39323,{code:s})}}(Kt=He||(He={}))[Kt.OK=0]="OK",Kt[Kt.CANCELLED=1]="CANCELLED",Kt[Kt.UNKNOWN=2]="UNKNOWN",Kt[Kt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Kt[Kt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Kt[Kt.NOT_FOUND=5]="NOT_FOUND",Kt[Kt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Kt[Kt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Kt[Kt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Kt[Kt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Kt[Kt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Kt[Kt.ABORTED=10]="ABORTED",Kt[Kt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Kt[Kt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Kt[Kt.INTERNAL=13]="INTERNAL",Kt[Kt.UNAVAILABLE=14]="UNAVAILABLE",Kt[Kt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lI(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uI=new Er([4294967295,4294967295],0);function y0(s){const t=lI().encode(s),i=new jE;return i.update(t),new Uint8Array(i.digest())}function _0(s){const t=new DataView(s.buffer),i=t.getUint32(0,!0),r=t.getUint32(4,!0),l=t.getUint32(8,!0),c=t.getUint32(12,!0);return[new Er([i,r],0),new Er([l,c],0)]}class og{constructor(t,i,r){if(this.bitmap=t,this.padding=i,this.hashCount=r,i<0||i>=8)throw new Yl(`Invalid padding: ${i}`);if(r<0)throw new Yl(`Invalid hash count: ${r}`);if(t.length>0&&this.hashCount===0)throw new Yl(`Invalid hash count: ${r}`);if(t.length===0&&i!==0)throw new Yl(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*t.length-i,this.pe=Er.fromNumber(this.ge)}ye(t,i,r){let l=t.add(i.multiply(Er.fromNumber(r)));return l.compare(uI)===1&&(l=new Er([l.getBits(0),l.getBits(1)],0)),l.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const i=y0(t),[r,l]=_0(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(r,l,c);if(!this.we(d))return!1}return!0}static create(t,i,r){const l=t%8==0?0:8-t%8,c=new Uint8Array(Math.ceil(t/8)),d=new og(c,l,i);return r.forEach((p=>d.insert(p))),d}insert(t){if(this.ge===0)return;const i=y0(t),[r,l]=_0(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(r,l,c);this.Se(d)}}Se(t){const i=Math.floor(t/8),r=t%8;this.bitmap[i]|=1<<r}}class Yl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gh{constructor(t,i,r,l,c){this.snapshotVersion=t,this.targetChanges=i,this.targetMismatches=r,this.documentUpdates=l,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(t,i,r){const l=new Map;return l.set(t,Tu.createSynthesizedTargetChangeForCurrentChange(t,i,r)),new Gh(St.min(),l,new Re(qt),Ds(),Ht())}}class Tu{constructor(t,i,r,l,c){this.resumeToken=t,this.current=i,this.addedDocuments=r,this.modifiedDocuments=l,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(t,i,r){return new Tu(r,i,Ht(),Ht(),Ht())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ch{constructor(t,i,r,l){this.be=t,this.removedTargetIds=i,this.key=r,this.De=l}}class CT{constructor(t,i){this.targetId=t,this.Ce=i}}class NT{constructor(t,i,r=hn.EMPTY_BYTE_STRING,l=null){this.state=t,this.targetIds=i,this.resumeToken=r,this.cause=l}}class v0{constructor(){this.ve=0,this.Fe=E0(),this.Me=hn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=Ht(),i=Ht(),r=Ht();return this.Fe.forEach(((l,c)=>{switch(c){case 0:t=t.add(l);break;case 2:i=i.add(l);break;case 1:r=r.add(l);break;default:_t(38017,{changeType:c})}})),new Tu(this.Me,this.xe,t,i,r)}qe(){this.Oe=!1,this.Fe=E0()}Qe(t,i){this.Oe=!0,this.Fe=this.Fe.insert(t,i)}$e(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}Ue(){this.ve+=1}Ke(){this.ve-=1,Xt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class cI{constructor(t){this.Ge=t,this.ze=new Map,this.je=Ds(),this.Je=Jc(),this.He=Jc(),this.Ye=new Re(qt)}Ze(t){for(const i of t.be)t.De&&t.De.isFoundDocument()?this.Xe(i,t.De):this.et(i,t.key,t.De);for(const i of t.removedTargetIds)this.et(i,t.key,t.De)}tt(t){this.forEachTarget(t,(i=>{const r=this.nt(i);switch(t.state){case 0:this.rt(i)&&r.Le(t.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(t.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(r.We(),r.Le(t.resumeToken));break;case 4:this.rt(i)&&(this.it(i),r.Le(t.resumeToken));break;default:_t(56790,{state:t.state})}}))}forEachTarget(t,i){t.targetIds.length>0?t.targetIds.forEach(i):this.ze.forEach(((r,l)=>{this.rt(l)&&i(l)}))}st(t){const i=t.targetId,r=t.Ce.count,l=this.ot(i);if(l){const c=l.target;if(Rm(c))if(r===0){const d=new mt(c.path);this.et(i,d,tn.newNoDocument(d,St.min()))}else Xt(r===1,20013,{expectedCount:r});else{const d=this._t(i);if(d!==r){const p=this.ut(t),_=p?this.ct(p,t,d):1;if(_!==0){this.it(i);const y=_===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(i,y)}}}}}ut(t){const i=t.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:r="",padding:l=0},hashCount:c=0}=i;let d,p;try{d=wr(r).toUint8Array()}catch(_){if(_ instanceof ZE)return xo("Decoding the base64 bloom filter in existence filter failed ("+_.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw _}try{p=new og(d,l,c)}catch(_){return xo(_ instanceof Yl?"BloomFilter error: ":"Applying bloom filter failed: ",_),null}return p.ge===0?null:p}ct(t,i,r){return i.Ce.count===r-this.Pt(t,i.targetId)?0:2}Pt(t,i){const r=this.Ge.getRemoteKeysForTarget(i);let l=0;return r.forEach((c=>{const d=this.Ge.ht(),p=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;t.mightContain(p)||(this.et(i,c,null),l++)})),l}Tt(t){const i=new Map;this.ze.forEach(((c,d)=>{const p=this.ot(d);if(p){if(c.current&&Rm(p.target)){const _=new mt(p.target.path);this.It(_).has(d)||this.Et(d,_)||this.et(d,_,tn.newNoDocument(_,t))}c.Be&&(i.set(d,c.ke()),c.qe())}}));let r=Ht();this.He.forEach(((c,d)=>{let p=!0;d.forEachWhile((_=>{const y=this.ot(_);return!y||y.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)})),p&&(r=r.add(c))})),this.je.forEach(((c,d)=>d.setReadTime(t)));const l=new Gh(t,i,this.Ye,this.je,r);return this.je=Ds(),this.Je=Jc(),this.He=Jc(),this.Ye=new Re(qt),l}Xe(t,i){if(!this.rt(t))return;const r=this.Et(t,i.key)?2:0;this.nt(t).Qe(i.key,r),this.je=this.je.insert(i.key,i),this.Je=this.Je.insert(i.key,this.It(i.key).add(t)),this.He=this.He.insert(i.key,this.dt(i.key).add(t))}et(t,i,r){if(!this.rt(t))return;const l=this.nt(t);this.Et(t,i)?l.Qe(i,1):l.$e(i),this.He=this.He.insert(i,this.dt(i).delete(t)),this.He=this.He.insert(i,this.dt(i).add(t)),r&&(this.je=this.je.insert(i,r))}removeTarget(t){this.ze.delete(t)}_t(t){const i=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+i.addedDocuments.size-i.removedDocuments.size}Ue(t){this.nt(t).Ue()}nt(t){let i=this.ze.get(t);return i||(i=new v0,this.ze.set(t,i)),i}dt(t){let i=this.He.get(t);return i||(i=new $e(qt),this.He=this.He.insert(t,i)),i}It(t){let i=this.Je.get(t);return i||(i=new $e(qt),this.Je=this.Je.insert(t,i)),i}rt(t){const i=this.ot(t)!==null;return i||ct("WatchChangeAggregator","Detected inactive target",t),i}ot(t){const i=this.ze.get(t);return i&&i.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new v0),this.Ge.getRemoteKeysForTarget(t).forEach((i=>{this.et(t,i,null)}))}Et(t,i){return this.Ge.getRemoteKeysForTarget(t).has(i)}}function Jc(){return new Re(mt.comparator)}function E0(){return new Re(mt.comparator)}const hI={asc:"ASCENDING",desc:"DESCENDING"},fI={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},dI={and:"AND",or:"OR"};class mI{constructor(t,i){this.databaseId=t,this.useProto3Json=i}}function Cm(s,t){return s.useProto3Json||vu(t)?t:{value:t}}function bh(s,t){return s.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function DT(s,t){return s.useProto3Json?t.toBase64():t.toUint8Array()}function gI(s,t){return bh(s,t.toTimestamp())}function Gn(s){return Xt(!!s,49232),St.fromTimestamp((function(i){const r=br(i);return new Te(r.seconds,r.nanos)})(s))}function lg(s,t){return Nm(s,t).canonicalString()}function Nm(s,t){const i=(function(l){return new fe(["projects",l.projectId,"databases",l.database])})(s).child("documents");return t===void 0?i:i.child(t)}function MT(s){const t=fe.fromString(s);return Xt(PT(t),10190,{key:t.toString()}),t}function wh(s,t){return lg(s.databaseId,t.path)}function eu(s,t){const i=MT(t);if(i.get(1)!==s.databaseId.projectId)throw new lt(K.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+s.databaseId.projectId);if(i.get(3)!==s.databaseId.database)throw new lt(K.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+s.databaseId.database);return new mt(VT(i))}function OT(s,t){return lg(s.databaseId,t)}function pI(s){const t=MT(s);return t.length===4?fe.emptyPath():VT(t)}function Dm(s){return new fe(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function VT(s){return Xt(s.length>4&&s.get(4)==="documents",29091,{key:s.toString()}),s.popFirst(5)}function T0(s,t,i){return{name:wh(s,t),fields:i.value.mapValue.fields}}function yI(s,t){return"found"in t?(function(r,l){Xt(!!l.found,43571),l.found.name,l.found.updateTime;const c=eu(r,l.found.name),d=Gn(l.found.updateTime),p=l.found.createTime?Gn(l.found.createTime):St.min(),_=new En({mapValue:{fields:l.found.fields}});return tn.newFoundDocument(c,d,p,_)})(s,t):"missing"in t?(function(r,l){Xt(!!l.missing,3894),Xt(!!l.readTime,22933);const c=eu(r,l.missing),d=Gn(l.readTime);return tn.newNoDocument(c,d)})(s,t):_t(7234,{result:t})}function _I(s,t){let i;if("targetChange"in t){t.targetChange;const r=(function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:_t(39313,{state:y})})(t.targetChange.targetChangeType||"NO_CHANGE"),l=t.targetChange.targetIds||[],c=(function(y,A){return y.useProto3Json?(Xt(A===void 0||typeof A=="string",58123),hn.fromBase64String(A||"")):(Xt(A===void 0||A instanceof Buffer||A instanceof Uint8Array,16193),hn.fromUint8Array(A||new Uint8Array))})(s,t.targetChange.resumeToken),d=t.targetChange.cause,p=d&&(function(y){const A=y.code===void 0?K.UNKNOWN:xT(y.code);return new lt(A,y.message||"")})(d);i=new NT(r,l,c,p||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const l=eu(s,r.document.name),c=Gn(r.document.updateTime),d=r.document.createTime?Gn(r.document.createTime):St.min(),p=new En({mapValue:{fields:r.document.fields}}),_=tn.newFoundDocument(l,c,d,p),y=r.targetIds||[],A=r.removedTargetIds||[];i=new ch(y,A,_.key,_)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const l=eu(s,r.document),c=r.readTime?Gn(r.readTime):St.min(),d=tn.newNoDocument(l,c),p=r.removedTargetIds||[];i=new ch([],p,d.key,d)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const l=eu(s,r.document),c=r.removedTargetIds||[];i=new ch([],c,l,null)}else{if(!("filter"in t))return _t(11601,{Rt:t});{t.filter;const r=t.filter;r.targetId;const{count:l=0,unchangedNames:c}=r,d=new oI(l,c),p=r.targetId;i=new CT(p,d)}}return i}function UT(s,t){let i;if(t instanceof Eu)i={update:T0(s,t.key,t.value)};else if(t instanceof Fh)i={delete:wh(s,t.key)};else if(t instanceof Dr)i={update:T0(s,t.key,t.data),updateMask:II(t.fieldMask)};else{if(!(t instanceof RT))return _t(16599,{Vt:t.type});i={verify:wh(s,t.key)}}return t.fieldTransforms.length>0&&(i.updateTransforms=t.fieldTransforms.map((r=>(function(c,d){const p=d.transform;if(p instanceof uu)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof cu)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof hu)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof fu)return{fieldPath:d.field.canonicalString(),increment:p.Ae};throw _t(20930,{transform:d.transform})})(0,r)))),t.precondition.isNone||(i.currentDocument=(function(l,c){return c.updateTime!==void 0?{updateTime:gI(l,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:_t(27497)})(s,t.precondition)),i}function vI(s,t){return s&&s.length>0?(Xt(t!==void 0,14353),s.map((i=>(function(l,c){let d=l.updateTime?Gn(l.updateTime):Gn(c);return d.isEqual(St.min())&&(d=Gn(c)),new nI(d,l.transformResults||[])})(i,t)))):[]}function EI(s,t){return{documents:[OT(s,t.path)]}}function TI(s,t){const i={structuredQuery:{}},r=t.path;let l;t.collectionGroup!==null?(l=r,i.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(l=r.popLast(),i.structuredQuery.from=[{collectionId:r.lastSegment()}]),i.parent=OT(s,l);const c=(function(y){if(y.length!==0)return kT(Si.create(y,"and"))})(t.filters);c&&(i.structuredQuery.where=c);const d=(function(y){if(y.length!==0)return y.map((A=>(function(N){return{field:vo(N.field),direction:bI(N.dir)}})(A)))})(t.orderBy);d&&(i.structuredQuery.orderBy=d);const p=Cm(s,t.limit);return p!==null&&(i.structuredQuery.limit=p),t.startAt&&(i.structuredQuery.startAt=(function(y){return{before:y.inclusive,values:y.position}})(t.startAt)),t.endAt&&(i.structuredQuery.endAt=(function(y){return{before:!y.inclusive,values:y.position}})(t.endAt)),{ft:i,parent:l}}function AI(s){let t=pI(s.parent);const i=s.structuredQuery,r=i.from?i.from.length:0;let l=null;if(r>0){Xt(r===1,65062);const A=i.from[0];A.allDescendants?l=A.collectionId:t=t.child(A.collectionId)}let c=[];i.where&&(c=(function(b){const N=LT(b);return N instanceof Si&&oT(N)?N.getFilters():[N]})(i.where));let d=[];i.orderBy&&(d=(function(b){return b.map((N=>(function(et){return new lu(Eo(et.field),(function(nt){switch(nt){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(et.direction))})(N)))})(i.orderBy));let p=null;i.limit&&(p=(function(b){let N;return N=typeof b=="object"?b.value:b,vu(N)?null:N})(i.limit));let _=null;i.startAt&&(_=(function(b){const N=!!b.before,Y=b.values||[];return new Sh(Y,N)})(i.startAt));let y=null;return i.endAt&&(y=(function(b){const N=!b.before,Y=b.values||[];return new Sh(Y,N)})(i.endAt)),F2(t,l,d,c,p,"F",_,y)}function SI(s,t){const i=(function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return _t(28987,{purpose:l})}})(t.purpose);return i==null?null:{"goog-listen-tags":i}}function LT(s){return s.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const r=Eo(i.unaryFilter.field);return Fe.create(r,"==",{doubleValue:NaN});case"IS_NULL":const l=Eo(i.unaryFilter.field);return Fe.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=Eo(i.unaryFilter.field);return Fe.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=Eo(i.unaryFilter.field);return Fe.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return _t(61313);default:return _t(60726)}})(s):s.fieldFilter!==void 0?(function(i){return Fe.create(Eo(i.fieldFilter.field),(function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return _t(58110);default:return _t(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(s):s.compositeFilter!==void 0?(function(i){return Si.create(i.compositeFilter.filters.map((r=>LT(r))),(function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return _t(1026)}})(i.compositeFilter.op))})(s):_t(30097,{filter:s})}function bI(s){return hI[s]}function wI(s){return fI[s]}function RI(s){return dI[s]}function vo(s){return{fieldPath:s.canonicalString()}}function Eo(s){return un.fromServerFormat(s.fieldPath)}function kT(s){return s instanceof Fe?(function(i){if(i.op==="=="){if(l0(i.value))return{unaryFilter:{field:vo(i.field),op:"IS_NAN"}};if(o0(i.value))return{unaryFilter:{field:vo(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(l0(i.value))return{unaryFilter:{field:vo(i.field),op:"IS_NOT_NAN"}};if(o0(i.value))return{unaryFilter:{field:vo(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:vo(i.field),op:wI(i.op),value:i.value}}})(s):s instanceof Si?(function(i){const r=i.getFilters().map((l=>kT(l)));return r.length===1?r[0]:{compositeFilter:{op:RI(i.op),filters:r}}})(s):_t(54877,{filter:s})}function II(s){const t=[];return s.fields.forEach((i=>t.push(i.canonicalString()))),{fieldPaths:t}}function PT(s){return s.length>=4&&s.get(0)==="projects"&&s.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pr{constructor(t,i,r,l,c=St.min(),d=St.min(),p=hn.EMPTY_BYTE_STRING,_=null){this.target=t,this.targetId=i,this.purpose=r,this.sequenceNumber=l,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=p,this.expectedCount=_}withSequenceNumber(t){return new pr(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,i){return new pr(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new pr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new pr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xI{constructor(t){this.yt=t}}function CI(s){const t=AI({parent:s.parent,structuredQuery:s.structuredQuery});return s.limitType==="LAST"?xm(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NI{constructor(){this.Cn=new DI}addToCollectionParentIndex(t,i){return this.Cn.add(i),Z.resolve()}getCollectionParents(t,i){return Z.resolve(this.Cn.getEntries(i))}addFieldIndex(t,i){return Z.resolve()}deleteFieldIndex(t,i){return Z.resolve()}deleteAllFieldIndexes(t){return Z.resolve()}createTargetIndexes(t,i){return Z.resolve()}getDocumentsMatchingTarget(t,i){return Z.resolve(null)}getIndexType(t,i){return Z.resolve(0)}getFieldIndexes(t,i){return Z.resolve([])}getNextCollectionGroupToUpdate(t){return Z.resolve(null)}getMinOffset(t,i){return Z.resolve(Sr.min())}getMinOffsetFromCollectionGroup(t,i){return Z.resolve(Sr.min())}updateCollectionGroup(t,i,r){return Z.resolve()}updateIndexEntries(t,i){return Z.resolve()}}class DI{constructor(){this.index={}}add(t){const i=t.lastSegment(),r=t.popLast(),l=this.index[i]||new $e(fe.comparator),c=!l.has(r);return this.index[i]=l.add(r),c}has(t){const i=t.lastSegment(),r=t.popLast(),l=this.index[i];return l&&l.has(r)}getEntries(t){return(this.index[t]||new $e(fe.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},jT=41943040;class Dn{static withCacheSize(t){return new Dn(t,Dn.DEFAULT_COLLECTION_PERCENTILE,Dn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,i,r){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Dn.DEFAULT_COLLECTION_PERCENTILE=10,Dn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Dn.DEFAULT=new Dn(jT,Dn.DEFAULT_COLLECTION_PERCENTILE,Dn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Dn.DISABLED=new Dn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mo{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new Mo(0)}static cr(){return new Mo(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S0="LruGarbageCollector",MI=1048576;function b0([s,t],[i,r]){const l=qt(s,i);return l===0?qt(t,r):l}class OI{constructor(t){this.Ir=t,this.buffer=new $e(b0),this.Er=0}dr(){return++this.Er}Ar(t){const i=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(i);else{const r=this.buffer.last();b0(i,r)<0&&(this.buffer=this.buffer.delete(r).add(i))}}get maxValue(){return this.buffer.last()[0]}}class VI{constructor(t,i,r){this.garbageCollector=t,this.asyncQueue=i,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(t){ct(S0,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){jo(i)?ct(S0,"Ignoring IndexedDB error during garbage collection: ",i):await Po(i)}await this.Vr(3e5)}))}}class UI{constructor(t,i){this.mr=t,this.params=i}calculateTargetCount(t,i){return this.mr.gr(t).next((r=>Math.floor(i/100*r)))}nthSequenceNumber(t,i){if(i===0)return Z.resolve(kh.ce);const r=new OI(i);return this.mr.forEachTarget(t,(l=>r.Ar(l.sequenceNumber))).next((()=>this.mr.pr(t,(l=>r.Ar(l))))).next((()=>r.maxValue))}removeTargets(t,i,r){return this.mr.removeTargets(t,i,r)}removeOrphanedDocuments(t,i){return this.mr.removeOrphanedDocuments(t,i)}collect(t,i){return this.params.cacheSizeCollectionThreshold===-1?(ct("LruGarbageCollector","Garbage collection skipped; disabled"),Z.resolve(A0)):this.getCacheSize(t).next((r=>r<this.params.cacheSizeCollectionThreshold?(ct("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),A0):this.yr(t,i)))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,i){let r,l,c,d,p,_,y;const A=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((b=>(b>this.params.maximumSequenceNumbersToCollect?(ct("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${b}`),l=this.params.maximumSequenceNumbersToCollect):l=b,d=Date.now(),this.nthSequenceNumber(t,l)))).next((b=>(r=b,p=Date.now(),this.removeTargets(t,r,i)))).next((b=>(c=b,_=Date.now(),this.removeOrphanedDocuments(t,r)))).next((b=>(y=Date.now(),yo()<=Bt.DEBUG&&ct("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-A}ms
	Determined least recently used ${l} in `+(p-d)+`ms
	Removed ${c} targets in `+(_-p)+`ms
	Removed ${b} documents in `+(y-_)+`ms
Total Duration: ${y-A}ms`),Z.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:c,documentsRemoved:b}))))}}function LI(s,t){return new UI(s,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kI{constructor(){this.changes=new va((t=>t.toString()),((t,i)=>t.isEqual(i))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,i){this.assertNotApplied(),this.changes.set(t,tn.newInvalidDocument(t).setReadTime(i))}getEntry(t,i){this.assertNotApplied();const r=this.changes.get(i);return r!==void 0?Z.resolve(r):this.getFromCache(t,i)}getEntries(t,i){return this.getAllFromCache(t,i)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PI{constructor(t,i){this.overlayedDocument=t,this.mutatedFields=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jI{constructor(t,i,r,l){this.remoteDocumentCache=t,this.mutationQueue=i,this.documentOverlayCache=r,this.indexManager=l}getDocument(t,i){let r=null;return this.documentOverlayCache.getOverlay(t,i).next((l=>(r=l,this.remoteDocumentCache.getEntry(t,i)))).next((l=>(r!==null&&tu(r.mutation,l,Fn.empty(),Te.now()),l)))}getDocuments(t,i){return this.remoteDocumentCache.getEntries(t,i).next((r=>this.getLocalViewOfDocuments(t,r,Ht()).next((()=>r))))}getLocalViewOfDocuments(t,i,r=Ht()){const l=ha();return this.populateOverlays(t,l,i).next((()=>this.computeViews(t,i,l,r).next((c=>{let d=Ql();return c.forEach(((p,_)=>{d=d.insert(p,_.overlayedDocument)})),d}))))}getOverlayedDocuments(t,i){const r=ha();return this.populateOverlays(t,r,i).next((()=>this.computeViews(t,i,r,Ht())))}populateOverlays(t,i,r){const l=[];return r.forEach((c=>{i.has(c)||l.push(c)})),this.documentOverlayCache.getOverlays(t,l).next((c=>{c.forEach(((d,p)=>{i.set(d,p)}))}))}computeViews(t,i,r,l){let c=Ds();const d=Wl(),p=(function(){return Wl()})();return i.forEach(((_,y)=>{const A=r.get(y.key);l.has(y.key)&&(A===void 0||A.mutation instanceof Dr)?c=c.insert(y.key,y):A!==void 0?(d.set(y.key,A.mutation.getFieldMask()),tu(A.mutation,y,A.mutation.getFieldMask(),Te.now())):d.set(y.key,Fn.empty())})),this.recalculateAndSaveOverlays(t,c).next((_=>(_.forEach(((y,A)=>d.set(y,A))),i.forEach(((y,A)=>p.set(y,new PI(A,d.get(y)??null)))),p)))}recalculateAndSaveOverlays(t,i){const r=Wl();let l=new Re(((d,p)=>d-p)),c=Ht();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,i).next((d=>{for(const p of d)p.keys().forEach((_=>{const y=i.get(_);if(y===null)return;let A=r.get(_)||Fn.empty();A=p.applyToLocalView(y,A),r.set(_,A);const b=(l.get(p.batchId)||Ht()).add(_);l=l.insert(p.batchId,b)}))})).next((()=>{const d=[],p=l.getReverseIterator();for(;p.hasNext();){const _=p.getNext(),y=_.key,A=_.value,b=pT();A.forEach((N=>{if(!c.has(N)){const Y=bT(i.get(N),r.get(N));Y!==null&&b.set(N,Y),c=c.add(N)}})),d.push(this.documentOverlayCache.saveOverlays(t,y,b))}return Z.waitFor(d)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(t,i){return this.remoteDocumentCache.getEntries(t,i).next((r=>this.recalculateAndSaveOverlays(t,r)))}getDocumentsMatchingQuery(t,i,r,l){return(function(d){return mt.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0})(i)?this.getDocumentsMatchingDocumentQuery(t,i.path):hT(i)?this.getDocumentsMatchingCollectionGroupQuery(t,i,r,l):this.getDocumentsMatchingCollectionQuery(t,i,r,l)}getNextDocuments(t,i,r,l){return this.remoteDocumentCache.getAllFromCollectionGroup(t,i,r,l).next((c=>{const d=l-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,i,r.largestBatchId,l-c.size):Z.resolve(ha());let p=su,_=c;return d.next((y=>Z.forEach(y,((A,b)=>(p<b.largestBatchId&&(p=b.largestBatchId),c.get(A)?Z.resolve():this.remoteDocumentCache.getEntry(t,A).next((N=>{_=_.insert(A,N)}))))).next((()=>this.populateOverlays(t,y,c))).next((()=>this.computeViews(t,_,y,Ht()))).next((A=>({batchId:p,changes:gT(A)})))))}))}getDocumentsMatchingDocumentQuery(t,i){return this.getDocument(t,new mt(i)).next((r=>{let l=Ql();return r.isFoundDocument()&&(l=l.insert(r.key,r)),l}))}getDocumentsMatchingCollectionGroupQuery(t,i,r,l){const c=i.collectionGroup;let d=Ql();return this.indexManager.getCollectionParents(t,c).next((p=>Z.forEach(p,(_=>{const y=(function(b,N){return new zo(N,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt)})(i,_.child(c));return this.getDocumentsMatchingCollectionQuery(t,y,r,l).next((A=>{A.forEach(((b,N)=>{d=d.insert(b,N)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(t,i,r,l){let c;return this.documentOverlayCache.getOverlaysForCollection(t,i.path,r.largestBatchId).next((d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(t,i,r,c,l)))).next((d=>{c.forEach(((_,y)=>{const A=y.getKey();d.get(A)===null&&(d=d.insert(A,tn.newInvalidDocument(A)))}));let p=Ql();return d.forEach(((_,y)=>{const A=c.get(_);A!==void 0&&tu(A.mutation,y,Fn.empty(),Te.now()),Bh(i,y)&&(p=p.insert(_,y))})),p}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zI{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,i){return Z.resolve(this.Lr.get(i))}saveBundleMetadata(t,i){return this.Lr.set(i.id,(function(l){return{id:l.id,version:l.version,createTime:Gn(l.createTime)}})(i)),Z.resolve()}getNamedQuery(t,i){return Z.resolve(this.kr.get(i))}saveNamedQuery(t,i){return this.kr.set(i.name,(function(l){return{name:l.name,query:CI(l.bundledQuery),readTime:Gn(l.readTime)}})(i)),Z.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BI{constructor(){this.overlays=new Re(mt.comparator),this.qr=new Map}getOverlay(t,i){return Z.resolve(this.overlays.get(i))}getOverlays(t,i){const r=ha();return Z.forEach(i,(l=>this.getOverlay(t,l).next((c=>{c!==null&&r.set(l,c)})))).next((()=>r))}saveOverlays(t,i,r){return r.forEach(((l,c)=>{this.St(t,i,c)})),Z.resolve()}removeOverlaysForBatchId(t,i,r){const l=this.qr.get(r);return l!==void 0&&(l.forEach((c=>this.overlays=this.overlays.remove(c))),this.qr.delete(r)),Z.resolve()}getOverlaysForCollection(t,i,r){const l=ha(),c=i.length+1,d=new mt(i.child("")),p=this.overlays.getIteratorFrom(d);for(;p.hasNext();){const _=p.getNext().value,y=_.getKey();if(!i.isPrefixOf(y.path))break;y.path.length===c&&_.largestBatchId>r&&l.set(_.getKey(),_)}return Z.resolve(l)}getOverlaysForCollectionGroup(t,i,r,l){let c=new Re(((y,A)=>y-A));const d=this.overlays.getIterator();for(;d.hasNext();){const y=d.getNext().value;if(y.getKey().getCollectionGroup()===i&&y.largestBatchId>r){let A=c.get(y.largestBatchId);A===null&&(A=ha(),c=c.insert(y.largestBatchId,A)),A.set(y.getKey(),y)}}const p=ha(),_=c.getIterator();for(;_.hasNext()&&(_.getNext().value.forEach(((y,A)=>p.set(y,A))),!(p.size()>=l)););return Z.resolve(p)}St(t,i,r){const l=this.overlays.get(r.key);if(l!==null){const d=this.qr.get(l.largestBatchId).delete(r.key);this.qr.set(l.largestBatchId,d)}this.overlays=this.overlays.insert(r.key,new aI(i,r));let c=this.qr.get(i);c===void 0&&(c=Ht(),this.qr.set(i,c)),this.qr.set(i,c.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qI{constructor(){this.sessionToken=hn.EMPTY_BYTE_STRING}getSessionToken(t){return Z.resolve(this.sessionToken)}setSessionToken(t,i){return this.sessionToken=i,Z.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ug{constructor(){this.Qr=new $e(We.$r),this.Ur=new $e(We.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,i){const r=new We(t,i);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(t,i){t.forEach((r=>this.addReference(r,i)))}removeReference(t,i){this.Gr(new We(t,i))}zr(t,i){t.forEach((r=>this.removeReference(r,i)))}jr(t){const i=new mt(new fe([])),r=new We(i,t),l=new We(i,t+1),c=[];return this.Ur.forEachInRange([r,l],(d=>{this.Gr(d),c.push(d.key)})),c}Jr(){this.Qr.forEach((t=>this.Gr(t)))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){const i=new mt(new fe([])),r=new We(i,t),l=new We(i,t+1);let c=Ht();return this.Ur.forEachInRange([r,l],(d=>{c=c.add(d.key)})),c}containsKey(t){const i=new We(t,0),r=this.Qr.firstAfterOrEqual(i);return r!==null&&t.isEqual(r.key)}}class We{constructor(t,i){this.key=t,this.Yr=i}static $r(t,i){return mt.comparator(t.key,i.key)||qt(t.Yr,i.Yr)}static Kr(t,i){return qt(t.Yr,i.Yr)||mt.comparator(t.key,i.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HI{constructor(t,i){this.indexManager=t,this.referenceDelegate=i,this.mutationQueue=[],this.tr=1,this.Zr=new $e(We.$r)}checkEmpty(t){return Z.resolve(this.mutationQueue.length===0)}addMutationBatch(t,i,r,l){const c=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new rI(c,i,r,l);this.mutationQueue.push(d);for(const p of l)this.Zr=this.Zr.add(new We(p.key,c)),this.indexManager.addToCollectionParentIndex(t,p.key.path.popLast());return Z.resolve(d)}lookupMutationBatch(t,i){return Z.resolve(this.Xr(i))}getNextMutationBatchAfterBatchId(t,i){const r=i+1,l=this.ei(r),c=l<0?0:l;return Z.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return Z.resolve(this.mutationQueue.length===0?tg:this.tr-1)}getAllMutationBatches(t){return Z.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,i){const r=new We(i,0),l=new We(i,Number.POSITIVE_INFINITY),c=[];return this.Zr.forEachInRange([r,l],(d=>{const p=this.Xr(d.Yr);c.push(p)})),Z.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(t,i){let r=new $e(qt);return i.forEach((l=>{const c=new We(l,0),d=new We(l,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([c,d],(p=>{r=r.add(p.Yr)}))})),Z.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(t,i){const r=i.path,l=r.length+1;let c=r;mt.isDocumentKey(c)||(c=c.child(""));const d=new We(new mt(c),0);let p=new $e(qt);return this.Zr.forEachWhile((_=>{const y=_.key.path;return!!r.isPrefixOf(y)&&(y.length===l&&(p=p.add(_.Yr)),!0)}),d),Z.resolve(this.ti(p))}ti(t){const i=[];return t.forEach((r=>{const l=this.Xr(r);l!==null&&i.push(l)})),i}removeMutationBatch(t,i){Xt(this.ni(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return Z.forEach(i.mutations,(l=>{const c=new We(l.key,i.batchId);return r=r.delete(c),this.referenceDelegate.markPotentiallyOrphaned(t,l.key)})).next((()=>{this.Zr=r}))}ir(t){}containsKey(t,i){const r=new We(i,0),l=this.Zr.firstAfterOrEqual(r);return Z.resolve(i.isEqual(l&&l.key))}performConsistencyCheck(t){return this.mutationQueue.length,Z.resolve()}ni(t,i){return this.ei(t)}ei(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Xr(t){const i=this.ei(t);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FI{constructor(t){this.ri=t,this.docs=(function(){return new Re(mt.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,i){const r=i.key,l=this.docs.get(r),c=l?l.size:0,d=this.ri(i);return this.docs=this.docs.insert(r,{document:i.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(t,r.path.popLast())}removeEntry(t){const i=this.docs.get(t);i&&(this.docs=this.docs.remove(t),this.size-=i.size)}getEntry(t,i){const r=this.docs.get(i);return Z.resolve(r?r.document.mutableCopy():tn.newInvalidDocument(i))}getEntries(t,i){let r=Ds();return i.forEach((l=>{const c=this.docs.get(l);r=r.insert(l,c?c.document.mutableCopy():tn.newInvalidDocument(l))})),Z.resolve(r)}getDocumentsMatchingQuery(t,i,r,l){let c=Ds();const d=i.path,p=new mt(d.child("__id-9223372036854775808__")),_=this.docs.getIteratorFrom(p);for(;_.hasNext();){const{key:y,value:{document:A}}=_.getNext();if(!d.isPrefixOf(y.path))break;y.path.length>d.length+1||A2(T2(A),r)<=0||(l.has(A.key)||Bh(i,A))&&(c=c.insert(A.key,A.mutableCopy()))}return Z.resolve(c)}getAllFromCollectionGroup(t,i,r,l){_t(9500)}ii(t,i){return Z.forEach(this.docs,(r=>i(r)))}newChangeBuffer(t){return new GI(this)}getSize(t){return Z.resolve(this.size)}}class GI extends kI{constructor(t){super(),this.Nr=t}applyChanges(t){const i=[];return this.changes.forEach(((r,l)=>{l.isValidDocument()?i.push(this.Nr.addEntry(t,l)):this.Nr.removeEntry(r)})),Z.waitFor(i)}getFromCache(t,i){return this.Nr.getEntry(t,i)}getAllFromCache(t,i){return this.Nr.getEntries(t,i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QI{constructor(t){this.persistence=t,this.si=new va((i=>ig(i)),sg),this.lastRemoteSnapshotVersion=St.min(),this.highestTargetId=0,this.oi=0,this._i=new ug,this.targetCount=0,this.ai=Mo.ur()}forEachTarget(t,i){return this.si.forEach(((r,l)=>i(l))),Z.resolve()}getLastRemoteSnapshotVersion(t){return Z.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return Z.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),Z.resolve(this.highestTargetId)}setTargetsMetadata(t,i,r){return r&&(this.lastRemoteSnapshotVersion=r),i>this.oi&&(this.oi=i),Z.resolve()}Pr(t){this.si.set(t.target,t);const i=t.targetId;i>this.highestTargetId&&(this.ai=new Mo(i),this.highestTargetId=i),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,i){return this.Pr(i),this.targetCount+=1,Z.resolve()}updateTargetData(t,i){return this.Pr(i),Z.resolve()}removeTargetData(t,i){return this.si.delete(i.target),this._i.jr(i.targetId),this.targetCount-=1,Z.resolve()}removeTargets(t,i,r){let l=0;const c=[];return this.si.forEach(((d,p)=>{p.sequenceNumber<=i&&r.get(p.targetId)===null&&(this.si.delete(d),c.push(this.removeMatchingKeysForTargetId(t,p.targetId)),l++)})),Z.waitFor(c).next((()=>l))}getTargetCount(t){return Z.resolve(this.targetCount)}getTargetData(t,i){const r=this.si.get(i)||null;return Z.resolve(r)}addMatchingKeys(t,i,r){return this._i.Wr(i,r),Z.resolve()}removeMatchingKeys(t,i,r){this._i.zr(i,r);const l=this.persistence.referenceDelegate,c=[];return l&&i.forEach((d=>{c.push(l.markPotentiallyOrphaned(t,d))})),Z.waitFor(c)}removeMatchingKeysForTargetId(t,i){return this._i.jr(i),Z.resolve()}getMatchingKeysForTargetId(t,i){const r=this._i.Hr(i);return Z.resolve(r)}containsKey(t,i){return Z.resolve(this._i.containsKey(i))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zT{constructor(t,i){this.ui={},this.overlays={},this.ci=new kh(0),this.li=!1,this.li=!0,this.hi=new qI,this.referenceDelegate=t(this),this.Pi=new QI(this),this.indexManager=new NI,this.remoteDocumentCache=(function(l){return new FI(l)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new xI(i),this.Ii=new zI(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let i=this.overlays[t.toKey()];return i||(i=new BI,this.overlays[t.toKey()]=i),i}getMutationQueue(t,i){let r=this.ui[t.toKey()];return r||(r=new HI(i,this.referenceDelegate),this.ui[t.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,i,r){ct("MemoryPersistence","Starting transaction:",t);const l=new YI(this.ci.next());return this.referenceDelegate.Ei(),r(l).next((c=>this.referenceDelegate.di(l).next((()=>c)))).toPromise().then((c=>(l.raiseOnCommittedEvent(),c)))}Ai(t,i){return Z.or(Object.values(this.ui).map((r=>()=>r.containsKey(t,i))))}}class YI extends b2{constructor(t){super(),this.currentSequenceNumber=t}}class cg{constructor(t){this.persistence=t,this.Ri=new ug,this.Vi=null}static mi(t){return new cg(t)}get fi(){if(this.Vi)return this.Vi;throw _t(60996)}addReference(t,i,r){return this.Ri.addReference(r,i),this.fi.delete(r.toString()),Z.resolve()}removeReference(t,i,r){return this.Ri.removeReference(r,i),this.fi.add(r.toString()),Z.resolve()}markPotentiallyOrphaned(t,i){return this.fi.add(i.toString()),Z.resolve()}removeTarget(t,i){this.Ri.jr(i.targetId).forEach((l=>this.fi.add(l.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,i.targetId).next((l=>{l.forEach((c=>this.fi.add(c.toString())))})).next((()=>r.removeTargetData(t,i)))}Ei(){this.Vi=new Set}di(t){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Z.forEach(this.fi,(r=>{const l=mt.fromPath(r);return this.gi(t,l).next((c=>{c||i.removeEntry(l,St.min())}))})).next((()=>(this.Vi=null,i.apply(t))))}updateLimboDocument(t,i){return this.gi(t,i).next((r=>{r?this.fi.delete(i.toString()):this.fi.add(i.toString())}))}Ti(t){return 0}gi(t,i){return Z.or([()=>Z.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(t,i),()=>this.persistence.Ai(t,i)])}}class Rh{constructor(t,i){this.persistence=t,this.pi=new va((r=>I2(r.path)),((r,l)=>r.isEqual(l))),this.garbageCollector=LI(this,i)}static mi(t,i){return new Rh(t,i)}Ei(){}di(t){return Z.resolve()}forEachTarget(t,i){return this.persistence.getTargetCache().forEachTarget(t,i)}gr(t){const i=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next((r=>i.next((l=>r+l))))}wr(t){let i=0;return this.pr(t,(r=>{i++})).next((()=>i))}pr(t,i){return Z.forEach(this.pi,((r,l)=>this.br(t,r,l).next((c=>c?Z.resolve():i(l)))))}removeTargets(t,i,r){return this.persistence.getTargetCache().removeTargets(t,i,r)}removeOrphanedDocuments(t,i){let r=0;const l=this.persistence.getRemoteDocumentCache(),c=l.newChangeBuffer();return l.ii(t,(d=>this.br(t,d,i).next((p=>{p||(r++,c.removeEntry(d,St.min()))})))).next((()=>c.apply(t))).next((()=>r))}markPotentiallyOrphaned(t,i){return this.pi.set(i,t.currentSequenceNumber),Z.resolve()}removeTarget(t,i){const r=i.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,r)}addReference(t,i,r){return this.pi.set(r,t.currentSequenceNumber),Z.resolve()}removeReference(t,i,r){return this.pi.set(r,t.currentSequenceNumber),Z.resolve()}updateLimboDocument(t,i){return this.pi.set(i,t.currentSequenceNumber),Z.resolve()}Ti(t){let i=t.key.toString().length;return t.isFoundDocument()&&(i+=oh(t.data.value)),i}br(t,i,r){return Z.or([()=>this.persistence.Ai(t,i),()=>this.persistence.getTargetCache().containsKey(t,i),()=>{const l=this.pi.get(i);return Z.resolve(l!==void 0&&l>r)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hg{constructor(t,i,r,l){this.targetId=t,this.fromCache=i,this.Es=r,this.ds=l}static As(t,i){let r=Ht(),l=Ht();for(const c of i.docChanges)switch(c.type){case 0:r=r.add(c.doc.key);break;case 1:l=l.add(c.doc.key)}return new hg(t,i.fromCache,r,l)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KI{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XI{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return qS()?8:w2(pn())>0?6:4})()}initialize(t,i){this.ps=t,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(t,i,r,l){const c={result:null};return this.ys(t,i).next((d=>{c.result=d})).next((()=>{if(!c.result)return this.ws(t,i,l,r).next((d=>{c.result=d}))})).next((()=>{if(c.result)return;const d=new KI;return this.Ss(t,i,d).next((p=>{if(c.result=p,this.Vs)return this.bs(t,i,d,p.size)}))})).next((()=>c.result))}bs(t,i,r,l){return r.documentReadCount<this.fs?(yo()<=Bt.DEBUG&&ct("QueryEngine","SDK will not create cache indexes for query:",_o(i),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),Z.resolve()):(yo()<=Bt.DEBUG&&ct("QueryEngine","Query:",_o(i),"scans",r.documentReadCount,"local documents and returns",l,"documents as results."),r.documentReadCount>this.gs*l?(yo()<=Bt.DEBUG&&ct("QueryEngine","The SDK decides to create cache indexes for query:",_o(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Ki(i))):Z.resolve())}ys(t,i){if(f0(i))return Z.resolve(null);let r=Ki(i);return this.indexManager.getIndexType(t,r).next((l=>l===0?null:(i.limit!==null&&l===1&&(i=xm(i,null,"F"),r=Ki(i)),this.indexManager.getDocumentsMatchingTarget(t,r).next((c=>{const d=Ht(...c);return this.ps.getDocuments(t,d).next((p=>this.indexManager.getMinOffset(t,r).next((_=>{const y=this.Ds(i,p);return this.Cs(i,y,d,_.readTime)?this.ys(t,xm(i,null,"F")):this.vs(t,y,i,_)}))))})))))}ws(t,i,r,l){return f0(i)||l.isEqual(St.min())?Z.resolve(null):this.ps.getDocuments(t,r).next((c=>{const d=this.Ds(i,c);return this.Cs(i,d,r,l)?Z.resolve(null):(yo()<=Bt.DEBUG&&ct("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),_o(i)),this.vs(t,d,i,E2(l,su)).next((p=>p)))}))}Ds(t,i){let r=new $e(dT(t));return i.forEach(((l,c)=>{Bh(t,c)&&(r=r.add(c))})),r}Cs(t,i,r,l){if(t.limit===null)return!1;if(r.size!==i.size)return!0;const c=t.limitType==="F"?i.last():i.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(l)>0)}Ss(t,i,r){return yo()<=Bt.DEBUG&&ct("QueryEngine","Using full collection scan to execute query:",_o(i)),this.ps.getDocumentsMatchingQuery(t,i,Sr.min(),r)}vs(t,i,r,l){return this.ps.getDocumentsMatchingQuery(t,r,l).next((c=>(i.forEach((d=>{c=c.insert(d.key,d)})),c)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fg="LocalStore",$I=3e8;class ZI{constructor(t,i,r,l){this.persistence=t,this.Fs=i,this.serializer=l,this.Ms=new Re(qt),this.xs=new va((c=>ig(c)),sg),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(r)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new jI(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>t.collect(i,this.Ms)))}}function JI(s,t,i,r){return new ZI(s,t,i,r)}async function BT(s,t){const i=It(s);return await i.persistence.runTransaction("Handle user change","readonly",(r=>{let l;return i.mutationQueue.getAllMutationBatches(r).next((c=>(l=c,i.Bs(t),i.mutationQueue.getAllMutationBatches(r)))).next((c=>{const d=[],p=[];let _=Ht();for(const y of l){d.push(y.batchId);for(const A of y.mutations)_=_.add(A.key)}for(const y of c){p.push(y.batchId);for(const A of y.mutations)_=_.add(A.key)}return i.localDocuments.getDocuments(r,_).next((y=>({Ls:y,removedBatchIds:d,addedBatchIds:p})))}))}))}function WI(s,t){const i=It(s);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const l=t.batch.keys(),c=i.Ns.newChangeBuffer({trackRemovals:!0});return(function(p,_,y,A){const b=y.batch,N=b.keys();let Y=Z.resolve();return N.forEach((et=>{Y=Y.next((()=>A.getEntry(_,et))).next((ut=>{const nt=y.docVersions.get(et);Xt(nt!==null,48541),ut.version.compareTo(nt)<0&&(b.applyToRemoteDocument(ut,y),ut.isValidDocument()&&(ut.setReadTime(y.commitVersion),A.addEntry(ut)))}))})),Y.next((()=>p.mutationQueue.removeMutationBatch(_,b)))})(i,r,t,c).next((()=>c.apply(r))).next((()=>i.mutationQueue.performConsistencyCheck(r))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(r,l,t.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(p){let _=Ht();for(let y=0;y<p.mutationResults.length;++y)p.mutationResults[y].transformResults.length>0&&(_=_.add(p.batch.mutations[y].key));return _})(t)))).next((()=>i.localDocuments.getDocuments(r,l)))}))}function qT(s){const t=It(s);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>t.Pi.getLastRemoteSnapshotVersion(i)))}function tx(s,t){const i=It(s),r=t.snapshotVersion;let l=i.Ms;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const d=i.Ns.newChangeBuffer({trackRemovals:!0});l=i.Ms;const p=[];t.targetChanges.forEach(((A,b)=>{const N=l.get(b);if(!N)return;p.push(i.Pi.removeMatchingKeys(c,A.removedDocuments,b).next((()=>i.Pi.addMatchingKeys(c,A.addedDocuments,b))));let Y=N.withSequenceNumber(c.currentSequenceNumber);t.targetMismatches.get(b)!==null?Y=Y.withResumeToken(hn.EMPTY_BYTE_STRING,St.min()).withLastLimboFreeSnapshotVersion(St.min()):A.resumeToken.approximateByteSize()>0&&(Y=Y.withResumeToken(A.resumeToken,r)),l=l.insert(b,Y),(function(ut,nt,yt){return ut.resumeToken.approximateByteSize()===0||nt.snapshotVersion.toMicroseconds()-ut.snapshotVersion.toMicroseconds()>=$I?!0:yt.addedDocuments.size+yt.modifiedDocuments.size+yt.removedDocuments.size>0})(N,Y,A)&&p.push(i.Pi.updateTargetData(c,Y))}));let _=Ds(),y=Ht();if(t.documentUpdates.forEach((A=>{t.resolvedLimboDocuments.has(A)&&p.push(i.persistence.referenceDelegate.updateLimboDocument(c,A))})),p.push(ex(c,d,t.documentUpdates).next((A=>{_=A.ks,y=A.qs}))),!r.isEqual(St.min())){const A=i.Pi.getLastRemoteSnapshotVersion(c).next((b=>i.Pi.setTargetsMetadata(c,c.currentSequenceNumber,r)));p.push(A)}return Z.waitFor(p).next((()=>d.apply(c))).next((()=>i.localDocuments.getLocalViewOfDocuments(c,_,y))).next((()=>_))})).then((c=>(i.Ms=l,c)))}function ex(s,t,i){let r=Ht(),l=Ht();return i.forEach((c=>r=r.add(c))),t.getEntries(s,r).next((c=>{let d=Ds();return i.forEach(((p,_)=>{const y=c.get(p);_.isFoundDocument()!==y.isFoundDocument()&&(l=l.add(p)),_.isNoDocument()&&_.version.isEqual(St.min())?(t.removeEntry(p,_.readTime),d=d.insert(p,_)):!y.isValidDocument()||_.version.compareTo(y.version)>0||_.version.compareTo(y.version)===0&&y.hasPendingWrites?(t.addEntry(_),d=d.insert(p,_)):ct(fg,"Ignoring outdated watch update for ",p,". Current version:",y.version," Watch version:",_.version)})),{ks:d,qs:l}}))}function nx(s,t){const i=It(s);return i.persistence.runTransaction("Get next mutation batch","readonly",(r=>(t===void 0&&(t=tg),i.mutationQueue.getNextMutationBatchAfterBatchId(r,t))))}function ix(s,t){const i=It(s);return i.persistence.runTransaction("Allocate target","readwrite",(r=>{let l;return i.Pi.getTargetData(r,t).next((c=>c?(l=c,Z.resolve(l)):i.Pi.allocateTargetId(r).next((d=>(l=new pr(t,d,"TargetPurposeListen",r.currentSequenceNumber),i.Pi.addTargetData(r,l).next((()=>l)))))))})).then((r=>{const l=i.Ms.get(r.targetId);return(l===null||r.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(i.Ms=i.Ms.insert(r.targetId,r),i.xs.set(t,r.targetId)),r}))}async function Mm(s,t,i){const r=It(s),l=r.Ms.get(t),c=i?"readwrite":"readwrite-primary";try{i||await r.persistence.runTransaction("Release target",c,(d=>r.persistence.referenceDelegate.removeTarget(d,l)))}catch(d){if(!jo(d))throw d;ct(fg,`Failed to update sequence numbers for target ${t}: ${d}`)}r.Ms=r.Ms.remove(t),r.xs.delete(l.target)}function w0(s,t,i){const r=It(s);let l=St.min(),c=Ht();return r.persistence.runTransaction("Execute query","readwrite",(d=>(function(_,y,A){const b=It(_),N=b.xs.get(A);return N!==void 0?Z.resolve(b.Ms.get(N)):b.Pi.getTargetData(y,A)})(r,d,Ki(t)).next((p=>{if(p)return l=p.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(d,p.targetId).next((_=>{c=_}))})).next((()=>r.Fs.getDocumentsMatchingQuery(d,t,i?l:St.min(),i?c:Ht()))).next((p=>(sx(r,Q2(t),p),{documents:p,Qs:c})))))}function sx(s,t,i){let r=s.Os.get(t)||St.min();i.forEach(((l,c)=>{c.readTime.compareTo(r)>0&&(r=c.readTime)})),s.Os.set(t,r)}class R0{constructor(){this.activeTargetIds=J2()}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class rx{constructor(){this.Mo=new R0,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,i,r){}addLocalQueryTarget(t,i=!0){return i&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,i,r){this.xo[t]=i}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new R0,Promise.resolve()}handleUserChange(t,i,r){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ax{Oo(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I0="ConnectivityMonitor";class x0{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ct(I0,"Network connectivity changed: AVAILABLE");for(const t of this.qo)t(0)}ko(){ct(I0,"Network connectivity changed: UNAVAILABLE");for(const t of this.qo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Wc=null;function Om(){return Wc===null?Wc=(function(){return 268435456+Math.round(2147483648*Math.random())})():Wc++,"0x"+Wc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const um="RestConnection",ox={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class lx{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const i=t.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.Uo=i+"://"+t.host,this.Ko=`projects/${r}/databases/${l}`,this.Wo=this.databaseId.database===Th?`project_id=${r}`:`project_id=${r}&database_id=${l}`}Go(t,i,r,l,c){const d=Om(),p=this.zo(t,i.toUriEncodedString());ct(um,`Sending RPC '${t}' ${d}:`,p,r);const _={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(_,l,c);const{host:y}=new URL(p),A=Vo(y);return this.Jo(t,p,_,r,A).then((b=>(ct(um,`Received RPC '${t}' ${d}: `,b),b)),(b=>{throw xo(um,`RPC '${t}' ${d} failed with error: `,b,"url: ",p,"request:",r),b}))}Ho(t,i,r,l,c,d){return this.Go(t,i,r,l,c)}jo(t,i,r){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+ko})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((l,c)=>t[c]=l)),r&&r.headers.forEach(((l,c)=>t[c]=l))}zo(t,i){const r=ox[t];return`${this.Uo}/v1/${i}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ux{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mn="WebChannelConnection";class cx extends lx{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,i,r,l,c){const d=Om();return new Promise(((p,_)=>{const y=new zE;y.setWithCredentials(!0),y.listenOnce(BE.COMPLETE,(()=>{try{switch(y.getLastErrorCode()){case ah.NO_ERROR:const b=y.getResponseJson();ct(mn,`XHR for RPC '${t}' ${d} received:`,JSON.stringify(b)),p(b);break;case ah.TIMEOUT:ct(mn,`RPC '${t}' ${d} timed out`),_(new lt(K.DEADLINE_EXCEEDED,"Request time out"));break;case ah.HTTP_ERROR:const N=y.getStatus();if(ct(mn,`RPC '${t}' ${d} failed with status:`,N,"response text:",y.getResponseText()),N>0){let Y=y.getResponseJson();Array.isArray(Y)&&(Y=Y[0]);const et=Y?.error;if(et&&et.status&&et.message){const ut=(function(yt){const wt=yt.toLowerCase().replace(/_/g,"-");return Object.values(K).indexOf(wt)>=0?wt:K.UNKNOWN})(et.status);_(new lt(ut,et.message))}else _(new lt(K.UNKNOWN,"Server responded with status "+y.getStatus()))}else _(new lt(K.UNAVAILABLE,"Connection failed."));break;default:_t(9055,{l_:t,streamId:d,h_:y.getLastErrorCode(),P_:y.getLastError()})}}finally{ct(mn,`RPC '${t}' ${d} completed.`)}}));const A=JSON.stringify(l);ct(mn,`RPC '${t}' ${d} sending request:`,l),y.send(i,"POST",A,r,15)}))}T_(t,i,r){const l=Om(),c=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],d=FE(),p=HE(),_={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(_.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(_.useFetchStreams=!0),this.jo(_.initMessageHeaders,i,r),_.encodeInitMessageHeaders=!0;const A=c.join("");ct(mn,`Creating RPC '${t}' stream ${l}: ${A}`,_);const b=d.createWebChannel(A,_);this.I_(b);let N=!1,Y=!1;const et=new ux({Yo:nt=>{Y?ct(mn,`Not sending because RPC '${t}' stream ${l} is closed:`,nt):(N||(ct(mn,`Opening RPC '${t}' stream ${l} transport.`),b.open(),N=!0),ct(mn,`RPC '${t}' stream ${l} sending:`,nt),b.send(nt))},Zo:()=>b.close()}),ut=(nt,yt,wt)=>{nt.listen(yt,(Tt=>{try{wt(Tt)}catch($t){setTimeout((()=>{throw $t}),0)}}))};return ut(b,Gl.EventType.OPEN,(()=>{Y||(ct(mn,`RPC '${t}' stream ${l} transport opened.`),et.o_())})),ut(b,Gl.EventType.CLOSE,(()=>{Y||(Y=!0,ct(mn,`RPC '${t}' stream ${l} transport closed`),et.a_(),this.E_(b))})),ut(b,Gl.EventType.ERROR,(nt=>{Y||(Y=!0,xo(mn,`RPC '${t}' stream ${l} transport errored. Name:`,nt.name,"Message:",nt.message),et.a_(new lt(K.UNAVAILABLE,"The operation could not be completed")))})),ut(b,Gl.EventType.MESSAGE,(nt=>{if(!Y){const yt=nt.data[0];Xt(!!yt,16349);const wt=yt,Tt=wt?.error||wt[0]?.error;if(Tt){ct(mn,`RPC '${t}' stream ${l} received error:`,Tt);const $t=Tt.status;let ne=(function(w){const I=He[w];if(I!==void 0)return xT(I)})($t),Ft=Tt.message;ne===void 0&&(ne=K.INTERNAL,Ft="Unknown error status: "+$t+" with message "+Tt.message),Y=!0,et.a_(new lt(ne,Ft)),b.close()}else ct(mn,`RPC '${t}' stream ${l} received:`,yt),et.u_(yt)}})),ut(p,qE.STAT_EVENT,(nt=>{nt.stat===Tm.PROXY?ct(mn,`RPC '${t}' stream ${l} detected buffering proxy`):nt.stat===Tm.NOPROXY&&ct(mn,`RPC '${t}' stream ${l} detected no buffering proxy`)})),setTimeout((()=>{et.__()}),0),et}terminate(){this.c_.forEach((t=>t.close())),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter((i=>i===t))}}function cm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qh(s){return new mI(s,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dg{constructor(t,i,r=1e3,l=1.5,c=6e4){this.Mi=t,this.timerId=i,this.d_=r,this.A_=l,this.R_=c,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const i=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),l=Math.max(0,i-r);l>0&&ct("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.V_} ms, delay with jitter: ${i} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,l,(()=>(this.f_=Date.now(),t()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C0="PersistentStream";class HT{constructor(t,i,r,l,c,d,p,_){this.Mi=t,this.S_=r,this.b_=l,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=p,this.listener=_,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new dg(t,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(t){this.Q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,i){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():i&&i.code===K.RESOURCE_EXHAUSTED?(Ns(i.toString()),Ns("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===K.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.r_(i)}K_(){}auth(){this.state=1;const t=this.W_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,l])=>{this.D_===i&&this.G_(r,l)}),(r=>{t((()=>{const l=new lt(K.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(l)}))}))}G_(t,i){const r=this.W_(this.D_);this.stream=this.j_(t,i),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((l=>{r((()=>this.z_(l)))})),this.stream.onMessage((l=>{r((()=>++this.F_==1?this.J_(l):this.onNext(l)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return ct(C0,`close with error: ${t}`),this.stream=null,this.close(4,t)}W_(t){return i=>{this.Mi.enqueueAndForget((()=>this.D_===t?i():(ct(C0,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class hx extends HT{constructor(t,i,r,l,c,d){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,r,l,d),this.serializer=c}j_(t,i){return this.connection.T_("Listen",t,i)}J_(t){return this.onNext(t)}onNext(t){this.M_.reset();const i=_I(this.serializer,t),r=(function(c){if(!("targetChange"in c))return St.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?St.min():d.readTime?Gn(d.readTime):St.min()})(t);return this.listener.H_(i,r)}Y_(t){const i={};i.database=Dm(this.serializer),i.addTarget=(function(c,d){let p;const _=d.target;if(p=Rm(_)?{documents:EI(c,_)}:{query:TI(c,_).ft},p.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){p.resumeToken=DT(c,d.resumeToken);const y=Cm(c,d.expectedCount);y!==null&&(p.expectedCount=y)}else if(d.snapshotVersion.compareTo(St.min())>0){p.readTime=bh(c,d.snapshotVersion.toTimestamp());const y=Cm(c,d.expectedCount);y!==null&&(p.expectedCount=y)}return p})(this.serializer,t);const r=SI(this.serializer,t);r&&(i.labels=r),this.q_(i)}Z_(t){const i={};i.database=Dm(this.serializer),i.removeTarget=t,this.q_(i)}}class fx extends HT{constructor(t,i,r,l,c,d){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,r,l,d),this.serializer=c}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(t,i){return this.connection.T_("Write",t,i)}J_(t){return Xt(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Xt(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){Xt(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const i=vI(t.writeResults,t.commitTime),r=Gn(t.commitTime);return this.listener.na(r,i)}ra(){const t={};t.database=Dm(this.serializer),this.q_(t)}ea(t){const i={streamToken:this.lastStreamToken,writes:t.map((r=>UT(this.serializer,r)))};this.q_(i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dx{}class mx extends dx{constructor(t,i,r,l){super(),this.authCredentials=t,this.appCheckCredentials=i,this.connection=r,this.serializer=l,this.ia=!1}sa(){if(this.ia)throw new lt(K.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,i,r,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Go(t,Nm(i,r),l,c,d))).catch((c=>{throw c.name==="FirebaseError"?(c.code===K.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new lt(K.UNKNOWN,c.toString())}))}Ho(t,i,r,l,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,p])=>this.connection.Ho(t,Nm(i,r),l,d,p,c))).catch((d=>{throw d.name==="FirebaseError"?(d.code===K.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new lt(K.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class gx{constructor(t,i){this.asyncQueue=t,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const i=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Ns(i),this.aa=!1):ct("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _a="RemoteStore";class px{constructor(t,i,r,l,c){this.localStore=t,this.datastore=i,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=c,this.Aa.Oo((d=>{r.enqueueAndForget((async()=>{Ea(this)&&(ct(_a,"Restarting streams for network reachability change."),await(async function(_){const y=It(_);y.Ea.add(4),await Au(y),y.Ra.set("Unknown"),y.Ea.delete(4),await Yh(y)})(this))}))})),this.Ra=new gx(r,l)}}async function Yh(s){if(Ea(s))for(const t of s.da)await t(!0)}async function Au(s){for(const t of s.da)await t(!1)}function FT(s,t){const i=It(s);i.Ia.has(t.targetId)||(i.Ia.set(t.targetId,t),yg(i)?pg(i):Bo(i).O_()&&gg(i,t))}function mg(s,t){const i=It(s),r=Bo(i);i.Ia.delete(t),r.O_()&&GT(i,t),i.Ia.size===0&&(r.O_()?r.L_():Ea(i)&&i.Ra.set("Unknown"))}function gg(s,t){if(s.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(St.min())>0){const i=s.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(i)}Bo(s).Y_(t)}function GT(s,t){s.Va.Ue(t),Bo(s).Z_(t)}function pg(s){s.Va=new cI({getRemoteKeysForTarget:t=>s.remoteSyncer.getRemoteKeysForTarget(t),At:t=>s.Ia.get(t)||null,ht:()=>s.datastore.serializer.databaseId}),Bo(s).start(),s.Ra.ua()}function yg(s){return Ea(s)&&!Bo(s).x_()&&s.Ia.size>0}function Ea(s){return It(s).Ea.size===0}function QT(s){s.Va=void 0}async function yx(s){s.Ra.set("Online")}async function _x(s){s.Ia.forEach(((t,i)=>{gg(s,t)}))}async function vx(s,t){QT(s),yg(s)?(s.Ra.ha(t),pg(s)):s.Ra.set("Unknown")}async function Ex(s,t,i){if(s.Ra.set("Online"),t instanceof NT&&t.state===2&&t.cause)try{await(async function(l,c){const d=c.cause;for(const p of c.targetIds)l.Ia.has(p)&&(await l.remoteSyncer.rejectListen(p,d),l.Ia.delete(p),l.Va.removeTarget(p))})(s,t)}catch(r){ct(_a,"Failed to remove targets %s: %s ",t.targetIds.join(","),r),await Ih(s,r)}else if(t instanceof ch?s.Va.Ze(t):t instanceof CT?s.Va.st(t):s.Va.tt(t),!i.isEqual(St.min()))try{const r=await qT(s.localStore);i.compareTo(r)>=0&&await(function(c,d){const p=c.Va.Tt(d);return p.targetChanges.forEach(((_,y)=>{if(_.resumeToken.approximateByteSize()>0){const A=c.Ia.get(y);A&&c.Ia.set(y,A.withResumeToken(_.resumeToken,d))}})),p.targetMismatches.forEach(((_,y)=>{const A=c.Ia.get(_);if(!A)return;c.Ia.set(_,A.withResumeToken(hn.EMPTY_BYTE_STRING,A.snapshotVersion)),GT(c,_);const b=new pr(A.target,_,y,A.sequenceNumber);gg(c,b)})),c.remoteSyncer.applyRemoteEvent(p)})(s,i)}catch(r){ct(_a,"Failed to raise snapshot:",r),await Ih(s,r)}}async function Ih(s,t,i){if(!jo(t))throw t;s.Ea.add(1),await Au(s),s.Ra.set("Offline"),i||(i=()=>qT(s.localStore)),s.asyncQueue.enqueueRetryable((async()=>{ct(_a,"Retrying IndexedDB access"),await i(),s.Ea.delete(1),await Yh(s)}))}function YT(s,t){return t().catch((i=>Ih(s,i,t)))}async function Kh(s){const t=It(s),i=Ir(t);let r=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:tg;for(;Tx(t);)try{const l=await nx(t.localStore,r);if(l===null){t.Ta.length===0&&i.L_();break}r=l.batchId,Ax(t,l)}catch(l){await Ih(t,l)}KT(t)&&XT(t)}function Tx(s){return Ea(s)&&s.Ta.length<10}function Ax(s,t){s.Ta.push(t);const i=Ir(s);i.O_()&&i.X_&&i.ea(t.mutations)}function KT(s){return Ea(s)&&!Ir(s).x_()&&s.Ta.length>0}function XT(s){Ir(s).start()}async function Sx(s){Ir(s).ra()}async function bx(s){const t=Ir(s);for(const i of s.Ta)t.ea(i.mutations)}async function wx(s,t,i){const r=s.Ta.shift(),l=ag.from(r,t,i);await YT(s,(()=>s.remoteSyncer.applySuccessfulWrite(l))),await Kh(s)}async function Rx(s,t){t&&Ir(s).X_&&await(async function(r,l){if((function(d){return IT(d)&&d!==K.ABORTED})(l.code)){const c=r.Ta.shift();Ir(r).B_(),await YT(r,(()=>r.remoteSyncer.rejectFailedWrite(c.batchId,l))),await Kh(r)}})(s,t),KT(s)&&XT(s)}async function N0(s,t){const i=It(s);i.asyncQueue.verifyOperationInProgress(),ct(_a,"RemoteStore received new credentials");const r=Ea(i);i.Ea.add(3),await Au(i),r&&i.Ra.set("Unknown"),await i.remoteSyncer.handleCredentialChange(t),i.Ea.delete(3),await Yh(i)}async function Ix(s,t){const i=It(s);t?(i.Ea.delete(2),await Yh(i)):t||(i.Ea.add(2),await Au(i),i.Ra.set("Unknown"))}function Bo(s){return s.ma||(s.ma=(function(i,r,l){const c=It(i);return c.sa(),new hx(r,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(s.datastore,s.asyncQueue,{Xo:yx.bind(null,s),t_:_x.bind(null,s),r_:vx.bind(null,s),H_:Ex.bind(null,s)}),s.da.push((async t=>{t?(s.ma.B_(),yg(s)?pg(s):s.Ra.set("Unknown")):(await s.ma.stop(),QT(s))}))),s.ma}function Ir(s){return s.fa||(s.fa=(function(i,r,l){const c=It(i);return c.sa(),new fx(r,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(s.datastore,s.asyncQueue,{Xo:()=>Promise.resolve(),t_:Sx.bind(null,s),r_:Rx.bind(null,s),ta:bx.bind(null,s),na:wx.bind(null,s)}),s.da.push((async t=>{t?(s.fa.B_(),await Kh(s)):(await s.fa.stop(),s.Ta.length>0&&(ct(_a,`Stopping write stream with ${s.Ta.length} pending writes`),s.Ta=[]))}))),s.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _g{constructor(t,i,r,l,c){this.asyncQueue=t,this.timerId=i,this.targetTimeMs=r,this.op=l,this.removalCallback=c,this.deferred=new Yi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,i,r,l,c){const d=Date.now()+r,p=new _g(t,i,d,l,c);return p.start(r),p}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new lt(K.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function vg(s,t){if(Ns("AsyncQueue",`${t}: ${s}`),jo(s))return new lt(K.UNAVAILABLE,`${t}: ${s}`);throw s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wo{static emptySet(t){return new wo(t.comparator)}constructor(t){this.comparator=t?(i,r)=>t(i,r)||mt.comparator(i.key,r.key):(i,r)=>mt.comparator(i.key,r.key),this.keyedMap=Ql(),this.sortedSet=new Re(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const i=this.keyedMap.get(t);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((i,r)=>(t(i),!1)))}add(t){const i=this.delete(t.key);return i.copy(i.keyedMap.insert(t.key,t),i.sortedSet.insert(t,null))}delete(t){const i=this.get(t);return i?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(i)):this}isEqual(t){if(!(t instanceof wo)||this.size!==t.size)return!1;const i=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=r.getNext().key;if(!l.isEqual(c))return!1}return!0}toString(){const t=[];return this.forEach((i=>{t.push(i.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,i){const r=new wo;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=i,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D0{constructor(){this.ga=new Re(mt.comparator)}track(t){const i=t.doc.key,r=this.ga.get(i);r?t.type!==0&&r.type===3?this.ga=this.ga.insert(i,t):t.type===3&&r.type!==1?this.ga=this.ga.insert(i,{type:r.type,doc:t.doc}):t.type===2&&r.type===2?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):t.type===2&&r.type===0?this.ga=this.ga.insert(i,{type:0,doc:t.doc}):t.type===1&&r.type===0?this.ga=this.ga.remove(i):t.type===1&&r.type===2?this.ga=this.ga.insert(i,{type:1,doc:r.doc}):t.type===0&&r.type===1?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):_t(63341,{Rt:t,pa:r}):this.ga=this.ga.insert(i,t)}ya(){const t=[];return this.ga.inorderTraversal(((i,r)=>{t.push(r)})),t}}class Oo{constructor(t,i,r,l,c,d,p,_,y){this.query=t,this.docs=i,this.oldDocs=r,this.docChanges=l,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=p,this.excludesMetadataChanges=_,this.hasCachedResults=y}static fromInitialDocuments(t,i,r,l,c){const d=[];return i.forEach((p=>{d.push({type:0,doc:p})})),new Oo(t,i,wo.emptySet(i),d,r,l,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&zh(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const i=this.docChanges,r=t.docChanges;if(i.length!==r.length)return!1;for(let l=0;l<i.length;l++)if(i[l].type!==r[l].type||!i[l].doc.isEqual(r[l].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xx{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((t=>t.Da()))}}class Cx{constructor(){this.queries=M0(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,r){const l=It(i),c=l.queries;l.queries=M0(),c.forEach(((d,p)=>{for(const _ of p.Sa)_.onError(r)}))})(this,new lt(K.ABORTED,"Firestore shutting down"))}}function M0(){return new va((s=>fT(s)),zh)}async function Eg(s,t){const i=It(s);let r=3;const l=t.query;let c=i.queries.get(l);c?!c.ba()&&t.Da()&&(r=2):(c=new xx,r=t.Da()?0:1);try{switch(r){case 0:c.wa=await i.onListen(l,!0);break;case 1:c.wa=await i.onListen(l,!1);break;case 2:await i.onFirstRemoteStoreListen(l)}}catch(d){const p=vg(d,`Initialization of query '${_o(t.query)}' failed`);return void t.onError(p)}i.queries.set(l,c),c.Sa.push(t),t.va(i.onlineState),c.wa&&t.Fa(c.wa)&&Ag(i)}async function Tg(s,t){const i=It(s),r=t.query;let l=3;const c=i.queries.get(r);if(c){const d=c.Sa.indexOf(t);d>=0&&(c.Sa.splice(d,1),c.Sa.length===0?l=t.Da()?0:1:!c.ba()&&t.Da()&&(l=2))}switch(l){case 0:return i.queries.delete(r),i.onUnlisten(r,!0);case 1:return i.queries.delete(r),i.onUnlisten(r,!1);case 2:return i.onLastRemoteStoreUnlisten(r);default:return}}function Nx(s,t){const i=It(s);let r=!1;for(const l of t){const c=l.query,d=i.queries.get(c);if(d){for(const p of d.Sa)p.Fa(l)&&(r=!0);d.wa=l}}r&&Ag(i)}function Dx(s,t,i){const r=It(s),l=r.queries.get(t);if(l)for(const c of l.Sa)c.onError(i);r.queries.delete(t)}function Ag(s){s.Ca.forEach((t=>{t.next()}))}var Vm,O0;(O0=Vm||(Vm={})).Ma="default",O0.Cache="cache";class Sg{constructor(t,i,r){this.query=t,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(t){if(!this.options.includeMetadataChanges){const r=[];for(const l of t.docChanges)l.type!==3&&r.push(l);t=new Oo(t.query,t.docs,t.oldDocs,r,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let i=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),i=!0):this.La(t,this.onlineState)&&(this.ka(t),i=!0),this.Na=t,i}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),i=!0),i}La(t,i){if(!t.fromCache||!this.Da())return!0;const r=i!=="Offline";return(!this.options.qa||!r)&&(!t.docs.isEmpty()||t.hasCachedResults||i==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(t){t=Oo.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==Vm.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $T{constructor(t){this.key=t}}class ZT{constructor(t){this.key=t}}class Mx{constructor(t,i){this.query=t,this.Ya=i,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Ht(),this.mutatedKeys=Ht(),this.eu=dT(t),this.tu=new wo(this.eu)}get nu(){return this.Ya}ru(t,i){const r=i?i.iu:new D0,l=i?i.tu:this.tu;let c=i?i.mutatedKeys:this.mutatedKeys,d=l,p=!1;const _=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,y=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(t.inorderTraversal(((A,b)=>{const N=l.get(A),Y=Bh(this.query,b)?b:null,et=!!N&&this.mutatedKeys.has(N.key),ut=!!Y&&(Y.hasLocalMutations||this.mutatedKeys.has(Y.key)&&Y.hasCommittedMutations);let nt=!1;N&&Y?N.data.isEqual(Y.data)?et!==ut&&(r.track({type:3,doc:Y}),nt=!0):this.su(N,Y)||(r.track({type:2,doc:Y}),nt=!0,(_&&this.eu(Y,_)>0||y&&this.eu(Y,y)<0)&&(p=!0)):!N&&Y?(r.track({type:0,doc:Y}),nt=!0):N&&!Y&&(r.track({type:1,doc:N}),nt=!0,(_||y)&&(p=!0)),nt&&(Y?(d=d.add(Y),c=ut?c.add(A):c.delete(A)):(d=d.delete(A),c=c.delete(A)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const A=this.query.limitType==="F"?d.last():d.first();d=d.delete(A.key),c=c.delete(A.key),r.track({type:1,doc:A})}return{tu:d,iu:r,Cs:p,mutatedKeys:c}}su(t,i){return t.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(t,i,r,l){const c=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const d=t.iu.ya();d.sort(((A,b)=>(function(Y,et){const ut=nt=>{switch(nt){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return _t(20277,{Rt:nt})}};return ut(Y)-ut(et)})(A.type,b.type)||this.eu(A.doc,b.doc))),this.ou(r),l=l??!1;const p=i&&!l?this._u():[],_=this.Xa.size===0&&this.current&&!l?1:0,y=_!==this.Za;return this.Za=_,d.length!==0||y?{snapshot:new Oo(this.query,t.tu,c,d,t.mutatedKeys,_===0,y,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:p}:{au:p}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new D0,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(t){return!this.Ya.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((i=>this.Ya=this.Ya.add(i))),t.modifiedDocuments.forEach((i=>{})),t.removedDocuments.forEach((i=>this.Ya=this.Ya.delete(i))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Xa;this.Xa=Ht(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const i=[];return t.forEach((r=>{this.Xa.has(r)||i.push(new ZT(r))})),this.Xa.forEach((r=>{t.has(r)||i.push(new $T(r))})),i}cu(t){this.Ya=t.Qs,this.Xa=Ht();const i=this.ru(t.documents);return this.applyChanges(i,!0)}lu(){return Oo.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const bg="SyncEngine";class Ox{constructor(t,i,r){this.query=t,this.targetId=i,this.view=r}}class Vx{constructor(t){this.key=t,this.hu=!1}}class Ux{constructor(t,i,r,l,c,d){this.localStore=t,this.remoteStore=i,this.eventManager=r,this.sharedClientState=l,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new va((p=>fT(p)),zh),this.Iu=new Map,this.Eu=new Set,this.du=new Re(mt.comparator),this.Au=new Map,this.Ru=new ug,this.Vu={},this.mu=new Map,this.fu=Mo.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function Lx(s,t,i=!0){const r=i1(s);let l;const c=r.Tu.get(t);return c?(r.sharedClientState.addLocalQueryTarget(c.targetId),l=c.view.lu()):l=await JT(r,t,i,!0),l}async function kx(s,t){const i=i1(s);await JT(i,t,!0,!1)}async function JT(s,t,i,r){const l=await ix(s.localStore,Ki(t)),c=l.targetId,d=s.sharedClientState.addLocalQueryTarget(c,i);let p;return r&&(p=await Px(s,t,c,d==="current",l.resumeToken)),s.isPrimaryClient&&i&&FT(s.remoteStore,l),p}async function Px(s,t,i,r,l){s.pu=(b,N,Y)=>(async function(ut,nt,yt,wt){let Tt=nt.view.ru(yt);Tt.Cs&&(Tt=await w0(ut.localStore,nt.query,!1).then((({documents:C})=>nt.view.ru(C,Tt))));const $t=wt&&wt.targetChanges.get(nt.targetId),ne=wt&&wt.targetMismatches.get(nt.targetId)!=null,Ft=nt.view.applyChanges(Tt,ut.isPrimaryClient,$t,ne);return U0(ut,nt.targetId,Ft.au),Ft.snapshot})(s,b,N,Y);const c=await w0(s.localStore,t,!0),d=new Mx(t,c.Qs),p=d.ru(c.documents),_=Tu.createSynthesizedTargetChangeForCurrentChange(i,r&&s.onlineState!=="Offline",l),y=d.applyChanges(p,s.isPrimaryClient,_);U0(s,i,y.au);const A=new Ox(t,i,d);return s.Tu.set(t,A),s.Iu.has(i)?s.Iu.get(i).push(t):s.Iu.set(i,[t]),y.snapshot}async function jx(s,t,i){const r=It(s),l=r.Tu.get(t),c=r.Iu.get(l.targetId);if(c.length>1)return r.Iu.set(l.targetId,c.filter((d=>!zh(d,t)))),void r.Tu.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(l.targetId),r.sharedClientState.isActiveQueryTarget(l.targetId)||await Mm(r.localStore,l.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(l.targetId),i&&mg(r.remoteStore,l.targetId),Um(r,l.targetId)})).catch(Po)):(Um(r,l.targetId),await Mm(r.localStore,l.targetId,!0))}async function zx(s,t){const i=It(s),r=i.Tu.get(t),l=i.Iu.get(r.targetId);i.isPrimaryClient&&l.length===1&&(i.sharedClientState.removeLocalQueryTarget(r.targetId),mg(i.remoteStore,r.targetId))}async function Bx(s,t,i){const r=Kx(s);try{const l=await(function(d,p){const _=It(d),y=Te.now(),A=p.reduce(((Y,et)=>Y.add(et.key)),Ht());let b,N;return _.persistence.runTransaction("Locally write mutations","readwrite",(Y=>{let et=Ds(),ut=Ht();return _.Ns.getEntries(Y,A).next((nt=>{et=nt,et.forEach(((yt,wt)=>{wt.isValidDocument()||(ut=ut.add(yt))}))})).next((()=>_.localDocuments.getOverlayedDocuments(Y,et))).next((nt=>{b=nt;const yt=[];for(const wt of p){const Tt=sI(wt,b.get(wt.key).overlayedDocument);Tt!=null&&yt.push(new Dr(wt.key,Tt,sT(Tt.value.mapValue),cn.exists(!0)))}return _.mutationQueue.addMutationBatch(Y,y,yt,p)})).next((nt=>{N=nt;const yt=nt.applyToLocalDocumentSet(b,ut);return _.documentOverlayCache.saveOverlays(Y,nt.batchId,yt)}))})).then((()=>({batchId:N.batchId,changes:gT(b)})))})(r.localStore,t);r.sharedClientState.addPendingMutation(l.batchId),(function(d,p,_){let y=d.Vu[d.currentUser.toKey()];y||(y=new Re(qt)),y=y.insert(p,_),d.Vu[d.currentUser.toKey()]=y})(r,l.batchId,i),await Su(r,l.changes),await Kh(r.remoteStore)}catch(l){const c=vg(l,"Failed to persist write");i.reject(c)}}async function WT(s,t){const i=It(s);try{const r=await tx(i.localStore,t);t.targetChanges.forEach(((l,c)=>{const d=i.Au.get(c);d&&(Xt(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1,22616),l.addedDocuments.size>0?d.hu=!0:l.modifiedDocuments.size>0?Xt(d.hu,14607):l.removedDocuments.size>0&&(Xt(d.hu,42227),d.hu=!1))})),await Su(i,r,t)}catch(r){await Po(r)}}function V0(s,t,i){const r=It(s);if(r.isPrimaryClient&&i===0||!r.isPrimaryClient&&i===1){const l=[];r.Tu.forEach(((c,d)=>{const p=d.view.va(t);p.snapshot&&l.push(p.snapshot)})),(function(d,p){const _=It(d);_.onlineState=p;let y=!1;_.queries.forEach(((A,b)=>{for(const N of b.Sa)N.va(p)&&(y=!0)})),y&&Ag(_)})(r.eventManager,t),l.length&&r.Pu.H_(l),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function qx(s,t,i){const r=It(s);r.sharedClientState.updateQueryState(t,"rejected",i);const l=r.Au.get(t),c=l&&l.key;if(c){let d=new Re(mt.comparator);d=d.insert(c,tn.newNoDocument(c,St.min()));const p=Ht().add(c),_=new Gh(St.min(),new Map,new Re(qt),d,p);await WT(r,_),r.du=r.du.remove(c),r.Au.delete(t),wg(r)}else await Mm(r.localStore,t,!1).then((()=>Um(r,t,i))).catch(Po)}async function Hx(s,t){const i=It(s),r=t.batch.batchId;try{const l=await WI(i.localStore,t);e1(i,r,null),t1(i,r),i.sharedClientState.updateMutationState(r,"acknowledged"),await Su(i,l)}catch(l){await Po(l)}}async function Fx(s,t,i){const r=It(s);try{const l=await(function(d,p){const _=It(d);return _.persistence.runTransaction("Reject batch","readwrite-primary",(y=>{let A;return _.mutationQueue.lookupMutationBatch(y,p).next((b=>(Xt(b!==null,37113),A=b.keys(),_.mutationQueue.removeMutationBatch(y,b)))).next((()=>_.mutationQueue.performConsistencyCheck(y))).next((()=>_.documentOverlayCache.removeOverlaysForBatchId(y,A,p))).next((()=>_.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,A))).next((()=>_.localDocuments.getDocuments(y,A)))}))})(r.localStore,t);e1(r,t,i),t1(r,t),r.sharedClientState.updateMutationState(t,"rejected",i),await Su(r,l)}catch(l){await Po(l)}}function t1(s,t){(s.mu.get(t)||[]).forEach((i=>{i.resolve()})),s.mu.delete(t)}function e1(s,t,i){const r=It(s);let l=r.Vu[r.currentUser.toKey()];if(l){const c=l.get(t);c&&(i?c.reject(i):c.resolve(),l=l.remove(t)),r.Vu[r.currentUser.toKey()]=l}}function Um(s,t,i=null){s.sharedClientState.removeLocalQueryTarget(t);for(const r of s.Iu.get(t))s.Tu.delete(r),i&&s.Pu.yu(r,i);s.Iu.delete(t),s.isPrimaryClient&&s.Ru.jr(t).forEach((r=>{s.Ru.containsKey(r)||n1(s,r)}))}function n1(s,t){s.Eu.delete(t.path.canonicalString());const i=s.du.get(t);i!==null&&(mg(s.remoteStore,i),s.du=s.du.remove(t),s.Au.delete(i),wg(s))}function U0(s,t,i){for(const r of i)r instanceof $T?(s.Ru.addReference(r.key,t),Gx(s,r)):r instanceof ZT?(ct(bg,"Document no longer in limbo: "+r.key),s.Ru.removeReference(r.key,t),s.Ru.containsKey(r.key)||n1(s,r.key)):_t(19791,{wu:r})}function Gx(s,t){const i=t.key,r=i.path.canonicalString();s.du.get(i)||s.Eu.has(r)||(ct(bg,"New document in limbo: "+i),s.Eu.add(r),wg(s))}function wg(s){for(;s.Eu.size>0&&s.du.size<s.maxConcurrentLimboResolutions;){const t=s.Eu.values().next().value;s.Eu.delete(t);const i=new mt(fe.fromString(t)),r=s.fu.next();s.Au.set(r,new Vx(i)),s.du=s.du.insert(i,r),FT(s.remoteStore,new pr(Ki(jh(i.path)),r,"TargetPurposeLimboResolution",kh.ce))}}async function Su(s,t,i){const r=It(s),l=[],c=[],d=[];r.Tu.isEmpty()||(r.Tu.forEach(((p,_)=>{d.push(r.pu(_,t,i).then((y=>{if((y||i)&&r.isPrimaryClient){const A=y?!y.fromCache:i?.targetChanges.get(_.targetId)?.current;r.sharedClientState.updateQueryState(_.targetId,A?"current":"not-current")}if(y){l.push(y);const A=hg.As(_.targetId,y);c.push(A)}})))})),await Promise.all(d),r.Pu.H_(l),await(async function(_,y){const A=It(_);try{await A.persistence.runTransaction("notifyLocalViewChanges","readwrite",(b=>Z.forEach(y,(N=>Z.forEach(N.Es,(Y=>A.persistence.referenceDelegate.addReference(b,N.targetId,Y))).next((()=>Z.forEach(N.ds,(Y=>A.persistence.referenceDelegate.removeReference(b,N.targetId,Y)))))))))}catch(b){if(!jo(b))throw b;ct(fg,"Failed to update sequence numbers: "+b)}for(const b of y){const N=b.targetId;if(!b.fromCache){const Y=A.Ms.get(N),et=Y.snapshotVersion,ut=Y.withLastLimboFreeSnapshotVersion(et);A.Ms=A.Ms.insert(N,ut)}}})(r.localStore,c))}async function Qx(s,t){const i=It(s);if(!i.currentUser.isEqual(t)){ct(bg,"User change. New user:",t.toKey());const r=await BT(i.localStore,t);i.currentUser=t,(function(c,d){c.mu.forEach((p=>{p.forEach((_=>{_.reject(new lt(K.CANCELLED,d))}))})),c.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(t,r.removedBatchIds,r.addedBatchIds),await Su(i,r.Ls)}}function Yx(s,t){const i=It(s),r=i.Au.get(t);if(r&&r.hu)return Ht().add(r.key);{let l=Ht();const c=i.Iu.get(t);if(!c)return l;for(const d of c){const p=i.Tu.get(d);l=l.unionWith(p.view.nu)}return l}}function i1(s){const t=It(s);return t.remoteStore.remoteSyncer.applyRemoteEvent=WT.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=Yx.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=qx.bind(null,t),t.Pu.H_=Nx.bind(null,t.eventManager),t.Pu.yu=Dx.bind(null,t.eventManager),t}function Kx(s){const t=It(s);return t.remoteStore.remoteSyncer.applySuccessfulWrite=Hx.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=Fx.bind(null,t),t}class xh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=Qh(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,i){return null}Mu(t,i){return null}vu(t){return JI(this.persistence,new XI,t.initialUser,this.serializer)}Cu(t){return new zT(cg.mi,this.serializer)}Du(t){return new rx}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}xh.provider={build:()=>new xh};class Xx extends xh{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,i){Xt(this.persistence.referenceDelegate instanceof Rh,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new VI(r,t.asyncQueue,i)}Cu(t){const i=this.cacheSizeBytes!==void 0?Dn.withCacheSize(this.cacheSizeBytes):Dn.DEFAULT;return new zT((r=>Rh.mi(r,i)),this.serializer)}}class Lm{async initialize(t,i){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>V0(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=Qx.bind(null,this.syncEngine),await Ix(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new Cx})()}createDatastore(t){const i=Qh(t.databaseInfo.databaseId),r=(function(c){return new cx(c)})(t.databaseInfo);return(function(c,d,p,_){return new mx(c,d,p,_)})(t.authCredentials,t.appCheckCredentials,r,i)}createRemoteStore(t){return(function(r,l,c,d,p){return new px(r,l,c,d,p)})(this.localStore,this.datastore,t.asyncQueue,(i=>V0(this.syncEngine,i,0)),(function(){return x0.v()?new x0:new ax})())}createSyncEngine(t,i){return(function(l,c,d,p,_,y,A){const b=new Ux(l,c,d,p,_,y);return A&&(b.gu=!0),b})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const r=It(i);ct(_a,"RemoteStore shutting down."),r.Ea.add(5),await Au(r),r.Aa.shutdown(),r.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Lm.provider={build:()=>new Lm};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rg{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):Ns("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,i){setTimeout((()=>{this.muted||t(i)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $x{constructor(t){this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}async lookup(t){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw this.lastTransactionError=new lt(K.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),this.lastTransactionError;const i=await(async function(l,c){const d=It(l),p={documents:c.map((b=>wh(d.serializer,b)))},_=await d.Ho("BatchGetDocuments",d.serializer.databaseId,fe.emptyPath(),p,c.length),y=new Map;_.forEach((b=>{const N=yI(d.serializer,b);y.set(N.key.toString(),N)}));const A=[];return c.forEach((b=>{const N=y.get(b.toString());Xt(!!N,55234,{key:b}),A.push(N)})),A})(this.datastore,t);return i.forEach((r=>this.recordVersion(r))),i}set(t,i){this.write(i.toMutation(t,this.precondition(t))),this.writtenDocs.add(t.toString())}update(t,i){try{this.write(i.toMutation(t,this.preconditionForUpdate(t)))}catch(r){this.lastTransactionError=r}this.writtenDocs.add(t.toString())}delete(t){this.write(new Fh(t,this.precondition(t))),this.writtenDocs.add(t.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastTransactionError)throw this.lastTransactionError;const t=this.readVersions;this.mutations.forEach((i=>{t.delete(i.key.toString())})),t.forEach(((i,r)=>{const l=mt.fromPath(r);this.mutations.push(new RT(l,this.precondition(l)))})),await(async function(r,l){const c=It(r),d={writes:l.map((p=>UT(c.serializer,p)))};await c.Go("Commit",c.serializer.databaseId,fe.emptyPath(),d)})(this.datastore,this.mutations),this.committed=!0}recordVersion(t){let i;if(t.isFoundDocument())i=t.version;else{if(!t.isNoDocument())throw _t(50498,{Gu:t.constructor.name});i=St.min()}const r=this.readVersions.get(t.key.toString());if(r){if(!i.isEqual(r))throw new lt(K.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(t.key.toString(),i)}precondition(t){const i=this.readVersions.get(t.toString());return!this.writtenDocs.has(t.toString())&&i?i.isEqual(St.min())?cn.exists(!1):cn.updateTime(i):cn.none()}preconditionForUpdate(t){const i=this.readVersions.get(t.toString());if(!this.writtenDocs.has(t.toString())&&i){if(i.isEqual(St.min()))throw new lt(K.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return cn.updateTime(i)}return cn.exists(!0)}write(t){this.ensureCommitNotCalled(),this.mutations.push(t)}ensureCommitNotCalled(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zx{constructor(t,i,r,l,c){this.asyncQueue=t,this.datastore=i,this.options=r,this.updateFunction=l,this.deferred=c,this.zu=r.maxAttempts,this.M_=new dg(this.asyncQueue,"transaction_retry")}ju(){this.zu-=1,this.Ju()}Ju(){this.M_.p_((async()=>{const t=new $x(this.datastore),i=this.Hu(t);i&&i.then((r=>{this.asyncQueue.enqueueAndForget((()=>t.commit().then((()=>{this.deferred.resolve(r)})).catch((l=>{this.Yu(l)}))))})).catch((r=>{this.Yu(r)}))}))}Hu(t){try{const i=this.updateFunction(t);return!vu(i)&&i.catch&&i.then?i:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(i){return this.deferred.reject(i),null}}Yu(t){this.zu>0&&this.Zu(t)?(this.zu-=1,this.asyncQueue.enqueueAndForget((()=>(this.Ju(),Promise.resolve())))):this.deferred.reject(t)}Zu(t){if(t?.name==="FirebaseError"){const i=t.code;return i==="aborted"||i==="failed-precondition"||i==="already-exists"||!IT(i)}return!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xr="FirestoreClient";class Jx{constructor(t,i,r,l,c){this.authCredentials=t,this.appCheckCredentials=i,this.asyncQueue=r,this.databaseInfo=l,this.user=gn.UNAUTHENTICATED,this.clientId=Wm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(r,(async d=>{ct(xr,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(r,(d=>(ct(xr,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Yi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(i){const r=vg(i,"Failed to shutdown persistence");t.reject(r)}})),t.promise}}async function hm(s,t){s.asyncQueue.verifyOperationInProgress(),ct(xr,"Initializing OfflineComponentProvider");const i=s.configuration;await t.initialize(i);let r=i.initialUser;s.setCredentialChangeListener((async l=>{r.isEqual(l)||(await BT(t.localStore,l),r=l)})),t.persistence.setDatabaseDeletedListener((()=>s.terminate())),s._offlineComponents=t}async function L0(s,t){s.asyncQueue.verifyOperationInProgress();const i=await Wx(s);ct(xr,"Initializing OnlineComponentProvider"),await t.initialize(i,s.configuration),s.setCredentialChangeListener((r=>N0(t.remoteStore,r))),s.setAppCheckTokenChangeListener(((r,l)=>N0(t.remoteStore,l))),s._onlineComponents=t}async function Wx(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){ct(xr,"Using user provided OfflineComponentProvider");try{await hm(s,s._uninitializedComponentsProvider._offline)}catch(t){const i=t;if(!(function(l){return l.name==="FirebaseError"?l.code===K.FAILED_PRECONDITION||l.code===K.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11})(i))throw i;xo("Error using user provided cache. Falling back to memory cache: "+i),await hm(s,new xh)}}else ct(xr,"Using default OfflineComponentProvider"),await hm(s,new Xx(void 0));return s._offlineComponents}async function Ig(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(ct(xr,"Using user provided OnlineComponentProvider"),await L0(s,s._uninitializedComponentsProvider._online)):(ct(xr,"Using default OnlineComponentProvider"),await L0(s,new Lm))),s._onlineComponents}function tC(s){return Ig(s).then((t=>t.syncEngine))}function eC(s){return Ig(s).then((t=>t.datastore))}async function Ch(s){const t=await Ig(s),i=t.eventManager;return i.onListen=Lx.bind(null,t.syncEngine),i.onUnlisten=jx.bind(null,t.syncEngine),i.onFirstRemoteStoreListen=kx.bind(null,t.syncEngine),i.onLastRemoteStoreUnlisten=zx.bind(null,t.syncEngine),i}function nC(s,t,i={}){const r=new Yi;return s.asyncQueue.enqueueAndForget((async()=>(function(c,d,p,_,y){const A=new Rg({next:N=>{A.Nu(),d.enqueueAndForget((()=>Tg(c,b)));const Y=N.docs.has(p);!Y&&N.fromCache?y.reject(new lt(K.UNAVAILABLE,"Failed to get document because the client is offline.")):Y&&N.fromCache&&_&&_.source==="server"?y.reject(new lt(K.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(N)},error:N=>y.reject(N)}),b=new Sg(jh(p.path),A,{includeMetadataChanges:!0,qa:!0});return Eg(c,b)})(await Ch(s),s.asyncQueue,t,i,r))),r.promise}function iC(s,t,i={}){const r=new Yi;return s.asyncQueue.enqueueAndForget((async()=>(function(c,d,p,_,y){const A=new Rg({next:N=>{A.Nu(),d.enqueueAndForget((()=>Tg(c,b))),N.fromCache&&_.source==="server"?y.reject(new lt(K.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):y.resolve(N)},error:N=>y.reject(N)}),b=new Sg(p,A,{includeMetadataChanges:!0,qa:!0});return Eg(c,b)})(await Ch(s),s.asyncQueue,t,i,r))),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s1(s){const t={};return s.timeoutSeconds!==void 0&&(t.timeoutSeconds=s.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k0=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r1="firestore.googleapis.com",P0=!0;class j0{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new lt(K.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=r1,this.ssl=P0}else this.host=t.host,this.ssl=t.ssl??P0;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=jT;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<MI)throw new lt(K.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}v2("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=s1(t.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new lt(K.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new lt(K.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new lt(K.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(r,l){return r.timeoutSeconds===l.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Xh{constructor(t,i,r,l){this._authCredentials=t,this._appCheckCredentials=i,this._databaseId=r,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new j0({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new lt(K.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new lt(K.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new j0(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new u2;switch(r.type){case"firstParty":return new d2(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new lt(K.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const r=k0.get(i);r&&(ct("ComponentProvider","Removing Datastore"),k0.delete(i),r.terminate())})(this),Promise.resolve()}}function sC(s,t,i,r={}){s=Tn(s,Xh);const l=Vo(t),c=s._getSettings(),d={...c,emulatorOptions:s._getEmulatorOptions()},p=`${t}:${i}`;l&&(eE(`https://${p}`),nE("Firestore",!0)),c.host!==r1&&c.host!==p&&xo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const _={...c,host:p,ssl:l,emulatorOptions:r};if(!ma(_,d)&&(s._setSettings(_),r.mockUserToken)){let y,A;if(typeof r.mockUserToken=="string")y=r.mockUserToken,A=gn.MOCK_USER;else{y=OS(r.mockUserToken,s._app?.options.projectId);const b=r.mockUserToken.sub||r.mockUserToken.user_id;if(!b)throw new lt(K.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");A=new gn(b)}s._authCredentials=new c2(new QE(y,A))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mr{constructor(t,i,r){this.converter=i,this._query=r,this.type="query",this.firestore=t}withConverter(t){return new Mr(this.firestore,t,this._query)}}class we{constructor(t,i,r){this.converter=i,this._key=r,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Tr(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new we(this.firestore,t,this._key)}toJSON(){return{type:we._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,i,r){if(_u(i,we._jsonSchema))return new we(t,r||null,new mt(fe.fromString(i.referencePath)))}}we._jsonSchemaVersion="firestore/documentReference/1.0",we._jsonSchema={type:Ge("string",we._jsonSchemaVersion),referencePath:Ge("string")};class Tr extends Mr{constructor(t,i,r){super(t,i,jh(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new we(this.firestore,null,new mt(t))}withConverter(t){return new Tr(this.firestore,t,this._path)}}function Hi(s,t,...i){if(s=Qe(s),YE("collection","path",t),s instanceof Xh){const r=fe.fromString(t,...i);return Jv(r),new Tr(s,null,r)}{if(!(s instanceof we||s instanceof Tr))throw new lt(K.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=s._path.child(fe.fromString(t,...i));return Jv(r),new Tr(s.firestore,null,r)}}function ye(s,t,...i){if(s=Qe(s),arguments.length===1&&(t=Wm.newId()),YE("doc","path",t),s instanceof Xh){const r=fe.fromString(t,...i);return Zv(r),new we(s,null,new mt(r))}{if(!(s instanceof we||s instanceof Tr))throw new lt(K.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=s._path.child(fe.fromString(t,...i));return Zv(r),new we(s.firestore,s instanceof Tr?s.converter:null,new mt(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z0="AsyncQueue";class B0{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new dg(this,"async_queue_retry"),this._c=()=>{const r=cm();r&&ct(z0,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=t;const i=cm();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const i=cm();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new Yi;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Xu.push(t),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!jo(t))throw t;ct(z0,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const i=this.ac.then((()=>(this.rc=!0,t().catch((r=>{throw this.nc=r,this.rc=!1,Ns("INTERNAL UNHANDLED ERROR: ",q0(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=i,i}enqueueAfterDelay(t,i,r){this.uc(),this.oc.indexOf(t)>-1&&(i=0);const l=_g.createAndSchedule(this,t,i,r,(c=>this.hc(c)));return this.tc.push(l),l}uc(){this.nc&&_t(47125,{Pc:q0(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const i of this.tc)if(i.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((i,r)=>i.targetTimeMs-r.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),t!=="all"&&i.timerId===t)break;return this.Tc()}))}dc(t){this.oc.push(t)}hc(t){const i=this.tc.indexOf(t);this.tc.splice(i,1)}}function q0(s){let t=s.message||"";return s.stack&&(t=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H0(s){return(function(i,r){if(typeof i!="object"||i===null)return!1;const l=i;for(const c of r)if(c in l&&typeof l[c]=="function")return!0;return!1})(s,["next","error","complete"])}class Wi extends Xh{constructor(t,i,r,l){super(t,i,r,l),this.type="firestore",this._queue=new B0,this._persistenceKey=l?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new B0(t),this._firestoreClient=void 0,await t}}}function rC(s,t){const i=typeof s=="object"?s:aE(),r=typeof s=="string"?s:Th,l=Bm(i,"firestore").getImmediate({identifier:r});if(!l._initialized){const c=DS("firestore");c&&sC(l,...c)}return l}function bu(s){if(s._terminated)throw new lt(K.FAILED_PRECONDITION,"The client has already been terminated.");return s._firestoreClient||aC(s),s._firestoreClient}function aC(s){const t=s._freezeSettings(),i=(function(l,c,d,p){return new N2(l,c,d,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,s1(p.experimentalLongPollingOptions),p.useFetchStreams,p.isUsingEmulator)})(s._databaseId,s._app?.options.appId||"",s._persistenceKey,t);s._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(s._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),s._firestoreClient=new Jx(s._authCredentials,s._appCheckCredentials,s._queue,i,s._componentsProvider&&(function(l){const c=l?._online.build();return{_offline:l?._offline.build(c),_online:c}})(s._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hn{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Hn(hn.fromBase64String(t))}catch(i){throw new lt(K.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(t){return new Hn(hn.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:Hn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(_u(t,Hn._jsonSchema))return Hn.fromBase64String(t.bytes)}}Hn._jsonSchemaVersion="firestore/bytes/1.0",Hn._jsonSchema={type:Ge("string",Hn._jsonSchemaVersion),bytes:Ge("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wu{constructor(...t){for(let i=0;i<t.length;++i)if(t[i].length===0)throw new lt(K.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new un(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ru{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xi{constructor(t,i){if(!isFinite(t)||t<-90||t>90)throw new lt(K.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(i)||i<-180||i>180)throw new lt(K.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=t,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return qt(this._lat,t._lat)||qt(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Xi._jsonSchemaVersion}}static fromJSON(t){if(_u(t,Xi._jsonSchema))return new Xi(t.latitude,t.longitude)}}Xi._jsonSchemaVersion="firestore/geoPoint/1.0",Xi._jsonSchema={type:Ge("string",Xi._jsonSchemaVersion),latitude:Ge("number"),longitude:Ge("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $i{constructor(t){this._values=(t||[]).map((i=>i))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(r,l){if(r.length!==l.length)return!1;for(let c=0;c<r.length;++c)if(r[c]!==l[c])return!1;return!0})(this._values,t._values)}toJSON(){return{type:$i._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(_u(t,$i._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((i=>typeof i=="number")))return new $i(t.vectorValues);throw new lt(K.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}$i._jsonSchemaVersion="firestore/vectorValue/1.0",$i._jsonSchema={type:Ge("string",$i._jsonSchemaVersion),vectorValues:Ge("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oC=/^__.*__$/;class lC{constructor(t,i,r){this.data=t,this.fieldMask=i,this.fieldTransforms=r}toMutation(t,i){return this.fieldMask!==null?new Dr(t,this.data,this.fieldMask,i,this.fieldTransforms):new Eu(t,this.data,i,this.fieldTransforms)}}class a1{constructor(t,i,r){this.data=t,this.fieldMask=i,this.fieldTransforms=r}toMutation(t,i){return new Dr(t,this.data,this.fieldMask,i,this.fieldTransforms)}}function o1(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw _t(40011,{Ac:s})}}class xg{constructor(t,i,r,l,c,d){this.settings=t,this.databaseId=i,this.serializer=r,this.ignoreUndefinedProperties=l,c===void 0&&this.Rc(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(t){return new xg({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(t){const i=this.path?.child(t),r=this.Vc({path:i,fc:!1});return r.gc(t),r}yc(t){const i=this.path?.child(t),r=this.Vc({path:i,fc:!1});return r.Rc(),r}wc(t){return this.Vc({path:void 0,fc:!0})}Sc(t){return Nh(t,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(t){return this.fieldMask.find((i=>t.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>t.isPrefixOf(i.field)))!==void 0}Rc(){if(this.path)for(let t=0;t<this.path.length;t++)this.gc(this.path.get(t))}gc(t){if(t.length===0)throw this.Sc("Document fields must not be empty");if(o1(this.Ac)&&oC.test(t))throw this.Sc('Document fields cannot begin and end with "__"')}}class uC{constructor(t,i,r){this.databaseId=t,this.ignoreUndefinedProperties=i,this.serializer=r||Qh(t)}Cc(t,i,r,l=!1){return new xg({Ac:t,methodName:i,Dc:r,path:un.emptyPath(),fc:!1,bc:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Iu(s){const t=s._freezeSettings(),i=Qh(s._databaseId);return new uC(s._databaseId,!!t.ignoreUndefinedProperties,i)}function Cg(s,t,i,r,l,c={}){const d=s.Cc(c.merge||c.mergeFields?2:0,t,i,l);Mg("Data must be an object, but it was:",d,r);const p=c1(r,d);let _,y;if(c.merge)_=new Fn(d.fieldMask),y=d.fieldTransforms;else if(c.mergeFields){const A=[];for(const b of c.mergeFields){const N=km(t,b,i);if(!d.contains(N))throw new lt(K.INVALID_ARGUMENT,`Field '${N}' is specified in your field mask but missing from your input data.`);f1(A,N)||A.push(N)}_=new Fn(A),y=d.fieldTransforms.filter((b=>_.covers(b.field)))}else _=null,y=d.fieldTransforms;return new lC(new En(p),_,y)}class $h extends Ru{_toFieldTransform(t){if(t.Ac!==2)throw t.Ac===1?t.Sc(`${this._methodName}() can only appear at the top level of your update data`):t.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof $h}}class Ng extends Ru{_toFieldTransform(t){return new ST(t.path,new uu)}isEqual(t){return t instanceof Ng}}class Dg extends Ru{constructor(t,i){super(t),this.Fc=i}_toFieldTransform(t){const i=new fu(t.serializer,_T(t.serializer,this.Fc));return new ST(t.path,i)}isEqual(t){return t instanceof Dg&&this.Fc===t.Fc}}function l1(s,t,i,r){const l=s.Cc(1,t,i);Mg("Data must be an object, but it was:",l,r);const c=[],d=En.empty();Nr(r,((_,y)=>{const A=Og(t,_,i);y=Qe(y);const b=l.yc(A);if(y instanceof $h)c.push(A);else{const N=xu(y,b);N!=null&&(c.push(A),d.set(A,N))}}));const p=new Fn(c);return new a1(d,p,l.fieldTransforms)}function u1(s,t,i,r,l,c){const d=s.Cc(1,t,i),p=[km(t,r,i)],_=[l];if(c.length%2!=0)throw new lt(K.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let N=0;N<c.length;N+=2)p.push(km(t,c[N])),_.push(c[N+1]);const y=[],A=En.empty();for(let N=p.length-1;N>=0;--N)if(!f1(y,p[N])){const Y=p[N];let et=_[N];et=Qe(et);const ut=d.yc(Y);if(et instanceof $h)y.push(Y);else{const nt=xu(et,ut);nt!=null&&(y.push(Y),A.set(Y,nt))}}const b=new Fn(y);return new a1(A,b,d.fieldTransforms)}function cC(s,t,i,r=!1){return xu(i,s.Cc(r?4:3,t))}function xu(s,t){if(h1(s=Qe(s)))return Mg("Unsupported field value:",t,s),c1(s,t);if(s instanceof Ru)return(function(r,l){if(!o1(l.Ac))throw l.Sc(`${r._methodName}() can only be used with update() and set()`);if(!l.path)throw l.Sc(`${r._methodName}() is not currently supported inside arrays`);const c=r._toFieldTransform(l);c&&l.fieldTransforms.push(c)})(s,t),null;if(s===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),s instanceof Array){if(t.settings.fc&&t.Ac!==4)throw t.Sc("Nested arrays are not supported");return(function(r,l){const c=[];let d=0;for(const p of r){let _=xu(p,l.wc(d));_==null&&(_={nullValue:"NULL_VALUE"}),c.push(_),d++}return{arrayValue:{values:c}}})(s,t)}return(function(r,l){if((r=Qe(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return _T(l.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const c=Te.fromDate(r);return{timestampValue:bh(l.serializer,c)}}if(r instanceof Te){const c=new Te(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:bh(l.serializer,c)}}if(r instanceof Xi)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Hn)return{bytesValue:DT(l.serializer,r._byteString)};if(r instanceof we){const c=l.databaseId,d=r.firestore._databaseId;if(!d.isEqual(c))throw l.Sc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:lg(r.firestore._databaseId||l.databaseId,r._key.path)}}if(r instanceof $i)return(function(d,p){return{mapValue:{fields:{[nT]:{stringValue:iT},[Ah]:{arrayValue:{values:d.toArray().map((y=>{if(typeof y!="number")throw p.Sc("VectorValues must only contain numeric values.");return rg(p.serializer,y)}))}}}}}})(r,l);throw l.Sc(`Unsupported field value: ${Lh(r)}`)})(s,t)}function c1(s,t){const i={};return $E(s)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Nr(s,((r,l)=>{const c=xu(l,t.mc(r));c!=null&&(i[r]=c)})),{mapValue:{fields:i}}}function h1(s){return!(typeof s!="object"||s===null||s instanceof Array||s instanceof Date||s instanceof Te||s instanceof Xi||s instanceof Hn||s instanceof we||s instanceof Ru||s instanceof $i)}function Mg(s,t,i){if(!h1(i)||!KE(i)){const r=Lh(i);throw r==="an object"?t.Sc(s+" a custom object"):t.Sc(s+" "+r)}}function km(s,t,i){if((t=Qe(t))instanceof wu)return t._internalPath;if(typeof t=="string")return Og(s,t);throw Nh("Field path arguments must be of type string or ",s,!1,void 0,i)}const hC=new RegExp("[~\\*/\\[\\]]");function Og(s,t,i){if(t.search(hC)>=0)throw Nh(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,i);try{return new wu(...t.split("."))._internalPath}catch{throw Nh(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,i)}}function Nh(s,t,i,r,l){const c=r&&!r.isEmpty(),d=l!==void 0;let p=`Function ${t}() called with invalid data`;i&&(p+=" (via `toFirestore()`)"),p+=". ";let _="";return(c||d)&&(_+=" (found",c&&(_+=` in field ${r}`),d&&(_+=` in document ${l}`),_+=")"),new lt(K.INVALID_ARGUMENT,p+s+_)}function f1(s,t){return s.some((i=>i.isEqual(t)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dh{constructor(t,i,r,l,c){this._firestore=t,this._userDataWriter=i,this._key=r,this._document=l,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new we(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new fC(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const i=this._document.data.field(Zh("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i)}}}class fC extends Dh{data(){return super.data()}}function Zh(s,t){return typeof t=="string"?Og(s,t):t instanceof wu?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d1(s){if(s.limitType==="L"&&s.explicitOrderBy.length===0)throw new lt(K.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Vg{}class m1 extends Vg{}function ho(s,t,...i){let r=[];t instanceof Vg&&r.push(t),r=r.concat(i),(function(c){const d=c.filter((_=>_ instanceof Ug)).length,p=c.filter((_=>_ instanceof Jh)).length;if(d>1||d>0&&p>0)throw new lt(K.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const l of r)s=l._apply(s);return s}class Jh extends m1{constructor(t,i,r){super(),this._field=t,this._op=i,this._value=r,this.type="where"}static _create(t,i,r){return new Jh(t,i,r)}_apply(t){const i=this._parse(t);return g1(t._query,i),new Mr(t.firestore,t.converter,Im(t._query,i))}_parse(t){const i=Iu(t.firestore);return(function(c,d,p,_,y,A,b){let N;if(y.isKeyField()){if(A==="array-contains"||A==="array-contains-any")throw new lt(K.INVALID_ARGUMENT,`Invalid Query. You can't perform '${A}' queries on documentId().`);if(A==="in"||A==="not-in"){Q0(b,A);const et=[];for(const ut of b)et.push(G0(_,c,ut));N={arrayValue:{values:et}}}else N=G0(_,c,b)}else A!=="in"&&A!=="not-in"&&A!=="array-contains-any"||Q0(b,A),N=cC(p,d,b,A==="in"||A==="not-in");return Fe.create(y,A,N)})(t._query,"where",i,t.firestore._databaseId,this._field,this._op,this._value)}}function F0(s,t,i){const r=t,l=Zh("where",s);return Jh._create(l,r,i)}class Ug extends Vg{constructor(t,i){super(),this.type=t,this._queryConstraints=i}static _create(t,i){return new Ug(t,i)}_parse(t){const i=this._queryConstraints.map((r=>r._parse(t))).filter((r=>r.getFilters().length>0));return i.length===1?i[0]:Si.create(i,this._getOperator())}_apply(t){const i=this._parse(t);return i.getFilters().length===0?t:((function(l,c){let d=l;const p=c.getFlattenedFilters();for(const _ of p)g1(d,_),d=Im(d,_)})(t._query,i),new Mr(t.firestore,t.converter,Im(t._query,i)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Lg extends m1{constructor(t,i){super(),this._field=t,this._direction=i,this.type="orderBy"}static _create(t,i){return new Lg(t,i)}_apply(t){const i=(function(l,c,d){if(l.startAt!==null)throw new lt(K.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(l.endAt!==null)throw new lt(K.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new lu(c,d)})(t._query,this._field,this._direction);return new Mr(t.firestore,t.converter,(function(l,c){const d=l.explicitOrderBy.concat([c]);return new zo(l.path,l.collectionGroup,d,l.filters.slice(),l.limit,l.limitType,l.startAt,l.endAt)})(t._query,i))}}function fo(s,t="asc"){const i=t,r=Zh("orderBy",s);return Lg._create(r,i)}function G0(s,t,i){if(typeof(i=Qe(i))=="string"){if(i==="")throw new lt(K.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!hT(t)&&i.indexOf("/")!==-1)throw new lt(K.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${i}' contains a '/' character.`);const r=t.path.child(fe.fromString(i));if(!mt.isDocumentKey(r))throw new lt(K.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return a0(s,new mt(r))}if(i instanceof we)return a0(s,i._key);throw new lt(K.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Lh(i)}.`)}function Q0(s,t){if(!Array.isArray(s)||s.length===0)throw new lt(K.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function g1(s,t){const i=(function(l,c){for(const d of l)for(const p of d.getFlattenedFilters())if(c.indexOf(p.op)>=0)return p.op;return null})(s.filters,(function(l){switch(l){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(t.op));if(i!==null)throw i===t.op?new lt(K.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new lt(K.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${i.toString()}' filters.`)}class p1{convertValue(t,i="none"){switch(Rr(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Ue(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,i);case 5:return t.stringValue;case 6:return this.convertBytes(wr(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,i);case 11:return this.convertObject(t.mapValue,i);case 10:return this.convertVectorValue(t.mapValue);default:throw _t(62114,{value:t})}}convertObject(t,i){return this.convertObjectMap(t.fields,i)}convertObjectMap(t,i="none"){const r={};return Nr(t,((l,c)=>{r[l]=this.convertValue(c,i)})),r}convertVectorValue(t){const i=t.fields?.[Ah].arrayValue?.values?.map((r=>Ue(r.doubleValue)));return new $i(i)}convertGeoPoint(t){return new Xi(Ue(t.latitude),Ue(t.longitude))}convertArray(t,i){return(t.values||[]).map((r=>this.convertValue(r,i)))}convertServerTimestamp(t,i){switch(i){case"previous":const r=Ph(t);return r==null?null:this.convertValue(r,i);case"estimate":return this.convertTimestamp(ru(t));default:return null}}convertTimestamp(t){const i=br(t);return new Te(i.seconds,i.nanos)}convertDocumentKey(t,i){const r=fe.fromString(t);Xt(PT(r),9688,{name:t});const l=new au(r.get(1),r.get(3)),c=new mt(r.popFirst(5));return l.isEqual(i)||Ns(`Document ${c} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kg(s,t,i){let r;return r=s?i&&(i.merge||i.mergeFields)?s.toFirestore(t,i):s.toFirestore(t):t,r}class dC extends p1{constructor(t){super(),this.firestore=t}convertBytes(t){return new Hn(t)}convertReference(t){const i=this.convertDocumentKey(t,this.firestore._databaseId);return new we(this.firestore,null,i)}}class To{constructor(t,i){this.hasPendingWrites=t,this.fromCache=i}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Ar extends Dh{constructor(t,i,r,l,c,d){super(t,i,r,l,d),this._firestore=t,this._firestoreImpl=t,this.metadata=c}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const i=new hh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,i={}){if(this._document){const r=this._document.data.field(Zh("DocumentSnapshot.get",t));if(r!==null)return this._userDataWriter.convertValue(r,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new lt(K.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,i={};return i.type=Ar._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}Ar._jsonSchemaVersion="firestore/documentSnapshot/1.0",Ar._jsonSchema={type:Ge("string",Ar._jsonSchemaVersion),bundleSource:Ge("string","DocumentSnapshot"),bundleName:Ge("string"),bundle:Ge("string")};class hh extends Ar{data(t={}){return super.data(t)}}class da{constructor(t,i,r,l){this._firestore=t,this._userDataWriter=i,this._snapshot=l,this.metadata=new To(l.hasPendingWrites,l.fromCache),this.query=r}get docs(){const t=[];return this.forEach((i=>t.push(i))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,i){this._snapshot.docs.forEach((r=>{t.call(i,new hh(this._firestore,this._userDataWriter,r.key,r,new To(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const i=!!t.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new lt(K.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(l,c){if(l._snapshot.oldDocs.isEmpty()){let d=0;return l._snapshot.docChanges.map((p=>{const _=new hh(l._firestore,l._userDataWriter,p.doc.key,p.doc,new To(l._snapshot.mutatedKeys.has(p.doc.key),l._snapshot.fromCache),l.query.converter);return p.doc,{type:"added",doc:_,oldIndex:-1,newIndex:d++}}))}{let d=l._snapshot.oldDocs;return l._snapshot.docChanges.filter((p=>c||p.type!==3)).map((p=>{const _=new hh(l._firestore,l._userDataWriter,p.doc.key,p.doc,new To(l._snapshot.mutatedKeys.has(p.doc.key),l._snapshot.fromCache),l.query.converter);let y=-1,A=-1;return p.type!==0&&(y=d.indexOf(p.doc.key),d=d.delete(p.doc.key)),p.type!==1&&(d=d.add(p.doc),A=d.indexOf(p.doc.key)),{type:mC(p.type),doc:_,oldIndex:y,newIndex:A}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new lt(K.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=da._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=Wm.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],r=[],l=[];return this.docs.forEach((c=>{c._document!==null&&(i.push(c._document),r.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),l.push(c.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function mC(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return _t(61501,{type:s})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mo(s){s=Tn(s,we);const t=Tn(s.firestore,Wi);return nC(bu(t),s._key).then((i=>y1(t,s,i)))}da._jsonSchemaVersion="firestore/querySnapshot/1.0",da._jsonSchema={type:Ge("string",da._jsonSchemaVersion),bundleSource:Ge("string","QuerySnapshot"),bundleName:Ge("string"),bundle:Ge("string")};class Wh extends p1{constructor(t){super(),this.firestore=t}convertBytes(t){return new Hn(t)}convertReference(t){const i=this.convertDocumentKey(t,this.firestore._databaseId);return new we(this.firestore,null,i)}}function Fl(s){s=Tn(s,Mr);const t=Tn(s.firestore,Wi),i=bu(t),r=new Wh(t);return d1(s._query),iC(i,s._query).then((l=>new da(t,r,s,l)))}function la(s,t,i){s=Tn(s,we);const r=Tn(s.firestore,Wi),l=kg(s.converter,t,i);return tf(r,[Cg(Iu(r),"setDoc",s._key,l,s.converter!==null,i).toMutation(s._key,cn.none())])}function th(s,t,i,...r){s=Tn(s,we);const l=Tn(s.firestore,Wi),c=Iu(l);let d;return d=typeof(t=Qe(t))=="string"||t instanceof wu?u1(c,"updateDoc",s._key,t,i,r):l1(c,"updateDoc",s._key,t),tf(l,[d.toMutation(s._key,cn.exists(!0))])}function go(s){return tf(Tn(s.firestore,Wi),[new Fh(s._key,cn.none())])}function eh(s,t){const i=Tn(s.firestore,Wi),r=ye(s),l=kg(s.converter,t);return tf(i,[Cg(Iu(s.firestore),"addDoc",r._key,l,s.converter!==null,{}).toMutation(r._key,cn.exists(!1))]).then((()=>r))}function Y0(s,...t){s=Qe(s);let i={includeMetadataChanges:!1,source:"default"},r=0;typeof t[r]!="object"||H0(t[r])||(i=t[r++]);const l={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(H0(t[r])){const _=t[r];t[r]=_.next?.bind(_),t[r+1]=_.error?.bind(_),t[r+2]=_.complete?.bind(_)}let c,d,p;if(s instanceof we)d=Tn(s.firestore,Wi),p=jh(s._key.path),c={next:_=>{t[r]&&t[r](y1(d,s,_))},error:t[r+1],complete:t[r+2]};else{const _=Tn(s,Mr);d=Tn(_.firestore,Wi),p=_._query;const y=new Wh(d);c={next:A=>{t[r]&&t[r](new da(d,y,_,A))},error:t[r+1],complete:t[r+2]},d1(s._query)}return(function(y,A,b,N){const Y=new Rg(N),et=new Sg(A,Y,b);return y.asyncQueue.enqueueAndForget((async()=>Eg(await Ch(y),et))),()=>{Y.Nu(),y.asyncQueue.enqueueAndForget((async()=>Tg(await Ch(y),et)))}})(bu(d),p,l,c)}function tf(s,t){return(function(r,l){const c=new Yi;return r.asyncQueue.enqueueAndForget((async()=>Bx(await tC(r),l,c))),c.promise})(bu(s),t)}function y1(s,t,i){const r=i.docs.get(t._key),l=new Wh(s);return new Ar(s,l,t._key,r,new To(i.hasPendingWrites,i.fromCache),t.converter)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gC={maxAttempts:5};function Kl(s,t){if((s=Qe(s)).firestore!==t)throw new lt(K.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pC{constructor(t,i){this._firestore=t,this._transaction=i,this._dataReader=Iu(t)}get(t){const i=Kl(t,this._firestore),r=new dC(this._firestore);return this._transaction.lookup([i._key]).then((l=>{if(!l||l.length!==1)return _t(24041);const c=l[0];if(c.isFoundDocument())return new Dh(this._firestore,r,c.key,c,i.converter);if(c.isNoDocument())return new Dh(this._firestore,r,i._key,null,i.converter);throw _t(18433,{doc:c})}))}set(t,i,r){const l=Kl(t,this._firestore),c=kg(l.converter,i,r),d=Cg(this._dataReader,"Transaction.set",l._key,c,l.converter!==null,r);return this._transaction.set(l._key,d),this}update(t,i,r,...l){const c=Kl(t,this._firestore);let d;return d=typeof(i=Qe(i))=="string"||i instanceof wu?u1(this._dataReader,"Transaction.update",c._key,i,r,l):l1(this._dataReader,"Transaction.update",c._key,i),this._transaction.update(c._key,d),this}delete(t){const i=Kl(t,this._firestore);return this._transaction.delete(i._key),this}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yC extends pC{constructor(t,i){super(t,i),this._firestore=t}get(t){const i=Kl(t,this._firestore),r=new Wh(this._firestore);return super.get(t).then((l=>new Ar(this._firestore,r,i._key,l._document,new To(!1,!1),i.converter)))}}function po(s,t,i){s=Tn(s,Wi);const r={...gC,...i};return(function(c){if(c.maxAttempts<1)throw new lt(K.INVALID_ARGUMENT,"Max attempts must be at least 1")})(r),(function(c,d,p){const _=new Yi;return c.asyncQueue.enqueueAndForget((async()=>{const y=await eC(c);new Zx(c.asyncQueue,y,p,d,_).ju()})),_.promise})(bu(s),(l=>t(new yC(s,l))),r)}function ui(){return new Ng("serverTimestamp")}function Fi(s){return new Dg("increment",s)}(function(t,i=!0){(function(l){ko=l})(Uo),Ro(new ga("firestore",((r,{instanceIdentifier:l,options:c})=>{const d=r.getProvider("app").getImmediate(),p=new Wi(new h2(r.getProvider("auth-internal")),new m2(d,r.getProvider("app-check-internal")),(function(y,A){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new lt(K.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new au(y.options.projectId,A)})(d,l),d);return c={useFetchStreams:i,...c},p._setSettings(c),p}),"PUBLIC").setMultipleInstances(!0)),vr(Yv,Kv,t),vr(Yv,Kv,"esm2020")})();const _C={apiKey:"AIzaSyD9Q8xysodbNwRxv_YshLDo5pG9-CvdTQE",authDomain:"pallavolo-67515986-17130.firebaseapp.com",projectId:"pallavolo-67515986-17130",storageBucket:"pallavolo-67515986-17130.firebasestorage.app",messagingSenderId:"462112859333",appId:"1:462112859333:web:059bb7a96b44dca9e33cac"},_1=rE(_C),fm=o2(_1),Ut=rC(_1),vC=new ws,bs=14,oe={NO_MATCHES:"no_matches",MATCH_LIST:"match_list",MATCH_DETAIL:"match_detail",MATCH_HISTORY:"match_history",USERS_LIST:"users_list"};function EC(){const[s,t]=Qt.useState(null),[i,r]=Qt.useState(!1),[l,c]=Qt.useState(!1),[d,p]=Qt.useState([]),[_,y]=Qt.useState([]),[A,b]=Qt.useState(null),[N,Y]=Qt.useState([]),[et,ut]=Qt.useState(""),[nt,yt]=Qt.useState(!1),[wt,Tt]=Qt.useState(null),[$t,ne]=Qt.useState(""),[Ft,C]=Qt.useState(!1),[w,I]=Qt.useState(""),[U,M]=Qt.useState(!1),[L,R]=Qt.useState(null),[de,be]=Qt.useState("user"),[G,at]=Qt.useState([]),[pt,Yt]=Qt.useState(!1),[Wt,V]=Qt.useState(!1),[F,it]=Qt.useState(oe.NO_MATCHES),[W,At]=Qt.useState(null),[xt,Lt]=Qt.useState([]),[me,ge]=Qt.useState([]),Qn=Qt.useMemo(()=>ye(Ut,"state","currentSession"),[]),fn="tidolamiamail@gmail.com",bi=s?.email===fn,ie=de==="admin"||bi;Qt.useEffect(()=>{const D=Xw(fm,async tt=>{if(tt){t(tt),r(!0);const J=ye(Ut,"users",tt.uid),st=await mo(J);let dt={};if(st.exists())dt=st.data(),ne(dt.customDisplayName||tt.displayName),tt.email===fn?be("super-admin"):be(dt.role||"user");else{ne(tt.displayName);const bt=tt.email===fn?"super-admin":"user";be(bt)}await la(J,{email:tt.email,displayName:tt.displayName,photoURL:tt.photoURL,lastLogin:ui(),role:de||(tt.email===fn?"super-admin":"user")},{merge:!0}),yn(tt.uid)}else t(null),r(!1),yt(!1),Tt(null),ne(""),C(!1)});return()=>D()},[]),Qt.useEffect(()=>{let D;return(async()=>((await mo(Qn)).exists()||await la(Qn,{participants:[],reserves:[],lastUpdated:ui()}),D=Y0(Qn,J=>{const st=J.data();p(Array.isArray(st?.participants)?st.participants:[]),y(Array.isArray(st?.reserves)?st.reserves:[]),b(st?.date||null)})))(),()=>{typeof D=="function"&&D()}},[Qn]),Qt.useEffect(()=>{const tt=(async()=>{try{const J=ho(Hi(Ut,"activeMatches"),fo("date","asc"));return Y0(J,dt=>{const bt=dt.docs.map(vt=>({id:vt.id,...vt.data()}));ge(bt),F===oe.NO_MATCHES&&bt.length>0?it(oe.MATCH_LIST):F===oe.MATCH_LIST&&bt.length===0&&it(oe.NO_MATCHES)})}catch(J){console.error("Error loading active matches:",J),ge([])}})();return()=>{typeof tt=="function"&&tt.then(J=>J())}},[]),Qt.useEffect(()=>{const D=tt=>{nt&&!tt.target.closest(".user-dropdown")&&yt(!1)};return document.addEventListener("mousedown",D),()=>{document.removeEventListener("mousedown",D)}},[nt]);function Yn(){const D=new Date,J=(9-D.getDay())%7||7,st=new Date(D);st.setDate(D.getDate()+J),st.setHours(20,30,0,0);const dt=bt=>bt.toString().padStart(2,"0");return`${st.getFullYear()}-${dt(st.getMonth()+1)}-${dt(st.getDate())}T${dt(st.getHours())}:${dt(st.getMinutes())}`}const[ci,hi]=Qt.useState(Yn()),ts=async()=>{if(!(!ie||Wt)){V(!0);try{const D=new Date(ci),tt=ho(Hi(Ut,"activeMatches"),fo("date","asc"));if((await Fl(tt)).docs.some(bt=>new Date(bt.data().date).getTime()===D.getTime())){alert("Esiste già una partita per questo giorno e orario!");return}const dt=await eh(Hi(Ut,"activeMatches"),{participants:[],reserves:[],date:ci,createdAt:ui(),lastUpdated:ui(),createdBy:s.uid,status:"active"});console.log("Partita creata con ID:",dt.id)}catch(D){console.error("Errore nella creazione della partita:",D),alert("Errore nella creazione della partita")}finally{V(!1)}}},es=async()=>{c(!0);try{const tt=(await pR(fm,vC)).user,J=ye(Ut,"users",tt.uid),st=await mo(J),dt=st.exists()?st.data():{};await la(J,{email:tt.email,displayName:tt.displayName,photoURL:tt.photoURL,lastLogin:ui(),...dt.customDisplayName&&{customDisplayName:dt.customDisplayName}},{merge:!0}),t(tt),r(!0),yn(tt.uid)}catch(D){alert(`Errore durante il login: ${D.message||D}`),console.error("Login error:",D)}finally{c(!1)}},Ie=async()=>{await $w(fm),r(!1),t(null)},De=()=>{I($t),C(!0)},wi=async()=>{if(!(!s||!w.trim()))try{await la(ye(Ut,"users",s.uid),{customDisplayName:w.trim()},{merge:!0}),ne(w.trim()),C(!1)}catch(D){console.error("Errore nel salvataggio del nome:",D),alert("Errore nel salvataggio del nome")}},qo=()=>{I(""),C(!1)},Os=async(D,tt)=>{try{const J=await mo(ye(Ut,"users",D)),st=J.exists()?J.data():{},dt=ho(Hi(Ut,"sessions"),F0("participantUids","array-contains",D),fo("date","desc")),vt=(await Fl(dt)).docs.map(ot=>({id:ot.id,...ot.data()}));R({uid:D,displayName:st.customDisplayName||tt,totalSessions:st?.stats?.totalSessions||0,asParticipant:st?.stats?.asParticipant||0,asReserve:st?.stats?.asReserve||0,friendsBrought:st?.stats?.friendsBrought||0,sessionsHistory:vt}),M(!0)}catch(J){console.error("Errore nel caricamento delle statistiche:",J),alert("Errore nel caricamento delle statistiche")}},en=async D=>{if(!(!ie||!confirm("Sei sicuro di voler resettare tutte le statistiche di questo utente?")))try{await la(ye(Ut,"users",D),{stats:{totalSessions:0,asParticipant:0,asReserve:0,friendsBrought:0}},{merge:!0}),alert("Statistiche resettate con successo"),L&&L.uid===D&&R({...L,totalSessions:0,asParticipant:0,asReserve:0,friendsBrought:0}),s&&s.uid===D&&yn(D)}catch(J){console.error("Errore nel reset delle statistiche:",J),alert("Errore nel reset delle statistiche")}},ns=async D=>{if(!(!ie||!confirm("Sei sicuro di voler eliminare questa sessione dalle statistiche?")))try{await po(Ut,async J=>{const st=ye(Ut,"sessions",D),dt=await J.get(st);if(!dt.exists())throw new Error("Sessione non trovata");const bt=dt.data(),vt=[...(bt.participantUids||[]).map(ot=>({uid:ot,participant:!0})),...(bt.reserveUids||[]).map(ot=>({uid:ot,participant:!1}))];for(const ot of vt){const Mt=ye(Ut,"users",ot.uid),Ot=await J.get(Mt);if(Ot.exists()){const Le=Ot.data().stats||{};J.update(Mt,{stats:{...Le,totalSessions:Math.max(0,(Le.totalSessions||1)-1),asParticipant:ot.participant?Math.max(0,(Le.asParticipant||1)-1):Le.asParticipant||0,asReserve:ot.participant?Le.asReserve||0:Math.max(0,(Le.asReserve||1)-1)}})}}J.delete(st)}),alert("Sessione eliminata con successo"),Vs(),s&&yn(s.uid)}catch(J){console.error("Errore nell'eliminazione della sessione:",J),alert("Errore nell'eliminazione della sessione")}},Or=async D=>{if(!(!ie||!confirm("Sei sicuro di voler eliminare questa partita attiva? Tutti i partecipanti iscritti verranno rimossi.")))try{const J=ye(Ut,"activeMatches",D);await go(J),alert("Partita eliminata con successo")}catch(J){console.error("Errore nell'eliminazione della partita:",J),alert("Errore nell'eliminazione della partita")}},Vr=async D=>{if(!(!ie||!confirm("Sei sicuro di voler chiudere questa partita? Verrà salvata nello storico e rimossa dalle partite attive.")))try{const J=D.participants||[],st=D.reserves||[];if(J.length>0){const dt={date:new Date(D.date),participants:J,reserves:st,participantUids:J.map(ot=>ot.uid),reserveUids:st.map(ot=>ot.uid)};await eh(Hi(Ut,"sessions"),dt);const bt=J.map(ot=>th(ye(Ut,"users",ot.uid),{"stats.totalSessions":Fi(1),"stats.asParticipant":Fi(1),"stats.friendsBrought":Fi(ot.friends?.length||0)})),vt=st.map(ot=>th(ye(Ut,"users",ot.uid),{"stats.asReserve":Fi(1),"stats.friendsBrought":Fi(ot.friends?.length||0)}));await Promise.allSettled([...bt,...vt])}await go(ye(Ut,"activeMatches",D.id)),alert(J.length>0?"Partita chiusa e salvata nello storico!":"Partita chiusa!")}catch(J){console.error("Errore nella chiusura della partita:",J),alert("Errore nella chiusura della partita")}},yn=async D=>{const tt=await mo(ye(Ut,"users",D)),J=tt.exists()?tt.data():{},st=ho(Hi(Ut,"sessions"),F0("participantUids","array-contains",D),fo("date","desc")),bt=(await Fl(st)).docs.map(vt=>({id:vt.id,...vt.data()}));Tt({totalSessions:J?.stats?.totalSessions||0,asParticipant:J?.stats?.asParticipant||0,asReserve:J?.stats?.asReserve||0,friendsBrought:J?.stats?.friendsBrought||0,sessionsHistory:bt})},Vs=async()=>{try{const D=ho(Hi(Ut,"sessions"),fo("date","desc")),J=(await Fl(D)).docs.map(st=>({id:st.id,...st.data()}));Lt(J)}catch(D){console.error("Error loading match history:",D),Lt([])}},Ur=async()=>{if(i)try{const D=ho(Hi(Ut,"users"),fo("lastLogin","desc")),J=(await Fl(D)).docs.map(st=>({id:st.id,...st.data()}));at(J)}catch(D){console.error("Error loading users:",D),at([])}},Lr=async(D,tt)=>{if(!ie||D===s?.uid)return;if(G.find(st=>st.id===D)?.email===fn){alert("Non puoi modificare il ruolo del super admin");return}try{await la(ye(Ut,"users",D),{role:tt},{merge:!0}),at(st=>st.map(dt=>dt.id===D?{...dt,role:tt}:dt)),alert(`Ruolo utente aggiornato a: ${tt}`)}catch(st){console.error("Error updating user role:",st),alert("Errore nell'aggiornamento del ruolo")}},Ta=async D=>{if(!(!ie||!confirm("Sei sicuro di voler ignorare questa sessione dalle statistiche?")))try{await la(ye(Ut,"sessions",D),{ignoredFromStats:!0},{merge:!0}),alert("Sessione ignorata dalle statistiche"),Vs()}catch(J){console.error("Errore nell'ignorare la sessione:",J),alert("Errore nell'ignorare la sessione")}},An=()=>W?W.participants?.some(D=>D.uid===s?.uid)||W.reserves?.some(D=>D.uid===s?.uid):!1,Ye=!!W&&me.some(D=>D.id===W.id),Sn=!!W&&!me.some(D=>D.id===W.id),_e=()=>{if(!W)return 0;let D=W.participants?.length||0;for(const tt of W.participants||[])D+=tt.friends?.length||0;return D},Aa=()=>{if(!W)return 0;let D=W.reserves?.length||0;for(const tt of W.reserves||[])D+=tt.friends?.length||0;return D},is=async(D=!1)=>{if(!(!i||!s||!W))try{const tt=ye(Ut,"activeMatches",W.id);await po(Ut,async st=>{const bt=(await st.get(tt)).data()||{participants:[],reserves:[]},vt=bt.participants?.some(Ke=>Ke.uid===s.uid),ot=bt.reserves?.some(Ke=>Ke.uid===s.uid);if(vt||ot)throw new Error("Sei già iscritto!");const Mt={uid:s.uid,name:$t||s.displayName,photoURL:s.photoURL,friends:N,timestamp:new Date().toLocaleString("it-IT")},Ot={...bt};if(Ot.participants=Array.isArray(Ot.participants)?Ot.participants:[],Ot.reserves=Array.isArray(Ot.reserves)?Ot.reserves:[],D)Ot.reserves=[...Ot.reserves,Mt];else{let Ke=Ot.participants.length;for(const wa of Ot.participants)Ke+=wa.friends?.length||0;Ke+1+(N.length||0)<=bs?Ot.participants=[...Ot.participants,Mt]:Ot.reserves=[...Ot.reserves,Mt]}st.update(tt,{participants:Ot.participants,reserves:Ot.reserves,lastUpdated:ui()})}),Y([]),await yn(s.uid);const J=_e();!D&&J>bs&&alert(`Lista partecipanti piena (${bs} posti)! Sei stato aggiunto alle riserve.`)}catch(tt){alert(tt.message||"Errore durante l'iscrizione")}},Sa=async()=>{if(!(!i||!s||!W))try{const D=ye(Ut,"activeMatches",W.id);await po(Ut,async tt=>{const st=(await tt.get(D)).data()||{participants:[],reserves:[]},dt=st.participants?.findIndex(Mt=>Mt.uid===s.uid),bt=st.reserves?.findIndex(Mt=>Mt.uid===s.uid);if((dt===void 0||dt===-1)&&(bt===void 0||bt===-1))throw new Error("Non sei iscritto a questa partita.");const vt=[...st.participants||[]];let ot=[...st.reserves||[]];if(dt!==void 0&&dt!==-1){if(vt.splice(dt,1),ot.length>0){const Mt=ot[0];ot=ot.slice(1),vt.push(Mt)}}else bt!==void 0&&bt!==-1&&(ot=ot.filter(Mt=>Mt.uid!==s.uid));tt.update(D,{participants:vt,reserves:ot,lastUpdated:ui()})})}catch(D){alert(D.message||"Errore durante la disiscrizione")}},Mn=async(D,tt=!1)=>{if(!(!ie||!W))try{const J=ye(Ut,"activeMatches",W.id);await po(Ut,async st=>{const bt=(await st.get(J)).data()||{participants:[],reserves:[]};let vt=[...bt.participants||[]],ot=[...bt.reserves||[]];if(tt)ot=ot.filter(Mt=>Mt.uid!==D);else if(vt=vt.filter(Mt=>Mt.uid!==D),ot.length>0){const Mt=ot[0];ot=ot.slice(1),vt.push(Mt)}st.update(J,{participants:vt,reserves:ot,lastUpdated:ui()})})}catch(J){alert(J.message||"Errore durante la rimozione")}},Ri=async(D,tt,J=!1)=>{if(!(!ie||!W))try{const st=ye(Ut,"activeMatches",W.id);await po(Ut,async dt=>{const vt=(await dt.get(st)).data()||{participants:[],reserves:[]};let ot=[...vt.participants||[]],Mt=[...vt.reserves||[]];if(J){const Ot=Mt.findIndex(Ke=>Ke.uid===D);Ot!==-1&&Mt[Ot].friends&&(Mt[Ot]={...Mt[Ot],friends:Mt[Ot].friends.filter((Ke,Le)=>Le!==tt)})}else{const Ot=ot.findIndex(Ke=>Ke.uid===D);Ot!==-1&&ot[Ot].friends&&(ot[Ot]={...ot[Ot],friends:ot[Ot].friends.filter((Ke,Le)=>Le!==tt)})}dt.update(st,{participants:ot,reserves:Mt,lastUpdated:ui()})})}catch(st){alert(st.message||"Errore durante la rimozione dell'amico")}},xe=async()=>{try{if(!W){alert("Nessuna partita selezionata");return}const D=ye(Ut,"activeMatches",W.id),J=(await mo(D)).data()||{participants:[],reserves:[]};if(!J.participants||J.participants.length===0){if(!confirm("Non ci sono partecipanti in questa partita. Vuoi eliminarla?"))return;await go(D),alert("Partita eliminata con successo"),it(oe.MATCH_LIST);return}const st={date:new Date(J.date),participants:J.participants,reserves:J.reserves||[],participantUids:(J.participants||[]).map(ot=>ot.uid),reserveUids:(J.reserves||[]).map(ot=>ot.uid)},dt=await eh(Hi(Ut,"sessions"),st),bt=(J.participants||[]).map(ot=>th(ye(Ut,"users",ot.uid),{"stats.totalSessions":Fi(1),"stats.asParticipant":Fi(1),"stats.friendsBrought":Fi(ot.friends?.length||0)})),vt=(J.reserves||[]).map(ot=>th(ye(Ut,"users",ot.uid),{"stats.asReserve":Fi(1),"stats.friendsBrought":Fi(ot.friends?.length||0)}));await Promise.allSettled([...bt,...vt]),await go(D),alert("Partita completata! Le statistiche sono state aggiornate."),s&&await yn(s.uid),it(oe.MATCH_LIST)}catch(D){console.error("Errore durante la chiusura della partita:",D),alert("Errore durante la chiusura della partita")}},Kn=async D=>{if(!(!ie||!W))try{const tt=ye(Ut,"activeMatches",W.id);await po(Ut,async J=>{const dt=(await J.get(tt)).data()||{participants:[],reserves:[]},bt=dt.reserves?.findIndex(Le=>Le.uid===D);if(bt===-1)throw new Error("Riserva non trovata");const vt=dt.reserves[bt];let ot=dt.participants?.length||0;for(const Le of dt.participants||[])ot+=Le.friends?.length||0;const Mt=ot+1+(vt.friends?.length||0);if(Mt>bs)throw new Error(`Non c'è abbastanza spazio. Servono ${Mt-ot} posti ma ne rimangono solo ${bs-ot}.`);const Ot=[...dt.reserves||[]];Ot.splice(bt,1);const Ke=[...dt.participants||[],vt];J.update(tt,{participants:Ke,reserves:Ot,lastUpdated:ui()})}),alert("Riserva promossa a partecipante con successo!")}catch(tt){console.error("Errore nella promozione:",tt),alert(tt.message||"Errore nella promozione della riserva")}},Xn=()=>S.jsx("div",{className:"bg-gray-800 rounded-xl shadow-2xl p-4 md:p-6 mb-6 border border-gray-700",children:S.jsxs("div",{className:"flex items-center justify-between",children:[S.jsxs("div",{className:"flex items-center gap-2 md:gap-3 flex-1 min-w-0",children:[S.jsx("div",{className:"bg-indigo-600 p-2 md:p-3 rounded-lg flex-shrink-0",children:S.jsx("div",{className:"w-6 h-6 md:w-8 md:h-8 text-white text-lg md:text-2xl flex items-center justify-center",children:"🏐"})}),S.jsxs("div",{className:"min-w-0 flex-1",children:[S.jsx("h1",{className:"text-xl md:text-3xl font-bold text-gray-100 truncate",children:F===oe.MATCH_HISTORY?"Storico Partite":F===oe.USERS_LIST?"Lista Utenti":"Pallavolo - 7 fighters"}),i&&(F===oe.MATCH_DETAIL&&A?S.jsxs("div",{className:"mt-1 md:mt-2 flex items-center gap-3 flex-wrap",children:[S.jsxs("div",{className:"text-sm md:text-lg text-indigo-300 font-semibold",children:["Partita del ",new Date(A).toLocaleString("it-IT",{dateStyle:"full",timeStyle:"short"})]}),S.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${W&&me.some(D=>D.id===W.id)?"bg-green-600 text-green-100":"bg-gray-600 text-gray-100"}`,children:W&&me.some(D=>D.id===W.id)?"Aperta":"Giocata"})]}):F===oe.MATCH_HISTORY?S.jsx("div",{className:"mt-1 md:mt-2 text-sm md:text-lg text-indigo-300 font-semibold",children:"Partite già giocate"}):F===oe.USERS_LIST?S.jsx("div",{className:"mt-1 md:mt-2 text-sm md:text-lg text-indigo-300 font-semibold",children:"Gestisci ruoli e utenti"}):F===oe.MATCH_LIST&&A?S.jsx("div",{className:"mt-1 md:mt-2 text-sm md:text-lg text-indigo-300 font-semibold",children:"Seleziona una partita per iscriverti"}):S.jsx("div",{className:"mt-1 md:mt-2 text-sm md:text-lg text-indigo-300 font-semibold",children:"Nessuna partita attiva"}))]})]}),i&&S.jsxs("div",{className:"relative flex items-center gap-2 md:gap-3 user-dropdown flex-shrink-0",children:[S.jsx("span",{className:"hidden md:block text-gray-100 font-medium truncate max-w-32",children:$t||s?.displayName}),S.jsx("button",{onClick:()=>yt(!nt),className:"p-1 md:p-2 bg-gray-700 rounded-full border border-gray-600 hover:bg-gray-600 transition flex-shrink-0",title:"Area personale",children:S.jsx("img",{src:s.photoURL||"",alt:s.displayName||"",className:"w-8 h-8 md:w-10 md:h-10 rounded-full border-2 border-indigo-500 object-cover"})}),nt&&wt&&S.jsxs("div",{className:"absolute right-0 top-full mt-2 w-80 md:w-96 bg-gray-800 rounded-lg shadow-xl border border-gray-700 z-10 p-4 md:p-6 max-w-[90vw]",children:[S.jsxs("h3",{className:"text-lg font-bold text-gray-100 mb-4 flex items-center gap-2",children:[S.jsx(gv,{className:"w-5 h-5 text-yellow-500"}),"Le tue statistiche"]}),S.jsxs("div",{className:"mb-4 p-3 bg-gray-700/30 rounded-lg border border-gray-600/50",children:[S.jsx("div",{className:"text-xs text-gray-400 mb-1",children:"Nome visualizzato"}),Ft?S.jsxs("div",{className:"space-y-2",children:[S.jsx("input",{type:"text",value:w,onChange:D=>I(D.target.value),className:"w-full px-2 py-1 bg-gray-600 text-gray-100 rounded border border-gray-500 text-sm",placeholder:"Inserisci il tuo nome",autoFocus:!0}),S.jsxs("div",{className:"flex gap-2",children:[S.jsx("button",{onClick:wi,className:"flex-1 px-2 py-1 bg-green-600 text-white rounded text-xs hover:bg-green-700 transition",children:"Salva"}),S.jsx("button",{onClick:qo,className:"flex-1 px-2 py-1 bg-gray-600 text-gray-100 rounded text-xs hover:bg-gray-700 transition",children:"Annulla"})]})]}):S.jsxs("div",{className:"flex items-center justify-between",children:[S.jsx("span",{className:"text-sm text-gray-100 font-medium",children:$t}),S.jsx("button",{onClick:De,className:"px-2 py-1 bg-indigo-600 text-white rounded text-xs hover:bg-indigo-700 transition",children:"Modifica"})]})]}),S.jsxs("div",{className:"grid grid-cols-2 gap-2 md:gap-3",children:[S.jsxs("div",{className:"bg-gray-700/50 rounded-lg p-2 md:p-3 border border-gray-600/50",children:[S.jsx("div",{className:"text-lg md:text-xl font-bold text-indigo-400",children:wt.totalSessions||0}),S.jsx("div",{className:"text-xs text-gray-400",children:"Partite totali"})]}),S.jsxs("div",{className:"bg-gray-700/50 rounded-lg p-2 md:p-3 border border-gray-600/50",children:[S.jsx("div",{className:"text-lg md:text-xl font-bold text-green-400",children:wt.asParticipant||0}),S.jsx("div",{className:"text-xs text-gray-400",children:"Come partecipante"})]}),S.jsxs("div",{className:"bg-gray-700/50 rounded-lg p-3 border border-gray-600/50 col-span-2",children:[S.jsx("div",{className:"text-xl font-bold text-purple-400",children:wt.friendsBrought||0}),S.jsx("div",{className:"text-xs text-gray-400",children:"Amici portati"})]})]}),S.jsx("button",{onClick:Ie,className:"mt-4 w-full px-4 py-2 bg-gray-700 text-gray-100 rounded-lg hover:bg-gray-600 transition border border-gray-600 text-sm",children:"Esci"})]})]})]})}),On=()=>S.jsx("div",{className:"flex flex-col items-center justify-center",children:S.jsxs("div",{className:"bg-gray-800 rounded-xl shadow-2xl p-8 border border-gray-700 w-full max-w-md text-center",children:[S.jsx("div",{className:"text-lg text-yellow-200 mb-6",children:"Nessuna partita attiva, attendere che venga creata"}),!i&&S.jsxs("div",{className:"mb-6",children:[S.jsx("p",{className:"text-gray-400 text-sm mb-4",children:"Effettua il login per partecipare alle partite"}),S.jsx("button",{onClick:es,disabled:l,className:"w-full px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition font-medium flex items-center justify-center gap-2",children:l?S.jsxs(S.Fragment,{children:[S.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white"}),"Accesso..."]}):S.jsxs(S.Fragment,{children:[S.jsx(yv,{className:"w-5 h-5"}),"Accedi con Google"]})})]})]})}),Ho=()=>S.jsx("div",{className:"space-y-4 md:space-y-6",children:S.jsxs("div",{className:"bg-gray-800 rounded-xl shadow-2xl p-4 md:p-6 border border-gray-700",children:[S.jsx("h2",{className:"text-xl md:text-2xl font-bold text-gray-100 mb-4",children:"Partite Attive"}),me.length>0?S.jsxs("div",{className:"space-y-3 md:space-y-4",children:[me.map(D=>S.jsx("div",{className:"bg-gray-700 rounded-lg p-3 md:p-4 border border-gray-600 hover:border-indigo-500 transition group",children:S.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-3",children:[S.jsxs("div",{onClick:()=>{At(D),it(oe.MATCH_DETAIL)},className:"flex-1 cursor-pointer",children:[S.jsx("h3",{className:"text-base md:text-lg font-semibold text-gray-100 group-hover:text-indigo-300",children:"Partita di Pallavolo"}),S.jsx("p",{className:"text-sm md:text-base text-gray-400 mt-1",children:new Date(D.date).toLocaleString("it-IT",{dateStyle:"short",timeStyle:"short"})})]}),S.jsxs("div",{className:"flex items-center gap-3 md:gap-4 justify-between md:justify-end",children:[S.jsxs("div",{className:"text-center",children:[S.jsx("div",{className:"text-lg md:text-2xl font-bold text-green-400",children:(D.participants?.length||0)+(D.participants?.reduce((tt,J)=>tt+(J.friends?.length||0),0)||0)}),S.jsx("div",{className:"text-xs text-gray-400",children:"Partecipanti"})]}),S.jsxs("div",{className:"text-center",children:[S.jsx("div",{className:"text-lg md:text-2xl font-bold text-amber-400",children:(D.reserves?.length||0)+(D.reserves?.reduce((tt,J)=>tt+(J.friends?.length||0),0)||0)}),S.jsx("div",{className:"text-xs text-gray-400",children:"Riserve"})]}),ie&&S.jsxs("div",{className:"flex items-center gap-2",children:[S.jsx("button",{onClick:tt=>{tt.stopPropagation(),Vr(D)},className:"p-1 md:p-2 text-blue-400 hover:text-blue-300 hover:bg-blue-900/20 rounded-lg transition",title:"Chiudi partita (marca come giocata)",children:S.jsx(pv,{className:"w-4 h-4 md:w-5 md:h-5"})}),S.jsx("button",{onClick:tt=>{tt.stopPropagation(),Or(D.id)},className:"p-1 md:p-2 text-red-400 hover:text-red-300 hover:bg-red-900/20 rounded-lg transition",title:"Elimina partita",children:S.jsx("svg",{className:"w-4 h-4 md:w-5 md:h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]})]})]})},D.id)),ie&&S.jsxs("div",{className:"border-t border-gray-600 pt-4 space-y-4",children:[S.jsx("h3",{className:"text-lg font-semibold text-gray-100",children:"Controlli Admin"}),S.jsxs("div",{className:"flex items-center gap-3",children:[S.jsx("label",{htmlFor:"nextSessionDate",className:"text-sm text-gray-300 font-medium",children:"Data prossima partita:"}),S.jsx("input",{id:"nextSessionDate",type:"datetime-local",value:ci,onChange:D=>hi(D.target.value),className:"px-3 py-2 rounded-lg bg-gray-700 text-gray-100 border border-gray-600 focus:ring-2 focus:ring-blue-500"}),S.jsx("button",{onClick:ts,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition font-medium text-sm",children:"Crea"})]})]})]}):S.jsxs("div",{className:"text-center py-8",children:[S.jsx("p",{className:"text-gray-400 mb-4",children:"Nessuna partita attiva al momento"}),ie&&S.jsx("div",{className:"space-y-4",children:S.jsxs("div",{className:"flex items-center gap-3 justify-center",children:[S.jsx("label",{htmlFor:"nextSessionDate",className:"text-sm text-gray-300 font-medium",children:"Data partita:"}),S.jsx("input",{id:"nextSessionDate",type:"datetime-local",value:ci,onChange:D=>hi(D.target.value),className:"px-3 py-2 rounded-lg bg-gray-700 text-gray-100 border border-gray-600 focus:ring-2 focus:ring-blue-500"}),S.jsx("button",{onClick:ts,className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition font-medium text-sm",children:"Crea"})]})})]})]})}),ba=()=>i?S.jsxs("div",{className:"space-y-6",children:[Sn&&S.jsxs("div",{className:"bg-gray-700 border border-gray-600 rounded-lg p-4",children:[S.jsxs("div",{className:"flex items-center gap-2",children:[S.jsx("svg",{className:"w-5 h-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),S.jsx("span",{className:"text-gray-300 font-medium",children:"Partita Storica - Solo Visualizzazione"})]}),S.jsx("p",{className:"text-sm text-gray-400 mt-1",children:"Questa partita è stata completata e non è più possibile iscriversi o modificare i partecipanti."})]}),Ye&&S.jsxs(S.Fragment,{children:[!An()&&S.jsxs("div",{className:"space-y-4",children:[S.jsxs("div",{className:"flex gap-3",children:[S.jsxs("button",{onClick:()=>is(!1),className:"flex-1 px-6 py-3 bg-green-600 text-white rounded-lg hover:bg-green-700 transition font-medium flex items-center justify-center gap-2",children:[S.jsx(TS,{className:"w-5 h-5"}),"Iscriviti come Partecipante"]}),S.jsxs("button",{onClick:()=>is(!0),className:"flex-1 px-6 py-3 bg-amber-600 text-white rounded-lg hover:bg-amber-700 transition font-medium flex items-center justify-center gap-2",children:[S.jsx(dS,{className:"w-5 h-5"}),"Iscriviti come Riserva"]})]}),S.jsxs("div",{className:"space-y-4",children:[_e()>=bs&&S.jsxs("div",{className:"p-3 bg-amber-900/20 border border-amber-600 rounded-lg",children:[S.jsxs("p",{className:"text-amber-300 text-sm font-medium",children:["⚠️ Lista partecipanti piena (",bs,"/",bs,")"]}),S.jsx("p",{className:"text-amber-200 text-xs mt-1",children:"Le nuove iscrizioni come partecipante verranno automaticamente aggiunte alle riserve."})]}),S.jsxs("div",{className:"text-xs text-gray-400 mb-2",children:["* Puoi aggiungere fino a ",S.jsx("span",{className:"font-bold text-indigo-300",children:"3 amici"})," per sessione"]}),S.jsxs("div",{className:"flex gap-2 items-center",children:[S.jsx("input",{type:"text",value:et||"",onChange:D=>ut(D.target.value),className:"px-4 py-2 rounded-lg bg-gray-700 text-gray-100 border border-gray-600 focus:ring-2 focus:ring-indigo-500",placeholder:"Nome amico",disabled:N.length>=3}),S.jsx("button",{type:"button",onClick:()=>{et&&N.length<3&&(Y([...N,et]),ut(""))},className:"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition font-medium",disabled:!et||N.length>=3,children:"Aggiungi amico"})]}),N.length>0&&S.jsxs("div",{className:"mt-2",children:[S.jsx("div",{className:"text-sm text-gray-300 mb-2",children:"Amici aggiunti:"}),S.jsx("ul",{className:"space-y-2",children:N.map((D,tt)=>S.jsxs("li",{className:"flex items-center gap-2",children:[S.jsx("span",{className:"bg-indigo-900 text-indigo-100 px-3 py-1 rounded-full",children:D}),S.jsx("button",{type:"button",onClick:()=>Y(N.filter((J,st)=>st!==tt)),className:"text-red-400 hover:text-red-600 text-xs",children:"Rimuovi"})]},tt))})]})]})]}),An()&&S.jsx("button",{onClick:Sa,className:"w-full px-6 py-3 bg-red-600 text-white rounded-lg hover:bg-red-700 transition font-medium",children:"Disiscriviti"}),S.jsxs("div",{className:"grid md:grid-cols-2 gap-6 mt-8",children:[S.jsxs("div",{className:"bg-gray-800 rounded-xl shadow-2xl p-6 border border-gray-700",children:[S.jsxs("div",{className:"flex items-center justify-between mb-4",children:[S.jsx("h2",{className:"text-xl font-bold text-gray-100",children:"Partecipanti"}),S.jsxs("span",{className:"bg-green-900 text-green-200 px-3 py-1 rounded-full font-semibold text-sm border border-green-700",children:[_e()," / ",bs]})]}),S.jsx("div",{className:"space-y-3 max-h-96 overflow-y-auto",children:!W||!W.participants||W.participants.length===0?S.jsx("p",{className:"text-gray-500 text-center py-4",children:"Nessun partecipante"}):W.participants.map((D,tt)=>S.jsx("div",{className:"bg-green-900 rounded-lg p-3 border border-green-700",children:S.jsxs("div",{className:"flex items-center gap-3",children:[S.jsx("img",{src:D.photoURL,alt:D.name,className:"w-10 h-10 rounded-full border-2 border-green-500"}),S.jsxs("div",{className:"flex-1",children:[S.jsxs("div",{className:"flex items-center justify-between",children:[S.jsx("span",{className:"font-medium text-gray-100",children:D.name}),S.jsxs("div",{className:"flex items-center gap-2",children:[S.jsx("span",{className:"text-xs text-gray-400",children:D.timestamp}),S.jsx("button",{onClick:()=>Os(D.uid,D.name),className:"text-blue-400 hover:text-blue-300 text-xs px-2 py-1 rounded bg-blue-900/30 hover:bg-blue-900/50 transition",title:"Visualizza statistiche",children:"📊"}),ie&&S.jsx("button",{onClick:()=>Mn(D.uid,!1),className:"text-red-400 hover:text-red-600 text-xs px-2 py-1 rounded bg-red-900/30 hover:bg-red-900/50 transition",title:"Rimuovi utente",children:"✕"})]})]}),D.friends?.length>0&&S.jsx("div",{className:"mt-2 space-y-1",children:D.friends.map((J,st)=>S.jsxs("div",{className:"text-sm text-gray-300 flex items-center gap-2 justify-between",children:[S.jsxs("div",{className:"flex items-center gap-2",children:[S.jsx("span",{className:"text-green-400",children:"+"}),J]}),ie&&S.jsx("button",{onClick:()=>Ri(D.uid,st,!1),className:"text-red-400 hover:text-red-600 text-xs px-1 py-0.5 rounded bg-red-900/30 hover:bg-red-900/50 transition ml-2",title:"Rimuovi amico",children:"✕"})]},st))})]})]})},D.uid+"_"+tt))})]}),S.jsxs("div",{className:"bg-gray-800 rounded-xl shadow-2xl p-6 border border-gray-700",children:[S.jsxs("div",{className:"flex items-center justify-between mb-4",children:[S.jsx("h2",{className:"text-xl font-bold text-gray-100",children:"Riserve"}),S.jsx("span",{className:"bg-amber-900 text-amber-200 px-3 py-1 rounded-full font-semibold text-sm border border-amber-700",children:Aa()})]}),S.jsx("div",{className:"space-y-3 max-h-96 overflow-y-auto",children:!W||!W.reserves||W.reserves.length===0?S.jsx("p",{className:"text-gray-500 text-center py-4",children:"Nessuna riserva"}):W.reserves.map((D,tt)=>S.jsx("div",{className:"bg-amber-900 rounded-lg p-3 border border-amber-700",children:S.jsxs("div",{className:"flex items-center gap-3",children:[S.jsx("img",{src:D.photoURL,alt:D.name,className:"w-10 h-10 rounded-full border-2 border-amber-500"}),S.jsxs("div",{className:"flex-1",children:[S.jsxs("div",{className:"flex items-center justify-between",children:[S.jsxs("span",{className:"font-medium text-gray-100",children:[tt+1,". ",D.name]}),S.jsxs("div",{className:"flex items-center gap-2",children:[S.jsx("span",{className:"text-xs text-gray-400",children:D.timestamp}),S.jsx("button",{onClick:()=>Os(D.uid,D.name),className:"text-blue-400 hover:text-blue-300 text-xs px-2 py-1 rounded bg-blue-900/30 hover:bg-blue-900/50 transition",title:"Visualizza statistiche",children:"📊"}),ie&&S.jsxs(S.Fragment,{children:[S.jsx("button",{onClick:()=>Kn(D.uid),className:"text-green-400 hover:text-green-300 text-xs px-2 py-1 rounded bg-green-900/30 hover:bg-green-900/50 transition",title:"Promuovi a partecipante",children:"⬆️"}),S.jsx("button",{onClick:()=>Mn(D.uid,!0),className:"text-red-400 hover:text-red-600 text-xs px-2 py-1 rounded bg-red-900/30 hover:bg-red-900/50 transition",title:"Rimuovi utente",children:"✕"})]})]})]}),D.friends?.length>0&&S.jsx("div",{className:"mt-2 space-y-1",children:D.friends.map((J,st)=>S.jsxs("div",{className:"text-sm text-gray-300 flex items-center gap-2 justify-between",children:[S.jsxs("div",{className:"flex items-center gap-2",children:[S.jsx("span",{className:"text-amber-400",children:"+"}),J]}),ie&&S.jsx("button",{onClick:()=>Ri(D.uid,st,!0),className:"text-red-400 hover:text-red-600 text-xs px-1 py-0.5 rounded bg-red-900/30 hover:bg-red-900/50 transition ml-2",title:"Rimuovi amico",children:"✕"})]},st))})]})]})},D.uid+"_"+tt))})]})]}),ie&&S.jsxs("div",{className:"space-y-4 mt-6",children:[S.jsxs("div",{className:"flex items-center gap-3",children:[S.jsx("label",{htmlFor:"nextSessionDate",className:"text-sm text-gray-300 font-medium",children:"Data prossima partita:"}),S.jsx("input",{id:"nextSessionDate",type:"datetime-local",value:ci,onChange:D=>hi(D.target.value),className:"px-3 py-2 rounded-lg bg-gray-700 text-gray-100 border border-gray-600 focus:ring-2 focus:ring-blue-500"}),S.jsxs("button",{onClick:ts,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition font-medium text-sm flex items-center gap-1",children:[S.jsx(pv,{className:"w-4 h-4"}),"Crea"]})]}),S.jsx("button",{onClick:xe,className:"w-full px-6 py-3 bg-red-600 text-white rounded-lg hover:bg-red-700 transition font-medium",children:"Partita giocata"})]})]})]}):S.jsxs("div",{className:"space-y-4 text-center py-8",children:[S.jsx("p",{className:"text-gray-300 mb-6",children:"Accedi con Google per iscriverti agli allenamenti"}),S.jsxs("button",{onClick:es,disabled:l,className:"inline-flex items-center gap-3 px-8 py-4 bg-white text-gray-800 rounded-lg hover:bg-gray-100 transition font-medium shadow-lg disabled:opacity-50",children:[S.jsxs("svg",{className:"w-6 h-6",viewBox:"0 0 24 24",children:[S.jsx("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),S.jsx("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),S.jsx("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),S.jsx("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),l?"Accesso in corso...":"Accedi con Google"]}),S.jsx("p",{className:"text-xs text-gray-500 mt-4",children:"* Login con Firebase/Google OAuth"})]}),$n=async D=>{if(!(!ie||!confirm("Sei sicuro di voler riaprire questa partita? Verrà aggiunta alle partite attive.")))try{await eh(Hi(Ut,"activeMatches"),{participants:D.participants||[],reserves:D.reserves||[],date:D.date.toDate?D.date.toDate().toISOString():new Date().toISOString(),createdAt:ui(),lastUpdated:ui(),createdBy:s.uid,status:"active",reopenedFrom:D.id}),await go(ye(Ut,"sessions",D.id)),alert("Partita riaperta con successo!"),await Vs()}catch(J){console.error("Errore nella riapertura della partita:",J),alert("Errore nella riapertura della partita")}},ss=()=>S.jsx("div",{className:"space-y-4 md:space-y-6",children:S.jsxs("div",{className:"bg-gray-800 rounded-xl shadow-2xl p-4 md:p-6 border border-gray-700",children:[S.jsx("h2",{className:"text-xl md:text-2xl font-bold text-gray-100 mb-4",children:"Storico Partite"}),xt.length===0?S.jsx("div",{className:"text-center py-8",children:S.jsx("p",{className:"text-gray-400",children:"Nessuna partita nel database"})}):S.jsx("div",{className:"space-y-3 md:space-y-4",children:xt.map((D,tt)=>S.jsx("div",{className:"bg-gray-700 rounded-lg p-3 md:p-4 border border-gray-600 hover:border-indigo-500 transition group",children:S.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-3",children:[S.jsxs("div",{onClick:()=>{At({...D,id:D.id,date:D.date.toDate?D.date.toDate().toISOString():new Date().toISOString()}),it(oe.MATCH_DETAIL)},className:"flex-1 cursor-pointer",children:[S.jsxs("h3",{className:"text-base md:text-lg font-semibold text-gray-100 group-hover:text-indigo-300",children:["Partita #",xt.length-tt]}),S.jsx("p",{className:"text-sm md:text-base text-gray-400 mt-1",children:D.date?.toDate?D.date.toDate().toLocaleString("it-IT",{dateStyle:"short",timeStyle:"short"}):"Data non disponibile"}),D.ignoredFromStats&&S.jsx("span",{className:"inline-block mt-1 text-xs bg-yellow-900/50 text-yellow-300 px-2 py-1 rounded",children:"Ignorata dalle statistiche"})]}),S.jsxs("div",{className:"flex items-center gap-3 md:gap-4 justify-between md:justify-end",children:[S.jsxs("div",{className:"text-center",children:[S.jsx("div",{className:"text-lg md:text-2xl font-bold text-green-400",children:(D.participants?.length||0)+(D.participants?.reduce((J,st)=>J+(st.friends?.length||0),0)||0)}),S.jsx("div",{className:"text-xs text-gray-400",children:"Partecipanti"})]}),S.jsxs("div",{className:"text-center",children:[S.jsx("div",{className:"text-lg md:text-2xl font-bold text-amber-400",children:(D.reserves?.length||0)+(D.reserves?.reduce((J,st)=>J+(st.friends?.length||0),0)||0)}),S.jsx("div",{className:"text-xs text-gray-400",children:"Riserve"})]}),ie&&S.jsxs("div",{className:"flex items-center gap-2",children:[S.jsx("button",{onClick:J=>{J.stopPropagation(),$n(D)},className:"p-1 md:p-2 text-blue-400 hover:text-blue-300 hover:bg-blue-900/20 rounded-lg transition",title:"Riapri partita",children:S.jsx("svg",{className:"w-4 h-4 md:w-5 md:h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})})}),S.jsx("button",{onClick:J=>{J.stopPropagation(),Ta(D.id)},className:`p-1 md:p-2 text-yellow-400 hover:text-yellow-300 hover:bg-yellow-900/20 rounded-lg transition ${D.ignoredFromStats?"bg-yellow-900/50":""}`,title:D.ignoredFromStats?"Riattiva nelle statistiche":"Ignora dalle statistiche",children:D.ignoredFromStats?"👁️":"🙈"}),S.jsx("button",{onClick:J=>{J.stopPropagation(),ns(D.id)},className:"p-1 md:p-2 text-red-400 hover:text-red-300 hover:bg-red-900/20 rounded-lg transition",title:"Elimina partita",children:S.jsx("svg",{className:"w-4 h-4 md:w-5 md:h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]})]})]})},D.id))})]})}),Fo=async(D,tt)=>{if(!(!ie||!confirm(`Sei sicuro di voler eliminare completamente l'utente "${tt}"? Questa azione non può essere annullata.`)))try{await go(ye(Ut,"users",D)),await Ur(),alert("Utente eliminato con successo")}catch(st){console.error("Errore nell'eliminazione utente:",st),alert("Errore nell'eliminazione utente")}},rs=()=>S.jsx("div",{className:"space-y-6",children:G.length===0?S.jsx("div",{className:"bg-gray-800 rounded-xl shadow-2xl p-8 border border-gray-700 text-center",children:S.jsx("p",{className:"text-gray-400",children:"Nessun utente registrato"})}):S.jsxs("div",{className:"bg-gray-800 rounded-xl shadow-2xl p-4 md:p-6 border border-gray-700",children:[S.jsx("h2",{className:"text-xl md:text-2xl font-bold text-gray-100 mb-4",children:"Lista Utenti"}),S.jsx("div",{className:"space-y-3 md:space-y-4",children:G.map(D=>S.jsx("div",{className:"bg-gray-700 rounded-lg p-3 md:p-4 border border-gray-600",children:S.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-3",children:[S.jsxs("div",{className:"flex items-center gap-3 md:gap-4 min-w-0 flex-1",children:[S.jsx("img",{src:D.photoURL||"",alt:D.displayName||"",className:"w-10 h-10 md:w-12 md:h-12 rounded-full border-2 border-indigo-500 flex-shrink-0 object-cover"}),S.jsxs("div",{className:"flex flex-col md:flex-row md:items-center gap-2 md:gap-6 min-w-0 flex-1",children:[S.jsx("div",{className:"min-w-0",children:S.jsx("div",{className:"font-medium text-gray-100 truncate",children:D.customDisplayName||D.displayName})}),S.jsxs("div",{className:"flex gap-2 md:gap-3 text-xs",children:[S.jsxs("div",{className:"text-center",children:[S.jsx("div",{className:"font-bold text-indigo-400",children:D.stats?.totalSessions||0}),S.jsx("div",{className:"text-gray-400",children:"Partite"})]}),S.jsxs("div",{className:"text-center",children:[S.jsx("div",{className:"font-bold text-green-400",children:D.stats?.asParticipant||0}),S.jsx("div",{className:"text-gray-400",children:"Part"})]}),S.jsxs("div",{className:"text-center",children:[S.jsx("div",{className:"font-bold text-purple-400",children:D.stats?.friendsBrought||0}),S.jsx("div",{className:"text-gray-400",children:"Amici"})]})]})]})]}),S.jsxs("div",{className:"flex items-center gap-2 md:gap-3 flex-shrink-0",children:[bi&&S.jsx("span",{className:`px-2 md:px-3 py-1 rounded-full text-xs font-medium ${D.email===fn||D.role==="admin"?"bg-blue-900 text-blue-200":"bg-gray-600 text-gray-200"}`,children:D.email===fn||D.role==="admin"?"Admin":"Utente"}),bi&&D.email!==fn&&D.id!==s?.uid&&S.jsxs("div",{className:"flex gap-1 md:gap-2",children:[D.role!=="admin"&&S.jsx("button",{onClick:()=>Lr(D.id,"admin"),className:"px-2 md:px-3 py-1 bg-blue-600 text-white rounded text-xs hover:bg-blue-700 transition",children:"Rendi Admin"}),D.role==="admin"&&S.jsx("button",{onClick:()=>Lr(D.id,"user"),className:"px-2 md:px-3 py-1 bg-gray-600 text-white rounded text-xs hover:bg-gray-700 transition",children:"Rendi Utente"})]}),S.jsx("button",{onClick:()=>Os(D.id,D.displayName),className:"px-2 md:px-3 py-1 bg-indigo-600 text-white rounded text-xs hover:bg-indigo-700 transition",children:"📊 Stats"}),ie&&D.email!==fn&&D.id!==s?.uid&&S.jsx("button",{onClick:()=>Fo(D.id,D.customDisplayName||D.displayName),className:"px-2 md:px-3 py-1 bg-red-600 text-white rounded text-xs hover:bg-red-700 transition",title:"Elimina utente",children:"🗑️"})]})]})},D.id))})]})}),kr=()=>i?S.jsx("div",{className:"fixed bottom-0 left-0 right-0 bg-gray-800 border-t border-gray-700 p-2 md:p-4 z-40",children:S.jsx("div",{className:"max-w-6xl mx-auto flex justify-center",children:S.jsxs("div",{className:"flex items-center gap-3 md:gap-6",children:[S.jsxs("button",{onClick:()=>it(me.length>0?oe.MATCH_LIST:oe.NO_MATCHES),className:`flex flex-col items-center gap-1 p-1 md:p-2 rounded-lg transition ${F===oe.NO_MATCHES||F===oe.MATCH_LIST||F===oe.MATCH_DETAIL?"bg-indigo-600 text-white":"text-gray-400 hover:text-gray-200"}`,title:"Partite",children:[S.jsx(yS,{className:"w-5 h-5 md:w-6 md:h-6"}),S.jsx("span",{className:"text-xs",children:"Partite"})]}),S.jsxs("button",{onClick:()=>{Vs(),it(oe.MATCH_HISTORY)},className:`flex flex-col items-center gap-1 p-1 md:p-2 rounded-lg transition ${F===oe.MATCH_HISTORY?"bg-indigo-600 text-white":"text-gray-400 hover:text-gray-200"}`,title:"Storico",children:[S.jsx(gS,{className:"w-5 h-5 md:w-6 md:h-6"}),S.jsx("span",{className:"text-xs",children:"Storico"})]}),S.jsxs("button",{onClick:()=>{Ur(),it(oe.USERS_LIST)},className:`flex flex-col items-center gap-1 p-1 md:p-2 rounded-lg transition ${F===oe.USERS_LIST?"bg-indigo-600 text-white":"text-gray-400 hover:text-gray-200"}`,title:"Utenti",children:[S.jsx(vS,{className:"w-5 h-5 md:w-6 md:h-6"}),S.jsx("span",{className:"text-xs",children:"Utenti"})]})]})})}):null;return S.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 to-gray-800 p-3 md:p-6 pb-24",children:S.jsxs("div",{className:"max-w-6xl mx-auto",children:[Xn(),i?S.jsxs("div",{className:"mb-20",children:[" ",F===oe.NO_MATCHES&&On(),F===oe.MATCH_LIST&&Ho(),F===oe.MATCH_DETAIL&&ba(),F===oe.MATCH_HISTORY&&ss(),F===oe.USERS_LIST&&rs()]}):S.jsx("div",{className:"flex flex-col items-center justify-center",children:S.jsxs("div",{className:"bg-gray-800 rounded-xl shadow-2xl p-8 border border-gray-700 w-full max-w-md text-center",children:[S.jsx("div",{className:"text-lg text-yellow-200 mb-6",children:"Benvenuto! Effettua il login per accedere alle partite di pallavolo"}),S.jsx("button",{onClick:es,disabled:l,className:"w-full px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition font-medium flex items-center justify-center gap-2",children:l?S.jsxs(S.Fragment,{children:[S.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white"}),"Accesso..."]}):S.jsxs(S.Fragment,{children:[S.jsx(yv,{className:"w-5 h-5"}),"Accedi con Google"]})})]})}),kr(),U&&L&&S.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:S.jsxs("div",{className:"bg-gray-800 rounded-xl shadow-2xl border border-gray-700 w-full max-w-md p-6",children:[S.jsxs("div",{className:"flex items-center justify-between mb-4",children:[S.jsxs("h3",{className:"text-lg font-bold text-gray-100 flex items-center gap-2",children:[S.jsx(gv,{className:"w-5 h-5 text-yellow-500"}),"Statistiche di ",L.displayName]}),S.jsx("button",{onClick:()=>M(!1),className:"text-gray-400 hover:text-gray-200 transition",children:"✕"})]}),S.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[S.jsxs("div",{className:"bg-gray-700/50 rounded-lg p-3 border border-gray-600/50",children:[S.jsx("div",{className:"text-xl font-bold text-indigo-400",children:L.totalSessions||0}),S.jsx("div",{className:"text-xs text-gray-400",children:"Partite totali"})]}),S.jsxs("div",{className:"bg-gray-700/50 rounded-lg p-3 border border-gray-600/50",children:[S.jsx("div",{className:"text-xl font-bold text-green-400",children:L.asParticipant||0}),S.jsx("div",{className:"text-xs text-gray-400",children:"Come partecipante"})]}),S.jsxs("div",{className:"bg-gray-700/50 rounded-lg p-3 border border-gray-600/50 col-span-2",children:[S.jsx("div",{className:"text-xl font-bold text-purple-400",children:L.friendsBrought||0}),S.jsx("div",{className:"text-xs text-gray-400",children:"Amici portati"})]})]}),ie&&S.jsx("button",{onClick:()=>en(L.uid),className:"mt-4 w-full px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition border border-red-500 text-sm",children:"🗑️ Reset statistiche utente"}),S.jsx("button",{onClick:()=>M(!1),className:"mt-2 w-full px-4 py-2 bg-gray-700 text-gray-100 rounded-lg hover:bg-gray-600 transition border border-gray-600 text-sm",children:"Chiudi"})]})})]})})}function TC(){return S.jsx("div",{className:"App",children:S.jsx(EC,{})})}sS.createRoot(document.getElementById("root")).render(S.jsx(Qt.StrictMode,{children:S.jsx(TC,{})}));
