(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))s(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&s(d)}).observe(document,{childList:!0,subtree:!0});function i(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function s(l){if(l.ep)return;l.ep=!0;const c=i(l);fetch(l.href,c)}})();var Pd={exports:{}},_l={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Y_;function HS(){if(Y_)return _l;Y_=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function i(s,l,c){var d=null;if(c!==void 0&&(d=""+c),l.key!==void 0&&(d=""+l.key),"key"in l){c={};for(var g in l)g!=="key"&&(c[g]=l[g])}else c=l;return l=c.ref,{$$typeof:r,type:s,key:d,ref:l!==void 0?l:null,props:c}}return _l.Fragment=t,_l.jsx=i,_l.jsxs=i,_l}var K_;function FS(){return K_||(K_=1,Pd.exports=HS()),Pd.exports}var j=FS(),kd={exports:{}},St={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var X_;function GS(){if(X_)return St;X_=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),S=Symbol.for("react.activity"),D=Symbol.iterator;function F(C){return C===null||typeof C!="object"?null:(C=D&&C[D]||C["@@iterator"],typeof C=="function"?C:null)}var J={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},et=Object.assign,W={};function gt(C,B,tt){this.props=C,this.context=B,this.refs=W,this.updater=tt||J}gt.prototype.isReactComponent={},gt.prototype.setState=function(C,B){if(typeof C!="object"&&typeof C!="function"&&C!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,C,B,"setState")},gt.prototype.forceUpdate=function(C){this.updater.enqueueForceUpdate(this,C,"forceUpdate")};function vt(){}vt.prototype=gt.prototype;function yt(C,B,tt){this.props=C,this.context=B,this.refs=W,this.updater=tt||J}var bt=yt.prototype=new vt;bt.constructor=yt,et(bt,gt.prototype),bt.isPureReactComponent=!0;var Kt=Array.isArray;function Ct(){}var N={H:null,A:null,T:null,S:null},b=Object.prototype.hasOwnProperty;function I(C,B,tt){var rt=tt.ref;return{$$typeof:r,type:C,key:B,ref:rt!==void 0?rt:null,props:tt}}function x(C,B){return I(C.type,B,C.props)}function V(C){return typeof C=="object"&&C!==null&&C.$$typeof===r}function U(C){var B={"=":"=0",":":"=2"};return"$"+C.replace(/[=:]/g,function(tt){return B[tt]})}var w=/\/+/g;function te(C,B){return typeof C=="object"&&C!==null&&C.key!=null?U(""+C.key):B.toString(36)}function fe(C){switch(C.status){case"fulfilled":return C.value;case"rejected":throw C.reason;default:switch(typeof C.status=="string"?C.then(Ct,Ct):(C.status="pending",C.then(function(B){C.status==="pending"&&(C.status="fulfilled",C.value=B)},function(B){C.status==="pending"&&(C.status="rejected",C.reason=B)})),C.status){case"fulfilled":return C.value;case"rejected":throw C.reason}}throw C}function G(C,B,tt,rt,ct){var lt=typeof C;(lt==="undefined"||lt==="boolean")&&(C=null);var Nt=!1;if(C===null)Nt=!0;else switch(lt){case"bigint":case"string":case"number":Nt=!0;break;case"object":switch(C.$$typeof){case r:case t:Nt=!0;break;case A:return Nt=C._init,G(Nt(C._payload),B,tt,rt,ct)}}if(Nt)return ct=ct(C),Nt=rt===""?"."+te(C,0):rt,Kt(ct)?(tt="",Nt!=null&&(tt=Nt.replace(w,"$&/")+"/"),G(ct,B,tt,"",function(sr){return sr})):ct!=null&&(V(ct)&&(ct=x(ct,tt+(ct.key==null||C&&C.key===ct.key?"":(""+ct.key).replace(w,"$&/")+"/")+Nt)),B.push(ct)),1;Nt=0;var De=rt===""?".":rt+":";if(Kt(C))for(var re=0;re<C.length;re++)rt=C[re],lt=De+te(rt,re),Nt+=G(rt,B,tt,lt,ct);else if(re=F(C),typeof re=="function")for(C=re.call(C),re=0;!(rt=C.next()).done;)rt=rt.value,lt=De+te(rt,re++),Nt+=G(rt,B,tt,lt,ct);else if(lt==="object"){if(typeof C.then=="function")return G(fe(C),B,tt,rt,ct);throw B=String(C),Error("Objects are not valid as a React child (found: "+(B==="[object Object]"?"object with keys {"+Object.keys(C).join(", ")+"}":B)+"). If you meant to render a collection of children, use an array instead.")}return Nt}function it(C,B,tt){if(C==null)return C;var rt=[],ct=0;return G(C,rt,"","",function(lt){return B.call(tt,lt,ct++)}),rt}function dt(C){if(C._status===-1){var B=C._result;B=B(),B.then(function(tt){(C._status===0||C._status===-1)&&(C._status=1,C._result=tt)},function(tt){(C._status===0||C._status===-1)&&(C._status=2,C._result=tt)}),C._status===-1&&(C._status=0,C._result=B)}if(C._status===1)return C._result.default;throw C._result}var Z=typeof reportError=="function"?reportError:function(C){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var B=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof C=="object"&&C!==null&&typeof C.message=="string"?String(C.message):String(C),error:C});if(!window.dispatchEvent(B))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",C);return}console.error(C)},at={map:it,forEach:function(C,B,tt){it(C,function(){B.apply(this,arguments)},tt)},count:function(C){var B=0;return it(C,function(){B++}),B},toArray:function(C){return it(C,function(B){return B})||[]},only:function(C){if(!V(C))throw Error("React.Children.only expected to receive a single React element child.");return C}};return St.Activity=S,St.Children=at,St.Component=gt,St.Fragment=i,St.Profiler=l,St.PureComponent=yt,St.StrictMode=s,St.Suspense=y,St.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=N,St.__COMPILER_RUNTIME={__proto__:null,c:function(C){return N.H.useMemoCache(C)}},St.cache=function(C){return function(){return C.apply(null,arguments)}},St.cacheSignal=function(){return null},St.cloneElement=function(C,B,tt){if(C==null)throw Error("The argument must be a React element, but you passed "+C+".");var rt=et({},C.props),ct=C.key;if(B!=null)for(lt in B.key!==void 0&&(ct=""+B.key),B)!b.call(B,lt)||lt==="key"||lt==="__self"||lt==="__source"||lt==="ref"&&B.ref===void 0||(rt[lt]=B[lt]);var lt=arguments.length-2;if(lt===1)rt.children=tt;else if(1<lt){for(var Nt=Array(lt),De=0;De<lt;De++)Nt[De]=arguments[De+2];rt.children=Nt}return I(C.type,ct,rt)},St.createContext=function(C){return C={$$typeof:d,_currentValue:C,_currentValue2:C,_threadCount:0,Provider:null,Consumer:null},C.Provider=C,C.Consumer={$$typeof:c,_context:C},C},St.createElement=function(C,B,tt){var rt,ct={},lt=null;if(B!=null)for(rt in B.key!==void 0&&(lt=""+B.key),B)b.call(B,rt)&&rt!=="key"&&rt!=="__self"&&rt!=="__source"&&(ct[rt]=B[rt]);var Nt=arguments.length-2;if(Nt===1)ct.children=tt;else if(1<Nt){for(var De=Array(Nt),re=0;re<Nt;re++)De[re]=arguments[re+2];ct.children=De}if(C&&C.defaultProps)for(rt in Nt=C.defaultProps,Nt)ct[rt]===void 0&&(ct[rt]=Nt[rt]);return I(C,lt,ct)},St.createRef=function(){return{current:null}},St.forwardRef=function(C){return{$$typeof:g,render:C}},St.isValidElement=V,St.lazy=function(C){return{$$typeof:A,_payload:{_status:-1,_result:C},_init:dt}},St.memo=function(C,B){return{$$typeof:_,type:C,compare:B===void 0?null:B}},St.startTransition=function(C){var B=N.T,tt={};N.T=tt;try{var rt=C(),ct=N.S;ct!==null&&ct(tt,rt),typeof rt=="object"&&rt!==null&&typeof rt.then=="function"&&rt.then(Ct,Z)}catch(lt){Z(lt)}finally{B!==null&&tt.types!==null&&(B.types=tt.types),N.T=B}},St.unstable_useCacheRefresh=function(){return N.H.useCacheRefresh()},St.use=function(C){return N.H.use(C)},St.useActionState=function(C,B,tt){return N.H.useActionState(C,B,tt)},St.useCallback=function(C,B){return N.H.useCallback(C,B)},St.useContext=function(C){return N.H.useContext(C)},St.useDebugValue=function(){},St.useDeferredValue=function(C,B){return N.H.useDeferredValue(C,B)},St.useEffect=function(C,B){return N.H.useEffect(C,B)},St.useEffectEvent=function(C){return N.H.useEffectEvent(C)},St.useId=function(){return N.H.useId()},St.useImperativeHandle=function(C,B,tt){return N.H.useImperativeHandle(C,B,tt)},St.useInsertionEffect=function(C,B){return N.H.useInsertionEffect(C,B)},St.useLayoutEffect=function(C,B){return N.H.useLayoutEffect(C,B)},St.useMemo=function(C,B){return N.H.useMemo(C,B)},St.useOptimistic=function(C,B){return N.H.useOptimistic(C,B)},St.useReducer=function(C,B,tt){return N.H.useReducer(C,B,tt)},St.useRef=function(C){return N.H.useRef(C)},St.useState=function(C){return N.H.useState(C)},St.useSyncExternalStore=function(C,B,tt){return N.H.useSyncExternalStore(C,B,tt)},St.useTransition=function(){return N.H.useTransition()},St.version="19.2.0",St}var $_;function Rm(){return $_||($_=1,kd.exports=GS()),kd.exports}var Ft=Rm(),zd={exports:{}},vl={},jd={exports:{}},Bd={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Z_;function QS(){return Z_||(Z_=1,(function(r){function t(G,it){var dt=G.length;G.push(it);t:for(;0<dt;){var Z=dt-1>>>1,at=G[Z];if(0<l(at,it))G[Z]=it,G[dt]=at,dt=Z;else break t}}function i(G){return G.length===0?null:G[0]}function s(G){if(G.length===0)return null;var it=G[0],dt=G.pop();if(dt!==it){G[0]=dt;t:for(var Z=0,at=G.length,C=at>>>1;Z<C;){var B=2*(Z+1)-1,tt=G[B],rt=B+1,ct=G[rt];if(0>l(tt,dt))rt<at&&0>l(ct,tt)?(G[Z]=ct,G[rt]=dt,Z=rt):(G[Z]=tt,G[B]=dt,Z=B);else if(rt<at&&0>l(ct,dt))G[Z]=ct,G[rt]=dt,Z=rt;else break t}}return it}function l(G,it){var dt=G.sortIndex-it.sortIndex;return dt!==0?dt:G.id-it.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;r.unstable_now=function(){return c.now()}}else{var d=Date,g=d.now();r.unstable_now=function(){return d.now()-g}}var y=[],_=[],A=1,S=null,D=3,F=!1,J=!1,et=!1,W=!1,gt=typeof setTimeout=="function"?setTimeout:null,vt=typeof clearTimeout=="function"?clearTimeout:null,yt=typeof setImmediate<"u"?setImmediate:null;function bt(G){for(var it=i(_);it!==null;){if(it.callback===null)s(_);else if(it.startTime<=G)s(_),it.sortIndex=it.expirationTime,t(y,it);else break;it=i(_)}}function Kt(G){if(et=!1,bt(G),!J)if(i(y)!==null)J=!0,Ct||(Ct=!0,U());else{var it=i(_);it!==null&&fe(Kt,it.startTime-G)}}var Ct=!1,N=-1,b=5,I=-1;function x(){return W?!0:!(r.unstable_now()-I<b)}function V(){if(W=!1,Ct){var G=r.unstable_now();I=G;var it=!0;try{t:{J=!1,et&&(et=!1,vt(N),N=-1),F=!0;var dt=D;try{e:{for(bt(G),S=i(y);S!==null&&!(S.expirationTime>G&&x());){var Z=S.callback;if(typeof Z=="function"){S.callback=null,D=S.priorityLevel;var at=Z(S.expirationTime<=G);if(G=r.unstable_now(),typeof at=="function"){S.callback=at,bt(G),it=!0;break e}S===i(y)&&s(y),bt(G)}else s(y);S=i(y)}if(S!==null)it=!0;else{var C=i(_);C!==null&&fe(Kt,C.startTime-G),it=!1}}break t}finally{S=null,D=dt,F=!1}it=void 0}}finally{it?U():Ct=!1}}}var U;if(typeof yt=="function")U=function(){yt(V)};else if(typeof MessageChannel<"u"){var w=new MessageChannel,te=w.port2;w.port1.onmessage=V,U=function(){te.postMessage(null)}}else U=function(){gt(V,0)};function fe(G,it){N=gt(function(){G(r.unstable_now())},it)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(G){G.callback=null},r.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):b=0<G?Math.floor(1e3/G):5},r.unstable_getCurrentPriorityLevel=function(){return D},r.unstable_next=function(G){switch(D){case 1:case 2:case 3:var it=3;break;default:it=D}var dt=D;D=it;try{return G()}finally{D=dt}},r.unstable_requestPaint=function(){W=!0},r.unstable_runWithPriority=function(G,it){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var dt=D;D=G;try{return it()}finally{D=dt}},r.unstable_scheduleCallback=function(G,it,dt){var Z=r.unstable_now();switch(typeof dt=="object"&&dt!==null?(dt=dt.delay,dt=typeof dt=="number"&&0<dt?Z+dt:Z):dt=Z,G){case 1:var at=-1;break;case 2:at=250;break;case 5:at=1073741823;break;case 4:at=1e4;break;default:at=5e3}return at=dt+at,G={id:A++,callback:it,priorityLevel:G,startTime:dt,expirationTime:at,sortIndex:-1},dt>Z?(G.sortIndex=dt,t(_,G),i(y)===null&&G===i(_)&&(et?(vt(N),N=-1):et=!0,fe(Kt,dt-Z))):(G.sortIndex=at,t(y,G),J||F||(J=!0,Ct||(Ct=!0,U()))),G},r.unstable_shouldYield=x,r.unstable_wrapCallback=function(G){var it=D;return function(){var dt=D;D=it;try{return G.apply(this,arguments)}finally{D=dt}}}})(Bd)),Bd}var J_;function YS(){return J_||(J_=1,jd.exports=QS()),jd.exports}var qd={exports:{}},Xe={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var W_;function KS(){if(W_)return Xe;W_=1;var r=Rm();function t(y){var _="https://react.dev/errors/"+y;if(1<arguments.length){_+="?args[]="+encodeURIComponent(arguments[1]);for(var A=2;A<arguments.length;A++)_+="&args[]="+encodeURIComponent(arguments[A])}return"Minified React error #"+y+"; visit "+_+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var s={d:{f:i,r:function(){throw Error(t(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},l=Symbol.for("react.portal");function c(y,_,A){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:S==null?null:""+S,children:y,containerInfo:_,implementation:A}}var d=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(y,_){if(y==="font")return"";if(typeof _=="string")return _==="use-credentials"?_:""}return Xe.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Xe.createPortal=function(y,_){var A=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_||_.nodeType!==1&&_.nodeType!==9&&_.nodeType!==11)throw Error(t(299));return c(y,_,null,A)},Xe.flushSync=function(y){var _=d.T,A=s.p;try{if(d.T=null,s.p=2,y)return y()}finally{d.T=_,s.p=A,s.d.f()}},Xe.preconnect=function(y,_){typeof y=="string"&&(_?(_=_.crossOrigin,_=typeof _=="string"?_==="use-credentials"?_:"":void 0):_=null,s.d.C(y,_))},Xe.prefetchDNS=function(y){typeof y=="string"&&s.d.D(y)},Xe.preinit=function(y,_){if(typeof y=="string"&&_&&typeof _.as=="string"){var A=_.as,S=g(A,_.crossOrigin),D=typeof _.integrity=="string"?_.integrity:void 0,F=typeof _.fetchPriority=="string"?_.fetchPriority:void 0;A==="style"?s.d.S(y,typeof _.precedence=="string"?_.precedence:void 0,{crossOrigin:S,integrity:D,fetchPriority:F}):A==="script"&&s.d.X(y,{crossOrigin:S,integrity:D,fetchPriority:F,nonce:typeof _.nonce=="string"?_.nonce:void 0})}},Xe.preinitModule=function(y,_){if(typeof y=="string")if(typeof _=="object"&&_!==null){if(_.as==null||_.as==="script"){var A=g(_.as,_.crossOrigin);s.d.M(y,{crossOrigin:A,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0})}}else _==null&&s.d.M(y)},Xe.preload=function(y,_){if(typeof y=="string"&&typeof _=="object"&&_!==null&&typeof _.as=="string"){var A=_.as,S=g(A,_.crossOrigin);s.d.L(y,A,{crossOrigin:S,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0,type:typeof _.type=="string"?_.type:void 0,fetchPriority:typeof _.fetchPriority=="string"?_.fetchPriority:void 0,referrerPolicy:typeof _.referrerPolicy=="string"?_.referrerPolicy:void 0,imageSrcSet:typeof _.imageSrcSet=="string"?_.imageSrcSet:void 0,imageSizes:typeof _.imageSizes=="string"?_.imageSizes:void 0,media:typeof _.media=="string"?_.media:void 0})}},Xe.preloadModule=function(y,_){if(typeof y=="string")if(_){var A=g(_.as,_.crossOrigin);s.d.m(y,{as:typeof _.as=="string"&&_.as!=="script"?_.as:void 0,crossOrigin:A,integrity:typeof _.integrity=="string"?_.integrity:void 0})}else s.d.m(y)},Xe.requestFormReset=function(y){s.d.r(y)},Xe.unstable_batchedUpdates=function(y,_){return y(_)},Xe.useFormState=function(y,_,A){return d.H.useFormState(y,_,A)},Xe.useFormStatus=function(){return d.H.useHostTransitionStatus()},Xe.version="19.2.0",Xe}var tv;function XS(){if(tv)return qd.exports;tv=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),qd.exports=KS(),qd.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ev;function $S(){if(ev)return vl;ev=1;var r=YS(),t=Rm(),i=XS();function s(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)n+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function c(e){var n=e,a=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(a=n.return),e=n.return;while(e)}return n.tag===3?a:null}function d(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function g(e){if(e.tag===31){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function y(e){if(c(e)!==e)throw Error(s(188))}function _(e){var n=e.alternate;if(!n){if(n=c(e),n===null)throw Error(s(188));return n!==e?null:e}for(var a=e,o=n;;){var h=a.return;if(h===null)break;var f=h.alternate;if(f===null){if(o=h.return,o!==null){a=o;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===a)return y(h),e;if(f===o)return y(h),n;f=f.sibling}throw Error(s(188))}if(a.return!==o.return)a=h,o=f;else{for(var p=!1,E=h.child;E;){if(E===a){p=!0,a=h,o=f;break}if(E===o){p=!0,o=h,a=f;break}E=E.sibling}if(!p){for(E=f.child;E;){if(E===a){p=!0,a=f,o=h;break}if(E===o){p=!0,o=f,a=h;break}E=E.sibling}if(!p)throw Error(s(189))}}if(a.alternate!==o)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?e:n}function A(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=A(e),n!==null)return n;e=e.sibling}return null}var S=Object.assign,D=Symbol.for("react.element"),F=Symbol.for("react.transitional.element"),J=Symbol.for("react.portal"),et=Symbol.for("react.fragment"),W=Symbol.for("react.strict_mode"),gt=Symbol.for("react.profiler"),vt=Symbol.for("react.consumer"),yt=Symbol.for("react.context"),bt=Symbol.for("react.forward_ref"),Kt=Symbol.for("react.suspense"),Ct=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),x=Symbol.for("react.memo_cache_sentinel"),V=Symbol.iterator;function U(e){return e===null||typeof e!="object"?null:(e=V&&e[V]||e["@@iterator"],typeof e=="function"?e:null)}var w=Symbol.for("react.client.reference");function te(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===w?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case et:return"Fragment";case gt:return"Profiler";case W:return"StrictMode";case Kt:return"Suspense";case Ct:return"SuspenseList";case I:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case J:return"Portal";case yt:return e.displayName||"Context";case vt:return(e._context.displayName||"Context")+".Consumer";case bt:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case N:return n=e.displayName||null,n!==null?n:te(e.type)||"Memo";case b:n=e._payload,e=e._init;try{return te(e(n))}catch{}}return null}var fe=Array.isArray,G=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,it=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,dt={pending:!1,data:null,method:null,action:null},Z=[],at=-1;function C(e){return{current:e}}function B(e){0>at||(e.current=Z[at],Z[at]=null,at--)}function tt(e,n){at++,Z[at]=e.current,e.current=n}var rt=C(null),ct=C(null),lt=C(null),Nt=C(null);function De(e,n){switch(tt(lt,n),tt(ct,e),tt(rt,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?p_(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=p_(n),e=y_(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}B(rt),tt(rt,e)}function re(){B(rt),B(ct),B(lt)}function sr(e){e.memoizedState!==null&&tt(Nt,e);var n=rt.current,a=y_(n,e.type);n!==a&&(tt(ct,e),tt(rt,a))}function Xr(e){ct.current===e&&(B(rt),B(ct)),Nt.current===e&&(B(Nt),ml._currentValue=dt)}var $r,Zr;function ni(e){if($r===void 0)try{throw Error()}catch(a){var n=a.stack.trim().match(/\n( *(at )?)/);$r=n&&n[1]||"",Zr=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+$r+e+Zr}var mo=!1;function rr(e,n){if(!e||mo)return"";mo=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(n){var X=function(){throw Error()};if(Object.defineProperty(X.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(X,[])}catch(H){var z=H}Reflect.construct(e,[],X)}else{try{X.call()}catch(H){z=H}e.call(X.prototype)}}else{try{throw Error()}catch(H){z=H}(X=e())&&typeof X.catch=="function"&&X.catch(function(){})}}catch(H){if(H&&z&&typeof H.stack=="string")return[H.stack,z.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=o.DetermineComponentFrameRoot(),p=f[0],E=f[1];if(p&&E){var R=p.split(`
`),k=E.split(`
`);for(h=o=0;o<R.length&&!R[o].includes("DetermineComponentFrameRoot");)o++;for(;h<k.length&&!k[h].includes("DetermineComponentFrameRoot");)h++;if(o===R.length||h===k.length)for(o=R.length-1,h=k.length-1;1<=o&&0<=h&&R[o]!==k[h];)h--;for(;1<=o&&0<=h;o--,h--)if(R[o]!==k[h]){if(o!==1||h!==1)do if(o--,h--,0>h||R[o]!==k[h]){var Q=`
`+R[o].replace(" at new "," at ");return e.displayName&&Q.includes("<anonymous>")&&(Q=Q.replace("<anonymous>",e.displayName)),Q}while(1<=o&&0<=h);break}}}finally{mo=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?ni(a):""}function go(e,n){switch(e.tag){case 26:case 27:case 5:return ni(e.type);case 16:return ni("Lazy");case 13:return e.child!==n&&n!==null?ni("Suspense Fallback"):ni("Suspense");case 19:return ni("SuspenseList");case 0:case 15:return rr(e.type,!1);case 11:return rr(e.type.render,!1);case 1:return rr(e.type,!0);case 31:return ni("Activity");default:return""}}function po(e){try{var n="",a=null;do n+=go(e,a),a=e,e=e.return;while(e);return n}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}var _e=Object.prototype.hasOwnProperty,Oe=r.unstable_scheduleCallback,rs=r.unstable_cancelCallback,kh=r.unstable_shouldYield,ru=r.unstable_requestPaint,We=r.unstable_now,ar=r.unstable_getCurrentPriorityLevel,yo=r.unstable_ImmediatePriority,_o=r.unstable_UserBlockingPriority,as=r.unstable_NormalPriority,zh=r.unstable_LowPriority,au=r.unstable_IdlePriority,ou=r.log,lu=r.unstable_setDisableYieldValue,kn=null,je=null;function wn(e){if(typeof ou=="function"&&lu(e),je&&typeof je.setStrictMode=="function")try{je.setStrictMode(kn,e)}catch{}}var de=Math.clz32?Math.clz32:cu,uu=Math.log,Jr=Math.LN2;function cu(e){return e>>>=0,e===0?32:31-(uu(e)/Jr|0)|0}var ii=256,or=262144,ve=4194304;function si(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function ri(e,n,a){var o=e.pendingLanes;if(o===0)return 0;var h=0,f=e.suspendedLanes,p=e.pingedLanes;e=e.warmLanes;var E=o&134217727;return E!==0?(o=E&~f,o!==0?h=si(o):(p&=E,p!==0?h=si(p):a||(a=E&~e,a!==0&&(h=si(a))))):(E=o&~f,E!==0?h=si(E):p!==0?h=si(p):a||(a=o&~e,a!==0&&(h=si(a)))),h===0?0:n!==0&&n!==h&&(n&f)===0&&(f=h&-h,a=n&-n,f>=a||f===32&&(a&4194048)!==0)?n:h}function zn(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function jh(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function hu(){var e=ve;return ve<<=1,(ve&62914560)===0&&(ve=4194304),e}function ai(e){for(var n=[],a=0;31>a;a++)n.push(e);return n}function lr(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Bh(e,n,a,o,h,f){var p=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var E=e.entanglements,R=e.expirationTimes,k=e.hiddenUpdates;for(a=p&~a;0<a;){var Q=31-de(a),X=1<<Q;E[Q]=0,R[Q]=-1;var z=k[Q];if(z!==null)for(k[Q]=null,Q=0;Q<z.length;Q++){var H=z[Q];H!==null&&(H.lane&=-536870913)}a&=~X}o!==0&&ur(e,o,0),f!==0&&h===0&&e.tag!==0&&(e.suspendedLanes|=f&~(p&~n))}function ur(e,n,a){e.pendingLanes|=n,e.suspendedLanes&=~n;var o=31-de(n);e.entangledLanes|=n,e.entanglements[o]=e.entanglements[o]|1073741824|a&261930}function vo(e,n){var a=e.entangledLanes|=n;for(e=e.entanglements;a;){var o=31-de(a),h=1<<o;h&n|e[o]&n&&(e[o]|=n),a&=~h}}function Eo(e,n){var a=n&-n;return a=(a&42)!==0?1:cr(a),(a&(e.suspendedLanes|n))!==0?0:a}function cr(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Vi(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function fu(){var e=it.p;return e!==0?e:(e=window.event,e===void 0?32:j_(e.type))}function jn(e,n){var a=it.p;try{return it.p=e,n()}finally{it.p=a}}var Bn=Math.random().toString(36).slice(2),Ee="__reactFiber$"+Bn,Ue="__reactProps$"+Bn,oi="__reactContainer$"+Bn,Wr="__reactEvents$"+Bn,qh="__reactListeners$"+Bn,du="__reactHandles$"+Bn,mu="__reactResources$"+Bn,li="__reactMarker$"+Bn;function ta(e){delete e[Ee],delete e[Ue],delete e[Wr],delete e[qh],delete e[du]}function ui(e){var n=e[Ee];if(n)return n;for(var a=e.parentNode;a;){if(n=a[oi]||a[Ee]){if(a=n.alternate,n.child!==null||a!==null&&a.child!==null)for(e=b_(e);e!==null;){if(a=e[Ee])return a;e=b_(e)}return n}e=a,a=e.parentNode}return null}function Rn(e){if(e=e[Ee]||e[oi]){var n=e.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return e}return null}function dn(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(s(33))}function ci(e){var n=e[mu];return n||(n=e[mu]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function Te(e){e[li]=!0}var To=new Set,Ao={};function hi(e,n){fi(e,n),fi(e+"Capture",n)}function fi(e,n){for(Ao[e]=n,e=0;e<n.length;e++)To.add(n[e])}var So=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),bo={},wo={};function gu(e){return _e.call(wo,e)?!0:_e.call(bo,e)?!1:So.test(e)?wo[e]=!0:(bo[e]=!0,!1)}function ea(e,n,a){if(gu(n))if(a===null)e.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var o=n.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+a)}}function mn(e,n,a){if(a===null)e.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+a)}}function Ae(e,n,a,o){if(o===null)e.removeAttribute(a);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(n,a,""+o)}}function Le(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function os(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Ro(e,n,a){var o=Object.getOwnPropertyDescriptor(e.constructor.prototype,n);if(!e.hasOwnProperty(n)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var h=o.get,f=o.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return h.call(this)},set:function(p){a=""+p,f.call(this,p)}}),Object.defineProperty(e,n,{enumerable:o.enumerable}),{getValue:function(){return a},setValue:function(p){a=""+p},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function Gt(e){if(!e._valueTracker){var n=os(e)?"checked":"value";e._valueTracker=Ro(e,n,""+e[n])}}function hr(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var a=n.getValue(),o="";return e&&(o=os(e)?e.checked?"true":"false":e.value),e=o,e!==a?(n.setValue(e),!0):!1}function di(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var fr=/[\n"\\]/g;function sn(e){return e.replace(fr,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function na(e,n,a,o,h,f,p,E){e.name="",p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"?e.type=p:e.removeAttribute("type"),n!=null?p==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+Le(n)):e.value!==""+Le(n)&&(e.value=""+Le(n)):p!=="submit"&&p!=="reset"||e.removeAttribute("value"),n!=null?Io(e,p,Le(n)):a!=null?Io(e,p,Le(a)):o!=null&&e.removeAttribute("value"),h==null&&f!=null&&(e.defaultChecked=!!f),h!=null&&(e.checked=h&&typeof h!="function"&&typeof h!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?e.name=""+Le(E):e.removeAttribute("name")}function pu(e,n,a,o,h,f,p,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(e.type=f),n!=null||a!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){Gt(e);return}a=a!=null?""+Le(a):"",n=n!=null?""+Le(n):a,E||n===e.value||(e.value=n),e.defaultValue=n}o=o??h,o=typeof o!="function"&&typeof o!="symbol"&&!!o,e.checked=E?e.checked:!!o,e.defaultChecked=!!o,p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(e.name=p),Gt(e)}function Io(e,n,a){n==="number"&&di(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function ls(e,n,a,o){if(e=e.options,n){n={};for(var h=0;h<a.length;h++)n["$"+a[h]]=!0;for(a=0;a<e.length;a++)h=n.hasOwnProperty("$"+e[a].value),e[a].selected!==h&&(e[a].selected=h),h&&o&&(e[a].defaultSelected=!0)}else{for(a=""+Le(a),n=null,h=0;h<e.length;h++){if(e[h].value===a){e[h].selected=!0,o&&(e[h].defaultSelected=!0);return}n!==null||e[h].disabled||(n=e[h])}n!==null&&(n.selected=!0)}}function yu(e,n,a){if(n!=null&&(n=""+Le(n),n!==e.value&&(e.value=n),a==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=a!=null?""+Le(a):""}function us(e,n,a,o){if(n==null){if(o!=null){if(a!=null)throw Error(s(92));if(fe(o)){if(1<o.length)throw Error(s(93));o=o[0]}a=o}a==null&&(a=""),n=a}a=Le(n),e.defaultValue=a,o=e.textContent,o===a&&o!==""&&o!==null&&(e.value=o),Gt(e)}function rn(e,n){if(n){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=n;return}}e.textContent=n}var _u=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Co(e,n,a){var o=n.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?o?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":o?e.setProperty(n,a):typeof a!="number"||a===0||_u.has(n)?n==="float"?e.cssFloat=a:e[n]=(""+a).trim():e[n]=a+"px"}function No(e,n,a){if(n!=null&&typeof n!="object")throw Error(s(62));if(e=e.style,a!=null){for(var o in a)!a.hasOwnProperty(o)||n!=null&&n.hasOwnProperty(o)||(o.indexOf("--")===0?e.setProperty(o,""):o==="float"?e.cssFloat="":e[o]="");for(var h in n)o=n[h],n.hasOwnProperty(h)&&a[h]!==o&&Co(e,h,o)}else for(var f in n)n.hasOwnProperty(f)&&Co(e,f,n[f])}function ia(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var vu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),cs=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function sa(e){return cs.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function qn(){}var Do=null;function In(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var hs=null,mi=null;function dr(e){var n=Rn(e);if(n&&(e=n.stateNode)){var a=e[Ue]||null;t:switch(e=n.stateNode,n.type){case"input":if(na(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),n=a.name,a.type==="radio"&&n!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+sn(""+n)+'"][type="radio"]'),n=0;n<a.length;n++){var o=a[n];if(o!==e&&o.form===e.form){var h=o[Ue]||null;if(!h)throw Error(s(90));na(o,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<a.length;n++)o=a[n],o.form===e.form&&hr(o)}break t;case"textarea":yu(e,a.value,a.defaultValue);break t;case"select":n=a.value,n!=null&&ls(e,!!a.multiple,n,!1)}}}var ra=!1;function fs(e,n,a){if(ra)return e(n,a);ra=!0;try{var o=e(n);return o}finally{if(ra=!1,(hs!==null||mi!==null)&&(fc(),hs&&(n=hs,e=mi,mi=hs=null,dr(n),e)))for(n=0;n<e.length;n++)dr(e[n])}}function Hn(e,n){var a=e.stateNode;if(a===null)return null;var o=a[Ue]||null;if(o===null)return null;a=o[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(e=e.type,o=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!o;break t;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(s(231,n,typeof a));return a}var Cn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),mr=!1;if(Cn)try{var Xt={};Object.defineProperty(Xt,"passive",{get:function(){mr=!0}}),window.addEventListener("test",Xt,Xt),window.removeEventListener("test",Xt,Xt)}catch{mr=!1}var gi=null,Oo=null,gr=null;function Vo(){if(gr)return gr;var e,n=Oo,a=n.length,o,h="value"in gi?gi.value:gi.textContent,f=h.length;for(e=0;e<a&&n[e]===h[e];e++);var p=a-e;for(o=1;o<=p&&n[a-o]===h[f-o];o++);return gr=h.slice(e,1<o?1-o:void 0)}function pr(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function xi(){return!0}function Fn(){return!1}function Be(e){function n(a,o,h,f,p){this._reactName=a,this._targetInst=h,this.type=o,this.nativeEvent=f,this.target=p,this.currentTarget=null;for(var E in e)e.hasOwnProperty(E)&&(a=e[E],this[E]=a?a(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?xi:Fn,this.isPropagationStopped=Fn,this}return S(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=xi)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=xi)},persist:function(){},isPersistent:xi}),n}var Mi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},pi=Be(Mi),ds=S({},Mi,{view:0,detail:0}),xo=Be(ds),ms,aa,yi,oa=S({},ds,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:gs,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==yi&&(yi&&e.type==="mousemove"?(ms=e.screenX-yi.screenX,aa=e.screenY-yi.screenY):aa=ms=0,yi=e),ms)},movementY:function(e){return"movementY"in e?e.movementY:aa}}),Mo=Be(oa),yr=S({},oa,{dataTransfer:0}),Eu=Be(yr),Tu=S({},ds,{relatedTarget:0}),_r=Be(Tu),Uo=S({},Mi,{animationName:0,elapsedTime:0,pseudoElement:0}),Au=Be(Uo),la=S({},Mi,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Su=Be(la),bu=S({},Mi,{data:0}),_i=Be(bu),wu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ru={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Iu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Cu(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=Iu[e])?!!n[e]:!1}function gs(){return Cu}var tn=S({},ds,{key:function(e){if(e.key){var n=wu[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=pr(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Ru[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:gs,charCode:function(e){return e.type==="keypress"?pr(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?pr(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Nu=Be(tn),Du=S({},oa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ui=Be(Du),u=S({},ds,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:gs}),m=Be(u),v=S({},Mi,{propertyName:0,elapsedTime:0,pseudoElement:0}),T=Be(v),L=S({},oa,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),q=Be(L),nt=S({},Mi,{newState:0,oldState:0}),wt=Be(nt),me=[9,13,27,32],qt=Cn&&"CompositionEvent"in window,ae=null;Cn&&"documentMode"in document&&(ae=document.documentMode);var Nn=Cn&&"TextEvent"in window&&!ae,vi=Cn&&(!qt||ae&&8<ae&&11>=ae),Gn=" ",Qn=!1;function vr(e,n){switch(e){case"keyup":return me.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ua(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ca=!1;function dA(e,n){switch(e){case"compositionend":return ua(n);case"keypress":return n.which!==32?null:(Qn=!0,Gn);case"textInput":return e=n.data,e===Gn&&Qn?null:e;default:return null}}function mA(e,n){if(ca)return e==="compositionend"||!qt&&vr(e,n)?(e=Vo(),gr=Oo=gi=null,ca=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return vi&&n.locale!=="ko"?null:n.data;default:return null}}var gA={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ig(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!gA[e.type]:n==="textarea"}function Cg(e,n,a,o){hs?mi?mi.push(o):mi=[o]:hs=o,n=vc(n,"onChange"),0<n.length&&(a=new pi("onChange","change",null,a,o),e.push({event:a,listeners:n}))}var Lo=null,Po=null;function pA(e){c_(e,0)}function Ou(e){var n=dn(e);if(hr(n))return e}function Ng(e,n){if(e==="change")return n}var Dg=!1;if(Cn){var Hh;if(Cn){var Fh="oninput"in document;if(!Fh){var Og=document.createElement("div");Og.setAttribute("oninput","return;"),Fh=typeof Og.oninput=="function"}Hh=Fh}else Hh=!1;Dg=Hh&&(!document.documentMode||9<document.documentMode)}function Vg(){Lo&&(Lo.detachEvent("onpropertychange",xg),Po=Lo=null)}function xg(e){if(e.propertyName==="value"&&Ou(Po)){var n=[];Cg(n,Po,e,In(e)),fs(pA,n)}}function yA(e,n,a){e==="focusin"?(Vg(),Lo=n,Po=a,Lo.attachEvent("onpropertychange",xg)):e==="focusout"&&Vg()}function _A(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Ou(Po)}function vA(e,n){if(e==="click")return Ou(n)}function EA(e,n){if(e==="input"||e==="change")return Ou(n)}function TA(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var gn=typeof Object.is=="function"?Object.is:TA;function ko(e,n){if(gn(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var a=Object.keys(e),o=Object.keys(n);if(a.length!==o.length)return!1;for(o=0;o<a.length;o++){var h=a[o];if(!_e.call(n,h)||!gn(e[h],n[h]))return!1}return!0}function Mg(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Ug(e,n){var a=Mg(e);e=0;for(var o;a;){if(a.nodeType===3){if(o=e+a.textContent.length,e<=n&&o>=n)return{node:a,offset:n-e};e=o}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=Mg(a)}}function Lg(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?Lg(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function Pg(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=di(e.document);n instanceof e.HTMLIFrameElement;){try{var a=typeof n.contentWindow.location.href=="string"}catch{a=!1}if(a)e=n.contentWindow;else break;n=di(e.document)}return n}function Gh(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var AA=Cn&&"documentMode"in document&&11>=document.documentMode,ha=null,Qh=null,zo=null,Yh=!1;function kg(e,n,a){var o=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Yh||ha==null||ha!==di(o)||(o=ha,"selectionStart"in o&&Gh(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),zo&&ko(zo,o)||(zo=o,o=vc(Qh,"onSelect"),0<o.length&&(n=new pi("onSelect","select",null,n,a),e.push({event:n,listeners:o}),n.target=ha)))}function Er(e,n){var a={};return a[e.toLowerCase()]=n.toLowerCase(),a["Webkit"+e]="webkit"+n,a["Moz"+e]="moz"+n,a}var fa={animationend:Er("Animation","AnimationEnd"),animationiteration:Er("Animation","AnimationIteration"),animationstart:Er("Animation","AnimationStart"),transitionrun:Er("Transition","TransitionRun"),transitionstart:Er("Transition","TransitionStart"),transitioncancel:Er("Transition","TransitionCancel"),transitionend:Er("Transition","TransitionEnd")},Kh={},zg={};Cn&&(zg=document.createElement("div").style,"AnimationEvent"in window||(delete fa.animationend.animation,delete fa.animationiteration.animation,delete fa.animationstart.animation),"TransitionEvent"in window||delete fa.transitionend.transition);function Tr(e){if(Kh[e])return Kh[e];if(!fa[e])return e;var n=fa[e],a;for(a in n)if(n.hasOwnProperty(a)&&a in zg)return Kh[e]=n[a];return e}var jg=Tr("animationend"),Bg=Tr("animationiteration"),qg=Tr("animationstart"),SA=Tr("transitionrun"),bA=Tr("transitionstart"),wA=Tr("transitioncancel"),Hg=Tr("transitionend"),Fg=new Map,Xh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Xh.push("scrollEnd");function Yn(e,n){Fg.set(e,n),hi(n,[e])}var Vu=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Dn=[],da=0,$h=0;function xu(){for(var e=da,n=$h=da=0;n<e;){var a=Dn[n];Dn[n++]=null;var o=Dn[n];Dn[n++]=null;var h=Dn[n];Dn[n++]=null;var f=Dn[n];if(Dn[n++]=null,o!==null&&h!==null){var p=o.pending;p===null?h.next=h:(h.next=p.next,p.next=h),o.pending=h}f!==0&&Gg(a,h,f)}}function Mu(e,n,a,o){Dn[da++]=e,Dn[da++]=n,Dn[da++]=a,Dn[da++]=o,$h|=o,e.lanes|=o,e=e.alternate,e!==null&&(e.lanes|=o)}function Zh(e,n,a,o){return Mu(e,n,a,o),Uu(e)}function Ar(e,n){return Mu(e,null,null,n),Uu(e)}function Gg(e,n,a){e.lanes|=a;var o=e.alternate;o!==null&&(o.lanes|=a);for(var h=!1,f=e.return;f!==null;)f.childLanes|=a,o=f.alternate,o!==null&&(o.childLanes|=a),f.tag===22&&(e=f.stateNode,e===null||e._visibility&1||(h=!0)),e=f,f=f.return;return e.tag===3?(f=e.stateNode,h&&n!==null&&(h=31-de(a),e=f.hiddenUpdates,o=e[h],o===null?e[h]=[n]:o.push(n),n.lane=a|536870912),f):null}function Uu(e){if(50<ol)throw ol=0,od=null,Error(s(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var ma={};function RA(e,n,a,o){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function pn(e,n,a,o){return new RA(e,n,a,o)}function Jh(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Li(e,n){var a=e.alternate;return a===null?(a=pn(e.tag,n,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=n,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,n=e.dependencies,a.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function Qg(e,n){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,n=a.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function Lu(e,n,a,o,h,f){var p=0;if(o=e,typeof e=="function")Jh(e)&&(p=1);else if(typeof e=="string")p=OS(e,a,rt.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case I:return e=pn(31,a,n,h),e.elementType=I,e.lanes=f,e;case et:return Sr(a.children,h,f,n);case W:p=8,h|=24;break;case gt:return e=pn(12,a,n,h|2),e.elementType=gt,e.lanes=f,e;case Kt:return e=pn(13,a,n,h),e.elementType=Kt,e.lanes=f,e;case Ct:return e=pn(19,a,n,h),e.elementType=Ct,e.lanes=f,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case yt:p=10;break t;case vt:p=9;break t;case bt:p=11;break t;case N:p=14;break t;case b:p=16,o=null;break t}p=29,a=Error(s(130,e===null?"null":typeof e,"")),o=null}return n=pn(p,a,n,h),n.elementType=e,n.type=o,n.lanes=f,n}function Sr(e,n,a,o){return e=pn(7,e,o,n),e.lanes=a,e}function Wh(e,n,a){return e=pn(6,e,null,n),e.lanes=a,e}function Yg(e){var n=pn(18,null,null,0);return n.stateNode=e,n}function tf(e,n,a){return n=pn(4,e.children!==null?e.children:[],e.key,n),n.lanes=a,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var Kg=new WeakMap;function On(e,n){if(typeof e=="object"&&e!==null){var a=Kg.get(e);return a!==void 0?a:(n={value:e,source:n,stack:po(n)},Kg.set(e,n),n)}return{value:e,source:n,stack:po(n)}}var ga=[],pa=0,Pu=null,jo=0,Vn=[],xn=0,ps=null,Ei=1,Ti="";function Pi(e,n){ga[pa++]=jo,ga[pa++]=Pu,Pu=e,jo=n}function Xg(e,n,a){Vn[xn++]=Ei,Vn[xn++]=Ti,Vn[xn++]=ps,ps=e;var o=Ei;e=Ti;var h=32-de(o)-1;o&=~(1<<h),a+=1;var f=32-de(n)+h;if(30<f){var p=h-h%5;f=(o&(1<<p)-1).toString(32),o>>=p,h-=p,Ei=1<<32-de(n)+h|a<<h|o,Ti=f+e}else Ei=1<<f|a<<h|o,Ti=e}function ef(e){e.return!==null&&(Pi(e,1),Xg(e,1,0))}function nf(e){for(;e===Pu;)Pu=ga[--pa],ga[pa]=null,jo=ga[--pa],ga[pa]=null;for(;e===ps;)ps=Vn[--xn],Vn[xn]=null,Ti=Vn[--xn],Vn[xn]=null,Ei=Vn[--xn],Vn[xn]=null}function $g(e,n){Vn[xn++]=Ei,Vn[xn++]=Ti,Vn[xn++]=ps,Ei=n.id,Ti=n.overflow,ps=e}var qe=null,ne=null,Pt=!1,ys=null,Mn=!1,sf=Error(s(519));function _s(e){var n=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Bo(On(n,e)),sf}function Zg(e){var n=e.stateNode,a=e.type,o=e.memoizedProps;switch(n[Ee]=e,n[Ue]=o,a){case"dialog":Ot("cancel",n),Ot("close",n);break;case"iframe":case"object":case"embed":Ot("load",n);break;case"video":case"audio":for(a=0;a<ul.length;a++)Ot(ul[a],n);break;case"source":Ot("error",n);break;case"img":case"image":case"link":Ot("error",n),Ot("load",n);break;case"details":Ot("toggle",n);break;case"input":Ot("invalid",n),pu(n,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0);break;case"select":Ot("invalid",n);break;case"textarea":Ot("invalid",n),us(n,o.value,o.defaultValue,o.children)}a=o.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||n.textContent===""+a||o.suppressHydrationWarning===!0||m_(n.textContent,a)?(o.popover!=null&&(Ot("beforetoggle",n),Ot("toggle",n)),o.onScroll!=null&&Ot("scroll",n),o.onScrollEnd!=null&&Ot("scrollend",n),o.onClick!=null&&(n.onclick=qn),n=!0):n=!1,n||_s(e,!0)}function Jg(e){for(qe=e.return;qe;)switch(qe.tag){case 5:case 31:case 13:Mn=!1;return;case 27:case 3:Mn=!0;return;default:qe=qe.return}}function ya(e){if(e!==qe)return!1;if(!Pt)return Jg(e),Pt=!0,!1;var n=e.tag,a;if((a=n!==3&&n!==27)&&((a=n===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||Ad(e.type,e.memoizedProps)),a=!a),a&&ne&&_s(e),Jg(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));ne=S_(e)}else if(n===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));ne=S_(e)}else n===27?(n=ne,Vs(e.type)?(e=Id,Id=null,ne=e):ne=n):ne=qe?Ln(e.stateNode.nextSibling):null;return!0}function br(){ne=qe=null,Pt=!1}function rf(){var e=ys;return e!==null&&(un===null?un=e:un.push.apply(un,e),ys=null),e}function Bo(e){ys===null?ys=[e]:ys.push(e)}var af=C(null),wr=null,ki=null;function vs(e,n,a){tt(af,n._currentValue),n._currentValue=a}function zi(e){e._currentValue=af.current,B(af)}function of(e,n,a){for(;e!==null;){var o=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,o!==null&&(o.childLanes|=n)):o!==null&&(o.childLanes&n)!==n&&(o.childLanes|=n),e===a)break;e=e.return}}function lf(e,n,a,o){var h=e.child;for(h!==null&&(h.return=e);h!==null;){var f=h.dependencies;if(f!==null){var p=h.child;f=f.firstContext;t:for(;f!==null;){var E=f;f=h;for(var R=0;R<n.length;R++)if(E.context===n[R]){f.lanes|=a,E=f.alternate,E!==null&&(E.lanes|=a),of(f.return,a,e),o||(p=null);break t}f=E.next}}else if(h.tag===18){if(p=h.return,p===null)throw Error(s(341));p.lanes|=a,f=p.alternate,f!==null&&(f.lanes|=a),of(p,a,e),p=null}else p=h.child;if(p!==null)p.return=h;else for(p=h;p!==null;){if(p===e){p=null;break}if(h=p.sibling,h!==null){h.return=p.return,p=h;break}p=p.return}h=p}}function _a(e,n,a,o){e=null;for(var h=n,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var p=h.alternate;if(p===null)throw Error(s(387));if(p=p.memoizedProps,p!==null){var E=h.type;gn(h.pendingProps.value,p.value)||(e!==null?e.push(E):e=[E])}}else if(h===Nt.current){if(p=h.alternate,p===null)throw Error(s(387));p.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(e!==null?e.push(ml):e=[ml])}h=h.return}e!==null&&lf(n,e,a,o),n.flags|=262144}function ku(e){for(e=e.firstContext;e!==null;){if(!gn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Rr(e){wr=e,ki=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function He(e){return Wg(wr,e)}function zu(e,n){return wr===null&&Rr(e),Wg(e,n)}function Wg(e,n){var a=n._currentValue;if(n={context:n,memoizedValue:a,next:null},ki===null){if(e===null)throw Error(s(308));ki=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else ki=ki.next=n;return a}var IA=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(a,o){e.push(o)}};this.abort=function(){n.aborted=!0,e.forEach(function(a){return a()})}},CA=r.unstable_scheduleCallback,NA=r.unstable_NormalPriority,Se={$$typeof:yt,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function uf(){return{controller:new IA,data:new Map,refCount:0}}function qo(e){e.refCount--,e.refCount===0&&CA(NA,function(){e.controller.abort()})}var Ho=null,cf=0,va=0,Ea=null;function DA(e,n){if(Ho===null){var a=Ho=[];cf=0,va=dd(),Ea={status:"pending",value:void 0,then:function(o){a.push(o)}}}return cf++,n.then(tp,tp),n}function tp(){if(--cf===0&&Ho!==null){Ea!==null&&(Ea.status="fulfilled");var e=Ho;Ho=null,va=0,Ea=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function OA(e,n){var a=[],o={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return e.then(function(){o.status="fulfilled",o.value=n;for(var h=0;h<a.length;h++)(0,a[h])(n)},function(h){for(o.status="rejected",o.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),o}var ep=G.S;G.S=function(e,n){ky=We(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&DA(e,n),ep!==null&&ep(e,n)};var Ir=C(null);function hf(){var e=Ir.current;return e!==null?e:ee.pooledCache}function ju(e,n){n===null?tt(Ir,Ir.current):tt(Ir,n.pool)}function np(){var e=hf();return e===null?null:{parent:Se._currentValue,pool:e}}var Ta=Error(s(460)),ff=Error(s(474)),Bu=Error(s(542)),qu={then:function(){}};function ip(e){return e=e.status,e==="fulfilled"||e==="rejected"}function sp(e,n,a){switch(a=e[a],a===void 0?e.push(n):a!==n&&(n.then(qn,qn),n=a),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,ap(e),e;default:if(typeof n.status=="string")n.then(qn,qn);else{if(e=ee,e!==null&&100<e.shellSuspendCounter)throw Error(s(482));e=n,e.status="pending",e.then(function(o){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=o}},function(o){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=o}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,ap(e),e}throw Nr=n,Ta}}function Cr(e){try{var n=e._init;return n(e._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(Nr=a,Ta):a}}var Nr=null;function rp(){if(Nr===null)throw Error(s(459));var e=Nr;return Nr=null,e}function ap(e){if(e===Ta||e===Bu)throw Error(s(483))}var Aa=null,Fo=0;function Hu(e){var n=Fo;return Fo+=1,Aa===null&&(Aa=[]),sp(Aa,e,n)}function Go(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function Fu(e,n){throw n.$$typeof===D?Error(s(525)):(e=Object.prototype.toString.call(n),Error(s(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function op(e){function n(M,O){if(e){var P=M.deletions;P===null?(M.deletions=[O],M.flags|=16):P.push(O)}}function a(M,O){if(!e)return null;for(;O!==null;)n(M,O),O=O.sibling;return null}function o(M){for(var O=new Map;M!==null;)M.key!==null?O.set(M.key,M):O.set(M.index,M),M=M.sibling;return O}function h(M,O){return M=Li(M,O),M.index=0,M.sibling=null,M}function f(M,O,P){return M.index=P,e?(P=M.alternate,P!==null?(P=P.index,P<O?(M.flags|=67108866,O):P):(M.flags|=67108866,O)):(M.flags|=1048576,O)}function p(M){return e&&M.alternate===null&&(M.flags|=67108866),M}function E(M,O,P,K){return O===null||O.tag!==6?(O=Wh(P,M.mode,K),O.return=M,O):(O=h(O,P),O.return=M,O)}function R(M,O,P,K){var mt=P.type;return mt===et?Q(M,O,P.props.children,K,P.key):O!==null&&(O.elementType===mt||typeof mt=="object"&&mt!==null&&mt.$$typeof===b&&Cr(mt)===O.type)?(O=h(O,P.props),Go(O,P),O.return=M,O):(O=Lu(P.type,P.key,P.props,null,M.mode,K),Go(O,P),O.return=M,O)}function k(M,O,P,K){return O===null||O.tag!==4||O.stateNode.containerInfo!==P.containerInfo||O.stateNode.implementation!==P.implementation?(O=tf(P,M.mode,K),O.return=M,O):(O=h(O,P.children||[]),O.return=M,O)}function Q(M,O,P,K,mt){return O===null||O.tag!==7?(O=Sr(P,M.mode,K,mt),O.return=M,O):(O=h(O,P),O.return=M,O)}function X(M,O,P){if(typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint")return O=Wh(""+O,M.mode,P),O.return=M,O;if(typeof O=="object"&&O!==null){switch(O.$$typeof){case F:return P=Lu(O.type,O.key,O.props,null,M.mode,P),Go(P,O),P.return=M,P;case J:return O=tf(O,M.mode,P),O.return=M,O;case b:return O=Cr(O),X(M,O,P)}if(fe(O)||U(O))return O=Sr(O,M.mode,P,null),O.return=M,O;if(typeof O.then=="function")return X(M,Hu(O),P);if(O.$$typeof===yt)return X(M,zu(M,O),P);Fu(M,O)}return null}function z(M,O,P,K){var mt=O!==null?O.key:null;if(typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint")return mt!==null?null:E(M,O,""+P,K);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case F:return P.key===mt?R(M,O,P,K):null;case J:return P.key===mt?k(M,O,P,K):null;case b:return P=Cr(P),z(M,O,P,K)}if(fe(P)||U(P))return mt!==null?null:Q(M,O,P,K,null);if(typeof P.then=="function")return z(M,O,Hu(P),K);if(P.$$typeof===yt)return z(M,O,zu(M,P),K);Fu(M,P)}return null}function H(M,O,P,K,mt){if(typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint")return M=M.get(P)||null,E(O,M,""+K,mt);if(typeof K=="object"&&K!==null){switch(K.$$typeof){case F:return M=M.get(K.key===null?P:K.key)||null,R(O,M,K,mt);case J:return M=M.get(K.key===null?P:K.key)||null,k(O,M,K,mt);case b:return K=Cr(K),H(M,O,P,K,mt)}if(fe(K)||U(K))return M=M.get(P)||null,Q(O,M,K,mt,null);if(typeof K.then=="function")return H(M,O,P,Hu(K),mt);if(K.$$typeof===yt)return H(M,O,P,zu(O,K),mt);Fu(O,K)}return null}function ut(M,O,P,K){for(var mt=null,jt=null,ht=O,It=O=0,xt=null;ht!==null&&It<P.length;It++){ht.index>It?(xt=ht,ht=null):xt=ht.sibling;var Bt=z(M,ht,P[It],K);if(Bt===null){ht===null&&(ht=xt);break}e&&ht&&Bt.alternate===null&&n(M,ht),O=f(Bt,O,It),jt===null?mt=Bt:jt.sibling=Bt,jt=Bt,ht=xt}if(It===P.length)return a(M,ht),Pt&&Pi(M,It),mt;if(ht===null){for(;It<P.length;It++)ht=X(M,P[It],K),ht!==null&&(O=f(ht,O,It),jt===null?mt=ht:jt.sibling=ht,jt=ht);return Pt&&Pi(M,It),mt}for(ht=o(ht);It<P.length;It++)xt=H(ht,M,It,P[It],K),xt!==null&&(e&&xt.alternate!==null&&ht.delete(xt.key===null?It:xt.key),O=f(xt,O,It),jt===null?mt=xt:jt.sibling=xt,jt=xt);return e&&ht.forEach(function(Ps){return n(M,Ps)}),Pt&&Pi(M,It),mt}function _t(M,O,P,K){if(P==null)throw Error(s(151));for(var mt=null,jt=null,ht=O,It=O=0,xt=null,Bt=P.next();ht!==null&&!Bt.done;It++,Bt=P.next()){ht.index>It?(xt=ht,ht=null):xt=ht.sibling;var Ps=z(M,ht,Bt.value,K);if(Ps===null){ht===null&&(ht=xt);break}e&&ht&&Ps.alternate===null&&n(M,ht),O=f(Ps,O,It),jt===null?mt=Ps:jt.sibling=Ps,jt=Ps,ht=xt}if(Bt.done)return a(M,ht),Pt&&Pi(M,It),mt;if(ht===null){for(;!Bt.done;It++,Bt=P.next())Bt=X(M,Bt.value,K),Bt!==null&&(O=f(Bt,O,It),jt===null?mt=Bt:jt.sibling=Bt,jt=Bt);return Pt&&Pi(M,It),mt}for(ht=o(ht);!Bt.done;It++,Bt=P.next())Bt=H(ht,M,It,Bt.value,K),Bt!==null&&(e&&Bt.alternate!==null&&ht.delete(Bt.key===null?It:Bt.key),O=f(Bt,O,It),jt===null?mt=Bt:jt.sibling=Bt,jt=Bt);return e&&ht.forEach(function(qS){return n(M,qS)}),Pt&&Pi(M,It),mt}function Jt(M,O,P,K){if(typeof P=="object"&&P!==null&&P.type===et&&P.key===null&&(P=P.props.children),typeof P=="object"&&P!==null){switch(P.$$typeof){case F:t:{for(var mt=P.key;O!==null;){if(O.key===mt){if(mt=P.type,mt===et){if(O.tag===7){a(M,O.sibling),K=h(O,P.props.children),K.return=M,M=K;break t}}else if(O.elementType===mt||typeof mt=="object"&&mt!==null&&mt.$$typeof===b&&Cr(mt)===O.type){a(M,O.sibling),K=h(O,P.props),Go(K,P),K.return=M,M=K;break t}a(M,O);break}else n(M,O);O=O.sibling}P.type===et?(K=Sr(P.props.children,M.mode,K,P.key),K.return=M,M=K):(K=Lu(P.type,P.key,P.props,null,M.mode,K),Go(K,P),K.return=M,M=K)}return p(M);case J:t:{for(mt=P.key;O!==null;){if(O.key===mt)if(O.tag===4&&O.stateNode.containerInfo===P.containerInfo&&O.stateNode.implementation===P.implementation){a(M,O.sibling),K=h(O,P.children||[]),K.return=M,M=K;break t}else{a(M,O);break}else n(M,O);O=O.sibling}K=tf(P,M.mode,K),K.return=M,M=K}return p(M);case b:return P=Cr(P),Jt(M,O,P,K)}if(fe(P))return ut(M,O,P,K);if(U(P)){if(mt=U(P),typeof mt!="function")throw Error(s(150));return P=mt.call(P),_t(M,O,P,K)}if(typeof P.then=="function")return Jt(M,O,Hu(P),K);if(P.$$typeof===yt)return Jt(M,O,zu(M,P),K);Fu(M,P)}return typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint"?(P=""+P,O!==null&&O.tag===6?(a(M,O.sibling),K=h(O,P),K.return=M,M=K):(a(M,O),K=Wh(P,M.mode,K),K.return=M,M=K),p(M)):a(M,O)}return function(M,O,P,K){try{Fo=0;var mt=Jt(M,O,P,K);return Aa=null,mt}catch(ht){if(ht===Ta||ht===Bu)throw ht;var jt=pn(29,ht,null,M.mode);return jt.lanes=K,jt.return=M,jt}finally{}}}var Dr=op(!0),lp=op(!1),Es=!1;function df(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function mf(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Ts(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function As(e,n,a){var o=e.updateQueue;if(o===null)return null;if(o=o.shared,(Ht&2)!==0){var h=o.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),o.pending=n,n=Uu(e),Gg(e,null,a),n}return Mu(e,o,n,a),Uu(e)}function Qo(e,n,a){if(n=n.updateQueue,n!==null&&(n=n.shared,(a&4194048)!==0)){var o=n.lanes;o&=e.pendingLanes,a|=o,n.lanes=a,vo(e,a)}}function gf(e,n){var a=e.updateQueue,o=e.alternate;if(o!==null&&(o=o.updateQueue,a===o)){var h=null,f=null;if(a=a.firstBaseUpdate,a!==null){do{var p={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};f===null?h=f=p:f=f.next=p,a=a.next}while(a!==null);f===null?h=f=n:f=f.next=n}else h=f=n;a={baseState:o.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:o.shared,callbacks:o.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=n:e.next=n,a.lastBaseUpdate=n}var pf=!1;function Yo(){if(pf){var e=Ea;if(e!==null)throw e}}function Ko(e,n,a,o){pf=!1;var h=e.updateQueue;Es=!1;var f=h.firstBaseUpdate,p=h.lastBaseUpdate,E=h.shared.pending;if(E!==null){h.shared.pending=null;var R=E,k=R.next;R.next=null,p===null?f=k:p.next=k,p=R;var Q=e.alternate;Q!==null&&(Q=Q.updateQueue,E=Q.lastBaseUpdate,E!==p&&(E===null?Q.firstBaseUpdate=k:E.next=k,Q.lastBaseUpdate=R))}if(f!==null){var X=h.baseState;p=0,Q=k=R=null,E=f;do{var z=E.lane&-536870913,H=z!==E.lane;if(H?(Vt&z)===z:(o&z)===z){z!==0&&z===va&&(pf=!0),Q!==null&&(Q=Q.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var ut=e,_t=E;z=n;var Jt=a;switch(_t.tag){case 1:if(ut=_t.payload,typeof ut=="function"){X=ut.call(Jt,X,z);break t}X=ut;break t;case 3:ut.flags=ut.flags&-65537|128;case 0:if(ut=_t.payload,z=typeof ut=="function"?ut.call(Jt,X,z):ut,z==null)break t;X=S({},X,z);break t;case 2:Es=!0}}z=E.callback,z!==null&&(e.flags|=64,H&&(e.flags|=8192),H=h.callbacks,H===null?h.callbacks=[z]:H.push(z))}else H={lane:z,tag:E.tag,payload:E.payload,callback:E.callback,next:null},Q===null?(k=Q=H,R=X):Q=Q.next=H,p|=z;if(E=E.next,E===null){if(E=h.shared.pending,E===null)break;H=E,E=H.next,H.next=null,h.lastBaseUpdate=H,h.shared.pending=null}}while(!0);Q===null&&(R=X),h.baseState=R,h.firstBaseUpdate=k,h.lastBaseUpdate=Q,f===null&&(h.shared.lanes=0),Is|=p,e.lanes=p,e.memoizedState=X}}function up(e,n){if(typeof e!="function")throw Error(s(191,e));e.call(n)}function cp(e,n){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)up(a[e],n)}var Sa=C(null),Gu=C(0);function hp(e,n){e=Ki,tt(Gu,e),tt(Sa,n),Ki=e|n.baseLanes}function yf(){tt(Gu,Ki),tt(Sa,Sa.current)}function _f(){Ki=Gu.current,B(Sa),B(Gu)}var yn=C(null),Un=null;function Ss(e){var n=e.alternate;tt(ge,ge.current&1),tt(yn,e),Un===null&&(n===null||Sa.current!==null||n.memoizedState!==null)&&(Un=e)}function vf(e){tt(ge,ge.current),tt(yn,e),Un===null&&(Un=e)}function fp(e){e.tag===22?(tt(ge,ge.current),tt(yn,e),Un===null&&(Un=e)):bs()}function bs(){tt(ge,ge.current),tt(yn,yn.current)}function _n(e){B(yn),Un===e&&(Un=null),B(ge)}var ge=C(0);function Qu(e){for(var n=e;n!==null;){if(n.tag===13){var a=n.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||wd(a)||Rd(a)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var ji=0,Rt=null,$t=null,be=null,Yu=!1,ba=!1,Or=!1,Ku=0,Xo=0,wa=null,VA=0;function ue(){throw Error(s(321))}function Ef(e,n){if(n===null)return!1;for(var a=0;a<n.length&&a<e.length;a++)if(!gn(e[a],n[a]))return!1;return!0}function Tf(e,n,a,o,h,f){return ji=f,Rt=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,G.H=e===null||e.memoizedState===null?Xp:Lf,Or=!1,f=a(o,h),Or=!1,ba&&(f=mp(n,a,o,h)),dp(e),f}function dp(e){G.H=Jo;var n=$t!==null&&$t.next!==null;if(ji=0,be=$t=Rt=null,Yu=!1,Xo=0,wa=null,n)throw Error(s(300));e===null||we||(e=e.dependencies,e!==null&&ku(e)&&(we=!0))}function mp(e,n,a,o){Rt=e;var h=0;do{if(ba&&(wa=null),Xo=0,ba=!1,25<=h)throw Error(s(301));if(h+=1,be=$t=null,e.updateQueue!=null){var f=e.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}G.H=$p,f=n(a,o)}while(ba);return f}function xA(){var e=G.H,n=e.useState()[0];return n=typeof n.then=="function"?$o(n):n,e=e.useState()[0],($t!==null?$t.memoizedState:null)!==e&&(Rt.flags|=1024),n}function Af(){var e=Ku!==0;return Ku=0,e}function Sf(e,n,a){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~a}function bf(e){if(Yu){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}Yu=!1}ji=0,be=$t=Rt=null,ba=!1,Xo=Ku=0,wa=null}function en(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return be===null?Rt.memoizedState=be=e:be=be.next=e,be}function pe(){if($t===null){var e=Rt.alternate;e=e!==null?e.memoizedState:null}else e=$t.next;var n=be===null?Rt.memoizedState:be.next;if(n!==null)be=n,$t=e;else{if(e===null)throw Rt.alternate===null?Error(s(467)):Error(s(310));$t=e,e={memoizedState:$t.memoizedState,baseState:$t.baseState,baseQueue:$t.baseQueue,queue:$t.queue,next:null},be===null?Rt.memoizedState=be=e:be=be.next=e}return be}function Xu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function $o(e){var n=Xo;return Xo+=1,wa===null&&(wa=[]),e=sp(wa,e,n),n=Rt,(be===null?n.memoizedState:be.next)===null&&(n=n.alternate,G.H=n===null||n.memoizedState===null?Xp:Lf),e}function $u(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return $o(e);if(e.$$typeof===yt)return He(e)}throw Error(s(438,String(e)))}function wf(e){var n=null,a=Rt.updateQueue;if(a!==null&&(n=a.memoCache),n==null){var o=Rt.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(n={data:o.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),a===null&&(a=Xu(),Rt.updateQueue=a),a.memoCache=n,a=n.data[n.index],a===void 0)for(a=n.data[n.index]=Array(e),o=0;o<e;o++)a[o]=x;return n.index++,a}function Bi(e,n){return typeof n=="function"?n(e):n}function Zu(e){var n=pe();return Rf(n,$t,e)}function Rf(e,n,a){var o=e.queue;if(o===null)throw Error(s(311));o.lastRenderedReducer=a;var h=e.baseQueue,f=o.pending;if(f!==null){if(h!==null){var p=h.next;h.next=f.next,f.next=p}n.baseQueue=h=f,o.pending=null}if(f=e.baseState,h===null)e.memoizedState=f;else{n=h.next;var E=p=null,R=null,k=n,Q=!1;do{var X=k.lane&-536870913;if(X!==k.lane?(Vt&X)===X:(ji&X)===X){var z=k.revertLane;if(z===0)R!==null&&(R=R.next={lane:0,revertLane:0,gesture:null,action:k.action,hasEagerState:k.hasEagerState,eagerState:k.eagerState,next:null}),X===va&&(Q=!0);else if((ji&z)===z){k=k.next,z===va&&(Q=!0);continue}else X={lane:0,revertLane:k.revertLane,gesture:null,action:k.action,hasEagerState:k.hasEagerState,eagerState:k.eagerState,next:null},R===null?(E=R=X,p=f):R=R.next=X,Rt.lanes|=z,Is|=z;X=k.action,Or&&a(f,X),f=k.hasEagerState?k.eagerState:a(f,X)}else z={lane:X,revertLane:k.revertLane,gesture:k.gesture,action:k.action,hasEagerState:k.hasEagerState,eagerState:k.eagerState,next:null},R===null?(E=R=z,p=f):R=R.next=z,Rt.lanes|=X,Is|=X;k=k.next}while(k!==null&&k!==n);if(R===null?p=f:R.next=E,!gn(f,e.memoizedState)&&(we=!0,Q&&(a=Ea,a!==null)))throw a;e.memoizedState=f,e.baseState=p,e.baseQueue=R,o.lastRenderedState=f}return h===null&&(o.lanes=0),[e.memoizedState,o.dispatch]}function If(e){var n=pe(),a=n.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=e;var o=a.dispatch,h=a.pending,f=n.memoizedState;if(h!==null){a.pending=null;var p=h=h.next;do f=e(f,p.action),p=p.next;while(p!==h);gn(f,n.memoizedState)||(we=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),a.lastRenderedState=f}return[f,o]}function gp(e,n,a){var o=Rt,h=pe(),f=Pt;if(f){if(a===void 0)throw Error(s(407));a=a()}else a=n();var p=!gn(($t||h).memoizedState,a);if(p&&(h.memoizedState=a,we=!0),h=h.queue,Df(_p.bind(null,o,h,e),[e]),h.getSnapshot!==n||p||be!==null&&be.memoizedState.tag&1){if(o.flags|=2048,Ra(9,{destroy:void 0},yp.bind(null,o,h,a,n),null),ee===null)throw Error(s(349));f||(ji&127)!==0||pp(o,n,a)}return a}function pp(e,n,a){e.flags|=16384,e={getSnapshot:n,value:a},n=Rt.updateQueue,n===null?(n=Xu(),Rt.updateQueue=n,n.stores=[e]):(a=n.stores,a===null?n.stores=[e]:a.push(e))}function yp(e,n,a,o){n.value=a,n.getSnapshot=o,vp(n)&&Ep(e)}function _p(e,n,a){return a(function(){vp(n)&&Ep(e)})}function vp(e){var n=e.getSnapshot;e=e.value;try{var a=n();return!gn(e,a)}catch{return!0}}function Ep(e){var n=Ar(e,2);n!==null&&cn(n,e,2)}function Cf(e){var n=en();if(typeof e=="function"){var a=e;if(e=a(),Or){wn(!0);try{a()}finally{wn(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Bi,lastRenderedState:e},n}function Tp(e,n,a,o){return e.baseState=a,Rf(e,$t,typeof o=="function"?o:Bi)}function MA(e,n,a,o,h){if(tc(e))throw Error(s(485));if(e=n.action,e!==null){var f={payload:h,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(p){f.listeners.push(p)}};G.T!==null?a(!0):f.isTransition=!1,o(f),a=n.pending,a===null?(f.next=n.pending=f,Ap(n,f)):(f.next=a.next,n.pending=a.next=f)}}function Ap(e,n){var a=n.action,o=n.payload,h=e.state;if(n.isTransition){var f=G.T,p={};G.T=p;try{var E=a(h,o),R=G.S;R!==null&&R(p,E),Sp(e,n,E)}catch(k){Nf(e,n,k)}finally{f!==null&&p.types!==null&&(f.types=p.types),G.T=f}}else try{f=a(h,o),Sp(e,n,f)}catch(k){Nf(e,n,k)}}function Sp(e,n,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(o){bp(e,n,o)},function(o){return Nf(e,n,o)}):bp(e,n,a)}function bp(e,n,a){n.status="fulfilled",n.value=a,wp(n),e.state=a,n=e.pending,n!==null&&(a=n.next,a===n?e.pending=null:(a=a.next,n.next=a,Ap(e,a)))}function Nf(e,n,a){var o=e.pending;if(e.pending=null,o!==null){o=o.next;do n.status="rejected",n.reason=a,wp(n),n=n.next;while(n!==o)}e.action=null}function wp(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function Rp(e,n){return n}function Ip(e,n){if(Pt){var a=ee.formState;if(a!==null){t:{var o=Rt;if(Pt){if(ne){e:{for(var h=ne,f=Mn;h.nodeType!==8;){if(!f){h=null;break e}if(h=Ln(h.nextSibling),h===null){h=null;break e}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){ne=Ln(h.nextSibling),o=h.data==="F!";break t}}_s(o)}o=!1}o&&(n=a[0])}}return a=en(),a.memoizedState=a.baseState=n,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Rp,lastRenderedState:n},a.queue=o,a=Qp.bind(null,Rt,o),o.dispatch=a,o=Cf(!1),f=Uf.bind(null,Rt,!1,o.queue),o=en(),h={state:n,dispatch:null,action:e,pending:null},o.queue=h,a=MA.bind(null,Rt,h,f,a),h.dispatch=a,o.memoizedState=e,[n,a,!1]}function Cp(e){var n=pe();return Np(n,$t,e)}function Np(e,n,a){if(n=Rf(e,n,Rp)[0],e=Zu(Bi)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var o=$o(n)}catch(p){throw p===Ta?Bu:p}else o=n;n=pe();var h=n.queue,f=h.dispatch;return a!==n.memoizedState&&(Rt.flags|=2048,Ra(9,{destroy:void 0},UA.bind(null,h,a),null)),[o,f,e]}function UA(e,n){e.action=n}function Dp(e){var n=pe(),a=$t;if(a!==null)return Np(n,a,e);pe(),n=n.memoizedState,a=pe();var o=a.queue.dispatch;return a.memoizedState=e,[n,o,!1]}function Ra(e,n,a,o){return e={tag:e,create:a,deps:o,inst:n,next:null},n=Rt.updateQueue,n===null&&(n=Xu(),Rt.updateQueue=n),a=n.lastEffect,a===null?n.lastEffect=e.next=e:(o=a.next,a.next=e,e.next=o,n.lastEffect=e),e}function Op(){return pe().memoizedState}function Ju(e,n,a,o){var h=en();Rt.flags|=e,h.memoizedState=Ra(1|n,{destroy:void 0},a,o===void 0?null:o)}function Wu(e,n,a,o){var h=pe();o=o===void 0?null:o;var f=h.memoizedState.inst;$t!==null&&o!==null&&Ef(o,$t.memoizedState.deps)?h.memoizedState=Ra(n,f,a,o):(Rt.flags|=e,h.memoizedState=Ra(1|n,f,a,o))}function Vp(e,n){Ju(8390656,8,e,n)}function Df(e,n){Wu(2048,8,e,n)}function LA(e){Rt.flags|=4;var n=Rt.updateQueue;if(n===null)n=Xu(),Rt.updateQueue=n,n.events=[e];else{var a=n.events;a===null?n.events=[e]:a.push(e)}}function xp(e){var n=pe().memoizedState;return LA({ref:n,nextImpl:e}),function(){if((Ht&2)!==0)throw Error(s(440));return n.impl.apply(void 0,arguments)}}function Mp(e,n){return Wu(4,2,e,n)}function Up(e,n){return Wu(4,4,e,n)}function Lp(e,n){if(typeof n=="function"){e=e();var a=n(e);return function(){typeof a=="function"?a():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function Pp(e,n,a){a=a!=null?a.concat([e]):null,Wu(4,4,Lp.bind(null,n,e),a)}function Of(){}function kp(e,n){var a=pe();n=n===void 0?null:n;var o=a.memoizedState;return n!==null&&Ef(n,o[1])?o[0]:(a.memoizedState=[e,n],e)}function zp(e,n){var a=pe();n=n===void 0?null:n;var o=a.memoizedState;if(n!==null&&Ef(n,o[1]))return o[0];if(o=e(),Or){wn(!0);try{e()}finally{wn(!1)}}return a.memoizedState=[o,n],o}function Vf(e,n,a){return a===void 0||(ji&1073741824)!==0&&(Vt&261930)===0?e.memoizedState=n:(e.memoizedState=a,e=jy(),Rt.lanes|=e,Is|=e,a)}function jp(e,n,a,o){return gn(a,n)?a:Sa.current!==null?(e=Vf(e,a,o),gn(e,n)||(we=!0),e):(ji&42)===0||(ji&1073741824)!==0&&(Vt&261930)===0?(we=!0,e.memoizedState=a):(e=jy(),Rt.lanes|=e,Is|=e,n)}function Bp(e,n,a,o,h){var f=it.p;it.p=f!==0&&8>f?f:8;var p=G.T,E={};G.T=E,Uf(e,!1,n,a);try{var R=h(),k=G.S;if(k!==null&&k(E,R),R!==null&&typeof R=="object"&&typeof R.then=="function"){var Q=OA(R,o);Zo(e,n,Q,Tn(e))}else Zo(e,n,o,Tn(e))}catch(X){Zo(e,n,{then:function(){},status:"rejected",reason:X},Tn())}finally{it.p=f,p!==null&&E.types!==null&&(p.types=E.types),G.T=p}}function PA(){}function xf(e,n,a,o){if(e.tag!==5)throw Error(s(476));var h=qp(e).queue;Bp(e,h,n,dt,a===null?PA:function(){return Hp(e),a(o)})}function qp(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:dt,baseState:dt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Bi,lastRenderedState:dt},next:null};var a={};return n.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Bi,lastRenderedState:a},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function Hp(e){var n=qp(e);n.next===null&&(n=e.alternate.memoizedState),Zo(e,n.next.queue,{},Tn())}function Mf(){return He(ml)}function Fp(){return pe().memoizedState}function Gp(){return pe().memoizedState}function kA(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var a=Tn();e=Ts(a);var o=As(n,e,a);o!==null&&(cn(o,n,a),Qo(o,n,a)),n={cache:uf()},e.payload=n;return}n=n.return}}function zA(e,n,a){var o=Tn();a={lane:o,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},tc(e)?Yp(n,a):(a=Zh(e,n,a,o),a!==null&&(cn(a,e,o),Kp(a,n,o)))}function Qp(e,n,a){var o=Tn();Zo(e,n,a,o)}function Zo(e,n,a,o){var h={lane:o,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(tc(e))Yp(n,h);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var p=n.lastRenderedState,E=f(p,a);if(h.hasEagerState=!0,h.eagerState=E,gn(E,p))return Mu(e,n,h,0),ee===null&&xu(),!1}catch{}finally{}if(a=Zh(e,n,h,o),a!==null)return cn(a,e,o),Kp(a,n,o),!0}return!1}function Uf(e,n,a,o){if(o={lane:2,revertLane:dd(),gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},tc(e)){if(n)throw Error(s(479))}else n=Zh(e,a,o,2),n!==null&&cn(n,e,2)}function tc(e){var n=e.alternate;return e===Rt||n!==null&&n===Rt}function Yp(e,n){ba=Yu=!0;var a=e.pending;a===null?n.next=n:(n.next=a.next,a.next=n),e.pending=n}function Kp(e,n,a){if((a&4194048)!==0){var o=n.lanes;o&=e.pendingLanes,a|=o,n.lanes=a,vo(e,a)}}var Jo={readContext:He,use:$u,useCallback:ue,useContext:ue,useEffect:ue,useImperativeHandle:ue,useLayoutEffect:ue,useInsertionEffect:ue,useMemo:ue,useReducer:ue,useRef:ue,useState:ue,useDebugValue:ue,useDeferredValue:ue,useTransition:ue,useSyncExternalStore:ue,useId:ue,useHostTransitionStatus:ue,useFormState:ue,useActionState:ue,useOptimistic:ue,useMemoCache:ue,useCacheRefresh:ue};Jo.useEffectEvent=ue;var Xp={readContext:He,use:$u,useCallback:function(e,n){return en().memoizedState=[e,n===void 0?null:n],e},useContext:He,useEffect:Vp,useImperativeHandle:function(e,n,a){a=a!=null?a.concat([e]):null,Ju(4194308,4,Lp.bind(null,n,e),a)},useLayoutEffect:function(e,n){return Ju(4194308,4,e,n)},useInsertionEffect:function(e,n){Ju(4,2,e,n)},useMemo:function(e,n){var a=en();n=n===void 0?null:n;var o=e();if(Or){wn(!0);try{e()}finally{wn(!1)}}return a.memoizedState=[o,n],o},useReducer:function(e,n,a){var o=en();if(a!==void 0){var h=a(n);if(Or){wn(!0);try{a(n)}finally{wn(!1)}}}else h=n;return o.memoizedState=o.baseState=h,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:h},o.queue=e,e=e.dispatch=zA.bind(null,Rt,e),[o.memoizedState,e]},useRef:function(e){var n=en();return e={current:e},n.memoizedState=e},useState:function(e){e=Cf(e);var n=e.queue,a=Qp.bind(null,Rt,n);return n.dispatch=a,[e.memoizedState,a]},useDebugValue:Of,useDeferredValue:function(e,n){var a=en();return Vf(a,e,n)},useTransition:function(){var e=Cf(!1);return e=Bp.bind(null,Rt,e.queue,!0,!1),en().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,a){var o=Rt,h=en();if(Pt){if(a===void 0)throw Error(s(407));a=a()}else{if(a=n(),ee===null)throw Error(s(349));(Vt&127)!==0||pp(o,n,a)}h.memoizedState=a;var f={value:a,getSnapshot:n};return h.queue=f,Vp(_p.bind(null,o,f,e),[e]),o.flags|=2048,Ra(9,{destroy:void 0},yp.bind(null,o,f,a,n),null),a},useId:function(){var e=en(),n=ee.identifierPrefix;if(Pt){var a=Ti,o=Ei;a=(o&~(1<<32-de(o)-1)).toString(32)+a,n="_"+n+"R_"+a,a=Ku++,0<a&&(n+="H"+a.toString(32)),n+="_"}else a=VA++,n="_"+n+"r_"+a.toString(32)+"_";return e.memoizedState=n},useHostTransitionStatus:Mf,useFormState:Ip,useActionState:Ip,useOptimistic:function(e){var n=en();n.memoizedState=n.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=a,n=Uf.bind(null,Rt,!0,a),a.dispatch=n,[e,n]},useMemoCache:wf,useCacheRefresh:function(){return en().memoizedState=kA.bind(null,Rt)},useEffectEvent:function(e){var n=en(),a={impl:e};return n.memoizedState=a,function(){if((Ht&2)!==0)throw Error(s(440));return a.impl.apply(void 0,arguments)}}},Lf={readContext:He,use:$u,useCallback:kp,useContext:He,useEffect:Df,useImperativeHandle:Pp,useInsertionEffect:Mp,useLayoutEffect:Up,useMemo:zp,useReducer:Zu,useRef:Op,useState:function(){return Zu(Bi)},useDebugValue:Of,useDeferredValue:function(e,n){var a=pe();return jp(a,$t.memoizedState,e,n)},useTransition:function(){var e=Zu(Bi)[0],n=pe().memoizedState;return[typeof e=="boolean"?e:$o(e),n]},useSyncExternalStore:gp,useId:Fp,useHostTransitionStatus:Mf,useFormState:Cp,useActionState:Cp,useOptimistic:function(e,n){var a=pe();return Tp(a,$t,e,n)},useMemoCache:wf,useCacheRefresh:Gp};Lf.useEffectEvent=xp;var $p={readContext:He,use:$u,useCallback:kp,useContext:He,useEffect:Df,useImperativeHandle:Pp,useInsertionEffect:Mp,useLayoutEffect:Up,useMemo:zp,useReducer:If,useRef:Op,useState:function(){return If(Bi)},useDebugValue:Of,useDeferredValue:function(e,n){var a=pe();return $t===null?Vf(a,e,n):jp(a,$t.memoizedState,e,n)},useTransition:function(){var e=If(Bi)[0],n=pe().memoizedState;return[typeof e=="boolean"?e:$o(e),n]},useSyncExternalStore:gp,useId:Fp,useHostTransitionStatus:Mf,useFormState:Dp,useActionState:Dp,useOptimistic:function(e,n){var a=pe();return $t!==null?Tp(a,$t,e,n):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:wf,useCacheRefresh:Gp};$p.useEffectEvent=xp;function Pf(e,n,a,o){n=e.memoizedState,a=a(o,n),a=a==null?n:S({},n,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var kf={enqueueSetState:function(e,n,a){e=e._reactInternals;var o=Tn(),h=Ts(o);h.payload=n,a!=null&&(h.callback=a),n=As(e,h,o),n!==null&&(cn(n,e,o),Qo(n,e,o))},enqueueReplaceState:function(e,n,a){e=e._reactInternals;var o=Tn(),h=Ts(o);h.tag=1,h.payload=n,a!=null&&(h.callback=a),n=As(e,h,o),n!==null&&(cn(n,e,o),Qo(n,e,o))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var a=Tn(),o=Ts(a);o.tag=2,n!=null&&(o.callback=n),n=As(e,o,a),n!==null&&(cn(n,e,a),Qo(n,e,a))}};function Zp(e,n,a,o,h,f,p){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(o,f,p):n.prototype&&n.prototype.isPureReactComponent?!ko(a,o)||!ko(h,f):!0}function Jp(e,n,a,o){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(a,o),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(a,o),n.state!==e&&kf.enqueueReplaceState(n,n.state,null)}function Vr(e,n){var a=n;if("ref"in n){a={};for(var o in n)o!=="ref"&&(a[o]=n[o])}if(e=e.defaultProps){a===n&&(a=S({},a));for(var h in e)a[h]===void 0&&(a[h]=e[h])}return a}function Wp(e){Vu(e)}function ty(e){console.error(e)}function ey(e){Vu(e)}function ec(e,n){try{var a=e.onUncaughtError;a(n.value,{componentStack:n.stack})}catch(o){setTimeout(function(){throw o})}}function ny(e,n,a){try{var o=e.onCaughtError;o(a.value,{componentStack:a.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function zf(e,n,a){return a=Ts(a),a.tag=3,a.payload={element:null},a.callback=function(){ec(e,n)},a}function iy(e){return e=Ts(e),e.tag=3,e}function sy(e,n,a,o){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var f=o.value;e.payload=function(){return h(f)},e.callback=function(){ny(n,a,o)}}var p=a.stateNode;p!==null&&typeof p.componentDidCatch=="function"&&(e.callback=function(){ny(n,a,o),typeof h!="function"&&(Cs===null?Cs=new Set([this]):Cs.add(this));var E=o.stack;this.componentDidCatch(o.value,{componentStack:E!==null?E:""})})}function jA(e,n,a,o,h){if(a.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(n=a.alternate,n!==null&&_a(n,a,h,!0),a=yn.current,a!==null){switch(a.tag){case 31:case 13:return Un===null?dc():a.alternate===null&&ce===0&&(ce=3),a.flags&=-257,a.flags|=65536,a.lanes=h,o===qu?a.flags|=16384:(n=a.updateQueue,n===null?a.updateQueue=new Set([o]):n.add(o),cd(e,o,h)),!1;case 22:return a.flags|=65536,o===qu?a.flags|=16384:(n=a.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([o])},a.updateQueue=n):(a=n.retryQueue,a===null?n.retryQueue=new Set([o]):a.add(o)),cd(e,o,h)),!1}throw Error(s(435,a.tag))}return cd(e,o,h),dc(),!1}if(Pt)return n=yn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,o!==sf&&(e=Error(s(422),{cause:o}),Bo(On(e,a)))):(o!==sf&&(n=Error(s(423),{cause:o}),Bo(On(n,a))),e=e.current.alternate,e.flags|=65536,h&=-h,e.lanes|=h,o=On(o,a),h=zf(e.stateNode,o,h),gf(e,h),ce!==4&&(ce=2)),!1;var f=Error(s(520),{cause:o});if(f=On(f,a),al===null?al=[f]:al.push(f),ce!==4&&(ce=2),n===null)return!0;o=On(o,a),a=n;do{switch(a.tag){case 3:return a.flags|=65536,e=h&-h,a.lanes|=e,e=zf(a.stateNode,o,e),gf(a,e),!1;case 1:if(n=a.type,f=a.stateNode,(a.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Cs===null||!Cs.has(f))))return a.flags|=65536,h&=-h,a.lanes|=h,h=iy(h),sy(h,e,a,o),gf(a,h),!1}a=a.return}while(a!==null);return!1}var jf=Error(s(461)),we=!1;function Fe(e,n,a,o){n.child=e===null?lp(n,null,a,o):Dr(n,e.child,a,o)}function ry(e,n,a,o,h){a=a.render;var f=n.ref;if("ref"in o){var p={};for(var E in o)E!=="ref"&&(p[E]=o[E])}else p=o;return Rr(n),o=Tf(e,n,a,p,f,h),E=Af(),e!==null&&!we?(Sf(e,n,h),qi(e,n,h)):(Pt&&E&&ef(n),n.flags|=1,Fe(e,n,o,h),n.child)}function ay(e,n,a,o,h){if(e===null){var f=a.type;return typeof f=="function"&&!Jh(f)&&f.defaultProps===void 0&&a.compare===null?(n.tag=15,n.type=f,oy(e,n,f,o,h)):(e=Lu(a.type,null,o,n,n.mode,h),e.ref=n.ref,e.return=n,n.child=e)}if(f=e.child,!Kf(e,h)){var p=f.memoizedProps;if(a=a.compare,a=a!==null?a:ko,a(p,o)&&e.ref===n.ref)return qi(e,n,h)}return n.flags|=1,e=Li(f,o),e.ref=n.ref,e.return=n,n.child=e}function oy(e,n,a,o,h){if(e!==null){var f=e.memoizedProps;if(ko(f,o)&&e.ref===n.ref)if(we=!1,n.pendingProps=o=f,Kf(e,h))(e.flags&131072)!==0&&(we=!0);else return n.lanes=e.lanes,qi(e,n,h)}return Bf(e,n,a,o,h)}function ly(e,n,a,o){var h=o.children,f=e!==null?e.memoizedState:null;if(e===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|a:a,e!==null){for(o=n.child=e.child,h=0;o!==null;)h=h|o.lanes|o.childLanes,o=o.sibling;o=h&~f}else o=0,n.child=null;return uy(e,n,f,a,o)}if((a&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&ju(n,f!==null?f.cachePool:null),f!==null?hp(n,f):yf(),fp(n);else return o=n.lanes=536870912,uy(e,n,f!==null?f.baseLanes|a:a,a,o)}else f!==null?(ju(n,f.cachePool),hp(n,f),bs(),n.memoizedState=null):(e!==null&&ju(n,null),yf(),bs());return Fe(e,n,h,a),n.child}function Wo(e,n){return e!==null&&e.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function uy(e,n,a,o,h){var f=hf();return f=f===null?null:{parent:Se._currentValue,pool:f},n.memoizedState={baseLanes:a,cachePool:f},e!==null&&ju(n,null),yf(),fp(n),e!==null&&_a(e,n,o,!0),n.childLanes=h,null}function nc(e,n){return n=sc({mode:n.mode,children:n.children},e.mode),n.ref=e.ref,e.child=n,n.return=e,n}function cy(e,n,a){return Dr(n,e.child,null,a),e=nc(n,n.pendingProps),e.flags|=2,_n(n),n.memoizedState=null,e}function BA(e,n,a){var o=n.pendingProps,h=(n.flags&128)!==0;if(n.flags&=-129,e===null){if(Pt){if(o.mode==="hidden")return e=nc(n,o),n.lanes=536870912,Wo(null,e);if(vf(n),(e=ne)?(e=A_(e,Mn),e=e!==null&&e.data==="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:ps!==null?{id:Ei,overflow:Ti}:null,retryLane:536870912,hydrationErrors:null},a=Yg(e),a.return=n,n.child=a,qe=n,ne=null)):e=null,e===null)throw _s(n);return n.lanes=536870912,null}return nc(n,o)}var f=e.memoizedState;if(f!==null){var p=f.dehydrated;if(vf(n),h)if(n.flags&256)n.flags&=-257,n=cy(e,n,a);else if(n.memoizedState!==null)n.child=e.child,n.flags|=128,n=null;else throw Error(s(558));else if(we||_a(e,n,a,!1),h=(a&e.childLanes)!==0,we||h){if(o=ee,o!==null&&(p=Eo(o,a),p!==0&&p!==f.retryLane))throw f.retryLane=p,Ar(e,p),cn(o,e,p),jf;dc(),n=cy(e,n,a)}else e=f.treeContext,ne=Ln(p.nextSibling),qe=n,Pt=!0,ys=null,Mn=!1,e!==null&&$g(n,e),n=nc(n,o),n.flags|=4096;return n}return e=Li(e.child,{mode:o.mode,children:o.children}),e.ref=n.ref,n.child=e,e.return=n,e}function ic(e,n){var a=n.ref;if(a===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(e===null||e.ref!==a)&&(n.flags|=4194816)}}function Bf(e,n,a,o,h){return Rr(n),a=Tf(e,n,a,o,void 0,h),o=Af(),e!==null&&!we?(Sf(e,n,h),qi(e,n,h)):(Pt&&o&&ef(n),n.flags|=1,Fe(e,n,a,h),n.child)}function hy(e,n,a,o,h,f){return Rr(n),n.updateQueue=null,a=mp(n,o,a,h),dp(e),o=Af(),e!==null&&!we?(Sf(e,n,f),qi(e,n,f)):(Pt&&o&&ef(n),n.flags|=1,Fe(e,n,a,f),n.child)}function fy(e,n,a,o,h){if(Rr(n),n.stateNode===null){var f=ma,p=a.contextType;typeof p=="object"&&p!==null&&(f=He(p)),f=new a(o,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=kf,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=o,f.state=n.memoizedState,f.refs={},df(n),p=a.contextType,f.context=typeof p=="object"&&p!==null?He(p):ma,f.state=n.memoizedState,p=a.getDerivedStateFromProps,typeof p=="function"&&(Pf(n,a,p,o),f.state=n.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(p=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),p!==f.state&&kf.enqueueReplaceState(f,f.state,null),Ko(n,o,f,h),Yo(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!0}else if(e===null){f=n.stateNode;var E=n.memoizedProps,R=Vr(a,E);f.props=R;var k=f.context,Q=a.contextType;p=ma,typeof Q=="object"&&Q!==null&&(p=He(Q));var X=a.getDerivedStateFromProps;Q=typeof X=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,Q||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||k!==p)&&Jp(n,f,o,p),Es=!1;var z=n.memoizedState;f.state=z,Ko(n,o,f,h),Yo(),k=n.memoizedState,E||z!==k||Es?(typeof X=="function"&&(Pf(n,a,X,o),k=n.memoizedState),(R=Es||Zp(n,a,R,o,z,k,p))?(Q||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=o,n.memoizedState=k),f.props=o,f.state=k,f.context=p,o=R):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!1)}else{f=n.stateNode,mf(e,n),p=n.memoizedProps,Q=Vr(a,p),f.props=Q,X=n.pendingProps,z=f.context,k=a.contextType,R=ma,typeof k=="object"&&k!==null&&(R=He(k)),E=a.getDerivedStateFromProps,(k=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(p!==X||z!==R)&&Jp(n,f,o,R),Es=!1,z=n.memoizedState,f.state=z,Ko(n,o,f,h),Yo();var H=n.memoizedState;p!==X||z!==H||Es||e!==null&&e.dependencies!==null&&ku(e.dependencies)?(typeof E=="function"&&(Pf(n,a,E,o),H=n.memoizedState),(Q=Es||Zp(n,a,Q,o,z,H,R)||e!==null&&e.dependencies!==null&&ku(e.dependencies))?(k||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(o,H,R),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(o,H,R)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||p===e.memoizedProps&&z===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||p===e.memoizedProps&&z===e.memoizedState||(n.flags|=1024),n.memoizedProps=o,n.memoizedState=H),f.props=o,f.state=H,f.context=R,o=Q):(typeof f.componentDidUpdate!="function"||p===e.memoizedProps&&z===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||p===e.memoizedProps&&z===e.memoizedState||(n.flags|=1024),o=!1)}return f=o,ic(e,n),o=(n.flags&128)!==0,f||o?(f=n.stateNode,a=o&&typeof a.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,e!==null&&o?(n.child=Dr(n,e.child,null,h),n.child=Dr(n,null,a,h)):Fe(e,n,a,h),n.memoizedState=f.state,e=n.child):e=qi(e,n,h),e}function dy(e,n,a,o){return br(),n.flags|=256,Fe(e,n,a,o),n.child}var qf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Hf(e){return{baseLanes:e,cachePool:np()}}function Ff(e,n,a){return e=e!==null?e.childLanes&~a:0,n&&(e|=En),e}function my(e,n,a){var o=n.pendingProps,h=!1,f=(n.flags&128)!==0,p;if((p=f)||(p=e!==null&&e.memoizedState===null?!1:(ge.current&2)!==0),p&&(h=!0,n.flags&=-129),p=(n.flags&32)!==0,n.flags&=-33,e===null){if(Pt){if(h?Ss(n):bs(),(e=ne)?(e=A_(e,Mn),e=e!==null&&e.data!=="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:ps!==null?{id:Ei,overflow:Ti}:null,retryLane:536870912,hydrationErrors:null},a=Yg(e),a.return=n,n.child=a,qe=n,ne=null)):e=null,e===null)throw _s(n);return Rd(e)?n.lanes=32:n.lanes=536870912,null}var E=o.children;return o=o.fallback,h?(bs(),h=n.mode,E=sc({mode:"hidden",children:E},h),o=Sr(o,h,a,null),E.return=n,o.return=n,E.sibling=o,n.child=E,o=n.child,o.memoizedState=Hf(a),o.childLanes=Ff(e,p,a),n.memoizedState=qf,Wo(null,o)):(Ss(n),Gf(n,E))}var R=e.memoizedState;if(R!==null&&(E=R.dehydrated,E!==null)){if(f)n.flags&256?(Ss(n),n.flags&=-257,n=Qf(e,n,a)):n.memoizedState!==null?(bs(),n.child=e.child,n.flags|=128,n=null):(bs(),E=o.fallback,h=n.mode,o=sc({mode:"visible",children:o.children},h),E=Sr(E,h,a,null),E.flags|=2,o.return=n,E.return=n,o.sibling=E,n.child=o,Dr(n,e.child,null,a),o=n.child,o.memoizedState=Hf(a),o.childLanes=Ff(e,p,a),n.memoizedState=qf,n=Wo(null,o));else if(Ss(n),Rd(E)){if(p=E.nextSibling&&E.nextSibling.dataset,p)var k=p.dgst;p=k,o=Error(s(419)),o.stack="",o.digest=p,Bo({value:o,source:null,stack:null}),n=Qf(e,n,a)}else if(we||_a(e,n,a,!1),p=(a&e.childLanes)!==0,we||p){if(p=ee,p!==null&&(o=Eo(p,a),o!==0&&o!==R.retryLane))throw R.retryLane=o,Ar(e,o),cn(p,e,o),jf;wd(E)||dc(),n=Qf(e,n,a)}else wd(E)?(n.flags|=192,n.child=e.child,n=null):(e=R.treeContext,ne=Ln(E.nextSibling),qe=n,Pt=!0,ys=null,Mn=!1,e!==null&&$g(n,e),n=Gf(n,o.children),n.flags|=4096);return n}return h?(bs(),E=o.fallback,h=n.mode,R=e.child,k=R.sibling,o=Li(R,{mode:"hidden",children:o.children}),o.subtreeFlags=R.subtreeFlags&65011712,k!==null?E=Li(k,E):(E=Sr(E,h,a,null),E.flags|=2),E.return=n,o.return=n,o.sibling=E,n.child=o,Wo(null,o),o=n.child,E=e.child.memoizedState,E===null?E=Hf(a):(h=E.cachePool,h!==null?(R=Se._currentValue,h=h.parent!==R?{parent:R,pool:R}:h):h=np(),E={baseLanes:E.baseLanes|a,cachePool:h}),o.memoizedState=E,o.childLanes=Ff(e,p,a),n.memoizedState=qf,Wo(e.child,o)):(Ss(n),a=e.child,e=a.sibling,a=Li(a,{mode:"visible",children:o.children}),a.return=n,a.sibling=null,e!==null&&(p=n.deletions,p===null?(n.deletions=[e],n.flags|=16):p.push(e)),n.child=a,n.memoizedState=null,a)}function Gf(e,n){return n=sc({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function sc(e,n){return e=pn(22,e,null,n),e.lanes=0,e}function Qf(e,n,a){return Dr(n,e.child,null,a),e=Gf(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function gy(e,n,a){e.lanes|=n;var o=e.alternate;o!==null&&(o.lanes|=n),of(e.return,n,a)}function Yf(e,n,a,o,h,f){var p=e.memoizedState;p===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:o,tail:a,tailMode:h,treeForkCount:f}:(p.isBackwards=n,p.rendering=null,p.renderingStartTime=0,p.last=o,p.tail=a,p.tailMode=h,p.treeForkCount=f)}function py(e,n,a){var o=n.pendingProps,h=o.revealOrder,f=o.tail;o=o.children;var p=ge.current,E=(p&2)!==0;if(E?(p=p&1|2,n.flags|=128):p&=1,tt(ge,p),Fe(e,n,o,a),o=Pt?jo:0,!E&&e!==null&&(e.flags&128)!==0)t:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&gy(e,a,n);else if(e.tag===19)gy(e,a,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break t;for(;e.sibling===null;){if(e.return===null||e.return===n)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(h){case"forwards":for(a=n.child,h=null;a!==null;)e=a.alternate,e!==null&&Qu(e)===null&&(h=a),a=a.sibling;a=h,a===null?(h=n.child,n.child=null):(h=a.sibling,a.sibling=null),Yf(n,!1,h,a,f,o);break;case"backwards":case"unstable_legacy-backwards":for(a=null,h=n.child,n.child=null;h!==null;){if(e=h.alternate,e!==null&&Qu(e)===null){n.child=h;break}e=h.sibling,h.sibling=a,a=h,h=e}Yf(n,!0,a,null,f,o);break;case"together":Yf(n,!1,null,null,void 0,o);break;default:n.memoizedState=null}return n.child}function qi(e,n,a){if(e!==null&&(n.dependencies=e.dependencies),Is|=n.lanes,(a&n.childLanes)===0)if(e!==null){if(_a(e,n,a,!1),(a&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(s(153));if(n.child!==null){for(e=n.child,a=Li(e,e.pendingProps),n.child=a,a.return=n;e.sibling!==null;)e=e.sibling,a=a.sibling=Li(e,e.pendingProps),a.return=n;a.sibling=null}return n.child}function Kf(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&ku(e)))}function qA(e,n,a){switch(n.tag){case 3:De(n,n.stateNode.containerInfo),vs(n,Se,e.memoizedState.cache),br();break;case 27:case 5:sr(n);break;case 4:De(n,n.stateNode.containerInfo);break;case 10:vs(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,vf(n),null;break;case 13:var o=n.memoizedState;if(o!==null)return o.dehydrated!==null?(Ss(n),n.flags|=128,null):(a&n.child.childLanes)!==0?my(e,n,a):(Ss(n),e=qi(e,n,a),e!==null?e.sibling:null);Ss(n);break;case 19:var h=(e.flags&128)!==0;if(o=(a&n.childLanes)!==0,o||(_a(e,n,a,!1),o=(a&n.childLanes)!==0),h){if(o)return py(e,n,a);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),tt(ge,ge.current),o)break;return null;case 22:return n.lanes=0,ly(e,n,a,n.pendingProps);case 24:vs(n,Se,e.memoizedState.cache)}return qi(e,n,a)}function yy(e,n,a){if(e!==null)if(e.memoizedProps!==n.pendingProps)we=!0;else{if(!Kf(e,a)&&(n.flags&128)===0)return we=!1,qA(e,n,a);we=(e.flags&131072)!==0}else we=!1,Pt&&(n.flags&1048576)!==0&&Xg(n,jo,n.index);switch(n.lanes=0,n.tag){case 16:t:{var o=n.pendingProps;if(e=Cr(n.elementType),n.type=e,typeof e=="function")Jh(e)?(o=Vr(e,o),n.tag=1,n=fy(null,n,e,o,a)):(n.tag=0,n=Bf(null,n,e,o,a));else{if(e!=null){var h=e.$$typeof;if(h===bt){n.tag=11,n=ry(null,n,e,o,a);break t}else if(h===N){n.tag=14,n=ay(null,n,e,o,a);break t}}throw n=te(e)||e,Error(s(306,n,""))}}return n;case 0:return Bf(e,n,n.type,n.pendingProps,a);case 1:return o=n.type,h=Vr(o,n.pendingProps),fy(e,n,o,h,a);case 3:t:{if(De(n,n.stateNode.containerInfo),e===null)throw Error(s(387));o=n.pendingProps;var f=n.memoizedState;h=f.element,mf(e,n),Ko(n,o,null,a);var p=n.memoizedState;if(o=p.cache,vs(n,Se,o),o!==f.cache&&lf(n,[Se],a,!0),Yo(),o=p.element,f.isDehydrated)if(f={element:o,isDehydrated:!1,cache:p.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=dy(e,n,o,a);break t}else if(o!==h){h=On(Error(s(424)),n),Bo(h),n=dy(e,n,o,a);break t}else{switch(e=n.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(ne=Ln(e.firstChild),qe=n,Pt=!0,ys=null,Mn=!0,a=lp(n,null,o,a),n.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(br(),o===h){n=qi(e,n,a);break t}Fe(e,n,o,a)}n=n.child}return n;case 26:return ic(e,n),e===null?(a=C_(n.type,null,n.pendingProps,null))?n.memoizedState=a:Pt||(a=n.type,e=n.pendingProps,o=Ec(lt.current).createElement(a),o[Ee]=n,o[Ue]=e,Ge(o,a,e),Te(o),n.stateNode=o):n.memoizedState=C_(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return sr(n),e===null&&Pt&&(o=n.stateNode=w_(n.type,n.pendingProps,lt.current),qe=n,Mn=!0,h=ne,Vs(n.type)?(Id=h,ne=Ln(o.firstChild)):ne=h),Fe(e,n,n.pendingProps.children,a),ic(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&Pt&&((h=o=ne)&&(o=_S(o,n.type,n.pendingProps,Mn),o!==null?(n.stateNode=o,qe=n,ne=Ln(o.firstChild),Mn=!1,h=!0):h=!1),h||_s(n)),sr(n),h=n.type,f=n.pendingProps,p=e!==null?e.memoizedProps:null,o=f.children,Ad(h,f)?o=null:p!==null&&Ad(h,p)&&(n.flags|=32),n.memoizedState!==null&&(h=Tf(e,n,xA,null,null,a),ml._currentValue=h),ic(e,n),Fe(e,n,o,a),n.child;case 6:return e===null&&Pt&&((e=a=ne)&&(a=vS(a,n.pendingProps,Mn),a!==null?(n.stateNode=a,qe=n,ne=null,e=!0):e=!1),e||_s(n)),null;case 13:return my(e,n,a);case 4:return De(n,n.stateNode.containerInfo),o=n.pendingProps,e===null?n.child=Dr(n,null,o,a):Fe(e,n,o,a),n.child;case 11:return ry(e,n,n.type,n.pendingProps,a);case 7:return Fe(e,n,n.pendingProps,a),n.child;case 8:return Fe(e,n,n.pendingProps.children,a),n.child;case 12:return Fe(e,n,n.pendingProps.children,a),n.child;case 10:return o=n.pendingProps,vs(n,n.type,o.value),Fe(e,n,o.children,a),n.child;case 9:return h=n.type._context,o=n.pendingProps.children,Rr(n),h=He(h),o=o(h),n.flags|=1,Fe(e,n,o,a),n.child;case 14:return ay(e,n,n.type,n.pendingProps,a);case 15:return oy(e,n,n.type,n.pendingProps,a);case 19:return py(e,n,a);case 31:return BA(e,n,a);case 22:return ly(e,n,a,n.pendingProps);case 24:return Rr(n),o=He(Se),e===null?(h=hf(),h===null&&(h=ee,f=uf(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=a),h=f),n.memoizedState={parent:o,cache:h},df(n),vs(n,Se,h)):((e.lanes&a)!==0&&(mf(e,n),Ko(n,null,null,a),Yo()),h=e.memoizedState,f=n.memoizedState,h.parent!==o?(h={parent:o,cache:o},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),vs(n,Se,o)):(o=f.cache,vs(n,Se,o),o!==h.cache&&lf(n,[Se],a,!0))),Fe(e,n,n.pendingProps.children,a),n.child;case 29:throw n.pendingProps}throw Error(s(156,n.tag))}function Hi(e){e.flags|=4}function Xf(e,n,a,o,h){if((n=(e.mode&32)!==0)&&(n=!1),n){if(e.flags|=16777216,(h&335544128)===h)if(e.stateNode.complete)e.flags|=8192;else if(Fy())e.flags|=8192;else throw Nr=qu,ff}else e.flags&=-16777217}function _y(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!x_(n))if(Fy())e.flags|=8192;else throw Nr=qu,ff}function rc(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?hu():536870912,e.lanes|=n,Da|=n)}function tl(e,n){if(!Pt)switch(e.tailMode){case"hidden":n=e.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var o=null;a!==null;)a.alternate!==null&&(o=a),a=a.sibling;o===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:o.sibling=null}}function ie(e){var n=e.alternate!==null&&e.alternate.child===e.child,a=0,o=0;if(n)for(var h=e.child;h!==null;)a|=h.lanes|h.childLanes,o|=h.subtreeFlags&65011712,o|=h.flags&65011712,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)a|=h.lanes|h.childLanes,o|=h.subtreeFlags,o|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=o,e.childLanes=a,n}function HA(e,n,a){var o=n.pendingProps;switch(nf(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ie(n),null;case 1:return ie(n),null;case 3:return a=n.stateNode,o=null,e!==null&&(o=e.memoizedState.cache),n.memoizedState.cache!==o&&(n.flags|=2048),zi(Se),re(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(ya(n)?Hi(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,rf())),ie(n),null;case 26:var h=n.type,f=n.memoizedState;return e===null?(Hi(n),f!==null?(ie(n),_y(n,f)):(ie(n),Xf(n,h,null,o,a))):f?f!==e.memoizedState?(Hi(n),ie(n),_y(n,f)):(ie(n),n.flags&=-16777217):(e=e.memoizedProps,e!==o&&Hi(n),ie(n),Xf(n,h,e,o,a)),null;case 27:if(Xr(n),a=lt.current,h=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&Hi(n);else{if(!o){if(n.stateNode===null)throw Error(s(166));return ie(n),null}e=rt.current,ya(n)?Zg(n):(e=w_(h,o,a),n.stateNode=e,Hi(n))}return ie(n),null;case 5:if(Xr(n),h=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&Hi(n);else{if(!o){if(n.stateNode===null)throw Error(s(166));return ie(n),null}if(f=rt.current,ya(n))Zg(n);else{var p=Ec(lt.current);switch(f){case 1:f=p.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:f=p.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":f=p.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":f=p.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":f=p.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof o.is=="string"?p.createElement("select",{is:o.is}):p.createElement("select"),o.multiple?f.multiple=!0:o.size&&(f.size=o.size);break;default:f=typeof o.is=="string"?p.createElement(h,{is:o.is}):p.createElement(h)}}f[Ee]=n,f[Ue]=o;t:for(p=n.child;p!==null;){if(p.tag===5||p.tag===6)f.appendChild(p.stateNode);else if(p.tag!==4&&p.tag!==27&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===n)break t;for(;p.sibling===null;){if(p.return===null||p.return===n)break t;p=p.return}p.sibling.return=p.return,p=p.sibling}n.stateNode=f;t:switch(Ge(f,h,o),h){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break t;case"img":o=!0;break t;default:o=!1}o&&Hi(n)}}return ie(n),Xf(n,n.type,e===null?null:e.memoizedProps,n.pendingProps,a),null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==o&&Hi(n);else{if(typeof o!="string"&&n.stateNode===null)throw Error(s(166));if(e=lt.current,ya(n)){if(e=n.stateNode,a=n.memoizedProps,o=null,h=qe,h!==null)switch(h.tag){case 27:case 5:o=h.memoizedProps}e[Ee]=n,e=!!(e.nodeValue===a||o!==null&&o.suppressHydrationWarning===!0||m_(e.nodeValue,a)),e||_s(n,!0)}else e=Ec(e).createTextNode(o),e[Ee]=n,n.stateNode=e}return ie(n),null;case 31:if(a=n.memoizedState,e===null||e.memoizedState!==null){if(o=ya(n),a!==null){if(e===null){if(!o)throw Error(s(318));if(e=n.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(557));e[Ee]=n}else br(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ie(n),e=!1}else a=rf(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=a),e=!0;if(!e)return n.flags&256?(_n(n),n):(_n(n),null);if((n.flags&128)!==0)throw Error(s(558))}return ie(n),null;case 13:if(o=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(h=ya(n),o!==null&&o.dehydrated!==null){if(e===null){if(!h)throw Error(s(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[Ee]=n}else br(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ie(n),h=!1}else h=rf(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(_n(n),n):(_n(n),null)}return _n(n),(n.flags&128)!==0?(n.lanes=a,n):(a=o!==null,e=e!==null&&e.memoizedState!==null,a&&(o=n.child,h=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(h=o.alternate.memoizedState.cachePool.pool),f=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),f!==h&&(o.flags|=2048)),a!==e&&a&&(n.child.flags|=8192),rc(n,n.updateQueue),ie(n),null);case 4:return re(),e===null&&yd(n.stateNode.containerInfo),ie(n),null;case 10:return zi(n.type),ie(n),null;case 19:if(B(ge),o=n.memoizedState,o===null)return ie(n),null;if(h=(n.flags&128)!==0,f=o.rendering,f===null)if(h)tl(o,!1);else{if(ce!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(f=Qu(e),f!==null){for(n.flags|=128,tl(o,!1),e=f.updateQueue,n.updateQueue=e,rc(n,e),n.subtreeFlags=0,e=a,a=n.child;a!==null;)Qg(a,e),a=a.sibling;return tt(ge,ge.current&1|2),Pt&&Pi(n,o.treeForkCount),n.child}e=e.sibling}o.tail!==null&&We()>cc&&(n.flags|=128,h=!0,tl(o,!1),n.lanes=4194304)}else{if(!h)if(e=Qu(f),e!==null){if(n.flags|=128,h=!0,e=e.updateQueue,n.updateQueue=e,rc(n,e),tl(o,!0),o.tail===null&&o.tailMode==="hidden"&&!f.alternate&&!Pt)return ie(n),null}else 2*We()-o.renderingStartTime>cc&&a!==536870912&&(n.flags|=128,h=!0,tl(o,!1),n.lanes=4194304);o.isBackwards?(f.sibling=n.child,n.child=f):(e=o.last,e!==null?e.sibling=f:n.child=f,o.last=f)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=We(),e.sibling=null,a=ge.current,tt(ge,h?a&1|2:a&1),Pt&&Pi(n,o.treeForkCount),e):(ie(n),null);case 22:case 23:return _n(n),_f(),o=n.memoizedState!==null,e!==null?e.memoizedState!==null!==o&&(n.flags|=8192):o&&(n.flags|=8192),o?(a&536870912)!==0&&(n.flags&128)===0&&(ie(n),n.subtreeFlags&6&&(n.flags|=8192)):ie(n),a=n.updateQueue,a!==null&&rc(n,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),o=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),o!==a&&(n.flags|=2048),e!==null&&B(Ir),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),n.memoizedState.cache!==a&&(n.flags|=2048),zi(Se),ie(n),null;case 25:return null;case 30:return null}throw Error(s(156,n.tag))}function FA(e,n){switch(nf(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return zi(Se),re(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return Xr(n),null;case 31:if(n.memoizedState!==null){if(_n(n),n.alternate===null)throw Error(s(340));br()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 13:if(_n(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(s(340));br()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return B(ge),null;case 4:return re(),null;case 10:return zi(n.type),null;case 22:case 23:return _n(n),_f(),e!==null&&B(Ir),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return zi(Se),null;case 25:return null;default:return null}}function vy(e,n){switch(nf(n),n.tag){case 3:zi(Se),re();break;case 26:case 27:case 5:Xr(n);break;case 4:re();break;case 31:n.memoizedState!==null&&_n(n);break;case 13:_n(n);break;case 19:B(ge);break;case 10:zi(n.type);break;case 22:case 23:_n(n),_f(),e!==null&&B(Ir);break;case 24:zi(Se)}}function el(e,n){try{var a=n.updateQueue,o=a!==null?a.lastEffect:null;if(o!==null){var h=o.next;a=h;do{if((a.tag&e)===e){o=void 0;var f=a.create,p=a.inst;o=f(),p.destroy=o}a=a.next}while(a!==h)}}catch(E){Yt(n,n.return,E)}}function ws(e,n,a){try{var o=n.updateQueue,h=o!==null?o.lastEffect:null;if(h!==null){var f=h.next;o=f;do{if((o.tag&e)===e){var p=o.inst,E=p.destroy;if(E!==void 0){p.destroy=void 0,h=n;var R=a,k=E;try{k()}catch(Q){Yt(h,R,Q)}}}o=o.next}while(o!==f)}}catch(Q){Yt(n,n.return,Q)}}function Ey(e){var n=e.updateQueue;if(n!==null){var a=e.stateNode;try{cp(n,a)}catch(o){Yt(e,e.return,o)}}}function Ty(e,n,a){a.props=Vr(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(o){Yt(e,n,o)}}function nl(e,n){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var o=e.stateNode;break;case 30:o=e.stateNode;break;default:o=e.stateNode}typeof a=="function"?e.refCleanup=a(o):a.current=o}}catch(h){Yt(e,n,h)}}function Ai(e,n){var a=e.ref,o=e.refCleanup;if(a!==null)if(typeof o=="function")try{o()}catch(h){Yt(e,n,h)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){Yt(e,n,h)}else a.current=null}function Ay(e){var n=e.type,a=e.memoizedProps,o=e.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":a.autoFocus&&o.focus();break t;case"img":a.src?o.src=a.src:a.srcSet&&(o.srcset=a.srcSet)}}catch(h){Yt(e,e.return,h)}}function $f(e,n,a){try{var o=e.stateNode;fS(o,e.type,a,n),o[Ue]=n}catch(h){Yt(e,e.return,h)}}function Sy(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Vs(e.type)||e.tag===4}function Zf(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||Sy(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Vs(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Jf(e,n,a){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,n):(n=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,n.appendChild(e),a=a._reactRootContainer,a!=null||n.onclick!==null||(n.onclick=qn));else if(o!==4&&(o===27&&Vs(e.type)&&(a=e.stateNode,n=null),e=e.child,e!==null))for(Jf(e,n,a),e=e.sibling;e!==null;)Jf(e,n,a),e=e.sibling}function ac(e,n,a){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?a.insertBefore(e,n):a.appendChild(e);else if(o!==4&&(o===27&&Vs(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(ac(e,n,a),e=e.sibling;e!==null;)ac(e,n,a),e=e.sibling}function by(e){var n=e.stateNode,a=e.memoizedProps;try{for(var o=e.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);Ge(n,o,a),n[Ee]=e,n[Ue]=a}catch(f){Yt(e,e.return,f)}}var Fi=!1,Re=!1,Wf=!1,wy=typeof WeakSet=="function"?WeakSet:Set,Pe=null;function GA(e,n){if(e=e.containerInfo,Ed=Ic,e=Pg(e),Gh(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else t:{a=(a=e.ownerDocument)&&a.defaultView||window;var o=a.getSelection&&a.getSelection();if(o&&o.rangeCount!==0){a=o.anchorNode;var h=o.anchorOffset,f=o.focusNode;o=o.focusOffset;try{a.nodeType,f.nodeType}catch{a=null;break t}var p=0,E=-1,R=-1,k=0,Q=0,X=e,z=null;e:for(;;){for(var H;X!==a||h!==0&&X.nodeType!==3||(E=p+h),X!==f||o!==0&&X.nodeType!==3||(R=p+o),X.nodeType===3&&(p+=X.nodeValue.length),(H=X.firstChild)!==null;)z=X,X=H;for(;;){if(X===e)break e;if(z===a&&++k===h&&(E=p),z===f&&++Q===o&&(R=p),(H=X.nextSibling)!==null)break;X=z,z=X.parentNode}X=H}a=E===-1||R===-1?null:{start:E,end:R}}else a=null}a=a||{start:0,end:0}}else a=null;for(Td={focusedElem:e,selectionRange:a},Ic=!1,Pe=n;Pe!==null;)if(n=Pe,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,Pe=e;else for(;Pe!==null;){switch(n=Pe,f=n.alternate,e=n.flags,n.tag){case 0:if((e&4)!==0&&(e=n.updateQueue,e=e!==null?e.events:null,e!==null))for(a=0;a<e.length;a++)h=e[a],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&f!==null){e=void 0,a=n,h=f.memoizedProps,f=f.memoizedState,o=a.stateNode;try{var ut=Vr(a.type,h);e=o.getSnapshotBeforeUpdate(ut,f),o.__reactInternalSnapshotBeforeUpdate=e}catch(_t){Yt(a,a.return,_t)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,a=e.nodeType,a===9)bd(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":bd(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(s(163))}if(e=n.sibling,e!==null){e.return=n.return,Pe=e;break}Pe=n.return}}function Ry(e,n,a){var o=a.flags;switch(a.tag){case 0:case 11:case 15:Qi(e,a),o&4&&el(5,a);break;case 1:if(Qi(e,a),o&4)if(e=a.stateNode,n===null)try{e.componentDidMount()}catch(p){Yt(a,a.return,p)}else{var h=Vr(a.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(h,n,e.__reactInternalSnapshotBeforeUpdate)}catch(p){Yt(a,a.return,p)}}o&64&&Ey(a),o&512&&nl(a,a.return);break;case 3:if(Qi(e,a),o&64&&(e=a.updateQueue,e!==null)){if(n=null,a.child!==null)switch(a.child.tag){case 27:case 5:n=a.child.stateNode;break;case 1:n=a.child.stateNode}try{cp(e,n)}catch(p){Yt(a,a.return,p)}}break;case 27:n===null&&o&4&&by(a);case 26:case 5:Qi(e,a),n===null&&o&4&&Ay(a),o&512&&nl(a,a.return);break;case 12:Qi(e,a);break;case 31:Qi(e,a),o&4&&Ny(e,a);break;case 13:Qi(e,a),o&4&&Dy(e,a),o&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=tS.bind(null,a),ES(e,a))));break;case 22:if(o=a.memoizedState!==null||Fi,!o){n=n!==null&&n.memoizedState!==null||Re,h=Fi;var f=Re;Fi=o,(Re=n)&&!f?Yi(e,a,(a.subtreeFlags&8772)!==0):Qi(e,a),Fi=h,Re=f}break;case 30:break;default:Qi(e,a)}}function Iy(e){var n=e.alternate;n!==null&&(e.alternate=null,Iy(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&ta(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var oe=null,an=!1;function Gi(e,n,a){for(a=a.child;a!==null;)Cy(e,n,a),a=a.sibling}function Cy(e,n,a){if(je&&typeof je.onCommitFiberUnmount=="function")try{je.onCommitFiberUnmount(kn,a)}catch{}switch(a.tag){case 26:Re||Ai(a,n),Gi(e,n,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Re||Ai(a,n);var o=oe,h=an;Vs(a.type)&&(oe=a.stateNode,an=!1),Gi(e,n,a),hl(a.stateNode),oe=o,an=h;break;case 5:Re||Ai(a,n);case 6:if(o=oe,h=an,oe=null,Gi(e,n,a),oe=o,an=h,oe!==null)if(an)try{(oe.nodeType===9?oe.body:oe.nodeName==="HTML"?oe.ownerDocument.body:oe).removeChild(a.stateNode)}catch(f){Yt(a,n,f)}else try{oe.removeChild(a.stateNode)}catch(f){Yt(a,n,f)}break;case 18:oe!==null&&(an?(e=oe,E_(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),ka(e)):E_(oe,a.stateNode));break;case 4:o=oe,h=an,oe=a.stateNode.containerInfo,an=!0,Gi(e,n,a),oe=o,an=h;break;case 0:case 11:case 14:case 15:ws(2,a,n),Re||ws(4,a,n),Gi(e,n,a);break;case 1:Re||(Ai(a,n),o=a.stateNode,typeof o.componentWillUnmount=="function"&&Ty(a,n,o)),Gi(e,n,a);break;case 21:Gi(e,n,a);break;case 22:Re=(o=Re)||a.memoizedState!==null,Gi(e,n,a),Re=o;break;default:Gi(e,n,a)}}function Ny(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{ka(e)}catch(a){Yt(n,n.return,a)}}}function Dy(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{ka(e)}catch(a){Yt(n,n.return,a)}}function QA(e){switch(e.tag){case 31:case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new wy),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new wy),n;default:throw Error(s(435,e.tag))}}function oc(e,n){var a=QA(e);n.forEach(function(o){if(!a.has(o)){a.add(o);var h=eS.bind(null,e,o);o.then(h,h)}})}function on(e,n){var a=n.deletions;if(a!==null)for(var o=0;o<a.length;o++){var h=a[o],f=e,p=n,E=p;t:for(;E!==null;){switch(E.tag){case 27:if(Vs(E.type)){oe=E.stateNode,an=!1;break t}break;case 5:oe=E.stateNode,an=!1;break t;case 3:case 4:oe=E.stateNode.containerInfo,an=!0;break t}E=E.return}if(oe===null)throw Error(s(160));Cy(f,p,h),oe=null,an=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)Oy(n,e),n=n.sibling}var Kn=null;function Oy(e,n){var a=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:on(n,e),ln(e),o&4&&(ws(3,e,e.return),el(3,e),ws(5,e,e.return));break;case 1:on(n,e),ln(e),o&512&&(Re||a===null||Ai(a,a.return)),o&64&&Fi&&(e=e.updateQueue,e!==null&&(o=e.callbacks,o!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?o:a.concat(o))));break;case 26:var h=Kn;if(on(n,e),ln(e),o&512&&(Re||a===null||Ai(a,a.return)),o&4){var f=a!==null?a.memoizedState:null;if(o=e.memoizedState,a===null)if(o===null)if(e.stateNode===null){t:{o=e.type,a=e.memoizedProps,h=h.ownerDocument||h;e:switch(o){case"title":f=h.getElementsByTagName("title")[0],(!f||f[li]||f[Ee]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(o),h.head.insertBefore(f,h.querySelector("head > title"))),Ge(f,o,a),f[Ee]=e,Te(f),o=f;break t;case"link":var p=O_("link","href",h).get(o+(a.href||""));if(p){for(var E=0;E<p.length;E++)if(f=p[E],f.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&f.getAttribute("rel")===(a.rel==null?null:a.rel)&&f.getAttribute("title")===(a.title==null?null:a.title)&&f.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){p.splice(E,1);break e}}f=h.createElement(o),Ge(f,o,a),h.head.appendChild(f);break;case"meta":if(p=O_("meta","content",h).get(o+(a.content||""))){for(E=0;E<p.length;E++)if(f=p[E],f.getAttribute("content")===(a.content==null?null:""+a.content)&&f.getAttribute("name")===(a.name==null?null:a.name)&&f.getAttribute("property")===(a.property==null?null:a.property)&&f.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&f.getAttribute("charset")===(a.charSet==null?null:a.charSet)){p.splice(E,1);break e}}f=h.createElement(o),Ge(f,o,a),h.head.appendChild(f);break;default:throw Error(s(468,o))}f[Ee]=e,Te(f),o=f}e.stateNode=o}else V_(h,e.type,e.stateNode);else e.stateNode=D_(h,o,e.memoizedProps);else f!==o?(f===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):f.count--,o===null?V_(h,e.type,e.stateNode):D_(h,o,e.memoizedProps)):o===null&&e.stateNode!==null&&$f(e,e.memoizedProps,a.memoizedProps)}break;case 27:on(n,e),ln(e),o&512&&(Re||a===null||Ai(a,a.return)),a!==null&&o&4&&$f(e,e.memoizedProps,a.memoizedProps);break;case 5:if(on(n,e),ln(e),o&512&&(Re||a===null||Ai(a,a.return)),e.flags&32){h=e.stateNode;try{rn(h,"")}catch(ut){Yt(e,e.return,ut)}}o&4&&e.stateNode!=null&&(h=e.memoizedProps,$f(e,h,a!==null?a.memoizedProps:h)),o&1024&&(Wf=!0);break;case 6:if(on(n,e),ln(e),o&4){if(e.stateNode===null)throw Error(s(162));o=e.memoizedProps,a=e.stateNode;try{a.nodeValue=o}catch(ut){Yt(e,e.return,ut)}}break;case 3:if(Sc=null,h=Kn,Kn=Tc(n.containerInfo),on(n,e),Kn=h,ln(e),o&4&&a!==null&&a.memoizedState.isDehydrated)try{ka(n.containerInfo)}catch(ut){Yt(e,e.return,ut)}Wf&&(Wf=!1,Vy(e));break;case 4:o=Kn,Kn=Tc(e.stateNode.containerInfo),on(n,e),ln(e),Kn=o;break;case 12:on(n,e),ln(e);break;case 31:on(n,e),ln(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,oc(e,o)));break;case 13:on(n,e),ln(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(uc=We()),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,oc(e,o)));break;case 22:h=e.memoizedState!==null;var R=a!==null&&a.memoizedState!==null,k=Fi,Q=Re;if(Fi=k||h,Re=Q||R,on(n,e),Re=Q,Fi=k,ln(e),o&8192)t:for(n=e.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(a===null||R||Fi||Re||xr(e)),a=null,n=e;;){if(n.tag===5||n.tag===26){if(a===null){R=a=n;try{if(f=R.stateNode,h)p=f.style,typeof p.setProperty=="function"?p.setProperty("display","none","important"):p.display="none";else{E=R.stateNode;var X=R.memoizedProps.style,z=X!=null&&X.hasOwnProperty("display")?X.display:null;E.style.display=z==null||typeof z=="boolean"?"":(""+z).trim()}}catch(ut){Yt(R,R.return,ut)}}}else if(n.tag===6){if(a===null){R=n;try{R.stateNode.nodeValue=h?"":R.memoizedProps}catch(ut){Yt(R,R.return,ut)}}}else if(n.tag===18){if(a===null){R=n;try{var H=R.stateNode;h?T_(H,!0):T_(R.stateNode,!1)}catch(ut){Yt(R,R.return,ut)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break t;for(;n.sibling===null;){if(n.return===null||n.return===e)break t;a===n&&(a=null),n=n.return}a===n&&(a=null),n.sibling.return=n.return,n=n.sibling}o&4&&(o=e.updateQueue,o!==null&&(a=o.retryQueue,a!==null&&(o.retryQueue=null,oc(e,a))));break;case 19:on(n,e),ln(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,oc(e,o)));break;case 30:break;case 21:break;default:on(n,e),ln(e)}}function ln(e){var n=e.flags;if(n&2){try{for(var a,o=e.return;o!==null;){if(Sy(o)){a=o;break}o=o.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var h=a.stateNode,f=Zf(e);ac(e,f,h);break;case 5:var p=a.stateNode;a.flags&32&&(rn(p,""),a.flags&=-33);var E=Zf(e);ac(e,E,p);break;case 3:case 4:var R=a.stateNode.containerInfo,k=Zf(e);Jf(e,k,R);break;default:throw Error(s(161))}}catch(Q){Yt(e,e.return,Q)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function Vy(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;Vy(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function Qi(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)Ry(e,n.alternate,n),n=n.sibling}function xr(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:ws(4,n,n.return),xr(n);break;case 1:Ai(n,n.return);var a=n.stateNode;typeof a.componentWillUnmount=="function"&&Ty(n,n.return,a),xr(n);break;case 27:hl(n.stateNode);case 26:case 5:Ai(n,n.return),xr(n);break;case 22:n.memoizedState===null&&xr(n);break;case 30:xr(n);break;default:xr(n)}e=e.sibling}}function Yi(e,n,a){for(a=a&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var o=n.alternate,h=e,f=n,p=f.flags;switch(f.tag){case 0:case 11:case 15:Yi(h,f,a),el(4,f);break;case 1:if(Yi(h,f,a),o=f,h=o.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(k){Yt(o,o.return,k)}if(o=f,h=o.updateQueue,h!==null){var E=o.stateNode;try{var R=h.shared.hiddenCallbacks;if(R!==null)for(h.shared.hiddenCallbacks=null,h=0;h<R.length;h++)up(R[h],E)}catch(k){Yt(o,o.return,k)}}a&&p&64&&Ey(f),nl(f,f.return);break;case 27:by(f);case 26:case 5:Yi(h,f,a),a&&o===null&&p&4&&Ay(f),nl(f,f.return);break;case 12:Yi(h,f,a);break;case 31:Yi(h,f,a),a&&p&4&&Ny(h,f);break;case 13:Yi(h,f,a),a&&p&4&&Dy(h,f);break;case 22:f.memoizedState===null&&Yi(h,f,a),nl(f,f.return);break;case 30:break;default:Yi(h,f,a)}n=n.sibling}}function td(e,n){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&qo(a))}function ed(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&qo(e))}function Xn(e,n,a,o){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)xy(e,n,a,o),n=n.sibling}function xy(e,n,a,o){var h=n.flags;switch(n.tag){case 0:case 11:case 15:Xn(e,n,a,o),h&2048&&el(9,n);break;case 1:Xn(e,n,a,o);break;case 3:Xn(e,n,a,o),h&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&qo(e)));break;case 12:if(h&2048){Xn(e,n,a,o),e=n.stateNode;try{var f=n.memoizedProps,p=f.id,E=f.onPostCommit;typeof E=="function"&&E(p,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(R){Yt(n,n.return,R)}}else Xn(e,n,a,o);break;case 31:Xn(e,n,a,o);break;case 13:Xn(e,n,a,o);break;case 23:break;case 22:f=n.stateNode,p=n.alternate,n.memoizedState!==null?f._visibility&2?Xn(e,n,a,o):il(e,n):f._visibility&2?Xn(e,n,a,o):(f._visibility|=2,Ia(e,n,a,o,(n.subtreeFlags&10256)!==0||!1)),h&2048&&td(p,n);break;case 24:Xn(e,n,a,o),h&2048&&ed(n.alternate,n);break;default:Xn(e,n,a,o)}}function Ia(e,n,a,o,h){for(h=h&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=e,p=n,E=a,R=o,k=p.flags;switch(p.tag){case 0:case 11:case 15:Ia(f,p,E,R,h),el(8,p);break;case 23:break;case 22:var Q=p.stateNode;p.memoizedState!==null?Q._visibility&2?Ia(f,p,E,R,h):il(f,p):(Q._visibility|=2,Ia(f,p,E,R,h)),h&&k&2048&&td(p.alternate,p);break;case 24:Ia(f,p,E,R,h),h&&k&2048&&ed(p.alternate,p);break;default:Ia(f,p,E,R,h)}n=n.sibling}}function il(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var a=e,o=n,h=o.flags;switch(o.tag){case 22:il(a,o),h&2048&&td(o.alternate,o);break;case 24:il(a,o),h&2048&&ed(o.alternate,o);break;default:il(a,o)}n=n.sibling}}var sl=8192;function Ca(e,n,a){if(e.subtreeFlags&sl)for(e=e.child;e!==null;)My(e,n,a),e=e.sibling}function My(e,n,a){switch(e.tag){case 26:Ca(e,n,a),e.flags&sl&&e.memoizedState!==null&&VS(a,Kn,e.memoizedState,e.memoizedProps);break;case 5:Ca(e,n,a);break;case 3:case 4:var o=Kn;Kn=Tc(e.stateNode.containerInfo),Ca(e,n,a),Kn=o;break;case 22:e.memoizedState===null&&(o=e.alternate,o!==null&&o.memoizedState!==null?(o=sl,sl=16777216,Ca(e,n,a),sl=o):Ca(e,n,a));break;default:Ca(e,n,a)}}function Uy(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function rl(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var o=n[a];Pe=o,Py(o,e)}Uy(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Ly(e),e=e.sibling}function Ly(e){switch(e.tag){case 0:case 11:case 15:rl(e),e.flags&2048&&ws(9,e,e.return);break;case 3:rl(e);break;case 12:rl(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,lc(e)):rl(e);break;default:rl(e)}}function lc(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var o=n[a];Pe=o,Py(o,e)}Uy(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:ws(8,n,n.return),lc(n);break;case 22:a=n.stateNode,a._visibility&2&&(a._visibility&=-3,lc(n));break;default:lc(n)}e=e.sibling}}function Py(e,n){for(;Pe!==null;){var a=Pe;switch(a.tag){case 0:case 11:case 15:ws(8,a,n);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var o=a.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:qo(a.memoizedState.cache)}if(o=a.child,o!==null)o.return=a,Pe=o;else t:for(a=e;Pe!==null;){o=Pe;var h=o.sibling,f=o.return;if(Iy(o),o===a){Pe=null;break t}if(h!==null){h.return=f,Pe=h;break t}Pe=f}}}var YA={getCacheForType:function(e){var n=He(Se),a=n.data.get(e);return a===void 0&&(a=e(),n.data.set(e,a)),a},cacheSignal:function(){return He(Se).controller.signal}},KA=typeof WeakMap=="function"?WeakMap:Map,Ht=0,ee=null,Dt=null,Vt=0,Qt=0,vn=null,Rs=!1,Na=!1,nd=!1,Ki=0,ce=0,Is=0,Mr=0,id=0,En=0,Da=0,al=null,un=null,sd=!1,uc=0,ky=0,cc=1/0,hc=null,Cs=null,Ve=0,Ns=null,Oa=null,Xi=0,rd=0,ad=null,zy=null,ol=0,od=null;function Tn(){return(Ht&2)!==0&&Vt!==0?Vt&-Vt:G.T!==null?dd():fu()}function jy(){if(En===0)if((Vt&536870912)===0||Pt){var e=or;or<<=1,(or&3932160)===0&&(or=262144),En=e}else En=536870912;return e=yn.current,e!==null&&(e.flags|=32),En}function cn(e,n,a){(e===ee&&(Qt===2||Qt===9)||e.cancelPendingCommit!==null)&&(Va(e,0),Ds(e,Vt,En,!1)),lr(e,a),((Ht&2)===0||e!==ee)&&(e===ee&&((Ht&2)===0&&(Mr|=a),ce===4&&Ds(e,Vt,En,!1)),Si(e))}function By(e,n,a){if((Ht&6)!==0)throw Error(s(327));var o=!a&&(n&127)===0&&(n&e.expiredLanes)===0||zn(e,n),h=o?ZA(e,n):ud(e,n,!0),f=o;do{if(h===0){Na&&!o&&Ds(e,n,0,!1);break}else{if(a=e.current.alternate,f&&!XA(a)){h=ud(e,n,!1),f=!1;continue}if(h===2){if(f=n,e.errorRecoveryDisabledLanes&f)var p=0;else p=e.pendingLanes&-536870913,p=p!==0?p:p&536870912?536870912:0;if(p!==0){n=p;t:{var E=e;h=al;var R=E.current.memoizedState.isDehydrated;if(R&&(Va(E,p).flags|=256),p=ud(E,p,!1),p!==2){if(nd&&!R){E.errorRecoveryDisabledLanes|=f,Mr|=f,h=4;break t}f=un,un=h,f!==null&&(un===null?un=f:un.push.apply(un,f))}h=p}if(f=!1,h!==2)continue}}if(h===1){Va(e,0),Ds(e,n,0,!0);break}t:{switch(o=e,f=h,f){case 0:case 1:throw Error(s(345));case 4:if((n&4194048)!==n)break;case 6:Ds(o,n,En,!Rs);break t;case 2:un=null;break;case 3:case 5:break;default:throw Error(s(329))}if((n&62914560)===n&&(h=uc+300-We(),10<h)){if(Ds(o,n,En,!Rs),ri(o,0,!0)!==0)break t;Xi=n,o.timeoutHandle=__(qy.bind(null,o,a,un,hc,sd,n,En,Mr,Da,Rs,f,"Throttled",-0,0),h);break t}qy(o,a,un,hc,sd,n,En,Mr,Da,Rs,f,null,-0,0)}}break}while(!0);Si(e)}function qy(e,n,a,o,h,f,p,E,R,k,Q,X,z,H){if(e.timeoutHandle=-1,X=n.subtreeFlags,X&8192||(X&16785408)===16785408){X={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:qn},My(n,f,X);var ut=(f&62914560)===f?uc-We():(f&4194048)===f?ky-We():0;if(ut=xS(X,ut),ut!==null){Xi=f,e.cancelPendingCommit=ut($y.bind(null,e,n,f,a,o,h,p,E,R,Q,X,null,z,H)),Ds(e,f,p,!k);return}}$y(e,n,f,a,o,h,p,E,R)}function XA(e){for(var n=e;;){var a=n.tag;if((a===0||a===11||a===15)&&n.flags&16384&&(a=n.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var o=0;o<a.length;o++){var h=a[o],f=h.getSnapshot;h=h.value;try{if(!gn(f(),h))return!1}catch{return!1}}if(a=n.child,n.subtreeFlags&16384&&a!==null)a.return=n,n=a;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Ds(e,n,a,o){n&=~id,n&=~Mr,e.suspendedLanes|=n,e.pingedLanes&=~n,o&&(e.warmLanes|=n),o=e.expirationTimes;for(var h=n;0<h;){var f=31-de(h),p=1<<f;o[f]=-1,h&=~p}a!==0&&ur(e,a,n)}function fc(){return(Ht&6)===0?(ll(0),!1):!0}function ld(){if(Dt!==null){if(Qt===0)var e=Dt.return;else e=Dt,ki=wr=null,bf(e),Aa=null,Fo=0,e=Dt;for(;e!==null;)vy(e.alternate,e),e=e.return;Dt=null}}function Va(e,n){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,gS(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),Xi=0,ld(),ee=e,Dt=a=Li(e.current,null),Vt=n,Qt=0,vn=null,Rs=!1,Na=zn(e,n),nd=!1,Da=En=id=Mr=Is=ce=0,un=al=null,sd=!1,(n&8)!==0&&(n|=n&32);var o=e.entangledLanes;if(o!==0)for(e=e.entanglements,o&=n;0<o;){var h=31-de(o),f=1<<h;n|=e[h],o&=~f}return Ki=n,xu(),a}function Hy(e,n){Rt=null,G.H=Jo,n===Ta||n===Bu?(n=rp(),Qt=3):n===ff?(n=rp(),Qt=4):Qt=n===jf?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,vn=n,Dt===null&&(ce=1,ec(e,On(n,e.current)))}function Fy(){var e=yn.current;return e===null?!0:(Vt&4194048)===Vt?Un===null:(Vt&62914560)===Vt||(Vt&536870912)!==0?e===Un:!1}function Gy(){var e=G.H;return G.H=Jo,e===null?Jo:e}function Qy(){var e=G.A;return G.A=YA,e}function dc(){ce=4,Rs||(Vt&4194048)!==Vt&&yn.current!==null||(Na=!0),(Is&134217727)===0&&(Mr&134217727)===0||ee===null||Ds(ee,Vt,En,!1)}function ud(e,n,a){var o=Ht;Ht|=2;var h=Gy(),f=Qy();(ee!==e||Vt!==n)&&(hc=null,Va(e,n)),n=!1;var p=ce;t:do try{if(Qt!==0&&Dt!==null){var E=Dt,R=vn;switch(Qt){case 8:ld(),p=6;break t;case 3:case 2:case 9:case 6:yn.current===null&&(n=!0);var k=Qt;if(Qt=0,vn=null,xa(e,E,R,k),a&&Na){p=0;break t}break;default:k=Qt,Qt=0,vn=null,xa(e,E,R,k)}}$A(),p=ce;break}catch(Q){Hy(e,Q)}while(!0);return n&&e.shellSuspendCounter++,ki=wr=null,Ht=o,G.H=h,G.A=f,Dt===null&&(ee=null,Vt=0,xu()),p}function $A(){for(;Dt!==null;)Yy(Dt)}function ZA(e,n){var a=Ht;Ht|=2;var o=Gy(),h=Qy();ee!==e||Vt!==n?(hc=null,cc=We()+500,Va(e,n)):Na=zn(e,n);t:do try{if(Qt!==0&&Dt!==null){n=Dt;var f=vn;e:switch(Qt){case 1:Qt=0,vn=null,xa(e,n,f,1);break;case 2:case 9:if(ip(f)){Qt=0,vn=null,Ky(n);break}n=function(){Qt!==2&&Qt!==9||ee!==e||(Qt=7),Si(e)},f.then(n,n);break t;case 3:Qt=7;break t;case 4:Qt=5;break t;case 7:ip(f)?(Qt=0,vn=null,Ky(n)):(Qt=0,vn=null,xa(e,n,f,7));break;case 5:var p=null;switch(Dt.tag){case 26:p=Dt.memoizedState;case 5:case 27:var E=Dt;if(p?x_(p):E.stateNode.complete){Qt=0,vn=null;var R=E.sibling;if(R!==null)Dt=R;else{var k=E.return;k!==null?(Dt=k,mc(k)):Dt=null}break e}}Qt=0,vn=null,xa(e,n,f,5);break;case 6:Qt=0,vn=null,xa(e,n,f,6);break;case 8:ld(),ce=6;break t;default:throw Error(s(462))}}JA();break}catch(Q){Hy(e,Q)}while(!0);return ki=wr=null,G.H=o,G.A=h,Ht=a,Dt!==null?0:(ee=null,Vt=0,xu(),ce)}function JA(){for(;Dt!==null&&!kh();)Yy(Dt)}function Yy(e){var n=yy(e.alternate,e,Ki);e.memoizedProps=e.pendingProps,n===null?mc(e):Dt=n}function Ky(e){var n=e,a=n.alternate;switch(n.tag){case 15:case 0:n=hy(a,n,n.pendingProps,n.type,void 0,Vt);break;case 11:n=hy(a,n,n.pendingProps,n.type.render,n.ref,Vt);break;case 5:bf(n);default:vy(a,n),n=Dt=Qg(n,Ki),n=yy(a,n,Ki)}e.memoizedProps=e.pendingProps,n===null?mc(e):Dt=n}function xa(e,n,a,o){ki=wr=null,bf(n),Aa=null,Fo=0;var h=n.return;try{if(jA(e,h,n,a,Vt)){ce=1,ec(e,On(a,e.current)),Dt=null;return}}catch(f){if(h!==null)throw Dt=h,f;ce=1,ec(e,On(a,e.current)),Dt=null;return}n.flags&32768?(Pt||o===1?e=!0:Na||(Vt&536870912)!==0?e=!1:(Rs=e=!0,(o===2||o===9||o===3||o===6)&&(o=yn.current,o!==null&&o.tag===13&&(o.flags|=16384))),Xy(n,e)):mc(n)}function mc(e){var n=e;do{if((n.flags&32768)!==0){Xy(n,Rs);return}e=n.return;var a=HA(n.alternate,n,Ki);if(a!==null){Dt=a;return}if(n=n.sibling,n!==null){Dt=n;return}Dt=n=e}while(n!==null);ce===0&&(ce=5)}function Xy(e,n){do{var a=FA(e.alternate,e);if(a!==null){a.flags&=32767,Dt=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!n&&(e=e.sibling,e!==null)){Dt=e;return}Dt=e=a}while(e!==null);ce=6,Dt=null}function $y(e,n,a,o,h,f,p,E,R){e.cancelPendingCommit=null;do gc();while(Ve!==0);if((Ht&6)!==0)throw Error(s(327));if(n!==null){if(n===e.current)throw Error(s(177));if(f=n.lanes|n.childLanes,f|=$h,Bh(e,a,f,p,E,R),e===ee&&(Dt=ee=null,Vt=0),Oa=n,Ns=e,Xi=a,rd=f,ad=h,zy=o,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,nS(as,function(){return e_(),null})):(e.callbackNode=null,e.callbackPriority=0),o=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||o){o=G.T,G.T=null,h=it.p,it.p=2,p=Ht,Ht|=4;try{GA(e,n,a)}finally{Ht=p,it.p=h,G.T=o}}Ve=1,Zy(),Jy(),Wy()}}function Zy(){if(Ve===1){Ve=0;var e=Ns,n=Oa,a=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||a){a=G.T,G.T=null;var o=it.p;it.p=2;var h=Ht;Ht|=4;try{Oy(n,e);var f=Td,p=Pg(e.containerInfo),E=f.focusedElem,R=f.selectionRange;if(p!==E&&E&&E.ownerDocument&&Lg(E.ownerDocument.documentElement,E)){if(R!==null&&Gh(E)){var k=R.start,Q=R.end;if(Q===void 0&&(Q=k),"selectionStart"in E)E.selectionStart=k,E.selectionEnd=Math.min(Q,E.value.length);else{var X=E.ownerDocument||document,z=X&&X.defaultView||window;if(z.getSelection){var H=z.getSelection(),ut=E.textContent.length,_t=Math.min(R.start,ut),Jt=R.end===void 0?_t:Math.min(R.end,ut);!H.extend&&_t>Jt&&(p=Jt,Jt=_t,_t=p);var M=Ug(E,_t),O=Ug(E,Jt);if(M&&O&&(H.rangeCount!==1||H.anchorNode!==M.node||H.anchorOffset!==M.offset||H.focusNode!==O.node||H.focusOffset!==O.offset)){var P=X.createRange();P.setStart(M.node,M.offset),H.removeAllRanges(),_t>Jt?(H.addRange(P),H.extend(O.node,O.offset)):(P.setEnd(O.node,O.offset),H.addRange(P))}}}}for(X=[],H=E;H=H.parentNode;)H.nodeType===1&&X.push({element:H,left:H.scrollLeft,top:H.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<X.length;E++){var K=X[E];K.element.scrollLeft=K.left,K.element.scrollTop=K.top}}Ic=!!Ed,Td=Ed=null}finally{Ht=h,it.p=o,G.T=a}}e.current=n,Ve=2}}function Jy(){if(Ve===2){Ve=0;var e=Ns,n=Oa,a=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||a){a=G.T,G.T=null;var o=it.p;it.p=2;var h=Ht;Ht|=4;try{Ry(e,n.alternate,n)}finally{Ht=h,it.p=o,G.T=a}}Ve=3}}function Wy(){if(Ve===4||Ve===3){Ve=0,ru();var e=Ns,n=Oa,a=Xi,o=zy;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Ve=5:(Ve=0,Oa=Ns=null,t_(e,e.pendingLanes));var h=e.pendingLanes;if(h===0&&(Cs=null),Vi(a),n=n.stateNode,je&&typeof je.onCommitFiberRoot=="function")try{je.onCommitFiberRoot(kn,n,void 0,(n.current.flags&128)===128)}catch{}if(o!==null){n=G.T,h=it.p,it.p=2,G.T=null;try{for(var f=e.onRecoverableError,p=0;p<o.length;p++){var E=o[p];f(E.value,{componentStack:E.stack})}}finally{G.T=n,it.p=h}}(Xi&3)!==0&&gc(),Si(e),h=e.pendingLanes,(a&261930)!==0&&(h&42)!==0?e===od?ol++:(ol=0,od=e):ol=0,ll(0)}}function t_(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,qo(n)))}function gc(){return Zy(),Jy(),Wy(),e_()}function e_(){if(Ve!==5)return!1;var e=Ns,n=rd;rd=0;var a=Vi(Xi),o=G.T,h=it.p;try{it.p=32>a?32:a,G.T=null,a=ad,ad=null;var f=Ns,p=Xi;if(Ve=0,Oa=Ns=null,Xi=0,(Ht&6)!==0)throw Error(s(331));var E=Ht;if(Ht|=4,Ly(f.current),xy(f,f.current,p,a),Ht=E,ll(0,!1),je&&typeof je.onPostCommitFiberRoot=="function")try{je.onPostCommitFiberRoot(kn,f)}catch{}return!0}finally{it.p=h,G.T=o,t_(e,n)}}function n_(e,n,a){n=On(a,n),n=zf(e.stateNode,n,2),e=As(e,n,2),e!==null&&(lr(e,2),Si(e))}function Yt(e,n,a){if(e.tag===3)n_(e,e,a);else for(;n!==null;){if(n.tag===3){n_(n,e,a);break}else if(n.tag===1){var o=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(Cs===null||!Cs.has(o))){e=On(a,e),a=iy(2),o=As(n,a,2),o!==null&&(sy(a,o,n,e),lr(o,2),Si(o));break}}n=n.return}}function cd(e,n,a){var o=e.pingCache;if(o===null){o=e.pingCache=new KA;var h=new Set;o.set(n,h)}else h=o.get(n),h===void 0&&(h=new Set,o.set(n,h));h.has(a)||(nd=!0,h.add(a),e=WA.bind(null,e,n,a),n.then(e,e))}function WA(e,n,a){var o=e.pingCache;o!==null&&o.delete(n),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,ee===e&&(Vt&a)===a&&(ce===4||ce===3&&(Vt&62914560)===Vt&&300>We()-uc?(Ht&2)===0&&Va(e,0):id|=a,Da===Vt&&(Da=0)),Si(e)}function i_(e,n){n===0&&(n=hu()),e=Ar(e,n),e!==null&&(lr(e,n),Si(e))}function tS(e){var n=e.memoizedState,a=0;n!==null&&(a=n.retryLane),i_(e,a)}function eS(e,n){var a=0;switch(e.tag){case 31:case 13:var o=e.stateNode,h=e.memoizedState;h!==null&&(a=h.retryLane);break;case 19:o=e.stateNode;break;case 22:o=e.stateNode._retryCache;break;default:throw Error(s(314))}o!==null&&o.delete(n),i_(e,a)}function nS(e,n){return Oe(e,n)}var pc=null,Ma=null,hd=!1,yc=!1,fd=!1,Os=0;function Si(e){e!==Ma&&e.next===null&&(Ma===null?pc=Ma=e:Ma=Ma.next=e),yc=!0,hd||(hd=!0,sS())}function ll(e,n){if(!fd&&yc){fd=!0;do for(var a=!1,o=pc;o!==null;){if(e!==0){var h=o.pendingLanes;if(h===0)var f=0;else{var p=o.suspendedLanes,E=o.pingedLanes;f=(1<<31-de(42|e)+1)-1,f&=h&~(p&~E),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(a=!0,o_(o,f))}else f=Vt,f=ri(o,o===ee?f:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(f&3)===0||zn(o,f)||(a=!0,o_(o,f));o=o.next}while(a);fd=!1}}function iS(){s_()}function s_(){yc=hd=!1;var e=0;Os!==0&&mS()&&(e=Os);for(var n=We(),a=null,o=pc;o!==null;){var h=o.next,f=r_(o,n);f===0?(o.next=null,a===null?pc=h:a.next=h,h===null&&(Ma=a)):(a=o,(e!==0||(f&3)!==0)&&(yc=!0)),o=h}Ve!==0&&Ve!==5||ll(e),Os!==0&&(Os=0)}function r_(e,n){for(var a=e.suspendedLanes,o=e.pingedLanes,h=e.expirationTimes,f=e.pendingLanes&-62914561;0<f;){var p=31-de(f),E=1<<p,R=h[p];R===-1?((E&a)===0||(E&o)!==0)&&(h[p]=jh(E,n)):R<=n&&(e.expiredLanes|=E),f&=~E}if(n=ee,a=Vt,a=ri(e,e===n?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o=e.callbackNode,a===0||e===n&&(Qt===2||Qt===9)||e.cancelPendingCommit!==null)return o!==null&&o!==null&&rs(o),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||zn(e,a)){if(n=a&-a,n===e.callbackPriority)return n;switch(o!==null&&rs(o),Vi(a)){case 2:case 8:a=_o;break;case 32:a=as;break;case 268435456:a=au;break;default:a=as}return o=a_.bind(null,e),a=Oe(a,o),e.callbackPriority=n,e.callbackNode=a,n}return o!==null&&o!==null&&rs(o),e.callbackPriority=2,e.callbackNode=null,2}function a_(e,n){if(Ve!==0&&Ve!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(gc()&&e.callbackNode!==a)return null;var o=Vt;return o=ri(e,e===ee?o:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o===0?null:(By(e,o,n),r_(e,We()),e.callbackNode!=null&&e.callbackNode===a?a_.bind(null,e):null)}function o_(e,n){if(gc())return null;By(e,n,!0)}function sS(){pS(function(){(Ht&6)!==0?Oe(yo,iS):s_()})}function dd(){if(Os===0){var e=va;e===0&&(e=ii,ii<<=1,(ii&261888)===0&&(ii=256)),Os=e}return Os}function l_(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:sa(""+e)}function u_(e,n){var a=n.ownerDocument.createElement("input");return a.name=n.name,a.value=n.value,e.id&&a.setAttribute("form",e.id),n.parentNode.insertBefore(a,n),e=new FormData(e),a.parentNode.removeChild(a),e}function rS(e,n,a,o,h){if(n==="submit"&&a&&a.stateNode===h){var f=l_((h[Ue]||null).action),p=o.submitter;p&&(n=(n=p[Ue]||null)?l_(n.formAction):p.getAttribute("formAction"),n!==null&&(f=n,p=null));var E=new pi("action","action",null,o,h);e.push({event:E,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(Os!==0){var R=p?u_(h,p):new FormData(h);xf(a,{pending:!0,data:R,method:h.method,action:f},null,R)}}else typeof f=="function"&&(E.preventDefault(),R=p?u_(h,p):new FormData(h),xf(a,{pending:!0,data:R,method:h.method,action:f},f,R))},currentTarget:h}]})}}for(var md=0;md<Xh.length;md++){var gd=Xh[md],aS=gd.toLowerCase(),oS=gd[0].toUpperCase()+gd.slice(1);Yn(aS,"on"+oS)}Yn(jg,"onAnimationEnd"),Yn(Bg,"onAnimationIteration"),Yn(qg,"onAnimationStart"),Yn("dblclick","onDoubleClick"),Yn("focusin","onFocus"),Yn("focusout","onBlur"),Yn(SA,"onTransitionRun"),Yn(bA,"onTransitionStart"),Yn(wA,"onTransitionCancel"),Yn(Hg,"onTransitionEnd"),fi("onMouseEnter",["mouseout","mouseover"]),fi("onMouseLeave",["mouseout","mouseover"]),fi("onPointerEnter",["pointerout","pointerover"]),fi("onPointerLeave",["pointerout","pointerover"]),hi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),hi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),hi("onBeforeInput",["compositionend","keypress","textInput","paste"]),hi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),hi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),hi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ul="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),lS=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ul));function c_(e,n){n=(n&4)!==0;for(var a=0;a<e.length;a++){var o=e[a],h=o.event;o=o.listeners;t:{var f=void 0;if(n)for(var p=o.length-1;0<=p;p--){var E=o[p],R=E.instance,k=E.currentTarget;if(E=E.listener,R!==f&&h.isPropagationStopped())break t;f=E,h.currentTarget=k;try{f(h)}catch(Q){Vu(Q)}h.currentTarget=null,f=R}else for(p=0;p<o.length;p++){if(E=o[p],R=E.instance,k=E.currentTarget,E=E.listener,R!==f&&h.isPropagationStopped())break t;f=E,h.currentTarget=k;try{f(h)}catch(Q){Vu(Q)}h.currentTarget=null,f=R}}}}function Ot(e,n){var a=n[Wr];a===void 0&&(a=n[Wr]=new Set);var o=e+"__bubble";a.has(o)||(h_(n,e,2,!1),a.add(o))}function pd(e,n,a){var o=0;n&&(o|=4),h_(a,e,o,n)}var _c="_reactListening"+Math.random().toString(36).slice(2);function yd(e){if(!e[_c]){e[_c]=!0,To.forEach(function(a){a!=="selectionchange"&&(lS.has(a)||pd(a,!1,e),pd(a,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[_c]||(n[_c]=!0,pd("selectionchange",!1,n))}}function h_(e,n,a,o){switch(j_(n)){case 2:var h=LS;break;case 8:h=PS;break;default:h=Vd}a=h.bind(null,n,a,e),h=void 0,!mr||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),o?h!==void 0?e.addEventListener(n,a,{capture:!0,passive:h}):e.addEventListener(n,a,!0):h!==void 0?e.addEventListener(n,a,{passive:h}):e.addEventListener(n,a,!1)}function _d(e,n,a,o,h){var f=o;if((n&1)===0&&(n&2)===0&&o!==null)t:for(;;){if(o===null)return;var p=o.tag;if(p===3||p===4){var E=o.stateNode.containerInfo;if(E===h)break;if(p===4)for(p=o.return;p!==null;){var R=p.tag;if((R===3||R===4)&&p.stateNode.containerInfo===h)return;p=p.return}for(;E!==null;){if(p=ui(E),p===null)return;if(R=p.tag,R===5||R===6||R===26||R===27){o=f=p;continue t}E=E.parentNode}}o=o.return}fs(function(){var k=f,Q=In(a),X=[];t:{var z=Fg.get(e);if(z!==void 0){var H=pi,ut=e;switch(e){case"keypress":if(pr(a)===0)break t;case"keydown":case"keyup":H=Nu;break;case"focusin":ut="focus",H=_r;break;case"focusout":ut="blur",H=_r;break;case"beforeblur":case"afterblur":H=_r;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":H=Mo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":H=Eu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":H=m;break;case jg:case Bg:case qg:H=Au;break;case Hg:H=T;break;case"scroll":case"scrollend":H=xo;break;case"wheel":H=q;break;case"copy":case"cut":case"paste":H=Su;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":H=Ui;break;case"toggle":case"beforetoggle":H=wt}var _t=(n&4)!==0,Jt=!_t&&(e==="scroll"||e==="scrollend"),M=_t?z!==null?z+"Capture":null:z;_t=[];for(var O=k,P;O!==null;){var K=O;if(P=K.stateNode,K=K.tag,K!==5&&K!==26&&K!==27||P===null||M===null||(K=Hn(O,M),K!=null&&_t.push(cl(O,K,P))),Jt)break;O=O.return}0<_t.length&&(z=new H(z,ut,null,a,Q),X.push({event:z,listeners:_t}))}}if((n&7)===0){t:{if(z=e==="mouseover"||e==="pointerover",H=e==="mouseout"||e==="pointerout",z&&a!==Do&&(ut=a.relatedTarget||a.fromElement)&&(ui(ut)||ut[oi]))break t;if((H||z)&&(z=Q.window===Q?Q:(z=Q.ownerDocument)?z.defaultView||z.parentWindow:window,H?(ut=a.relatedTarget||a.toElement,H=k,ut=ut?ui(ut):null,ut!==null&&(Jt=c(ut),_t=ut.tag,ut!==Jt||_t!==5&&_t!==27&&_t!==6)&&(ut=null)):(H=null,ut=k),H!==ut)){if(_t=Mo,K="onMouseLeave",M="onMouseEnter",O="mouse",(e==="pointerout"||e==="pointerover")&&(_t=Ui,K="onPointerLeave",M="onPointerEnter",O="pointer"),Jt=H==null?z:dn(H),P=ut==null?z:dn(ut),z=new _t(K,O+"leave",H,a,Q),z.target=Jt,z.relatedTarget=P,K=null,ui(Q)===k&&(_t=new _t(M,O+"enter",ut,a,Q),_t.target=P,_t.relatedTarget=Jt,K=_t),Jt=K,H&&ut)e:{for(_t=uS,M=H,O=ut,P=0,K=M;K;K=_t(K))P++;K=0;for(var mt=O;mt;mt=_t(mt))K++;for(;0<P-K;)M=_t(M),P--;for(;0<K-P;)O=_t(O),K--;for(;P--;){if(M===O||O!==null&&M===O.alternate){_t=M;break e}M=_t(M),O=_t(O)}_t=null}else _t=null;H!==null&&f_(X,z,H,_t,!1),ut!==null&&Jt!==null&&f_(X,Jt,ut,_t,!0)}}t:{if(z=k?dn(k):window,H=z.nodeName&&z.nodeName.toLowerCase(),H==="select"||H==="input"&&z.type==="file")var jt=Ng;else if(Ig(z))if(Dg)jt=EA;else{jt=_A;var ht=yA}else H=z.nodeName,!H||H.toLowerCase()!=="input"||z.type!=="checkbox"&&z.type!=="radio"?k&&ia(k.elementType)&&(jt=Ng):jt=vA;if(jt&&(jt=jt(e,k))){Cg(X,jt,a,Q);break t}ht&&ht(e,z,k),e==="focusout"&&k&&z.type==="number"&&k.memoizedProps.value!=null&&Io(z,"number",z.value)}switch(ht=k?dn(k):window,e){case"focusin":(Ig(ht)||ht.contentEditable==="true")&&(ha=ht,Qh=k,zo=null);break;case"focusout":zo=Qh=ha=null;break;case"mousedown":Yh=!0;break;case"contextmenu":case"mouseup":case"dragend":Yh=!1,kg(X,a,Q);break;case"selectionchange":if(AA)break;case"keydown":case"keyup":kg(X,a,Q)}var It;if(qt)t:{switch(e){case"compositionstart":var xt="onCompositionStart";break t;case"compositionend":xt="onCompositionEnd";break t;case"compositionupdate":xt="onCompositionUpdate";break t}xt=void 0}else ca?vr(e,a)&&(xt="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(xt="onCompositionStart");xt&&(vi&&a.locale!=="ko"&&(ca||xt!=="onCompositionStart"?xt==="onCompositionEnd"&&ca&&(It=Vo()):(gi=Q,Oo="value"in gi?gi.value:gi.textContent,ca=!0)),ht=vc(k,xt),0<ht.length&&(xt=new _i(xt,e,null,a,Q),X.push({event:xt,listeners:ht}),It?xt.data=It:(It=ua(a),It!==null&&(xt.data=It)))),(It=Nn?dA(e,a):mA(e,a))&&(xt=vc(k,"onBeforeInput"),0<xt.length&&(ht=new _i("onBeforeInput","beforeinput",null,a,Q),X.push({event:ht,listeners:xt}),ht.data=It)),rS(X,e,k,a,Q)}c_(X,n)})}function cl(e,n,a){return{instance:e,listener:n,currentTarget:a}}function vc(e,n){for(var a=n+"Capture",o=[];e!==null;){var h=e,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=Hn(e,a),h!=null&&o.unshift(cl(e,h,f)),h=Hn(e,n),h!=null&&o.push(cl(e,h,f))),e.tag===3)return o;e=e.return}return[]}function uS(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function f_(e,n,a,o,h){for(var f=n._reactName,p=[];a!==null&&a!==o;){var E=a,R=E.alternate,k=E.stateNode;if(E=E.tag,R!==null&&R===o)break;E!==5&&E!==26&&E!==27||k===null||(R=k,h?(k=Hn(a,f),k!=null&&p.unshift(cl(a,k,R))):h||(k=Hn(a,f),k!=null&&p.push(cl(a,k,R)))),a=a.return}p.length!==0&&e.push({event:n,listeners:p})}var cS=/\r\n?/g,hS=/\u0000|\uFFFD/g;function d_(e){return(typeof e=="string"?e:""+e).replace(cS,`
`).replace(hS,"")}function m_(e,n){return n=d_(n),d_(e)===n}function Zt(e,n,a,o,h,f){switch(a){case"children":typeof o=="string"?n==="body"||n==="textarea"&&o===""||rn(e,o):(typeof o=="number"||typeof o=="bigint")&&n!=="body"&&rn(e,""+o);break;case"className":mn(e,"class",o);break;case"tabIndex":mn(e,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":mn(e,a,o);break;case"style":No(e,o,f);break;case"data":if(n!=="object"){mn(e,"data",o);break}case"src":case"href":if(o===""&&(n!=="a"||a!=="href")){e.removeAttribute(a);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(a);break}o=sa(""+o),e.setAttribute(a,o);break;case"action":case"formAction":if(typeof o=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(a==="formAction"?(n!=="input"&&Zt(e,n,"name",h.name,h,null),Zt(e,n,"formEncType",h.formEncType,h,null),Zt(e,n,"formMethod",h.formMethod,h,null),Zt(e,n,"formTarget",h.formTarget,h,null)):(Zt(e,n,"encType",h.encType,h,null),Zt(e,n,"method",h.method,h,null),Zt(e,n,"target",h.target,h,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(a);break}o=sa(""+o),e.setAttribute(a,o);break;case"onClick":o!=null&&(e.onclick=qn);break;case"onScroll":o!=null&&Ot("scroll",e);break;case"onScrollEnd":o!=null&&Ot("scrollend",e);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(s(61));if(a=o.__html,a!=null){if(h.children!=null)throw Error(s(60));e.innerHTML=a}}break;case"multiple":e.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":e.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){e.removeAttribute("xlink:href");break}a=sa(""+o),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(a,""+o):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":o===!0?e.setAttribute(a,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(a,o):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?e.setAttribute(a,o):e.removeAttribute(a);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?e.removeAttribute(a):e.setAttribute(a,o);break;case"popover":Ot("beforetoggle",e),Ot("toggle",e),ea(e,"popover",o);break;case"xlinkActuate":Ae(e,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":Ae(e,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":Ae(e,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":Ae(e,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":Ae(e,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":Ae(e,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":Ae(e,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":Ae(e,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":Ae(e,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":ea(e,"is",o);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=vu.get(a)||a,ea(e,a,o))}}function vd(e,n,a,o,h,f){switch(a){case"style":No(e,o,f);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(s(61));if(a=o.__html,a!=null){if(h.children!=null)throw Error(s(60));e.innerHTML=a}}break;case"children":typeof o=="string"?rn(e,o):(typeof o=="number"||typeof o=="bigint")&&rn(e,""+o);break;case"onScroll":o!=null&&Ot("scroll",e);break;case"onScrollEnd":o!=null&&Ot("scrollend",e);break;case"onClick":o!=null&&(e.onclick=qn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ao.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),n=a.slice(2,h?a.length-7:void 0),f=e[Ue]||null,f=f!=null?f[a]:null,typeof f=="function"&&e.removeEventListener(n,f,h),typeof o=="function")){typeof f!="function"&&f!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(n,o,h);break t}a in e?e[a]=o:o===!0?e.setAttribute(a,""):ea(e,a,o)}}}function Ge(e,n,a){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ot("error",e),Ot("load",e);var o=!1,h=!1,f;for(f in a)if(a.hasOwnProperty(f)){var p=a[f];if(p!=null)switch(f){case"src":o=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:Zt(e,n,f,p,a,null)}}h&&Zt(e,n,"srcSet",a.srcSet,a,null),o&&Zt(e,n,"src",a.src,a,null);return;case"input":Ot("invalid",e);var E=f=p=h=null,R=null,k=null;for(o in a)if(a.hasOwnProperty(o)){var Q=a[o];if(Q!=null)switch(o){case"name":h=Q;break;case"type":p=Q;break;case"checked":R=Q;break;case"defaultChecked":k=Q;break;case"value":f=Q;break;case"defaultValue":E=Q;break;case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(s(137,n));break;default:Zt(e,n,o,Q,a,null)}}pu(e,f,E,R,k,p,h,!1);return;case"select":Ot("invalid",e),o=p=f=null;for(h in a)if(a.hasOwnProperty(h)&&(E=a[h],E!=null))switch(h){case"value":f=E;break;case"defaultValue":p=E;break;case"multiple":o=E;default:Zt(e,n,h,E,a,null)}n=f,a=p,e.multiple=!!o,n!=null?ls(e,!!o,n,!1):a!=null&&ls(e,!!o,a,!0);return;case"textarea":Ot("invalid",e),f=h=o=null;for(p in a)if(a.hasOwnProperty(p)&&(E=a[p],E!=null))switch(p){case"value":o=E;break;case"defaultValue":h=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(s(91));break;default:Zt(e,n,p,E,a,null)}us(e,o,h,f);return;case"option":for(R in a)if(a.hasOwnProperty(R)&&(o=a[R],o!=null))switch(R){case"selected":e.selected=o&&typeof o!="function"&&typeof o!="symbol";break;default:Zt(e,n,R,o,a,null)}return;case"dialog":Ot("beforetoggle",e),Ot("toggle",e),Ot("cancel",e),Ot("close",e);break;case"iframe":case"object":Ot("load",e);break;case"video":case"audio":for(o=0;o<ul.length;o++)Ot(ul[o],e);break;case"image":Ot("error",e),Ot("load",e);break;case"details":Ot("toggle",e);break;case"embed":case"source":case"link":Ot("error",e),Ot("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(k in a)if(a.hasOwnProperty(k)&&(o=a[k],o!=null))switch(k){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:Zt(e,n,k,o,a,null)}return;default:if(ia(n)){for(Q in a)a.hasOwnProperty(Q)&&(o=a[Q],o!==void 0&&vd(e,n,Q,o,a,void 0));return}}for(E in a)a.hasOwnProperty(E)&&(o=a[E],o!=null&&Zt(e,n,E,o,a,null))}function fS(e,n,a,o){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,p=null,E=null,R=null,k=null,Q=null;for(H in a){var X=a[H];if(a.hasOwnProperty(H)&&X!=null)switch(H){case"checked":break;case"value":break;case"defaultValue":R=X;default:o.hasOwnProperty(H)||Zt(e,n,H,null,o,X)}}for(var z in o){var H=o[z];if(X=a[z],o.hasOwnProperty(z)&&(H!=null||X!=null))switch(z){case"type":f=H;break;case"name":h=H;break;case"checked":k=H;break;case"defaultChecked":Q=H;break;case"value":p=H;break;case"defaultValue":E=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(s(137,n));break;default:H!==X&&Zt(e,n,z,H,o,X)}}na(e,p,E,R,k,Q,f,h);return;case"select":H=p=E=z=null;for(f in a)if(R=a[f],a.hasOwnProperty(f)&&R!=null)switch(f){case"value":break;case"multiple":H=R;default:o.hasOwnProperty(f)||Zt(e,n,f,null,o,R)}for(h in o)if(f=o[h],R=a[h],o.hasOwnProperty(h)&&(f!=null||R!=null))switch(h){case"value":z=f;break;case"defaultValue":E=f;break;case"multiple":p=f;default:f!==R&&Zt(e,n,h,f,o,R)}n=E,a=p,o=H,z!=null?ls(e,!!a,z,!1):!!o!=!!a&&(n!=null?ls(e,!!a,n,!0):ls(e,!!a,a?[]:"",!1));return;case"textarea":H=z=null;for(E in a)if(h=a[E],a.hasOwnProperty(E)&&h!=null&&!o.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:Zt(e,n,E,null,o,h)}for(p in o)if(h=o[p],f=a[p],o.hasOwnProperty(p)&&(h!=null||f!=null))switch(p){case"value":z=h;break;case"defaultValue":H=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==f&&Zt(e,n,p,h,o,f)}yu(e,z,H);return;case"option":for(var ut in a)if(z=a[ut],a.hasOwnProperty(ut)&&z!=null&&!o.hasOwnProperty(ut))switch(ut){case"selected":e.selected=!1;break;default:Zt(e,n,ut,null,o,z)}for(R in o)if(z=o[R],H=a[R],o.hasOwnProperty(R)&&z!==H&&(z!=null||H!=null))switch(R){case"selected":e.selected=z&&typeof z!="function"&&typeof z!="symbol";break;default:Zt(e,n,R,z,o,H)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var _t in a)z=a[_t],a.hasOwnProperty(_t)&&z!=null&&!o.hasOwnProperty(_t)&&Zt(e,n,_t,null,o,z);for(k in o)if(z=o[k],H=a[k],o.hasOwnProperty(k)&&z!==H&&(z!=null||H!=null))switch(k){case"children":case"dangerouslySetInnerHTML":if(z!=null)throw Error(s(137,n));break;default:Zt(e,n,k,z,o,H)}return;default:if(ia(n)){for(var Jt in a)z=a[Jt],a.hasOwnProperty(Jt)&&z!==void 0&&!o.hasOwnProperty(Jt)&&vd(e,n,Jt,void 0,o,z);for(Q in o)z=o[Q],H=a[Q],!o.hasOwnProperty(Q)||z===H||z===void 0&&H===void 0||vd(e,n,Q,z,o,H);return}}for(var M in a)z=a[M],a.hasOwnProperty(M)&&z!=null&&!o.hasOwnProperty(M)&&Zt(e,n,M,null,o,z);for(X in o)z=o[X],H=a[X],!o.hasOwnProperty(X)||z===H||z==null&&H==null||Zt(e,n,X,z,o,H)}function g_(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function dS(){if(typeof performance.getEntriesByType=="function"){for(var e=0,n=0,a=performance.getEntriesByType("resource"),o=0;o<a.length;o++){var h=a[o],f=h.transferSize,p=h.initiatorType,E=h.duration;if(f&&E&&g_(p)){for(p=0,E=h.responseEnd,o+=1;o<a.length;o++){var R=a[o],k=R.startTime;if(k>E)break;var Q=R.transferSize,X=R.initiatorType;Q&&g_(X)&&(R=R.responseEnd,p+=Q*(R<E?1:(E-k)/(R-k)))}if(--o,n+=8*(f+p)/(h.duration/1e3),e++,10<e)break}}if(0<e)return n/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var Ed=null,Td=null;function Ec(e){return e.nodeType===9?e:e.ownerDocument}function p_(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function y_(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function Ad(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Sd=null;function mS(){var e=window.event;return e&&e.type==="popstate"?e===Sd?!1:(Sd=e,!0):(Sd=null,!1)}var __=typeof setTimeout=="function"?setTimeout:void 0,gS=typeof clearTimeout=="function"?clearTimeout:void 0,v_=typeof Promise=="function"?Promise:void 0,pS=typeof queueMicrotask=="function"?queueMicrotask:typeof v_<"u"?function(e){return v_.resolve(null).then(e).catch(yS)}:__;function yS(e){setTimeout(function(){throw e})}function Vs(e){return e==="head"}function E_(e,n){var a=n,o=0;do{var h=a.nextSibling;if(e.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"||a==="/&"){if(o===0){e.removeChild(h),ka(n);return}o--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")o++;else if(a==="html")hl(e.ownerDocument.documentElement);else if(a==="head"){a=e.ownerDocument.head,hl(a);for(var f=a.firstChild;f;){var p=f.nextSibling,E=f.nodeName;f[li]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&f.rel.toLowerCase()==="stylesheet"||a.removeChild(f),f=p}}else a==="body"&&hl(e.ownerDocument.body);a=h}while(a);ka(n)}function T_(e,n){var a=e;e=0;do{var o=a.nextSibling;if(a.nodeType===1?n?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(n?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),o&&o.nodeType===8)if(a=o.data,a==="/$"){if(e===0)break;e--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||e++;a=o}while(a)}function bd(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var a=n;switch(n=n.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":bd(a),ta(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function _S(e,n,a,o){for(;e.nodeType===1;){var h=a;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!o&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(o){if(!e[li])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(f=e.getAttribute("rel"),f==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(f!==h.rel||e.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||e.getAttribute("title")!==(h.title==null?null:h.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(f=e.getAttribute("src"),(f!==(h.src==null?null:h.src)||e.getAttribute("type")!==(h.type==null?null:h.type)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&e.getAttribute("name")===f)return e}else return e;if(e=Ln(e.nextSibling),e===null)break}return null}function vS(e,n,a){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=Ln(e.nextSibling),e===null))return null;return e}function A_(e,n){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=Ln(e.nextSibling),e===null))return null;return e}function wd(e){return e.data==="$?"||e.data==="$~"}function Rd(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function ES(e,n){var a=e.ownerDocument;if(e.data==="$~")e._reactRetry=n;else if(e.data!=="$?"||a.readyState!=="loading")n();else{var o=function(){n(),a.removeEventListener("DOMContentLoaded",o)};a.addEventListener("DOMContentLoaded",o),e._reactRetry=o}}function Ln(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return e}var Id=null;function S_(e){e=e.nextSibling;for(var n=0;e;){if(e.nodeType===8){var a=e.data;if(a==="/$"||a==="/&"){if(n===0)return Ln(e.nextSibling);n--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||n++}e=e.nextSibling}return null}function b_(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(n===0)return e;n--}else a!=="/$"&&a!=="/&"||n++}e=e.previousSibling}return null}function w_(e,n,a){switch(n=Ec(a),e){case"html":if(e=n.documentElement,!e)throw Error(s(452));return e;case"head":if(e=n.head,!e)throw Error(s(453));return e;case"body":if(e=n.body,!e)throw Error(s(454));return e;default:throw Error(s(451))}}function hl(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);ta(e)}var Pn=new Map,R_=new Set;function Tc(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var $i=it.d;it.d={f:TS,r:AS,D:SS,C:bS,L:wS,m:RS,X:CS,S:IS,M:NS};function TS(){var e=$i.f(),n=fc();return e||n}function AS(e){var n=Rn(e);n!==null&&n.tag===5&&n.type==="form"?Hp(n):$i.r(e)}var Ua=typeof document>"u"?null:document;function I_(e,n,a){var o=Ua;if(o&&typeof n=="string"&&n){var h=sn(n);h='link[rel="'+e+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),R_.has(h)||(R_.add(h),e={rel:e,crossOrigin:a,href:n},o.querySelector(h)===null&&(n=o.createElement("link"),Ge(n,"link",e),Te(n),o.head.appendChild(n)))}}function SS(e){$i.D(e),I_("dns-prefetch",e,null)}function bS(e,n){$i.C(e,n),I_("preconnect",e,n)}function wS(e,n,a){$i.L(e,n,a);var o=Ua;if(o&&e&&n){var h='link[rel="preload"][as="'+sn(n)+'"]';n==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+sn(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+sn(a.imageSizes)+'"]')):h+='[href="'+sn(e)+'"]';var f=h;switch(n){case"style":f=La(e);break;case"script":f=Pa(e)}Pn.has(f)||(e=S({rel:"preload",href:n==="image"&&a&&a.imageSrcSet?void 0:e,as:n},a),Pn.set(f,e),o.querySelector(h)!==null||n==="style"&&o.querySelector(fl(f))||n==="script"&&o.querySelector(dl(f))||(n=o.createElement("link"),Ge(n,"link",e),Te(n),o.head.appendChild(n)))}}function RS(e,n){$i.m(e,n);var a=Ua;if(a&&e){var o=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+sn(o)+'"][href="'+sn(e)+'"]',f=h;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=Pa(e)}if(!Pn.has(f)&&(e=S({rel:"modulepreload",href:e},n),Pn.set(f,e),a.querySelector(h)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(dl(f)))return}o=a.createElement("link"),Ge(o,"link",e),Te(o),a.head.appendChild(o)}}}function IS(e,n,a){$i.S(e,n,a);var o=Ua;if(o&&e){var h=ci(o).hoistableStyles,f=La(e);n=n||"default";var p=h.get(f);if(!p){var E={loading:0,preload:null};if(p=o.querySelector(fl(f)))E.loading=5;else{e=S({rel:"stylesheet",href:e,"data-precedence":n},a),(a=Pn.get(f))&&Cd(e,a);var R=p=o.createElement("link");Te(R),Ge(R,"link",e),R._p=new Promise(function(k,Q){R.onload=k,R.onerror=Q}),R.addEventListener("load",function(){E.loading|=1}),R.addEventListener("error",function(){E.loading|=2}),E.loading|=4,Ac(p,n,o)}p={type:"stylesheet",instance:p,count:1,state:E},h.set(f,p)}}}function CS(e,n){$i.X(e,n);var a=Ua;if(a&&e){var o=ci(a).hoistableScripts,h=Pa(e),f=o.get(h);f||(f=a.querySelector(dl(h)),f||(e=S({src:e,async:!0},n),(n=Pn.get(h))&&Nd(e,n),f=a.createElement("script"),Te(f),Ge(f,"link",e),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function NS(e,n){$i.M(e,n);var a=Ua;if(a&&e){var o=ci(a).hoistableScripts,h=Pa(e),f=o.get(h);f||(f=a.querySelector(dl(h)),f||(e=S({src:e,async:!0,type:"module"},n),(n=Pn.get(h))&&Nd(e,n),f=a.createElement("script"),Te(f),Ge(f,"link",e),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function C_(e,n,a,o){var h=(h=lt.current)?Tc(h):null;if(!h)throw Error(s(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(n=La(a.href),a=ci(h).hoistableStyles,o=a.get(n),o||(o={type:"style",instance:null,count:0,state:null},a.set(n,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=La(a.href);var f=ci(h).hoistableStyles,p=f.get(e);if(p||(h=h.ownerDocument||h,p={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(e,p),(f=h.querySelector(fl(e)))&&!f._p&&(p.instance=f,p.state.loading=5),Pn.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Pn.set(e,a),f||DS(h,e,a,p.state))),n&&o===null)throw Error(s(528,""));return p}if(n&&o!==null)throw Error(s(529,""));return null;case"script":return n=a.async,a=a.src,typeof a=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Pa(a),a=ci(h).hoistableScripts,o=a.get(n),o||(o={type:"script",instance:null,count:0,state:null},a.set(n,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,e))}}function La(e){return'href="'+sn(e)+'"'}function fl(e){return'link[rel="stylesheet"]['+e+"]"}function N_(e){return S({},e,{"data-precedence":e.precedence,precedence:null})}function DS(e,n,a,o){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?o.loading=1:(n=e.createElement("link"),o.preload=n,n.addEventListener("load",function(){return o.loading|=1}),n.addEventListener("error",function(){return o.loading|=2}),Ge(n,"link",a),Te(n),e.head.appendChild(n))}function Pa(e){return'[src="'+sn(e)+'"]'}function dl(e){return"script[async]"+e}function D_(e,n,a){if(n.count++,n.instance===null)switch(n.type){case"style":var o=e.querySelector('style[data-href~="'+sn(a.href)+'"]');if(o)return n.instance=o,Te(o),o;var h=S({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return o=(e.ownerDocument||e).createElement("style"),Te(o),Ge(o,"style",h),Ac(o,a.precedence,e),n.instance=o;case"stylesheet":h=La(a.href);var f=e.querySelector(fl(h));if(f)return n.state.loading|=4,n.instance=f,Te(f),f;o=N_(a),(h=Pn.get(h))&&Cd(o,h),f=(e.ownerDocument||e).createElement("link"),Te(f);var p=f;return p._p=new Promise(function(E,R){p.onload=E,p.onerror=R}),Ge(f,"link",o),n.state.loading|=4,Ac(f,a.precedence,e),n.instance=f;case"script":return f=Pa(a.src),(h=e.querySelector(dl(f)))?(n.instance=h,Te(h),h):(o=a,(h=Pn.get(f))&&(o=S({},a),Nd(o,h)),e=e.ownerDocument||e,h=e.createElement("script"),Te(h),Ge(h,"link",o),e.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(s(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(o=n.instance,n.state.loading|=4,Ac(o,a.precedence,e));return n.instance}function Ac(e,n,a){for(var o=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=o.length?o[o.length-1]:null,f=h,p=0;p<o.length;p++){var E=o[p];if(E.dataset.precedence===n)f=E;else if(f!==h)break}f?f.parentNode.insertBefore(e,f.nextSibling):(n=a.nodeType===9?a.head:a,n.insertBefore(e,n.firstChild))}function Cd(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function Nd(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var Sc=null;function O_(e,n,a){if(Sc===null){var o=new Map,h=Sc=new Map;h.set(a,o)}else h=Sc,o=h.get(a),o||(o=new Map,h.set(a,o));if(o.has(e))return o;for(o.set(e,null),a=a.getElementsByTagName(e),h=0;h<a.length;h++){var f=a[h];if(!(f[li]||f[Ee]||e==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var p=f.getAttribute(n)||"";p=e+p;var E=o.get(p);E?E.push(f):o.set(p,[f])}}return o}function V_(e,n,a){e=e.ownerDocument||e,e.head.insertBefore(a,n==="title"?e.querySelector("head > title"):null)}function OS(e,n,a){if(a===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return e=n.disabled,typeof n.precedence=="string"&&e==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function x_(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function VS(e,n,a,o){if(a.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var h=La(o.href),f=n.querySelector(fl(h));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(e.count++,e=bc.bind(e),n.then(e,e)),a.state.loading|=4,a.instance=f,Te(f);return}f=n.ownerDocument||n,o=N_(o),(h=Pn.get(h))&&Cd(o,h),f=f.createElement("link"),Te(f);var p=f;p._p=new Promise(function(E,R){p.onload=E,p.onerror=R}),Ge(f,"link",o),a.instance=f}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(a,n),(n=a.state.preload)&&(a.state.loading&3)===0&&(e.count++,a=bc.bind(e),n.addEventListener("load",a),n.addEventListener("error",a))}}var Dd=0;function xS(e,n){return e.stylesheets&&e.count===0&&Rc(e,e.stylesheets),0<e.count||0<e.imgCount?function(a){var o=setTimeout(function(){if(e.stylesheets&&Rc(e,e.stylesheets),e.unsuspend){var f=e.unsuspend;e.unsuspend=null,f()}},6e4+n);0<e.imgBytes&&Dd===0&&(Dd=62500*dS());var h=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Rc(e,e.stylesheets),e.unsuspend)){var f=e.unsuspend;e.unsuspend=null,f()}},(e.imgBytes>Dd?50:800)+n);return e.unsuspend=a,function(){e.unsuspend=null,clearTimeout(o),clearTimeout(h)}}:null}function bc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Rc(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var wc=null;function Rc(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,wc=new Map,n.forEach(MS,e),wc=null,bc.call(e))}function MS(e,n){if(!(n.state.loading&4)){var a=wc.get(e);if(a)var o=a.get(null);else{a=new Map,wc.set(e,a);for(var h=e.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var p=h[f];(p.nodeName==="LINK"||p.getAttribute("media")!=="not all")&&(a.set(p.dataset.precedence,p),o=p)}o&&a.set(null,o)}h=n.instance,p=h.getAttribute("data-precedence"),f=a.get(p)||o,f===o&&a.set(null,h),a.set(p,h),this.count++,o=bc.bind(this),h.addEventListener("load",o),h.addEventListener("error",o),f?f.parentNode.insertBefore(h,f.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(h,e.firstChild)),n.state.loading|=4}}var ml={$$typeof:yt,Provider:null,Consumer:null,_currentValue:dt,_currentValue2:dt,_threadCount:0};function US(e,n,a,o,h,f,p,E,R){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ai(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ai(0),this.hiddenUpdates=ai(null),this.identifierPrefix=o,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=p,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=R,this.incompleteTransitions=new Map}function M_(e,n,a,o,h,f,p,E,R,k,Q,X){return e=new US(e,n,a,p,R,k,Q,X,E),n=1,f===!0&&(n|=24),f=pn(3,null,null,n),e.current=f,f.stateNode=e,n=uf(),n.refCount++,e.pooledCache=n,n.refCount++,f.memoizedState={element:o,isDehydrated:a,cache:n},df(f),e}function U_(e){return e?(e=ma,e):ma}function L_(e,n,a,o,h,f){h=U_(h),o.context===null?o.context=h:o.pendingContext=h,o=Ts(n),o.payload={element:a},f=f===void 0?null:f,f!==null&&(o.callback=f),a=As(e,o,n),a!==null&&(cn(a,e,n),Qo(a,e,n))}function P_(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<n?a:n}}function Od(e,n){P_(e,n),(e=e.alternate)&&P_(e,n)}function k_(e){if(e.tag===13||e.tag===31){var n=Ar(e,67108864);n!==null&&cn(n,e,67108864),Od(e,67108864)}}function z_(e){if(e.tag===13||e.tag===31){var n=Tn();n=cr(n);var a=Ar(e,n);a!==null&&cn(a,e,n),Od(e,n)}}var Ic=!0;function LS(e,n,a,o){var h=G.T;G.T=null;var f=it.p;try{it.p=2,Vd(e,n,a,o)}finally{it.p=f,G.T=h}}function PS(e,n,a,o){var h=G.T;G.T=null;var f=it.p;try{it.p=8,Vd(e,n,a,o)}finally{it.p=f,G.T=h}}function Vd(e,n,a,o){if(Ic){var h=xd(o);if(h===null)_d(e,n,o,Cc,a),B_(e,o);else if(zS(h,e,n,a,o))o.stopPropagation();else if(B_(e,o),n&4&&-1<kS.indexOf(e)){for(;h!==null;){var f=Rn(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var p=si(f.pendingLanes);if(p!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;p;){var R=1<<31-de(p);E.entanglements[1]|=R,p&=~R}Si(f),(Ht&6)===0&&(cc=We()+500,ll(0))}}break;case 31:case 13:E=Ar(f,2),E!==null&&cn(E,f,2),fc(),Od(f,2)}if(f=xd(o),f===null&&_d(e,n,o,Cc,a),f===h)break;h=f}h!==null&&o.stopPropagation()}else _d(e,n,o,null,a)}}function xd(e){return e=In(e),Md(e)}var Cc=null;function Md(e){if(Cc=null,e=ui(e),e!==null){var n=c(e);if(n===null)e=null;else{var a=n.tag;if(a===13){if(e=d(n),e!==null)return e;e=null}else if(a===31){if(e=g(n),e!==null)return e;e=null}else if(a===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return Cc=e,null}function j_(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ar()){case yo:return 2;case _o:return 8;case as:case zh:return 32;case au:return 268435456;default:return 32}default:return 32}}var Ud=!1,xs=null,Ms=null,Us=null,gl=new Map,pl=new Map,Ls=[],kS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function B_(e,n){switch(e){case"focusin":case"focusout":xs=null;break;case"dragenter":case"dragleave":Ms=null;break;case"mouseover":case"mouseout":Us=null;break;case"pointerover":case"pointerout":gl.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":pl.delete(n.pointerId)}}function yl(e,n,a,o,h,f){return e===null||e.nativeEvent!==f?(e={blockedOn:n,domEventName:a,eventSystemFlags:o,nativeEvent:f,targetContainers:[h]},n!==null&&(n=Rn(n),n!==null&&k_(n)),e):(e.eventSystemFlags|=o,n=e.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),e)}function zS(e,n,a,o,h){switch(n){case"focusin":return xs=yl(xs,e,n,a,o,h),!0;case"dragenter":return Ms=yl(Ms,e,n,a,o,h),!0;case"mouseover":return Us=yl(Us,e,n,a,o,h),!0;case"pointerover":var f=h.pointerId;return gl.set(f,yl(gl.get(f)||null,e,n,a,o,h)),!0;case"gotpointercapture":return f=h.pointerId,pl.set(f,yl(pl.get(f)||null,e,n,a,o,h)),!0}return!1}function q_(e){var n=ui(e.target);if(n!==null){var a=c(n);if(a!==null){if(n=a.tag,n===13){if(n=d(a),n!==null){e.blockedOn=n,jn(e.priority,function(){z_(a)});return}}else if(n===31){if(n=g(a),n!==null){e.blockedOn=n,jn(e.priority,function(){z_(a)});return}}else if(n===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Nc(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var a=xd(e.nativeEvent);if(a===null){a=e.nativeEvent;var o=new a.constructor(a.type,a);Do=o,a.target.dispatchEvent(o),Do=null}else return n=Rn(a),n!==null&&k_(n),e.blockedOn=a,!1;n.shift()}return!0}function H_(e,n,a){Nc(e)&&a.delete(n)}function jS(){Ud=!1,xs!==null&&Nc(xs)&&(xs=null),Ms!==null&&Nc(Ms)&&(Ms=null),Us!==null&&Nc(Us)&&(Us=null),gl.forEach(H_),pl.forEach(H_)}function Dc(e,n){e.blockedOn===n&&(e.blockedOn=null,Ud||(Ud=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,jS)))}var Oc=null;function F_(e){Oc!==e&&(Oc=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Oc===e&&(Oc=null);for(var n=0;n<e.length;n+=3){var a=e[n],o=e[n+1],h=e[n+2];if(typeof o!="function"){if(Md(o||a)===null)continue;break}var f=Rn(a);f!==null&&(e.splice(n,3),n-=3,xf(f,{pending:!0,data:h,method:a.method,action:o},o,h))}}))}function ka(e){function n(R){return Dc(R,e)}xs!==null&&Dc(xs,e),Ms!==null&&Dc(Ms,e),Us!==null&&Dc(Us,e),gl.forEach(n),pl.forEach(n);for(var a=0;a<Ls.length;a++){var o=Ls[a];o.blockedOn===e&&(o.blockedOn=null)}for(;0<Ls.length&&(a=Ls[0],a.blockedOn===null);)q_(a),a.blockedOn===null&&Ls.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(o=0;o<a.length;o+=3){var h=a[o],f=a[o+1],p=h[Ue]||null;if(typeof f=="function")p||F_(a);else if(p){var E=null;if(f&&f.hasAttribute("formAction")){if(h=f,p=f[Ue]||null)E=p.formAction;else if(Md(h)!==null)continue}else E=p.action;typeof E=="function"?a[o+1]=E:(a.splice(o,3),o-=3),F_(a)}}}function G_(){function e(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(p){return h=p})},focusReset:"manual",scroll:"manual"})}function n(){h!==null&&(h(),h=null),o||setTimeout(a,20)}function a(){if(!o&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var o=!1,h=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(a,100),function(){o=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),h!==null&&(h(),h=null)}}}function Ld(e){this._internalRoot=e}Vc.prototype.render=Ld.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(s(409));var a=n.current,o=Tn();L_(a,o,e,n,null,null)},Vc.prototype.unmount=Ld.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;L_(e.current,2,null,e,null,null),fc(),n[oi]=null}};function Vc(e){this._internalRoot=e}Vc.prototype.unstable_scheduleHydration=function(e){if(e){var n=fu();e={blockedOn:null,target:e,priority:n};for(var a=0;a<Ls.length&&n!==0&&n<Ls[a].priority;a++);Ls.splice(a,0,e),a===0&&q_(e)}};var Q_=t.version;if(Q_!=="19.2.0")throw Error(s(527,Q_,"19.2.0"));it.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(s(188)):(e=Object.keys(e).join(","),Error(s(268,e)));return e=_(n),e=e!==null?A(e):null,e=e===null?null:e.stateNode,e};var BS={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:G,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var xc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!xc.isDisabled&&xc.supportsFiber)try{kn=xc.inject(BS),je=xc}catch{}}return vl.createRoot=function(e,n){if(!l(e))throw Error(s(299));var a=!1,o="",h=Wp,f=ty,p=ey;return n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(p=n.onRecoverableError)),n=M_(e,1,!1,null,null,a,o,null,h,f,p,G_),e[oi]=n.current,yd(e),new Ld(n)},vl.hydrateRoot=function(e,n,a){if(!l(e))throw Error(s(299));var o=!1,h="",f=Wp,p=ty,E=ey,R=null;return a!=null&&(a.unstable_strictMode===!0&&(o=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(f=a.onUncaughtError),a.onCaughtError!==void 0&&(p=a.onCaughtError),a.onRecoverableError!==void 0&&(E=a.onRecoverableError),a.formState!==void 0&&(R=a.formState)),n=M_(e,1,!0,n,a??null,o,h,R,f,p,E,G_),n.context=U_(null),a=n.current,o=Tn(),o=cr(o),h=Ts(o),h.callback=null,As(a,h,o),a=o,n.current.lanes=a,lr(n,a),Si(n),e[oi]=n.current,yd(e),new Vc(n)},vl.version="19.2.0",vl}var nv;function ZS(){if(nv)return zd.exports;nv=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),zd.exports=$S(),zd.exports}var JS=ZS();/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WS=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),t1=r=>r.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,i,s)=>s?s.toUpperCase():i.toLowerCase()),iv=r=>{const t=t1(r);return t.charAt(0).toUpperCase()+t.slice(1)},M0=(...r)=>r.filter((t,i,s)=>!!t&&t.trim()!==""&&s.indexOf(t)===i).join(" ").trim(),e1=r=>{for(const t in r)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var n1={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i1=Ft.forwardRef(({color:r="currentColor",size:t=24,strokeWidth:i=2,absoluteStrokeWidth:s,className:l="",children:c,iconNode:d,...g},y)=>Ft.createElement("svg",{ref:y,...n1,width:t,height:t,stroke:r,strokeWidth:s?Number(i)*24/Number(t):i,className:M0("lucide",l),...!c&&!e1(g)&&{"aria-hidden":"true"},...g},[...d.map(([_,A])=>Ft.createElement(_,A)),...Array.isArray(c)?c:[c]]));/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fl=(r,t)=>{const i=Ft.forwardRef(({className:s,...l},c)=>Ft.createElement(i1,{ref:c,iconNode:t,className:M0(`lucide-${WS(iv(r))}`,`lucide-${r}`,s),...l}));return i.displayName=iv(r),i};/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s1=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],U0=Fl("award",s1);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r1=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],sv=Fl("calendar",r1);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a1=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],o1=Fl("clock",a1);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l1=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],u1=Fl("user-plus",l1);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c1=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],L0=Fl("users",c1),h1=()=>{};var rv={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P0=function(r){const t=[];let i=0;for(let s=0;s<r.length;s++){let l=r.charCodeAt(s);l<128?t[i++]=l:l<2048?(t[i++]=l>>6|192,t[i++]=l&63|128):(l&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(l=65536+((l&1023)<<10)+(r.charCodeAt(++s)&1023),t[i++]=l>>18|240,t[i++]=l>>12&63|128,t[i++]=l>>6&63|128,t[i++]=l&63|128):(t[i++]=l>>12|224,t[i++]=l>>6&63|128,t[i++]=l&63|128)}return t},f1=function(r){const t=[];let i=0,s=0;for(;i<r.length;){const l=r[i++];if(l<128)t[s++]=String.fromCharCode(l);else if(l>191&&l<224){const c=r[i++];t[s++]=String.fromCharCode((l&31)<<6|c&63)}else if(l>239&&l<365){const c=r[i++],d=r[i++],g=r[i++],y=((l&7)<<18|(c&63)<<12|(d&63)<<6|g&63)-65536;t[s++]=String.fromCharCode(55296+(y>>10)),t[s++]=String.fromCharCode(56320+(y&1023))}else{const c=r[i++],d=r[i++];t[s++]=String.fromCharCode((l&15)<<12|(c&63)<<6|d&63)}}return t.join("")},k0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,t){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let l=0;l<r.length;l+=3){const c=r[l],d=l+1<r.length,g=d?r[l+1]:0,y=l+2<r.length,_=y?r[l+2]:0,A=c>>2,S=(c&3)<<4|g>>4;let D=(g&15)<<2|_>>6,F=_&63;y||(F=64,d||(D=64)),s.push(i[A],i[S],i[D],i[F])}return s.join("")},encodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(r):this.encodeByteArray(P0(r),t)},decodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(r):f1(this.decodeStringToByteArray(r,t))},decodeStringToByteArray(r,t){this.init_();const i=t?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let l=0;l<r.length;){const c=i[r.charAt(l++)],g=l<r.length?i[r.charAt(l)]:0;++l;const _=l<r.length?i[r.charAt(l)]:64;++l;const S=l<r.length?i[r.charAt(l)]:64;if(++l,c==null||g==null||_==null||S==null)throw new d1;const D=c<<2|g>>4;if(s.push(D),_!==64){const F=g<<4&240|_>>2;if(s.push(F),S!==64){const J=_<<6&192|S;s.push(J)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class d1 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const m1=function(r){const t=P0(r);return k0.encodeByteArray(t,!0)},$c=function(r){return m1(r).replace(/\./g,"")},z0=function(r){try{return k0.decodeString(r,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g1(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p1=()=>g1().__FIREBASE_DEFAULTS__,y1=()=>{if(typeof process>"u"||typeof rv>"u")return;const r=rv.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},_1=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=r&&z0(r[1]);return t&&JSON.parse(t)},ph=()=>{try{return h1()||p1()||y1()||_1()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},j0=r=>ph()?.emulatorHosts?.[r],v1=r=>{const t=j0(r);if(!t)return;const i=t.lastIndexOf(":");if(i<=0||i+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const s=parseInt(t.substring(i+1),10);return t[0]==="["?[t.substring(1,i-1),s]:[t.substring(0,i),s]},B0=()=>ph()?.config,q0=r=>ph()?.[`_${r}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E1{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,i)=>{this.resolve=t,this.reject=i})}wrapCallback(t){return(i,s)=>{i?this.reject(i):this.resolve(s),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(i):t(i,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ro(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function H0(r){return(await fetch(r,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T1(r,t){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},s=t||"demo-project",l=r.iat||0,c=r.sub||r.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${s}`,aud:s,iat:l,exp:l+3600,auth_time:l,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...r};return[$c(JSON.stringify(i)),$c(JSON.stringify(d)),""].join(".")}const wl={};function A1(){const r={prod:[],emulator:[]};for(const t of Object.keys(wl))wl[t]?r.emulator.push(t):r.prod.push(t);return r}function S1(r){let t=document.getElementById(r),i=!1;return t||(t=document.createElement("div"),t.setAttribute("id",r),i=!0),{created:i,element:t}}let av=!1;function F0(r,t){if(typeof window>"u"||typeof document>"u"||!ro(window.location.host)||wl[r]===t||wl[r]||av)return;wl[r]=t;function i(D){return`__firebase__banner__${D}`}const s="__firebase__banner",c=A1().prod.length>0;function d(){const D=document.getElementById(s);D&&D.remove()}function g(D){D.style.display="flex",D.style.background="#7faaf0",D.style.position="fixed",D.style.bottom="5px",D.style.left="5px",D.style.padding=".5em",D.style.borderRadius="5px",D.style.alignItems="center"}function y(D,F){D.setAttribute("width","24"),D.setAttribute("id",F),D.setAttribute("height","24"),D.setAttribute("viewBox","0 0 24 24"),D.setAttribute("fill","none"),D.style.marginLeft="-6px"}function _(){const D=document.createElement("span");return D.style.cursor="pointer",D.style.marginLeft="16px",D.style.fontSize="24px",D.innerHTML=" &times;",D.onclick=()=>{av=!0,d()},D}function A(D,F){D.setAttribute("id",F),D.innerText="Learn more",D.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",D.setAttribute("target","__blank"),D.style.paddingLeft="5px",D.style.textDecoration="underline"}function S(){const D=S1(s),F=i("text"),J=document.getElementById(F)||document.createElement("span"),et=i("learnmore"),W=document.getElementById(et)||document.createElement("a"),gt=i("preprendIcon"),vt=document.getElementById(gt)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(D.created){const yt=D.element;g(yt),A(W,et);const bt=_();y(vt,gt),yt.append(vt,J,W,bt),document.body.appendChild(yt)}c?(J.innerText="Preview backend disconnected.",vt.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(vt.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,J.innerText="Preview backend running in this workspace."),J.setAttribute("id",F)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",S):S()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Je(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function b1(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Je())}function w1(){const r=ph()?.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function R1(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function I1(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function C1(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function N1(){const r=Je();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function D1(){return!w1()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function O1(){try{return typeof indexedDB=="object"}catch{return!1}}function V1(){return new Promise((r,t)=>{try{let i=!0;const s="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(s);l.onsuccess=()=>{l.result.close(),i||self.indexedDB.deleteDatabase(s),r(!0)},l.onupgradeneeded=()=>{i=!1},l.onerror=()=>{t(l.error?.message||"")}}catch(i){t(i)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x1="FirebaseError";class ss extends Error{constructor(t,i,s){super(i),this.code=t,this.customData=s,this.name=x1,Object.setPrototypeOf(this,ss.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Gl.prototype.create)}}class Gl{constructor(t,i,s){this.service=t,this.serviceName=i,this.errors=s}create(t,...i){const s=i[0]||{},l=`${this.service}/${t}`,c=this.errors[t],d=c?M1(c,s):"Error",g=`${this.serviceName}: ${d} (${l}).`;return new ss(l,g,s)}}function M1(r,t){return r.replace(U1,(i,s)=>{const l=t[s];return l!=null?String(l):`<${s}?>`})}const U1=/\{\$([^}]+)}/g;function L1(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}function Br(r,t){if(r===t)return!0;const i=Object.keys(r),s=Object.keys(t);for(const l of i){if(!s.includes(l))return!1;const c=r[l],d=t[l];if(ov(c)&&ov(d)){if(!Br(c,d))return!1}else if(c!==d)return!1}for(const l of s)if(!i.includes(l))return!1;return!0}function ov(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ql(r){const t=[];for(const[i,s]of Object.entries(r))Array.isArray(s)?s.forEach(l=>{t.push(encodeURIComponent(i)+"="+encodeURIComponent(l))}):t.push(encodeURIComponent(i)+"="+encodeURIComponent(s));return t.length?"&"+t.join("&"):""}function P1(r,t){const i=new k1(r,t);return i.subscribe.bind(i)}class k1{constructor(t,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{t(this)}).catch(s=>{this.error(s)})}next(t){this.forEachObserver(i=>{i.next(t)})}error(t){this.forEachObserver(i=>{i.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,i,s){let l;if(t===void 0&&i===void 0&&s===void 0)throw new Error("Missing Observer.");z1(t,["next","error","complete"])?l=t:l={next:t,error:i,complete:s},l.next===void 0&&(l.next=Hd),l.error===void 0&&(l.error=Hd),l.complete===void 0&&(l.complete=Hd);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),c}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,t)}sendOne(t,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{i(this.observers[t])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function z1(r,t){if(typeof r!="object"||r===null)return!1;for(const i of t)if(i in r&&typeof r[i]=="function")return!0;return!1}function Hd(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Me(r){return r&&r._delegate?r._delegate:r}class qr{constructor(t,i,s){this.name=t,this.instanceFactory=i,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ur="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j1{constructor(t,i){this.name=t,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const i=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(i)){const s=new E1;if(this.instancesDeferred.set(i,s),this.isInitialized(i)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:i});l&&s.resolve(l)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(t){const i=this.normalizeInstanceIdentifier(t?.identifier),s=t?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(l){if(s)return null;throw l}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(q1(t))try{this.getOrInitializeService({instanceIdentifier:Ur})}catch{}for(const[i,s]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);try{const c=this.getOrInitializeService({instanceIdentifier:l});s.resolve(c)}catch{}}}}clearInstance(t=Ur){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...t.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Ur){return this.instances.has(t)}getOptions(t=Ur){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:i={}}=t,s=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:s,options:i});for(const[c,d]of this.instancesDeferred.entries()){const g=this.normalizeInstanceIdentifier(c);s===g&&d.resolve(l)}return l}onInit(t,i){const s=this.normalizeInstanceIdentifier(i),l=this.onInitCallbacks.get(s)??new Set;l.add(t),this.onInitCallbacks.set(s,l);const c=this.instances.get(s);return c&&t(c,s),()=>{l.delete(t)}}invokeOnInitCallbacks(t,i){const s=this.onInitCallbacks.get(i);if(s)for(const l of s)try{l(t,i)}catch{}}getOrInitializeService({instanceIdentifier:t,options:i={}}){let s=this.instances.get(t);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:B1(t),options:i}),this.instances.set(t,s),this.instancesOptions.set(t,i),this.invokeOnInitCallbacks(s,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,s)}catch{}return s||null}normalizeInstanceIdentifier(t=Ur){return this.component?this.component.multipleInstances?t:Ur:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function B1(r){return r===Ur?void 0:r}function q1(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H1{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const i=this.getProvider(t.name);if(i.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);i.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const i=new j1(t,this);return this.providers.set(t,i),i}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Mt;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Mt||(Mt={}));const F1={debug:Mt.DEBUG,verbose:Mt.VERBOSE,info:Mt.INFO,warn:Mt.WARN,error:Mt.ERROR,silent:Mt.SILENT},G1=Mt.INFO,Q1={[Mt.DEBUG]:"log",[Mt.VERBOSE]:"log",[Mt.INFO]:"info",[Mt.WARN]:"warn",[Mt.ERROR]:"error"},Y1=(r,t,...i)=>{if(t<r.logLevel)return;const s=new Date().toISOString(),l=Q1[t];if(l)console[l](`[${s}]  ${r.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class Im{constructor(t){this.name=t,this._logLevel=G1,this._logHandler=Y1,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Mt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?F1[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Mt.DEBUG,...t),this._logHandler(this,Mt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Mt.VERBOSE,...t),this._logHandler(this,Mt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Mt.INFO,...t),this._logHandler(this,Mt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Mt.WARN,...t),this._logHandler(this,Mt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Mt.ERROR,...t),this._logHandler(this,Mt.ERROR,...t)}}const K1=(r,t)=>t.some(i=>r instanceof i);let lv,uv;function X1(){return lv||(lv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function $1(){return uv||(uv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const G0=new WeakMap,em=new WeakMap,Q0=new WeakMap,Fd=new WeakMap,Cm=new WeakMap;function Z1(r){const t=new Promise((i,s)=>{const l=()=>{r.removeEventListener("success",c),r.removeEventListener("error",d)},c=()=>{i(Hs(r.result)),l()},d=()=>{s(r.error),l()};r.addEventListener("success",c),r.addEventListener("error",d)});return t.then(i=>{i instanceof IDBCursor&&G0.set(i,r)}).catch(()=>{}),Cm.set(t,r),t}function J1(r){if(em.has(r))return;const t=new Promise((i,s)=>{const l=()=>{r.removeEventListener("complete",c),r.removeEventListener("error",d),r.removeEventListener("abort",d)},c=()=>{i(),l()},d=()=>{s(r.error||new DOMException("AbortError","AbortError")),l()};r.addEventListener("complete",c),r.addEventListener("error",d),r.addEventListener("abort",d)});em.set(r,t)}let nm={get(r,t,i){if(r instanceof IDBTransaction){if(t==="done")return em.get(r);if(t==="objectStoreNames")return r.objectStoreNames||Q0.get(r);if(t==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return Hs(r[t])},set(r,t,i){return r[t]=i,!0},has(r,t){return r instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in r}};function W1(r){nm=r(nm)}function tb(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...i){const s=r.call(Gd(this),t,...i);return Q0.set(s,t.sort?t.sort():[t]),Hs(s)}:$1().includes(r)?function(...t){return r.apply(Gd(this),t),Hs(G0.get(this))}:function(...t){return Hs(r.apply(Gd(this),t))}}function eb(r){return typeof r=="function"?tb(r):(r instanceof IDBTransaction&&J1(r),K1(r,X1())?new Proxy(r,nm):r)}function Hs(r){if(r instanceof IDBRequest)return Z1(r);if(Fd.has(r))return Fd.get(r);const t=eb(r);return t!==r&&(Fd.set(r,t),Cm.set(t,r)),t}const Gd=r=>Cm.get(r);function nb(r,t,{blocked:i,upgrade:s,blocking:l,terminated:c}={}){const d=indexedDB.open(r,t),g=Hs(d);return s&&d.addEventListener("upgradeneeded",y=>{s(Hs(d.result),y.oldVersion,y.newVersion,Hs(d.transaction),y)}),i&&d.addEventListener("blocked",y=>i(y.oldVersion,y.newVersion,y)),g.then(y=>{c&&y.addEventListener("close",()=>c()),l&&y.addEventListener("versionchange",_=>l(_.oldVersion,_.newVersion,_))}).catch(()=>{}),g}const ib=["get","getKey","getAll","getAllKeys","count"],sb=["put","add","delete","clear"],Qd=new Map;function cv(r,t){if(!(r instanceof IDBDatabase&&!(t in r)&&typeof t=="string"))return;if(Qd.get(t))return Qd.get(t);const i=t.replace(/FromIndex$/,""),s=t!==i,l=sb.includes(i);if(!(i in(s?IDBIndex:IDBObjectStore).prototype)||!(l||ib.includes(i)))return;const c=async function(d,...g){const y=this.transaction(d,l?"readwrite":"readonly");let _=y.store;return s&&(_=_.index(g.shift())),(await Promise.all([_[i](...g),l&&y.done]))[0]};return Qd.set(t,c),c}W1(r=>({...r,get:(t,i,s)=>cv(t,i)||r.get(t,i,s),has:(t,i)=>!!cv(t,i)||r.has(t,i)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rb{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(ab(i)){const s=i.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(i=>i).join(" ")}}function ab(r){return r.getComponent()?.type==="VERSION"}const im="@firebase/app",hv="0.14.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ts=new Im("@firebase/app"),ob="@firebase/app-compat",lb="@firebase/analytics-compat",ub="@firebase/analytics",cb="@firebase/app-check-compat",hb="@firebase/app-check",fb="@firebase/auth",db="@firebase/auth-compat",mb="@firebase/database",gb="@firebase/data-connect",pb="@firebase/database-compat",yb="@firebase/functions",_b="@firebase/functions-compat",vb="@firebase/installations",Eb="@firebase/installations-compat",Tb="@firebase/messaging",Ab="@firebase/messaging-compat",Sb="@firebase/performance",bb="@firebase/performance-compat",wb="@firebase/remote-config",Rb="@firebase/remote-config-compat",Ib="@firebase/storage",Cb="@firebase/storage-compat",Nb="@firebase/firestore",Db="@firebase/ai",Ob="@firebase/firestore-compat",Vb="firebase",xb="12.3.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sm="[DEFAULT]",Mb={[im]:"fire-core",[ob]:"fire-core-compat",[ub]:"fire-analytics",[lb]:"fire-analytics-compat",[hb]:"fire-app-check",[cb]:"fire-app-check-compat",[fb]:"fire-auth",[db]:"fire-auth-compat",[mb]:"fire-rtdb",[gb]:"fire-data-connect",[pb]:"fire-rtdb-compat",[yb]:"fire-fn",[_b]:"fire-fn-compat",[vb]:"fire-iid",[Eb]:"fire-iid-compat",[Tb]:"fire-fcm",[Ab]:"fire-fcm-compat",[Sb]:"fire-perf",[bb]:"fire-perf-compat",[wb]:"fire-rc",[Rb]:"fire-rc-compat",[Ib]:"fire-gcs",[Cb]:"fire-gcs-compat",[Nb]:"fire-fst",[Ob]:"fire-fst-compat",[Db]:"fire-vertex","fire-js":"fire-js",[Vb]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zc=new Map,Ub=new Map,rm=new Map;function fv(r,t){try{r.container.addComponent(t)}catch(i){ts.debug(`Component ${t.name} failed to register with FirebaseApp ${r.name}`,i)}}function Za(r){const t=r.name;if(rm.has(t))return ts.debug(`There were multiple attempts to register component ${t}.`),!1;rm.set(t,r);for(const i of Zc.values())fv(i,r);for(const i of Ub.values())fv(i,r);return!0}function Nm(r,t){const i=r.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),r.container.getProvider(t)}function Zn(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lb={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Fs=new Gl("app","Firebase",Lb);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pb{constructor(t,i,s){this._isDeleted=!1,this._options={...t},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new qr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Fs.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ao=xb;function Y0(r,t={}){let i=r;typeof t!="object"&&(t={name:t});const s={name:sm,automaticDataCollectionEnabled:!0,...t},l=s.name;if(typeof l!="string"||!l)throw Fs.create("bad-app-name",{appName:String(l)});if(i||(i=B0()),!i)throw Fs.create("no-options");const c=Zc.get(l);if(c){if(Br(i,c.options)&&Br(s,c.config))return c;throw Fs.create("duplicate-app",{appName:l})}const d=new H1(l);for(const y of rm.values())d.addComponent(y);const g=new Pb(i,s,d);return Zc.set(l,g),g}function K0(r=sm){const t=Zc.get(r);if(!t&&r===sm&&B0())return Y0();if(!t)throw Fs.create("no-app",{appName:r});return t}function Gs(r,t,i){let s=Mb[r]??r;i&&(s+=`-${i}`);const l=s.match(/\s|\//),c=t.match(/\s|\//);if(l||c){const d=[`Unable to register library "${s}" with version "${t}":`];l&&d.push(`library name "${s}" contains illegal characters (whitespace or "/")`),l&&c&&d.push("and"),c&&d.push(`version name "${t}" contains illegal characters (whitespace or "/")`),ts.warn(d.join(" "));return}Za(new qr(`${s}-version`,()=>({library:s,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kb="firebase-heartbeat-database",zb=1,xl="firebase-heartbeat-store";let Yd=null;function X0(){return Yd||(Yd=nb(kb,zb,{upgrade:(r,t)=>{switch(t){case 0:try{r.createObjectStore(xl)}catch(i){console.warn(i)}}}}).catch(r=>{throw Fs.create("idb-open",{originalErrorMessage:r.message})})),Yd}async function jb(r){try{const i=(await X0()).transaction(xl),s=await i.objectStore(xl).get($0(r));return await i.done,s}catch(t){if(t instanceof ss)ts.warn(t.message);else{const i=Fs.create("idb-get",{originalErrorMessage:t?.message});ts.warn(i.message)}}}async function dv(r,t){try{const s=(await X0()).transaction(xl,"readwrite");await s.objectStore(xl).put(t,$0(r)),await s.done}catch(i){if(i instanceof ss)ts.warn(i.message);else{const s=Fs.create("idb-set",{originalErrorMessage:i?.message});ts.warn(s.message)}}}function $0(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bb=1024,qb=30;class Hb{constructor(t){this.container=t,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new Gb(i),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=mv();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(l=>l.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats.length>qb){const l=Qb(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){ts.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=mv(),{heartbeatsToSend:i,unsentEntries:s}=Fb(this._heartbeatsCache.heartbeats),l=$c(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(t){return ts.warn(t),""}}}function mv(){return new Date().toISOString().substring(0,10)}function Fb(r,t=Bb){const i=[];let s=r.slice();for(const l of r){const c=i.find(d=>d.agent===l.agent);if(c){if(c.dates.push(l.date),gv(i)>t){c.dates.pop();break}}else if(i.push({agent:l.agent,dates:[l.date]}),gv(i)>t){i.pop();break}s=s.slice(1)}return{heartbeatsToSend:i,unsentEntries:s}}class Gb{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return O1()?V1().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await jb(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const s=await this.read();return dv(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const s=await this.read();return dv(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...t.heartbeats]})}else return}}function gv(r){return $c(JSON.stringify({version:2,heartbeats:r})).length}function Qb(r){if(r.length===0)return-1;let t=0,i=r[0].date;for(let s=1;s<r.length;s++)r[s].date<i&&(i=r[s].date,t=s);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yb(r){Za(new qr("platform-logger",t=>new rb(t),"PRIVATE")),Za(new qr("heartbeat",t=>new Hb(t),"PRIVATE")),Gs(im,hv,r),Gs(im,hv,"esm2020"),Gs("fire-js","")}Yb("");var Kb="firebase",Xb="12.3.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Gs(Kb,Xb,"app");function Z0(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const $b=Z0,J0=new Gl("auth","Firebase",Z0());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jc=new Im("@firebase/auth");function Zb(r,...t){Jc.logLevel<=Mt.WARN&&Jc.warn(`Auth (${ao}): ${r}`,...t)}function jc(r,...t){Jc.logLevel<=Mt.ERROR&&Jc.error(`Auth (${ao}): ${r}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Di(r,...t){throw Om(r,...t)}function Wn(r,...t){return Om(r,...t)}function Dm(r,t,i){const s={...$b(),[t]:i};return new Gl("auth","Firebase",s).create(t,{appName:r.name})}function zr(r){return Dm(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Jb(r,t,i){const s=i;if(!(t instanceof s))throw s.name!==t.constructor.name&&Di(r,"argument-error"),Dm(r,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Om(r,...t){if(typeof r!="string"){const i=t[0],s=[...t.slice(1)];return s[0]&&(s[0].appName=r.name),r._errorFactory.create(i,...s)}return J0.create(r,...t)}function Tt(r,t,...i){if(!r)throw Om(t,...i)}function Ji(r){const t="INTERNAL ASSERTION FAILED: "+r;throw jc(t),new Error(t)}function es(r,t){r||Ji(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function am(){return typeof self<"u"&&self.location?.href||""}function Wb(){return pv()==="http:"||pv()==="https:"}function pv(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tw(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Wb()||I1()||"connection"in navigator)?navigator.onLine:!0}function ew(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yl{constructor(t,i){this.shortDelay=t,this.longDelay=i,es(i>t,"Short delay should be less than long delay!"),this.isMobile=b1()||C1()}get(){return tw()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vm(r,t){es(r.emulator,"Emulator should always be set here");const{url:i}=r.emulator;return t?`${i}${t.startsWith("/")?t.slice(1):t}`:i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W0{static initialize(t,i,s){this.fetchImpl=t,i&&(this.headersImpl=i),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ji("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ji("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ji("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nw={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iw=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],sw=new Yl(3e4,6e4);function xm(r,t){return r.tenantId&&!t.tenantId?{...t,tenantId:r.tenantId}:t}async function oo(r,t,i,s,l={}){return tE(r,l,async()=>{let c={},d={};s&&(t==="GET"?d=s:c={body:JSON.stringify(s)});const g=Ql({key:r.config.apiKey,...d}).slice(1),y=await r._getAdditionalHeaders();y["Content-Type"]="application/json",r.languageCode&&(y["X-Firebase-Locale"]=r.languageCode);const _={method:t,headers:y,...c};return R1()||(_.referrerPolicy="no-referrer"),r.emulatorConfig&&ro(r.emulatorConfig.host)&&(_.credentials="include"),W0.fetch()(await eE(r,r.config.apiHost,i,g),_)})}async function tE(r,t,i){r._canInitEmulator=!1;const s={...nw,...t};try{const l=new aw(r),c=await Promise.race([i(),l.promise]);l.clearNetworkTimeout();const d=await c.json();if("needConfirmation"in d)throw Mc(r,"account-exists-with-different-credential",d);if(c.ok&&!("errorMessage"in d))return d;{const g=c.ok?d.errorMessage:d.error.message,[y,_]=g.split(" : ");if(y==="FEDERATED_USER_ID_ALREADY_LINKED")throw Mc(r,"credential-already-in-use",d);if(y==="EMAIL_EXISTS")throw Mc(r,"email-already-in-use",d);if(y==="USER_DISABLED")throw Mc(r,"user-disabled",d);const A=s[y]||y.toLowerCase().replace(/[_\s]+/g,"-");if(_)throw Dm(r,A,_);Di(r,A)}}catch(l){if(l instanceof ss)throw l;Di(r,"network-request-failed",{message:String(l)})}}async function rw(r,t,i,s,l={}){const c=await oo(r,t,i,s,l);return"mfaPendingCredential"in c&&Di(r,"multi-factor-auth-required",{_serverResponse:c}),c}async function eE(r,t,i,s){const l=`${t}${i}?${s}`,c=r,d=c.config.emulator?Vm(r.config,l):`${r.config.apiScheme}://${l}`;return iw.includes(i)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(d).toString():d}class aw{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((i,s)=>{this.timer=setTimeout(()=>s(Wn(this.auth,"network-request-failed")),sw.get())})}}function Mc(r,t,i){const s={appName:r.name};i.email&&(s.email=i.email),i.phoneNumber&&(s.phoneNumber=i.phoneNumber);const l=Wn(r,t,s);return l.customData._tokenResponse=i,l}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ow(r,t){return oo(r,"POST","/v1/accounts:delete",t)}async function Wc(r,t){return oo(r,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rl(r){if(r)try{const t=new Date(Number(r));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function lw(r,t=!1){const i=Me(r),s=await i.getIdToken(t),l=Mm(s);Tt(l&&l.exp&&l.auth_time&&l.iat,i.auth,"internal-error");const c=typeof l.firebase=="object"?l.firebase:void 0,d=c?.sign_in_provider;return{claims:l,token:s,authTime:Rl(Kd(l.auth_time)),issuedAtTime:Rl(Kd(l.iat)),expirationTime:Rl(Kd(l.exp)),signInProvider:d||null,signInSecondFactor:c?.sign_in_second_factor||null}}function Kd(r){return Number(r)*1e3}function Mm(r){const[t,i,s]=r.split(".");if(t===void 0||i===void 0||s===void 0)return jc("JWT malformed, contained fewer than 3 sections"),null;try{const l=z0(i);return l?JSON.parse(l):(jc("Failed to decode base64 JWT payload"),null)}catch(l){return jc("Caught error parsing JWT payload as JSON",l?.toString()),null}}function yv(r){const t=Mm(r);return Tt(t,"internal-error"),Tt(typeof t.exp<"u","internal-error"),Tt(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ml(r,t,i=!1){if(i)return t;try{return await t}catch(s){throw s instanceof ss&&uw(s)&&r.auth.currentUser===r&&await r.auth.signOut(),s}}function uw({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cw{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(t=!1){if(!this.isRunning)return;const i=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class om{constructor(t,i){this.createdAt=t,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=Rl(this.lastLoginAt),this.creationTime=Rl(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function th(r){const t=r.auth,i=await r.getIdToken(),s=await Ml(r,Wc(t,{idToken:i}));Tt(s?.users.length,t,"internal-error");const l=s.users[0];r._notifyReloadListener(l);const c=l.providerUserInfo?.length?nE(l.providerUserInfo):[],d=fw(r.providerData,c),g=r.isAnonymous,y=!(r.email&&l.passwordHash)&&!d?.length,_=g?y:!1,A={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:d,metadata:new om(l.createdAt,l.lastLoginAt),isAnonymous:_};Object.assign(r,A)}async function hw(r){const t=Me(r);await th(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function fw(r,t){return[...r.filter(s=>!t.some(l=>l.providerId===s.providerId)),...t]}function nE(r){return r.map(({providerId:t,...i})=>({providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dw(r,t){const i=await tE(r,{},async()=>{const s=Ql({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:l,apiKey:c}=r.config,d=await eE(r,l,"/v1/token",`key=${c}`),g=await r._getAdditionalHeaders();g["Content-Type"]="application/x-www-form-urlencoded";const y={method:"POST",headers:g,body:s};return r.emulatorConfig&&ro(r.emulatorConfig.host)&&(y.credentials="include"),W0.fetch()(d,y)});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function mw(r,t){return oo(r,"POST","/v2/accounts:revokeToken",xm(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qa{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){Tt(t.idToken,"internal-error"),Tt(typeof t.idToken<"u","internal-error"),Tt(typeof t.refreshToken<"u","internal-error");const i="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):yv(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,i)}updateFromIdToken(t){Tt(t.length!==0,"internal-error");const i=yv(t);this.updateTokensAndExpiration(t,null,i)}async getToken(t,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(Tt(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,i){const{accessToken:s,refreshToken:l,expiresIn:c}=await dw(t,i);this.updateTokensAndExpiration(s,l,Number(c))}updateTokensAndExpiration(t,i,s){this.refreshToken=i||null,this.accessToken=t||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(t,i){const{refreshToken:s,accessToken:l,expirationTime:c}=i,d=new Qa;return s&&(Tt(typeof s=="string","internal-error",{appName:t}),d.refreshToken=s),l&&(Tt(typeof l=="string","internal-error",{appName:t}),d.accessToken=l),c&&(Tt(typeof c=="number","internal-error",{appName:t}),d.expirationTime=c),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Qa,this.toJSON())}_performRefresh(){return Ji("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ks(r,t){Tt(typeof r=="string"||typeof r>"u","internal-error",{appName:t})}class Jn{constructor({uid:t,auth:i,stsTokenManager:s,...l}){this.providerId="firebase",this.proactiveRefresh=new cw(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new om(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(t){const i=await Ml(this,this.stsTokenManager.getToken(this.auth,t));return Tt(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(t){return lw(this,t)}reload(){return hw(this)}_assign(t){this!==t&&(Tt(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(i=>({...i})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const i=new Jn({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return i.metadata._copy(this.metadata),i}_onReload(t){Tt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,i=!1){let s=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),s=!0),i&&await th(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Zn(this.auth.app))return Promise.reject(zr(this.auth));const t=await this.getIdToken();return await Ml(this,ow(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,i){const s=i.displayName??void 0,l=i.email??void 0,c=i.phoneNumber??void 0,d=i.photoURL??void 0,g=i.tenantId??void 0,y=i._redirectEventId??void 0,_=i.createdAt??void 0,A=i.lastLoginAt??void 0,{uid:S,emailVerified:D,isAnonymous:F,providerData:J,stsTokenManager:et}=i;Tt(S&&et,t,"internal-error");const W=Qa.fromJSON(this.name,et);Tt(typeof S=="string",t,"internal-error"),ks(s,t.name),ks(l,t.name),Tt(typeof D=="boolean",t,"internal-error"),Tt(typeof F=="boolean",t,"internal-error"),ks(c,t.name),ks(d,t.name),ks(g,t.name),ks(y,t.name),ks(_,t.name),ks(A,t.name);const gt=new Jn({uid:S,auth:t,email:l,emailVerified:D,displayName:s,isAnonymous:F,photoURL:d,phoneNumber:c,tenantId:g,stsTokenManager:W,createdAt:_,lastLoginAt:A});return J&&Array.isArray(J)&&(gt.providerData=J.map(vt=>({...vt}))),y&&(gt._redirectEventId=y),gt}static async _fromIdTokenResponse(t,i,s=!1){const l=new Qa;l.updateFromServerResponse(i);const c=new Jn({uid:i.localId,auth:t,stsTokenManager:l,isAnonymous:s});return await th(c),c}static async _fromGetAccountInfoResponse(t,i,s){const l=i.users[0];Tt(l.localId!==void 0,"internal-error");const c=l.providerUserInfo!==void 0?nE(l.providerUserInfo):[],d=!(l.email&&l.passwordHash)&&!c?.length,g=new Qa;g.updateFromIdToken(s);const y=new Jn({uid:l.localId,auth:t,stsTokenManager:g,isAnonymous:d}),_={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:c,metadata:new om(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!c?.length};return Object.assign(y,_),y}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _v=new Map;function Wi(r){es(r instanceof Function,"Expected a class definition");let t=_v.get(r);return t?(es(t instanceof r,"Instance stored in cache mismatched with class"),t):(t=new r,_v.set(r,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iE{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,i){this.storage[t]=i}async _get(t){const i=this.storage[t];return i===void 0?null:i}async _remove(t){delete this.storage[t]}_addListener(t,i){}_removeListener(t,i){}}iE.type="NONE";const vv=iE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bc(r,t,i){return`firebase:${r}:${t}:${i}`}class Ya{constructor(t,i,s){this.persistence=t,this.auth=i,this.userKey=s;const{config:l,name:c}=this.auth;this.fullUserKey=Bc(this.userKey,l.apiKey,c),this.fullPersistenceKey=Bc("persistence",l.apiKey,c),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const i=await Wc(this.auth,{idToken:t}).catch(()=>{});return i?Jn._fromGetAccountInfoResponse(this.auth,i,t):null}return Jn._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,i,s="authUser"){if(!i.length)return new Ya(Wi(vv),t,s);const l=(await Promise.all(i.map(async _=>{if(await _._isAvailable())return _}))).filter(_=>_);let c=l[0]||Wi(vv);const d=Bc(s,t.config.apiKey,t.name);let g=null;for(const _ of i)try{const A=await _._get(d);if(A){let S;if(typeof A=="string"){const D=await Wc(t,{idToken:A}).catch(()=>{});if(!D)break;S=await Jn._fromGetAccountInfoResponse(t,D,A)}else S=Jn._fromJSON(t,A);_!==c&&(g=S),c=_;break}}catch{}const y=l.filter(_=>_._shouldAllowMigration);return!c._shouldAllowMigration||!y.length?new Ya(c,t,s):(c=y[0],g&&await c._set(d,g.toJSON()),await Promise.all(i.map(async _=>{if(_!==c)try{await _._remove(d)}catch{}})),new Ya(c,t,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ev(r){const t=r.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(oE(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(sE(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(uE(t))return"Blackberry";if(cE(t))return"Webos";if(rE(t))return"Safari";if((t.includes("chrome/")||aE(t))&&!t.includes("edge/"))return"Chrome";if(lE(t))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=r.match(i);if(s?.length===2)return s[1]}return"Other"}function sE(r=Je()){return/firefox\//i.test(r)}function rE(r=Je()){const t=r.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function aE(r=Je()){return/crios\//i.test(r)}function oE(r=Je()){return/iemobile/i.test(r)}function lE(r=Je()){return/android/i.test(r)}function uE(r=Je()){return/blackberry/i.test(r)}function cE(r=Je()){return/webos/i.test(r)}function Um(r=Je()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function gw(r=Je()){return Um(r)&&!!window.navigator?.standalone}function pw(){return N1()&&document.documentMode===10}function hE(r=Je()){return Um(r)||lE(r)||cE(r)||uE(r)||/windows phone/i.test(r)||oE(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fE(r,t=[]){let i;switch(r){case"Browser":i=Ev(Je());break;case"Worker":i=`${Ev(Je())}-${r}`;break;default:i=r}const s=t.length?t.join(","):"FirebaseCore-web";return`${i}/JsCore/${ao}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yw{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,i){const s=c=>new Promise((d,g)=>{try{const y=t(c);d(y)}catch(y){g(y)}});s.onAbort=i,this.queue.push(s);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const i=[];try{for(const s of this.queue)await s(t),s.onAbort&&i.push(s.onAbort)}catch(s){i.reverse();for(const l of i)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _w(r,t={}){return oo(r,"GET","/v2/passwordPolicy",xm(r,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vw=6;class Ew{constructor(t){const i=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=i.minPasswordLength??vw,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),i.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),i.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),i.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),i.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const i={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,i),this.validatePasswordCharacterOptions(t,i),i.isValid&&(i.isValid=i.meetsMinPasswordLength??!0),i.isValid&&(i.isValid=i.meetsMaxPasswordLength??!0),i.isValid&&(i.isValid=i.containsLowercaseLetter??!0),i.isValid&&(i.isValid=i.containsUppercaseLetter??!0),i.isValid&&(i.isValid=i.containsNumericCharacter??!0),i.isValid&&(i.isValid=i.containsNonAlphanumericCharacter??!0),i}validatePasswordLengthOptions(t,i){const s=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;s&&(i.meetsMinPasswordLength=t.length>=s),l&&(i.meetsMaxPasswordLength=t.length<=l)}validatePasswordCharacterOptions(t,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let s;for(let l=0;l<t.length;l++)s=t.charAt(l),this.updatePasswordCharacterOptionsStatuses(i,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(t,i,s,l,c){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tw{constructor(t,i,s,l){this.app=t,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=s,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Tv(this),this.idTokenSubscription=new Tv(this),this.beforeStateQueue=new yw(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=J0,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=l.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(t,i){return i&&(this._popupRedirectResolver=Wi(i)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Ya.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const i=await Wc(this,{idToken:t}),s=await Jn._fromGetAccountInfoResponse(this,i,t);await this.directlySetCurrentUser(s)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(Zn(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let s=i,l=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,d=s?._redirectEventId,g=await this.tryRedirectSignIn(t);(!c||c===d)&&g?.user&&(s=g.user,l=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(s)}catch(c){s=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Tt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(t){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(t){try{await th(t)}catch(i){if(i?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=ew()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(Zn(this.app))return Promise.reject(zr(this));const i=t?Me(t):null;return i&&Tt(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(t,i=!1){if(!this._deleted)return t&&Tt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return Zn(this.app)?Promise.reject(zr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return Zn(this.app)?Promise.reject(zr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Wi(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await _w(this),i=new Ew(t);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new Gl("auth","Firebase",t())}onAuthStateChanged(t,i,s){return this.registerStateListener(this.authStateSubscription,t,i,s)}beforeAuthStateChanged(t,i){return this.beforeStateQueue.pushCallback(t,i)}onIdTokenChanged(t,i,s){return this.registerStateListener(this.idTokenSubscription,t,i,s)}authStateReady(){return new Promise((t,i)=>{if(this.currentUser)t();else{const s=this.onAuthStateChanged(()=>{s(),t()},i)}})}async revokeAccessToken(t){if(this.currentUser){const i=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:i};this.tenantId!=null&&(s.tenantId=this.tenantId),await mw(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,i){const s=await this.getOrInitRedirectPersistenceManager(i);return t===null?s.removeCurrentUser():s.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const i=t&&Wi(t)||this._popupRedirectResolver;Tt(i,this,"argument-error"),this.redirectPersistenceManager=await Ya.create(this,[Wi(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,i,s,l){if(this._deleted)return()=>{};const c=typeof i=="function"?i:i.next.bind(i);let d=!1;const g=this._isInitialized?Promise.resolve():this._initializationPromise;if(Tt(g,this,"internal-error"),g.then(()=>{d||c(this.currentUser)}),typeof i=="function"){const y=t.addObserver(i,s,l);return()=>{d=!0,y()}}else{const y=t.addObserver(i);return()=>{d=!0,y()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return Tt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=fE(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const i=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();i&&(t["X-Firebase-Client"]=i);const s=await this._getAppCheckToken();return s&&(t["X-Firebase-AppCheck"]=s),t}async _getAppCheckToken(){if(Zn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&Zb(`Error while retrieving App Check token: ${t.error}`),t?.token}}function yh(r){return Me(r)}class Tv{constructor(t){this.auth=t,this.observer=null,this.addObserver=P1(i=>this.observer=i)}get next(){return Tt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Lm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Aw(r){Lm=r}function Sw(r){return Lm.loadJS(r)}function bw(){return Lm.gapiScript}function ww(r){return`__${r}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rw(r,t){const i=Nm(r,"auth");if(i.isInitialized()){const l=i.getImmediate(),c=i.getOptions();if(Br(c,t??{}))return l;Di(l,"already-initialized")}return i.initialize({options:t})}function Iw(r,t){const i=t?.persistence||[],s=(Array.isArray(i)?i:[i]).map(Wi);t?.errorMap&&r._updateErrorMap(t.errorMap),r._initializeWithPersistence(s,t?.popupRedirectResolver)}function Cw(r,t,i){const s=yh(r);Tt(/^https?:\/\//.test(t),s,"invalid-emulator-scheme");const l=!1,c=dE(t),{host:d,port:g}=Nw(t),y=g===null?"":`:${g}`,_={url:`${c}//${d}${y}/`},A=Object.freeze({host:d,port:g,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!s._canInitEmulator){Tt(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),Tt(Br(_,s.config.emulator)&&Br(A,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=_,s.emulatorConfig=A,s.settings.appVerificationDisabledForTesting=!0,ro(d)?(H0(`${c}//${d}${y}`),F0("Auth",!0)):Dw()}function dE(r){const t=r.indexOf(":");return t<0?"":r.substr(0,t+1)}function Nw(r){const t=dE(r),i=/(\/\/)?([^?#/]+)/.exec(r.substr(t.length));if(!i)return{host:"",port:null};const s=i[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(s);if(l){const c=l[1];return{host:c,port:Av(s.substr(c.length+1))}}else{const[c,d]=s.split(":");return{host:c,port:Av(d)}}}function Av(r){if(!r)return null;const t=Number(r);return isNaN(t)?null:t}function Dw(){function r(){const t=document.createElement("p"),i=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mE{constructor(t,i){this.providerId=t,this.signInMethod=i}toJSON(){return Ji("not implemented")}_getIdTokenResponse(t){return Ji("not implemented")}_linkToIdToken(t,i){return Ji("not implemented")}_getReauthenticationResolver(t){return Ji("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ka(r,t){return rw(r,"POST","/v1/accounts:signInWithIdp",xm(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ow="http://localhost";class Hr extends mE{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const i=new Hr(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(i.idToken=t.idToken),t.accessToken&&(i.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(i.nonce=t.nonce),t.pendingToken&&(i.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(i.accessToken=t.oauthToken,i.secret=t.oauthTokenSecret):Di("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const i=typeof t=="string"?JSON.parse(t):t,{providerId:s,signInMethod:l,...c}=i;if(!s||!l)return null;const d=new Hr(s,l);return d.idToken=c.idToken||void 0,d.accessToken=c.accessToken||void 0,d.secret=c.secret,d.nonce=c.nonce,d.pendingToken=c.pendingToken||null,d}_getIdTokenResponse(t){const i=this.buildRequest();return Ka(t,i)}_linkToIdToken(t,i){const s=this.buildRequest();return s.idToken=i,Ka(t,s)}_getReauthenticationResolver(t){const i=this.buildRequest();return i.autoCreate=!1,Ka(t,i)}buildRequest(){const t={requestUri:Ow,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),t.postBody=Ql(i)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pm{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kl extends Pm{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zs extends Kl{constructor(){super("facebook.com")}static credential(t){return Hr._fromParams({providerId:zs.PROVIDER_ID,signInMethod:zs.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return zs.credentialFromTaggedObject(t)}static credentialFromError(t){return zs.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return zs.credential(t.oauthAccessToken)}catch{return null}}}zs.FACEBOOK_SIGN_IN_METHOD="facebook.com";zs.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zi extends Kl{constructor(){super("google.com"),this.addScope("profile")}static credential(t,i){return Hr._fromParams({providerId:Zi.PROVIDER_ID,signInMethod:Zi.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:i})}static credentialFromResult(t){return Zi.credentialFromTaggedObject(t)}static credentialFromError(t){return Zi.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:i,oauthAccessToken:s}=t;if(!i&&!s)return null;try{return Zi.credential(i,s)}catch{return null}}}Zi.GOOGLE_SIGN_IN_METHOD="google.com";Zi.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class js extends Kl{constructor(){super("github.com")}static credential(t){return Hr._fromParams({providerId:js.PROVIDER_ID,signInMethod:js.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return js.credentialFromTaggedObject(t)}static credentialFromError(t){return js.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return js.credential(t.oauthAccessToken)}catch{return null}}}js.GITHUB_SIGN_IN_METHOD="github.com";js.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bs extends Kl{constructor(){super("twitter.com")}static credential(t,i){return Hr._fromParams({providerId:Bs.PROVIDER_ID,signInMethod:Bs.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:i})}static credentialFromResult(t){return Bs.credentialFromTaggedObject(t)}static credentialFromError(t){return Bs.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:i,oauthTokenSecret:s}=t;if(!i||!s)return null;try{return Bs.credential(i,s)}catch{return null}}}Bs.TWITTER_SIGN_IN_METHOD="twitter.com";Bs.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ja{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,i,s,l=!1){const c=await Jn._fromIdTokenResponse(t,s,l),d=Sv(s);return new Ja({user:c,providerId:d,_tokenResponse:s,operationType:i})}static async _forOperation(t,i,s){await t._updateTokensIfNecessary(s,!0);const l=Sv(s);return new Ja({user:t,providerId:l,_tokenResponse:s,operationType:i})}}function Sv(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eh extends ss{constructor(t,i,s,l){super(i.code,i.message),this.operationType=s,this.user=l,Object.setPrototypeOf(this,eh.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:i.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(t,i,s,l){return new eh(t,i,s,l)}}function gE(r,t,i,s){return(t==="reauthenticate"?i._getReauthenticationResolver(r):i._getIdTokenResponse(r)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?eh._fromErrorAndOperation(r,c,t,s):c})}async function Vw(r,t,i=!1){const s=await Ml(r,t._linkToIdToken(r.auth,await r.getIdToken()),i);return Ja._forOperation(r,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xw(r,t,i=!1){const{auth:s}=r;if(Zn(s.app))return Promise.reject(zr(s));const l="reauthenticate";try{const c=await Ml(r,gE(s,l,t,r),i);Tt(c.idToken,s,"internal-error");const d=Mm(c.idToken);Tt(d,s,"internal-error");const{sub:g}=d;return Tt(r.uid===g,s,"user-mismatch"),Ja._forOperation(r,l,c)}catch(c){throw c?.code==="auth/user-not-found"&&Di(s,"user-mismatch"),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Mw(r,t,i=!1){if(Zn(r.app))return Promise.reject(zr(r));const s="signIn",l=await gE(r,s,t),c=await Ja._fromIdTokenResponse(r,s,l);return i||await r._updateCurrentUser(c.user),c}function Uw(r,t,i,s){return Me(r).onIdTokenChanged(t,i,s)}function Lw(r,t,i){return Me(r).beforeAuthStateChanged(t,i)}function km(r,t,i,s){return Me(r).onAuthStateChanged(t,i,s)}function pE(r){return Me(r).signOut()}const nh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yE{constructor(t,i){this.storageRetriever=t,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(nh,"1"),this.storage.removeItem(nh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,i){return this.storage.setItem(t,JSON.stringify(i)),Promise.resolve()}_get(t){const i=this.storage.getItem(t);return Promise.resolve(i?JSON.parse(i):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pw=1e3,kw=10;class _E extends yE{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,i)=>this.onStorageEvent(t,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=hE(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const i of Object.keys(this.listeners)){const s=this.storage.getItem(i),l=this.localCache[i];s!==l&&t(i,l,s)}}onStorageEvent(t,i=!1){if(!t.key){this.forAllChangedKeys((d,g,y)=>{this.notifyListeners(d,y)});return}const s=t.key;i?this.detachListener():this.stopPolling();const l=()=>{const d=this.storage.getItem(s);!i&&this.localCache[s]===d||this.notifyListeners(s,d)},c=this.storage.getItem(s);pw()&&c!==t.newValue&&t.newValue!==t.oldValue?setTimeout(l,kw):l()}notifyListeners(t,i){this.localCache[t]=i;const s=this.listeners[t];if(s)for(const l of Array.from(s))l(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,i,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:i,newValue:s}),!0)})},Pw)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,i){await super._set(t,i),this.localCache[t]=JSON.stringify(i)}async _get(t){const i=await super._get(t);return this.localCache[t]=JSON.stringify(i),i}async _remove(t){await super._remove(t),delete this.localCache[t]}}_E.type="LOCAL";const zw=_E;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vE extends yE{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,i){}_removeListener(t,i){}}vE.type="SESSION";const EE=vE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jw(r){return Promise.all(r.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(i){return{fulfilled:!1,reason:i}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _h{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const i=this.receivers.find(l=>l.isListeningto(t));if(i)return i;const s=new _h(t);return this.receivers.push(s),s}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const i=t,{eventId:s,eventType:l,data:c}=i.data,d=this.handlersMap[l];if(!d?.size)return;i.ports[0].postMessage({status:"ack",eventId:s,eventType:l});const g=Array.from(d).map(async _=>_(i.origin,c)),y=await jw(g);i.ports[0].postMessage({status:"done",eventId:s,eventType:l,response:y})}_subscribe(t,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(i)}_unsubscribe(t,i){this.handlersMap[t]&&i&&this.handlersMap[t].delete(i),(!i||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}_h.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zm(r="",t=10){let i="";for(let s=0;s<t;s++)i+=Math.floor(Math.random()*10);return r+i}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bw{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,i,s=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let c,d;return new Promise((g,y)=>{const _=zm("",20);l.port1.start();const A=setTimeout(()=>{y(new Error("unsupported_event"))},s);d={messageChannel:l,onMessage(S){const D=S;if(D.data.eventId===_)switch(D.data.status){case"ack":clearTimeout(A),c=setTimeout(()=>{y(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),g(D.data.response);break;default:clearTimeout(A),clearTimeout(c),y(new Error("invalid_response"));break}}},this.handlers.add(d),l.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:t,eventId:_,data:i},[l.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wi(){return window}function qw(r){wi().location.href=r}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TE(){return typeof wi().WorkerGlobalScope<"u"&&typeof wi().importScripts=="function"}async function Hw(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Fw(){return navigator?.serviceWorker?.controller||null}function Gw(){return TE()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AE="firebaseLocalStorageDb",Qw=1,ih="firebaseLocalStorage",SE="fbase_key";class Xl{constructor(t){this.request=t}toPromise(){return new Promise((t,i)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function vh(r,t){return r.transaction([ih],t?"readwrite":"readonly").objectStore(ih)}function Yw(){const r=indexedDB.deleteDatabase(AE);return new Xl(r).toPromise()}function lm(){const r=indexedDB.open(AE,Qw);return new Promise((t,i)=>{r.addEventListener("error",()=>{i(r.error)}),r.addEventListener("upgradeneeded",()=>{const s=r.result;try{s.createObjectStore(ih,{keyPath:SE})}catch(l){i(l)}}),r.addEventListener("success",async()=>{const s=r.result;s.objectStoreNames.contains(ih)?t(s):(s.close(),await Yw(),t(await lm()))})})}async function bv(r,t,i){const s=vh(r,!0).put({[SE]:t,value:i});return new Xl(s).toPromise()}async function Kw(r,t){const i=vh(r,!1).get(t),s=await new Xl(i).toPromise();return s===void 0?null:s.value}function wv(r,t){const i=vh(r,!0).delete(t);return new Xl(i).toPromise()}const Xw=800,$w=3;class bE{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await lm(),this.db)}async _withRetries(t){let i=0;for(;;)try{const s=await this._openDb();return await t(s)}catch(s){if(i++>$w)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return TE()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=_h._getInstance(Gw()),this.receiver._subscribe("keyChanged",async(t,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(t,i)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await Hw(),!this.activeServiceWorker)return;this.sender=new Bw(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||Fw()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await lm();return await bv(t,nh,"1"),await wv(t,nh),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,i){return this._withPendingWrite(async()=>(await this._withRetries(s=>bv(s,t,i)),this.localCache[t]=i,this.notifyServiceWorker(t)))}async _get(t){const i=await this._withRetries(s=>Kw(s,t));return this.localCache[t]=i,i}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(i=>wv(i,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(l=>{const c=vh(l,!1).getAll();return new Xl(c).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const i=[],s=new Set;if(t.length!==0)for(const{fbase_key:l,value:c}of t)s.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(c)&&(this.notifyListeners(l,c),i.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!s.has(l)&&(this.notifyListeners(l,null),i.push(l));return i}notifyListeners(t,i){this.localCache[t]=i;const s=this.listeners[t];if(s)for(const l of Array.from(s))l(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Xw)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}bE.type="LOCAL";const Zw=bE;new Yl(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wE(r,t){return t?Wi(t):(Tt(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jm extends mE{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Ka(t,this._buildIdpRequest())}_linkToIdToken(t,i){return Ka(t,this._buildIdpRequest(i))}_getReauthenticationResolver(t){return Ka(t,this._buildIdpRequest())}_buildIdpRequest(t){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(i.idToken=t),i}}function Jw(r){return Mw(r.auth,new jm(r),r.bypassAuthState)}function Ww(r){const{auth:t,user:i}=r;return Tt(i,t,"internal-error"),xw(i,new jm(r),r.bypassAuthState)}async function tR(r){const{auth:t,user:i}=r;return Tt(i,t,"internal-error"),Vw(i,new jm(r),r.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RE{constructor(t,i,s,l,c=!1){this.auth=t,this.resolver=s,this.user=l,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(t,i)=>{this.pendingPromise={resolve:t,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(t){const{urlResponse:i,sessionId:s,postBody:l,tenantId:c,error:d,type:g}=t;if(d){this.reject(d);return}const y={auth:this.auth,requestUri:i,sessionId:s,tenantId:c||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(g)(y))}catch(_){this.reject(_)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return Jw;case"linkViaPopup":case"linkViaRedirect":return tR;case"reauthViaPopup":case"reauthViaRedirect":return Ww;default:Di(this.auth,"internal-error")}}resolve(t){es(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){es(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eR=new Yl(2e3,1e4);async function nR(r,t,i){if(Zn(r.app))return Promise.reject(Wn(r,"operation-not-supported-in-this-environment"));const s=yh(r);Jb(r,t,Pm);const l=wE(s,i);return new Pr(s,"signInViaPopup",t,l).executeNotNull()}class Pr extends RE{constructor(t,i,s,l,c){super(t,i,l,c),this.provider=s,this.authWindow=null,this.pollId=null,Pr.currentPopupAction&&Pr.currentPopupAction.cancel(),Pr.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return Tt(t,this.auth,"internal-error"),t}async onExecution(){es(this.filter.length===1,"Popup operations only handle one event");const t=zm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(Wn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Wn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Pr.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Wn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,eR.get())};t()}}Pr.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iR="pendingRedirect",qc=new Map;class sR extends RE{constructor(t,i,s=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,s),this.eventId=null}async execute(){let t=qc.get(this.auth._key());if(!t){try{const s=await rR(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(s)}catch(i){t=()=>Promise.reject(i)}qc.set(this.auth._key(),t)}return this.bypassAuthState||qc.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const i=await this.auth._redirectUserForId(t.eventId);if(i)return this.user=i,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function rR(r,t){const i=lR(t),s=oR(r);if(!await s._isAvailable())return!1;const l=await s._get(i)==="true";return await s._remove(i),l}function aR(r,t){qc.set(r._key(),t)}function oR(r){return Wi(r._redirectPersistence)}function lR(r){return Bc(iR,r.config.apiKey,r.name)}async function uR(r,t,i=!1){if(Zn(r.app))return Promise.reject(zr(r));const s=yh(r),l=wE(s,t),d=await new sR(s,l,i).execute();return d&&!i&&(delete d.user._redirectEventId,await s._persistUserIfCurrent(d.user),await s._setRedirectUser(null,t)),d}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cR=600*1e3;class hR{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let i=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(t,s)&&(i=!0,this.sendToConsumer(t,s),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!fR(t)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=t,i=!0)),i}sendToConsumer(t,i){if(t.error&&!IE(t)){const s=t.error.code?.split("auth/")[1]||"internal-error";i.onError(Wn(this.auth,s))}else i.onAuthEvent(t)}isEventForConsumer(t,i){const s=i.eventId===null||!!t.eventId&&t.eventId===i.eventId;return i.filter.includes(t.type)&&s}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=cR&&this.cachedEventUids.clear(),this.cachedEventUids.has(Rv(t))}saveEventToCache(t){this.cachedEventUids.add(Rv(t)),this.lastProcessedEventTime=Date.now()}}function Rv(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(t=>t).join("-")}function IE({type:r,error:t}){return r==="unknown"&&t?.code==="auth/no-auth-event"}function fR(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return IE(r);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dR(r,t={}){return oo(r,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mR=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,gR=/^https?/;async function pR(r){if(r.config.emulator)return;const{authorizedDomains:t}=await dR(r);for(const i of t)try{if(yR(i))return}catch{}Di(r,"unauthorized-domain")}function yR(r){const t=am(),{protocol:i,hostname:s}=new URL(t);if(r.startsWith("chrome-extension://")){const d=new URL(r);return d.hostname===""&&s===""?i==="chrome-extension:"&&r.replace("chrome-extension://","")===t.replace("chrome-extension://",""):i==="chrome-extension:"&&d.hostname===s}if(!gR.test(i))return!1;if(mR.test(r))return s===r;const l=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _R=new Yl(3e4,6e4);function Iv(){const r=wi().___jsl;if(r?.H){for(const t of Object.keys(r.H))if(r.H[t].r=r.H[t].r||[],r.H[t].L=r.H[t].L||[],r.H[t].r=[...r.H[t].L],r.CP)for(let i=0;i<r.CP.length;i++)r.CP[i]=null}}function vR(r){return new Promise((t,i)=>{function s(){Iv(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{Iv(),i(Wn(r,"network-request-failed"))},timeout:_R.get()})}if(wi().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(wi().gapi?.load)s();else{const l=ww("iframefcb");return wi()[l]=()=>{gapi.load?s():i(Wn(r,"network-request-failed"))},Sw(`${bw()}?onload=${l}`).catch(c=>i(c))}}).catch(t=>{throw Hc=null,t})}let Hc=null;function ER(r){return Hc=Hc||vR(r),Hc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TR=new Yl(5e3,15e3),AR="__/auth/iframe",SR="emulator/auth/iframe",bR={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},wR=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function RR(r){const t=r.config;Tt(t.authDomain,r,"auth-domain-config-required");const i=t.emulator?Vm(t,SR):`https://${r.config.authDomain}/${AR}`,s={apiKey:t.apiKey,appName:r.name,v:ao},l=wR.get(r.config.apiHost);l&&(s.eid=l);const c=r._getFrameworks();return c.length&&(s.fw=c.join(",")),`${i}?${Ql(s).slice(1)}`}async function IR(r){const t=await ER(r),i=wi().gapi;return Tt(i,r,"internal-error"),t.open({where:document.body,url:RR(r),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:bR,dontclear:!0},s=>new Promise(async(l,c)=>{await s.restyle({setHideOnLeave:!1});const d=Wn(r,"network-request-failed"),g=wi().setTimeout(()=>{c(d)},TR.get());function y(){wi().clearTimeout(g),l(s)}s.ping(y).then(y,()=>{c(d)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CR={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},NR=500,DR=600,OR="_blank",VR="http://localhost";class Cv{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function xR(r,t,i,s=NR,l=DR){const c=Math.max((window.screen.availHeight-l)/2,0).toString(),d=Math.max((window.screen.availWidth-s)/2,0).toString();let g="";const y={...CR,width:s.toString(),height:l.toString(),top:c,left:d},_=Je().toLowerCase();i&&(g=aE(_)?OR:i),sE(_)&&(t=t||VR,y.scrollbars="yes");const A=Object.entries(y).reduce((D,[F,J])=>`${D}${F}=${J},`,"");if(gw(_)&&g!=="_self")return MR(t||"",g),new Cv(null);const S=window.open(t||"",g,A);Tt(S,r,"popup-blocked");try{S.focus()}catch{}return new Cv(S)}function MR(r,t){const i=document.createElement("a");i.href=r,i.target=t;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UR="__/auth/handler",LR="emulator/auth/handler",PR=encodeURIComponent("fac");async function Nv(r,t,i,s,l,c){Tt(r.config.authDomain,r,"auth-domain-config-required"),Tt(r.config.apiKey,r,"invalid-api-key");const d={apiKey:r.config.apiKey,appName:r.name,authType:i,redirectUrl:s,v:ao,eventId:l};if(t instanceof Pm){t.setDefaultLanguage(r.languageCode),d.providerId=t.providerId||"",L1(t.getCustomParameters())||(d.customParameters=JSON.stringify(t.getCustomParameters()));for(const[A,S]of Object.entries({}))d[A]=S}if(t instanceof Kl){const A=t.getScopes().filter(S=>S!=="");A.length>0&&(d.scopes=A.join(","))}r.tenantId&&(d.tid=r.tenantId);const g=d;for(const A of Object.keys(g))g[A]===void 0&&delete g[A];const y=await r._getAppCheckToken(),_=y?`#${PR}=${encodeURIComponent(y)}`:"";return`${kR(r)}?${Ql(g).slice(1)}${_}`}function kR({config:r}){return r.emulator?Vm(r,LR):`https://${r.authDomain}/${UR}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xd="webStorageSupport";class zR{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=EE,this._completeRedirectFn=uR,this._overrideRedirectResult=aR}async _openPopup(t,i,s,l){es(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const c=await Nv(t,i,s,am(),l);return xR(t,c,zm())}async _openRedirect(t,i,s,l){await this._originValidation(t);const c=await Nv(t,i,s,am(),l);return qw(c),new Promise(()=>{})}_initialize(t){const i=t._key();if(this.eventManagers[i]){const{manager:l,promise:c}=this.eventManagers[i];return l?Promise.resolve(l):(es(c,"If manager is not set, promise should be"),c)}const s=this.initAndGetManager(t);return this.eventManagers[i]={promise:s},s.catch(()=>{delete this.eventManagers[i]}),s}async initAndGetManager(t){const i=await IR(t),s=new hR(t);return i.register("authEvent",l=>(Tt(l?.authEvent,t,"invalid-auth-event"),{status:s.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:s},this.iframes[t._key()]=i,s}_isIframeWebStorageSupported(t,i){this.iframes[t._key()].send(Xd,{type:Xd},l=>{const c=l?.[0]?.[Xd];c!==void 0&&i(!!c),Di(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const i=t._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=pR(t)),this.originValidationPromises[i]}get _shouldInitProactively(){return hE()||rE()||Um()}}const jR=zR;var Dv="@firebase/auth",Ov="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BR{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const i=this.auth.onIdTokenChanged(s=>{t(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,i),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const i=this.internalListeners.get(t);i&&(this.internalListeners.delete(t),i(),this.updateProactiveRefresh())}assertAuthConfigured(){Tt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qR(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function HR(r){Za(new qr("auth",(t,{options:i})=>{const s=t.getProvider("app").getImmediate(),l=t.getProvider("heartbeat"),c=t.getProvider("app-check-internal"),{apiKey:d,authDomain:g}=s.options;Tt(d&&!d.includes(":"),"invalid-api-key",{appName:s.name});const y={apiKey:d,authDomain:g,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:fE(r)},_=new Tw(s,l,c,y);return Iw(_,i),_},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,i,s)=>{t.getProvider("auth-internal").initialize()})),Za(new qr("auth-internal",t=>{const i=yh(t.getProvider("auth").getImmediate());return(s=>new BR(s))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),Gs(Dv,Ov,qR(r)),Gs(Dv,Ov,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FR=300,GR=q0("authIdTokenMaxAge")||FR;let Vv=null;const QR=r=>async t=>{const i=t&&await t.getIdTokenResult(),s=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(s&&s>GR)return;const l=i?.token;Vv!==l&&(Vv=l,await fetch(r,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function YR(r=K0()){const t=Nm(r,"auth");if(t.isInitialized())return t.getImmediate();const i=Rw(r,{popupRedirectResolver:jR,persistence:[Zw,zw,EE]}),s=q0("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(s,location.origin);if(location.origin===c.origin){const d=QR(c.toString());Lw(i,d,()=>d(i.currentUser)),Uw(i,g=>d(g))}}const l=j0("auth");return l&&Cw(i,`http://${l}`),i}function KR(){return document.getElementsByTagName("head")?.[0]??document}Aw({loadJS(r){return new Promise((t,i)=>{const s=document.createElement("script");s.setAttribute("src",r),s.onload=t,s.onerror=l=>{const c=Wn("internal-error");c.customData=l,i(c)},s.type="text/javascript",s.charset="UTF-8",KR().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});HR("Browser");var xv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Qs,CE;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(N,b){function I(){}I.prototype=b.prototype,N.F=b.prototype,N.prototype=new I,N.prototype.constructor=N,N.D=function(x,V,U){for(var w=Array(arguments.length-2),te=2;te<arguments.length;te++)w[te-2]=arguments[te];return b.prototype[V].apply(x,w)}}function i(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(s,i),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(N,b,I){I||(I=0);const x=Array(16);if(typeof b=="string")for(var V=0;V<16;++V)x[V]=b.charCodeAt(I++)|b.charCodeAt(I++)<<8|b.charCodeAt(I++)<<16|b.charCodeAt(I++)<<24;else for(V=0;V<16;++V)x[V]=b[I++]|b[I++]<<8|b[I++]<<16|b[I++]<<24;b=N.g[0],I=N.g[1],V=N.g[2];let U=N.g[3],w;w=b+(U^I&(V^U))+x[0]+3614090360&4294967295,b=I+(w<<7&4294967295|w>>>25),w=U+(V^b&(I^V))+x[1]+3905402710&4294967295,U=b+(w<<12&4294967295|w>>>20),w=V+(I^U&(b^I))+x[2]+606105819&4294967295,V=U+(w<<17&4294967295|w>>>15),w=I+(b^V&(U^b))+x[3]+3250441966&4294967295,I=V+(w<<22&4294967295|w>>>10),w=b+(U^I&(V^U))+x[4]+4118548399&4294967295,b=I+(w<<7&4294967295|w>>>25),w=U+(V^b&(I^V))+x[5]+1200080426&4294967295,U=b+(w<<12&4294967295|w>>>20),w=V+(I^U&(b^I))+x[6]+2821735955&4294967295,V=U+(w<<17&4294967295|w>>>15),w=I+(b^V&(U^b))+x[7]+4249261313&4294967295,I=V+(w<<22&4294967295|w>>>10),w=b+(U^I&(V^U))+x[8]+1770035416&4294967295,b=I+(w<<7&4294967295|w>>>25),w=U+(V^b&(I^V))+x[9]+2336552879&4294967295,U=b+(w<<12&4294967295|w>>>20),w=V+(I^U&(b^I))+x[10]+4294925233&4294967295,V=U+(w<<17&4294967295|w>>>15),w=I+(b^V&(U^b))+x[11]+2304563134&4294967295,I=V+(w<<22&4294967295|w>>>10),w=b+(U^I&(V^U))+x[12]+1804603682&4294967295,b=I+(w<<7&4294967295|w>>>25),w=U+(V^b&(I^V))+x[13]+4254626195&4294967295,U=b+(w<<12&4294967295|w>>>20),w=V+(I^U&(b^I))+x[14]+2792965006&4294967295,V=U+(w<<17&4294967295|w>>>15),w=I+(b^V&(U^b))+x[15]+1236535329&4294967295,I=V+(w<<22&4294967295|w>>>10),w=b+(V^U&(I^V))+x[1]+4129170786&4294967295,b=I+(w<<5&4294967295|w>>>27),w=U+(I^V&(b^I))+x[6]+3225465664&4294967295,U=b+(w<<9&4294967295|w>>>23),w=V+(b^I&(U^b))+x[11]+643717713&4294967295,V=U+(w<<14&4294967295|w>>>18),w=I+(U^b&(V^U))+x[0]+3921069994&4294967295,I=V+(w<<20&4294967295|w>>>12),w=b+(V^U&(I^V))+x[5]+3593408605&4294967295,b=I+(w<<5&4294967295|w>>>27),w=U+(I^V&(b^I))+x[10]+38016083&4294967295,U=b+(w<<9&4294967295|w>>>23),w=V+(b^I&(U^b))+x[15]+3634488961&4294967295,V=U+(w<<14&4294967295|w>>>18),w=I+(U^b&(V^U))+x[4]+3889429448&4294967295,I=V+(w<<20&4294967295|w>>>12),w=b+(V^U&(I^V))+x[9]+568446438&4294967295,b=I+(w<<5&4294967295|w>>>27),w=U+(I^V&(b^I))+x[14]+3275163606&4294967295,U=b+(w<<9&4294967295|w>>>23),w=V+(b^I&(U^b))+x[3]+4107603335&4294967295,V=U+(w<<14&4294967295|w>>>18),w=I+(U^b&(V^U))+x[8]+1163531501&4294967295,I=V+(w<<20&4294967295|w>>>12),w=b+(V^U&(I^V))+x[13]+2850285829&4294967295,b=I+(w<<5&4294967295|w>>>27),w=U+(I^V&(b^I))+x[2]+4243563512&4294967295,U=b+(w<<9&4294967295|w>>>23),w=V+(b^I&(U^b))+x[7]+1735328473&4294967295,V=U+(w<<14&4294967295|w>>>18),w=I+(U^b&(V^U))+x[12]+2368359562&4294967295,I=V+(w<<20&4294967295|w>>>12),w=b+(I^V^U)+x[5]+4294588738&4294967295,b=I+(w<<4&4294967295|w>>>28),w=U+(b^I^V)+x[8]+2272392833&4294967295,U=b+(w<<11&4294967295|w>>>21),w=V+(U^b^I)+x[11]+1839030562&4294967295,V=U+(w<<16&4294967295|w>>>16),w=I+(V^U^b)+x[14]+4259657740&4294967295,I=V+(w<<23&4294967295|w>>>9),w=b+(I^V^U)+x[1]+2763975236&4294967295,b=I+(w<<4&4294967295|w>>>28),w=U+(b^I^V)+x[4]+1272893353&4294967295,U=b+(w<<11&4294967295|w>>>21),w=V+(U^b^I)+x[7]+4139469664&4294967295,V=U+(w<<16&4294967295|w>>>16),w=I+(V^U^b)+x[10]+3200236656&4294967295,I=V+(w<<23&4294967295|w>>>9),w=b+(I^V^U)+x[13]+681279174&4294967295,b=I+(w<<4&4294967295|w>>>28),w=U+(b^I^V)+x[0]+3936430074&4294967295,U=b+(w<<11&4294967295|w>>>21),w=V+(U^b^I)+x[3]+3572445317&4294967295,V=U+(w<<16&4294967295|w>>>16),w=I+(V^U^b)+x[6]+76029189&4294967295,I=V+(w<<23&4294967295|w>>>9),w=b+(I^V^U)+x[9]+3654602809&4294967295,b=I+(w<<4&4294967295|w>>>28),w=U+(b^I^V)+x[12]+3873151461&4294967295,U=b+(w<<11&4294967295|w>>>21),w=V+(U^b^I)+x[15]+530742520&4294967295,V=U+(w<<16&4294967295|w>>>16),w=I+(V^U^b)+x[2]+3299628645&4294967295,I=V+(w<<23&4294967295|w>>>9),w=b+(V^(I|~U))+x[0]+4096336452&4294967295,b=I+(w<<6&4294967295|w>>>26),w=U+(I^(b|~V))+x[7]+1126891415&4294967295,U=b+(w<<10&4294967295|w>>>22),w=V+(b^(U|~I))+x[14]+2878612391&4294967295,V=U+(w<<15&4294967295|w>>>17),w=I+(U^(V|~b))+x[5]+4237533241&4294967295,I=V+(w<<21&4294967295|w>>>11),w=b+(V^(I|~U))+x[12]+1700485571&4294967295,b=I+(w<<6&4294967295|w>>>26),w=U+(I^(b|~V))+x[3]+2399980690&4294967295,U=b+(w<<10&4294967295|w>>>22),w=V+(b^(U|~I))+x[10]+4293915773&4294967295,V=U+(w<<15&4294967295|w>>>17),w=I+(U^(V|~b))+x[1]+2240044497&4294967295,I=V+(w<<21&4294967295|w>>>11),w=b+(V^(I|~U))+x[8]+1873313359&4294967295,b=I+(w<<6&4294967295|w>>>26),w=U+(I^(b|~V))+x[15]+4264355552&4294967295,U=b+(w<<10&4294967295|w>>>22),w=V+(b^(U|~I))+x[6]+2734768916&4294967295,V=U+(w<<15&4294967295|w>>>17),w=I+(U^(V|~b))+x[13]+1309151649&4294967295,I=V+(w<<21&4294967295|w>>>11),w=b+(V^(I|~U))+x[4]+4149444226&4294967295,b=I+(w<<6&4294967295|w>>>26),w=U+(I^(b|~V))+x[11]+3174756917&4294967295,U=b+(w<<10&4294967295|w>>>22),w=V+(b^(U|~I))+x[2]+718787259&4294967295,V=U+(w<<15&4294967295|w>>>17),w=I+(U^(V|~b))+x[9]+3951481745&4294967295,N.g[0]=N.g[0]+b&4294967295,N.g[1]=N.g[1]+(V+(w<<21&4294967295|w>>>11))&4294967295,N.g[2]=N.g[2]+V&4294967295,N.g[3]=N.g[3]+U&4294967295}s.prototype.v=function(N,b){b===void 0&&(b=N.length);const I=b-this.blockSize,x=this.C;let V=this.h,U=0;for(;U<b;){if(V==0)for(;U<=I;)l(this,N,U),U+=this.blockSize;if(typeof N=="string"){for(;U<b;)if(x[V++]=N.charCodeAt(U++),V==this.blockSize){l(this,x),V=0;break}}else for(;U<b;)if(x[V++]=N[U++],V==this.blockSize){l(this,x),V=0;break}}this.h=V,this.o+=b},s.prototype.A=function(){var N=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);N[0]=128;for(var b=1;b<N.length-8;++b)N[b]=0;b=this.o*8;for(var I=N.length-8;I<N.length;++I)N[I]=b&255,b/=256;for(this.v(N),N=Array(16),b=0,I=0;I<4;++I)for(let x=0;x<32;x+=8)N[b++]=this.g[I]>>>x&255;return N};function c(N,b){var I=g;return Object.prototype.hasOwnProperty.call(I,N)?I[N]:I[N]=b(N)}function d(N,b){this.h=b;const I=[];let x=!0;for(let V=N.length-1;V>=0;V--){const U=N[V]|0;x&&U==b||(I[V]=U,x=!1)}this.g=I}var g={};function y(N){return-128<=N&&N<128?c(N,function(b){return new d([b|0],b<0?-1:0)}):new d([N|0],N<0?-1:0)}function _(N){if(isNaN(N)||!isFinite(N))return S;if(N<0)return W(_(-N));const b=[];let I=1;for(let x=0;N>=I;x++)b[x]=N/I|0,I*=4294967296;return new d(b,0)}function A(N,b){if(N.length==0)throw Error("number format error: empty string");if(b=b||10,b<2||36<b)throw Error("radix out of range: "+b);if(N.charAt(0)=="-")return W(A(N.substring(1),b));if(N.indexOf("-")>=0)throw Error('number format error: interior "-" character');const I=_(Math.pow(b,8));let x=S;for(let U=0;U<N.length;U+=8){var V=Math.min(8,N.length-U);const w=parseInt(N.substring(U,U+V),b);V<8?(V=_(Math.pow(b,V)),x=x.j(V).add(_(w))):(x=x.j(I),x=x.add(_(w)))}return x}var S=y(0),D=y(1),F=y(16777216);r=d.prototype,r.m=function(){if(et(this))return-W(this).m();let N=0,b=1;for(let I=0;I<this.g.length;I++){const x=this.i(I);N+=(x>=0?x:4294967296+x)*b,b*=4294967296}return N},r.toString=function(N){if(N=N||10,N<2||36<N)throw Error("radix out of range: "+N);if(J(this))return"0";if(et(this))return"-"+W(this).toString(N);const b=_(Math.pow(N,6));var I=this;let x="";for(;;){const V=bt(I,b).g;I=gt(I,V.j(b));let U=((I.g.length>0?I.g[0]:I.h)>>>0).toString(N);if(I=V,J(I))return U+x;for(;U.length<6;)U="0"+U;x=U+x}},r.i=function(N){return N<0?0:N<this.g.length?this.g[N]:this.h};function J(N){if(N.h!=0)return!1;for(let b=0;b<N.g.length;b++)if(N.g[b]!=0)return!1;return!0}function et(N){return N.h==-1}r.l=function(N){return N=gt(this,N),et(N)?-1:J(N)?0:1};function W(N){const b=N.g.length,I=[];for(let x=0;x<b;x++)I[x]=~N.g[x];return new d(I,~N.h).add(D)}r.abs=function(){return et(this)?W(this):this},r.add=function(N){const b=Math.max(this.g.length,N.g.length),I=[];let x=0;for(let V=0;V<=b;V++){let U=x+(this.i(V)&65535)+(N.i(V)&65535),w=(U>>>16)+(this.i(V)>>>16)+(N.i(V)>>>16);x=w>>>16,U&=65535,w&=65535,I[V]=w<<16|U}return new d(I,I[I.length-1]&-2147483648?-1:0)};function gt(N,b){return N.add(W(b))}r.j=function(N){if(J(this)||J(N))return S;if(et(this))return et(N)?W(this).j(W(N)):W(W(this).j(N));if(et(N))return W(this.j(W(N)));if(this.l(F)<0&&N.l(F)<0)return _(this.m()*N.m());const b=this.g.length+N.g.length,I=[];for(var x=0;x<2*b;x++)I[x]=0;for(x=0;x<this.g.length;x++)for(let V=0;V<N.g.length;V++){const U=this.i(x)>>>16,w=this.i(x)&65535,te=N.i(V)>>>16,fe=N.i(V)&65535;I[2*x+2*V]+=w*fe,vt(I,2*x+2*V),I[2*x+2*V+1]+=U*fe,vt(I,2*x+2*V+1),I[2*x+2*V+1]+=w*te,vt(I,2*x+2*V+1),I[2*x+2*V+2]+=U*te,vt(I,2*x+2*V+2)}for(N=0;N<b;N++)I[N]=I[2*N+1]<<16|I[2*N];for(N=b;N<2*b;N++)I[N]=0;return new d(I,0)};function vt(N,b){for(;(N[b]&65535)!=N[b];)N[b+1]+=N[b]>>>16,N[b]&=65535,b++}function yt(N,b){this.g=N,this.h=b}function bt(N,b){if(J(b))throw Error("division by zero");if(J(N))return new yt(S,S);if(et(N))return b=bt(W(N),b),new yt(W(b.g),W(b.h));if(et(b))return b=bt(N,W(b)),new yt(W(b.g),b.h);if(N.g.length>30){if(et(N)||et(b))throw Error("slowDivide_ only works with positive integers.");for(var I=D,x=b;x.l(N)<=0;)I=Kt(I),x=Kt(x);var V=Ct(I,1),U=Ct(x,1);for(x=Ct(x,2),I=Ct(I,2);!J(x);){var w=U.add(x);w.l(N)<=0&&(V=V.add(I),U=w),x=Ct(x,1),I=Ct(I,1)}return b=gt(N,V.j(b)),new yt(V,b)}for(V=S;N.l(b)>=0;){for(I=Math.max(1,Math.floor(N.m()/b.m())),x=Math.ceil(Math.log(I)/Math.LN2),x=x<=48?1:Math.pow(2,x-48),U=_(I),w=U.j(b);et(w)||w.l(N)>0;)I-=x,U=_(I),w=U.j(b);J(U)&&(U=D),V=V.add(U),N=gt(N,w)}return new yt(V,N)}r.B=function(N){return bt(this,N).h},r.and=function(N){const b=Math.max(this.g.length,N.g.length),I=[];for(let x=0;x<b;x++)I[x]=this.i(x)&N.i(x);return new d(I,this.h&N.h)},r.or=function(N){const b=Math.max(this.g.length,N.g.length),I=[];for(let x=0;x<b;x++)I[x]=this.i(x)|N.i(x);return new d(I,this.h|N.h)},r.xor=function(N){const b=Math.max(this.g.length,N.g.length),I=[];for(let x=0;x<b;x++)I[x]=this.i(x)^N.i(x);return new d(I,this.h^N.h)};function Kt(N){const b=N.g.length+1,I=[];for(let x=0;x<b;x++)I[x]=N.i(x)<<1|N.i(x-1)>>>31;return new d(I,N.h)}function Ct(N,b){const I=b>>5;b%=32;const x=N.g.length-I,V=[];for(let U=0;U<x;U++)V[U]=b>0?N.i(U+I)>>>b|N.i(U+I+1)<<32-b:N.i(U+I);return new d(V,N.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,CE=s,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=_,d.fromString=A,Qs=d}).apply(typeof xv<"u"?xv:typeof self<"u"?self:typeof window<"u"?window:{});var Uc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var NE,Tl,DE,Fc,um,OE,VE,xE;(function(){var r,t=Object.defineProperty;function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Uc=="object"&&Uc];for(var m=0;m<u.length;++m){var v=u[m];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var s=i(this);function l(u,m){if(m)t:{var v=s;u=u.split(".");for(var T=0;T<u.length-1;T++){var L=u[T];if(!(L in v))break t;v=v[L]}u=u[u.length-1],T=v[u],m=m(T),m!=T&&m!=null&&t(v,u,{configurable:!0,writable:!0,value:m})}}l("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),l("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),l("Object.entries",function(u){return u||function(m){var v=[],T;for(T in m)Object.prototype.hasOwnProperty.call(m,T)&&v.push([T,m[T]]);return v}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var c=c||{},d=this||self;function g(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function y(u,m,v){return u.call.apply(u.bind,arguments)}function _(u,m,v){return _=y,_.apply(null,arguments)}function A(u,m){var v=Array.prototype.slice.call(arguments,1);return function(){var T=v.slice();return T.push.apply(T,arguments),u.apply(this,T)}}function S(u,m){function v(){}v.prototype=m.prototype,u.Z=m.prototype,u.prototype=new v,u.prototype.constructor=u,u.Ob=function(T,L,q){for(var nt=Array(arguments.length-2),wt=2;wt<arguments.length;wt++)nt[wt-2]=arguments[wt];return m.prototype[L].apply(T,nt)}}var D=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function F(u){const m=u.length;if(m>0){const v=Array(m);for(let T=0;T<m;T++)v[T]=u[T];return v}return[]}function J(u,m){for(let T=1;T<arguments.length;T++){const L=arguments[T];var v=typeof L;if(v=v!="object"?v:L?Array.isArray(L)?"array":v:"null",v=="array"||v=="object"&&typeof L.length=="number"){v=u.length||0;const q=L.length||0;u.length=v+q;for(let nt=0;nt<q;nt++)u[v+nt]=L[nt]}else u.push(L)}}class et{constructor(m,v){this.i=m,this.j=v,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function W(u){d.setTimeout(()=>{throw u},0)}function gt(){var u=N;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class vt{constructor(){this.h=this.g=null}add(m,v){const T=yt.get();T.set(m,v),this.h?this.h.next=T:this.g=T,this.h=T}}var yt=new et(()=>new bt,u=>u.reset());class bt{constructor(){this.next=this.g=this.h=null}set(m,v){this.h=m,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let Kt,Ct=!1,N=new vt,b=()=>{const u=Promise.resolve(void 0);Kt=()=>{u.then(I)}};function I(){for(var u;u=gt();){try{u.h.call(u.g)}catch(v){W(v)}var m=yt;m.j(u),m.h<100&&(m.h++,u.next=m.g,m.g=u)}Ct=!1}function x(){this.u=this.u,this.C=this.C}x.prototype.u=!1,x.prototype.dispose=function(){this.u||(this.u=!0,this.N())},x.prototype[Symbol.dispose]=function(){this.dispose()},x.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function V(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}V.prototype.h=function(){this.defaultPrevented=!0};var U=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const v=()=>{};d.addEventListener("test",v,m),d.removeEventListener("test",v,m)}catch{}return u})();function w(u){return/^[\s\xa0]*$/.test(u)}function te(u,m){V.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,m)}S(te,V),te.prototype.init=function(u,m){const v=this.type=u.type,T=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget,m||(v=="mouseover"?m=u.fromElement:v=="mouseout"&&(m=u.toElement)),this.relatedTarget=m,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&te.Z.h.call(this)},te.prototype.h=function(){te.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var fe="closure_listenable_"+(Math.random()*1e6|0),G=0;function it(u,m,v,T,L){this.listener=u,this.proxy=null,this.src=m,this.type=v,this.capture=!!T,this.ha=L,this.key=++G,this.da=this.fa=!1}function dt(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Z(u,m,v){for(const T in u)m.call(v,u[T],T,u)}function at(u,m){for(const v in u)m.call(void 0,u[v],v,u)}function C(u){const m={};for(const v in u)m[v]=u[v];return m}const B="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function tt(u,m){let v,T;for(let L=1;L<arguments.length;L++){T=arguments[L];for(v in T)u[v]=T[v];for(let q=0;q<B.length;q++)v=B[q],Object.prototype.hasOwnProperty.call(T,v)&&(u[v]=T[v])}}function rt(u){this.src=u,this.g={},this.h=0}rt.prototype.add=function(u,m,v,T,L){const q=u.toString();u=this.g[q],u||(u=this.g[q]=[],this.h++);const nt=lt(u,m,T,L);return nt>-1?(m=u[nt],v||(m.fa=!1)):(m=new it(m,this.src,q,!!T,L),m.fa=v,u.push(m)),m};function ct(u,m){const v=m.type;if(v in u.g){var T=u.g[v],L=Array.prototype.indexOf.call(T,m,void 0),q;(q=L>=0)&&Array.prototype.splice.call(T,L,1),q&&(dt(m),u.g[v].length==0&&(delete u.g[v],u.h--))}}function lt(u,m,v,T){for(let L=0;L<u.length;++L){const q=u[L];if(!q.da&&q.listener==m&&q.capture==!!v&&q.ha==T)return L}return-1}var Nt="closure_lm_"+(Math.random()*1e6|0),De={};function re(u,m,v,T,L){if(Array.isArray(m)){for(let q=0;q<m.length;q++)re(u,m[q],v,T,L);return null}return v=po(v),u&&u[fe]?u.J(m,v,g(T)?!!T.capture:!1,L):sr(u,m,v,!1,T,L)}function sr(u,m,v,T,L,q){if(!m)throw Error("Invalid event type");const nt=g(L)?!!L.capture:!!L;let wt=rr(u);if(wt||(u[Nt]=wt=new rt(u)),v=wt.add(m,v,T,nt,q),v.proxy)return v;if(T=Xr(),v.proxy=T,T.src=u,T.listener=v,u.addEventListener)U||(L=nt),L===void 0&&(L=!1),u.addEventListener(m.toString(),T,L);else if(u.attachEvent)u.attachEvent(ni(m.toString()),T);else if(u.addListener&&u.removeListener)u.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return v}function Xr(){function u(v){return m.call(u.src,u.listener,v)}const m=mo;return u}function $r(u,m,v,T,L){if(Array.isArray(m))for(var q=0;q<m.length;q++)$r(u,m[q],v,T,L);else T=g(T)?!!T.capture:!!T,v=po(v),u&&u[fe]?(u=u.i,q=String(m).toString(),q in u.g&&(m=u.g[q],v=lt(m,v,T,L),v>-1&&(dt(m[v]),Array.prototype.splice.call(m,v,1),m.length==0&&(delete u.g[q],u.h--)))):u&&(u=rr(u))&&(m=u.g[m.toString()],u=-1,m&&(u=lt(m,v,T,L)),(v=u>-1?m[u]:null)&&Zr(v))}function Zr(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[fe])ct(m.i,u);else{var v=u.type,T=u.proxy;m.removeEventListener?m.removeEventListener(v,T,u.capture):m.detachEvent?m.detachEvent(ni(v),T):m.addListener&&m.removeListener&&m.removeListener(T),(v=rr(m))?(ct(v,u),v.h==0&&(v.src=null,m[Nt]=null)):dt(u)}}}function ni(u){return u in De?De[u]:De[u]="on"+u}function mo(u,m){if(u.da)u=!0;else{m=new te(m,this);const v=u.listener,T=u.ha||u.src;u.fa&&Zr(u),u=v.call(T,m)}return u}function rr(u){return u=u[Nt],u instanceof rt?u:null}var go="__closure_events_fn_"+(Math.random()*1e9>>>0);function po(u){return typeof u=="function"?u:(u[go]||(u[go]=function(m){return u.handleEvent(m)}),u[go])}function _e(){x.call(this),this.i=new rt(this),this.M=this,this.G=null}S(_e,x),_e.prototype[fe]=!0,_e.prototype.removeEventListener=function(u,m,v,T){$r(this,u,m,v,T)};function Oe(u,m){var v,T=u.G;if(T)for(v=[];T;T=T.G)v.push(T);if(u=u.M,T=m.type||m,typeof m=="string")m=new V(m,u);else if(m instanceof V)m.target=m.target||u;else{var L=m;m=new V(T,u),tt(m,L)}L=!0;let q,nt;if(v)for(nt=v.length-1;nt>=0;nt--)q=m.g=v[nt],L=rs(q,T,!0,m)&&L;if(q=m.g=u,L=rs(q,T,!0,m)&&L,L=rs(q,T,!1,m)&&L,v)for(nt=0;nt<v.length;nt++)q=m.g=v[nt],L=rs(q,T,!1,m)&&L}_e.prototype.N=function(){if(_e.Z.N.call(this),this.i){var u=this.i;for(const m in u.g){const v=u.g[m];for(let T=0;T<v.length;T++)dt(v[T]);delete u.g[m],u.h--}}this.G=null},_e.prototype.J=function(u,m,v,T){return this.i.add(String(u),m,!1,v,T)},_e.prototype.K=function(u,m,v,T){return this.i.add(String(u),m,!0,v,T)};function rs(u,m,v,T){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();let L=!0;for(let q=0;q<m.length;++q){const nt=m[q];if(nt&&!nt.da&&nt.capture==v){const wt=nt.listener,me=nt.ha||nt.src;nt.fa&&ct(u.i,nt),L=wt.call(me,T)!==!1&&L}}return L&&!T.defaultPrevented}function kh(u,m){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=_(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(u,m||0)}function ru(u){u.g=kh(()=>{u.g=null,u.i&&(u.i=!1,ru(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class We extends x{constructor(m,v){super(),this.m=m,this.l=v,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:ru(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ar(u){x.call(this),this.h=u,this.g={}}S(ar,x);var yo=[];function _o(u){Z(u.g,function(m,v){this.g.hasOwnProperty(v)&&Zr(m)},u),u.g={}}ar.prototype.N=function(){ar.Z.N.call(this),_o(this)},ar.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var as=d.JSON.stringify,zh=d.JSON.parse,au=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function ou(){}function lu(){}var kn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function je(){V.call(this,"d")}S(je,V);function wn(){V.call(this,"c")}S(wn,V);var de={},uu=null;function Jr(){return uu=uu||new _e}de.Ia="serverreachability";function cu(u){V.call(this,de.Ia,u)}S(cu,V);function ii(u){const m=Jr();Oe(m,new cu(m))}de.STAT_EVENT="statevent";function or(u,m){V.call(this,de.STAT_EVENT,u),this.stat=m}S(or,V);function ve(u){const m=Jr();Oe(m,new or(m,u))}de.Ja="timingevent";function si(u,m){V.call(this,de.Ja,u),this.size=m}S(si,V);function ri(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},m)}function zn(){this.g=!0}zn.prototype.ua=function(){this.g=!1};function jh(u,m,v,T,L,q){u.info(function(){if(u.g)if(q){var nt="",wt=q.split("&");for(let qt=0;qt<wt.length;qt++){var me=wt[qt].split("=");if(me.length>1){const ae=me[0];me=me[1];const Nn=ae.split("_");nt=Nn.length>=2&&Nn[1]=="type"?nt+(ae+"="+me+"&"):nt+(ae+"=redacted&")}}}else nt=null;else nt=q;return"XMLHTTP REQ ("+T+") [attempt "+L+"]: "+m+`
`+v+`
`+nt})}function hu(u,m,v,T,L,q,nt){u.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+L+"]: "+m+`
`+v+`
`+q+" "+nt})}function ai(u,m,v,T){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+Bh(u,v)+(T?" "+T:"")})}function lr(u,m){u.info(function(){return"TIMEOUT: "+m})}zn.prototype.info=function(){};function Bh(u,m){if(!u.g)return m;if(!m)return null;try{const q=JSON.parse(m);if(q){for(u=0;u<q.length;u++)if(Array.isArray(q[u])){var v=q[u];if(!(v.length<2)){var T=v[1];if(Array.isArray(T)&&!(T.length<1)){var L=T[0];if(L!="noop"&&L!="stop"&&L!="close")for(let nt=1;nt<T.length;nt++)T[nt]=""}}}}return as(q)}catch{return m}}var ur={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},vo={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Eo;function cr(){}S(cr,ou),cr.prototype.g=function(){return new XMLHttpRequest},Eo=new cr;function Vi(u){return encodeURIComponent(String(u))}function fu(u){var m=1;u=u.split(":");const v=[];for(;m>0&&u.length;)v.push(u.shift()),m--;return u.length&&v.push(u.join(":")),v}function jn(u,m,v,T){this.j=u,this.i=m,this.l=v,this.S=T||1,this.V=new ar(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Bn}function Bn(){this.i=null,this.g="",this.h=!1}var Ee={},Ue={};function oi(u,m,v){u.M=1,u.A=hr(Ae(m)),u.u=v,u.R=!0,Wr(u,null)}function Wr(u,m){u.F=Date.now(),li(u),u.B=Ae(u.A);var v=u.B,T=u.S;Array.isArray(T)||(T=[String(T)]),ia(v.i,"t",T),u.C=0,v=u.j.L,u.h=new Bn,u.g=Iu(u.j,v?m:null,!u.u),u.P>0&&(u.O=new We(_(u.Y,u,u.g),u.P)),m=u.V,v=u.g,T=u.ba;var L="readystatechange";Array.isArray(L)||(L&&(yo[0]=L.toString()),L=yo);for(let q=0;q<L.length;q++){const nt=re(v,L[q],T||m.handleEvent,!1,m.h||m);if(!nt)break;m.g[nt.key]=nt}m=u.J?C(u.J):{},u.u?(u.v||(u.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,m)):(u.v="GET",u.g.ea(u.B,u.v,null,m)),ii(),jh(u.i,u.v,u.B,u.l,u.S,u.u)}jn.prototype.ba=function(u){u=u.target;const m=this.O;m&&Fn(u)==3?m.j():this.Y(u)},jn.prototype.Y=function(u){try{if(u==this.g)t:{const wt=Fn(this.g),me=this.g.ya(),qt=this.g.ca();if(!(wt<3)&&(wt!=3||this.g&&(this.h.h||this.g.la()||Be(this.g)))){this.K||wt!=4||me==7||(me==8||qt<=0?ii(3):ii(2)),ui(this);var m=this.g.ca();this.X=m;var v=qh(this);if(this.o=m==200,hu(this.i,this.v,this.B,this.l,this.S,wt,m),this.o){if(this.U&&!this.L){e:{if(this.g){var T,L=this.g;if((T=L.g?L.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!w(T)){var q=T;break e}}q=null}if(u=q)ai(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,ci(this,u);else{this.o=!1,this.m=3,ve(12),dn(this),Rn(this);break t}}if(this.R){u=!0;let ae;for(;!this.K&&this.C<v.length;)if(ae=mu(this,v),ae==Ue){wt==4&&(this.m=4,ve(14),u=!1),ai(this.i,this.l,null,"[Incomplete Response]");break}else if(ae==Ee){this.m=4,ve(15),ai(this.i,this.l,v,"[Invalid Chunk]"),u=!1;break}else ai(this.i,this.l,ae,null),ci(this,ae);if(du(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),wt!=4||v.length!=0||this.h.h||(this.m=1,ve(16),u=!1),this.o=this.o&&u,!u)ai(this.i,this.l,v,"[Invalid Chunked Response]"),dn(this),Rn(this);else if(v.length>0&&!this.W){this.W=!0;var nt=this.j;nt.g==this&&nt.aa&&!nt.P&&(nt.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),Uo(nt),nt.P=!0,ve(11))}}else ai(this.i,this.l,v,null),ci(this,v);wt==4&&dn(this),this.o&&!this.K&&(wt==4?Su(this.j,this):(this.o=!1,li(this)))}else Mi(this.g),m==400&&v.indexOf("Unknown SID")>0?(this.m=3,ve(12)):(this.m=0,ve(13)),dn(this),Rn(this)}}}catch{}finally{}};function qh(u){if(!du(u))return u.g.la();const m=Be(u.g);if(m==="")return"";let v="";const T=m.length,L=Fn(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return dn(u),Rn(u),"";u.h.i=new d.TextDecoder}for(let q=0;q<T;q++)u.h.h=!0,v+=u.h.i.decode(m[q],{stream:!(L&&q==T-1)});return m.length=0,u.h.g+=v,u.C=0,u.h.g}function du(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function mu(u,m){var v=u.C,T=m.indexOf(`
`,v);return T==-1?Ue:(v=Number(m.substring(v,T)),isNaN(v)?Ee:(T+=1,T+v>m.length?Ue:(m=m.slice(T,T+v),u.C=T+v,m)))}jn.prototype.cancel=function(){this.K=!0,dn(this)};function li(u){u.T=Date.now()+u.H,ta(u,u.H)}function ta(u,m){if(u.D!=null)throw Error("WatchDog timer not null");u.D=ri(_(u.aa,u),m)}function ui(u){u.D&&(d.clearTimeout(u.D),u.D=null)}jn.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(lr(this.i,this.B),this.M!=2&&(ii(),ve(17)),dn(this),this.m=2,Rn(this)):ta(this,this.T-u)};function Rn(u){u.j.I==0||u.K||Su(u.j,u)}function dn(u){ui(u);var m=u.O;m&&typeof m.dispose=="function"&&m.dispose(),u.O=null,_o(u.V),u.g&&(m=u.g,u.g=null,m.abort(),m.dispose())}function ci(u,m){try{var v=u.j;if(v.I!=0&&(v.g==u||fi(v.h,u))){if(!u.L&&fi(v.h,u)&&v.I==3){try{var T=v.Ba.g.parse(m)}catch{T=null}if(Array.isArray(T)&&T.length==3){var L=T;if(L[0]==0){t:if(!v.v){if(v.g)if(v.g.F+3e3<u.F)la(v),ms(v);else break t;_r(v),ve(18)}}else v.xa=L[1],0<v.xa-v.K&&L[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=ri(_(v.Va,v),6e3));hi(v.h)<=1&&v.ta&&(v.ta=void 0)}else _i(v,11)}else if((u.L||v.g==u)&&la(v),!w(m))for(L=v.Ba.g.parse(m),m=0;m<L.length;m++){let qt=L[m];const ae=qt[0];if(!(ae<=v.K))if(v.K=ae,qt=qt[1],v.I==2)if(qt[0]=="c"){v.M=qt[1],v.ba=qt[2];const Nn=qt[3];Nn!=null&&(v.ka=Nn,v.j.info("VER="+v.ka));const vi=qt[4];vi!=null&&(v.za=vi,v.j.info("SVER="+v.za));const Gn=qt[5];Gn!=null&&typeof Gn=="number"&&Gn>0&&(T=1.5*Gn,v.O=T,v.j.info("backChannelRequestTimeoutMs_="+T)),T=v;const Qn=u.g;if(Qn){const vr=Qn.g?Qn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(vr){var q=T.h;q.g||vr.indexOf("spdy")==-1&&vr.indexOf("quic")==-1&&vr.indexOf("h2")==-1||(q.j=q.l,q.g=new Set,q.h&&(So(q,q.h),q.h=null))}if(T.G){const ua=Qn.g?Qn.g.getResponseHeader("X-HTTP-Session-Id"):null;ua&&(T.wa=ua,Gt(T.J,T.G,ua))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-u.F,v.j.info("Handshake RTT: "+v.T+"ms")),T=v;var nt=u;if(T.na=Ru(T,T.L?T.ba:null,T.W),nt.L){bo(T.h,nt);var wt=nt,me=T.O;me&&(wt.H=me),wt.D&&(ui(wt),li(wt)),T.g=nt}else Tu(T);v.i.length>0&&yi(v)}else qt[0]!="stop"&&qt[0]!="close"||_i(v,7);else v.I==3&&(qt[0]=="stop"||qt[0]=="close"?qt[0]=="stop"?_i(v,7):xo(v):qt[0]!="noop"&&v.l&&v.l.qa(qt),v.A=0)}}ii(4)}catch{}}var Te=class{constructor(u,m){this.g=u,this.map=m}};function To(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Ao(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function hi(u){return u.h?1:u.g?u.g.size:0}function fi(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function So(u,m){u.g?u.g.add(m):u.h=m}function bo(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}To.prototype.cancel=function(){if(this.i=wo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function wo(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const v of u.g.values())m=m.concat(v.G);return m}return F(u.i)}var gu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ea(u,m){if(u){u=u.split("&");for(let v=0;v<u.length;v++){const T=u[v].indexOf("=");let L,q=null;T>=0?(L=u[v].substring(0,T),q=u[v].substring(T+1)):L=u[v],m(L,q?decodeURIComponent(q.replace(/\+/g," ")):"")}}}function mn(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;u instanceof mn?(this.l=u.l,Le(this,u.j),this.o=u.o,this.g=u.g,os(this,u.u),this.h=u.h,Ro(this,vu(u.i)),this.m=u.m):u&&(m=String(u).match(gu))?(this.l=!1,Le(this,m[1]||"",!0),this.o=di(m[2]||""),this.g=di(m[3]||"",!0),os(this,m[4]),this.h=di(m[5]||"",!0),Ro(this,m[6]||"",!0),this.m=di(m[7]||"")):(this.l=!1,this.i=new us(null,this.l))}mn.prototype.toString=function(){const u=[];var m=this.j;m&&u.push(fr(m,na,!0),":");var v=this.g;return(v||m=="file")&&(u.push("//"),(m=this.o)&&u.push(fr(m,na,!0),"@"),u.push(Vi(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&u.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&u.push("/"),u.push(fr(v,v.charAt(0)=="/"?Io:pu,!0))),(v=this.i.toString())&&u.push("?",v),(v=this.m)&&u.push("#",fr(v,yu)),u.join("")},mn.prototype.resolve=function(u){const m=Ae(this);let v=!!u.j;v?Le(m,u.j):v=!!u.o,v?m.o=u.o:v=!!u.g,v?m.g=u.g:v=u.u!=null;var T=u.h;if(v)os(m,u.u);else if(v=!!u.h){if(T.charAt(0)!="/")if(this.g&&!this.h)T="/"+T;else{var L=m.h.lastIndexOf("/");L!=-1&&(T=m.h.slice(0,L+1)+T)}if(L=T,L==".."||L==".")T="";else if(L.indexOf("./")!=-1||L.indexOf("/.")!=-1){T=L.lastIndexOf("/",0)==0,L=L.split("/");const q=[];for(let nt=0;nt<L.length;){const wt=L[nt++];wt=="."?T&&nt==L.length&&q.push(""):wt==".."?((q.length>1||q.length==1&&q[0]!="")&&q.pop(),T&&nt==L.length&&q.push("")):(q.push(wt),T=!0)}T=q.join("/")}else T=L}return v?m.h=T:v=u.i.toString()!=="",v?Ro(m,vu(u.i)):v=!!u.m,v&&(m.m=u.m),m};function Ae(u){return new mn(u)}function Le(u,m,v){u.j=v?di(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function os(u,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);u.u=m}else u.u=null}function Ro(u,m,v){m instanceof us?(u.i=m,sa(u.i,u.l)):(v||(m=fr(m,ls)),u.i=new us(m,u.l))}function Gt(u,m,v){u.i.set(m,v)}function hr(u){return Gt(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function di(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function fr(u,m,v){return typeof u=="string"?(u=encodeURI(u).replace(m,sn),v&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function sn(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var na=/[#\/\?@]/g,pu=/[#\?:]/g,Io=/[#\?]/g,ls=/[#\?@]/g,yu=/#/g;function us(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function rn(u){u.g||(u.g=new Map,u.h=0,u.i&&ea(u.i,function(m,v){u.add(decodeURIComponent(m.replace(/\+/g," ")),v)}))}r=us.prototype,r.add=function(u,m){rn(this),this.i=null,u=cs(this,u);let v=this.g.get(u);return v||this.g.set(u,v=[]),v.push(m),this.h+=1,this};function _u(u,m){rn(u),m=cs(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function Co(u,m){return rn(u),m=cs(u,m),u.g.has(m)}r.forEach=function(u,m){rn(this),this.g.forEach(function(v,T){v.forEach(function(L){u.call(m,L,T,this)},this)},this)};function No(u,m){rn(u);let v=[];if(typeof m=="string")Co(u,m)&&(v=v.concat(u.g.get(cs(u,m))));else for(u=Array.from(u.g.values()),m=0;m<u.length;m++)v=v.concat(u[m]);return v}r.set=function(u,m){return rn(this),this.i=null,u=cs(this,u),Co(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},r.get=function(u,m){return u?(u=No(this,u),u.length>0?String(u[0]):m):m};function ia(u,m,v){_u(u,m),v.length>0&&(u.i=null,u.g.set(cs(u,m),F(v)),u.h+=v.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(let T=0;T<m.length;T++){var v=m[T];const L=Vi(v);v=No(this,v);for(let q=0;q<v.length;q++){let nt=L;v[q]!==""&&(nt+="="+Vi(v[q])),u.push(nt)}}return this.i=u.join("&")};function vu(u){const m=new us;return m.i=u.i,u.g&&(m.g=new Map(u.g),m.h=u.h),m}function cs(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function sa(u,m){m&&!u.j&&(rn(u),u.i=null,u.g.forEach(function(v,T){const L=T.toLowerCase();T!=L&&(_u(this,T),ia(this,L,v))},u)),u.j=m}function qn(u,m){const v=new zn;if(d.Image){const T=new Image;T.onload=A(In,v,"TestLoadImage: loaded",!0,m,T),T.onerror=A(In,v,"TestLoadImage: error",!1,m,T),T.onabort=A(In,v,"TestLoadImage: abort",!1,m,T),T.ontimeout=A(In,v,"TestLoadImage: timeout",!1,m,T),d.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=u}else m(!1)}function Do(u,m){const v=new zn,T=new AbortController,L=setTimeout(()=>{T.abort(),In(v,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:T.signal}).then(q=>{clearTimeout(L),q.ok?In(v,"TestPingServer: ok",!0,m):In(v,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(L),In(v,"TestPingServer: error",!1,m)})}function In(u,m,v,T,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),T(v)}catch{}}function hs(){this.g=new au}function mi(u){this.i=u.Sb||null,this.h=u.ab||!1}S(mi,ou),mi.prototype.g=function(){return new dr(this.i,this.h)};function dr(u,m){_e.call(this),this.H=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}S(dr,_e),r=dr.prototype,r.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=m,this.readyState=1,Hn(this)},r.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(m.body=u),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,fs(this)),this.readyState=0},r.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Hn(this)),this.g&&(this.readyState=3,Hn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;ra(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function ra(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}r.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?fs(this):Hn(this),this.readyState==3&&ra(this)}},r.Oa=function(u){this.g&&(this.response=this.responseText=u,fs(this))},r.Na=function(u){this.g&&(this.response=u,fs(this))},r.ga=function(){this.g&&fs(this)};function fs(u){u.readyState=4,u.l=null,u.j=null,u.B=null,Hn(u)}r.setRequestHeader=function(u,m){this.A.append(u,m)},r.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var v=m.next();!v.done;)v=v.value,u.push(v[0]+": "+v[1]),v=m.next();return u.join(`\r
`)};function Hn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(dr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Cn(u){let m="";return Z(u,function(v,T){m+=T,m+=":",m+=v,m+=`\r
`}),m}function mr(u,m,v){t:{for(T in v){var T=!1;break t}T=!0}T||(v=Cn(v),typeof u=="string"?v!=null&&Vi(v):Gt(u,m,v))}function Xt(u){_e.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}S(Xt,_e);var gi=/^https?$/i,Oo=["POST","PUT"];r=Xt.prototype,r.Fa=function(u){this.H=u},r.ea=function(u,m,v,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Eo.g(),this.g.onreadystatechange=D(_(this.Ca,this));try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(q){gr(this,q);return}if(u=v||"",v=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var L in T)v.set(L,T[L]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const q of T.keys())v.set(q,T.get(q));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(v.keys()).find(q=>q.toLowerCase()=="content-type"),L=d.FormData&&u instanceof d.FormData,!(Array.prototype.indexOf.call(Oo,m,void 0)>=0)||T||L||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[q,nt]of v)this.g.setRequestHeader(q,nt);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(q){gr(this,q)}};function gr(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.o=5,Vo(u),xi(u)}function Vo(u){u.A||(u.A=!0,Oe(u,"complete"),Oe(u,"error"))}r.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,Oe(this,"complete"),Oe(this,"abort"),xi(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),xi(this,!0)),Xt.Z.N.call(this)},r.Ca=function(){this.u||(this.B||this.v||this.j?pr(this):this.Xa())},r.Xa=function(){pr(this)};function pr(u){if(u.h&&typeof c<"u"){if(u.v&&Fn(u)==4)setTimeout(u.Ca.bind(u),0);else if(Oe(u,"readystatechange"),Fn(u)==4){u.h=!1;try{const q=u.ca();t:switch(q){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var v;if(!(v=m)){var T;if(T=q===0){let nt=String(u.D).match(gu)[1]||null;!nt&&d.self&&d.self.location&&(nt=d.self.location.protocol.slice(0,-1)),T=!gi.test(nt?nt.toLowerCase():"")}v=T}if(v)Oe(u,"complete"),Oe(u,"success");else{u.o=6;try{var L=Fn(u)>2?u.g.statusText:""}catch{L=""}u.l=L+" ["+u.ca()+"]",Vo(u)}}finally{xi(u)}}}}function xi(u,m){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const v=u.g;u.g=null,m||Oe(u,"ready");try{v.onreadystatechange=null}catch{}}}r.isActive=function(){return!!this.g};function Fn(u){return u.g?u.g.readyState:0}r.ca=function(){try{return Fn(this)>2?this.g.status:-1}catch{return-1}},r.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.La=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),zh(m)}};function Be(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Mi(u){const m={};u=(u.g&&Fn(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<u.length;T++){if(w(u[T]))continue;var v=fu(u[T]);const L=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const q=m[L]||[];m[L]=q,q.push(v)}at(m,function(T){return T.join(", ")})}r.ya=function(){return this.o},r.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function pi(u,m,v){return v&&v.internalChannelParams&&v.internalChannelParams[u]||m}function ds(u){this.za=0,this.i=[],this.j=new zn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=pi("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=pi("baseRetryDelayMs",5e3,u),this.Za=pi("retryDelaySeedMs",1e4,u),this.Ta=pi("forwardChannelMaxRetries",2,u),this.va=pi("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new To(u&&u.concurrentRequestLimit),this.Ba=new hs,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}r=ds.prototype,r.ka=8,r.I=1,r.connect=function(u,m,v,T){ve(0),this.W=u,this.H=m||{},v&&T!==void 0&&(this.H.OSID=v,this.H.OAID=T),this.F=this.X,this.J=Ru(this,null,this.W),yi(this)};function xo(u){if(aa(u),u.I==3){var m=u.V++,v=Ae(u.J);if(Gt(v,"SID",u.M),Gt(v,"RID",m),Gt(v,"TYPE","terminate"),yr(u,v),m=new jn(u,u.j,m),m.M=2,m.A=hr(Ae(v)),v=!1,d.navigator&&d.navigator.sendBeacon)try{v=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!v&&d.Image&&(new Image().src=m.A,v=!0),v||(m.g=Iu(m.j,null),m.g.ea(m.A)),m.F=Date.now(),li(m)}wu(u)}function ms(u){u.g&&(Uo(u),u.g.cancel(),u.g=null)}function aa(u){ms(u),u.v&&(d.clearTimeout(u.v),u.v=null),la(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&d.clearTimeout(u.m),u.m=null)}function yi(u){if(!Ao(u.h)&&!u.m){u.m=!0;var m=u.Ea;Kt||b(),Ct||(Kt(),Ct=!0),N.add(m,u),u.D=0}}function oa(u,m){return hi(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=m.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=ri(_(u.Ea,u,m),bu(u,u.D)),u.D++,!0)}r.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const L=new jn(this,this.j,u);let q=this.o;if(this.U&&(q?(q=C(q),tt(q,this.U)):q=this.U),this.u!==null||this.R||(L.J=q,q=null),this.S)t:{for(var m=0,v=0;v<this.i.length;v++){e:{var T=this.i[v];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break e}T=void 0}if(T===void 0)break;if(m+=T,m>4096){m=v;break t}if(m===4096||v===this.i.length-1){m=v+1;break t}}m=1e3}else m=1e3;m=Eu(this,L,m),v=Ae(this.J),Gt(v,"RID",u),Gt(v,"CVER",22),this.G&&Gt(v,"X-HTTP-Session-Id",this.G),yr(this,v),q&&(this.R?m="headers="+Vi(Cn(q))+"&"+m:this.u&&mr(v,this.u,q)),So(this.h,L),this.Ra&&Gt(v,"TYPE","init"),this.S?(Gt(v,"$req",m),Gt(v,"SID","null"),L.U=!0,oi(L,v,null)):oi(L,v,m),this.I=2}}else this.I==3&&(u?Mo(this,u):this.i.length==0||Ao(this.h)||Mo(this))};function Mo(u,m){var v;m?v=m.l:v=u.V++;const T=Ae(u.J);Gt(T,"SID",u.M),Gt(T,"RID",v),Gt(T,"AID",u.K),yr(u,T),u.u&&u.o&&mr(T,u.u,u.o),v=new jn(u,u.j,v,u.D+1),u.u===null&&(v.J=u.o),m&&(u.i=m.G.concat(u.i)),m=Eu(u,v,1e3),v.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),So(u.h,v),oi(v,T,m)}function yr(u,m){u.H&&Z(u.H,function(v,T){Gt(m,T,v)}),u.l&&Z({},function(v,T){Gt(m,T,v)})}function Eu(u,m,v){v=Math.min(u.i.length,v);const T=u.l?_(u.l.Ka,u.l,u):null;t:{var L=u.i;let wt=-1;for(;;){const me=["count="+v];wt==-1?v>0?(wt=L[0].g,me.push("ofs="+wt)):wt=0:me.push("ofs="+wt);let qt=!0;for(let ae=0;ae<v;ae++){var q=L[ae].g;const Nn=L[ae].map;if(q-=wt,q<0)wt=Math.max(0,L[ae].g-100),qt=!1;else try{q="req"+q+"_"||"";try{var nt=Nn instanceof Map?Nn:Object.entries(Nn);for(const[vi,Gn]of nt){let Qn=Gn;g(Gn)&&(Qn=as(Gn)),me.push(q+vi+"="+encodeURIComponent(Qn))}}catch(vi){throw me.push(q+"type="+encodeURIComponent("_badmap")),vi}}catch{T&&T(Nn)}}if(qt){nt=me.join("&");break t}}nt=void 0}return u=u.i.splice(0,v),m.G=u,nt}function Tu(u){if(!u.g&&!u.v){u.Y=1;var m=u.Da;Kt||b(),Ct||(Kt(),Ct=!0),N.add(m,u),u.A=0}}function _r(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=ri(_(u.Da,u),bu(u,u.A)),u.A++,!0)}r.Da=function(){if(this.v=null,Au(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=ri(_(this.Wa,this),u)}},r.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,ve(10),ms(this),Au(this))};function Uo(u){u.B!=null&&(d.clearTimeout(u.B),u.B=null)}function Au(u){u.g=new jn(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var m=Ae(u.na);Gt(m,"RID","rpc"),Gt(m,"SID",u.M),Gt(m,"AID",u.K),Gt(m,"CI",u.F?"0":"1"),!u.F&&u.ia&&Gt(m,"TO",u.ia),Gt(m,"TYPE","xmlhttp"),yr(u,m),u.u&&u.o&&mr(m,u.u,u.o),u.O&&(u.g.H=u.O);var v=u.g;u=u.ba,v.M=1,v.A=hr(Ae(m)),v.u=null,v.R=!0,Wr(v,u)}r.Va=function(){this.C!=null&&(this.C=null,ms(this),_r(this),ve(19))};function la(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function Su(u,m){var v=null;if(u.g==m){la(u),Uo(u),u.g=null;var T=2}else if(fi(u.h,m))v=m.G,bo(u.h,m),T=1;else return;if(u.I!=0){if(m.o)if(T==1){v=m.u?m.u.length:0,m=Date.now()-m.F;var L=u.D;T=Jr(),Oe(T,new si(T,v)),yi(u)}else Tu(u);else if(L=m.m,L==3||L==0&&m.X>0||!(T==1&&oa(u,m)||T==2&&_r(u)))switch(v&&v.length>0&&(m=u.h,m.i=m.i.concat(v)),L){case 1:_i(u,5);break;case 4:_i(u,10);break;case 3:_i(u,6);break;default:_i(u,2)}}}function bu(u,m){let v=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(v*=2),v*m}function _i(u,m){if(u.j.info("Error code "+m),m==2){var v=_(u.bb,u),T=u.Ua;const L=!T;T=new mn(T||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Le(T,"https"),hr(T),L?qn(T.toString(),v):Do(T.toString(),v)}else ve(2);u.I=0,u.l&&u.l.pa(m),wu(u),aa(u)}r.bb=function(u){u?(this.j.info("Successfully pinged google.com"),ve(2)):(this.j.info("Failed to ping google.com"),ve(1))};function wu(u){if(u.I=0,u.ja=[],u.l){const m=wo(u.h);(m.length!=0||u.i.length!=0)&&(J(u.ja,m),J(u.ja,u.i),u.h.i.length=0,F(u.i),u.i.length=0),u.l.oa()}}function Ru(u,m,v){var T=v instanceof mn?Ae(v):new mn(v);if(T.g!="")m&&(T.g=m+"."+T.g),os(T,T.u);else{var L=d.location;T=L.protocol,m=m?m+"."+L.hostname:L.hostname,L=+L.port;const q=new mn(null);T&&Le(q,T),m&&(q.g=m),L&&os(q,L),v&&(q.h=v),T=q}return v=u.G,m=u.wa,v&&m&&Gt(T,v,m),Gt(T,"VER",u.ka),yr(u,T),T}function Iu(u,m,v){if(m&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Aa&&!u.ma?new Xt(new mi({ab:v})):new Xt(u.ma),m.Fa(u.L),m}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function Cu(){}r=Cu.prototype,r.ra=function(){},r.qa=function(){},r.pa=function(){},r.oa=function(){},r.isActive=function(){return!0},r.Ka=function(){};function gs(){}gs.prototype.g=function(u,m){return new tn(u,m)};function tn(u,m){_e.call(this),this.g=new ds(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(u?u["X-WebChannel-Client-Profile"]=m.sa:u={"X-WebChannel-Client-Profile":m.sa}),this.g.U=u,(u=m&&m.Qb)&&!w(u)&&(this.g.u=u),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!w(m)&&(this.g.G=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new Ui(this)}S(tn,_e),tn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},tn.prototype.close=function(){xo(this.g)},tn.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var v={};v.__data__=u,u=v}else this.v&&(v={},v.__data__=as(u),u=v);m.i.push(new Te(m.Ya++,u)),m.I==3&&yi(m)},tn.prototype.N=function(){this.g.l=null,delete this.j,xo(this.g),delete this.g,tn.Z.N.call(this)};function Nu(u){je.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){t:{for(const v in m){u=v;break t}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}S(Nu,je);function Du(){wn.call(this),this.status=1}S(Du,wn);function Ui(u){this.g=u}S(Ui,Cu),Ui.prototype.ra=function(){Oe(this.g,"a")},Ui.prototype.qa=function(u){Oe(this.g,new Nu(u))},Ui.prototype.pa=function(u){Oe(this.g,new Du)},Ui.prototype.oa=function(){Oe(this.g,"b")},gs.prototype.createWebChannel=gs.prototype.g,tn.prototype.send=tn.prototype.o,tn.prototype.open=tn.prototype.m,tn.prototype.close=tn.prototype.close,xE=function(){return new gs},VE=function(){return Jr()},OE=de,um={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},ur.NO_ERROR=0,ur.TIMEOUT=8,ur.HTTP_ERROR=6,Fc=ur,vo.COMPLETE="complete",DE=vo,lu.EventType=kn,kn.OPEN="a",kn.CLOSE="b",kn.ERROR="c",kn.MESSAGE="d",_e.prototype.listen=_e.prototype.J,Tl=lu,Xt.prototype.listenOnce=Xt.prototype.K,Xt.prototype.getLastError=Xt.prototype.Ha,Xt.prototype.getLastErrorCode=Xt.prototype.ya,Xt.prototype.getStatus=Xt.prototype.ca,Xt.prototype.getResponseJson=Xt.prototype.La,Xt.prototype.getResponseText=Xt.prototype.la,Xt.prototype.send=Xt.prototype.ea,Xt.prototype.setWithCredentials=Xt.prototype.Fa,NE=Xt}).apply(typeof Uc<"u"?Uc:typeof self<"u"?self:typeof window<"u"?window:{});const Mv="@firebase/firestore",Uv="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ze{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Ze.UNAUTHENTICATED=new Ze(null),Ze.GOOGLE_CREDENTIALS=new Ze("google-credentials-uid"),Ze.FIRST_PARTY=new Ze("first-party-uid"),Ze.MOCK_USER=new Ze("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let lo="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fr=new Im("@firebase/firestore");function Ba(){return Fr.logLevel}function ot(r,...t){if(Fr.logLevel<=Mt.DEBUG){const i=t.map(Bm);Fr.debug(`Firestore (${lo}): ${r}`,...i)}}function ns(r,...t){if(Fr.logLevel<=Mt.ERROR){const i=t.map(Bm);Fr.error(`Firestore (${lo}): ${r}`,...i)}}function Wa(r,...t){if(Fr.logLevel<=Mt.WARN){const i=t.map(Bm);Fr.warn(`Firestore (${lo}): ${r}`,...i)}}function Bm(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(i){return JSON.stringify(i)})(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pt(r,t,i){let s="Unexpected state";typeof t=="string"?s=t:i=t,ME(r,s,i)}function ME(r,t,i){let s=`FIRESTORE (${lo}) INTERNAL ASSERTION FAILED: ${t} (ID: ${r.toString(16)})`;if(i!==void 0)try{s+=" CONTEXT: "+JSON.stringify(i)}catch{s+=" CONTEXT: "+i}throw ns(s),new Error(s)}function zt(r,t,i,s){let l="Unexpected state";typeof i=="string"?l=i:s=i,r||ME(t,l,s)}function At(r,t){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class st extends ss{constructor(t,i){super(t,i),this.code=t,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ri{constructor(){this.promise=new Promise(((t,i)=>{this.resolve=t,this.reject=i}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UE{constructor(t,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class XR{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,i){t.enqueueRetryable((()=>i(Ze.UNAUTHENTICATED)))}shutdown(){}}class $R{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,i){this.changeListener=i,t.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class ZR{constructor(t){this.t=t,this.currentUser=Ze.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,i){zt(this.o===void 0,42304);let s=this.i;const l=y=>this.i!==s?(s=this.i,i(y)):Promise.resolve();let c=new Ri;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new Ri,t.enqueueRetryable((()=>l(this.currentUser)))};const d=()=>{const y=c;t.enqueueRetryable((async()=>{await y.promise,await l(this.currentUser)}))},g=y=>{ot("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=y,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((y=>g(y))),setTimeout((()=>{if(!this.auth){const y=this.t.getImmediate({optional:!0});y?g(y):(ot("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new Ri)}}),0),d()}getToken(){const t=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((s=>this.i!==t?(ot("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(zt(typeof s.accessToken=="string",31837,{l:s}),new UE(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return zt(t===null||typeof t=="string",2055,{h:t}),new Ze(t)}}class JR{constructor(t,i,s){this.P=t,this.T=i,this.I=s,this.type="FirstParty",this.user=Ze.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class WR{constructor(t,i,s){this.P=t,this.T=i,this.I=s}getToken(){return Promise.resolve(new JR(this.P,this.T,this.I))}start(t,i){t.enqueueRetryable((()=>i(Ze.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Lv{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class t2{constructor(t,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Zn(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,i){zt(this.o===void 0,3512);const s=c=>{c.error!=null&&ot("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.m;return this.m=c.token,ot("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(c.token):Promise.resolve()};this.o=c=>{t.enqueueRetryable((()=>s(c)))};const l=c=>{ot("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>l(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?l(c):ot("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new Lv(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((i=>i?(zt(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new Lv(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e2(r){const t=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(r);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(i);else for(let s=0;s<r;s++)i[s]=Math.floor(256*Math.random());return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qm{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const l=e2(40);for(let c=0;c<l.length;++c)s.length<20&&l[c]<i&&(s+=t.charAt(l[c]%62))}return s}}function Ut(r,t){return r<t?-1:r>t?1:0}function cm(r,t){const i=Math.min(r.length,t.length);for(let s=0;s<i;s++){const l=r.charAt(s),c=t.charAt(s);if(l!==c)return $d(l)===$d(c)?Ut(l,c):$d(l)?1:-1}return Ut(r.length,t.length)}const n2=55296,i2=57343;function $d(r){const t=r.charCodeAt(0);return t>=n2&&t<=i2}function to(r,t,i){return r.length===t.length&&r.every(((s,l)=>i(s,t[l])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pv="__name__";class bi{constructor(t,i,s){i===void 0?i=0:i>t.length&&pt(637,{offset:i,range:t.length}),s===void 0?s=t.length-i:s>t.length-i&&pt(1746,{length:s,range:t.length-i}),this.segments=t,this.offset=i,this.len=s}get length(){return this.len}isEqual(t){return bi.comparator(this,t)===0}child(t){const i=this.segments.slice(this.offset,this.limit());return t instanceof bi?t.forEach((s=>{i.push(s)})):i.push(t),this.construct(i)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}forEach(t){for(let i=this.offset,s=this.limit();i<s;i++)t(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,i){const s=Math.min(t.length,i.length);for(let l=0;l<s;l++){const c=bi.compareSegments(t.get(l),i.get(l));if(c!==0)return c}return Ut(t.length,i.length)}static compareSegments(t,i){const s=bi.isNumericId(t),l=bi.isNumericId(i);return s&&!l?-1:!s&&l?1:s&&l?bi.extractNumericId(t).compare(bi.extractNumericId(i)):cm(t,i)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Qs.fromString(t.substring(4,t.length-2))}}class Wt extends bi{construct(t,i,s){return new Wt(t,i,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const i=[];for(const s of t){if(s.indexOf("//")>=0)throw new st(Y.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);i.push(...s.split("/").filter((l=>l.length>0)))}return new Wt(i)}static emptyPath(){return new Wt([])}}const s2=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ye extends bi{construct(t,i,s){return new Ye(t,i,s)}static isValidIdentifier(t){return s2.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ye.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Pv}static keyField(){return new Ye([Pv])}static fromServerFormat(t){const i=[];let s="",l=0;const c=()=>{if(s.length===0)throw new st(Y.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(s),s=""};let d=!1;for(;l<t.length;){const g=t[l];if(g==="\\"){if(l+1===t.length)throw new st(Y.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const y=t[l+1];if(y!=="\\"&&y!=="."&&y!=="`")throw new st(Y.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);s+=y,l+=2}else g==="`"?(d=!d,l++):g!=="."||d?(s+=g,l++):(c(),l++)}if(c(),d)throw new st(Y.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Ye(i)}static emptyPath(){return new Ye([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ft{constructor(t){this.path=t}static fromPath(t){return new ft(Wt.fromString(t))}static fromName(t){return new ft(Wt.fromString(t).popFirst(5))}static empty(){return new ft(Wt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&Wt.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,i){return Wt.comparator(t.path,i.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new ft(new Wt(t.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LE(r,t,i){if(!i)throw new st(Y.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${t}.`)}function r2(r,t,i,s){if(t===!0&&s===!0)throw new st(Y.INVALID_ARGUMENT,`${r} and ${i} cannot be used together.`)}function kv(r){if(!ft.isDocumentKey(r))throw new st(Y.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function zv(r){if(ft.isDocumentKey(r))throw new st(Y.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function PE(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function Eh(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const t=(function(s){return s.constructor?s.constructor.name:null})(r);return t?`a custom ${t} object`:"an object"}}return typeof r=="function"?"a function":pt(12329,{type:typeof r})}function ti(r,t){if("_delegate"in r&&(r=r._delegate),!(r instanceof t)){if(t.name===r.constructor.name)throw new st(Y.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=Eh(r);throw new st(Y.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${i}`)}}return r}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ne(r,t){const i={typeString:r};return t&&(i.value=t),i}function $l(r,t){if(!PE(r))throw new st(Y.INVALID_ARGUMENT,"JSON must be an object");let i;for(const s in t)if(t[s]){const l=t[s].typeString,c="value"in t[s]?{value:t[s].value}:void 0;if(!(s in r)){i=`JSON missing required field: '${s}'`;break}const d=r[s];if(l&&typeof d!==l){i=`JSON field '${s}' must be a ${l}.`;break}if(c!==void 0&&d!==c.value){i=`Expected '${s}' field to equal '${c.value}'`;break}}if(i)throw new st(Y.INVALID_ARGUMENT,i);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jv=-62135596800,Bv=1e6;class se{static now(){return se.fromMillis(Date.now())}static fromDate(t){return se.fromMillis(t.getTime())}static fromMillis(t){const i=Math.floor(t/1e3),s=Math.floor((t-1e3*i)*Bv);return new se(i,s)}constructor(t,i){if(this.seconds=t,this.nanoseconds=i,i<0)throw new st(Y.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new st(Y.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(t<jv)throw new st(Y.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new st(Y.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Bv}_compareTo(t){return this.seconds===t.seconds?Ut(this.nanoseconds,t.nanoseconds):Ut(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:se._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if($l(t,se._jsonSchema))return new se(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-jv;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}se._jsonSchemaVersion="firestore/timestamp/1.0",se._jsonSchema={type:Ne("string",se._jsonSchemaVersion),seconds:Ne("number"),nanoseconds:Ne("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Et{static fromTimestamp(t){return new Et(t)}static min(){return new Et(new se(0,0))}static max(){return new Et(new se(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ul=-1;function a2(r,t){const i=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,l=Et.fromTimestamp(s===1e9?new se(i+1,0):new se(i,s));return new Xs(l,ft.empty(),t)}function o2(r){return new Xs(r.readTime,r.key,Ul)}class Xs{constructor(t,i,s){this.readTime=t,this.documentKey=i,this.largestBatchId=s}static min(){return new Xs(Et.min(),ft.empty(),Ul)}static max(){return new Xs(Et.max(),ft.empty(),Ul)}}function l2(r,t){let i=r.readTime.compareTo(t.readTime);return i!==0?i:(i=ft.comparator(r.documentKey,t.documentKey),i!==0?i:Ut(r.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u2="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class c2{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uo(r){if(r.code!==Y.FAILED_PRECONDITION||r.message!==u2)throw r;ot("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ${constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(t){return this.next(void 0,t)}next(t,i){return this.callbackAttached&&pt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(t,this.result):new $(((s,l)=>{this.nextCallback=c=>{this.wrapSuccess(t,c).next(s,l)},this.catchCallback=c=>{this.wrapFailure(i,c).next(s,l)}}))}toPromise(){return new Promise(((t,i)=>{this.next(t,i)}))}wrapUserFunction(t){try{const i=t();return i instanceof $?i:$.resolve(i)}catch(i){return $.reject(i)}}wrapSuccess(t,i){return t?this.wrapUserFunction((()=>t(i))):$.resolve(i)}wrapFailure(t,i){return t?this.wrapUserFunction((()=>t(i))):$.reject(i)}static resolve(t){return new $(((i,s)=>{i(t)}))}static reject(t){return new $(((i,s)=>{s(t)}))}static waitFor(t){return new $(((i,s)=>{let l=0,c=0,d=!1;t.forEach((g=>{++l,g.next((()=>{++c,d&&c===l&&i()}),(y=>s(y)))})),d=!0,c===l&&i()}))}static or(t){let i=$.resolve(!1);for(const s of t)i=i.next((l=>l?$.resolve(l):s()));return i}static forEach(t,i){const s=[];return t.forEach(((l,c)=>{s.push(i.call(this,l,c))})),this.waitFor(s)}static mapArray(t,i){return new $(((s,l)=>{const c=t.length,d=new Array(c);let g=0;for(let y=0;y<c;y++){const _=y;i(t[_]).next((A=>{d[_]=A,++g,g===c&&s(d)}),(A=>l(A)))}}))}static doWhile(t,i){return new $(((s,l)=>{const c=()=>{t()===!0?i().next((()=>{c()}),l):s()};c()}))}}function h2(r){const t=r.match(/Android ([\d.]+)/i),i=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function co(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Th{constructor(t,i){this.previousValue=t,i&&(i.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>i.writeSequenceNumber(s))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}Th.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hm=-1;function Zl(r){return r==null}function sh(r){return r===0&&1/r==-1/0}function f2(r){return typeof r=="number"&&Number.isInteger(r)&&!sh(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kE="";function d2(r){let t="";for(let i=0;i<r.length;i++)t.length>0&&(t=qv(t)),t=m2(r.get(i),t);return qv(t)}function m2(r,t){let i=t;const s=r.length;for(let l=0;l<s;l++){const c=r.charAt(l);switch(c){case"\0":i+="";break;case kE:i+="";break;default:i+=c}}return i}function qv(r){return r+kE+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hv(r){let t=0;for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&t++;return t}function er(r,t){for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&t(i,r[i])}function zE(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class le{constructor(t,i){this.comparator=t,this.root=i||Qe.EMPTY}insert(t,i){return new le(this.comparator,this.root.insert(t,i,this.comparator).copy(null,null,Qe.BLACK,null,null))}remove(t){return new le(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Qe.BLACK,null,null))}get(t){let i=this.root;for(;!i.isEmpty();){const s=this.comparator(t,i.key);if(s===0)return i.value;s<0?i=i.left:s>0&&(i=i.right)}return null}indexOf(t){let i=0,s=this.root;for(;!s.isEmpty();){const l=this.comparator(t,s.key);if(l===0)return i+s.left.size;l<0?s=s.left:(i+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((i,s)=>(t(i,s),!1)))}toString(){const t=[];return this.inorderTraversal(((i,s)=>(t.push(`${i}:${s}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Lc(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Lc(this.root,t,this.comparator,!1)}getReverseIterator(){return new Lc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Lc(this.root,t,this.comparator,!0)}}class Lc{constructor(t,i,s,l){this.isReverse=l,this.nodeStack=[];let c=1;for(;!t.isEmpty();)if(c=i?s(t.key,i):1,i&&l&&(c*=-1),c<0)t=this.isReverse?t.left:t.right;else{if(c===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const i={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Qe{constructor(t,i,s,l,c){this.key=t,this.value=i,this.color=s??Qe.RED,this.left=l??Qe.EMPTY,this.right=c??Qe.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,i,s,l,c){return new Qe(t??this.key,i??this.value,s??this.color,l??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,i,s){let l=this;const c=s(t,l.key);return l=c<0?l.copy(null,null,null,l.left.insert(t,i,s),null):c===0?l.copy(null,i,null,null,null):l.copy(null,null,null,null,l.right.insert(t,i,s)),l.fixUp()}removeMin(){if(this.left.isEmpty())return Qe.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,i){let s,l=this;if(i(t,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(t,i),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),i(t,l.key)===0){if(l.right.isEmpty())return Qe.EMPTY;s=l.right.min(),l=l.copy(s.key,s.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(t,i))}return l.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Qe.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Qe.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,i)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw pt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw pt(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw pt(27949);return t+(this.isRed()?0:1)}}Qe.EMPTY=null,Qe.RED=!0,Qe.BLACK=!1;Qe.EMPTY=new class{constructor(){this.size=0}get key(){throw pt(57766)}get value(){throw pt(16141)}get color(){throw pt(16727)}get left(){throw pt(29726)}get right(){throw pt(36894)}copy(t,i,s,l,c){return this}insert(t,i,s){return new Qe(t,i)}remove(t,i){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xe{constructor(t){this.comparator=t,this.data=new le(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((i,s)=>(t(i),!1)))}forEachInRange(t,i){const s=this.data.getIteratorFrom(t[0]);for(;s.hasNext();){const l=s.getNext();if(this.comparator(l.key,t[1])>=0)return;i(l.key)}}forEachWhile(t,i){let s;for(s=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();s.hasNext();)if(!t(s.getNext().key))return}firstAfterOrEqual(t){const i=this.data.getIteratorFrom(t);return i.hasNext()?i.getNext().key:null}getIterator(){return new Fv(this.data.getIterator())}getIteratorFrom(t){return new Fv(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let i=this;return i.size<t.size&&(i=t,t=this),t.forEach((s=>{i=i.add(s)})),i}isEqual(t){if(!(t instanceof xe)||this.size!==t.size)return!1;const i=this.data.getIterator(),s=t.data.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=s.getNext().key;if(this.comparator(l,c)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((i=>{t.push(i)})),t}toString(){const t=[];return this.forEach((i=>t.push(i))),"SortedSet("+t.toString()+")"}copy(t){const i=new xe(this.comparator);return i.data=t,i}}class Fv{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sn{constructor(t){this.fields=t,t.sort(Ye.comparator)}static empty(){return new Sn([])}unionWith(t){let i=new xe(Ye.comparator);for(const s of this.fields)i=i.add(s);for(const s of t)i=i.add(s);return new Sn(i.toArray())}covers(t){for(const i of this.fields)if(i.isPrefixOf(t))return!0;return!1}isEqual(t){return to(this.fields,t.fields,((i,s)=>i.isEqual(s)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ke{constructor(t){this.binaryString=t}static fromBase64String(t){const i=(function(l){try{return atob(l)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new jE("Invalid base64 string: "+c):c}})(t);return new Ke(i)}static fromUint8Array(t){const i=(function(l){let c="";for(let d=0;d<l.length;++d)c+=String.fromCharCode(l[d]);return c})(t);return new Ke(i)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const s=new Uint8Array(i.length);for(let l=0;l<i.length;l++)s[l]=i.charCodeAt(l);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Ut(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Ke.EMPTY_BYTE_STRING=new Ke("");const g2=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function $s(r){if(zt(!!r,39018),typeof r=="string"){let t=0;const i=g2.exec(r);if(zt(!!i,46558,{timestamp:r}),i[1]){let l=i[1];l=(l+"000000000").substr(0,9),t=Number(l)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:t}}return{seconds:ye(r.seconds),nanos:ye(r.nanos)}}function ye(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function Zs(r){return typeof r=="string"?Ke.fromBase64String(r):Ke.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BE="server_timestamp",qE="__type__",HE="__previous_value__",FE="__local_write_time__";function Fm(r){return(r?.mapValue?.fields||{})[qE]?.stringValue===BE}function Ah(r){const t=r.mapValue.fields[HE];return Fm(t)?Ah(t):t}function Ll(r){const t=$s(r.mapValue.fields[FE].timestampValue);return new se(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p2{constructor(t,i,s,l,c,d,g,y,_,A){this.databaseId=t,this.appId=i,this.persistenceKey=s,this.host=l,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=g,this.longPollingOptions=y,this.useFetchStreams=_,this.isUsingEmulator=A}}const rh="(default)";class Pl{constructor(t,i){this.projectId=t,this.database=i||rh}static empty(){return new Pl("","")}get isDefaultDatabase(){return this.database===rh}isEqual(t){return t instanceof Pl&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GE="__type__",y2="__max__",Pc={mapValue:{}},QE="__vector__",ah="value";function Js(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Fm(r)?4:v2(r)?9007199254740991:_2(r)?10:11:pt(28295,{value:r})}function Oi(r,t){if(r===t)return!0;const i=Js(r);if(i!==Js(t))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===t.booleanValue;case 4:return Ll(r).isEqual(Ll(t));case 3:return(function(l,c){if(typeof l.timestampValue=="string"&&typeof c.timestampValue=="string"&&l.timestampValue.length===c.timestampValue.length)return l.timestampValue===c.timestampValue;const d=$s(l.timestampValue),g=$s(c.timestampValue);return d.seconds===g.seconds&&d.nanos===g.nanos})(r,t);case 5:return r.stringValue===t.stringValue;case 6:return(function(l,c){return Zs(l.bytesValue).isEqual(Zs(c.bytesValue))})(r,t);case 7:return r.referenceValue===t.referenceValue;case 8:return(function(l,c){return ye(l.geoPointValue.latitude)===ye(c.geoPointValue.latitude)&&ye(l.geoPointValue.longitude)===ye(c.geoPointValue.longitude)})(r,t);case 2:return(function(l,c){if("integerValue"in l&&"integerValue"in c)return ye(l.integerValue)===ye(c.integerValue);if("doubleValue"in l&&"doubleValue"in c){const d=ye(l.doubleValue),g=ye(c.doubleValue);return d===g?sh(d)===sh(g):isNaN(d)&&isNaN(g)}return!1})(r,t);case 9:return to(r.arrayValue.values||[],t.arrayValue.values||[],Oi);case 10:case 11:return(function(l,c){const d=l.mapValue.fields||{},g=c.mapValue.fields||{};if(Hv(d)!==Hv(g))return!1;for(const y in d)if(d.hasOwnProperty(y)&&(g[y]===void 0||!Oi(d[y],g[y])))return!1;return!0})(r,t);default:return pt(52216,{left:r})}}function kl(r,t){return(r.values||[]).find((i=>Oi(i,t)))!==void 0}function eo(r,t){if(r===t)return 0;const i=Js(r),s=Js(t);if(i!==s)return Ut(i,s);switch(i){case 0:case 9007199254740991:return 0;case 1:return Ut(r.booleanValue,t.booleanValue);case 2:return(function(c,d){const g=ye(c.integerValue||c.doubleValue),y=ye(d.integerValue||d.doubleValue);return g<y?-1:g>y?1:g===y?0:isNaN(g)?isNaN(y)?0:-1:1})(r,t);case 3:return Gv(r.timestampValue,t.timestampValue);case 4:return Gv(Ll(r),Ll(t));case 5:return cm(r.stringValue,t.stringValue);case 6:return(function(c,d){const g=Zs(c),y=Zs(d);return g.compareTo(y)})(r.bytesValue,t.bytesValue);case 7:return(function(c,d){const g=c.split("/"),y=d.split("/");for(let _=0;_<g.length&&_<y.length;_++){const A=Ut(g[_],y[_]);if(A!==0)return A}return Ut(g.length,y.length)})(r.referenceValue,t.referenceValue);case 8:return(function(c,d){const g=Ut(ye(c.latitude),ye(d.latitude));return g!==0?g:Ut(ye(c.longitude),ye(d.longitude))})(r.geoPointValue,t.geoPointValue);case 9:return Qv(r.arrayValue,t.arrayValue);case 10:return(function(c,d){const g=c.fields||{},y=d.fields||{},_=g[ah]?.arrayValue,A=y[ah]?.arrayValue,S=Ut(_?.values?.length||0,A?.values?.length||0);return S!==0?S:Qv(_,A)})(r.mapValue,t.mapValue);case 11:return(function(c,d){if(c===Pc.mapValue&&d===Pc.mapValue)return 0;if(c===Pc.mapValue)return 1;if(d===Pc.mapValue)return-1;const g=c.fields||{},y=Object.keys(g),_=d.fields||{},A=Object.keys(_);y.sort(),A.sort();for(let S=0;S<y.length&&S<A.length;++S){const D=cm(y[S],A[S]);if(D!==0)return D;const F=eo(g[y[S]],_[A[S]]);if(F!==0)return F}return Ut(y.length,A.length)})(r.mapValue,t.mapValue);default:throw pt(23264,{he:i})}}function Gv(r,t){if(typeof r=="string"&&typeof t=="string"&&r.length===t.length)return Ut(r,t);const i=$s(r),s=$s(t),l=Ut(i.seconds,s.seconds);return l!==0?l:Ut(i.nanos,s.nanos)}function Qv(r,t){const i=r.values||[],s=t.values||[];for(let l=0;l<i.length&&l<s.length;++l){const c=eo(i[l],s[l]);if(c)return c}return Ut(i.length,s.length)}function no(r){return hm(r)}function hm(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(i){const s=$s(i);return`time(${s.seconds},${s.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(i){return Zs(i).toBase64()})(r.bytesValue):"referenceValue"in r?(function(i){return ft.fromName(i).toString()})(r.referenceValue):"geoPointValue"in r?(function(i){return`geo(${i.latitude},${i.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(i){let s="[",l=!0;for(const c of i.values||[])l?l=!1:s+=",",s+=hm(c);return s+"]"})(r.arrayValue):"mapValue"in r?(function(i){const s=Object.keys(i.fields||{}).sort();let l="{",c=!0;for(const d of s)c?c=!1:l+=",",l+=`${d}:${hm(i.fields[d])}`;return l+"}"})(r.mapValue):pt(61005,{value:r})}function Gc(r){switch(Js(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=Ah(r);return t?16+Gc(t):16;case 5:return 2*r.stringValue.length;case 6:return Zs(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((l,c)=>l+Gc(c)),0)})(r.arrayValue);case 10:case 11:return(function(s){let l=0;return er(s.fields,((c,d)=>{l+=c.length+Gc(d)})),l})(r.mapValue);default:throw pt(13486,{value:r})}}function Yv(r,t){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${t.path.canonicalString()}`}}function fm(r){return!!r&&"integerValue"in r}function Gm(r){return!!r&&"arrayValue"in r}function Kv(r){return!!r&&"nullValue"in r}function Xv(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function Qc(r){return!!r&&"mapValue"in r}function _2(r){return(r?.mapValue?.fields||{})[GE]?.stringValue===QE}function Il(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const t={mapValue:{fields:{}}};return er(r.mapValue.fields,((i,s)=>t.mapValue.fields[i]=Il(s))),t}if(r.arrayValue){const t={arrayValue:{values:[]}};for(let i=0;i<(r.arrayValue.values||[]).length;++i)t.arrayValue.values[i]=Il(r.arrayValue.values[i]);return t}return{...r}}function v2(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===y2}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nn{constructor(t){this.value=t}static empty(){return new nn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let i=this.value;for(let s=0;s<t.length-1;++s)if(i=(i.mapValue.fields||{})[t.get(s)],!Qc(i))return null;return i=(i.mapValue.fields||{})[t.lastSegment()],i||null}}set(t,i){this.getFieldsMap(t.popLast())[t.lastSegment()]=Il(i)}setAll(t){let i=Ye.emptyPath(),s={},l=[];t.forEach(((d,g)=>{if(!i.isImmediateParentOf(g)){const y=this.getFieldsMap(i);this.applyChanges(y,s,l),s={},l=[],i=g.popLast()}d?s[g.lastSegment()]=Il(d):l.push(g.lastSegment())}));const c=this.getFieldsMap(i);this.applyChanges(c,s,l)}delete(t){const i=this.field(t.popLast());Qc(i)&&i.mapValue.fields&&delete i.mapValue.fields[t.lastSegment()]}isEqual(t){return Oi(this.value,t.value)}getFieldsMap(t){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let s=0;s<t.length;++s){let l=i.mapValue.fields[t.get(s)];Qc(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},i.mapValue.fields[t.get(s)]=l),i=l}return i.mapValue.fields}applyChanges(t,i,s){er(i,((l,c)=>t[l]=c));for(const l of s)delete t[l]}clone(){return new nn(Il(this.value))}}function YE(r){const t=[];return er(r.fields,((i,s)=>{const l=new Ye([i]);if(Qc(s)){const c=YE(s.mapValue).fields;if(c.length===0)t.push(l);else for(const d of c)t.push(l.child(d))}else t.push(l)})),new Sn(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ze{constructor(t,i,s,l,c,d,g){this.key=t,this.documentType=i,this.version=s,this.readTime=l,this.createTime=c,this.data=d,this.documentState=g}static newInvalidDocument(t){return new ze(t,0,Et.min(),Et.min(),Et.min(),nn.empty(),0)}static newFoundDocument(t,i,s,l){return new ze(t,1,i,Et.min(),s,l,0)}static newNoDocument(t,i){return new ze(t,2,i,Et.min(),Et.min(),nn.empty(),0)}static newUnknownDocument(t,i){return new ze(t,3,i,Et.min(),Et.min(),nn.empty(),2)}convertToFoundDocument(t,i){return!this.createTime.isEqual(Et.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=nn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=nn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Et.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof ze&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new ze(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oh{constructor(t,i){this.position=t,this.inclusive=i}}function $v(r,t,i){let s=0;for(let l=0;l<r.position.length;l++){const c=t[l],d=r.position[l];if(c.field.isKeyField()?s=ft.comparator(ft.fromName(d.referenceValue),i.key):s=eo(d,i.data.field(c.field)),c.dir==="desc"&&(s*=-1),s!==0)break}return s}function Zv(r,t){if(r===null)return t===null;if(t===null||r.inclusive!==t.inclusive||r.position.length!==t.position.length)return!1;for(let i=0;i<r.position.length;i++)if(!Oi(r.position[i],t.position[i]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zl{constructor(t,i="asc"){this.field=t,this.dir=i}}function E2(r,t){return r.dir===t.dir&&r.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KE{}class Ce extends KE{constructor(t,i,s){super(),this.field=t,this.op=i,this.value=s}static create(t,i,s){return t.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(t,i,s):new A2(t,i,s):i==="array-contains"?new w2(t,s):i==="in"?new R2(t,s):i==="not-in"?new I2(t,s):i==="array-contains-any"?new C2(t,s):new Ce(t,i,s)}static createKeyFieldInFilter(t,i,s){return i==="in"?new S2(t,s):new b2(t,s)}matches(t){const i=t.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(eo(i,this.value)):i!==null&&Js(this.value)===Js(i)&&this.matchesComparison(eo(i,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return pt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ei extends KE{constructor(t,i){super(),this.filters=t,this.op=i,this.Pe=null}static create(t,i){return new ei(t,i)}matches(t){return XE(this)?this.filters.find((i=>!i.matches(t)))===void 0:this.filters.find((i=>i.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,i)=>t.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function XE(r){return r.op==="and"}function $E(r){return T2(r)&&XE(r)}function T2(r){for(const t of r.filters)if(t instanceof ei)return!1;return!0}function dm(r){if(r instanceof Ce)return r.field.canonicalString()+r.op.toString()+no(r.value);if($E(r))return r.filters.map((t=>dm(t))).join(",");{const t=r.filters.map((i=>dm(i))).join(",");return`${r.op}(${t})`}}function ZE(r,t){return r instanceof Ce?(function(s,l){return l instanceof Ce&&s.op===l.op&&s.field.isEqual(l.field)&&Oi(s.value,l.value)})(r,t):r instanceof ei?(function(s,l){return l instanceof ei&&s.op===l.op&&s.filters.length===l.filters.length?s.filters.reduce(((c,d,g)=>c&&ZE(d,l.filters[g])),!0):!1})(r,t):void pt(19439)}function JE(r){return r instanceof Ce?(function(i){return`${i.field.canonicalString()} ${i.op} ${no(i.value)}`})(r):r instanceof ei?(function(i){return i.op.toString()+" {"+i.getFilters().map(JE).join(" ,")+"}"})(r):"Filter"}class A2 extends Ce{constructor(t,i,s){super(t,i,s),this.key=ft.fromName(s.referenceValue)}matches(t){const i=ft.comparator(t.key,this.key);return this.matchesComparison(i)}}class S2 extends Ce{constructor(t,i){super(t,"in",i),this.keys=WE("in",i)}matches(t){return this.keys.some((i=>i.isEqual(t.key)))}}class b2 extends Ce{constructor(t,i){super(t,"not-in",i),this.keys=WE("not-in",i)}matches(t){return!this.keys.some((i=>i.isEqual(t.key)))}}function WE(r,t){return(t.arrayValue?.values||[]).map((i=>ft.fromName(i.referenceValue)))}class w2 extends Ce{constructor(t,i){super(t,"array-contains",i)}matches(t){const i=t.data.field(this.field);return Gm(i)&&kl(i.arrayValue,this.value)}}class R2 extends Ce{constructor(t,i){super(t,"in",i)}matches(t){const i=t.data.field(this.field);return i!==null&&kl(this.value.arrayValue,i)}}class I2 extends Ce{constructor(t,i){super(t,"not-in",i)}matches(t){if(kl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=t.data.field(this.field);return i!==null&&i.nullValue===void 0&&!kl(this.value.arrayValue,i)}}class C2 extends Ce{constructor(t,i){super(t,"array-contains-any",i)}matches(t){const i=t.data.field(this.field);return!(!Gm(i)||!i.arrayValue.values)&&i.arrayValue.values.some((s=>kl(this.value.arrayValue,s)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N2{constructor(t,i=null,s=[],l=[],c=null,d=null,g=null){this.path=t,this.collectionGroup=i,this.orderBy=s,this.filters=l,this.limit=c,this.startAt=d,this.endAt=g,this.Te=null}}function Jv(r,t=null,i=[],s=[],l=null,c=null,d=null){return new N2(r,t,i,s,l,c,d)}function Qm(r){const t=At(r);if(t.Te===null){let i=t.path.canonicalString();t.collectionGroup!==null&&(i+="|cg:"+t.collectionGroup),i+="|f:",i+=t.filters.map((s=>dm(s))).join(","),i+="|ob:",i+=t.orderBy.map((s=>(function(c){return c.field.canonicalString()+c.dir})(s))).join(","),Zl(t.limit)||(i+="|l:",i+=t.limit),t.startAt&&(i+="|lb:",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map((s=>no(s))).join(",")),t.endAt&&(i+="|ub:",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map((s=>no(s))).join(",")),t.Te=i}return t.Te}function Ym(r,t){if(r.limit!==t.limit||r.orderBy.length!==t.orderBy.length)return!1;for(let i=0;i<r.orderBy.length;i++)if(!E2(r.orderBy[i],t.orderBy[i]))return!1;if(r.filters.length!==t.filters.length)return!1;for(let i=0;i<r.filters.length;i++)if(!ZE(r.filters[i],t.filters[i]))return!1;return r.collectionGroup===t.collectionGroup&&!!r.path.isEqual(t.path)&&!!Zv(r.startAt,t.startAt)&&Zv(r.endAt,t.endAt)}function mm(r){return ft.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ho{constructor(t,i=null,s=[],l=[],c=null,d="F",g=null,y=null){this.path=t,this.collectionGroup=i,this.explicitOrderBy=s,this.filters=l,this.limit=c,this.limitType=d,this.startAt=g,this.endAt=y,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function D2(r,t,i,s,l,c,d,g){return new ho(r,t,i,s,l,c,d,g)}function Sh(r){return new ho(r)}function Wv(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function tT(r){return r.collectionGroup!==null}function Cl(r){const t=At(r);if(t.Ie===null){t.Ie=[];const i=new Set;for(const c of t.explicitOrderBy)t.Ie.push(c),i.add(c.field.canonicalString());const s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(d){let g=new xe(Ye.comparator);return d.filters.forEach((y=>{y.getFlattenedFilters().forEach((_=>{_.isInequality()&&(g=g.add(_.field))}))})),g})(t).forEach((c=>{i.has(c.canonicalString())||c.isKeyField()||t.Ie.push(new zl(c,s))})),i.has(Ye.keyField().canonicalString())||t.Ie.push(new zl(Ye.keyField(),s))}return t.Ie}function Ii(r){const t=At(r);return t.Ee||(t.Ee=O2(t,Cl(r))),t.Ee}function O2(r,t){if(r.limitType==="F")return Jv(r.path,r.collectionGroup,t,r.filters,r.limit,r.startAt,r.endAt);{t=t.map((l=>{const c=l.dir==="desc"?"asc":"desc";return new zl(l.field,c)}));const i=r.endAt?new oh(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new oh(r.startAt.position,r.startAt.inclusive):null;return Jv(r.path,r.collectionGroup,t,r.filters,r.limit,i,s)}}function gm(r,t){const i=r.filters.concat([t]);return new ho(r.path,r.collectionGroup,r.explicitOrderBy.slice(),i,r.limit,r.limitType,r.startAt,r.endAt)}function pm(r,t,i){return new ho(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),t,i,r.startAt,r.endAt)}function bh(r,t){return Ym(Ii(r),Ii(t))&&r.limitType===t.limitType}function eT(r){return`${Qm(Ii(r))}|lt:${r.limitType}`}function qa(r){return`Query(target=${(function(i){let s=i.path.canonicalString();return i.collectionGroup!==null&&(s+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(s+=`, filters: [${i.filters.map((l=>JE(l))).join(", ")}]`),Zl(i.limit)||(s+=", limit: "+i.limit),i.orderBy.length>0&&(s+=`, orderBy: [${i.orderBy.map((l=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(l))).join(", ")}]`),i.startAt&&(s+=", startAt: ",s+=i.startAt.inclusive?"b:":"a:",s+=i.startAt.position.map((l=>no(l))).join(",")),i.endAt&&(s+=", endAt: ",s+=i.endAt.inclusive?"a:":"b:",s+=i.endAt.position.map((l=>no(l))).join(",")),`Target(${s})`})(Ii(r))}; limitType=${r.limitType})`}function wh(r,t){return t.isFoundDocument()&&(function(s,l){const c=l.key.path;return s.collectionGroup!==null?l.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(c):ft.isDocumentKey(s.path)?s.path.isEqual(c):s.path.isImmediateParentOf(c)})(r,t)&&(function(s,l){for(const c of Cl(s))if(!c.field.isKeyField()&&l.data.field(c.field)===null)return!1;return!0})(r,t)&&(function(s,l){for(const c of s.filters)if(!c.matches(l))return!1;return!0})(r,t)&&(function(s,l){return!(s.startAt&&!(function(d,g,y){const _=$v(d,g,y);return d.inclusive?_<=0:_<0})(s.startAt,Cl(s),l)||s.endAt&&!(function(d,g,y){const _=$v(d,g,y);return d.inclusive?_>=0:_>0})(s.endAt,Cl(s),l))})(r,t)}function V2(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function nT(r){return(t,i)=>{let s=!1;for(const l of Cl(r)){const c=x2(l,t,i);if(c!==0)return c;s=s||l.field.isKeyField()}return 0}}function x2(r,t,i){const s=r.field.isKeyField()?ft.comparator(t.key,i.key):(function(c,d,g){const y=d.data.field(c),_=g.data.field(c);return y!==null&&_!==null?eo(y,_):pt(42886)})(r.field,t,i);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return pt(19790,{direction:r.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yr{constructor(t,i){this.mapKeyFn=t,this.equalsFn=i,this.inner={},this.innerSize=0}get(t){const i=this.mapKeyFn(t),s=this.inner[i];if(s!==void 0){for(const[l,c]of s)if(this.equalsFn(l,t))return c}}has(t){return this.get(t)!==void 0}set(t,i){const s=this.mapKeyFn(t),l=this.inner[s];if(l===void 0)return this.inner[s]=[[t,i]],void this.innerSize++;for(let c=0;c<l.length;c++)if(this.equalsFn(l[c][0],t))return void(l[c]=[t,i]);l.push([t,i]),this.innerSize++}delete(t){const i=this.mapKeyFn(t),s=this.inner[i];if(s===void 0)return!1;for(let l=0;l<s.length;l++)if(this.equalsFn(s[l][0],t))return s.length===1?delete this.inner[i]:s.splice(l,1),this.innerSize--,!0;return!1}forEach(t){er(this.inner,((i,s)=>{for(const[l,c]of s)t(l,c)}))}isEmpty(){return zE(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M2=new le(ft.comparator);function is(){return M2}const iT=new le(ft.comparator);function Al(...r){let t=iT;for(const i of r)t=t.insert(i.key,i);return t}function sT(r){let t=iT;return r.forEach(((i,s)=>t=t.insert(i,s.overlayedDocument))),t}function kr(){return Nl()}function rT(){return Nl()}function Nl(){return new Yr((r=>r.toString()),((r,t)=>r.isEqual(t)))}const U2=new le(ft.comparator),L2=new xe(ft.comparator);function Lt(...r){let t=L2;for(const i of r)t=t.add(i);return t}const P2=new xe(Ut);function k2(){return P2}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Km(r,t){if(r.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:sh(t)?"-0":t}}function aT(r){return{integerValue:""+r}}function oT(r,t){return f2(t)?aT(t):Km(r,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rh{constructor(){this._=void 0}}function z2(r,t,i){return r instanceof jl?(function(l,c){const d={fields:{[qE]:{stringValue:BE},[FE]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return c&&Fm(c)&&(c=Ah(c)),c&&(d.fields[HE]=c),{mapValue:d}})(i,t):r instanceof Bl?uT(r,t):r instanceof ql?cT(r,t):(function(l,c){const d=lT(l,c),g=t0(d)+t0(l.Ae);return fm(d)&&fm(l.Ae)?aT(g):Km(l.serializer,g)})(r,t)}function j2(r,t,i){return r instanceof Bl?uT(r,t):r instanceof ql?cT(r,t):i}function lT(r,t){return r instanceof Hl?(function(s){return fm(s)||(function(c){return!!c&&"doubleValue"in c})(s)})(t)?t:{integerValue:0}:null}class jl extends Rh{}class Bl extends Rh{constructor(t){super(),this.elements=t}}function uT(r,t){const i=hT(t);for(const s of r.elements)i.some((l=>Oi(l,s)))||i.push(s);return{arrayValue:{values:i}}}class ql extends Rh{constructor(t){super(),this.elements=t}}function cT(r,t){let i=hT(t);for(const s of r.elements)i=i.filter((l=>!Oi(l,s)));return{arrayValue:{values:i}}}class Hl extends Rh{constructor(t,i){super(),this.serializer=t,this.Ae=i}}function t0(r){return ye(r.integerValue||r.doubleValue)}function hT(r){return Gm(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fT{constructor(t,i){this.field=t,this.transform=i}}function B2(r,t){return r.field.isEqual(t.field)&&(function(s,l){return s instanceof Bl&&l instanceof Bl||s instanceof ql&&l instanceof ql?to(s.elements,l.elements,Oi):s instanceof Hl&&l instanceof Hl?Oi(s.Ae,l.Ae):s instanceof jl&&l instanceof jl})(r.transform,t.transform)}class q2{constructor(t,i){this.version=t,this.transformResults=i}}class fn{constructor(t,i){this.updateTime=t,this.exists=i}static none(){return new fn}static exists(t){return new fn(void 0,t)}static updateTime(t){return new fn(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Yc(r,t){return r.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(r.updateTime):r.exists===void 0||r.exists===t.isFoundDocument()}class Ih{}function dT(r,t){if(!r.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return r.isNoDocument()?new Xm(r.key,fn.none()):new Jl(r.key,r.data,fn.none());{const i=r.data,s=nn.empty();let l=new xe(Ye.comparator);for(let c of t.fields)if(!l.has(c)){let d=i.field(c);d===null&&c.length>1&&(c=c.popLast(),d=i.field(c)),d===null?s.delete(c):s.set(c,d),l=l.add(c)}return new nr(r.key,s,new Sn(l.toArray()),fn.none())}}function H2(r,t,i){r instanceof Jl?(function(l,c,d){const g=l.value.clone(),y=n0(l.fieldTransforms,c,d.transformResults);g.setAll(y),c.convertToFoundDocument(d.version,g).setHasCommittedMutations()})(r,t,i):r instanceof nr?(function(l,c,d){if(!Yc(l.precondition,c))return void c.convertToUnknownDocument(d.version);const g=n0(l.fieldTransforms,c,d.transformResults),y=c.data;y.setAll(mT(l)),y.setAll(g),c.convertToFoundDocument(d.version,y).setHasCommittedMutations()})(r,t,i):(function(l,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()})(0,t,i)}function Dl(r,t,i,s){return r instanceof Jl?(function(c,d,g,y){if(!Yc(c.precondition,d))return g;const _=c.value.clone(),A=i0(c.fieldTransforms,y,d);return _.setAll(A),d.convertToFoundDocument(d.version,_).setHasLocalMutations(),null})(r,t,i,s):r instanceof nr?(function(c,d,g,y){if(!Yc(c.precondition,d))return g;const _=i0(c.fieldTransforms,y,d),A=d.data;return A.setAll(mT(c)),A.setAll(_),d.convertToFoundDocument(d.version,A).setHasLocalMutations(),g===null?null:g.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((S=>S.field)))})(r,t,i,s):(function(c,d,g){return Yc(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):g})(r,t,i)}function F2(r,t){let i=null;for(const s of r.fieldTransforms){const l=t.data.field(s.field),c=lT(s.transform,l||null);c!=null&&(i===null&&(i=nn.empty()),i.set(s.field,c))}return i||null}function e0(r,t){return r.type===t.type&&!!r.key.isEqual(t.key)&&!!r.precondition.isEqual(t.precondition)&&!!(function(s,l){return s===void 0&&l===void 0||!(!s||!l)&&to(s,l,((c,d)=>B2(c,d)))})(r.fieldTransforms,t.fieldTransforms)&&(r.type===0?r.value.isEqual(t.value):r.type!==1||r.data.isEqual(t.data)&&r.fieldMask.isEqual(t.fieldMask))}class Jl extends Ih{constructor(t,i,s,l=[]){super(),this.key=t,this.value=i,this.precondition=s,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class nr extends Ih{constructor(t,i,s,l,c=[]){super(),this.key=t,this.data=i,this.fieldMask=s,this.precondition=l,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function mT(r){const t=new Map;return r.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const s=r.data.field(i);t.set(i,s)}})),t}function n0(r,t,i){const s=new Map;zt(r.length===i.length,32656,{Re:i.length,Ve:r.length});for(let l=0;l<i.length;l++){const c=r[l],d=c.transform,g=t.data.field(c.field);s.set(c.field,j2(d,g,i[l]))}return s}function i0(r,t,i){const s=new Map;for(const l of r){const c=l.transform,d=i.data.field(l.field);s.set(l.field,z2(c,d,t))}return s}class Xm extends Ih{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class gT extends Ih{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G2{constructor(t,i,s,l){this.batchId=t,this.localWriteTime=i,this.baseMutations=s,this.mutations=l}applyToRemoteDocument(t,i){const s=i.mutationResults;for(let l=0;l<this.mutations.length;l++){const c=this.mutations[l];c.key.isEqual(t.key)&&H2(c,t,s[l])}}applyToLocalView(t,i){for(const s of this.baseMutations)s.key.isEqual(t.key)&&(i=Dl(s,t,i,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(t.key)&&(i=Dl(s,t,i,this.localWriteTime));return i}applyToLocalDocumentSet(t,i){const s=rT();return this.mutations.forEach((l=>{const c=t.get(l.key),d=c.overlayedDocument;let g=this.applyToLocalView(d,c.mutatedFields);g=i.has(l.key)?null:g;const y=dT(d,g);y!==null&&s.set(l.key,y),d.isValidDocument()||d.convertToNoDocument(Et.min())})),s}keys(){return this.mutations.reduce(((t,i)=>t.add(i.key)),Lt())}isEqual(t){return this.batchId===t.batchId&&to(this.mutations,t.mutations,((i,s)=>e0(i,s)))&&to(this.baseMutations,t.baseMutations,((i,s)=>e0(i,s)))}}class $m{constructor(t,i,s,l){this.batch=t,this.commitVersion=i,this.mutationResults=s,this.docVersions=l}static from(t,i,s){zt(t.mutations.length===s.length,58842,{me:t.mutations.length,fe:s.length});let l=(function(){return U2})();const c=t.mutations;for(let d=0;d<c.length;d++)l=l.insert(c[d].key,s[d].version);return new $m(t,i,s,l)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q2{constructor(t,i){this.largestBatchId=t,this.mutation=i}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y2{constructor(t,i){this.count=t,this.unchangedNames=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ie,kt;function pT(r){switch(r){case Y.OK:return pt(64938);case Y.CANCELLED:case Y.UNKNOWN:case Y.DEADLINE_EXCEEDED:case Y.RESOURCE_EXHAUSTED:case Y.INTERNAL:case Y.UNAVAILABLE:case Y.UNAUTHENTICATED:return!1;case Y.INVALID_ARGUMENT:case Y.NOT_FOUND:case Y.ALREADY_EXISTS:case Y.PERMISSION_DENIED:case Y.FAILED_PRECONDITION:case Y.ABORTED:case Y.OUT_OF_RANGE:case Y.UNIMPLEMENTED:case Y.DATA_LOSS:return!0;default:return pt(15467,{code:r})}}function yT(r){if(r===void 0)return ns("GRPC error has no .code"),Y.UNKNOWN;switch(r){case Ie.OK:return Y.OK;case Ie.CANCELLED:return Y.CANCELLED;case Ie.UNKNOWN:return Y.UNKNOWN;case Ie.DEADLINE_EXCEEDED:return Y.DEADLINE_EXCEEDED;case Ie.RESOURCE_EXHAUSTED:return Y.RESOURCE_EXHAUSTED;case Ie.INTERNAL:return Y.INTERNAL;case Ie.UNAVAILABLE:return Y.UNAVAILABLE;case Ie.UNAUTHENTICATED:return Y.UNAUTHENTICATED;case Ie.INVALID_ARGUMENT:return Y.INVALID_ARGUMENT;case Ie.NOT_FOUND:return Y.NOT_FOUND;case Ie.ALREADY_EXISTS:return Y.ALREADY_EXISTS;case Ie.PERMISSION_DENIED:return Y.PERMISSION_DENIED;case Ie.FAILED_PRECONDITION:return Y.FAILED_PRECONDITION;case Ie.ABORTED:return Y.ABORTED;case Ie.OUT_OF_RANGE:return Y.OUT_OF_RANGE;case Ie.UNIMPLEMENTED:return Y.UNIMPLEMENTED;case Ie.DATA_LOSS:return Y.DATA_LOSS;default:return pt(39323,{code:r})}}(kt=Ie||(Ie={}))[kt.OK=0]="OK",kt[kt.CANCELLED=1]="CANCELLED",kt[kt.UNKNOWN=2]="UNKNOWN",kt[kt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",kt[kt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",kt[kt.NOT_FOUND=5]="NOT_FOUND",kt[kt.ALREADY_EXISTS=6]="ALREADY_EXISTS",kt[kt.PERMISSION_DENIED=7]="PERMISSION_DENIED",kt[kt.UNAUTHENTICATED=16]="UNAUTHENTICATED",kt[kt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",kt[kt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",kt[kt.ABORTED=10]="ABORTED",kt[kt.OUT_OF_RANGE=11]="OUT_OF_RANGE",kt[kt.UNIMPLEMENTED=12]="UNIMPLEMENTED",kt[kt.INTERNAL=13]="INTERNAL",kt[kt.UNAVAILABLE=14]="UNAVAILABLE",kt[kt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K2(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X2=new Qs([4294967295,4294967295],0);function s0(r){const t=K2().encode(r),i=new CE;return i.update(t),new Uint8Array(i.digest())}function r0(r){const t=new DataView(r.buffer),i=t.getUint32(0,!0),s=t.getUint32(4,!0),l=t.getUint32(8,!0),c=t.getUint32(12,!0);return[new Qs([i,s],0),new Qs([l,c],0)]}class Zm{constructor(t,i,s){if(this.bitmap=t,this.padding=i,this.hashCount=s,i<0||i>=8)throw new Sl(`Invalid padding: ${i}`);if(s<0)throw new Sl(`Invalid hash count: ${s}`);if(t.length>0&&this.hashCount===0)throw new Sl(`Invalid hash count: ${s}`);if(t.length===0&&i!==0)throw new Sl(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*t.length-i,this.pe=Qs.fromNumber(this.ge)}ye(t,i,s){let l=t.add(i.multiply(Qs.fromNumber(s)));return l.compare(X2)===1&&(l=new Qs([l.getBits(0),l.getBits(1)],0)),l.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const i=s0(t),[s,l]=r0(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(s,l,c);if(!this.we(d))return!1}return!0}static create(t,i,s){const l=t%8==0?0:8-t%8,c=new Uint8Array(Math.ceil(t/8)),d=new Zm(c,l,i);return s.forEach((g=>d.insert(g))),d}insert(t){if(this.ge===0)return;const i=s0(t),[s,l]=r0(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(s,l,c);this.Se(d)}}Se(t){const i=Math.floor(t/8),s=t%8;this.bitmap[i]|=1<<s}}class Sl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ch{constructor(t,i,s,l,c){this.snapshotVersion=t,this.targetChanges=i,this.targetMismatches=s,this.documentUpdates=l,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(t,i,s){const l=new Map;return l.set(t,Wl.createSynthesizedTargetChangeForCurrentChange(t,i,s)),new Ch(Et.min(),l,new le(Ut),is(),Lt())}}class Wl{constructor(t,i,s,l,c){this.resumeToken=t,this.current=i,this.addedDocuments=s,this.modifiedDocuments=l,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(t,i,s){return new Wl(s,i,Lt(),Lt(),Lt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kc{constructor(t,i,s,l){this.be=t,this.removedTargetIds=i,this.key=s,this.De=l}}class _T{constructor(t,i){this.targetId=t,this.Ce=i}}class vT{constructor(t,i,s=Ke.EMPTY_BYTE_STRING,l=null){this.state=t,this.targetIds=i,this.resumeToken=s,this.cause=l}}class a0{constructor(){this.ve=0,this.Fe=o0(),this.Me=Ke.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=Lt(),i=Lt(),s=Lt();return this.Fe.forEach(((l,c)=>{switch(c){case 0:t=t.add(l);break;case 2:i=i.add(l);break;case 1:s=s.add(l);break;default:pt(38017,{changeType:c})}})),new Wl(this.Me,this.xe,t,i,s)}qe(){this.Oe=!1,this.Fe=o0()}Qe(t,i){this.Oe=!0,this.Fe=this.Fe.insert(t,i)}$e(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}Ue(){this.ve+=1}Ke(){this.ve-=1,zt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class $2{constructor(t){this.Ge=t,this.ze=new Map,this.je=is(),this.Je=kc(),this.He=kc(),this.Ye=new le(Ut)}Ze(t){for(const i of t.be)t.De&&t.De.isFoundDocument()?this.Xe(i,t.De):this.et(i,t.key,t.De);for(const i of t.removedTargetIds)this.et(i,t.key,t.De)}tt(t){this.forEachTarget(t,(i=>{const s=this.nt(i);switch(t.state){case 0:this.rt(i)&&s.Le(t.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(t.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(s.We(),s.Le(t.resumeToken));break;case 4:this.rt(i)&&(this.it(i),s.Le(t.resumeToken));break;default:pt(56790,{state:t.state})}}))}forEachTarget(t,i){t.targetIds.length>0?t.targetIds.forEach(i):this.ze.forEach(((s,l)=>{this.rt(l)&&i(l)}))}st(t){const i=t.targetId,s=t.Ce.count,l=this.ot(i);if(l){const c=l.target;if(mm(c))if(s===0){const d=new ft(c.path);this.et(i,d,ze.newNoDocument(d,Et.min()))}else zt(s===1,20013,{expectedCount:s});else{const d=this._t(i);if(d!==s){const g=this.ut(t),y=g?this.ct(g,t,d):1;if(y!==0){this.it(i);const _=y===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(i,_)}}}}}ut(t){const i=t.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:s="",padding:l=0},hashCount:c=0}=i;let d,g;try{d=Zs(s).toUint8Array()}catch(y){if(y instanceof jE)return Wa("Decoding the base64 bloom filter in existence filter failed ("+y.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw y}try{g=new Zm(d,l,c)}catch(y){return Wa(y instanceof Sl?"BloomFilter error: ":"Applying bloom filter failed: ",y),null}return g.ge===0?null:g}ct(t,i,s){return i.Ce.count===s-this.Pt(t,i.targetId)?0:2}Pt(t,i){const s=this.Ge.getRemoteKeysForTarget(i);let l=0;return s.forEach((c=>{const d=this.Ge.ht(),g=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;t.mightContain(g)||(this.et(i,c,null),l++)})),l}Tt(t){const i=new Map;this.ze.forEach(((c,d)=>{const g=this.ot(d);if(g){if(c.current&&mm(g.target)){const y=new ft(g.target.path);this.It(y).has(d)||this.Et(d,y)||this.et(d,y,ze.newNoDocument(y,t))}c.Be&&(i.set(d,c.ke()),c.qe())}}));let s=Lt();this.He.forEach(((c,d)=>{let g=!0;d.forEachWhile((y=>{const _=this.ot(y);return!_||_.purpose==="TargetPurposeLimboResolution"||(g=!1,!1)})),g&&(s=s.add(c))})),this.je.forEach(((c,d)=>d.setReadTime(t)));const l=new Ch(t,i,this.Ye,this.je,s);return this.je=is(),this.Je=kc(),this.He=kc(),this.Ye=new le(Ut),l}Xe(t,i){if(!this.rt(t))return;const s=this.Et(t,i.key)?2:0;this.nt(t).Qe(i.key,s),this.je=this.je.insert(i.key,i),this.Je=this.Je.insert(i.key,this.It(i.key).add(t)),this.He=this.He.insert(i.key,this.dt(i.key).add(t))}et(t,i,s){if(!this.rt(t))return;const l=this.nt(t);this.Et(t,i)?l.Qe(i,1):l.$e(i),this.He=this.He.insert(i,this.dt(i).delete(t)),this.He=this.He.insert(i,this.dt(i).add(t)),s&&(this.je=this.je.insert(i,s))}removeTarget(t){this.ze.delete(t)}_t(t){const i=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+i.addedDocuments.size-i.removedDocuments.size}Ue(t){this.nt(t).Ue()}nt(t){let i=this.ze.get(t);return i||(i=new a0,this.ze.set(t,i)),i}dt(t){let i=this.He.get(t);return i||(i=new xe(Ut),this.He=this.He.insert(t,i)),i}It(t){let i=this.Je.get(t);return i||(i=new xe(Ut),this.Je=this.Je.insert(t,i)),i}rt(t){const i=this.ot(t)!==null;return i||ot("WatchChangeAggregator","Detected inactive target",t),i}ot(t){const i=this.ze.get(t);return i&&i.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new a0),this.Ge.getRemoteKeysForTarget(t).forEach((i=>{this.et(t,i,null)}))}Et(t,i){return this.Ge.getRemoteKeysForTarget(t).has(i)}}function kc(){return new le(ft.comparator)}function o0(){return new le(ft.comparator)}const Z2={asc:"ASCENDING",desc:"DESCENDING"},J2={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},W2={and:"AND",or:"OR"};class tI{constructor(t,i){this.databaseId=t,this.useProto3Json=i}}function ym(r,t){return r.useProto3Json||Zl(t)?t:{value:t}}function lh(r,t){return r.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function ET(r,t){return r.useProto3Json?t.toBase64():t.toUint8Array()}function eI(r,t){return lh(r,t.toTimestamp())}function bn(r){return zt(!!r,49232),Et.fromTimestamp((function(i){const s=$s(i);return new se(s.seconds,s.nanos)})(r))}function Jm(r,t){return _m(r,t).canonicalString()}function _m(r,t){const i=(function(l){return new Wt(["projects",l.projectId,"databases",l.database])})(r).child("documents");return t===void 0?i:i.child(t)}function TT(r){const t=Wt.fromString(r);return zt(IT(t),10190,{key:t.toString()}),t}function uh(r,t){return Jm(r.databaseId,t.path)}function Ol(r,t){const i=TT(t);if(i.get(1)!==r.databaseId.projectId)throw new st(Y.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+r.databaseId.projectId);if(i.get(3)!==r.databaseId.database)throw new st(Y.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+r.databaseId.database);return new ft(ST(i))}function AT(r,t){return Jm(r.databaseId,t)}function nI(r){const t=TT(r);return t.length===4?Wt.emptyPath():ST(t)}function vm(r){return new Wt(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function ST(r){return zt(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function l0(r,t,i){return{name:uh(r,t),fields:i.value.mapValue.fields}}function iI(r,t){return"found"in t?(function(s,l){zt(!!l.found,43571),l.found.name,l.found.updateTime;const c=Ol(s,l.found.name),d=bn(l.found.updateTime),g=l.found.createTime?bn(l.found.createTime):Et.min(),y=new nn({mapValue:{fields:l.found.fields}});return ze.newFoundDocument(c,d,g,y)})(r,t):"missing"in t?(function(s,l){zt(!!l.missing,3894),zt(!!l.readTime,22933);const c=Ol(s,l.missing),d=bn(l.readTime);return ze.newNoDocument(c,d)})(r,t):pt(7234,{result:t})}function sI(r,t){let i;if("targetChange"in t){t.targetChange;const s=(function(_){return _==="NO_CHANGE"?0:_==="ADD"?1:_==="REMOVE"?2:_==="CURRENT"?3:_==="RESET"?4:pt(39313,{state:_})})(t.targetChange.targetChangeType||"NO_CHANGE"),l=t.targetChange.targetIds||[],c=(function(_,A){return _.useProto3Json?(zt(A===void 0||typeof A=="string",58123),Ke.fromBase64String(A||"")):(zt(A===void 0||A instanceof Buffer||A instanceof Uint8Array,16193),Ke.fromUint8Array(A||new Uint8Array))})(r,t.targetChange.resumeToken),d=t.targetChange.cause,g=d&&(function(_){const A=_.code===void 0?Y.UNKNOWN:yT(_.code);return new st(A,_.message||"")})(d);i=new vT(s,l,c,g||null)}else if("documentChange"in t){t.documentChange;const s=t.documentChange;s.document,s.document.name,s.document.updateTime;const l=Ol(r,s.document.name),c=bn(s.document.updateTime),d=s.document.createTime?bn(s.document.createTime):Et.min(),g=new nn({mapValue:{fields:s.document.fields}}),y=ze.newFoundDocument(l,c,d,g),_=s.targetIds||[],A=s.removedTargetIds||[];i=new Kc(_,A,y.key,y)}else if("documentDelete"in t){t.documentDelete;const s=t.documentDelete;s.document;const l=Ol(r,s.document),c=s.readTime?bn(s.readTime):Et.min(),d=ze.newNoDocument(l,c),g=s.removedTargetIds||[];i=new Kc([],g,d.key,d)}else if("documentRemove"in t){t.documentRemove;const s=t.documentRemove;s.document;const l=Ol(r,s.document),c=s.removedTargetIds||[];i=new Kc([],c,l,null)}else{if(!("filter"in t))return pt(11601,{Rt:t});{t.filter;const s=t.filter;s.targetId;const{count:l=0,unchangedNames:c}=s,d=new Y2(l,c),g=s.targetId;i=new _T(g,d)}}return i}function bT(r,t){let i;if(t instanceof Jl)i={update:l0(r,t.key,t.value)};else if(t instanceof Xm)i={delete:uh(r,t.key)};else if(t instanceof nr)i={update:l0(r,t.key,t.data),updateMask:dI(t.fieldMask)};else{if(!(t instanceof gT))return pt(16599,{Vt:t.type});i={verify:uh(r,t.key)}}return t.fieldTransforms.length>0&&(i.updateTransforms=t.fieldTransforms.map((s=>(function(c,d){const g=d.transform;if(g instanceof jl)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(g instanceof Bl)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:g.elements}};if(g instanceof ql)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:g.elements}};if(g instanceof Hl)return{fieldPath:d.field.canonicalString(),increment:g.Ae};throw pt(20930,{transform:d.transform})})(0,s)))),t.precondition.isNone||(i.currentDocument=(function(l,c){return c.updateTime!==void 0?{updateTime:eI(l,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:pt(27497)})(r,t.precondition)),i}function rI(r,t){return r&&r.length>0?(zt(t!==void 0,14353),r.map((i=>(function(l,c){let d=l.updateTime?bn(l.updateTime):bn(c);return d.isEqual(Et.min())&&(d=bn(c)),new q2(d,l.transformResults||[])})(i,t)))):[]}function aI(r,t){return{documents:[AT(r,t.path)]}}function oI(r,t){const i={structuredQuery:{}},s=t.path;let l;t.collectionGroup!==null?(l=s,i.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(l=s.popLast(),i.structuredQuery.from=[{collectionId:s.lastSegment()}]),i.parent=AT(r,l);const c=(function(_){if(_.length!==0)return RT(ei.create(_,"and"))})(t.filters);c&&(i.structuredQuery.where=c);const d=(function(_){if(_.length!==0)return _.map((A=>(function(D){return{field:Ha(D.field),direction:cI(D.dir)}})(A)))})(t.orderBy);d&&(i.structuredQuery.orderBy=d);const g=ym(r,t.limit);return g!==null&&(i.structuredQuery.limit=g),t.startAt&&(i.structuredQuery.startAt=(function(_){return{before:_.inclusive,values:_.position}})(t.startAt)),t.endAt&&(i.structuredQuery.endAt=(function(_){return{before:!_.inclusive,values:_.position}})(t.endAt)),{ft:i,parent:l}}function lI(r){let t=nI(r.parent);const i=r.structuredQuery,s=i.from?i.from.length:0;let l=null;if(s>0){zt(s===1,65062);const A=i.from[0];A.allDescendants?l=A.collectionId:t=t.child(A.collectionId)}let c=[];i.where&&(c=(function(S){const D=wT(S);return D instanceof ei&&$E(D)?D.getFilters():[D]})(i.where));let d=[];i.orderBy&&(d=(function(S){return S.map((D=>(function(J){return new zl(Fa(J.field),(function(W){switch(W){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(J.direction))})(D)))})(i.orderBy));let g=null;i.limit&&(g=(function(S){let D;return D=typeof S=="object"?S.value:S,Zl(D)?null:D})(i.limit));let y=null;i.startAt&&(y=(function(S){const D=!!S.before,F=S.values||[];return new oh(F,D)})(i.startAt));let _=null;return i.endAt&&(_=(function(S){const D=!S.before,F=S.values||[];return new oh(F,D)})(i.endAt)),D2(t,l,d,c,g,"F",y,_)}function uI(r,t){const i=(function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return pt(28987,{purpose:l})}})(t.purpose);return i==null?null:{"goog-listen-tags":i}}function wT(r){return r.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const s=Fa(i.unaryFilter.field);return Ce.create(s,"==",{doubleValue:NaN});case"IS_NULL":const l=Fa(i.unaryFilter.field);return Ce.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=Fa(i.unaryFilter.field);return Ce.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=Fa(i.unaryFilter.field);return Ce.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return pt(61313);default:return pt(60726)}})(r):r.fieldFilter!==void 0?(function(i){return Ce.create(Fa(i.fieldFilter.field),(function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return pt(58110);default:return pt(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(i){return ei.create(i.compositeFilter.filters.map((s=>wT(s))),(function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return pt(1026)}})(i.compositeFilter.op))})(r):pt(30097,{filter:r})}function cI(r){return Z2[r]}function hI(r){return J2[r]}function fI(r){return W2[r]}function Ha(r){return{fieldPath:r.canonicalString()}}function Fa(r){return Ye.fromServerFormat(r.fieldPath)}function RT(r){return r instanceof Ce?(function(i){if(i.op==="=="){if(Xv(i.value))return{unaryFilter:{field:Ha(i.field),op:"IS_NAN"}};if(Kv(i.value))return{unaryFilter:{field:Ha(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(Xv(i.value))return{unaryFilter:{field:Ha(i.field),op:"IS_NOT_NAN"}};if(Kv(i.value))return{unaryFilter:{field:Ha(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ha(i.field),op:hI(i.op),value:i.value}}})(r):r instanceof ei?(function(i){const s=i.getFilters().map((l=>RT(l)));return s.length===1?s[0]:{compositeFilter:{op:fI(i.op),filters:s}}})(r):pt(54877,{filter:r})}function dI(r){const t=[];return r.fields.forEach((i=>t.push(i.canonicalString()))),{fieldPaths:t}}function IT(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qs{constructor(t,i,s,l,c=Et.min(),d=Et.min(),g=Ke.EMPTY_BYTE_STRING,y=null){this.target=t,this.targetId=i,this.purpose=s,this.sequenceNumber=l,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=g,this.expectedCount=y}withSequenceNumber(t){return new qs(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,i){return new qs(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new qs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new qs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mI{constructor(t){this.yt=t}}function gI(r){const t=lI({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?pm(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pI{constructor(){this.Cn=new yI}addToCollectionParentIndex(t,i){return this.Cn.add(i),$.resolve()}getCollectionParents(t,i){return $.resolve(this.Cn.getEntries(i))}addFieldIndex(t,i){return $.resolve()}deleteFieldIndex(t,i){return $.resolve()}deleteAllFieldIndexes(t){return $.resolve()}createTargetIndexes(t,i){return $.resolve()}getDocumentsMatchingTarget(t,i){return $.resolve(null)}getIndexType(t,i){return $.resolve(0)}getFieldIndexes(t,i){return $.resolve([])}getNextCollectionGroupToUpdate(t){return $.resolve(null)}getMinOffset(t,i){return $.resolve(Xs.min())}getMinOffsetFromCollectionGroup(t,i){return $.resolve(Xs.min())}updateCollectionGroup(t,i,s){return $.resolve()}updateIndexEntries(t,i){return $.resolve()}}class yI{constructor(){this.index={}}add(t){const i=t.lastSegment(),s=t.popLast(),l=this.index[i]||new xe(Wt.comparator),c=!l.has(s);return this.index[i]=l.add(s),c}has(t){const i=t.lastSegment(),s=t.popLast(),l=this.index[i];return l&&l.has(s)}getEntries(t){return(this.index[t]||new xe(Wt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},CT=41943040;class hn{static withCacheSize(t){return new hn(t,hn.DEFAULT_COLLECTION_PERCENTILE,hn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,i,s){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */hn.DEFAULT_COLLECTION_PERCENTILE=10,hn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,hn.DEFAULT=new hn(CT,hn.DEFAULT_COLLECTION_PERCENTILE,hn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),hn.DISABLED=new hn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class io{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new io(0)}static cr(){return new io(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c0="LruGarbageCollector",_I=1048576;function h0([r,t],[i,s]){const l=Ut(r,i);return l===0?Ut(t,s):l}class vI{constructor(t){this.Ir=t,this.buffer=new xe(h0),this.Er=0}dr(){return++this.Er}Ar(t){const i=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(i);else{const s=this.buffer.last();h0(i,s)<0&&(this.buffer=this.buffer.delete(s).add(i))}}get maxValue(){return this.buffer.last()[0]}}class EI{constructor(t,i,s){this.garbageCollector=t,this.asyncQueue=i,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(t){ot(c0,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){co(i)?ot(c0,"Ignoring IndexedDB error during garbage collection: ",i):await uo(i)}await this.Vr(3e5)}))}}class TI{constructor(t,i){this.mr=t,this.params=i}calculateTargetCount(t,i){return this.mr.gr(t).next((s=>Math.floor(i/100*s)))}nthSequenceNumber(t,i){if(i===0)return $.resolve(Th.ce);const s=new vI(i);return this.mr.forEachTarget(t,(l=>s.Ar(l.sequenceNumber))).next((()=>this.mr.pr(t,(l=>s.Ar(l))))).next((()=>s.maxValue))}removeTargets(t,i,s){return this.mr.removeTargets(t,i,s)}removeOrphanedDocuments(t,i){return this.mr.removeOrphanedDocuments(t,i)}collect(t,i){return this.params.cacheSizeCollectionThreshold===-1?(ot("LruGarbageCollector","Garbage collection skipped; disabled"),$.resolve(u0)):this.getCacheSize(t).next((s=>s<this.params.cacheSizeCollectionThreshold?(ot("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),u0):this.yr(t,i)))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,i){let s,l,c,d,g,y,_;const A=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((S=>(S>this.params.maximumSequenceNumbersToCollect?(ot("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${S}`),l=this.params.maximumSequenceNumbersToCollect):l=S,d=Date.now(),this.nthSequenceNumber(t,l)))).next((S=>(s=S,g=Date.now(),this.removeTargets(t,s,i)))).next((S=>(c=S,y=Date.now(),this.removeOrphanedDocuments(t,s)))).next((S=>(_=Date.now(),Ba()<=Mt.DEBUG&&ot("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-A}ms
	Determined least recently used ${l} in `+(g-d)+`ms
	Removed ${c} targets in `+(y-g)+`ms
	Removed ${S} documents in `+(_-y)+`ms
Total Duration: ${_-A}ms`),$.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:c,documentsRemoved:S}))))}}function AI(r,t){return new TI(r,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SI{constructor(){this.changes=new Yr((t=>t.toString()),((t,i)=>t.isEqual(i))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,i){this.assertNotApplied(),this.changes.set(t,ze.newInvalidDocument(t).setReadTime(i))}getEntry(t,i){this.assertNotApplied();const s=this.changes.get(i);return s!==void 0?$.resolve(s):this.getFromCache(t,i)}getEntries(t,i){return this.getAllFromCache(t,i)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bI{constructor(t,i){this.overlayedDocument=t,this.mutatedFields=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wI{constructor(t,i,s,l){this.remoteDocumentCache=t,this.mutationQueue=i,this.documentOverlayCache=s,this.indexManager=l}getDocument(t,i){let s=null;return this.documentOverlayCache.getOverlay(t,i).next((l=>(s=l,this.remoteDocumentCache.getEntry(t,i)))).next((l=>(s!==null&&Dl(s.mutation,l,Sn.empty(),se.now()),l)))}getDocuments(t,i){return this.remoteDocumentCache.getEntries(t,i).next((s=>this.getLocalViewOfDocuments(t,s,Lt()).next((()=>s))))}getLocalViewOfDocuments(t,i,s=Lt()){const l=kr();return this.populateOverlays(t,l,i).next((()=>this.computeViews(t,i,l,s).next((c=>{let d=Al();return c.forEach(((g,y)=>{d=d.insert(g,y.overlayedDocument)})),d}))))}getOverlayedDocuments(t,i){const s=kr();return this.populateOverlays(t,s,i).next((()=>this.computeViews(t,i,s,Lt())))}populateOverlays(t,i,s){const l=[];return s.forEach((c=>{i.has(c)||l.push(c)})),this.documentOverlayCache.getOverlays(t,l).next((c=>{c.forEach(((d,g)=>{i.set(d,g)}))}))}computeViews(t,i,s,l){let c=is();const d=Nl(),g=(function(){return Nl()})();return i.forEach(((y,_)=>{const A=s.get(_.key);l.has(_.key)&&(A===void 0||A.mutation instanceof nr)?c=c.insert(_.key,_):A!==void 0?(d.set(_.key,A.mutation.getFieldMask()),Dl(A.mutation,_,A.mutation.getFieldMask(),se.now())):d.set(_.key,Sn.empty())})),this.recalculateAndSaveOverlays(t,c).next((y=>(y.forEach(((_,A)=>d.set(_,A))),i.forEach(((_,A)=>g.set(_,new bI(A,d.get(_)??null)))),g)))}recalculateAndSaveOverlays(t,i){const s=Nl();let l=new le(((d,g)=>d-g)),c=Lt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,i).next((d=>{for(const g of d)g.keys().forEach((y=>{const _=i.get(y);if(_===null)return;let A=s.get(y)||Sn.empty();A=g.applyToLocalView(_,A),s.set(y,A);const S=(l.get(g.batchId)||Lt()).add(y);l=l.insert(g.batchId,S)}))})).next((()=>{const d=[],g=l.getReverseIterator();for(;g.hasNext();){const y=g.getNext(),_=y.key,A=y.value,S=rT();A.forEach((D=>{if(!c.has(D)){const F=dT(i.get(D),s.get(D));F!==null&&S.set(D,F),c=c.add(D)}})),d.push(this.documentOverlayCache.saveOverlays(t,_,S))}return $.waitFor(d)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(t,i){return this.remoteDocumentCache.getEntries(t,i).next((s=>this.recalculateAndSaveOverlays(t,s)))}getDocumentsMatchingQuery(t,i,s,l){return(function(d){return ft.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0})(i)?this.getDocumentsMatchingDocumentQuery(t,i.path):tT(i)?this.getDocumentsMatchingCollectionGroupQuery(t,i,s,l):this.getDocumentsMatchingCollectionQuery(t,i,s,l)}getNextDocuments(t,i,s,l){return this.remoteDocumentCache.getAllFromCollectionGroup(t,i,s,l).next((c=>{const d=l-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,i,s.largestBatchId,l-c.size):$.resolve(kr());let g=Ul,y=c;return d.next((_=>$.forEach(_,((A,S)=>(g<S.largestBatchId&&(g=S.largestBatchId),c.get(A)?$.resolve():this.remoteDocumentCache.getEntry(t,A).next((D=>{y=y.insert(A,D)}))))).next((()=>this.populateOverlays(t,_,c))).next((()=>this.computeViews(t,y,_,Lt()))).next((A=>({batchId:g,changes:sT(A)})))))}))}getDocumentsMatchingDocumentQuery(t,i){return this.getDocument(t,new ft(i)).next((s=>{let l=Al();return s.isFoundDocument()&&(l=l.insert(s.key,s)),l}))}getDocumentsMatchingCollectionGroupQuery(t,i,s,l){const c=i.collectionGroup;let d=Al();return this.indexManager.getCollectionParents(t,c).next((g=>$.forEach(g,(y=>{const _=(function(S,D){return new ho(D,null,S.explicitOrderBy.slice(),S.filters.slice(),S.limit,S.limitType,S.startAt,S.endAt)})(i,y.child(c));return this.getDocumentsMatchingCollectionQuery(t,_,s,l).next((A=>{A.forEach(((S,D)=>{d=d.insert(S,D)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(t,i,s,l){let c;return this.documentOverlayCache.getOverlaysForCollection(t,i.path,s.largestBatchId).next((d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(t,i,s,c,l)))).next((d=>{c.forEach(((y,_)=>{const A=_.getKey();d.get(A)===null&&(d=d.insert(A,ze.newInvalidDocument(A)))}));let g=Al();return d.forEach(((y,_)=>{const A=c.get(y);A!==void 0&&Dl(A.mutation,_,Sn.empty(),se.now()),wh(i,_)&&(g=g.insert(y,_))})),g}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RI{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,i){return $.resolve(this.Lr.get(i))}saveBundleMetadata(t,i){return this.Lr.set(i.id,(function(l){return{id:l.id,version:l.version,createTime:bn(l.createTime)}})(i)),$.resolve()}getNamedQuery(t,i){return $.resolve(this.kr.get(i))}saveNamedQuery(t,i){return this.kr.set(i.name,(function(l){return{name:l.name,query:gI(l.bundledQuery),readTime:bn(l.readTime)}})(i)),$.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class II{constructor(){this.overlays=new le(ft.comparator),this.qr=new Map}getOverlay(t,i){return $.resolve(this.overlays.get(i))}getOverlays(t,i){const s=kr();return $.forEach(i,(l=>this.getOverlay(t,l).next((c=>{c!==null&&s.set(l,c)})))).next((()=>s))}saveOverlays(t,i,s){return s.forEach(((l,c)=>{this.St(t,i,c)})),$.resolve()}removeOverlaysForBatchId(t,i,s){const l=this.qr.get(s);return l!==void 0&&(l.forEach((c=>this.overlays=this.overlays.remove(c))),this.qr.delete(s)),$.resolve()}getOverlaysForCollection(t,i,s){const l=kr(),c=i.length+1,d=new ft(i.child("")),g=this.overlays.getIteratorFrom(d);for(;g.hasNext();){const y=g.getNext().value,_=y.getKey();if(!i.isPrefixOf(_.path))break;_.path.length===c&&y.largestBatchId>s&&l.set(y.getKey(),y)}return $.resolve(l)}getOverlaysForCollectionGroup(t,i,s,l){let c=new le(((_,A)=>_-A));const d=this.overlays.getIterator();for(;d.hasNext();){const _=d.getNext().value;if(_.getKey().getCollectionGroup()===i&&_.largestBatchId>s){let A=c.get(_.largestBatchId);A===null&&(A=kr(),c=c.insert(_.largestBatchId,A)),A.set(_.getKey(),_)}}const g=kr(),y=c.getIterator();for(;y.hasNext()&&(y.getNext().value.forEach(((_,A)=>g.set(_,A))),!(g.size()>=l)););return $.resolve(g)}St(t,i,s){const l=this.overlays.get(s.key);if(l!==null){const d=this.qr.get(l.largestBatchId).delete(s.key);this.qr.set(l.largestBatchId,d)}this.overlays=this.overlays.insert(s.key,new Q2(i,s));let c=this.qr.get(i);c===void 0&&(c=Lt(),this.qr.set(i,c)),this.qr.set(i,c.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CI{constructor(){this.sessionToken=Ke.EMPTY_BYTE_STRING}getSessionToken(t){return $.resolve(this.sessionToken)}setSessionToken(t,i){return this.sessionToken=i,$.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wm{constructor(){this.Qr=new xe(ke.$r),this.Ur=new xe(ke.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,i){const s=new ke(t,i);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(t,i){t.forEach((s=>this.addReference(s,i)))}removeReference(t,i){this.Gr(new ke(t,i))}zr(t,i){t.forEach((s=>this.removeReference(s,i)))}jr(t){const i=new ft(new Wt([])),s=new ke(i,t),l=new ke(i,t+1),c=[];return this.Ur.forEachInRange([s,l],(d=>{this.Gr(d),c.push(d.key)})),c}Jr(){this.Qr.forEach((t=>this.Gr(t)))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){const i=new ft(new Wt([])),s=new ke(i,t),l=new ke(i,t+1);let c=Lt();return this.Ur.forEachInRange([s,l],(d=>{c=c.add(d.key)})),c}containsKey(t){const i=new ke(t,0),s=this.Qr.firstAfterOrEqual(i);return s!==null&&t.isEqual(s.key)}}class ke{constructor(t,i){this.key=t,this.Yr=i}static $r(t,i){return ft.comparator(t.key,i.key)||Ut(t.Yr,i.Yr)}static Kr(t,i){return Ut(t.Yr,i.Yr)||ft.comparator(t.key,i.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NI{constructor(t,i){this.indexManager=t,this.referenceDelegate=i,this.mutationQueue=[],this.tr=1,this.Zr=new xe(ke.$r)}checkEmpty(t){return $.resolve(this.mutationQueue.length===0)}addMutationBatch(t,i,s,l){const c=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new G2(c,i,s,l);this.mutationQueue.push(d);for(const g of l)this.Zr=this.Zr.add(new ke(g.key,c)),this.indexManager.addToCollectionParentIndex(t,g.key.path.popLast());return $.resolve(d)}lookupMutationBatch(t,i){return $.resolve(this.Xr(i))}getNextMutationBatchAfterBatchId(t,i){const s=i+1,l=this.ei(s),c=l<0?0:l;return $.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return $.resolve(this.mutationQueue.length===0?Hm:this.tr-1)}getAllMutationBatches(t){return $.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,i){const s=new ke(i,0),l=new ke(i,Number.POSITIVE_INFINITY),c=[];return this.Zr.forEachInRange([s,l],(d=>{const g=this.Xr(d.Yr);c.push(g)})),$.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(t,i){let s=new xe(Ut);return i.forEach((l=>{const c=new ke(l,0),d=new ke(l,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([c,d],(g=>{s=s.add(g.Yr)}))})),$.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(t,i){const s=i.path,l=s.length+1;let c=s;ft.isDocumentKey(c)||(c=c.child(""));const d=new ke(new ft(c),0);let g=new xe(Ut);return this.Zr.forEachWhile((y=>{const _=y.key.path;return!!s.isPrefixOf(_)&&(_.length===l&&(g=g.add(y.Yr)),!0)}),d),$.resolve(this.ti(g))}ti(t){const i=[];return t.forEach((s=>{const l=this.Xr(s);l!==null&&i.push(l)})),i}removeMutationBatch(t,i){zt(this.ni(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return $.forEach(i.mutations,(l=>{const c=new ke(l.key,i.batchId);return s=s.delete(c),this.referenceDelegate.markPotentiallyOrphaned(t,l.key)})).next((()=>{this.Zr=s}))}ir(t){}containsKey(t,i){const s=new ke(i,0),l=this.Zr.firstAfterOrEqual(s);return $.resolve(i.isEqual(l&&l.key))}performConsistencyCheck(t){return this.mutationQueue.length,$.resolve()}ni(t,i){return this.ei(t)}ei(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Xr(t){const i=this.ei(t);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DI{constructor(t){this.ri=t,this.docs=(function(){return new le(ft.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,i){const s=i.key,l=this.docs.get(s),c=l?l.size:0,d=this.ri(i);return this.docs=this.docs.insert(s,{document:i.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(t,s.path.popLast())}removeEntry(t){const i=this.docs.get(t);i&&(this.docs=this.docs.remove(t),this.size-=i.size)}getEntry(t,i){const s=this.docs.get(i);return $.resolve(s?s.document.mutableCopy():ze.newInvalidDocument(i))}getEntries(t,i){let s=is();return i.forEach((l=>{const c=this.docs.get(l);s=s.insert(l,c?c.document.mutableCopy():ze.newInvalidDocument(l))})),$.resolve(s)}getDocumentsMatchingQuery(t,i,s,l){let c=is();const d=i.path,g=new ft(d.child("__id-9223372036854775808__")),y=this.docs.getIteratorFrom(g);for(;y.hasNext();){const{key:_,value:{document:A}}=y.getNext();if(!d.isPrefixOf(_.path))break;_.path.length>d.length+1||l2(o2(A),s)<=0||(l.has(A.key)||wh(i,A))&&(c=c.insert(A.key,A.mutableCopy()))}return $.resolve(c)}getAllFromCollectionGroup(t,i,s,l){pt(9500)}ii(t,i){return $.forEach(this.docs,(s=>i(s)))}newChangeBuffer(t){return new OI(this)}getSize(t){return $.resolve(this.size)}}class OI extends SI{constructor(t){super(),this.Nr=t}applyChanges(t){const i=[];return this.changes.forEach(((s,l)=>{l.isValidDocument()?i.push(this.Nr.addEntry(t,l)):this.Nr.removeEntry(s)})),$.waitFor(i)}getFromCache(t,i){return this.Nr.getEntry(t,i)}getAllFromCache(t,i){return this.Nr.getEntries(t,i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VI{constructor(t){this.persistence=t,this.si=new Yr((i=>Qm(i)),Ym),this.lastRemoteSnapshotVersion=Et.min(),this.highestTargetId=0,this.oi=0,this._i=new Wm,this.targetCount=0,this.ai=io.ur()}forEachTarget(t,i){return this.si.forEach(((s,l)=>i(l))),$.resolve()}getLastRemoteSnapshotVersion(t){return $.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return $.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),$.resolve(this.highestTargetId)}setTargetsMetadata(t,i,s){return s&&(this.lastRemoteSnapshotVersion=s),i>this.oi&&(this.oi=i),$.resolve()}Pr(t){this.si.set(t.target,t);const i=t.targetId;i>this.highestTargetId&&(this.ai=new io(i),this.highestTargetId=i),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,i){return this.Pr(i),this.targetCount+=1,$.resolve()}updateTargetData(t,i){return this.Pr(i),$.resolve()}removeTargetData(t,i){return this.si.delete(i.target),this._i.jr(i.targetId),this.targetCount-=1,$.resolve()}removeTargets(t,i,s){let l=0;const c=[];return this.si.forEach(((d,g)=>{g.sequenceNumber<=i&&s.get(g.targetId)===null&&(this.si.delete(d),c.push(this.removeMatchingKeysForTargetId(t,g.targetId)),l++)})),$.waitFor(c).next((()=>l))}getTargetCount(t){return $.resolve(this.targetCount)}getTargetData(t,i){const s=this.si.get(i)||null;return $.resolve(s)}addMatchingKeys(t,i,s){return this._i.Wr(i,s),$.resolve()}removeMatchingKeys(t,i,s){this._i.zr(i,s);const l=this.persistence.referenceDelegate,c=[];return l&&i.forEach((d=>{c.push(l.markPotentiallyOrphaned(t,d))})),$.waitFor(c)}removeMatchingKeysForTargetId(t,i){return this._i.jr(i),$.resolve()}getMatchingKeysForTargetId(t,i){const s=this._i.Hr(i);return $.resolve(s)}containsKey(t,i){return $.resolve(this._i.containsKey(i))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NT{constructor(t,i){this.ui={},this.overlays={},this.ci=new Th(0),this.li=!1,this.li=!0,this.hi=new CI,this.referenceDelegate=t(this),this.Pi=new VI(this),this.indexManager=new pI,this.remoteDocumentCache=(function(l){return new DI(l)})((s=>this.referenceDelegate.Ti(s))),this.serializer=new mI(i),this.Ii=new RI(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let i=this.overlays[t.toKey()];return i||(i=new II,this.overlays[t.toKey()]=i),i}getMutationQueue(t,i){let s=this.ui[t.toKey()];return s||(s=new NI(i,this.referenceDelegate),this.ui[t.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,i,s){ot("MemoryPersistence","Starting transaction:",t);const l=new xI(this.ci.next());return this.referenceDelegate.Ei(),s(l).next((c=>this.referenceDelegate.di(l).next((()=>c)))).toPromise().then((c=>(l.raiseOnCommittedEvent(),c)))}Ai(t,i){return $.or(Object.values(this.ui).map((s=>()=>s.containsKey(t,i))))}}class xI extends c2{constructor(t){super(),this.currentSequenceNumber=t}}class tg{constructor(t){this.persistence=t,this.Ri=new Wm,this.Vi=null}static mi(t){return new tg(t)}get fi(){if(this.Vi)return this.Vi;throw pt(60996)}addReference(t,i,s){return this.Ri.addReference(s,i),this.fi.delete(s.toString()),$.resolve()}removeReference(t,i,s){return this.Ri.removeReference(s,i),this.fi.add(s.toString()),$.resolve()}markPotentiallyOrphaned(t,i){return this.fi.add(i.toString()),$.resolve()}removeTarget(t,i){this.Ri.jr(i.targetId).forEach((l=>this.fi.add(l.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(t,i.targetId).next((l=>{l.forEach((c=>this.fi.add(c.toString())))})).next((()=>s.removeTargetData(t,i)))}Ei(){this.Vi=new Set}di(t){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return $.forEach(this.fi,(s=>{const l=ft.fromPath(s);return this.gi(t,l).next((c=>{c||i.removeEntry(l,Et.min())}))})).next((()=>(this.Vi=null,i.apply(t))))}updateLimboDocument(t,i){return this.gi(t,i).next((s=>{s?this.fi.delete(i.toString()):this.fi.add(i.toString())}))}Ti(t){return 0}gi(t,i){return $.or([()=>$.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(t,i),()=>this.persistence.Ai(t,i)])}}class ch{constructor(t,i){this.persistence=t,this.pi=new Yr((s=>d2(s.path)),((s,l)=>s.isEqual(l))),this.garbageCollector=AI(this,i)}static mi(t,i){return new ch(t,i)}Ei(){}di(t){return $.resolve()}forEachTarget(t,i){return this.persistence.getTargetCache().forEachTarget(t,i)}gr(t){const i=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next((s=>i.next((l=>s+l))))}wr(t){let i=0;return this.pr(t,(s=>{i++})).next((()=>i))}pr(t,i){return $.forEach(this.pi,((s,l)=>this.br(t,s,l).next((c=>c?$.resolve():i(l)))))}removeTargets(t,i,s){return this.persistence.getTargetCache().removeTargets(t,i,s)}removeOrphanedDocuments(t,i){let s=0;const l=this.persistence.getRemoteDocumentCache(),c=l.newChangeBuffer();return l.ii(t,(d=>this.br(t,d,i).next((g=>{g||(s++,c.removeEntry(d,Et.min()))})))).next((()=>c.apply(t))).next((()=>s))}markPotentiallyOrphaned(t,i){return this.pi.set(i,t.currentSequenceNumber),$.resolve()}removeTarget(t,i){const s=i.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,s)}addReference(t,i,s){return this.pi.set(s,t.currentSequenceNumber),$.resolve()}removeReference(t,i,s){return this.pi.set(s,t.currentSequenceNumber),$.resolve()}updateLimboDocument(t,i){return this.pi.set(i,t.currentSequenceNumber),$.resolve()}Ti(t){let i=t.key.toString().length;return t.isFoundDocument()&&(i+=Gc(t.data.value)),i}br(t,i,s){return $.or([()=>this.persistence.Ai(t,i),()=>this.persistence.getTargetCache().containsKey(t,i),()=>{const l=this.pi.get(i);return $.resolve(l!==void 0&&l>s)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eg{constructor(t,i,s,l){this.targetId=t,this.fromCache=i,this.Es=s,this.ds=l}static As(t,i){let s=Lt(),l=Lt();for(const c of i.docChanges)switch(c.type){case 0:s=s.add(c.doc.key);break;case 1:l=l.add(c.doc.key)}return new eg(t,i.fromCache,s,l)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MI{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UI{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return D1()?8:h2(Je())>0?6:4})()}initialize(t,i){this.ps=t,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(t,i,s,l){const c={result:null};return this.ys(t,i).next((d=>{c.result=d})).next((()=>{if(!c.result)return this.ws(t,i,l,s).next((d=>{c.result=d}))})).next((()=>{if(c.result)return;const d=new MI;return this.Ss(t,i,d).next((g=>{if(c.result=g,this.Vs)return this.bs(t,i,d,g.size)}))})).next((()=>c.result))}bs(t,i,s,l){return s.documentReadCount<this.fs?(Ba()<=Mt.DEBUG&&ot("QueryEngine","SDK will not create cache indexes for query:",qa(i),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),$.resolve()):(Ba()<=Mt.DEBUG&&ot("QueryEngine","Query:",qa(i),"scans",s.documentReadCount,"local documents and returns",l,"documents as results."),s.documentReadCount>this.gs*l?(Ba()<=Mt.DEBUG&&ot("QueryEngine","The SDK decides to create cache indexes for query:",qa(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Ii(i))):$.resolve())}ys(t,i){if(Wv(i))return $.resolve(null);let s=Ii(i);return this.indexManager.getIndexType(t,s).next((l=>l===0?null:(i.limit!==null&&l===1&&(i=pm(i,null,"F"),s=Ii(i)),this.indexManager.getDocumentsMatchingTarget(t,s).next((c=>{const d=Lt(...c);return this.ps.getDocuments(t,d).next((g=>this.indexManager.getMinOffset(t,s).next((y=>{const _=this.Ds(i,g);return this.Cs(i,_,d,y.readTime)?this.ys(t,pm(i,null,"F")):this.vs(t,_,i,y)}))))})))))}ws(t,i,s,l){return Wv(i)||l.isEqual(Et.min())?$.resolve(null):this.ps.getDocuments(t,s).next((c=>{const d=this.Ds(i,c);return this.Cs(i,d,s,l)?$.resolve(null):(Ba()<=Mt.DEBUG&&ot("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),qa(i)),this.vs(t,d,i,a2(l,Ul)).next((g=>g)))}))}Ds(t,i){let s=new xe(nT(t));return i.forEach(((l,c)=>{wh(t,c)&&(s=s.add(c))})),s}Cs(t,i,s,l){if(t.limit===null)return!1;if(s.size!==i.size)return!0;const c=t.limitType==="F"?i.last():i.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(l)>0)}Ss(t,i,s){return Ba()<=Mt.DEBUG&&ot("QueryEngine","Using full collection scan to execute query:",qa(i)),this.ps.getDocumentsMatchingQuery(t,i,Xs.min(),s)}vs(t,i,s,l){return this.ps.getDocumentsMatchingQuery(t,s,l).next((c=>(i.forEach((d=>{c=c.insert(d.key,d)})),c)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ng="LocalStore",LI=3e8;class PI{constructor(t,i,s,l){this.persistence=t,this.Fs=i,this.serializer=l,this.Ms=new le(Ut),this.xs=new Yr((c=>Qm(c)),Ym),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(s)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new wI(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>t.collect(i,this.Ms)))}}function kI(r,t,i,s){return new PI(r,t,i,s)}async function DT(r,t){const i=At(r);return await i.persistence.runTransaction("Handle user change","readonly",(s=>{let l;return i.mutationQueue.getAllMutationBatches(s).next((c=>(l=c,i.Bs(t),i.mutationQueue.getAllMutationBatches(s)))).next((c=>{const d=[],g=[];let y=Lt();for(const _ of l){d.push(_.batchId);for(const A of _.mutations)y=y.add(A.key)}for(const _ of c){g.push(_.batchId);for(const A of _.mutations)y=y.add(A.key)}return i.localDocuments.getDocuments(s,y).next((_=>({Ls:_,removedBatchIds:d,addedBatchIds:g})))}))}))}function zI(r,t){const i=At(r);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const l=t.batch.keys(),c=i.Ns.newChangeBuffer({trackRemovals:!0});return(function(g,y,_,A){const S=_.batch,D=S.keys();let F=$.resolve();return D.forEach((J=>{F=F.next((()=>A.getEntry(y,J))).next((et=>{const W=_.docVersions.get(J);zt(W!==null,48541),et.version.compareTo(W)<0&&(S.applyToRemoteDocument(et,_),et.isValidDocument()&&(et.setReadTime(_.commitVersion),A.addEntry(et)))}))})),F.next((()=>g.mutationQueue.removeMutationBatch(y,S)))})(i,s,t,c).next((()=>c.apply(s))).next((()=>i.mutationQueue.performConsistencyCheck(s))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(s,l,t.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(g){let y=Lt();for(let _=0;_<g.mutationResults.length;++_)g.mutationResults[_].transformResults.length>0&&(y=y.add(g.batch.mutations[_].key));return y})(t)))).next((()=>i.localDocuments.getDocuments(s,l)))}))}function OT(r){const t=At(r);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>t.Pi.getLastRemoteSnapshotVersion(i)))}function jI(r,t){const i=At(r),s=t.snapshotVersion;let l=i.Ms;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const d=i.Ns.newChangeBuffer({trackRemovals:!0});l=i.Ms;const g=[];t.targetChanges.forEach(((A,S)=>{const D=l.get(S);if(!D)return;g.push(i.Pi.removeMatchingKeys(c,A.removedDocuments,S).next((()=>i.Pi.addMatchingKeys(c,A.addedDocuments,S))));let F=D.withSequenceNumber(c.currentSequenceNumber);t.targetMismatches.get(S)!==null?F=F.withResumeToken(Ke.EMPTY_BYTE_STRING,Et.min()).withLastLimboFreeSnapshotVersion(Et.min()):A.resumeToken.approximateByteSize()>0&&(F=F.withResumeToken(A.resumeToken,s)),l=l.insert(S,F),(function(et,W,gt){return et.resumeToken.approximateByteSize()===0||W.snapshotVersion.toMicroseconds()-et.snapshotVersion.toMicroseconds()>=LI?!0:gt.addedDocuments.size+gt.modifiedDocuments.size+gt.removedDocuments.size>0})(D,F,A)&&g.push(i.Pi.updateTargetData(c,F))}));let y=is(),_=Lt();if(t.documentUpdates.forEach((A=>{t.resolvedLimboDocuments.has(A)&&g.push(i.persistence.referenceDelegate.updateLimboDocument(c,A))})),g.push(BI(c,d,t.documentUpdates).next((A=>{y=A.ks,_=A.qs}))),!s.isEqual(Et.min())){const A=i.Pi.getLastRemoteSnapshotVersion(c).next((S=>i.Pi.setTargetsMetadata(c,c.currentSequenceNumber,s)));g.push(A)}return $.waitFor(g).next((()=>d.apply(c))).next((()=>i.localDocuments.getLocalViewOfDocuments(c,y,_))).next((()=>y))})).then((c=>(i.Ms=l,c)))}function BI(r,t,i){let s=Lt(),l=Lt();return i.forEach((c=>s=s.add(c))),t.getEntries(r,s).next((c=>{let d=is();return i.forEach(((g,y)=>{const _=c.get(g);y.isFoundDocument()!==_.isFoundDocument()&&(l=l.add(g)),y.isNoDocument()&&y.version.isEqual(Et.min())?(t.removeEntry(g,y.readTime),d=d.insert(g,y)):!_.isValidDocument()||y.version.compareTo(_.version)>0||y.version.compareTo(_.version)===0&&_.hasPendingWrites?(t.addEntry(y),d=d.insert(g,y)):ot(ng,"Ignoring outdated watch update for ",g,". Current version:",_.version," Watch version:",y.version)})),{ks:d,qs:l}}))}function qI(r,t){const i=At(r);return i.persistence.runTransaction("Get next mutation batch","readonly",(s=>(t===void 0&&(t=Hm),i.mutationQueue.getNextMutationBatchAfterBatchId(s,t))))}function HI(r,t){const i=At(r);return i.persistence.runTransaction("Allocate target","readwrite",(s=>{let l;return i.Pi.getTargetData(s,t).next((c=>c?(l=c,$.resolve(l)):i.Pi.allocateTargetId(s).next((d=>(l=new qs(t,d,"TargetPurposeListen",s.currentSequenceNumber),i.Pi.addTargetData(s,l).next((()=>l)))))))})).then((s=>{const l=i.Ms.get(s.targetId);return(l===null||s.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(i.Ms=i.Ms.insert(s.targetId,s),i.xs.set(t,s.targetId)),s}))}async function Em(r,t,i){const s=At(r),l=s.Ms.get(t),c=i?"readwrite":"readwrite-primary";try{i||await s.persistence.runTransaction("Release target",c,(d=>s.persistence.referenceDelegate.removeTarget(d,l)))}catch(d){if(!co(d))throw d;ot(ng,`Failed to update sequence numbers for target ${t}: ${d}`)}s.Ms=s.Ms.remove(t),s.xs.delete(l.target)}function f0(r,t,i){const s=At(r);let l=Et.min(),c=Lt();return s.persistence.runTransaction("Execute query","readwrite",(d=>(function(y,_,A){const S=At(y),D=S.xs.get(A);return D!==void 0?$.resolve(S.Ms.get(D)):S.Pi.getTargetData(_,A)})(s,d,Ii(t)).next((g=>{if(g)return l=g.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(d,g.targetId).next((y=>{c=y}))})).next((()=>s.Fs.getDocumentsMatchingQuery(d,t,i?l:Et.min(),i?c:Lt()))).next((g=>(FI(s,V2(t),g),{documents:g,Qs:c})))))}function FI(r,t,i){let s=r.Os.get(t)||Et.min();i.forEach(((l,c)=>{c.readTime.compareTo(s)>0&&(s=c.readTime)})),r.Os.set(t,s)}class d0{constructor(){this.activeTargetIds=k2()}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class GI{constructor(){this.Mo=new d0,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,i,s){}addLocalQueryTarget(t,i=!0){return i&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,i,s){this.xo[t]=i}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new d0,Promise.resolve()}handleUserChange(t,i,s){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QI{Oo(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m0="ConnectivityMonitor";class g0{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ot(m0,"Network connectivity changed: AVAILABLE");for(const t of this.qo)t(0)}ko(){ot(m0,"Network connectivity changed: UNAVAILABLE");for(const t of this.qo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let zc=null;function Tm(){return zc===null?zc=(function(){return 268435456+Math.round(2147483648*Math.random())})():zc++,"0x"+zc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zd="RestConnection",YI={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class KI{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const i=t.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.Uo=i+"://"+t.host,this.Ko=`projects/${s}/databases/${l}`,this.Wo=this.databaseId.database===rh?`project_id=${s}`:`project_id=${s}&database_id=${l}`}Go(t,i,s,l,c){const d=Tm(),g=this.zo(t,i.toUriEncodedString());ot(Zd,`Sending RPC '${t}' ${d}:`,g,s);const y={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(y,l,c);const{host:_}=new URL(g),A=ro(_);return this.Jo(t,g,y,s,A).then((S=>(ot(Zd,`Received RPC '${t}' ${d}: `,S),S)),(S=>{throw Wa(Zd,`RPC '${t}' ${d} failed with error: `,S,"url: ",g,"request:",s),S}))}Ho(t,i,s,l,c,d){return this.Go(t,i,s,l,c)}jo(t,i,s){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+lo})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((l,c)=>t[c]=l)),s&&s.headers.forEach(((l,c)=>t[c]=l))}zo(t,i){const s=YI[t];return`${this.Uo}/v1/${i}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XI{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $e="WebChannelConnection";class $I extends KI{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,i,s,l,c){const d=Tm();return new Promise(((g,y)=>{const _=new NE;_.setWithCredentials(!0),_.listenOnce(DE.COMPLETE,(()=>{try{switch(_.getLastErrorCode()){case Fc.NO_ERROR:const S=_.getResponseJson();ot($e,`XHR for RPC '${t}' ${d} received:`,JSON.stringify(S)),g(S);break;case Fc.TIMEOUT:ot($e,`RPC '${t}' ${d} timed out`),y(new st(Y.DEADLINE_EXCEEDED,"Request time out"));break;case Fc.HTTP_ERROR:const D=_.getStatus();if(ot($e,`RPC '${t}' ${d} failed with status:`,D,"response text:",_.getResponseText()),D>0){let F=_.getResponseJson();Array.isArray(F)&&(F=F[0]);const J=F?.error;if(J&&J.status&&J.message){const et=(function(gt){const vt=gt.toLowerCase().replace(/_/g,"-");return Object.values(Y).indexOf(vt)>=0?vt:Y.UNKNOWN})(J.status);y(new st(et,J.message))}else y(new st(Y.UNKNOWN,"Server responded with status "+_.getStatus()))}else y(new st(Y.UNAVAILABLE,"Connection failed."));break;default:pt(9055,{l_:t,streamId:d,h_:_.getLastErrorCode(),P_:_.getLastError()})}}finally{ot($e,`RPC '${t}' ${d} completed.`)}}));const A=JSON.stringify(l);ot($e,`RPC '${t}' ${d} sending request:`,l),_.send(i,"POST",A,s,15)}))}T_(t,i,s){const l=Tm(),c=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],d=xE(),g=VE(),y={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},_=this.longPollingOptions.timeoutSeconds;_!==void 0&&(y.longPollingTimeout=Math.round(1e3*_)),this.useFetchStreams&&(y.useFetchStreams=!0),this.jo(y.initMessageHeaders,i,s),y.encodeInitMessageHeaders=!0;const A=c.join("");ot($e,`Creating RPC '${t}' stream ${l}: ${A}`,y);const S=d.createWebChannel(A,y);this.I_(S);let D=!1,F=!1;const J=new XI({Yo:W=>{F?ot($e,`Not sending because RPC '${t}' stream ${l} is closed:`,W):(D||(ot($e,`Opening RPC '${t}' stream ${l} transport.`),S.open(),D=!0),ot($e,`RPC '${t}' stream ${l} sending:`,W),S.send(W))},Zo:()=>S.close()}),et=(W,gt,vt)=>{W.listen(gt,(yt=>{try{vt(yt)}catch(bt){setTimeout((()=>{throw bt}),0)}}))};return et(S,Tl.EventType.OPEN,(()=>{F||(ot($e,`RPC '${t}' stream ${l} transport opened.`),J.o_())})),et(S,Tl.EventType.CLOSE,(()=>{F||(F=!0,ot($e,`RPC '${t}' stream ${l} transport closed`),J.a_(),this.E_(S))})),et(S,Tl.EventType.ERROR,(W=>{F||(F=!0,Wa($e,`RPC '${t}' stream ${l} transport errored. Name:`,W.name,"Message:",W.message),J.a_(new st(Y.UNAVAILABLE,"The operation could not be completed")))})),et(S,Tl.EventType.MESSAGE,(W=>{if(!F){const gt=W.data[0];zt(!!gt,16349);const vt=gt,yt=vt?.error||vt[0]?.error;if(yt){ot($e,`RPC '${t}' stream ${l} received error:`,yt);const bt=yt.status;let Kt=(function(b){const I=Ie[b];if(I!==void 0)return yT(I)})(bt),Ct=yt.message;Kt===void 0&&(Kt=Y.INTERNAL,Ct="Unknown error status: "+bt+" with message "+yt.message),F=!0,J.a_(new st(Kt,Ct)),S.close()}else ot($e,`RPC '${t}' stream ${l} received:`,gt),J.u_(gt)}})),et(g,OE.STAT_EVENT,(W=>{W.stat===um.PROXY?ot($e,`RPC '${t}' stream ${l} detected buffering proxy`):W.stat===um.NOPROXY&&ot($e,`RPC '${t}' stream ${l} detected no buffering proxy`)})),setTimeout((()=>{J.__()}),0),J}terminate(){this.c_.forEach((t=>t.close())),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter((i=>i===t))}}function Jd(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nh(r){return new tI(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ig{constructor(t,i,s=1e3,l=1.5,c=6e4){this.Mi=t,this.timerId=i,this.d_=s,this.A_=l,this.R_=c,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const i=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),l=Math.max(0,i-s);l>0&&ot("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.V_} ms, delay with jitter: ${i} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,l,(()=>(this.f_=Date.now(),t()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p0="PersistentStream";class VT{constructor(t,i,s,l,c,d,g,y){this.Mi=t,this.S_=s,this.b_=l,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=g,this.listener=y,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new ig(t,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(t){this.Q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,i){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():i&&i.code===Y.RESOURCE_EXHAUSTED?(ns(i.toString()),ns("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===Y.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.r_(i)}K_(){}auth(){this.state=1;const t=this.W_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,l])=>{this.D_===i&&this.G_(s,l)}),(s=>{t((()=>{const l=new st(Y.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(l)}))}))}G_(t,i){const s=this.W_(this.D_);this.stream=this.j_(t,i),this.stream.Xo((()=>{s((()=>this.listener.Xo()))})),this.stream.t_((()=>{s((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((l=>{s((()=>this.z_(l)))})),this.stream.onMessage((l=>{s((()=>++this.F_==1?this.J_(l):this.onNext(l)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return ot(p0,`close with error: ${t}`),this.stream=null,this.close(4,t)}W_(t){return i=>{this.Mi.enqueueAndForget((()=>this.D_===t?i():(ot(p0,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class ZI extends VT{constructor(t,i,s,l,c,d){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,s,l,d),this.serializer=c}j_(t,i){return this.connection.T_("Listen",t,i)}J_(t){return this.onNext(t)}onNext(t){this.M_.reset();const i=sI(this.serializer,t),s=(function(c){if(!("targetChange"in c))return Et.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?Et.min():d.readTime?bn(d.readTime):Et.min()})(t);return this.listener.H_(i,s)}Y_(t){const i={};i.database=vm(this.serializer),i.addTarget=(function(c,d){let g;const y=d.target;if(g=mm(y)?{documents:aI(c,y)}:{query:oI(c,y).ft},g.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){g.resumeToken=ET(c,d.resumeToken);const _=ym(c,d.expectedCount);_!==null&&(g.expectedCount=_)}else if(d.snapshotVersion.compareTo(Et.min())>0){g.readTime=lh(c,d.snapshotVersion.toTimestamp());const _=ym(c,d.expectedCount);_!==null&&(g.expectedCount=_)}return g})(this.serializer,t);const s=uI(this.serializer,t);s&&(i.labels=s),this.q_(i)}Z_(t){const i={};i.database=vm(this.serializer),i.removeTarget=t,this.q_(i)}}class JI extends VT{constructor(t,i,s,l,c,d){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,s,l,d),this.serializer=c}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(t,i){return this.connection.T_("Write",t,i)}J_(t){return zt(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,zt(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){zt(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const i=rI(t.writeResults,t.commitTime),s=bn(t.commitTime);return this.listener.na(s,i)}ra(){const t={};t.database=vm(this.serializer),this.q_(t)}ea(t){const i={streamToken:this.lastStreamToken,writes:t.map((s=>bT(this.serializer,s)))};this.q_(i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WI{}class tC extends WI{constructor(t,i,s,l){super(),this.authCredentials=t,this.appCheckCredentials=i,this.connection=s,this.serializer=l,this.ia=!1}sa(){if(this.ia)throw new st(Y.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,i,s,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Go(t,_m(i,s),l,c,d))).catch((c=>{throw c.name==="FirebaseError"?(c.code===Y.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new st(Y.UNKNOWN,c.toString())}))}Ho(t,i,s,l,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,g])=>this.connection.Ho(t,_m(i,s),l,d,g,c))).catch((d=>{throw d.name==="FirebaseError"?(d.code===Y.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new st(Y.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class eC{constructor(t,i){this.asyncQueue=t,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const i=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(ns(i),this.aa=!1):ot("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gr="RemoteStore";class nC{constructor(t,i,s,l,c){this.localStore=t,this.datastore=i,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=c,this.Aa.Oo((d=>{s.enqueueAndForget((async()=>{Kr(this)&&(ot(Gr,"Restarting streams for network reachability change."),await(async function(y){const _=At(y);_.Ea.add(4),await tu(_),_.Ra.set("Unknown"),_.Ea.delete(4),await Dh(_)})(this))}))})),this.Ra=new eC(s,l)}}async function Dh(r){if(Kr(r))for(const t of r.da)await t(!0)}async function tu(r){for(const t of r.da)await t(!1)}function xT(r,t){const i=At(r);i.Ia.has(t.targetId)||(i.Ia.set(t.targetId,t),og(i)?ag(i):fo(i).O_()&&rg(i,t))}function sg(r,t){const i=At(r),s=fo(i);i.Ia.delete(t),s.O_()&&MT(i,t),i.Ia.size===0&&(s.O_()?s.L_():Kr(i)&&i.Ra.set("Unknown"))}function rg(r,t){if(r.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Et.min())>0){const i=r.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(i)}fo(r).Y_(t)}function MT(r,t){r.Va.Ue(t),fo(r).Z_(t)}function ag(r){r.Va=new $2({getRemoteKeysForTarget:t=>r.remoteSyncer.getRemoteKeysForTarget(t),At:t=>r.Ia.get(t)||null,ht:()=>r.datastore.serializer.databaseId}),fo(r).start(),r.Ra.ua()}function og(r){return Kr(r)&&!fo(r).x_()&&r.Ia.size>0}function Kr(r){return At(r).Ea.size===0}function UT(r){r.Va=void 0}async function iC(r){r.Ra.set("Online")}async function sC(r){r.Ia.forEach(((t,i)=>{rg(r,t)}))}async function rC(r,t){UT(r),og(r)?(r.Ra.ha(t),ag(r)):r.Ra.set("Unknown")}async function aC(r,t,i){if(r.Ra.set("Online"),t instanceof vT&&t.state===2&&t.cause)try{await(async function(l,c){const d=c.cause;for(const g of c.targetIds)l.Ia.has(g)&&(await l.remoteSyncer.rejectListen(g,d),l.Ia.delete(g),l.Va.removeTarget(g))})(r,t)}catch(s){ot(Gr,"Failed to remove targets %s: %s ",t.targetIds.join(","),s),await hh(r,s)}else if(t instanceof Kc?r.Va.Ze(t):t instanceof _T?r.Va.st(t):r.Va.tt(t),!i.isEqual(Et.min()))try{const s=await OT(r.localStore);i.compareTo(s)>=0&&await(function(c,d){const g=c.Va.Tt(d);return g.targetChanges.forEach(((y,_)=>{if(y.resumeToken.approximateByteSize()>0){const A=c.Ia.get(_);A&&c.Ia.set(_,A.withResumeToken(y.resumeToken,d))}})),g.targetMismatches.forEach(((y,_)=>{const A=c.Ia.get(y);if(!A)return;c.Ia.set(y,A.withResumeToken(Ke.EMPTY_BYTE_STRING,A.snapshotVersion)),MT(c,y);const S=new qs(A.target,y,_,A.sequenceNumber);rg(c,S)})),c.remoteSyncer.applyRemoteEvent(g)})(r,i)}catch(s){ot(Gr,"Failed to raise snapshot:",s),await hh(r,s)}}async function hh(r,t,i){if(!co(t))throw t;r.Ea.add(1),await tu(r),r.Ra.set("Offline"),i||(i=()=>OT(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{ot(Gr,"Retrying IndexedDB access"),await i(),r.Ea.delete(1),await Dh(r)}))}function LT(r,t){return t().catch((i=>hh(r,i,t)))}async function Oh(r){const t=At(r),i=Ws(t);let s=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:Hm;for(;oC(t);)try{const l=await qI(t.localStore,s);if(l===null){t.Ta.length===0&&i.L_();break}s=l.batchId,lC(t,l)}catch(l){await hh(t,l)}PT(t)&&kT(t)}function oC(r){return Kr(r)&&r.Ta.length<10}function lC(r,t){r.Ta.push(t);const i=Ws(r);i.O_()&&i.X_&&i.ea(t.mutations)}function PT(r){return Kr(r)&&!Ws(r).x_()&&r.Ta.length>0}function kT(r){Ws(r).start()}async function uC(r){Ws(r).ra()}async function cC(r){const t=Ws(r);for(const i of r.Ta)t.ea(i.mutations)}async function hC(r,t,i){const s=r.Ta.shift(),l=$m.from(s,t,i);await LT(r,(()=>r.remoteSyncer.applySuccessfulWrite(l))),await Oh(r)}async function fC(r,t){t&&Ws(r).X_&&await(async function(s,l){if((function(d){return pT(d)&&d!==Y.ABORTED})(l.code)){const c=s.Ta.shift();Ws(s).B_(),await LT(s,(()=>s.remoteSyncer.rejectFailedWrite(c.batchId,l))),await Oh(s)}})(r,t),PT(r)&&kT(r)}async function y0(r,t){const i=At(r);i.asyncQueue.verifyOperationInProgress(),ot(Gr,"RemoteStore received new credentials");const s=Kr(i);i.Ea.add(3),await tu(i),s&&i.Ra.set("Unknown"),await i.remoteSyncer.handleCredentialChange(t),i.Ea.delete(3),await Dh(i)}async function dC(r,t){const i=At(r);t?(i.Ea.delete(2),await Dh(i)):t||(i.Ea.add(2),await tu(i),i.Ra.set("Unknown"))}function fo(r){return r.ma||(r.ma=(function(i,s,l){const c=At(i);return c.sa(),new ZI(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(r.datastore,r.asyncQueue,{Xo:iC.bind(null,r),t_:sC.bind(null,r),r_:rC.bind(null,r),H_:aC.bind(null,r)}),r.da.push((async t=>{t?(r.ma.B_(),og(r)?ag(r):r.Ra.set("Unknown")):(await r.ma.stop(),UT(r))}))),r.ma}function Ws(r){return r.fa||(r.fa=(function(i,s,l){const c=At(i);return c.sa(),new JI(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(r.datastore,r.asyncQueue,{Xo:()=>Promise.resolve(),t_:uC.bind(null,r),r_:fC.bind(null,r),ta:cC.bind(null,r),na:hC.bind(null,r)}),r.da.push((async t=>{t?(r.fa.B_(),await Oh(r)):(await r.fa.stop(),r.Ta.length>0&&(ot(Gr,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lg{constructor(t,i,s,l,c){this.asyncQueue=t,this.timerId=i,this.targetTimeMs=s,this.op=l,this.removalCallback=c,this.deferred=new Ri,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,i,s,l,c){const d=Date.now()+s,g=new lg(t,i,d,l,c);return g.start(s),g}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new st(Y.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function ug(r,t){if(ns("AsyncQueue",`${t}: ${r}`),co(r))return new st(Y.UNAVAILABLE,`${t}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xa{static emptySet(t){return new Xa(t.comparator)}constructor(t){this.comparator=t?(i,s)=>t(i,s)||ft.comparator(i.key,s.key):(i,s)=>ft.comparator(i.key,s.key),this.keyedMap=Al(),this.sortedSet=new le(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const i=this.keyedMap.get(t);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((i,s)=>(t(i),!1)))}add(t){const i=this.delete(t.key);return i.copy(i.keyedMap.insert(t.key,t),i.sortedSet.insert(t,null))}delete(t){const i=this.get(t);return i?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(i)):this}isEqual(t){if(!(t instanceof Xa)||this.size!==t.size)return!1;const i=this.sortedSet.getIterator(),s=t.sortedSet.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=s.getNext().key;if(!l.isEqual(c))return!1}return!0}toString(){const t=[];return this.forEach((i=>{t.push(i.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,i){const s=new Xa;return s.comparator=this.comparator,s.keyedMap=t,s.sortedSet=i,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _0{constructor(){this.ga=new le(ft.comparator)}track(t){const i=t.doc.key,s=this.ga.get(i);s?t.type!==0&&s.type===3?this.ga=this.ga.insert(i,t):t.type===3&&s.type!==1?this.ga=this.ga.insert(i,{type:s.type,doc:t.doc}):t.type===2&&s.type===2?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):t.type===2&&s.type===0?this.ga=this.ga.insert(i,{type:0,doc:t.doc}):t.type===1&&s.type===0?this.ga=this.ga.remove(i):t.type===1&&s.type===2?this.ga=this.ga.insert(i,{type:1,doc:s.doc}):t.type===0&&s.type===1?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):pt(63341,{Rt:t,pa:s}):this.ga=this.ga.insert(i,t)}ya(){const t=[];return this.ga.inorderTraversal(((i,s)=>{t.push(s)})),t}}class so{constructor(t,i,s,l,c,d,g,y,_){this.query=t,this.docs=i,this.oldDocs=s,this.docChanges=l,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=g,this.excludesMetadataChanges=y,this.hasCachedResults=_}static fromInitialDocuments(t,i,s,l,c){const d=[];return i.forEach((g=>{d.push({type:0,doc:g})})),new so(t,i,Xa.emptySet(i),d,s,l,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&bh(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const i=this.docChanges,s=t.docChanges;if(i.length!==s.length)return!1;for(let l=0;l<i.length;l++)if(i[l].type!==s[l].type||!i[l].doc.isEqual(s[l].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mC{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((t=>t.Da()))}}class gC{constructor(){this.queries=v0(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,s){const l=At(i),c=l.queries;l.queries=v0(),c.forEach(((d,g)=>{for(const y of g.Sa)y.onError(s)}))})(this,new st(Y.ABORTED,"Firestore shutting down"))}}function v0(){return new Yr((r=>eT(r)),bh)}async function cg(r,t){const i=At(r);let s=3;const l=t.query;let c=i.queries.get(l);c?!c.ba()&&t.Da()&&(s=2):(c=new mC,s=t.Da()?0:1);try{switch(s){case 0:c.wa=await i.onListen(l,!0);break;case 1:c.wa=await i.onListen(l,!1);break;case 2:await i.onFirstRemoteStoreListen(l)}}catch(d){const g=ug(d,`Initialization of query '${qa(t.query)}' failed`);return void t.onError(g)}i.queries.set(l,c),c.Sa.push(t),t.va(i.onlineState),c.wa&&t.Fa(c.wa)&&fg(i)}async function hg(r,t){const i=At(r),s=t.query;let l=3;const c=i.queries.get(s);if(c){const d=c.Sa.indexOf(t);d>=0&&(c.Sa.splice(d,1),c.Sa.length===0?l=t.Da()?0:1:!c.ba()&&t.Da()&&(l=2))}switch(l){case 0:return i.queries.delete(s),i.onUnlisten(s,!0);case 1:return i.queries.delete(s),i.onUnlisten(s,!1);case 2:return i.onLastRemoteStoreUnlisten(s);default:return}}function pC(r,t){const i=At(r);let s=!1;for(const l of t){const c=l.query,d=i.queries.get(c);if(d){for(const g of d.Sa)g.Fa(l)&&(s=!0);d.wa=l}}s&&fg(i)}function yC(r,t,i){const s=At(r),l=s.queries.get(t);if(l)for(const c of l.Sa)c.onError(i);s.queries.delete(t)}function fg(r){r.Ca.forEach((t=>{t.next()}))}var Am,E0;(E0=Am||(Am={})).Ma="default",E0.Cache="cache";class dg{constructor(t,i,s){this.query=t,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(t){if(!this.options.includeMetadataChanges){const s=[];for(const l of t.docChanges)l.type!==3&&s.push(l);t=new so(t.query,t.docs,t.oldDocs,s,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let i=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),i=!0):this.La(t,this.onlineState)&&(this.ka(t),i=!0),this.Na=t,i}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),i=!0),i}La(t,i){if(!t.fromCache||!this.Da())return!0;const s=i!=="Offline";return(!this.options.qa||!s)&&(!t.docs.isEmpty()||t.hasCachedResults||i==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(t){t=so.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==Am.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zT{constructor(t){this.key=t}}class jT{constructor(t){this.key=t}}class _C{constructor(t,i){this.query=t,this.Ya=i,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Lt(),this.mutatedKeys=Lt(),this.eu=nT(t),this.tu=new Xa(this.eu)}get nu(){return this.Ya}ru(t,i){const s=i?i.iu:new _0,l=i?i.tu:this.tu;let c=i?i.mutatedKeys:this.mutatedKeys,d=l,g=!1;const y=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,_=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(t.inorderTraversal(((A,S)=>{const D=l.get(A),F=wh(this.query,S)?S:null,J=!!D&&this.mutatedKeys.has(D.key),et=!!F&&(F.hasLocalMutations||this.mutatedKeys.has(F.key)&&F.hasCommittedMutations);let W=!1;D&&F?D.data.isEqual(F.data)?J!==et&&(s.track({type:3,doc:F}),W=!0):this.su(D,F)||(s.track({type:2,doc:F}),W=!0,(y&&this.eu(F,y)>0||_&&this.eu(F,_)<0)&&(g=!0)):!D&&F?(s.track({type:0,doc:F}),W=!0):D&&!F&&(s.track({type:1,doc:D}),W=!0,(y||_)&&(g=!0)),W&&(F?(d=d.add(F),c=et?c.add(A):c.delete(A)):(d=d.delete(A),c=c.delete(A)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const A=this.query.limitType==="F"?d.last():d.first();d=d.delete(A.key),c=c.delete(A.key),s.track({type:1,doc:A})}return{tu:d,iu:s,Cs:g,mutatedKeys:c}}su(t,i){return t.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(t,i,s,l){const c=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const d=t.iu.ya();d.sort(((A,S)=>(function(F,J){const et=W=>{switch(W){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return pt(20277,{Rt:W})}};return et(F)-et(J)})(A.type,S.type)||this.eu(A.doc,S.doc))),this.ou(s),l=l??!1;const g=i&&!l?this._u():[],y=this.Xa.size===0&&this.current&&!l?1:0,_=y!==this.Za;return this.Za=y,d.length!==0||_?{snapshot:new so(this.query,t.tu,c,d,t.mutatedKeys,y===0,_,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:g}:{au:g}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new _0,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(t){return!this.Ya.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((i=>this.Ya=this.Ya.add(i))),t.modifiedDocuments.forEach((i=>{})),t.removedDocuments.forEach((i=>this.Ya=this.Ya.delete(i))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Xa;this.Xa=Lt(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))}));const i=[];return t.forEach((s=>{this.Xa.has(s)||i.push(new jT(s))})),this.Xa.forEach((s=>{t.has(s)||i.push(new zT(s))})),i}cu(t){this.Ya=t.Qs,this.Xa=Lt();const i=this.ru(t.documents);return this.applyChanges(i,!0)}lu(){return so.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const mg="SyncEngine";class vC{constructor(t,i,s){this.query=t,this.targetId=i,this.view=s}}class EC{constructor(t){this.key=t,this.hu=!1}}class TC{constructor(t,i,s,l,c,d){this.localStore=t,this.remoteStore=i,this.eventManager=s,this.sharedClientState=l,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new Yr((g=>eT(g)),bh),this.Iu=new Map,this.Eu=new Set,this.du=new le(ft.comparator),this.Au=new Map,this.Ru=new Wm,this.Vu={},this.mu=new Map,this.fu=io.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function AC(r,t,i=!0){const s=QT(r);let l;const c=s.Tu.get(t);return c?(s.sharedClientState.addLocalQueryTarget(c.targetId),l=c.view.lu()):l=await BT(s,t,i,!0),l}async function SC(r,t){const i=QT(r);await BT(i,t,!0,!1)}async function BT(r,t,i,s){const l=await HI(r.localStore,Ii(t)),c=l.targetId,d=r.sharedClientState.addLocalQueryTarget(c,i);let g;return s&&(g=await bC(r,t,c,d==="current",l.resumeToken)),r.isPrimaryClient&&i&&xT(r.remoteStore,l),g}async function bC(r,t,i,s,l){r.pu=(S,D,F)=>(async function(et,W,gt,vt){let yt=W.view.ru(gt);yt.Cs&&(yt=await f0(et.localStore,W.query,!1).then((({documents:N})=>W.view.ru(N,yt))));const bt=vt&&vt.targetChanges.get(W.targetId),Kt=vt&&vt.targetMismatches.get(W.targetId)!=null,Ct=W.view.applyChanges(yt,et.isPrimaryClient,bt,Kt);return A0(et,W.targetId,Ct.au),Ct.snapshot})(r,S,D,F);const c=await f0(r.localStore,t,!0),d=new _C(t,c.Qs),g=d.ru(c.documents),y=Wl.createSynthesizedTargetChangeForCurrentChange(i,s&&r.onlineState!=="Offline",l),_=d.applyChanges(g,r.isPrimaryClient,y);A0(r,i,_.au);const A=new vC(t,i,d);return r.Tu.set(t,A),r.Iu.has(i)?r.Iu.get(i).push(t):r.Iu.set(i,[t]),_.snapshot}async function wC(r,t,i){const s=At(r),l=s.Tu.get(t),c=s.Iu.get(l.targetId);if(c.length>1)return s.Iu.set(l.targetId,c.filter((d=>!bh(d,t)))),void s.Tu.delete(t);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(l.targetId),s.sharedClientState.isActiveQueryTarget(l.targetId)||await Em(s.localStore,l.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(l.targetId),i&&sg(s.remoteStore,l.targetId),Sm(s,l.targetId)})).catch(uo)):(Sm(s,l.targetId),await Em(s.localStore,l.targetId,!0))}async function RC(r,t){const i=At(r),s=i.Tu.get(t),l=i.Iu.get(s.targetId);i.isPrimaryClient&&l.length===1&&(i.sharedClientState.removeLocalQueryTarget(s.targetId),sg(i.remoteStore,s.targetId))}async function IC(r,t,i){const s=MC(r);try{const l=await(function(d,g){const y=At(d),_=se.now(),A=g.reduce(((F,J)=>F.add(J.key)),Lt());let S,D;return y.persistence.runTransaction("Locally write mutations","readwrite",(F=>{let J=is(),et=Lt();return y.Ns.getEntries(F,A).next((W=>{J=W,J.forEach(((gt,vt)=>{vt.isValidDocument()||(et=et.add(gt))}))})).next((()=>y.localDocuments.getOverlayedDocuments(F,J))).next((W=>{S=W;const gt=[];for(const vt of g){const yt=F2(vt,S.get(vt.key).overlayedDocument);yt!=null&&gt.push(new nr(vt.key,yt,YE(yt.value.mapValue),fn.exists(!0)))}return y.mutationQueue.addMutationBatch(F,_,gt,g)})).next((W=>{D=W;const gt=W.applyToLocalDocumentSet(S,et);return y.documentOverlayCache.saveOverlays(F,W.batchId,gt)}))})).then((()=>({batchId:D.batchId,changes:sT(S)})))})(s.localStore,t);s.sharedClientState.addPendingMutation(l.batchId),(function(d,g,y){let _=d.Vu[d.currentUser.toKey()];_||(_=new le(Ut)),_=_.insert(g,y),d.Vu[d.currentUser.toKey()]=_})(s,l.batchId,i),await eu(s,l.changes),await Oh(s.remoteStore)}catch(l){const c=ug(l,"Failed to persist write");i.reject(c)}}async function qT(r,t){const i=At(r);try{const s=await jI(i.localStore,t);t.targetChanges.forEach(((l,c)=>{const d=i.Au.get(c);d&&(zt(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1,22616),l.addedDocuments.size>0?d.hu=!0:l.modifiedDocuments.size>0?zt(d.hu,14607):l.removedDocuments.size>0&&(zt(d.hu,42227),d.hu=!1))})),await eu(i,s,t)}catch(s){await uo(s)}}function T0(r,t,i){const s=At(r);if(s.isPrimaryClient&&i===0||!s.isPrimaryClient&&i===1){const l=[];s.Tu.forEach(((c,d)=>{const g=d.view.va(t);g.snapshot&&l.push(g.snapshot)})),(function(d,g){const y=At(d);y.onlineState=g;let _=!1;y.queries.forEach(((A,S)=>{for(const D of S.Sa)D.va(g)&&(_=!0)})),_&&fg(y)})(s.eventManager,t),l.length&&s.Pu.H_(l),s.onlineState=t,s.isPrimaryClient&&s.sharedClientState.setOnlineState(t)}}async function CC(r,t,i){const s=At(r);s.sharedClientState.updateQueryState(t,"rejected",i);const l=s.Au.get(t),c=l&&l.key;if(c){let d=new le(ft.comparator);d=d.insert(c,ze.newNoDocument(c,Et.min()));const g=Lt().add(c),y=new Ch(Et.min(),new Map,new le(Ut),d,g);await qT(s,y),s.du=s.du.remove(c),s.Au.delete(t),gg(s)}else await Em(s.localStore,t,!1).then((()=>Sm(s,t,i))).catch(uo)}async function NC(r,t){const i=At(r),s=t.batch.batchId;try{const l=await zI(i.localStore,t);FT(i,s,null),HT(i,s),i.sharedClientState.updateMutationState(s,"acknowledged"),await eu(i,l)}catch(l){await uo(l)}}async function DC(r,t,i){const s=At(r);try{const l=await(function(d,g){const y=At(d);return y.persistence.runTransaction("Reject batch","readwrite-primary",(_=>{let A;return y.mutationQueue.lookupMutationBatch(_,g).next((S=>(zt(S!==null,37113),A=S.keys(),y.mutationQueue.removeMutationBatch(_,S)))).next((()=>y.mutationQueue.performConsistencyCheck(_))).next((()=>y.documentOverlayCache.removeOverlaysForBatchId(_,A,g))).next((()=>y.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,A))).next((()=>y.localDocuments.getDocuments(_,A)))}))})(s.localStore,t);FT(s,t,i),HT(s,t),s.sharedClientState.updateMutationState(t,"rejected",i),await eu(s,l)}catch(l){await uo(l)}}function HT(r,t){(r.mu.get(t)||[]).forEach((i=>{i.resolve()})),r.mu.delete(t)}function FT(r,t,i){const s=At(r);let l=s.Vu[s.currentUser.toKey()];if(l){const c=l.get(t);c&&(i?c.reject(i):c.resolve(),l=l.remove(t)),s.Vu[s.currentUser.toKey()]=l}}function Sm(r,t,i=null){r.sharedClientState.removeLocalQueryTarget(t);for(const s of r.Iu.get(t))r.Tu.delete(s),i&&r.Pu.yu(s,i);r.Iu.delete(t),r.isPrimaryClient&&r.Ru.jr(t).forEach((s=>{r.Ru.containsKey(s)||GT(r,s)}))}function GT(r,t){r.Eu.delete(t.path.canonicalString());const i=r.du.get(t);i!==null&&(sg(r.remoteStore,i),r.du=r.du.remove(t),r.Au.delete(i),gg(r))}function A0(r,t,i){for(const s of i)s instanceof zT?(r.Ru.addReference(s.key,t),OC(r,s)):s instanceof jT?(ot(mg,"Document no longer in limbo: "+s.key),r.Ru.removeReference(s.key,t),r.Ru.containsKey(s.key)||GT(r,s.key)):pt(19791,{wu:s})}function OC(r,t){const i=t.key,s=i.path.canonicalString();r.du.get(i)||r.Eu.has(s)||(ot(mg,"New document in limbo: "+i),r.Eu.add(s),gg(r))}function gg(r){for(;r.Eu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const t=r.Eu.values().next().value;r.Eu.delete(t);const i=new ft(Wt.fromString(t)),s=r.fu.next();r.Au.set(s,new EC(i)),r.du=r.du.insert(i,s),xT(r.remoteStore,new qs(Ii(Sh(i.path)),s,"TargetPurposeLimboResolution",Th.ce))}}async function eu(r,t,i){const s=At(r),l=[],c=[],d=[];s.Tu.isEmpty()||(s.Tu.forEach(((g,y)=>{d.push(s.pu(y,t,i).then((_=>{if((_||i)&&s.isPrimaryClient){const A=_?!_.fromCache:i?.targetChanges.get(y.targetId)?.current;s.sharedClientState.updateQueryState(y.targetId,A?"current":"not-current")}if(_){l.push(_);const A=eg.As(y.targetId,_);c.push(A)}})))})),await Promise.all(d),s.Pu.H_(l),await(async function(y,_){const A=At(y);try{await A.persistence.runTransaction("notifyLocalViewChanges","readwrite",(S=>$.forEach(_,(D=>$.forEach(D.Es,(F=>A.persistence.referenceDelegate.addReference(S,D.targetId,F))).next((()=>$.forEach(D.ds,(F=>A.persistence.referenceDelegate.removeReference(S,D.targetId,F)))))))))}catch(S){if(!co(S))throw S;ot(ng,"Failed to update sequence numbers: "+S)}for(const S of _){const D=S.targetId;if(!S.fromCache){const F=A.Ms.get(D),J=F.snapshotVersion,et=F.withLastLimboFreeSnapshotVersion(J);A.Ms=A.Ms.insert(D,et)}}})(s.localStore,c))}async function VC(r,t){const i=At(r);if(!i.currentUser.isEqual(t)){ot(mg,"User change. New user:",t.toKey());const s=await DT(i.localStore,t);i.currentUser=t,(function(c,d){c.mu.forEach((g=>{g.forEach((y=>{y.reject(new st(Y.CANCELLED,d))}))})),c.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(t,s.removedBatchIds,s.addedBatchIds),await eu(i,s.Ls)}}function xC(r,t){const i=At(r),s=i.Au.get(t);if(s&&s.hu)return Lt().add(s.key);{let l=Lt();const c=i.Iu.get(t);if(!c)return l;for(const d of c){const g=i.Tu.get(d);l=l.unionWith(g.view.nu)}return l}}function QT(r){const t=At(r);return t.remoteStore.remoteSyncer.applyRemoteEvent=qT.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=xC.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=CC.bind(null,t),t.Pu.H_=pC.bind(null,t.eventManager),t.Pu.yu=yC.bind(null,t.eventManager),t}function MC(r){const t=At(r);return t.remoteStore.remoteSyncer.applySuccessfulWrite=NC.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=DC.bind(null,t),t}class fh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=Nh(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,i){return null}Mu(t,i){return null}vu(t){return kI(this.persistence,new UI,t.initialUser,this.serializer)}Cu(t){return new NT(tg.mi,this.serializer)}Du(t){return new GI}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}fh.provider={build:()=>new fh};class UC extends fh{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,i){zt(this.persistence.referenceDelegate instanceof ch,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new EI(s,t.asyncQueue,i)}Cu(t){const i=this.cacheSizeBytes!==void 0?hn.withCacheSize(this.cacheSizeBytes):hn.DEFAULT;return new NT((s=>ch.mi(s,i)),this.serializer)}}class bm{async initialize(t,i){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>T0(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=VC.bind(null,this.syncEngine),await dC(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new gC})()}createDatastore(t){const i=Nh(t.databaseInfo.databaseId),s=(function(c){return new $I(c)})(t.databaseInfo);return(function(c,d,g,y){return new tC(c,d,g,y)})(t.authCredentials,t.appCheckCredentials,s,i)}createRemoteStore(t){return(function(s,l,c,d,g){return new nC(s,l,c,d,g)})(this.localStore,this.datastore,t.asyncQueue,(i=>T0(this.syncEngine,i,0)),(function(){return g0.v()?new g0:new QI})())}createSyncEngine(t,i){return(function(l,c,d,g,y,_,A){const S=new TC(l,c,d,g,y,_);return A&&(S.gu=!0),S})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const s=At(i);ot(Gr,"RemoteStore shutting down."),s.Ea.add(5),await tu(s),s.Aa.shutdown(),s.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}bm.provider={build:()=>new bm};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pg{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):ns("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,i){setTimeout((()=>{this.muted||t(i)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LC{constructor(t){this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}async lookup(t){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw this.lastTransactionError=new st(Y.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),this.lastTransactionError;const i=await(async function(l,c){const d=At(l),g={documents:c.map((S=>uh(d.serializer,S)))},y=await d.Ho("BatchGetDocuments",d.serializer.databaseId,Wt.emptyPath(),g,c.length),_=new Map;y.forEach((S=>{const D=iI(d.serializer,S);_.set(D.key.toString(),D)}));const A=[];return c.forEach((S=>{const D=_.get(S.toString());zt(!!D,55234,{key:S}),A.push(D)})),A})(this.datastore,t);return i.forEach((s=>this.recordVersion(s))),i}set(t,i){this.write(i.toMutation(t,this.precondition(t))),this.writtenDocs.add(t.toString())}update(t,i){try{this.write(i.toMutation(t,this.preconditionForUpdate(t)))}catch(s){this.lastTransactionError=s}this.writtenDocs.add(t.toString())}delete(t){this.write(new Xm(t,this.precondition(t))),this.writtenDocs.add(t.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastTransactionError)throw this.lastTransactionError;const t=this.readVersions;this.mutations.forEach((i=>{t.delete(i.key.toString())})),t.forEach(((i,s)=>{const l=ft.fromPath(s);this.mutations.push(new gT(l,this.precondition(l)))})),await(async function(s,l){const c=At(s),d={writes:l.map((g=>bT(c.serializer,g)))};await c.Go("Commit",c.serializer.databaseId,Wt.emptyPath(),d)})(this.datastore,this.mutations),this.committed=!0}recordVersion(t){let i;if(t.isFoundDocument())i=t.version;else{if(!t.isNoDocument())throw pt(50498,{Gu:t.constructor.name});i=Et.min()}const s=this.readVersions.get(t.key.toString());if(s){if(!i.isEqual(s))throw new st(Y.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(t.key.toString(),i)}precondition(t){const i=this.readVersions.get(t.toString());return!this.writtenDocs.has(t.toString())&&i?i.isEqual(Et.min())?fn.exists(!1):fn.updateTime(i):fn.none()}preconditionForUpdate(t){const i=this.readVersions.get(t.toString());if(!this.writtenDocs.has(t.toString())&&i){if(i.isEqual(Et.min()))throw new st(Y.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return fn.updateTime(i)}return fn.exists(!0)}write(t){this.ensureCommitNotCalled(),this.mutations.push(t)}ensureCommitNotCalled(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PC{constructor(t,i,s,l,c){this.asyncQueue=t,this.datastore=i,this.options=s,this.updateFunction=l,this.deferred=c,this.zu=s.maxAttempts,this.M_=new ig(this.asyncQueue,"transaction_retry")}ju(){this.zu-=1,this.Ju()}Ju(){this.M_.p_((async()=>{const t=new LC(this.datastore),i=this.Hu(t);i&&i.then((s=>{this.asyncQueue.enqueueAndForget((()=>t.commit().then((()=>{this.deferred.resolve(s)})).catch((l=>{this.Yu(l)}))))})).catch((s=>{this.Yu(s)}))}))}Hu(t){try{const i=this.updateFunction(t);return!Zl(i)&&i.catch&&i.then?i:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(i){return this.deferred.reject(i),null}}Yu(t){this.zu>0&&this.Zu(t)?(this.zu-=1,this.asyncQueue.enqueueAndForget((()=>(this.Ju(),Promise.resolve())))):this.deferred.reject(t)}Zu(t){if(t?.name==="FirebaseError"){const i=t.code;return i==="aborted"||i==="failed-precondition"||i==="already-exists"||!pT(i)}return!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tr="FirestoreClient";class kC{constructor(t,i,s,l,c){this.authCredentials=t,this.appCheckCredentials=i,this.asyncQueue=s,this.databaseInfo=l,this.user=Ze.UNAUTHENTICATED,this.clientId=qm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(s,(async d=>{ot(tr,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(s,(d=>(ot(tr,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Ri;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(i){const s=ug(i,"Failed to shutdown persistence");t.reject(s)}})),t.promise}}async function Wd(r,t){r.asyncQueue.verifyOperationInProgress(),ot(tr,"Initializing OfflineComponentProvider");const i=r.configuration;await t.initialize(i);let s=i.initialUser;r.setCredentialChangeListener((async l=>{s.isEqual(l)||(await DT(t.localStore,l),s=l)})),t.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=t}async function S0(r,t){r.asyncQueue.verifyOperationInProgress();const i=await zC(r);ot(tr,"Initializing OnlineComponentProvider"),await t.initialize(i,r.configuration),r.setCredentialChangeListener((s=>y0(t.remoteStore,s))),r.setAppCheckTokenChangeListener(((s,l)=>y0(t.remoteStore,l))),r._onlineComponents=t}async function zC(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){ot(tr,"Using user provided OfflineComponentProvider");try{await Wd(r,r._uninitializedComponentsProvider._offline)}catch(t){const i=t;if(!(function(l){return l.name==="FirebaseError"?l.code===Y.FAILED_PRECONDITION||l.code===Y.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11})(i))throw i;Wa("Error using user provided cache. Falling back to memory cache: "+i),await Wd(r,new fh)}}else ot(tr,"Using default OfflineComponentProvider"),await Wd(r,new UC(void 0));return r._offlineComponents}async function yg(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(ot(tr,"Using user provided OnlineComponentProvider"),await S0(r,r._uninitializedComponentsProvider._online)):(ot(tr,"Using default OnlineComponentProvider"),await S0(r,new bm))),r._onlineComponents}function jC(r){return yg(r).then((t=>t.syncEngine))}function BC(r){return yg(r).then((t=>t.datastore))}async function dh(r){const t=await yg(r),i=t.eventManager;return i.onListen=AC.bind(null,t.syncEngine),i.onUnlisten=wC.bind(null,t.syncEngine),i.onFirstRemoteStoreListen=SC.bind(null,t.syncEngine),i.onLastRemoteStoreUnlisten=RC.bind(null,t.syncEngine),i}function qC(r,t,i={}){const s=new Ri;return r.asyncQueue.enqueueAndForget((async()=>(function(c,d,g,y,_){const A=new pg({next:D=>{A.Nu(),d.enqueueAndForget((()=>hg(c,S)));const F=D.docs.has(g);!F&&D.fromCache?_.reject(new st(Y.UNAVAILABLE,"Failed to get document because the client is offline.")):F&&D.fromCache&&y&&y.source==="server"?_.reject(new st(Y.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):_.resolve(D)},error:D=>_.reject(D)}),S=new dg(Sh(g.path),A,{includeMetadataChanges:!0,qa:!0});return cg(c,S)})(await dh(r),r.asyncQueue,t,i,s))),s.promise}function HC(r,t,i={}){const s=new Ri;return r.asyncQueue.enqueueAndForget((async()=>(function(c,d,g,y,_){const A=new pg({next:D=>{A.Nu(),d.enqueueAndForget((()=>hg(c,S))),D.fromCache&&y.source==="server"?_.reject(new st(Y.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):_.resolve(D)},error:D=>_.reject(D)}),S=new dg(g,A,{includeMetadataChanges:!0,qa:!0});return cg(c,S)})(await dh(r),r.asyncQueue,t,i,s))),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YT(r){const t={};return r.timeoutSeconds!==void 0&&(t.timeoutSeconds=r.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b0=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KT="firestore.googleapis.com",w0=!0;class R0{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new st(Y.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=KT,this.ssl=w0}else this.host=t.host,this.ssl=t.ssl??w0;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=CT;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<_I)throw new st(Y.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}r2("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=YT(t.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new st(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new st(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new st(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(s,l){return s.timeoutSeconds===l.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Vh{constructor(t,i,s,l){this._authCredentials=t,this._appCheckCredentials=i,this._databaseId=s,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new R0({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new st(Y.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new st(Y.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new R0(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new XR;switch(s.type){case"firstParty":return new WR(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new st(Y.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const s=b0.get(i);s&&(ot("ComponentProvider","Removing Datastore"),b0.delete(i),s.terminate())})(this),Promise.resolve()}}function FC(r,t,i,s={}){r=ti(r,Vh);const l=ro(t),c=r._getSettings(),d={...c,emulatorOptions:r._getEmulatorOptions()},g=`${t}:${i}`;l&&(H0(`https://${g}`),F0("Firestore",!0)),c.host!==KT&&c.host!==g&&Wa("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const y={...c,host:g,ssl:l,emulatorOptions:s};if(!Br(y,d)&&(r._setSettings(y),s.mockUserToken)){let _,A;if(typeof s.mockUserToken=="string")_=s.mockUserToken,A=Ze.MOCK_USER;else{_=T1(s.mockUserToken,r._app?.options.projectId);const S=s.mockUserToken.sub||s.mockUserToken.user_id;if(!S)throw new st(Y.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");A=new Ze(S)}r._authCredentials=new $R(new UE(_,A))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ir{constructor(t,i,s){this.converter=i,this._query=s,this.type="query",this.firestore=t}withConverter(t){return new ir(this.firestore,t,this._query)}}class he{constructor(t,i,s){this.converter=i,this._key=s,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ys(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new he(this.firestore,t,this._key)}toJSON(){return{type:he._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,i,s){if($l(i,he._jsonSchema))return new he(t,s||null,new ft(Wt.fromString(i.referencePath)))}}he._jsonSchemaVersion="firestore/documentReference/1.0",he._jsonSchema={type:Ne("string",he._jsonSchemaVersion),referencePath:Ne("string")};class Ys extends ir{constructor(t,i,s){super(t,i,Sh(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new he(this.firestore,null,new ft(t))}withConverter(t){return new Ys(this.firestore,t,this._path)}}function XT(r,t,...i){if(r=Me(r),LE("collection","path",t),r instanceof Vh){const s=Wt.fromString(t,...i);return zv(s),new Ys(r,null,s)}{if(!(r instanceof he||r instanceof Ys))throw new st(Y.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(Wt.fromString(t,...i));return zv(s),new Ys(r.firestore,null,s)}}function Lr(r,t,...i){if(r=Me(r),arguments.length===1&&(t=qm.newId()),LE("doc","path",t),r instanceof Vh){const s=Wt.fromString(t,...i);return kv(s),new he(r,null,new ft(s))}{if(!(r instanceof he||r instanceof Ys))throw new st(Y.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(Wt.fromString(t,...i));return kv(s),new he(r.firestore,r instanceof Ys?r.converter:null,new ft(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I0="AsyncQueue";class C0{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new ig(this,"async_queue_retry"),this._c=()=>{const s=Jd();s&&ot(I0,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=t;const i=Jd();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const i=Jd();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new Ri;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Xu.push(t),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!co(t))throw t;ot(I0,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const i=this.ac.then((()=>(this.rc=!0,t().catch((s=>{throw this.nc=s,this.rc=!1,ns("INTERNAL UNHANDLED ERROR: ",N0(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=i,i}enqueueAfterDelay(t,i,s){this.uc(),this.oc.indexOf(t)>-1&&(i=0);const l=lg.createAndSchedule(this,t,i,s,(c=>this.hc(c)));return this.tc.push(l),l}uc(){this.nc&&pt(47125,{Pc:N0(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const i of this.tc)if(i.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((i,s)=>i.targetTimeMs-s.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),t!=="all"&&i.timerId===t)break;return this.Tc()}))}dc(t){this.oc.push(t)}hc(t){const i=this.tc.indexOf(t);this.tc.splice(i,1)}}function N0(r){let t=r.message||"";return r.stack&&(t=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D0(r){return(function(i,s){if(typeof i!="object"||i===null)return!1;const l=i;for(const c of s)if(c in l&&typeof l[c]=="function")return!0;return!1})(r,["next","error","complete"])}class Qr extends Vh{constructor(t,i,s,l){super(t,i,s,l),this.type="firestore",this._queue=new C0,this._persistenceKey=l?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new C0(t),this._firestoreClient=void 0,await t}}}function GC(r,t){const i=typeof r=="object"?r:K0(),s=typeof r=="string"?r:rh,l=Nm(i,"firestore").getImmediate({identifier:s});if(!l._initialized){const c=v1("firestore");c&&FC(l,...c)}return l}function nu(r){if(r._terminated)throw new st(Y.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||QC(r),r._firestoreClient}function QC(r){const t=r._freezeSettings(),i=(function(l,c,d,g){return new p2(l,c,d,g.host,g.ssl,g.experimentalForceLongPolling,g.experimentalAutoDetectLongPolling,YT(g.experimentalLongPollingOptions),g.useFetchStreams,g.isUsingEmulator)})(r._databaseId,r._app?.options.appId||"",r._persistenceKey,t);r._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(r._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),r._firestoreClient=new kC(r._authCredentials,r._appCheckCredentials,r._queue,i,r._componentsProvider&&(function(l){const c=l?._online.build();return{_offline:l?._offline.build(c),_online:c}})(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class An{constructor(t){this._byteString=t}static fromBase64String(t){try{return new An(Ke.fromBase64String(t))}catch(i){throw new st(Y.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(t){return new An(Ke.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:An._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if($l(t,An._jsonSchema))return An.fromBase64String(t.bytes)}}An._jsonSchemaVersion="firestore/bytes/1.0",An._jsonSchema={type:Ne("string",An._jsonSchemaVersion),bytes:Ne("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xh{constructor(...t){for(let i=0;i<t.length;++i)if(t[i].length===0)throw new st(Y.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ye(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iu{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ci{constructor(t,i){if(!isFinite(t)||t<-90||t>90)throw new st(Y.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(i)||i<-180||i>180)throw new st(Y.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=t,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return Ut(this._lat,t._lat)||Ut(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Ci._jsonSchemaVersion}}static fromJSON(t){if($l(t,Ci._jsonSchema))return new Ci(t.latitude,t.longitude)}}Ci._jsonSchemaVersion="firestore/geoPoint/1.0",Ci._jsonSchema={type:Ne("string",Ci._jsonSchemaVersion),latitude:Ne("number"),longitude:Ne("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ni{constructor(t){this._values=(t||[]).map((i=>i))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(s,l){if(s.length!==l.length)return!1;for(let c=0;c<s.length;++c)if(s[c]!==l[c])return!1;return!0})(this._values,t._values)}toJSON(){return{type:Ni._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if($l(t,Ni._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((i=>typeof i=="number")))return new Ni(t.vectorValues);throw new st(Y.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Ni._jsonSchemaVersion="firestore/vectorValue/1.0",Ni._jsonSchema={type:Ne("string",Ni._jsonSchemaVersion),vectorValues:Ne("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YC=/^__.*__$/;class KC{constructor(t,i,s){this.data=t,this.fieldMask=i,this.fieldTransforms=s}toMutation(t,i){return this.fieldMask!==null?new nr(t,this.data,this.fieldMask,i,this.fieldTransforms):new Jl(t,this.data,i,this.fieldTransforms)}}class $T{constructor(t,i,s){this.data=t,this.fieldMask=i,this.fieldTransforms=s}toMutation(t,i){return new nr(t,this.data,this.fieldMask,i,this.fieldTransforms)}}function ZT(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw pt(40011,{Ac:r})}}class _g{constructor(t,i,s,l,c,d){this.settings=t,this.databaseId=i,this.serializer=s,this.ignoreUndefinedProperties=l,c===void 0&&this.Rc(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(t){return new _g({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(t){const i=this.path?.child(t),s=this.Vc({path:i,fc:!1});return s.gc(t),s}yc(t){const i=this.path?.child(t),s=this.Vc({path:i,fc:!1});return s.Rc(),s}wc(t){return this.Vc({path:void 0,fc:!0})}Sc(t){return mh(t,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(t){return this.fieldMask.find((i=>t.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>t.isPrefixOf(i.field)))!==void 0}Rc(){if(this.path)for(let t=0;t<this.path.length;t++)this.gc(this.path.get(t))}gc(t){if(t.length===0)throw this.Sc("Document fields must not be empty");if(ZT(this.Ac)&&YC.test(t))throw this.Sc('Document fields cannot begin and end with "__"')}}class XC{constructor(t,i,s){this.databaseId=t,this.ignoreUndefinedProperties=i,this.serializer=s||Nh(t)}Cc(t,i,s,l=!1){return new _g({Ac:t,methodName:i,Dc:s,path:Ye.emptyPath(),fc:!1,bc:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function vg(r){const t=r._freezeSettings(),i=Nh(r._databaseId);return new XC(r._databaseId,!!t.ignoreUndefinedProperties,i)}function JT(r,t,i,s,l,c={}){const d=r.Cc(c.merge||c.mergeFields?2:0,t,i,l);Ag("Data must be an object, but it was:",d,s);const g=WT(s,d);let y,_;if(c.merge)y=new Sn(d.fieldMask),_=d.fieldTransforms;else if(c.mergeFields){const A=[];for(const S of c.mergeFields){const D=wm(t,S,i);if(!d.contains(D))throw new st(Y.INVALID_ARGUMENT,`Field '${D}' is specified in your field mask but missing from your input data.`);eA(A,D)||A.push(D)}y=new Sn(A),_=d.fieldTransforms.filter((S=>y.covers(S.field)))}else y=null,_=d.fieldTransforms;return new KC(new nn(g),y,_)}class Mh extends iu{_toFieldTransform(t){if(t.Ac!==2)throw t.Ac===1?t.Sc(`${this._methodName}() can only appear at the top level of your update data`):t.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof Mh}}class Eg extends iu{_toFieldTransform(t){return new fT(t.path,new jl)}isEqual(t){return t instanceof Eg}}class Tg extends iu{constructor(t,i){super(t),this.Fc=i}_toFieldTransform(t){const i=new Hl(t.serializer,oT(t.serializer,this.Fc));return new fT(t.path,i)}isEqual(t){return t instanceof Tg&&this.Fc===t.Fc}}function $C(r,t,i,s){const l=r.Cc(1,t,i);Ag("Data must be an object, but it was:",l,s);const c=[],d=nn.empty();er(s,((y,_)=>{const A=Sg(t,y,i);_=Me(_);const S=l.yc(A);if(_ instanceof Mh)c.push(A);else{const D=su(_,S);D!=null&&(c.push(A),d.set(A,D))}}));const g=new Sn(c);return new $T(d,g,l.fieldTransforms)}function ZC(r,t,i,s,l,c){const d=r.Cc(1,t,i),g=[wm(t,s,i)],y=[l];if(c.length%2!=0)throw new st(Y.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let D=0;D<c.length;D+=2)g.push(wm(t,c[D])),y.push(c[D+1]);const _=[],A=nn.empty();for(let D=g.length-1;D>=0;--D)if(!eA(_,g[D])){const F=g[D];let J=y[D];J=Me(J);const et=d.yc(F);if(J instanceof Mh)_.push(F);else{const W=su(J,et);W!=null&&(_.push(F),A.set(F,W))}}const S=new Sn(_);return new $T(A,S,d.fieldTransforms)}function JC(r,t,i,s=!1){return su(i,r.Cc(s?4:3,t))}function su(r,t){if(tA(r=Me(r)))return Ag("Unsupported field value:",t,r),WT(r,t);if(r instanceof iu)return(function(s,l){if(!ZT(l.Ac))throw l.Sc(`${s._methodName}() can only be used with update() and set()`);if(!l.path)throw l.Sc(`${s._methodName}() is not currently supported inside arrays`);const c=s._toFieldTransform(l);c&&l.fieldTransforms.push(c)})(r,t),null;if(r===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),r instanceof Array){if(t.settings.fc&&t.Ac!==4)throw t.Sc("Nested arrays are not supported");return(function(s,l){const c=[];let d=0;for(const g of s){let y=su(g,l.wc(d));y==null&&(y={nullValue:"NULL_VALUE"}),c.push(y),d++}return{arrayValue:{values:c}}})(r,t)}return(function(s,l){if((s=Me(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return oT(l.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const c=se.fromDate(s);return{timestampValue:lh(l.serializer,c)}}if(s instanceof se){const c=new se(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:lh(l.serializer,c)}}if(s instanceof Ci)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof An)return{bytesValue:ET(l.serializer,s._byteString)};if(s instanceof he){const c=l.databaseId,d=s.firestore._databaseId;if(!d.isEqual(c))throw l.Sc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:Jm(s.firestore._databaseId||l.databaseId,s._key.path)}}if(s instanceof Ni)return(function(d,g){return{mapValue:{fields:{[GE]:{stringValue:QE},[ah]:{arrayValue:{values:d.toArray().map((_=>{if(typeof _!="number")throw g.Sc("VectorValues must only contain numeric values.");return Km(g.serializer,_)}))}}}}}})(s,l);throw l.Sc(`Unsupported field value: ${Eh(s)}`)})(r,t)}function WT(r,t){const i={};return zE(r)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):er(r,((s,l)=>{const c=su(l,t.mc(s));c!=null&&(i[s]=c)})),{mapValue:{fields:i}}}function tA(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof se||r instanceof Ci||r instanceof An||r instanceof he||r instanceof iu||r instanceof Ni)}function Ag(r,t,i){if(!tA(i)||!PE(i)){const s=Eh(i);throw s==="an object"?t.Sc(r+" a custom object"):t.Sc(r+" "+s)}}function wm(r,t,i){if((t=Me(t))instanceof xh)return t._internalPath;if(typeof t=="string")return Sg(r,t);throw mh("Field path arguments must be of type string or ",r,!1,void 0,i)}const WC=new RegExp("[~\\*/\\[\\]]");function Sg(r,t,i){if(t.search(WC)>=0)throw mh(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,i);try{return new xh(...t.split("."))._internalPath}catch{throw mh(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,i)}}function mh(r,t,i,s,l){const c=s&&!s.isEmpty(),d=l!==void 0;let g=`Function ${t}() called with invalid data`;i&&(g+=" (via `toFirestore()`)"),g+=". ";let y="";return(c||d)&&(y+=" (found",c&&(y+=` in field ${s}`),d&&(y+=` in document ${l}`),y+=")"),new st(Y.INVALID_ARGUMENT,g+r+y)}function eA(r,t){return r.some((i=>i.isEqual(t)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gh{constructor(t,i,s,l,c){this._firestore=t,this._userDataWriter=i,this._key=s,this._document=l,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new he(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new tN(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const i=this._document.data.field(Uh("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i)}}}class tN extends gh{data(){return super.data()}}function Uh(r,t){return typeof t=="string"?Sg(r,t):t instanceof xh?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nA(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new st(Y.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class bg{}class iA extends bg{}function sA(r,t,...i){let s=[];t instanceof bg&&s.push(t),s=s.concat(i),(function(c){const d=c.filter((y=>y instanceof wg)).length,g=c.filter((y=>y instanceof Lh)).length;if(d>1||d>0&&g>0)throw new st(Y.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const l of s)r=l._apply(r);return r}class Lh extends iA{constructor(t,i,s){super(),this._field=t,this._op=i,this._value=s,this.type="where"}static _create(t,i,s){return new Lh(t,i,s)}_apply(t){const i=this._parse(t);return oA(t._query,i),new ir(t.firestore,t.converter,gm(t._query,i))}_parse(t){const i=vg(t.firestore);return(function(c,d,g,y,_,A,S){let D;if(_.isKeyField()){if(A==="array-contains"||A==="array-contains-any")throw new st(Y.INVALID_ARGUMENT,`Invalid Query. You can't perform '${A}' queries on documentId().`);if(A==="in"||A==="not-in"){V0(S,A);const J=[];for(const et of S)J.push(O0(y,c,et));D={arrayValue:{values:J}}}else D=O0(y,c,S)}else A!=="in"&&A!=="not-in"&&A!=="array-contains-any"||V0(S,A),D=JC(g,d,S,A==="in"||A==="not-in");return Ce.create(_,A,D)})(t._query,"where",i,t.firestore._databaseId,this._field,this._op,this._value)}}function rA(r,t,i){const s=t,l=Uh("where",r);return Lh._create(l,s,i)}class wg extends bg{constructor(t,i){super(),this.type=t,this._queryConstraints=i}static _create(t,i){return new wg(t,i)}_parse(t){const i=this._queryConstraints.map((s=>s._parse(t))).filter((s=>s.getFilters().length>0));return i.length===1?i[0]:ei.create(i,this._getOperator())}_apply(t){const i=this._parse(t);return i.getFilters().length===0?t:((function(l,c){let d=l;const g=c.getFlattenedFilters();for(const y of g)oA(d,y),d=gm(d,y)})(t._query,i),new ir(t.firestore,t.converter,gm(t._query,i)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Rg extends iA{constructor(t,i){super(),this._field=t,this._direction=i,this.type="orderBy"}static _create(t,i){return new Rg(t,i)}_apply(t){const i=(function(l,c,d){if(l.startAt!==null)throw new st(Y.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(l.endAt!==null)throw new st(Y.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new zl(c,d)})(t._query,this._field,this._direction);return new ir(t.firestore,t.converter,(function(l,c){const d=l.explicitOrderBy.concat([c]);return new ho(l.path,l.collectionGroup,d,l.filters.slice(),l.limit,l.limitType,l.startAt,l.endAt)})(t._query,i))}}function aA(r,t="asc"){const i=t,s=Uh("orderBy",r);return Rg._create(s,i)}function O0(r,t,i){if(typeof(i=Me(i))=="string"){if(i==="")throw new st(Y.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!tT(t)&&i.indexOf("/")!==-1)throw new st(Y.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${i}' contains a '/' character.`);const s=t.path.child(Wt.fromString(i));if(!ft.isDocumentKey(s))throw new st(Y.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return Yv(r,new ft(s))}if(i instanceof he)return Yv(r,i._key);throw new st(Y.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Eh(i)}.`)}function V0(r,t){if(!Array.isArray(r)||r.length===0)throw new st(Y.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function oA(r,t){const i=(function(l,c){for(const d of l)for(const g of d.getFlattenedFilters())if(c.indexOf(g.op)>=0)return g.op;return null})(r.filters,(function(l){switch(l){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(t.op));if(i!==null)throw i===t.op?new st(Y.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new st(Y.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${i.toString()}' filters.`)}class lA{convertValue(t,i="none"){switch(Js(t)){case 0:return null;case 1:return t.booleanValue;case 2:return ye(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,i);case 5:return t.stringValue;case 6:return this.convertBytes(Zs(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,i);case 11:return this.convertObject(t.mapValue,i);case 10:return this.convertVectorValue(t.mapValue);default:throw pt(62114,{value:t})}}convertObject(t,i){return this.convertObjectMap(t.fields,i)}convertObjectMap(t,i="none"){const s={};return er(t,((l,c)=>{s[l]=this.convertValue(c,i)})),s}convertVectorValue(t){const i=t.fields?.[ah].arrayValue?.values?.map((s=>ye(s.doubleValue)));return new Ni(i)}convertGeoPoint(t){return new Ci(ye(t.latitude),ye(t.longitude))}convertArray(t,i){return(t.values||[]).map((s=>this.convertValue(s,i)))}convertServerTimestamp(t,i){switch(i){case"previous":const s=Ah(t);return s==null?null:this.convertValue(s,i);case"estimate":return this.convertTimestamp(Ll(t));default:return null}}convertTimestamp(t){const i=$s(t);return new se(i.seconds,i.nanos)}convertDocumentKey(t,i){const s=Wt.fromString(t);zt(IT(s),9688,{name:t});const l=new Pl(s.get(1),s.get(3)),c=new ft(s.popFirst(5));return l.isEqual(i)||ns(`Document ${c} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uA(r,t,i){let s;return s=r?i&&(i.merge||i.mergeFields)?r.toFirestore(t,i):r.toFirestore(t):t,s}class eN extends lA{constructor(t){super(),this.firestore=t}convertBytes(t){return new An(t)}convertReference(t){const i=this.convertDocumentKey(t,this.firestore._databaseId);return new he(this.firestore,null,i)}}class Ga{constructor(t,i){this.hasPendingWrites=t,this.fromCache=i}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Ks extends gh{constructor(t,i,s,l,c,d){super(t,i,s,l,d),this._firestore=t,this._firestoreImpl=t,this.metadata=c}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const i=new Xc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,i={}){if(this._document){const s=this._document.data.field(Uh("DocumentSnapshot.get",t));if(s!==null)return this._userDataWriter.convertValue(s,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new st(Y.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,i={};return i.type=Ks._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}Ks._jsonSchemaVersion="firestore/documentSnapshot/1.0",Ks._jsonSchema={type:Ne("string",Ks._jsonSchemaVersion),bundleSource:Ne("string","DocumentSnapshot"),bundleName:Ne("string"),bundle:Ne("string")};class Xc extends Ks{data(t={}){return super.data(t)}}class jr{constructor(t,i,s,l){this._firestore=t,this._userDataWriter=i,this._snapshot=l,this.metadata=new Ga(l.hasPendingWrites,l.fromCache),this.query=s}get docs(){const t=[];return this.forEach((i=>t.push(i))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,i){this._snapshot.docs.forEach((s=>{t.call(i,new Xc(this._firestore,this._userDataWriter,s.key,s,new Ga(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const i=!!t.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new st(Y.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(l,c){if(l._snapshot.oldDocs.isEmpty()){let d=0;return l._snapshot.docChanges.map((g=>{const y=new Xc(l._firestore,l._userDataWriter,g.doc.key,g.doc,new Ga(l._snapshot.mutatedKeys.has(g.doc.key),l._snapshot.fromCache),l.query.converter);return g.doc,{type:"added",doc:y,oldIndex:-1,newIndex:d++}}))}{let d=l._snapshot.oldDocs;return l._snapshot.docChanges.filter((g=>c||g.type!==3)).map((g=>{const y=new Xc(l._firestore,l._userDataWriter,g.doc.key,g.doc,new Ga(l._snapshot.mutatedKeys.has(g.doc.key),l._snapshot.fromCache),l.query.converter);let _=-1,A=-1;return g.type!==0&&(_=d.indexOf(g.doc.key),d=d.delete(g.doc.key)),g.type!==1&&(d=d.add(g.doc),A=d.indexOf(g.doc.key)),{type:nN(g.type),doc:y,oldIndex:_,newIndex:A}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new st(Y.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=jr._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=qm.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],s=[],l=[];return this.docs.forEach((c=>{c._document!==null&&(i.push(c._document),s.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),l.push(c.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function nN(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return pt(61501,{type:r})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vl(r){r=ti(r,he);const t=ti(r.firestore,Qr);return qC(nu(t),r._key).then((i=>hA(t,r,i)))}jr._jsonSchemaVersion="firestore/querySnapshot/1.0",jr._jsonSchema={type:Ne("string",jr._jsonSchemaVersion),bundleSource:Ne("string","QuerySnapshot"),bundleName:Ne("string"),bundle:Ne("string")};class Ph extends lA{constructor(t){super(),this.firestore=t}convertBytes(t){return new An(t)}convertReference(t){const i=this.convertDocumentKey(t,this.firestore._databaseId);return new he(this.firestore,null,i)}}function cA(r){r=ti(r,ir);const t=ti(r.firestore,Qr),i=nu(t),s=new Ph(t);return nA(r._query),HC(i,r._query).then((l=>new jr(t,s,r,l)))}function El(r,t,i){r=ti(r,he);const s=ti(r.firestore,Qr),l=uA(r.converter,t,i);return sN(s,[JT(vg(s),"setDoc",r._key,l,r.converter!==null,i).toMutation(r._key,fn.none())])}function iN(r,...t){r=Me(r);let i={includeMetadataChanges:!1,source:"default"},s=0;typeof t[s]!="object"||D0(t[s])||(i=t[s++]);const l={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(D0(t[s])){const y=t[s];t[s]=y.next?.bind(y),t[s+1]=y.error?.bind(y),t[s+2]=y.complete?.bind(y)}let c,d,g;if(r instanceof he)d=ti(r.firestore,Qr),g=Sh(r._key.path),c={next:y=>{t[s]&&t[s](hA(d,r,y))},error:t[s+1],complete:t[s+2]};else{const y=ti(r,ir);d=ti(y.firestore,Qr),g=y._query;const _=new Ph(d);c={next:A=>{t[s]&&t[s](new jr(d,_,y,A))},error:t[s+1],complete:t[s+2]},nA(r._query)}return(function(_,A,S,D){const F=new pg(D),J=new dg(A,F,S);return _.asyncQueue.enqueueAndForget((async()=>cg(await dh(_),J))),()=>{F.Nu(),_.asyncQueue.enqueueAndForget((async()=>hg(await dh(_),J)))}})(nu(d),g,l,c)}function sN(r,t){return(function(s,l){const c=new Ri;return s.asyncQueue.enqueueAndForget((async()=>IC(await jC(s),l,c))),c.promise})(nu(r),t)}function hA(r,t,i){const s=i.docs.get(t._key),l=new Ph(r);return new Ks(r,l,t._key,s,new Ga(i.hasPendingWrites,i.fromCache),t.converter)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rN={maxAttempts:5};function bl(r,t){if((r=Me(r)).firestore!==t)throw new st(Y.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aN{constructor(t,i){this._firestore=t,this._transaction=i,this._dataReader=vg(t)}get(t){const i=bl(t,this._firestore),s=new eN(this._firestore);return this._transaction.lookup([i._key]).then((l=>{if(!l||l.length!==1)return pt(24041);const c=l[0];if(c.isFoundDocument())return new gh(this._firestore,s,c.key,c,i.converter);if(c.isNoDocument())return new gh(this._firestore,s,i._key,null,i.converter);throw pt(18433,{doc:c})}))}set(t,i,s){const l=bl(t,this._firestore),c=uA(l.converter,i,s),d=JT(this._dataReader,"Transaction.set",l._key,c,l.converter!==null,s);return this._transaction.set(l._key,d),this}update(t,i,s,...l){const c=bl(t,this._firestore);let d;return d=typeof(i=Me(i))=="string"||i instanceof xh?ZC(this._dataReader,"Transaction.update",c._key,i,s,l):$C(this._dataReader,"Transaction.update",c._key,i),this._transaction.update(c._key,d),this}delete(t){const i=bl(t,this._firestore);return this._transaction.delete(i._key),this}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oN extends aN{constructor(t,i){super(t,i),this._firestore=t}get(t){const i=bl(t,this._firestore),s=new Ph(this._firestore);return super.get(t).then((l=>new Ks(this._firestore,s,i._key,l._document,new Ga(!1,!1),i.converter)))}}function x0(r,t,i){r=ti(r,Qr);const s={...rN,...i};return(function(c){if(c.maxAttempts<1)throw new st(Y.INVALID_ARGUMENT,"Max attempts must be at least 1")})(s),(function(c,d,g){const y=new Ri;return c.asyncQueue.enqueueAndForget((async()=>{const _=await BC(c);new PC(c.asyncQueue,_,g,d,y).ju()})),y.promise})(nu(r),(l=>t(new oN(r,l))),s)}function za(){return new Eg("serverTimestamp")}function ja(r){return new Tg("increment",r)}(function(t,i=!0){(function(l){lo=l})(ao),Za(new qr("firestore",((s,{instanceIdentifier:l,options:c})=>{const d=s.getProvider("app").getImmediate(),g=new Qr(new ZR(s.getProvider("auth-internal")),new t2(d,s.getProvider("app-check-internal")),(function(_,A){if(!Object.prototype.hasOwnProperty.apply(_.options,["projectId"]))throw new st(Y.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Pl(_.options.projectId,A)})(d,l),d);return c={useFetchStreams:i,...c},g._setSettings(c),g}),"PUBLIC").setMultipleInstances(!0)),Gs(Mv,Uv,t),Gs(Mv,Uv,"esm2020")})();const lN={apiKey:"AIzaSyD9Q8xysodbNwRxv_YshLDo5pG9-CvdTQE",authDomain:"pallavolo-67515986-17130.firebaseapp.com",projectId:"pallavolo-67515986-17130",storageBucket:"pallavolo-67515986-17130.firebasestorage.app",messagingSenderId:"462112859333",appId:"1:462112859333:web:059bb7a96b44dca9e33cac"},fA=Y0(lN),$a=YR(fA),$n=GC(fA),uN=new Zi,tm=14;function cN(){const[r,t]=Ft.useState(null),[i,s]=Ft.useState(!1),[l,c]=Ft.useState(!1),[d,g]=Ft.useState([]),[y,_]=Ft.useState([]),[A,S]=Ft.useState(null),[D,F]=Ft.useState([]),[J,et]=Ft.useState(""),[W,gt]=Ft.useState(!1),[vt,yt]=Ft.useState(null),bt=Ft.useMemo(()=>Lr($n,"state","currentSession"),[]);Ft.useEffect(()=>{const Z=km($a,async at=>{at?(t(at),s(!0),await El(Lr($n,"users",at.uid),{email:at.email,displayName:at.displayName,photoURL:at.photoURL,lastLogin:za()},{merge:!0}),U(at.uid)):(t(null),s(!1),gt(!1),yt(null))});return()=>Z()},[]),Ft.useEffect(()=>{let Z;return(async()=>((await Vl(bt)).exists()||await El(bt,{participants:[],reserves:[],lastUpdated:za(),date:Kt()}),Z=iN(bt,C=>{const B=C.data();g(Array.isArray(B?.participants)?B.participants:[]),_(Array.isArray(B?.reserves)?B.reserves:[]),S(B?.date||null)})))(),()=>{typeof Z=="function"&&Z()}},[bt]);function Kt(){const Z=new Date,C=(9-Z.getDay())%7||7,B=new Date(Z);B.setDate(Z.getDate()+C),B.setHours(20,30,0,0);const tt=rt=>rt.toString().padStart(2,"0");return`${B.getFullYear()}-${tt(B.getMonth()+1)}-${tt(B.getDate())}T${tt(B.getHours())}:${tt(B.getMinutes())}`}const[Ct,N]=Ft.useState(Kt()),b=r?.email==="tidolamiamail@gmail.com",I=async()=>{if(!b)return;const Z=await Vl(bt),at=Z.exists()?Z.data():null;if(at&&at.date){const C=new Date(at.date),B=new Date(Ct);if(C.getFullYear()===B.getFullYear()&&C.getMonth()===B.getMonth()&&C.getDate()===B.getDate()){alert("Esiste gi una partita per questo giorno!");return}}await El(bt,{participants:[],reserves:[],lastUpdated:za(),date:Ct},{merge:!0}),alert("Nuova partita creata!")},x=async()=>{c(!0);try{const at=(await nR($a,uN)).user;await El(Lr($n,"users",at.uid),{email:at.email,displayName:at.displayName,photoURL:at.photoURL,lastLogin:za()},{merge:!0}),t(at),s(!0),U(at.uid)}catch(Z){alert(`Errore durante il login: ${Z.message||Z}`),console.error("Login error:",Z)}finally{c(!1)}},V=async()=>{await pE($a),s(!1),t(null)},U=async Z=>{const at=await Vl(Lr($n,"users",Z)),C=at.exists()?at.data():{},B=sA(XT($n,"sessions"),rA("participantUids","array-contains",Z),aA("date","desc")),rt=(await cA(B)).docs.map(ct=>({id:ct.id,...ct.data()}));yt({totalSessions:C?.stats?.totalSessions||0,asParticipant:C?.stats?.asParticipant||0,asReserve:C?.stats?.asReserve||0,friendsBrought:C?.stats?.friendsBrought||0,sessionsHistory:rt})},w=()=>d.some(Z=>Z.uid===r?.uid)||y.some(Z=>Z.uid===r?.uid),te=!!A,fe=()=>{let Z=d.length;for(const at of d)Z+=at.friends?.length||0;return Z},G=()=>{let Z=y.length;for(const at of y)Z+=at.friends?.length||0;return Z},it=async(Z=!1)=>{if(!(!i||!r))try{await x0($n,async at=>{const B=(await at.get(bt)).data()||{participants:[],reserves:[]},tt=B.participants?.some(Nt=>Nt.uid===r.uid),rt=B.reserves?.some(Nt=>Nt.uid===r.uid);if(tt||rt)throw new Error("Sei gi iscritto!");const ct={uid:r.uid,name:r.displayName,photoURL:r.photoURL,friends:D,timestamp:new Date().toLocaleString("it-IT")},lt={...B};lt.participants=Array.isArray(lt.participants)?lt.participants:[],lt.reserves=Array.isArray(lt.reserves)?lt.reserves:[],Z?lt.reserves=[...lt.reserves,ct]:lt.participants.length<tm?lt.participants=[...lt.participants,ct]:lt.reserves=[...lt.reserves,ct],at.set(bt,{participants:lt.participants,reserves:lt.reserves,lastUpdated:za()})}),await El(Lr($n,"users",r.uid),{stats:{asParticipant:ja(Z?0:1),asReserve:ja(Z?1:0),friendsBrought:ja(D.length||0),totalSessions:ja(0)}},{merge:!0}),F([]),await U(r.uid),!Z&&d.length>=tm&&alert("Lista partecipanti piena! Sei stato aggiunto alle riserve.")}catch(at){alert(at.message||"Errore durante l'iscrizione")}},dt=async()=>{if(!(!i||!r))try{await x0($n,async Z=>{const C=(await Z.get(bt)).data()||{participants:[],reserves:[]},B=C.participants.findIndex(lt=>lt.uid===r.uid),tt=C.reserves.findIndex(lt=>lt.uid===r.uid);if(B===-1&&tt===-1)throw new Error("Non sei iscritto a questo allenamento.");const rt=[...C.participants];let ct=[...C.reserves];if(B!==-1){if(rt.splice(B,1),ct.length>0){const lt=ct[0];ct=ct.slice(1),rt.push(lt)}}else tt!==-1&&(ct=ct.filter(lt=>lt.uid!==r.uid));Z.set(bt,{participants:rt,reserves:ct,lastUpdated:za()})})}catch(Z){alert(Z.message||"Errore durante la disiscrizione")}};return j.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 to-gray-800 p-6",children:j.jsxs("div",{className:"max-w-6xl mx-auto",children:[j.jsx("div",{className:"bg-gray-800 rounded-xl shadow-2xl p-8 mb-6 border border-gray-700",children:j.jsxs("div",{className:"flex items-center justify-between mb-6",children:[j.jsxs("div",{className:"flex items-center gap-3",children:[j.jsx("div",{className:"bg-indigo-600 p-3 rounded-lg",children:j.jsx(L0,{className:"w-8 h-8 text-white"})}),j.jsxs("div",{children:[j.jsx("h1",{className:"text-3xl font-bold text-gray-100",children:"Iscrizioni pallavolo"}),A?j.jsxs("div",{className:"mt-2 text-lg text-indigo-300 font-semibold",children:["Partita del ",new Date(A).toLocaleString("it-IT",{dateStyle:"full",timeStyle:"short"})]}):j.jsx("div",{className:"mt-2 text-lg text-indigo-300 font-semibold",children:"Nessuna partita attiva"})]})]}),i&&j.jsxs("div",{className:"relative ml-auto",children:[j.jsx("button",{onClick:()=>gt(!W),className:"p-2 bg-gray-700 rounded-full border border-gray-600 hover:bg-gray-600 transition",title:"Area personale",children:j.jsx("img",{src:r.photoURL||"",alt:r.displayName||"",className:"w-10 h-10 rounded-full border-2 border-indigo-500"})}),W&&vt&&j.jsxs("div",{className:"absolute right-0 mt-2 w-80 bg-gray-800 rounded-lg shadow-lg border border-gray-700 z-10 p-6",children:[j.jsxs("h3",{className:"text-xl font-bold text-gray-100 mb-4 flex items-center gap-2",children:[j.jsx(U0,{className:"w-6 h-6 text-yellow-500"}),"Le tue statistiche"]}),j.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[j.jsxs("div",{className:"bg-gray-800 rounded-lg p-4 border border-gray-600",children:[j.jsx("div",{className:"text-3xl font-bold text-indigo-400",children:vt.totalSessions||0}),j.jsx("div",{className:"text-sm text-gray-400",children:"Sessioni totali"})]}),j.jsxs("div",{className:"bg-gray-800 rounded-lg p-4 border border-gray-600",children:[j.jsx("div",{className:"text-3xl font-bold text-green-400",children:vt.asParticipant||0}),j.jsx("div",{className:"text-sm text-gray-400",children:"Come partecipante"})]}),j.jsxs("div",{className:"bg-gray-800 rounded-lg p-4 border border-gray-600",children:[j.jsx("div",{className:"text-3xl font-bold text-amber-400",children:vt.asReserve||0}),j.jsx("div",{className:"text-sm text-gray-400",children:"Come riserva"})]}),j.jsxs("div",{className:"bg-gray-800 rounded-lg p-4 border border-gray-600",children:[j.jsx("div",{className:"text-3xl font-bold text-purple-400",children:vt.friendsBrought||0}),j.jsx("div",{className:"text-sm text-gray-400",children:"Amici portati"})]})]}),j.jsx("button",{onClick:V,className:"mt-6 w-full px-4 py-2 bg-gray-700 text-gray-100 rounded-lg hover:bg-gray-600 transition border border-gray-600",children:"Esci"})]})]})]})}),i?j.jsxs("div",{className:"space-y-6",children:[te?j.jsxs(j.Fragment,{children:[!w()&&j.jsxs("div",{className:"space-y-4",children:[j.jsxs("div",{className:"flex gap-3",children:[j.jsxs("button",{onClick:()=>it(!1),className:"flex-1 px-6 py-3 bg-green-600 text-white rounded-lg hover:bg-green-700 transition font-medium flex items-center justify-center gap-2",children:[j.jsx(u1,{className:"w-5 h-5"}),"Iscriviti come Partecipante"]}),j.jsxs("button",{onClick:()=>it(!0),className:"flex-1 px-6 py-3 bg-amber-600 text-white rounded-lg hover:bg-amber-700 transition font-medium flex items-center justify-center gap-2",children:[j.jsx(o1,{className:"w-5 h-5"}),"Iscriviti come Riserva"]})]}),j.jsxs("div",{className:"space-y-4",children:[j.jsxs("div",{className:"text-xs text-gray-400 mb-2",children:["* Puoi aggiungere fino a ",j.jsx("span",{className:"font-bold text-indigo-300",children:"3 amici"})," per sessione"]}),j.jsxs("div",{className:"flex gap-2 items-center",children:[j.jsx("input",{type:"text",value:J||"",onChange:Z=>et(Z.target.value),className:"px-4 py-2 rounded-lg bg-gray-700 text-gray-100 border border-gray-600 focus:ring-2 focus:ring-indigo-500",placeholder:"Nome amico",disabled:D.length>=3}),j.jsx("button",{type:"button",onClick:()=>{J&&D.length<3&&(F([...D,J]),et(""))},className:"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition font-medium",disabled:!J||D.length>=3,children:"Aggiungi amico"})]}),D.length>0&&j.jsxs("div",{className:"mt-2",children:[j.jsx("div",{className:"text-sm text-gray-300 mb-2",children:"Amici aggiunti:"}),j.jsx("ul",{className:"space-y-2",children:D.map((Z,at)=>j.jsxs("li",{className:"flex items-center gap-2",children:[j.jsx("span",{className:"bg-indigo-900 text-indigo-100 px-3 py-1 rounded-full",children:Z}),j.jsx("button",{type:"button",onClick:()=>F(D.filter((C,B)=>B!==at)),className:"text-red-400 hover:text-red-600 text-xs",children:"Rimuovi"})]},at))})]})]})]}),w()&&j.jsx("button",{onClick:dt,className:"w-full px-6 py-3 bg-red-600 text-white rounded-lg hover:bg-red-700 transition font-medium",children:"Disiscriviti"}),j.jsxs("div",{className:"grid md:grid-cols-2 gap-6 mt-8",children:[j.jsxs("div",{className:"bg-gray-800 rounded-xl shadow-2xl p-6 border border-gray-700",children:[j.jsxs("div",{className:"flex items-center justify-between mb-4",children:[j.jsx("h2",{className:"text-xl font-bold text-gray-100",children:"Partecipanti"}),j.jsxs("span",{className:"bg-green-900 text-green-200 px-3 py-1 rounded-full font-semibold text-sm border border-green-700",children:[fe()," / ",tm]})]}),j.jsx("div",{className:"space-y-3 max-h-96 overflow-y-auto",children:d.length===0?j.jsx("p",{className:"text-gray-500 text-center py-4",children:"Nessun partecipante"}):d.map((Z,at)=>j.jsx("div",{className:"bg-green-900 rounded-lg p-3 border border-green-700",children:j.jsxs("div",{className:"flex items-center gap-3",children:[j.jsx("img",{src:Z.photoURL,alt:Z.name,className:"w-10 h-10 rounded-full border-2 border-green-500"}),j.jsxs("div",{className:"flex-1",children:[j.jsxs("div",{className:"flex items-center justify-between",children:[j.jsx("span",{className:"font-medium text-gray-100",children:Z.name}),j.jsx("span",{className:"text-xs text-gray-400",children:Z.timestamp})]}),Z.friends?.length>0&&j.jsx("div",{className:"mt-2 space-y-1",children:Z.friends.map((C,B)=>j.jsxs("div",{className:"text-sm text-gray-300 flex items-center gap-2",children:[j.jsx("span",{className:"text-green-400",children:""}),C]},B))})]})]})},Z.uid+"_"+at))})]}),j.jsxs("div",{className:"bg-gray-800 rounded-xl shadow-2xl p-6 border border-gray-700",children:[j.jsxs("div",{className:"flex items-center justify-between mb-4",children:[j.jsx("h2",{className:"text-xl font-bold text-gray-100",children:"Riserve"}),j.jsx("span",{className:"bg-amber-900 text-amber-200 px-3 py-1 rounded-full font-semibold text-sm border border-amber-700",children:G()})]}),j.jsx("div",{className:"space-y-3 max-h-96 overflow-y-auto",children:y.length===0?j.jsx("p",{className:"text-gray-500 text-center py-4",children:"Nessuna riserva"}):y.map((Z,at)=>j.jsx("div",{className:"bg-amber-900 rounded-lg p-3 border border-amber-700",children:j.jsxs("div",{className:"flex items-center gap-3",children:[j.jsx("img",{src:Z.photoURL,alt:Z.name,className:"w-10 h-10 rounded-full border-2 border-amber-500"}),j.jsxs("div",{className:"flex-1",children:[j.jsxs("div",{className:"flex items-center justify-between",children:[j.jsxs("span",{className:"font-medium text-gray-100",children:[at+1,". ",Z.name]}),j.jsx("span",{className:"text-xs text-gray-400",children:Z.timestamp})]}),Z.friends?.length>0&&j.jsx("div",{className:"mt-2 space-y-1",children:Z.friends.map((C,B)=>j.jsxs("div",{className:"text-sm text-gray-300 flex items-center gap-2",children:[j.jsx("span",{className:"text-amber-400",children:""}),C]},B))})]})]})},Z.uid+"_"+at))})]})]}),b&&j.jsxs("div",{className:"space-y-4 mt-6",children:[j.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[j.jsx("label",{htmlFor:"nextSessionDate",className:"text-sm text-gray-300 font-medium",children:"Data prossima partita:"}),j.jsx("input",{id:"nextSessionDate",type:"datetime-local",value:Ct,onChange:Z=>N(Z.target.value),className:"px-3 py-2 rounded-lg bg-gray-700 text-gray-100 border border-gray-600 focus:ring-2 focus:ring-blue-500"})]}),j.jsxs("button",{onClick:I,className:"w-full px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition font-medium flex items-center justify-center gap-2",children:[j.jsx(sv,{className:"w-5 h-5"}),"Nuova partita"]})]})]}):j.jsx("div",{className:"bg-yellow-900 text-yellow-100 rounded-lg p-4 border border-yellow-700 text-center",children:"Nessuna partita attiva. Attendi che l'organizzatore crei una nuova partita."}),b&&!te&&j.jsxs("div",{className:"space-y-4 mt-8",children:[j.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[j.jsx("label",{htmlFor:"nextSessionDate",className:"text-sm text-gray-300 font-medium",children:"Data prossima partita:"}),j.jsx("input",{id:"nextSessionDate",type:"datetime-local",value:Ct,onChange:Z=>N(Z.target.value),className:"px-3 py-2 rounded-lg bg-gray-700 text-gray-100 border border-gray-600 focus:ring-2 focus:ring-blue-500"})]}),j.jsxs("button",{onClick:I,className:"w-full px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition font-medium flex items-center justify-center gap-2",children:[j.jsx(sv,{className:"w-5 h-5"}),"Nuova partita"]})]})]}):j.jsxs("div",{className:"space-y-4 text-center py-8",children:[j.jsx("p",{className:"text-gray-300 mb-6",children:"Accedi con Google per iscriverti agli allenamenti"}),j.jsxs("button",{onClick:x,disabled:l,className:"inline-flex items-center gap-3 px-8 py-4 bg-white text-gray-800 rounded-lg hover:bg-gray-100 transition font-medium shadow-lg disabled:opacity-50",children:[j.jsxs("svg",{className:"w-6 h-6",viewBox:"0 0 24 24",children:[j.jsx("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),j.jsx("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),j.jsx("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),j.jsx("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),l?"Accesso in corso...":"Accedi con Google"]}),j.jsx("p",{className:"text-xs text-gray-500 mt-4",children:"* Login con Firebase/Google OAuth"})]})]})})}function hN({hasActiveSession:r,onEnterSession:t,isAdmin:i,onCreateSession:s}){const[l,c]=Ft.useState(null),[d,g]=Ft.useState(!1),[y,_]=Ft.useState(!1),[A,S]=Ft.useState(null);Ft.useEffect(()=>{const J=km($a,async et=>{et?(c(et),g(!0),await D(et.uid)):(c(null),g(!1),_(!1),S(null))});return()=>J()},[]);const D=async J=>{const et=await Vl(Lr($n,"users",J)),W=et.exists()?et.data():{},gt=sA(XT($n,"sessions"),rA("participantUids","array-contains",J),aA("date","desc")),yt=(await cA(gt)).docs.map(bt=>({id:bt.id,...bt.data()}));S({totalSessions:W?.stats?.totalSessions||0,asParticipant:W?.stats?.asParticipant||0,asReserve:W?.stats?.asReserve||0,friendsBrought:W?.stats?.friendsBrought||0,sessionsHistory:yt})},F=async()=>{await pE($a),g(!1),c(null)};return j.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 to-gray-800 p-6",children:j.jsxs("div",{className:"max-w-6xl mx-auto",children:[j.jsx("div",{className:"bg-gray-800 rounded-xl shadow-2xl p-8 mb-6 border border-gray-700",children:j.jsxs("div",{className:"flex items-center justify-between mb-6",children:[j.jsxs("div",{className:"flex items-center gap-3",children:[j.jsx("div",{className:"bg-indigo-600 p-3 rounded-lg",children:j.jsx(L0,{className:"w-8 h-8 text-white"})}),j.jsxs("div",{children:[j.jsx("h1",{className:"text-3xl font-bold text-gray-100",children:"Iscrizioni pallavolo"}),j.jsx("div",{className:"mt-2 text-lg text-indigo-300 font-semibold",children:"Nessuna partita attiva"})]})]}),d&&j.jsxs("div",{className:"relative ml-auto",children:[j.jsx("button",{onClick:()=>_(!y),className:"p-2 bg-gray-700 rounded-full border border-gray-600 hover:bg-gray-600 transition",title:"Area personale",children:j.jsx("img",{src:l.photoURL||"",alt:l.displayName||"",className:"w-10 h-10 rounded-full border-2 border-indigo-500"})}),y&&A&&j.jsxs("div",{className:"absolute right-0 mt-2 w-80 bg-gray-800 rounded-lg shadow-lg border border-gray-700 z-10 p-6",children:[j.jsxs("h3",{className:"text-xl font-bold text-gray-100 mb-4 flex items-center gap-2",children:[j.jsx(U0,{className:"w-6 h-6 text-yellow-500"}),"Le tue statistiche"]}),j.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[j.jsxs("div",{className:"bg-gray-800 rounded-lg p-4 border border-gray-600",children:[j.jsx("div",{className:"text-3xl font-bold text-indigo-400",children:A.totalSessions||0}),j.jsx("div",{className:"text-sm text-gray-400",children:"Sessioni totali"})]}),j.jsxs("div",{className:"bg-gray-800 rounded-lg p-4 border border-gray-600",children:[j.jsx("div",{className:"text-3xl font-bold text-green-400",children:A.asParticipant||0}),j.jsx("div",{className:"text-sm text-gray-400",children:"Come partecipante"})]}),j.jsxs("div",{className:"bg-gray-800 rounded-lg p-4 border border-gray-600",children:[j.jsx("div",{className:"text-3xl font-bold text-amber-400",children:A.asReserve||0}),j.jsx("div",{className:"text-sm text-gray-400",children:"Come riserva"})]}),j.jsxs("div",{className:"bg-gray-800 rounded-lg p-4 border border-gray-600",children:[j.jsx("div",{className:"text-3xl font-bold text-purple-400",children:A.friendsBrought||0}),j.jsx("div",{className:"text-sm text-gray-400",children:"Amici portati"})]})]}),j.jsx("button",{onClick:F,className:"mt-6 w-full px-4 py-2 bg-gray-700 text-gray-100 rounded-lg hover:bg-gray-600 transition border border-gray-600",children:"Esci"})]})]})]})}),j.jsx("div",{className:"flex flex-col items-center justify-center",children:j.jsxs("div",{className:"bg-gray-800 rounded-xl shadow-2xl p-8 border border-gray-700 w-full max-w-md text-center",children:[r?j.jsx("button",{onClick:t,className:"px-8 py-4 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition font-medium mb-4",children:"Vai alla partita attiva"}):j.jsx("div",{className:"text-lg text-yellow-200 mb-6",children:"Nessuna partita attiva, attendere che venga creata"}),i&&j.jsx("button",{onClick:s,className:"px-8 py-4 bg-green-600 text-white rounded-lg hover:bg-green-700 transition font-medium",children:"Crea nuova partita"})]})})]})})}function fN(){const[r,t]=Ft.useState(!1),[i,s]=Ft.useState(!1),[l,c]=Ft.useState(!1),[d,g]=Ft.useState(null);return Ft.useEffect(()=>{const y=km($a,async _=>{g(_),s(_?.email==="tidolamiamail@gmail.com")});return()=>y()},[]),Ft.useEffect(()=>{async function y(){const _=await Vl(Lr($n,"state","currentSession"));c(!!_.exists()&&!!_.data().date)}y()},[r]),r?j.jsx("div",{className:"app-bg",children:j.jsx("main",{style:{display:"flex",justifyContent:"center"},children:j.jsx("div",{style:{width:"100%",maxWidth:"900px"},children:j.jsx(cN,{})})})}):j.jsx(hN,{hasActiveSession:l,onEnterSession:()=>t(!0),isAdmin:i,onCreateSession:()=>t(!0)})}JS.createRoot(document.getElementById("root")).render(j.jsx(Ft.StrictMode,{children:j.jsx(fN,{})}));
