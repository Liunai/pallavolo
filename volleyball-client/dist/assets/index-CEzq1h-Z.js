(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))r(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&r(d)}).observe(document,{childList:!0,subtree:!0});function i(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function r(l){if(l.ep)return;l.ep=!0;const c=i(l);fetch(l.href,c)}})();var jd={exports:{}},El={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ev;function YS(){if(ev)return El;ev=1;var s=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function i(r,l,c){var d=null;if(c!==void 0&&(d=""+c),l.key!==void 0&&(d=""+l.key),"key"in l){c={};for(var p in l)p!=="key"&&(c[p]=l[p])}else c=l;return l=c.ref,{$$typeof:s,type:r,key:d,ref:l!==void 0?l:null,props:c}}return El.Fragment=t,El.jsx=i,El.jsxs=i,El}var nv;function KS(){return nv||(nv=1,jd.exports=YS()),jd.exports}var M=KS(),Bd={exports:{}},Nt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var iv;function XS(){if(iv)return Nt;iv=1;var s=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),_=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),S=Symbol.for("react.activity"),N=Symbol.iterator;function G(O){return O===null||typeof O!="object"?null:(O=N&&O[N]||O["@@iterator"],typeof O=="function"?O:null)}var J={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},st=Object.assign,W={};function yt(O,K,nt){this.props=O,this.context=K,this.refs=W,this.updater=nt||J}yt.prototype.isReactComponent={},yt.prototype.setState=function(O,K){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,K,"setState")},yt.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function Et(){}Et.prototype=yt.prototype;function vt(O,K,nt){this.props=O,this.context=K,this.refs=W,this.updater=nt||J}var St=vt.prototype=new Et;St.constructor=vt,st(St,yt.prototype),St.isPureReactComponent=!0;var Gt=Array.isArray;function dt(){}var C={H:null,A:null,T:null,S:null},b=Object.prototype.hasOwnProperty;function I(O,K,nt){var rt=nt.ref;return{$$typeof:s,type:O,key:K,ref:rt!==void 0?rt:null,props:nt}}function V(O,K){return I(O.type,K,O.props)}function D(O){return typeof O=="object"&&O!==null&&O.$$typeof===s}function U(O){var K={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(nt){return K[nt]})}var w=/\/+/g;function he(O,K){return typeof O=="object"&&O!==null&&O.key!=null?U(""+O.key):K.toString(36)}function fe(O){switch(O.status){case"fulfilled":return O.value;case"rejected":throw O.reason;default:switch(typeof O.status=="string"?O.then(dt,dt):(O.status="pending",O.then(function(K){O.status==="pending"&&(O.status="fulfilled",O.value=K)},function(K){O.status==="pending"&&(O.status="rejected",O.reason=K)})),O.status){case"fulfilled":return O.value;case"rejected":throw O.reason}}throw O}function H(O,K,nt,rt,At){var It=typeof O;(It==="undefined"||It==="boolean")&&(O=null);var Pt=!1;if(O===null)Pt=!0;else switch(It){case"bigint":case"string":case"number":Pt=!0;break;case"object":switch(O.$$typeof){case s:case t:Pt=!0;break;case A:return Pt=O._init,H(Pt(O._payload),K,nt,rt,At)}}if(Pt)return At=At(O),Pt=rt===""?"."+he(O,0):rt,Gt(At)?(nt="",Pt!=null&&(nt=Pt.replace(w,"$&/")+"/"),H(At,K,nt,"",function(Bi){return Bi})):At!=null&&(D(At)&&(At=V(At,nt+(At.key==null||O&&O.key===At.key?"":(""+At.key).replace(w,"$&/")+"/")+Pt)),K.push(At)),1;Pt=0;var Ee=rt===""?".":rt+":";if(Gt(O))for(var ue=0;ue<O.length;ue++)rt=O[ue],It=Ee+he(rt,ue),Pt+=H(rt,K,nt,It,At);else if(ue=G(O),typeof ue=="function")for(O=ue.call(O),ue=0;!(rt=O.next()).done;)rt=rt.value,It=Ee+he(rt,ue++),Pt+=H(rt,K,nt,It,At);else if(It==="object"){if(typeof O.then=="function")return H(fe(O),K,nt,rt,At);throw K=String(O),Error("Objects are not valid as a React child (found: "+(K==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":K)+"). If you meant to render a collection of children, use an array instead.")}return Pt}function et(O,K,nt){if(O==null)return O;var rt=[],At=0;return H(O,rt,"","",function(It){return K.call(nt,It,At++)}),rt}function mt(O){if(O._status===-1){var K=O._result;K=K(),K.then(function(nt){(O._status===0||O._status===-1)&&(O._status=1,O._result=nt)},function(nt){(O._status===0||O._status===-1)&&(O._status=2,O._result=nt)}),O._status===-1&&(O._status=0,O._result=K)}if(O._status===1)return O._result.default;throw O._result}var Ht=typeof reportError=="function"?reportError:function(O){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var K=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof O=="object"&&O!==null&&typeof O.message=="string"?String(O.message):String(O),error:O});if(!window.dispatchEvent(K))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",O);return}console.error(O)},Qt={map:et,forEach:function(O,K,nt){et(O,function(){K.apply(this,arguments)},nt)},count:function(O){var K=0;return et(O,function(){K++}),K},toArray:function(O){return et(O,function(K){return K})||[]},only:function(O){if(!D(O))throw Error("React.Children.only expected to receive a single React element child.");return O}};return Nt.Activity=S,Nt.Children=Qt,Nt.Component=yt,Nt.Fragment=i,Nt.Profiler=l,Nt.PureComponent=vt,Nt.StrictMode=r,Nt.Suspense=_,Nt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=C,Nt.__COMPILER_RUNTIME={__proto__:null,c:function(O){return C.H.useMemoCache(O)}},Nt.cache=function(O){return function(){return O.apply(null,arguments)}},Nt.cacheSignal=function(){return null},Nt.cloneElement=function(O,K,nt){if(O==null)throw Error("The argument must be a React element, but you passed "+O+".");var rt=st({},O.props),At=O.key;if(K!=null)for(It in K.key!==void 0&&(At=""+K.key),K)!b.call(K,It)||It==="key"||It==="__self"||It==="__source"||It==="ref"&&K.ref===void 0||(rt[It]=K[It]);var It=arguments.length-2;if(It===1)rt.children=nt;else if(1<It){for(var Pt=Array(It),Ee=0;Ee<It;Ee++)Pt[Ee]=arguments[Ee+2];rt.children=Pt}return I(O.type,At,rt)},Nt.createContext=function(O){return O={$$typeof:d,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null},O.Provider=O,O.Consumer={$$typeof:c,_context:O},O},Nt.createElement=function(O,K,nt){var rt,At={},It=null;if(K!=null)for(rt in K.key!==void 0&&(It=""+K.key),K)b.call(K,rt)&&rt!=="key"&&rt!=="__self"&&rt!=="__source"&&(At[rt]=K[rt]);var Pt=arguments.length-2;if(Pt===1)At.children=nt;else if(1<Pt){for(var Ee=Array(Pt),ue=0;ue<Pt;ue++)Ee[ue]=arguments[ue+2];At.children=Ee}if(O&&O.defaultProps)for(rt in Pt=O.defaultProps,Pt)At[rt]===void 0&&(At[rt]=Pt[rt]);return I(O,It,At)},Nt.createRef=function(){return{current:null}},Nt.forwardRef=function(O){return{$$typeof:p,render:O}},Nt.isValidElement=D,Nt.lazy=function(O){return{$$typeof:A,_payload:{_status:-1,_result:O},_init:mt}},Nt.memo=function(O,K){return{$$typeof:y,type:O,compare:K===void 0?null:K}},Nt.startTransition=function(O){var K=C.T,nt={};C.T=nt;try{var rt=O(),At=C.S;At!==null&&At(nt,rt),typeof rt=="object"&&rt!==null&&typeof rt.then=="function"&&rt.then(dt,Ht)}catch(It){Ht(It)}finally{K!==null&&nt.types!==null&&(K.types=nt.types),C.T=K}},Nt.unstable_useCacheRefresh=function(){return C.H.useCacheRefresh()},Nt.use=function(O){return C.H.use(O)},Nt.useActionState=function(O,K,nt){return C.H.useActionState(O,K,nt)},Nt.useCallback=function(O,K){return C.H.useCallback(O,K)},Nt.useContext=function(O){return C.H.useContext(O)},Nt.useDebugValue=function(){},Nt.useDeferredValue=function(O,K){return C.H.useDeferredValue(O,K)},Nt.useEffect=function(O,K){return C.H.useEffect(O,K)},Nt.useEffectEvent=function(O){return C.H.useEffectEvent(O)},Nt.useId=function(){return C.H.useId()},Nt.useImperativeHandle=function(O,K,nt){return C.H.useImperativeHandle(O,K,nt)},Nt.useInsertionEffect=function(O,K){return C.H.useInsertionEffect(O,K)},Nt.useLayoutEffect=function(O,K){return C.H.useLayoutEffect(O,K)},Nt.useMemo=function(O,K){return C.H.useMemo(O,K)},Nt.useOptimistic=function(O,K){return C.H.useOptimistic(O,K)},Nt.useReducer=function(O,K,nt){return C.H.useReducer(O,K,nt)},Nt.useRef=function(O){return C.H.useRef(O)},Nt.useState=function(O){return C.H.useState(O)},Nt.useSyncExternalStore=function(O,K,nt){return C.H.useSyncExternalStore(O,K,nt)},Nt.useTransition=function(){return C.H.useTransition()},Nt.version="19.2.0",Nt}var sv;function Mm(){return sv||(sv=1,Bd.exports=XS()),Bd.exports}var ge=Mm(),qd={exports:{}},Al={},Hd={exports:{}},Fd={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rv;function $S(){return rv||(rv=1,(function(s){function t(H,et){var mt=H.length;H.push(et);t:for(;0<mt;){var Ht=mt-1>>>1,Qt=H[Ht];if(0<l(Qt,et))H[Ht]=et,H[mt]=Qt,mt=Ht;else break t}}function i(H){return H.length===0?null:H[0]}function r(H){if(H.length===0)return null;var et=H[0],mt=H.pop();if(mt!==et){H[0]=mt;t:for(var Ht=0,Qt=H.length,O=Qt>>>1;Ht<O;){var K=2*(Ht+1)-1,nt=H[K],rt=K+1,At=H[rt];if(0>l(nt,mt))rt<Qt&&0>l(At,nt)?(H[Ht]=At,H[rt]=mt,Ht=rt):(H[Ht]=nt,H[K]=mt,Ht=K);else if(rt<Qt&&0>l(At,mt))H[Ht]=At,H[rt]=mt,Ht=rt;else break t}}return et}function l(H,et){var mt=H.sortIndex-et.sortIndex;return mt!==0?mt:H.id-et.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;s.unstable_now=function(){return c.now()}}else{var d=Date,p=d.now();s.unstable_now=function(){return d.now()-p}}var _=[],y=[],A=1,S=null,N=3,G=!1,J=!1,st=!1,W=!1,yt=typeof setTimeout=="function"?setTimeout:null,Et=typeof clearTimeout=="function"?clearTimeout:null,vt=typeof setImmediate<"u"?setImmediate:null;function St(H){for(var et=i(y);et!==null;){if(et.callback===null)r(y);else if(et.startTime<=H)r(y),et.sortIndex=et.expirationTime,t(_,et);else break;et=i(y)}}function Gt(H){if(st=!1,St(H),!J)if(i(_)!==null)J=!0,dt||(dt=!0,U());else{var et=i(y);et!==null&&fe(Gt,et.startTime-H)}}var dt=!1,C=-1,b=5,I=-1;function V(){return W?!0:!(s.unstable_now()-I<b)}function D(){if(W=!1,dt){var H=s.unstable_now();I=H;var et=!0;try{t:{J=!1,st&&(st=!1,Et(C),C=-1),G=!0;var mt=N;try{e:{for(St(H),S=i(_);S!==null&&!(S.expirationTime>H&&V());){var Ht=S.callback;if(typeof Ht=="function"){S.callback=null,N=S.priorityLevel;var Qt=Ht(S.expirationTime<=H);if(H=s.unstable_now(),typeof Qt=="function"){S.callback=Qt,St(H),et=!0;break e}S===i(_)&&r(_),St(H)}else r(_);S=i(_)}if(S!==null)et=!0;else{var O=i(y);O!==null&&fe(Gt,O.startTime-H),et=!1}}break t}finally{S=null,N=mt,G=!1}et=void 0}}finally{et?U():dt=!1}}}var U;if(typeof vt=="function")U=function(){vt(D)};else if(typeof MessageChannel<"u"){var w=new MessageChannel,he=w.port2;w.port1.onmessage=D,U=function(){he.postMessage(null)}}else U=function(){yt(D,0)};function fe(H,et){C=yt(function(){H(s.unstable_now())},et)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(H){H.callback=null},s.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):b=0<H?Math.floor(1e3/H):5},s.unstable_getCurrentPriorityLevel=function(){return N},s.unstable_next=function(H){switch(N){case 1:case 2:case 3:var et=3;break;default:et=N}var mt=N;N=et;try{return H()}finally{N=mt}},s.unstable_requestPaint=function(){W=!0},s.unstable_runWithPriority=function(H,et){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var mt=N;N=H;try{return et()}finally{N=mt}},s.unstable_scheduleCallback=function(H,et,mt){var Ht=s.unstable_now();switch(typeof mt=="object"&&mt!==null?(mt=mt.delay,mt=typeof mt=="number"&&0<mt?Ht+mt:Ht):mt=Ht,H){case 1:var Qt=-1;break;case 2:Qt=250;break;case 5:Qt=1073741823;break;case 4:Qt=1e4;break;default:Qt=5e3}return Qt=mt+Qt,H={id:A++,callback:et,priorityLevel:H,startTime:mt,expirationTime:Qt,sortIndex:-1},mt>Ht?(H.sortIndex=mt,t(y,H),i(_)===null&&H===i(y)&&(st?(Et(C),C=-1):st=!0,fe(Gt,mt-Ht))):(H.sortIndex=Qt,t(_,H),J||G||(J=!0,dt||(dt=!0,U()))),H},s.unstable_shouldYield=V,s.unstable_wrapCallback=function(H){var et=N;return function(){var mt=N;N=et;try{return H.apply(this,arguments)}finally{N=mt}}}})(Fd)),Fd}var av;function ZS(){return av||(av=1,Hd.exports=$S()),Hd.exports}var Gd={exports:{}},an={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ov;function JS(){if(ov)return an;ov=1;var s=Mm();function t(_){var y="https://react.dev/errors/"+_;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var A=2;A<arguments.length;A++)y+="&args[]="+encodeURIComponent(arguments[A])}return"Minified React error #"+_+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var r={d:{f:i,r:function(){throw Error(t(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},l=Symbol.for("react.portal");function c(_,y,A){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:S==null?null:""+S,children:_,containerInfo:y,implementation:A}}var d=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(_,y){if(_==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return an.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,an.createPortal=function(_,y){var A=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(t(299));return c(_,y,null,A)},an.flushSync=function(_){var y=d.T,A=r.p;try{if(d.T=null,r.p=2,_)return _()}finally{d.T=y,r.p=A,r.d.f()}},an.preconnect=function(_,y){typeof _=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,r.d.C(_,y))},an.prefetchDNS=function(_){typeof _=="string"&&r.d.D(_)},an.preinit=function(_,y){if(typeof _=="string"&&y&&typeof y.as=="string"){var A=y.as,S=p(A,y.crossOrigin),N=typeof y.integrity=="string"?y.integrity:void 0,G=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;A==="style"?r.d.S(_,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:S,integrity:N,fetchPriority:G}):A==="script"&&r.d.X(_,{crossOrigin:S,integrity:N,fetchPriority:G,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},an.preinitModule=function(_,y){if(typeof _=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var A=p(y.as,y.crossOrigin);r.d.M(_,{crossOrigin:A,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&r.d.M(_)},an.preload=function(_,y){if(typeof _=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var A=y.as,S=p(A,y.crossOrigin);r.d.L(_,A,{crossOrigin:S,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},an.preloadModule=function(_,y){if(typeof _=="string")if(y){var A=p(y.as,y.crossOrigin);r.d.m(_,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:A,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else r.d.m(_)},an.requestFormReset=function(_){r.d.r(_)},an.unstable_batchedUpdates=function(_,y){return _(y)},an.useFormState=function(_,y,A){return d.H.useFormState(_,y,A)},an.useFormStatus=function(){return d.H.useHostTransitionStatus()},an.version="19.2.0",an}var lv;function WS(){if(lv)return Gd.exports;lv=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(t){console.error(t)}}return s(),Gd.exports=JS(),Gd.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var uv;function t1(){if(uv)return Al;uv=1;var s=ZS(),t=Mm(),i=WS();function r(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)n+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function c(e){var n=e,a=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(a=n.return),e=n.return;while(e)}return n.tag===3?a:null}function d(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function p(e){if(e.tag===31){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function _(e){if(c(e)!==e)throw Error(r(188))}function y(e){var n=e.alternate;if(!n){if(n=c(e),n===null)throw Error(r(188));return n!==e?null:e}for(var a=e,o=n;;){var h=a.return;if(h===null)break;var f=h.alternate;if(f===null){if(o=h.return,o!==null){a=o;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===a)return _(h),e;if(f===o)return _(h),n;f=f.sibling}throw Error(r(188))}if(a.return!==o.return)a=h,o=f;else{for(var g=!1,T=h.child;T;){if(T===a){g=!0,a=h,o=f;break}if(T===o){g=!0,o=h,a=f;break}T=T.sibling}if(!g){for(T=f.child;T;){if(T===a){g=!0,a=f,o=h;break}if(T===o){g=!0,o=f,a=h;break}T=T.sibling}if(!g)throw Error(r(189))}}if(a.alternate!==o)throw Error(r(190))}if(a.tag!==3)throw Error(r(188));return a.stateNode.current===a?e:n}function A(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=A(e),n!==null)return n;e=e.sibling}return null}var S=Object.assign,N=Symbol.for("react.element"),G=Symbol.for("react.transitional.element"),J=Symbol.for("react.portal"),st=Symbol.for("react.fragment"),W=Symbol.for("react.strict_mode"),yt=Symbol.for("react.profiler"),Et=Symbol.for("react.consumer"),vt=Symbol.for("react.context"),St=Symbol.for("react.forward_ref"),Gt=Symbol.for("react.suspense"),dt=Symbol.for("react.suspense_list"),C=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),D=Symbol.iterator;function U(e){return e===null||typeof e!="object"?null:(e=D&&e[D]||e["@@iterator"],typeof e=="function"?e:null)}var w=Symbol.for("react.client.reference");function he(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===w?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case st:return"Fragment";case yt:return"Profiler";case W:return"StrictMode";case Gt:return"Suspense";case dt:return"SuspenseList";case I:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case J:return"Portal";case vt:return e.displayName||"Context";case Et:return(e._context.displayName||"Context")+".Consumer";case St:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case C:return n=e.displayName||null,n!==null?n:he(e.type)||"Memo";case b:n=e._payload,e=e._init;try{return he(e(n))}catch{}}return null}var fe=Array.isArray,H=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,et=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,mt={pending:!1,data:null,method:null,action:null},Ht=[],Qt=-1;function O(e){return{current:e}}function K(e){0>Qt||(e.current=Ht[Qt],Ht[Qt]=null,Qt--)}function nt(e,n){Qt++,Ht[Qt]=e.current,e.current=n}var rt=O(null),At=O(null),It=O(null),Pt=O(null);function Ee(e,n){switch(nt(It,n),nt(At,e),nt(rt,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?b_(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=b_(n),e=w_(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}K(rt),nt(rt,e)}function ue(){K(rt),K(At),K(It)}function Bi(e){e.memoizedState!==null&&nt(Pt,e);var n=rt.current,a=w_(n,e.type);n!==a&&(nt(At,e),nt(rt,a))}function ys(e){At.current===e&&(K(rt),K(At)),Pt.current===e&&(K(Pt),yl._currentValue=mt)}var _s,vs;function Un(e){if(_s===void 0)try{throw Error()}catch(a){var n=a.stack.trim().match(/\n( *(at )?)/);_s=n&&n[1]||"",vs=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+_s+e+vs}var vr=!1;function Z(e,n){if(!e||vr)return"";vr=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(n){var X=function(){throw Error()};if(Object.defineProperty(X.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(X,[])}catch(q){var j=q}Reflect.construct(e,[],X)}else{try{X.call()}catch(q){j=q}e.call(X.prototype)}}else{try{throw Error()}catch(q){j=q}(X=e())&&typeof X.catch=="function"&&X.catch(function(){})}}catch(q){if(q&&j&&typeof q.stack=="string")return[q.stack,j.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=o.DetermineComponentFrameRoot(),g=f[0],T=f[1];if(g&&T){var R=g.split(`
`),z=T.split(`
`);for(h=o=0;o<R.length&&!R[o].includes("DetermineComponentFrameRoot");)o++;for(;h<z.length&&!z[h].includes("DetermineComponentFrameRoot");)h++;if(o===R.length||h===z.length)for(o=R.length-1,h=z.length-1;1<=o&&0<=h&&R[o]!==z[h];)h--;for(;1<=o&&0<=h;o--,h--)if(R[o]!==z[h]){if(o!==1||h!==1)do if(o--,h--,0>h||R[o]!==z[h]){var F=`
`+R[o].replace(" at new "," at ");return e.displayName&&F.includes("<anonymous>")&&(F=F.replace("<anonymous>",e.displayName)),F}while(1<=o&&0<=h);break}}}finally{vr=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?Un(a):""}function at(e,n){switch(e.tag){case 26:case 27:case 5:return Un(e.type);case 16:return Un("Lazy");case 13:return e.child!==n&&n!==null?Un("Suspense Fallback"):Un("Suspense");case 19:return Un("SuspenseList");case 0:case 15:return Z(e.type,!1);case 11:return Z(e.type.render,!1);case 1:return Z(e.type,!0);case 31:return Un("Activity");default:return""}}function ht(e){try{var n="",a=null;do n+=at(e,a),a=e,e=e.return;while(e);return n}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}var lt=Object.prototype.hasOwnProperty,Rt=s.unstable_scheduleCallback,Vt=s.unstable_cancelCallback,Ct=s.unstable_shouldYield,Wt=s.unstable_requestPaint,Dt=s.unstable_now,Ke=s.unstable_getCurrentPriorityLevel,qi=s.unstable_ImmediatePriority,Eo=s.unstable_UserBlockingPriority,Ts=s.unstable_NormalPriority,qh=s.unstable_LowPriority,lu=s.unstable_IdlePriority,uu=s.log,cu=s.unstable_setDisableYieldValue,Xn=null,Xe=null;function Ln(e){if(typeof uu=="function"&&cu(e),Xe&&typeof Xe.setStrictMode=="function")try{Xe.setStrictMode(Xn,e)}catch{}}var be=Math.clz32?Math.clz32:fu,hu=Math.log,aa=Math.LN2;function fu(e){return e>>>=0,e===0?32:31-(hu(e)/aa|0)|0}var fi=256,Tr=262144,Ne=4194304;function di(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function mi(e,n,a){var o=e.pendingLanes;if(o===0)return 0;var h=0,f=e.suspendedLanes,g=e.pingedLanes;e=e.warmLanes;var T=o&134217727;return T!==0?(o=T&~f,o!==0?h=di(o):(g&=T,g!==0?h=di(g):a||(a=T&~e,a!==0&&(h=di(a))))):(T=o&~f,T!==0?h=di(T):g!==0?h=di(g):a||(a=o&~e,a!==0&&(h=di(a)))),h===0?0:n!==0&&n!==h&&(n&f)===0&&(f=h&-h,a=n&-n,f>=a||f===32&&(a&4194048)!==0)?n:h}function $n(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function Hh(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function du(){var e=Ne;return Ne<<=1,(Ne&62914560)===0&&(Ne=4194304),e}function gi(e){for(var n=[],a=0;31>a;a++)n.push(e);return n}function Er(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Fh(e,n,a,o,h,f){var g=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var T=e.entanglements,R=e.expirationTimes,z=e.hiddenUpdates;for(a=g&~a;0<a;){var F=31-be(a),X=1<<F;T[F]=0,R[F]=-1;var j=z[F];if(j!==null)for(z[F]=null,F=0;F<j.length;F++){var q=j[F];q!==null&&(q.lane&=-536870913)}a&=~X}o!==0&&Ar(e,o,0),f!==0&&h===0&&e.tag!==0&&(e.suspendedLanes|=f&~(g&~n))}function Ar(e,n,a){e.pendingLanes|=n,e.suspendedLanes&=~n;var o=31-be(n);e.entangledLanes|=n,e.entanglements[o]=e.entanglements[o]|1073741824|a&261930}function Ao(e,n){var a=e.entangledLanes|=n;for(e=e.entanglements;a;){var o=31-be(a),h=1<<o;h&n|e[o]&n&&(e[o]|=n),a&=~h}}function So(e,n){var a=n&-n;return a=(a&42)!==0?1:Sr(a),(a&(e.suspendedLanes|n))!==0?0:a}function Sr(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Hi(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function mu(){var e=et.p;return e!==0?e:(e=window.event,e===void 0?32:K_(e.type))}function Zn(e,n){var a=et.p;try{return et.p=e,n()}finally{et.p=a}}var Jn=Math.random().toString(36).slice(2),De="__reactFiber$"+Jn,He="__reactProps$"+Jn,pi="__reactContainer$"+Jn,oa="__reactEvents$"+Jn,Gh="__reactListeners$"+Jn,gu="__reactHandles$"+Jn,pu="__reactResources$"+Jn,yi="__reactMarker$"+Jn;function la(e){delete e[De],delete e[He],delete e[oa],delete e[Gh],delete e[gu]}function _i(e){var n=e[De];if(n)return n;for(var a=e.parentNode;a;){if(n=a[pi]||a[De]){if(a=n.alternate,n.child!==null||a!==null&&a.child!==null)for(e=O_(e);e!==null;){if(a=e[De])return a;e=O_(e)}return n}e=a,a=e.parentNode}return null}function Pn(e){if(e=e[De]||e[pi]){var n=e.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return e}return null}function Sn(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(r(33))}function vi(e){var n=e[pu];return n||(n=e[pu]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function xe(e){e[yi]=!0}var bo=new Set,wo={};function Ti(e,n){Ei(e,n),Ei(e+"Capture",n)}function Ei(e,n){for(wo[e]=n,e=0;e<n.length;e++)bo.add(n[e])}var Ro=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Io={},Co={};function yu(e){return lt.call(Co,e)?!0:lt.call(Io,e)?!1:Ro.test(e)?Co[e]=!0:(Io[e]=!0,!1)}function ua(e,n,a){if(yu(n))if(a===null)e.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var o=n.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+a)}}function bn(e,n,a){if(a===null)e.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+a)}}function Oe(e,n,a,o){if(o===null)e.removeAttribute(a);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(n,a,""+o)}}function Fe(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Es(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function No(e,n,a){var o=Object.getOwnPropertyDescriptor(e.constructor.prototype,n);if(!e.hasOwnProperty(n)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var h=o.get,f=o.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return h.call(this)},set:function(g){a=""+g,f.call(this,g)}}),Object.defineProperty(e,n,{enumerable:o.enumerable}),{getValue:function(){return a},setValue:function(g){a=""+g},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function te(e){if(!e._valueTracker){var n=Es(e)?"checked":"value";e._valueTracker=No(e,n,""+e[n])}}function br(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var a=n.getValue(),o="";return e&&(o=Es(e)?e.checked?"true":"false":e.value),e=o,e!==a?(n.setValue(e),!0):!1}function Ai(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var wr=/[\n"\\]/g;function mn(e){return e.replace(wr,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function ca(e,n,a,o,h,f,g,T){e.name="",g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"?e.type=g:e.removeAttribute("type"),n!=null?g==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+Fe(n)):e.value!==""+Fe(n)&&(e.value=""+Fe(n)):g!=="submit"&&g!=="reset"||e.removeAttribute("value"),n!=null?Do(e,g,Fe(n)):a!=null?Do(e,g,Fe(a)):o!=null&&e.removeAttribute("value"),h==null&&f!=null&&(e.defaultChecked=!!f),h!=null&&(e.checked=h&&typeof h!="function"&&typeof h!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?e.name=""+Fe(T):e.removeAttribute("name")}function _u(e,n,a,o,h,f,g,T){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(e.type=f),n!=null||a!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){te(e);return}a=a!=null?""+Fe(a):"",n=n!=null?""+Fe(n):a,T||n===e.value||(e.value=n),e.defaultValue=n}o=o??h,o=typeof o!="function"&&typeof o!="symbol"&&!!o,e.checked=T?e.checked:!!o,e.defaultChecked=!!o,g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(e.name=g),te(e)}function Do(e,n,a){n==="number"&&Ai(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function As(e,n,a,o){if(e=e.options,n){n={};for(var h=0;h<a.length;h++)n["$"+a[h]]=!0;for(a=0;a<e.length;a++)h=n.hasOwnProperty("$"+e[a].value),e[a].selected!==h&&(e[a].selected=h),h&&o&&(e[a].defaultSelected=!0)}else{for(a=""+Fe(a),n=null,h=0;h<e.length;h++){if(e[h].value===a){e[h].selected=!0,o&&(e[h].defaultSelected=!0);return}n!==null||e[h].disabled||(n=e[h])}n!==null&&(n.selected=!0)}}function vu(e,n,a){if(n!=null&&(n=""+Fe(n),n!==e.value&&(e.value=n),a==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=a!=null?""+Fe(a):""}function Ss(e,n,a,o){if(n==null){if(o!=null){if(a!=null)throw Error(r(92));if(fe(o)){if(1<o.length)throw Error(r(93));o=o[0]}a=o}a==null&&(a=""),n=a}a=Fe(n),e.defaultValue=a,o=e.textContent,o===a&&o!==""&&o!==null&&(e.value=o),te(e)}function gn(e,n){if(n){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=n;return}}e.textContent=n}var Tu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function xo(e,n,a){var o=n.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?o?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":o?e.setProperty(n,a):typeof a!="number"||a===0||Tu.has(n)?n==="float"?e.cssFloat=a:e[n]=(""+a).trim():e[n]=a+"px"}function Oo(e,n,a){if(n!=null&&typeof n!="object")throw Error(r(62));if(e=e.style,a!=null){for(var o in a)!a.hasOwnProperty(o)||n!=null&&n.hasOwnProperty(o)||(o.indexOf("--")===0?e.setProperty(o,""):o==="float"?e.cssFloat="":e[o]="");for(var h in n)o=n[h],n.hasOwnProperty(h)&&a[h]!==o&&xo(e,h,o)}else for(var f in n)n.hasOwnProperty(f)&&xo(e,f,n[f])}function ha(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Eu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),bs=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function fa(e){return bs.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Wn(){}var Mo=null;function kn(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var ws=null,Si=null;function Rr(e){var n=Pn(e);if(n&&(e=n.stateNode)){var a=e[He]||null;t:switch(e=n.stateNode,n.type){case"input":if(ca(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),n=a.name,a.type==="radio"&&n!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+mn(""+n)+'"][type="radio"]'),n=0;n<a.length;n++){var o=a[n];if(o!==e&&o.form===e.form){var h=o[He]||null;if(!h)throw Error(r(90));ca(o,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<a.length;n++)o=a[n],o.form===e.form&&br(o)}break t;case"textarea":vu(e,a.value,a.defaultValue);break t;case"select":n=a.value,n!=null&&As(e,!!a.multiple,n,!1)}}}var da=!1;function Rs(e,n,a){if(da)return e(n,a);da=!0;try{var o=e(n);return o}finally{if(da=!1,(ws!==null||Si!==null)&&(mc(),ws&&(n=ws,e=Si,Si=ws=null,Rr(n),e)))for(n=0;n<e.length;n++)Rr(e[n])}}function ti(e,n){var a=e.stateNode;if(a===null)return null;var o=a[He]||null;if(o===null)return null;a=o[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(e=e.type,o=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!o;break t;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(r(231,n,typeof a));return a}var zn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ir=!1;if(zn)try{var ie={};Object.defineProperty(ie,"passive",{get:function(){Ir=!0}}),window.addEventListener("test",ie,ie),window.removeEventListener("test",ie,ie)}catch{Ir=!1}var bi=null,Vo=null,Cr=null;function Uo(){if(Cr)return Cr;var e,n=Vo,a=n.length,o,h="value"in bi?bi.value:bi.textContent,f=h.length;for(e=0;e<a&&n[e]===h[e];e++);var g=a-e;for(o=1;o<=g&&n[a-o]===h[f-o];o++);return Cr=h.slice(e,1<o?1-o:void 0)}function Nr(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function Fi(){return!0}function ei(){return!1}function $e(e){function n(a,o,h,f,g){this._reactName=a,this._targetInst=h,this.type=o,this.nativeEvent=f,this.target=g,this.currentTarget=null;for(var T in e)e.hasOwnProperty(T)&&(a=e[T],this[T]=a?a(f):f[T]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Fi:ei,this.isPropagationStopped=ei,this}return S(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Fi)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Fi)},persist:function(){},isPersistent:Fi}),n}var Gi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},wi=$e(Gi),Is=S({},Gi,{view:0,detail:0}),Lo=$e(Is),Cs,ma,Ri,ga=S({},Is,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ns,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ri&&(Ri&&e.type==="mousemove"?(Cs=e.screenX-Ri.screenX,ma=e.screenY-Ri.screenY):ma=Cs=0,Ri=e),Cs)},movementY:function(e){return"movementY"in e?e.movementY:ma}}),Po=$e(ga),Dr=S({},ga,{dataTransfer:0}),Au=$e(Dr),Su=S({},Is,{relatedTarget:0}),xr=$e(Su),ko=S({},Gi,{animationName:0,elapsedTime:0,pseudoElement:0}),bu=$e(ko),pa=S({},Gi,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),wu=$e(pa),Ru=S({},Gi,{data:0}),Ii=$e(Ru),Iu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Cu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Nu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Du(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=Nu[e])?!!n[e]:!1}function Ns(){return Du}var hn=S({},Is,{key:function(e){if(e.key){var n=Iu[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=Nr(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Cu[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ns,charCode:function(e){return e.type==="keypress"?Nr(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Nr(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),xu=$e(hn),Ou=S({},ga,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Qi=$e(Ou),u=S({},Is,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ns}),m=$e(u),v=S({},Gi,{propertyName:0,elapsedTime:0,pseudoElement:0}),E=$e(v),P=S({},ga,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),B=$e(P),tt=S({},Gi,{newState:0,oldState:0}),xt=$e(tt),we=[9,13,27,32],Zt=zn&&"CompositionEvent"in window,ye=null;zn&&"documentMode"in document&&(ye=document.documentMode);var jn=zn&&"TextEvent"in window&&!ye,Ci=zn&&(!Zt||ye&&8<ye&&11>=ye),ni=" ",ii=!1;function Or(e,n){switch(e){case"keyup":return we.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ya(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var _a=!1;function yA(e,n){switch(e){case"compositionend":return ya(n);case"keypress":return n.which!==32?null:(ii=!0,ni);case"textInput":return e=n.data,e===ni&&ii?null:e;default:return null}}function _A(e,n){if(_a)return e==="compositionend"||!Zt&&Or(e,n)?(e=Uo(),Cr=Vo=bi=null,_a=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return Ci&&n.locale!=="ko"?null:n.data;default:return null}}var vA={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ug(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!vA[e.type]:n==="textarea"}function Lg(e,n,a,o){ws?Si?Si.push(o):Si=[o]:ws=o,n=Ec(n,"onChange"),0<n.length&&(a=new wi("onChange","change",null,a,o),e.push({event:a,listeners:n}))}var zo=null,jo=null;function TA(e){__(e,0)}function Mu(e){var n=Sn(e);if(br(n))return e}function Pg(e,n){if(e==="change")return n}var kg=!1;if(zn){var Qh;if(zn){var Yh="oninput"in document;if(!Yh){var zg=document.createElement("div");zg.setAttribute("oninput","return;"),Yh=typeof zg.oninput=="function"}Qh=Yh}else Qh=!1;kg=Qh&&(!document.documentMode||9<document.documentMode)}function jg(){zo&&(zo.detachEvent("onpropertychange",Bg),jo=zo=null)}function Bg(e){if(e.propertyName==="value"&&Mu(jo)){var n=[];Lg(n,jo,e,kn(e)),Rs(TA,n)}}function EA(e,n,a){e==="focusin"?(jg(),zo=n,jo=a,zo.attachEvent("onpropertychange",Bg)):e==="focusout"&&jg()}function AA(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Mu(jo)}function SA(e,n){if(e==="click")return Mu(n)}function bA(e,n){if(e==="input"||e==="change")return Mu(n)}function wA(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var wn=typeof Object.is=="function"?Object.is:wA;function Bo(e,n){if(wn(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var a=Object.keys(e),o=Object.keys(n);if(a.length!==o.length)return!1;for(o=0;o<a.length;o++){var h=a[o];if(!lt.call(n,h)||!wn(e[h],n[h]))return!1}return!0}function qg(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Hg(e,n){var a=qg(e);e=0;for(var o;a;){if(a.nodeType===3){if(o=e+a.textContent.length,e<=n&&o>=n)return{node:a,offset:n-e};e=o}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=qg(a)}}function Fg(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?Fg(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function Gg(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=Ai(e.document);n instanceof e.HTMLIFrameElement;){try{var a=typeof n.contentWindow.location.href=="string"}catch{a=!1}if(a)e=n.contentWindow;else break;n=Ai(e.document)}return n}function Kh(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var RA=zn&&"documentMode"in document&&11>=document.documentMode,va=null,Xh=null,qo=null,$h=!1;function Qg(e,n,a){var o=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;$h||va==null||va!==Ai(o)||(o=va,"selectionStart"in o&&Kh(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),qo&&Bo(qo,o)||(qo=o,o=Ec(Xh,"onSelect"),0<o.length&&(n=new wi("onSelect","select",null,n,a),e.push({event:n,listeners:o}),n.target=va)))}function Mr(e,n){var a={};return a[e.toLowerCase()]=n.toLowerCase(),a["Webkit"+e]="webkit"+n,a["Moz"+e]="moz"+n,a}var Ta={animationend:Mr("Animation","AnimationEnd"),animationiteration:Mr("Animation","AnimationIteration"),animationstart:Mr("Animation","AnimationStart"),transitionrun:Mr("Transition","TransitionRun"),transitionstart:Mr("Transition","TransitionStart"),transitioncancel:Mr("Transition","TransitionCancel"),transitionend:Mr("Transition","TransitionEnd")},Zh={},Yg={};zn&&(Yg=document.createElement("div").style,"AnimationEvent"in window||(delete Ta.animationend.animation,delete Ta.animationiteration.animation,delete Ta.animationstart.animation),"TransitionEvent"in window||delete Ta.transitionend.transition);function Vr(e){if(Zh[e])return Zh[e];if(!Ta[e])return e;var n=Ta[e],a;for(a in n)if(n.hasOwnProperty(a)&&a in Yg)return Zh[e]=n[a];return e}var Kg=Vr("animationend"),Xg=Vr("animationiteration"),$g=Vr("animationstart"),IA=Vr("transitionrun"),CA=Vr("transitionstart"),NA=Vr("transitioncancel"),Zg=Vr("transitionend"),Jg=new Map,Jh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Jh.push("scrollEnd");function si(e,n){Jg.set(e,n),Ti(n,[e])}var Vu=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Bn=[],Ea=0,Wh=0;function Uu(){for(var e=Ea,n=Wh=Ea=0;n<e;){var a=Bn[n];Bn[n++]=null;var o=Bn[n];Bn[n++]=null;var h=Bn[n];Bn[n++]=null;var f=Bn[n];if(Bn[n++]=null,o!==null&&h!==null){var g=o.pending;g===null?h.next=h:(h.next=g.next,g.next=h),o.pending=h}f!==0&&Wg(a,h,f)}}function Lu(e,n,a,o){Bn[Ea++]=e,Bn[Ea++]=n,Bn[Ea++]=a,Bn[Ea++]=o,Wh|=o,e.lanes|=o,e=e.alternate,e!==null&&(e.lanes|=o)}function tf(e,n,a,o){return Lu(e,n,a,o),Pu(e)}function Ur(e,n){return Lu(e,null,null,n),Pu(e)}function Wg(e,n,a){e.lanes|=a;var o=e.alternate;o!==null&&(o.lanes|=a);for(var h=!1,f=e.return;f!==null;)f.childLanes|=a,o=f.alternate,o!==null&&(o.childLanes|=a),f.tag===22&&(e=f.stateNode,e===null||e._visibility&1||(h=!0)),e=f,f=f.return;return e.tag===3?(f=e.stateNode,h&&n!==null&&(h=31-be(a),e=f.hiddenUpdates,o=e[h],o===null?e[h]=[n]:o.push(n),n.lane=a|536870912),f):null}function Pu(e){if(50<cl)throw cl=0,cd=null,Error(r(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var Aa={};function DA(e,n,a,o){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Rn(e,n,a,o){return new DA(e,n,a,o)}function ef(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Yi(e,n){var a=e.alternate;return a===null?(a=Rn(e.tag,n,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=n,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,n=e.dependencies,a.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function tp(e,n){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,n=a.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function ku(e,n,a,o,h,f){var g=0;if(o=e,typeof e=="function")ef(e)&&(g=1);else if(typeof e=="string")g=US(e,a,rt.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case I:return e=Rn(31,a,n,h),e.elementType=I,e.lanes=f,e;case st:return Lr(a.children,h,f,n);case W:g=8,h|=24;break;case yt:return e=Rn(12,a,n,h|2),e.elementType=yt,e.lanes=f,e;case Gt:return e=Rn(13,a,n,h),e.elementType=Gt,e.lanes=f,e;case dt:return e=Rn(19,a,n,h),e.elementType=dt,e.lanes=f,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case vt:g=10;break t;case Et:g=9;break t;case St:g=11;break t;case C:g=14;break t;case b:g=16,o=null;break t}g=29,a=Error(r(130,e===null?"null":typeof e,"")),o=null}return n=Rn(g,a,n,h),n.elementType=e,n.type=o,n.lanes=f,n}function Lr(e,n,a,o){return e=Rn(7,e,o,n),e.lanes=a,e}function nf(e,n,a){return e=Rn(6,e,null,n),e.lanes=a,e}function ep(e){var n=Rn(18,null,null,0);return n.stateNode=e,n}function sf(e,n,a){return n=Rn(4,e.children!==null?e.children:[],e.key,n),n.lanes=a,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var np=new WeakMap;function qn(e,n){if(typeof e=="object"&&e!==null){var a=np.get(e);return a!==void 0?a:(n={value:e,source:n,stack:ht(n)},np.set(e,n),n)}return{value:e,source:n,stack:ht(n)}}var Sa=[],ba=0,zu=null,Ho=0,Hn=[],Fn=0,Ds=null,Ni=1,Di="";function Ki(e,n){Sa[ba++]=Ho,Sa[ba++]=zu,zu=e,Ho=n}function ip(e,n,a){Hn[Fn++]=Ni,Hn[Fn++]=Di,Hn[Fn++]=Ds,Ds=e;var o=Ni;e=Di;var h=32-be(o)-1;o&=~(1<<h),a+=1;var f=32-be(n)+h;if(30<f){var g=h-h%5;f=(o&(1<<g)-1).toString(32),o>>=g,h-=g,Ni=1<<32-be(n)+h|a<<h|o,Di=f+e}else Ni=1<<f|a<<h|o,Di=e}function rf(e){e.return!==null&&(Ki(e,1),ip(e,1,0))}function af(e){for(;e===zu;)zu=Sa[--ba],Sa[ba]=null,Ho=Sa[--ba],Sa[ba]=null;for(;e===Ds;)Ds=Hn[--Fn],Hn[Fn]=null,Di=Hn[--Fn],Hn[Fn]=null,Ni=Hn[--Fn],Hn[Fn]=null}function sp(e,n){Hn[Fn++]=Ni,Hn[Fn++]=Di,Hn[Fn++]=Ds,Ni=n.id,Di=n.overflow,Ds=e}var Ze=null,de=null,Ft=!1,xs=null,Gn=!1,of=Error(r(519));function Os(e){var n=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Fo(qn(n,e)),of}function rp(e){var n=e.stateNode,a=e.type,o=e.memoizedProps;switch(n[De]=e,n[He]=o,a){case"dialog":Lt("cancel",n),Lt("close",n);break;case"iframe":case"object":case"embed":Lt("load",n);break;case"video":case"audio":for(a=0;a<fl.length;a++)Lt(fl[a],n);break;case"source":Lt("error",n);break;case"img":case"image":case"link":Lt("error",n),Lt("load",n);break;case"details":Lt("toggle",n);break;case"input":Lt("invalid",n),_u(n,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0);break;case"select":Lt("invalid",n);break;case"textarea":Lt("invalid",n),Ss(n,o.value,o.defaultValue,o.children)}a=o.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||n.textContent===""+a||o.suppressHydrationWarning===!0||A_(n.textContent,a)?(o.popover!=null&&(Lt("beforetoggle",n),Lt("toggle",n)),o.onScroll!=null&&Lt("scroll",n),o.onScrollEnd!=null&&Lt("scrollend",n),o.onClick!=null&&(n.onclick=Wn),n=!0):n=!1,n||Os(e,!0)}function ap(e){for(Ze=e.return;Ze;)switch(Ze.tag){case 5:case 31:case 13:Gn=!1;return;case 27:case 3:Gn=!0;return;default:Ze=Ze.return}}function wa(e){if(e!==Ze)return!1;if(!Ft)return ap(e),Ft=!0,!1;var n=e.tag,a;if((a=n!==3&&n!==27)&&((a=n===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||wd(e.type,e.memoizedProps)),a=!a),a&&de&&Os(e),ap(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));de=x_(e)}else if(n===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));de=x_(e)}else n===27?(n=de,Qs(e.type)?(e=Dd,Dd=null,de=e):de=n):de=Ze?Yn(e.stateNode.nextSibling):null;return!0}function Pr(){de=Ze=null,Ft=!1}function lf(){var e=xs;return e!==null&&(vn===null?vn=e:vn.push.apply(vn,e),xs=null),e}function Fo(e){xs===null?xs=[e]:xs.push(e)}var uf=O(null),kr=null,Xi=null;function Ms(e,n,a){nt(uf,n._currentValue),n._currentValue=a}function $i(e){e._currentValue=uf.current,K(uf)}function cf(e,n,a){for(;e!==null;){var o=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,o!==null&&(o.childLanes|=n)):o!==null&&(o.childLanes&n)!==n&&(o.childLanes|=n),e===a)break;e=e.return}}function hf(e,n,a,o){var h=e.child;for(h!==null&&(h.return=e);h!==null;){var f=h.dependencies;if(f!==null){var g=h.child;f=f.firstContext;t:for(;f!==null;){var T=f;f=h;for(var R=0;R<n.length;R++)if(T.context===n[R]){f.lanes|=a,T=f.alternate,T!==null&&(T.lanes|=a),cf(f.return,a,e),o||(g=null);break t}f=T.next}}else if(h.tag===18){if(g=h.return,g===null)throw Error(r(341));g.lanes|=a,f=g.alternate,f!==null&&(f.lanes|=a),cf(g,a,e),g=null}else g=h.child;if(g!==null)g.return=h;else for(g=h;g!==null;){if(g===e){g=null;break}if(h=g.sibling,h!==null){h.return=g.return,g=h;break}g=g.return}h=g}}function Ra(e,n,a,o){e=null;for(var h=n,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var g=h.alternate;if(g===null)throw Error(r(387));if(g=g.memoizedProps,g!==null){var T=h.type;wn(h.pendingProps.value,g.value)||(e!==null?e.push(T):e=[T])}}else if(h===Pt.current){if(g=h.alternate,g===null)throw Error(r(387));g.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(e!==null?e.push(yl):e=[yl])}h=h.return}e!==null&&hf(n,e,a,o),n.flags|=262144}function ju(e){for(e=e.firstContext;e!==null;){if(!wn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function zr(e){kr=e,Xi=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Je(e){return op(kr,e)}function Bu(e,n){return kr===null&&zr(e),op(e,n)}function op(e,n){var a=n._currentValue;if(n={context:n,memoizedValue:a,next:null},Xi===null){if(e===null)throw Error(r(308));Xi=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else Xi=Xi.next=n;return a}var xA=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(a,o){e.push(o)}};this.abort=function(){n.aborted=!0,e.forEach(function(a){return a()})}},OA=s.unstable_scheduleCallback,MA=s.unstable_NormalPriority,Me={$$typeof:vt,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function ff(){return{controller:new xA,data:new Map,refCount:0}}function Go(e){e.refCount--,e.refCount===0&&OA(MA,function(){e.controller.abort()})}var Qo=null,df=0,Ia=0,Ca=null;function VA(e,n){if(Qo===null){var a=Qo=[];df=0,Ia=pd(),Ca={status:"pending",value:void 0,then:function(o){a.push(o)}}}return df++,n.then(lp,lp),n}function lp(){if(--df===0&&Qo!==null){Ca!==null&&(Ca.status="fulfilled");var e=Qo;Qo=null,Ia=0,Ca=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function UA(e,n){var a=[],o={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return e.then(function(){o.status="fulfilled",o.value=n;for(var h=0;h<a.length;h++)(0,a[h])(n)},function(h){for(o.status="rejected",o.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),o}var up=H.S;H.S=function(e,n){Qy=Dt(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&VA(e,n),up!==null&&up(e,n)};var jr=O(null);function mf(){var e=jr.current;return e!==null?e:ce.pooledCache}function qu(e,n){n===null?nt(jr,jr.current):nt(jr,n.pool)}function cp(){var e=mf();return e===null?null:{parent:Me._currentValue,pool:e}}var Na=Error(r(460)),gf=Error(r(474)),Hu=Error(r(542)),Fu={then:function(){}};function hp(e){return e=e.status,e==="fulfilled"||e==="rejected"}function fp(e,n,a){switch(a=e[a],a===void 0?e.push(n):a!==n&&(n.then(Wn,Wn),n=a),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,mp(e),e;default:if(typeof n.status=="string")n.then(Wn,Wn);else{if(e=ce,e!==null&&100<e.shellSuspendCounter)throw Error(r(482));e=n,e.status="pending",e.then(function(o){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=o}},function(o){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=o}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,mp(e),e}throw qr=n,Na}}function Br(e){try{var n=e._init;return n(e._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(qr=a,Na):a}}var qr=null;function dp(){if(qr===null)throw Error(r(459));var e=qr;return qr=null,e}function mp(e){if(e===Na||e===Hu)throw Error(r(483))}var Da=null,Yo=0;function Gu(e){var n=Yo;return Yo+=1,Da===null&&(Da=[]),fp(Da,e,n)}function Ko(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function Qu(e,n){throw n.$$typeof===N?Error(r(525)):(e=Object.prototype.toString.call(n),Error(r(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function gp(e){function n(L,x){if(e){var k=L.deletions;k===null?(L.deletions=[x],L.flags|=16):k.push(x)}}function a(L,x){if(!e)return null;for(;x!==null;)n(L,x),x=x.sibling;return null}function o(L){for(var x=new Map;L!==null;)L.key!==null?x.set(L.key,L):x.set(L.index,L),L=L.sibling;return x}function h(L,x){return L=Yi(L,x),L.index=0,L.sibling=null,L}function f(L,x,k){return L.index=k,e?(k=L.alternate,k!==null?(k=k.index,k<x?(L.flags|=67108866,x):k):(L.flags|=67108866,x)):(L.flags|=1048576,x)}function g(L){return e&&L.alternate===null&&(L.flags|=67108866),L}function T(L,x,k,Y){return x===null||x.tag!==6?(x=nf(k,L.mode,Y),x.return=L,x):(x=h(x,k),x.return=L,x)}function R(L,x,k,Y){var gt=k.type;return gt===st?F(L,x,k.props.children,Y,k.key):x!==null&&(x.elementType===gt||typeof gt=="object"&&gt!==null&&gt.$$typeof===b&&Br(gt)===x.type)?(x=h(x,k.props),Ko(x,k),x.return=L,x):(x=ku(k.type,k.key,k.props,null,L.mode,Y),Ko(x,k),x.return=L,x)}function z(L,x,k,Y){return x===null||x.tag!==4||x.stateNode.containerInfo!==k.containerInfo||x.stateNode.implementation!==k.implementation?(x=sf(k,L.mode,Y),x.return=L,x):(x=h(x,k.children||[]),x.return=L,x)}function F(L,x,k,Y,gt){return x===null||x.tag!==7?(x=Lr(k,L.mode,Y,gt),x.return=L,x):(x=h(x,k),x.return=L,x)}function X(L,x,k){if(typeof x=="string"&&x!==""||typeof x=="number"||typeof x=="bigint")return x=nf(""+x,L.mode,k),x.return=L,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case G:return k=ku(x.type,x.key,x.props,null,L.mode,k),Ko(k,x),k.return=L,k;case J:return x=sf(x,L.mode,k),x.return=L,x;case b:return x=Br(x),X(L,x,k)}if(fe(x)||U(x))return x=Lr(x,L.mode,k,null),x.return=L,x;if(typeof x.then=="function")return X(L,Gu(x),k);if(x.$$typeof===vt)return X(L,Bu(L,x),k);Qu(L,x)}return null}function j(L,x,k,Y){var gt=x!==null?x.key:null;if(typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint")return gt!==null?null:T(L,x,""+k,Y);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case G:return k.key===gt?R(L,x,k,Y):null;case J:return k.key===gt?z(L,x,k,Y):null;case b:return k=Br(k),j(L,x,k,Y)}if(fe(k)||U(k))return gt!==null?null:F(L,x,k,Y,null);if(typeof k.then=="function")return j(L,x,Gu(k),Y);if(k.$$typeof===vt)return j(L,x,Bu(L,k),Y);Qu(L,k)}return null}function q(L,x,k,Y,gt){if(typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint")return L=L.get(k)||null,T(x,L,""+Y,gt);if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case G:return L=L.get(Y.key===null?k:Y.key)||null,R(x,L,Y,gt);case J:return L=L.get(Y.key===null?k:Y.key)||null,z(x,L,Y,gt);case b:return Y=Br(Y),q(L,x,k,Y,gt)}if(fe(Y)||U(Y))return L=L.get(k)||null,F(x,L,Y,gt,null);if(typeof Y.then=="function")return q(L,x,k,Gu(Y),gt);if(Y.$$typeof===vt)return q(L,x,k,Bu(x,Y),gt);Qu(x,Y)}return null}function ut(L,x,k,Y){for(var gt=null,Xt=null,ct=x,Mt=x=0,zt=null;ct!==null&&Mt<k.length;Mt++){ct.index>Mt?(zt=ct,ct=null):zt=ct.sibling;var $t=j(L,ct,k[Mt],Y);if($t===null){ct===null&&(ct=zt);break}e&&ct&&$t.alternate===null&&n(L,ct),x=f($t,x,Mt),Xt===null?gt=$t:Xt.sibling=$t,Xt=$t,ct=zt}if(Mt===k.length)return a(L,ct),Ft&&Ki(L,Mt),gt;if(ct===null){for(;Mt<k.length;Mt++)ct=X(L,k[Mt],Y),ct!==null&&(x=f(ct,x,Mt),Xt===null?gt=ct:Xt.sibling=ct,Xt=ct);return Ft&&Ki(L,Mt),gt}for(ct=o(ct);Mt<k.length;Mt++)zt=q(ct,L,Mt,k[Mt],Y),zt!==null&&(e&&zt.alternate!==null&&ct.delete(zt.key===null?Mt:zt.key),x=f(zt,x,Mt),Xt===null?gt=zt:Xt.sibling=zt,Xt=zt);return e&&ct.forEach(function(Zs){return n(L,Zs)}),Ft&&Ki(L,Mt),gt}function _t(L,x,k,Y){if(k==null)throw Error(r(151));for(var gt=null,Xt=null,ct=x,Mt=x=0,zt=null,$t=k.next();ct!==null&&!$t.done;Mt++,$t=k.next()){ct.index>Mt?(zt=ct,ct=null):zt=ct.sibling;var Zs=j(L,ct,$t.value,Y);if(Zs===null){ct===null&&(ct=zt);break}e&&ct&&Zs.alternate===null&&n(L,ct),x=f(Zs,x,Mt),Xt===null?gt=Zs:Xt.sibling=Zs,Xt=Zs,ct=zt}if($t.done)return a(L,ct),Ft&&Ki(L,Mt),gt;if(ct===null){for(;!$t.done;Mt++,$t=k.next())$t=X(L,$t.value,Y),$t!==null&&(x=f($t,x,Mt),Xt===null?gt=$t:Xt.sibling=$t,Xt=$t);return Ft&&Ki(L,Mt),gt}for(ct=o(ct);!$t.done;Mt++,$t=k.next())$t=q(ct,L,Mt,$t.value,Y),$t!==null&&(e&&$t.alternate!==null&&ct.delete($t.key===null?Mt:$t.key),x=f($t,x,Mt),Xt===null?gt=$t:Xt.sibling=$t,Xt=$t);return e&&ct.forEach(function(QS){return n(L,QS)}),Ft&&Ki(L,Mt),gt}function ae(L,x,k,Y){if(typeof k=="object"&&k!==null&&k.type===st&&k.key===null&&(k=k.props.children),typeof k=="object"&&k!==null){switch(k.$$typeof){case G:t:{for(var gt=k.key;x!==null;){if(x.key===gt){if(gt=k.type,gt===st){if(x.tag===7){a(L,x.sibling),Y=h(x,k.props.children),Y.return=L,L=Y;break t}}else if(x.elementType===gt||typeof gt=="object"&&gt!==null&&gt.$$typeof===b&&Br(gt)===x.type){a(L,x.sibling),Y=h(x,k.props),Ko(Y,k),Y.return=L,L=Y;break t}a(L,x);break}else n(L,x);x=x.sibling}k.type===st?(Y=Lr(k.props.children,L.mode,Y,k.key),Y.return=L,L=Y):(Y=ku(k.type,k.key,k.props,null,L.mode,Y),Ko(Y,k),Y.return=L,L=Y)}return g(L);case J:t:{for(gt=k.key;x!==null;){if(x.key===gt)if(x.tag===4&&x.stateNode.containerInfo===k.containerInfo&&x.stateNode.implementation===k.implementation){a(L,x.sibling),Y=h(x,k.children||[]),Y.return=L,L=Y;break t}else{a(L,x);break}else n(L,x);x=x.sibling}Y=sf(k,L.mode,Y),Y.return=L,L=Y}return g(L);case b:return k=Br(k),ae(L,x,k,Y)}if(fe(k))return ut(L,x,k,Y);if(U(k)){if(gt=U(k),typeof gt!="function")throw Error(r(150));return k=gt.call(k),_t(L,x,k,Y)}if(typeof k.then=="function")return ae(L,x,Gu(k),Y);if(k.$$typeof===vt)return ae(L,x,Bu(L,k),Y);Qu(L,k)}return typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint"?(k=""+k,x!==null&&x.tag===6?(a(L,x.sibling),Y=h(x,k),Y.return=L,L=Y):(a(L,x),Y=nf(k,L.mode,Y),Y.return=L,L=Y),g(L)):a(L,x)}return function(L,x,k,Y){try{Yo=0;var gt=ae(L,x,k,Y);return Da=null,gt}catch(ct){if(ct===Na||ct===Hu)throw ct;var Xt=Rn(29,ct,null,L.mode);return Xt.lanes=Y,Xt.return=L,Xt}finally{}}}var Hr=gp(!0),pp=gp(!1),Vs=!1;function pf(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function yf(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Us(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Ls(e,n,a){var o=e.updateQueue;if(o===null)return null;if(o=o.shared,(Jt&2)!==0){var h=o.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),o.pending=n,n=Pu(e),Wg(e,null,a),n}return Lu(e,o,n,a),Pu(e)}function Xo(e,n,a){if(n=n.updateQueue,n!==null&&(n=n.shared,(a&4194048)!==0)){var o=n.lanes;o&=e.pendingLanes,a|=o,n.lanes=a,Ao(e,a)}}function _f(e,n){var a=e.updateQueue,o=e.alternate;if(o!==null&&(o=o.updateQueue,a===o)){var h=null,f=null;if(a=a.firstBaseUpdate,a!==null){do{var g={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};f===null?h=f=g:f=f.next=g,a=a.next}while(a!==null);f===null?h=f=n:f=f.next=n}else h=f=n;a={baseState:o.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:o.shared,callbacks:o.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=n:e.next=n,a.lastBaseUpdate=n}var vf=!1;function $o(){if(vf){var e=Ca;if(e!==null)throw e}}function Zo(e,n,a,o){vf=!1;var h=e.updateQueue;Vs=!1;var f=h.firstBaseUpdate,g=h.lastBaseUpdate,T=h.shared.pending;if(T!==null){h.shared.pending=null;var R=T,z=R.next;R.next=null,g===null?f=z:g.next=z,g=R;var F=e.alternate;F!==null&&(F=F.updateQueue,T=F.lastBaseUpdate,T!==g&&(T===null?F.firstBaseUpdate=z:T.next=z,F.lastBaseUpdate=R))}if(f!==null){var X=h.baseState;g=0,F=z=R=null,T=f;do{var j=T.lane&-536870913,q=j!==T.lane;if(q?(kt&j)===j:(o&j)===j){j!==0&&j===Ia&&(vf=!0),F!==null&&(F=F.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});t:{var ut=e,_t=T;j=n;var ae=a;switch(_t.tag){case 1:if(ut=_t.payload,typeof ut=="function"){X=ut.call(ae,X,j);break t}X=ut;break t;case 3:ut.flags=ut.flags&-65537|128;case 0:if(ut=_t.payload,j=typeof ut=="function"?ut.call(ae,X,j):ut,j==null)break t;X=S({},X,j);break t;case 2:Vs=!0}}j=T.callback,j!==null&&(e.flags|=64,q&&(e.flags|=8192),q=h.callbacks,q===null?h.callbacks=[j]:q.push(j))}else q={lane:j,tag:T.tag,payload:T.payload,callback:T.callback,next:null},F===null?(z=F=q,R=X):F=F.next=q,g|=j;if(T=T.next,T===null){if(T=h.shared.pending,T===null)break;q=T,T=q.next,q.next=null,h.lastBaseUpdate=q,h.shared.pending=null}}while(!0);F===null&&(R=X),h.baseState=R,h.firstBaseUpdate=z,h.lastBaseUpdate=F,f===null&&(h.shared.lanes=0),Bs|=g,e.lanes=g,e.memoizedState=X}}function yp(e,n){if(typeof e!="function")throw Error(r(191,e));e.call(n)}function _p(e,n){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)yp(a[e],n)}var xa=O(null),Yu=O(0);function vp(e,n){e=rs,nt(Yu,e),nt(xa,n),rs=e|n.baseLanes}function Tf(){nt(Yu,rs),nt(xa,xa.current)}function Ef(){rs=Yu.current,K(xa),K(Yu)}var In=O(null),Qn=null;function Ps(e){var n=e.alternate;nt(Re,Re.current&1),nt(In,e),Qn===null&&(n===null||xa.current!==null||n.memoizedState!==null)&&(Qn=e)}function Af(e){nt(Re,Re.current),nt(In,e),Qn===null&&(Qn=e)}function Tp(e){e.tag===22?(nt(Re,Re.current),nt(In,e),Qn===null&&(Qn=e)):ks()}function ks(){nt(Re,Re.current),nt(In,In.current)}function Cn(e){K(In),Qn===e&&(Qn=null),K(Re)}var Re=O(0);function Ku(e){for(var n=e;n!==null;){if(n.tag===13){var a=n.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||Cd(a)||Nd(a)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var Zi=0,Ot=null,se=null,Ve=null,Xu=!1,Oa=!1,Fr=!1,$u=0,Jo=0,Ma=null,LA=0;function Ae(){throw Error(r(321))}function Sf(e,n){if(n===null)return!1;for(var a=0;a<n.length&&a<e.length;a++)if(!wn(e[a],n[a]))return!1;return!0}function bf(e,n,a,o,h,f){return Zi=f,Ot=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,H.H=e===null||e.memoizedState===null?iy:zf,Fr=!1,f=a(o,h),Fr=!1,Oa&&(f=Ap(n,a,o,h)),Ep(e),f}function Ep(e){H.H=el;var n=se!==null&&se.next!==null;if(Zi=0,Ve=se=Ot=null,Xu=!1,Jo=0,Ma=null,n)throw Error(r(300));e===null||Ue||(e=e.dependencies,e!==null&&ju(e)&&(Ue=!0))}function Ap(e,n,a,o){Ot=e;var h=0;do{if(Oa&&(Ma=null),Jo=0,Oa=!1,25<=h)throw Error(r(301));if(h+=1,Ve=se=null,e.updateQueue!=null){var f=e.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}H.H=sy,f=n(a,o)}while(Oa);return f}function PA(){var e=H.H,n=e.useState()[0];return n=typeof n.then=="function"?Wo(n):n,e=e.useState()[0],(se!==null?se.memoizedState:null)!==e&&(Ot.flags|=1024),n}function wf(){var e=$u!==0;return $u=0,e}function Rf(e,n,a){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~a}function If(e){if(Xu){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}Xu=!1}Zi=0,Ve=se=Ot=null,Oa=!1,Jo=$u=0,Ma=null}function fn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ve===null?Ot.memoizedState=Ve=e:Ve=Ve.next=e,Ve}function Ie(){if(se===null){var e=Ot.alternate;e=e!==null?e.memoizedState:null}else e=se.next;var n=Ve===null?Ot.memoizedState:Ve.next;if(n!==null)Ve=n,se=e;else{if(e===null)throw Ot.alternate===null?Error(r(467)):Error(r(310));se=e,e={memoizedState:se.memoizedState,baseState:se.baseState,baseQueue:se.baseQueue,queue:se.queue,next:null},Ve===null?Ot.memoizedState=Ve=e:Ve=Ve.next=e}return Ve}function Zu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Wo(e){var n=Jo;return Jo+=1,Ma===null&&(Ma=[]),e=fp(Ma,e,n),n=Ot,(Ve===null?n.memoizedState:Ve.next)===null&&(n=n.alternate,H.H=n===null||n.memoizedState===null?iy:zf),e}function Ju(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Wo(e);if(e.$$typeof===vt)return Je(e)}throw Error(r(438,String(e)))}function Cf(e){var n=null,a=Ot.updateQueue;if(a!==null&&(n=a.memoCache),n==null){var o=Ot.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(n={data:o.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),a===null&&(a=Zu(),Ot.updateQueue=a),a.memoCache=n,a=n.data[n.index],a===void 0)for(a=n.data[n.index]=Array(e),o=0;o<e;o++)a[o]=V;return n.index++,a}function Ji(e,n){return typeof n=="function"?n(e):n}function Wu(e){var n=Ie();return Nf(n,se,e)}function Nf(e,n,a){var o=e.queue;if(o===null)throw Error(r(311));o.lastRenderedReducer=a;var h=e.baseQueue,f=o.pending;if(f!==null){if(h!==null){var g=h.next;h.next=f.next,f.next=g}n.baseQueue=h=f,o.pending=null}if(f=e.baseState,h===null)e.memoizedState=f;else{n=h.next;var T=g=null,R=null,z=n,F=!1;do{var X=z.lane&-536870913;if(X!==z.lane?(kt&X)===X:(Zi&X)===X){var j=z.revertLane;if(j===0)R!==null&&(R=R.next={lane:0,revertLane:0,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null}),X===Ia&&(F=!0);else if((Zi&j)===j){z=z.next,j===Ia&&(F=!0);continue}else X={lane:0,revertLane:z.revertLane,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},R===null?(T=R=X,g=f):R=R.next=X,Ot.lanes|=j,Bs|=j;X=z.action,Fr&&a(f,X),f=z.hasEagerState?z.eagerState:a(f,X)}else j={lane:X,revertLane:z.revertLane,gesture:z.gesture,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},R===null?(T=R=j,g=f):R=R.next=j,Ot.lanes|=X,Bs|=X;z=z.next}while(z!==null&&z!==n);if(R===null?g=f:R.next=T,!wn(f,e.memoizedState)&&(Ue=!0,F&&(a=Ca,a!==null)))throw a;e.memoizedState=f,e.baseState=g,e.baseQueue=R,o.lastRenderedState=f}return h===null&&(o.lanes=0),[e.memoizedState,o.dispatch]}function Df(e){var n=Ie(),a=n.queue;if(a===null)throw Error(r(311));a.lastRenderedReducer=e;var o=a.dispatch,h=a.pending,f=n.memoizedState;if(h!==null){a.pending=null;var g=h=h.next;do f=e(f,g.action),g=g.next;while(g!==h);wn(f,n.memoizedState)||(Ue=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),a.lastRenderedState=f}return[f,o]}function Sp(e,n,a){var o=Ot,h=Ie(),f=Ft;if(f){if(a===void 0)throw Error(r(407));a=a()}else a=n();var g=!wn((se||h).memoizedState,a);if(g&&(h.memoizedState=a,Ue=!0),h=h.queue,Mf(Rp.bind(null,o,h,e),[e]),h.getSnapshot!==n||g||Ve!==null&&Ve.memoizedState.tag&1){if(o.flags|=2048,Va(9,{destroy:void 0},wp.bind(null,o,h,a,n),null),ce===null)throw Error(r(349));f||(Zi&127)!==0||bp(o,n,a)}return a}function bp(e,n,a){e.flags|=16384,e={getSnapshot:n,value:a},n=Ot.updateQueue,n===null?(n=Zu(),Ot.updateQueue=n,n.stores=[e]):(a=n.stores,a===null?n.stores=[e]:a.push(e))}function wp(e,n,a,o){n.value=a,n.getSnapshot=o,Ip(n)&&Cp(e)}function Rp(e,n,a){return a(function(){Ip(n)&&Cp(e)})}function Ip(e){var n=e.getSnapshot;e=e.value;try{var a=n();return!wn(e,a)}catch{return!0}}function Cp(e){var n=Ur(e,2);n!==null&&Tn(n,e,2)}function xf(e){var n=fn();if(typeof e=="function"){var a=e;if(e=a(),Fr){Ln(!0);try{a()}finally{Ln(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ji,lastRenderedState:e},n}function Np(e,n,a,o){return e.baseState=a,Nf(e,se,typeof o=="function"?o:Ji)}function kA(e,n,a,o,h){if(nc(e))throw Error(r(485));if(e=n.action,e!==null){var f={payload:h,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(g){f.listeners.push(g)}};H.T!==null?a(!0):f.isTransition=!1,o(f),a=n.pending,a===null?(f.next=n.pending=f,Dp(n,f)):(f.next=a.next,n.pending=a.next=f)}}function Dp(e,n){var a=n.action,o=n.payload,h=e.state;if(n.isTransition){var f=H.T,g={};H.T=g;try{var T=a(h,o),R=H.S;R!==null&&R(g,T),xp(e,n,T)}catch(z){Of(e,n,z)}finally{f!==null&&g.types!==null&&(f.types=g.types),H.T=f}}else try{f=a(h,o),xp(e,n,f)}catch(z){Of(e,n,z)}}function xp(e,n,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(o){Op(e,n,o)},function(o){return Of(e,n,o)}):Op(e,n,a)}function Op(e,n,a){n.status="fulfilled",n.value=a,Mp(n),e.state=a,n=e.pending,n!==null&&(a=n.next,a===n?e.pending=null:(a=a.next,n.next=a,Dp(e,a)))}function Of(e,n,a){var o=e.pending;if(e.pending=null,o!==null){o=o.next;do n.status="rejected",n.reason=a,Mp(n),n=n.next;while(n!==o)}e.action=null}function Mp(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function Vp(e,n){return n}function Up(e,n){if(Ft){var a=ce.formState;if(a!==null){t:{var o=Ot;if(Ft){if(de){e:{for(var h=de,f=Gn;h.nodeType!==8;){if(!f){h=null;break e}if(h=Yn(h.nextSibling),h===null){h=null;break e}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){de=Yn(h.nextSibling),o=h.data==="F!";break t}}Os(o)}o=!1}o&&(n=a[0])}}return a=fn(),a.memoizedState=a.baseState=n,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Vp,lastRenderedState:n},a.queue=o,a=ty.bind(null,Ot,o),o.dispatch=a,o=xf(!1),f=kf.bind(null,Ot,!1,o.queue),o=fn(),h={state:n,dispatch:null,action:e,pending:null},o.queue=h,a=kA.bind(null,Ot,h,f,a),h.dispatch=a,o.memoizedState=e,[n,a,!1]}function Lp(e){var n=Ie();return Pp(n,se,e)}function Pp(e,n,a){if(n=Nf(e,n,Vp)[0],e=Wu(Ji)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var o=Wo(n)}catch(g){throw g===Na?Hu:g}else o=n;n=Ie();var h=n.queue,f=h.dispatch;return a!==n.memoizedState&&(Ot.flags|=2048,Va(9,{destroy:void 0},zA.bind(null,h,a),null)),[o,f,e]}function zA(e,n){e.action=n}function kp(e){var n=Ie(),a=se;if(a!==null)return Pp(n,a,e);Ie(),n=n.memoizedState,a=Ie();var o=a.queue.dispatch;return a.memoizedState=e,[n,o,!1]}function Va(e,n,a,o){return e={tag:e,create:a,deps:o,inst:n,next:null},n=Ot.updateQueue,n===null&&(n=Zu(),Ot.updateQueue=n),a=n.lastEffect,a===null?n.lastEffect=e.next=e:(o=a.next,a.next=e,e.next=o,n.lastEffect=e),e}function zp(){return Ie().memoizedState}function tc(e,n,a,o){var h=fn();Ot.flags|=e,h.memoizedState=Va(1|n,{destroy:void 0},a,o===void 0?null:o)}function ec(e,n,a,o){var h=Ie();o=o===void 0?null:o;var f=h.memoizedState.inst;se!==null&&o!==null&&Sf(o,se.memoizedState.deps)?h.memoizedState=Va(n,f,a,o):(Ot.flags|=e,h.memoizedState=Va(1|n,f,a,o))}function jp(e,n){tc(8390656,8,e,n)}function Mf(e,n){ec(2048,8,e,n)}function jA(e){Ot.flags|=4;var n=Ot.updateQueue;if(n===null)n=Zu(),Ot.updateQueue=n,n.events=[e];else{var a=n.events;a===null?n.events=[e]:a.push(e)}}function Bp(e){var n=Ie().memoizedState;return jA({ref:n,nextImpl:e}),function(){if((Jt&2)!==0)throw Error(r(440));return n.impl.apply(void 0,arguments)}}function qp(e,n){return ec(4,2,e,n)}function Hp(e,n){return ec(4,4,e,n)}function Fp(e,n){if(typeof n=="function"){e=e();var a=n(e);return function(){typeof a=="function"?a():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function Gp(e,n,a){a=a!=null?a.concat([e]):null,ec(4,4,Fp.bind(null,n,e),a)}function Vf(){}function Qp(e,n){var a=Ie();n=n===void 0?null:n;var o=a.memoizedState;return n!==null&&Sf(n,o[1])?o[0]:(a.memoizedState=[e,n],e)}function Yp(e,n){var a=Ie();n=n===void 0?null:n;var o=a.memoizedState;if(n!==null&&Sf(n,o[1]))return o[0];if(o=e(),Fr){Ln(!0);try{e()}finally{Ln(!1)}}return a.memoizedState=[o,n],o}function Uf(e,n,a){return a===void 0||(Zi&1073741824)!==0&&(kt&261930)===0?e.memoizedState=n:(e.memoizedState=a,e=Ky(),Ot.lanes|=e,Bs|=e,a)}function Kp(e,n,a,o){return wn(a,n)?a:xa.current!==null?(e=Uf(e,a,o),wn(e,n)||(Ue=!0),e):(Zi&42)===0||(Zi&1073741824)!==0&&(kt&261930)===0?(Ue=!0,e.memoizedState=a):(e=Ky(),Ot.lanes|=e,Bs|=e,n)}function Xp(e,n,a,o,h){var f=et.p;et.p=f!==0&&8>f?f:8;var g=H.T,T={};H.T=T,kf(e,!1,n,a);try{var R=h(),z=H.S;if(z!==null&&z(T,R),R!==null&&typeof R=="object"&&typeof R.then=="function"){var F=UA(R,o);tl(e,n,F,xn(e))}else tl(e,n,o,xn(e))}catch(X){tl(e,n,{then:function(){},status:"rejected",reason:X},xn())}finally{et.p=f,g!==null&&T.types!==null&&(g.types=T.types),H.T=g}}function BA(){}function Lf(e,n,a,o){if(e.tag!==5)throw Error(r(476));var h=$p(e).queue;Xp(e,h,n,mt,a===null?BA:function(){return Zp(e),a(o)})}function $p(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:mt,baseState:mt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ji,lastRenderedState:mt},next:null};var a={};return n.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ji,lastRenderedState:a},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function Zp(e){var n=$p(e);n.next===null&&(n=e.alternate.memoizedState),tl(e,n.next.queue,{},xn())}function Pf(){return Je(yl)}function Jp(){return Ie().memoizedState}function Wp(){return Ie().memoizedState}function qA(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var a=xn();e=Us(a);var o=Ls(n,e,a);o!==null&&(Tn(o,n,a),Xo(o,n,a)),n={cache:ff()},e.payload=n;return}n=n.return}}function HA(e,n,a){var o=xn();a={lane:o,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},nc(e)?ey(n,a):(a=tf(e,n,a,o),a!==null&&(Tn(a,e,o),ny(a,n,o)))}function ty(e,n,a){var o=xn();tl(e,n,a,o)}function tl(e,n,a,o){var h={lane:o,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(nc(e))ey(n,h);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var g=n.lastRenderedState,T=f(g,a);if(h.hasEagerState=!0,h.eagerState=T,wn(T,g))return Lu(e,n,h,0),ce===null&&Uu(),!1}catch{}finally{}if(a=tf(e,n,h,o),a!==null)return Tn(a,e,o),ny(a,n,o),!0}return!1}function kf(e,n,a,o){if(o={lane:2,revertLane:pd(),gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},nc(e)){if(n)throw Error(r(479))}else n=tf(e,a,o,2),n!==null&&Tn(n,e,2)}function nc(e){var n=e.alternate;return e===Ot||n!==null&&n===Ot}function ey(e,n){Oa=Xu=!0;var a=e.pending;a===null?n.next=n:(n.next=a.next,a.next=n),e.pending=n}function ny(e,n,a){if((a&4194048)!==0){var o=n.lanes;o&=e.pendingLanes,a|=o,n.lanes=a,Ao(e,a)}}var el={readContext:Je,use:Ju,useCallback:Ae,useContext:Ae,useEffect:Ae,useImperativeHandle:Ae,useLayoutEffect:Ae,useInsertionEffect:Ae,useMemo:Ae,useReducer:Ae,useRef:Ae,useState:Ae,useDebugValue:Ae,useDeferredValue:Ae,useTransition:Ae,useSyncExternalStore:Ae,useId:Ae,useHostTransitionStatus:Ae,useFormState:Ae,useActionState:Ae,useOptimistic:Ae,useMemoCache:Ae,useCacheRefresh:Ae};el.useEffectEvent=Ae;var iy={readContext:Je,use:Ju,useCallback:function(e,n){return fn().memoizedState=[e,n===void 0?null:n],e},useContext:Je,useEffect:jp,useImperativeHandle:function(e,n,a){a=a!=null?a.concat([e]):null,tc(4194308,4,Fp.bind(null,n,e),a)},useLayoutEffect:function(e,n){return tc(4194308,4,e,n)},useInsertionEffect:function(e,n){tc(4,2,e,n)},useMemo:function(e,n){var a=fn();n=n===void 0?null:n;var o=e();if(Fr){Ln(!0);try{e()}finally{Ln(!1)}}return a.memoizedState=[o,n],o},useReducer:function(e,n,a){var o=fn();if(a!==void 0){var h=a(n);if(Fr){Ln(!0);try{a(n)}finally{Ln(!1)}}}else h=n;return o.memoizedState=o.baseState=h,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:h},o.queue=e,e=e.dispatch=HA.bind(null,Ot,e),[o.memoizedState,e]},useRef:function(e){var n=fn();return e={current:e},n.memoizedState=e},useState:function(e){e=xf(e);var n=e.queue,a=ty.bind(null,Ot,n);return n.dispatch=a,[e.memoizedState,a]},useDebugValue:Vf,useDeferredValue:function(e,n){var a=fn();return Uf(a,e,n)},useTransition:function(){var e=xf(!1);return e=Xp.bind(null,Ot,e.queue,!0,!1),fn().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,a){var o=Ot,h=fn();if(Ft){if(a===void 0)throw Error(r(407));a=a()}else{if(a=n(),ce===null)throw Error(r(349));(kt&127)!==0||bp(o,n,a)}h.memoizedState=a;var f={value:a,getSnapshot:n};return h.queue=f,jp(Rp.bind(null,o,f,e),[e]),o.flags|=2048,Va(9,{destroy:void 0},wp.bind(null,o,f,a,n),null),a},useId:function(){var e=fn(),n=ce.identifierPrefix;if(Ft){var a=Di,o=Ni;a=(o&~(1<<32-be(o)-1)).toString(32)+a,n="_"+n+"R_"+a,a=$u++,0<a&&(n+="H"+a.toString(32)),n+="_"}else a=LA++,n="_"+n+"r_"+a.toString(32)+"_";return e.memoizedState=n},useHostTransitionStatus:Pf,useFormState:Up,useActionState:Up,useOptimistic:function(e){var n=fn();n.memoizedState=n.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=a,n=kf.bind(null,Ot,!0,a),a.dispatch=n,[e,n]},useMemoCache:Cf,useCacheRefresh:function(){return fn().memoizedState=qA.bind(null,Ot)},useEffectEvent:function(e){var n=fn(),a={impl:e};return n.memoizedState=a,function(){if((Jt&2)!==0)throw Error(r(440));return a.impl.apply(void 0,arguments)}}},zf={readContext:Je,use:Ju,useCallback:Qp,useContext:Je,useEffect:Mf,useImperativeHandle:Gp,useInsertionEffect:qp,useLayoutEffect:Hp,useMemo:Yp,useReducer:Wu,useRef:zp,useState:function(){return Wu(Ji)},useDebugValue:Vf,useDeferredValue:function(e,n){var a=Ie();return Kp(a,se.memoizedState,e,n)},useTransition:function(){var e=Wu(Ji)[0],n=Ie().memoizedState;return[typeof e=="boolean"?e:Wo(e),n]},useSyncExternalStore:Sp,useId:Jp,useHostTransitionStatus:Pf,useFormState:Lp,useActionState:Lp,useOptimistic:function(e,n){var a=Ie();return Np(a,se,e,n)},useMemoCache:Cf,useCacheRefresh:Wp};zf.useEffectEvent=Bp;var sy={readContext:Je,use:Ju,useCallback:Qp,useContext:Je,useEffect:Mf,useImperativeHandle:Gp,useInsertionEffect:qp,useLayoutEffect:Hp,useMemo:Yp,useReducer:Df,useRef:zp,useState:function(){return Df(Ji)},useDebugValue:Vf,useDeferredValue:function(e,n){var a=Ie();return se===null?Uf(a,e,n):Kp(a,se.memoizedState,e,n)},useTransition:function(){var e=Df(Ji)[0],n=Ie().memoizedState;return[typeof e=="boolean"?e:Wo(e),n]},useSyncExternalStore:Sp,useId:Jp,useHostTransitionStatus:Pf,useFormState:kp,useActionState:kp,useOptimistic:function(e,n){var a=Ie();return se!==null?Np(a,se,e,n):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:Cf,useCacheRefresh:Wp};sy.useEffectEvent=Bp;function jf(e,n,a,o){n=e.memoizedState,a=a(o,n),a=a==null?n:S({},n,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var Bf={enqueueSetState:function(e,n,a){e=e._reactInternals;var o=xn(),h=Us(o);h.payload=n,a!=null&&(h.callback=a),n=Ls(e,h,o),n!==null&&(Tn(n,e,o),Xo(n,e,o))},enqueueReplaceState:function(e,n,a){e=e._reactInternals;var o=xn(),h=Us(o);h.tag=1,h.payload=n,a!=null&&(h.callback=a),n=Ls(e,h,o),n!==null&&(Tn(n,e,o),Xo(n,e,o))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var a=xn(),o=Us(a);o.tag=2,n!=null&&(o.callback=n),n=Ls(e,o,a),n!==null&&(Tn(n,e,a),Xo(n,e,a))}};function ry(e,n,a,o,h,f,g){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(o,f,g):n.prototype&&n.prototype.isPureReactComponent?!Bo(a,o)||!Bo(h,f):!0}function ay(e,n,a,o){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(a,o),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(a,o),n.state!==e&&Bf.enqueueReplaceState(n,n.state,null)}function Gr(e,n){var a=n;if("ref"in n){a={};for(var o in n)o!=="ref"&&(a[o]=n[o])}if(e=e.defaultProps){a===n&&(a=S({},a));for(var h in e)a[h]===void 0&&(a[h]=e[h])}return a}function oy(e){Vu(e)}function ly(e){console.error(e)}function uy(e){Vu(e)}function ic(e,n){try{var a=e.onUncaughtError;a(n.value,{componentStack:n.stack})}catch(o){setTimeout(function(){throw o})}}function cy(e,n,a){try{var o=e.onCaughtError;o(a.value,{componentStack:a.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function qf(e,n,a){return a=Us(a),a.tag=3,a.payload={element:null},a.callback=function(){ic(e,n)},a}function hy(e){return e=Us(e),e.tag=3,e}function fy(e,n,a,o){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var f=o.value;e.payload=function(){return h(f)},e.callback=function(){cy(n,a,o)}}var g=a.stateNode;g!==null&&typeof g.componentDidCatch=="function"&&(e.callback=function(){cy(n,a,o),typeof h!="function"&&(qs===null?qs=new Set([this]):qs.add(this));var T=o.stack;this.componentDidCatch(o.value,{componentStack:T!==null?T:""})})}function FA(e,n,a,o,h){if(a.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(n=a.alternate,n!==null&&Ra(n,a,h,!0),a=In.current,a!==null){switch(a.tag){case 31:case 13:return Qn===null?gc():a.alternate===null&&Se===0&&(Se=3),a.flags&=-257,a.flags|=65536,a.lanes=h,o===Fu?a.flags|=16384:(n=a.updateQueue,n===null?a.updateQueue=new Set([o]):n.add(o),dd(e,o,h)),!1;case 22:return a.flags|=65536,o===Fu?a.flags|=16384:(n=a.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([o])},a.updateQueue=n):(a=n.retryQueue,a===null?n.retryQueue=new Set([o]):a.add(o)),dd(e,o,h)),!1}throw Error(r(435,a.tag))}return dd(e,o,h),gc(),!1}if(Ft)return n=In.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,o!==of&&(e=Error(r(422),{cause:o}),Fo(qn(e,a)))):(o!==of&&(n=Error(r(423),{cause:o}),Fo(qn(n,a))),e=e.current.alternate,e.flags|=65536,h&=-h,e.lanes|=h,o=qn(o,a),h=qf(e.stateNode,o,h),_f(e,h),Se!==4&&(Se=2)),!1;var f=Error(r(520),{cause:o});if(f=qn(f,a),ul===null?ul=[f]:ul.push(f),Se!==4&&(Se=2),n===null)return!0;o=qn(o,a),a=n;do{switch(a.tag){case 3:return a.flags|=65536,e=h&-h,a.lanes|=e,e=qf(a.stateNode,o,e),_f(a,e),!1;case 1:if(n=a.type,f=a.stateNode,(a.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(qs===null||!qs.has(f))))return a.flags|=65536,h&=-h,a.lanes|=h,h=hy(h),fy(h,e,a,o),_f(a,h),!1}a=a.return}while(a!==null);return!1}var Hf=Error(r(461)),Ue=!1;function We(e,n,a,o){n.child=e===null?pp(n,null,a,o):Hr(n,e.child,a,o)}function dy(e,n,a,o,h){a=a.render;var f=n.ref;if("ref"in o){var g={};for(var T in o)T!=="ref"&&(g[T]=o[T])}else g=o;return zr(n),o=bf(e,n,a,g,f,h),T=wf(),e!==null&&!Ue?(Rf(e,n,h),Wi(e,n,h)):(Ft&&T&&rf(n),n.flags|=1,We(e,n,o,h),n.child)}function my(e,n,a,o,h){if(e===null){var f=a.type;return typeof f=="function"&&!ef(f)&&f.defaultProps===void 0&&a.compare===null?(n.tag=15,n.type=f,gy(e,n,f,o,h)):(e=ku(a.type,null,o,n,n.mode,h),e.ref=n.ref,e.return=n,n.child=e)}if(f=e.child,!Zf(e,h)){var g=f.memoizedProps;if(a=a.compare,a=a!==null?a:Bo,a(g,o)&&e.ref===n.ref)return Wi(e,n,h)}return n.flags|=1,e=Yi(f,o),e.ref=n.ref,e.return=n,n.child=e}function gy(e,n,a,o,h){if(e!==null){var f=e.memoizedProps;if(Bo(f,o)&&e.ref===n.ref)if(Ue=!1,n.pendingProps=o=f,Zf(e,h))(e.flags&131072)!==0&&(Ue=!0);else return n.lanes=e.lanes,Wi(e,n,h)}return Ff(e,n,a,o,h)}function py(e,n,a,o){var h=o.children,f=e!==null?e.memoizedState:null;if(e===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|a:a,e!==null){for(o=n.child=e.child,h=0;o!==null;)h=h|o.lanes|o.childLanes,o=o.sibling;o=h&~f}else o=0,n.child=null;return yy(e,n,f,a,o)}if((a&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&qu(n,f!==null?f.cachePool:null),f!==null?vp(n,f):Tf(),Tp(n);else return o=n.lanes=536870912,yy(e,n,f!==null?f.baseLanes|a:a,a,o)}else f!==null?(qu(n,f.cachePool),vp(n,f),ks(),n.memoizedState=null):(e!==null&&qu(n,null),Tf(),ks());return We(e,n,h,a),n.child}function nl(e,n){return e!==null&&e.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function yy(e,n,a,o,h){var f=mf();return f=f===null?null:{parent:Me._currentValue,pool:f},n.memoizedState={baseLanes:a,cachePool:f},e!==null&&qu(n,null),Tf(),Tp(n),e!==null&&Ra(e,n,o,!0),n.childLanes=h,null}function sc(e,n){return n=ac({mode:n.mode,children:n.children},e.mode),n.ref=e.ref,e.child=n,n.return=e,n}function _y(e,n,a){return Hr(n,e.child,null,a),e=sc(n,n.pendingProps),e.flags|=2,Cn(n),n.memoizedState=null,e}function GA(e,n,a){var o=n.pendingProps,h=(n.flags&128)!==0;if(n.flags&=-129,e===null){if(Ft){if(o.mode==="hidden")return e=sc(n,o),n.lanes=536870912,nl(null,e);if(Af(n),(e=de)?(e=D_(e,Gn),e=e!==null&&e.data==="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:Ds!==null?{id:Ni,overflow:Di}:null,retryLane:536870912,hydrationErrors:null},a=ep(e),a.return=n,n.child=a,Ze=n,de=null)):e=null,e===null)throw Os(n);return n.lanes=536870912,null}return sc(n,o)}var f=e.memoizedState;if(f!==null){var g=f.dehydrated;if(Af(n),h)if(n.flags&256)n.flags&=-257,n=_y(e,n,a);else if(n.memoizedState!==null)n.child=e.child,n.flags|=128,n=null;else throw Error(r(558));else if(Ue||Ra(e,n,a,!1),h=(a&e.childLanes)!==0,Ue||h){if(o=ce,o!==null&&(g=So(o,a),g!==0&&g!==f.retryLane))throw f.retryLane=g,Ur(e,g),Tn(o,e,g),Hf;gc(),n=_y(e,n,a)}else e=f.treeContext,de=Yn(g.nextSibling),Ze=n,Ft=!0,xs=null,Gn=!1,e!==null&&sp(n,e),n=sc(n,o),n.flags|=4096;return n}return e=Yi(e.child,{mode:o.mode,children:o.children}),e.ref=n.ref,n.child=e,e.return=n,e}function rc(e,n){var a=n.ref;if(a===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(r(284));(e===null||e.ref!==a)&&(n.flags|=4194816)}}function Ff(e,n,a,o,h){return zr(n),a=bf(e,n,a,o,void 0,h),o=wf(),e!==null&&!Ue?(Rf(e,n,h),Wi(e,n,h)):(Ft&&o&&rf(n),n.flags|=1,We(e,n,a,h),n.child)}function vy(e,n,a,o,h,f){return zr(n),n.updateQueue=null,a=Ap(n,o,a,h),Ep(e),o=wf(),e!==null&&!Ue?(Rf(e,n,f),Wi(e,n,f)):(Ft&&o&&rf(n),n.flags|=1,We(e,n,a,f),n.child)}function Ty(e,n,a,o,h){if(zr(n),n.stateNode===null){var f=Aa,g=a.contextType;typeof g=="object"&&g!==null&&(f=Je(g)),f=new a(o,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Bf,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=o,f.state=n.memoizedState,f.refs={},pf(n),g=a.contextType,f.context=typeof g=="object"&&g!==null?Je(g):Aa,f.state=n.memoizedState,g=a.getDerivedStateFromProps,typeof g=="function"&&(jf(n,a,g,o),f.state=n.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(g=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),g!==f.state&&Bf.enqueueReplaceState(f,f.state,null),Zo(n,o,f,h),$o(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!0}else if(e===null){f=n.stateNode;var T=n.memoizedProps,R=Gr(a,T);f.props=R;var z=f.context,F=a.contextType;g=Aa,typeof F=="object"&&F!==null&&(g=Je(F));var X=a.getDerivedStateFromProps;F=typeof X=="function"||typeof f.getSnapshotBeforeUpdate=="function",T=n.pendingProps!==T,F||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(T||z!==g)&&ay(n,f,o,g),Vs=!1;var j=n.memoizedState;f.state=j,Zo(n,o,f,h),$o(),z=n.memoizedState,T||j!==z||Vs?(typeof X=="function"&&(jf(n,a,X,o),z=n.memoizedState),(R=Vs||ry(n,a,R,o,j,z,g))?(F||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=o,n.memoizedState=z),f.props=o,f.state=z,f.context=g,o=R):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!1)}else{f=n.stateNode,yf(e,n),g=n.memoizedProps,F=Gr(a,g),f.props=F,X=n.pendingProps,j=f.context,z=a.contextType,R=Aa,typeof z=="object"&&z!==null&&(R=Je(z)),T=a.getDerivedStateFromProps,(z=typeof T=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(g!==X||j!==R)&&ay(n,f,o,R),Vs=!1,j=n.memoizedState,f.state=j,Zo(n,o,f,h),$o();var q=n.memoizedState;g!==X||j!==q||Vs||e!==null&&e.dependencies!==null&&ju(e.dependencies)?(typeof T=="function"&&(jf(n,a,T,o),q=n.memoizedState),(F=Vs||ry(n,a,F,o,j,q,R)||e!==null&&e.dependencies!==null&&ju(e.dependencies))?(z||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(o,q,R),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(o,q,R)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||g===e.memoizedProps&&j===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&j===e.memoizedState||(n.flags|=1024),n.memoizedProps=o,n.memoizedState=q),f.props=o,f.state=q,f.context=R,o=F):(typeof f.componentDidUpdate!="function"||g===e.memoizedProps&&j===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&j===e.memoizedState||(n.flags|=1024),o=!1)}return f=o,rc(e,n),o=(n.flags&128)!==0,f||o?(f=n.stateNode,a=o&&typeof a.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,e!==null&&o?(n.child=Hr(n,e.child,null,h),n.child=Hr(n,null,a,h)):We(e,n,a,h),n.memoizedState=f.state,e=n.child):e=Wi(e,n,h),e}function Ey(e,n,a,o){return Pr(),n.flags|=256,We(e,n,a,o),n.child}var Gf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Qf(e){return{baseLanes:e,cachePool:cp()}}function Yf(e,n,a){return e=e!==null?e.childLanes&~a:0,n&&(e|=Dn),e}function Ay(e,n,a){var o=n.pendingProps,h=!1,f=(n.flags&128)!==0,g;if((g=f)||(g=e!==null&&e.memoizedState===null?!1:(Re.current&2)!==0),g&&(h=!0,n.flags&=-129),g=(n.flags&32)!==0,n.flags&=-33,e===null){if(Ft){if(h?Ps(n):ks(),(e=de)?(e=D_(e,Gn),e=e!==null&&e.data!=="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:Ds!==null?{id:Ni,overflow:Di}:null,retryLane:536870912,hydrationErrors:null},a=ep(e),a.return=n,n.child=a,Ze=n,de=null)):e=null,e===null)throw Os(n);return Nd(e)?n.lanes=32:n.lanes=536870912,null}var T=o.children;return o=o.fallback,h?(ks(),h=n.mode,T=ac({mode:"hidden",children:T},h),o=Lr(o,h,a,null),T.return=n,o.return=n,T.sibling=o,n.child=T,o=n.child,o.memoizedState=Qf(a),o.childLanes=Yf(e,g,a),n.memoizedState=Gf,nl(null,o)):(Ps(n),Kf(n,T))}var R=e.memoizedState;if(R!==null&&(T=R.dehydrated,T!==null)){if(f)n.flags&256?(Ps(n),n.flags&=-257,n=Xf(e,n,a)):n.memoizedState!==null?(ks(),n.child=e.child,n.flags|=128,n=null):(ks(),T=o.fallback,h=n.mode,o=ac({mode:"visible",children:o.children},h),T=Lr(T,h,a,null),T.flags|=2,o.return=n,T.return=n,o.sibling=T,n.child=o,Hr(n,e.child,null,a),o=n.child,o.memoizedState=Qf(a),o.childLanes=Yf(e,g,a),n.memoizedState=Gf,n=nl(null,o));else if(Ps(n),Nd(T)){if(g=T.nextSibling&&T.nextSibling.dataset,g)var z=g.dgst;g=z,o=Error(r(419)),o.stack="",o.digest=g,Fo({value:o,source:null,stack:null}),n=Xf(e,n,a)}else if(Ue||Ra(e,n,a,!1),g=(a&e.childLanes)!==0,Ue||g){if(g=ce,g!==null&&(o=So(g,a),o!==0&&o!==R.retryLane))throw R.retryLane=o,Ur(e,o),Tn(g,e,o),Hf;Cd(T)||gc(),n=Xf(e,n,a)}else Cd(T)?(n.flags|=192,n.child=e.child,n=null):(e=R.treeContext,de=Yn(T.nextSibling),Ze=n,Ft=!0,xs=null,Gn=!1,e!==null&&sp(n,e),n=Kf(n,o.children),n.flags|=4096);return n}return h?(ks(),T=o.fallback,h=n.mode,R=e.child,z=R.sibling,o=Yi(R,{mode:"hidden",children:o.children}),o.subtreeFlags=R.subtreeFlags&65011712,z!==null?T=Yi(z,T):(T=Lr(T,h,a,null),T.flags|=2),T.return=n,o.return=n,o.sibling=T,n.child=o,nl(null,o),o=n.child,T=e.child.memoizedState,T===null?T=Qf(a):(h=T.cachePool,h!==null?(R=Me._currentValue,h=h.parent!==R?{parent:R,pool:R}:h):h=cp(),T={baseLanes:T.baseLanes|a,cachePool:h}),o.memoizedState=T,o.childLanes=Yf(e,g,a),n.memoizedState=Gf,nl(e.child,o)):(Ps(n),a=e.child,e=a.sibling,a=Yi(a,{mode:"visible",children:o.children}),a.return=n,a.sibling=null,e!==null&&(g=n.deletions,g===null?(n.deletions=[e],n.flags|=16):g.push(e)),n.child=a,n.memoizedState=null,a)}function Kf(e,n){return n=ac({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function ac(e,n){return e=Rn(22,e,null,n),e.lanes=0,e}function Xf(e,n,a){return Hr(n,e.child,null,a),e=Kf(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function Sy(e,n,a){e.lanes|=n;var o=e.alternate;o!==null&&(o.lanes|=n),cf(e.return,n,a)}function $f(e,n,a,o,h,f){var g=e.memoizedState;g===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:o,tail:a,tailMode:h,treeForkCount:f}:(g.isBackwards=n,g.rendering=null,g.renderingStartTime=0,g.last=o,g.tail=a,g.tailMode=h,g.treeForkCount=f)}function by(e,n,a){var o=n.pendingProps,h=o.revealOrder,f=o.tail;o=o.children;var g=Re.current,T=(g&2)!==0;if(T?(g=g&1|2,n.flags|=128):g&=1,nt(Re,g),We(e,n,o,a),o=Ft?Ho:0,!T&&e!==null&&(e.flags&128)!==0)t:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Sy(e,a,n);else if(e.tag===19)Sy(e,a,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break t;for(;e.sibling===null;){if(e.return===null||e.return===n)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(h){case"forwards":for(a=n.child,h=null;a!==null;)e=a.alternate,e!==null&&Ku(e)===null&&(h=a),a=a.sibling;a=h,a===null?(h=n.child,n.child=null):(h=a.sibling,a.sibling=null),$f(n,!1,h,a,f,o);break;case"backwards":case"unstable_legacy-backwards":for(a=null,h=n.child,n.child=null;h!==null;){if(e=h.alternate,e!==null&&Ku(e)===null){n.child=h;break}e=h.sibling,h.sibling=a,a=h,h=e}$f(n,!0,a,null,f,o);break;case"together":$f(n,!1,null,null,void 0,o);break;default:n.memoizedState=null}return n.child}function Wi(e,n,a){if(e!==null&&(n.dependencies=e.dependencies),Bs|=n.lanes,(a&n.childLanes)===0)if(e!==null){if(Ra(e,n,a,!1),(a&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(r(153));if(n.child!==null){for(e=n.child,a=Yi(e,e.pendingProps),n.child=a,a.return=n;e.sibling!==null;)e=e.sibling,a=a.sibling=Yi(e,e.pendingProps),a.return=n;a.sibling=null}return n.child}function Zf(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&ju(e)))}function QA(e,n,a){switch(n.tag){case 3:Ee(n,n.stateNode.containerInfo),Ms(n,Me,e.memoizedState.cache),Pr();break;case 27:case 5:Bi(n);break;case 4:Ee(n,n.stateNode.containerInfo);break;case 10:Ms(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,Af(n),null;break;case 13:var o=n.memoizedState;if(o!==null)return o.dehydrated!==null?(Ps(n),n.flags|=128,null):(a&n.child.childLanes)!==0?Ay(e,n,a):(Ps(n),e=Wi(e,n,a),e!==null?e.sibling:null);Ps(n);break;case 19:var h=(e.flags&128)!==0;if(o=(a&n.childLanes)!==0,o||(Ra(e,n,a,!1),o=(a&n.childLanes)!==0),h){if(o)return by(e,n,a);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),nt(Re,Re.current),o)break;return null;case 22:return n.lanes=0,py(e,n,a,n.pendingProps);case 24:Ms(n,Me,e.memoizedState.cache)}return Wi(e,n,a)}function wy(e,n,a){if(e!==null)if(e.memoizedProps!==n.pendingProps)Ue=!0;else{if(!Zf(e,a)&&(n.flags&128)===0)return Ue=!1,QA(e,n,a);Ue=(e.flags&131072)!==0}else Ue=!1,Ft&&(n.flags&1048576)!==0&&ip(n,Ho,n.index);switch(n.lanes=0,n.tag){case 16:t:{var o=n.pendingProps;if(e=Br(n.elementType),n.type=e,typeof e=="function")ef(e)?(o=Gr(e,o),n.tag=1,n=Ty(null,n,e,o,a)):(n.tag=0,n=Ff(null,n,e,o,a));else{if(e!=null){var h=e.$$typeof;if(h===St){n.tag=11,n=dy(null,n,e,o,a);break t}else if(h===C){n.tag=14,n=my(null,n,e,o,a);break t}}throw n=he(e)||e,Error(r(306,n,""))}}return n;case 0:return Ff(e,n,n.type,n.pendingProps,a);case 1:return o=n.type,h=Gr(o,n.pendingProps),Ty(e,n,o,h,a);case 3:t:{if(Ee(n,n.stateNode.containerInfo),e===null)throw Error(r(387));o=n.pendingProps;var f=n.memoizedState;h=f.element,yf(e,n),Zo(n,o,null,a);var g=n.memoizedState;if(o=g.cache,Ms(n,Me,o),o!==f.cache&&hf(n,[Me],a,!0),$o(),o=g.element,f.isDehydrated)if(f={element:o,isDehydrated:!1,cache:g.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=Ey(e,n,o,a);break t}else if(o!==h){h=qn(Error(r(424)),n),Fo(h),n=Ey(e,n,o,a);break t}else{switch(e=n.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(de=Yn(e.firstChild),Ze=n,Ft=!0,xs=null,Gn=!0,a=pp(n,null,o,a),n.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Pr(),o===h){n=Wi(e,n,a);break t}We(e,n,o,a)}n=n.child}return n;case 26:return rc(e,n),e===null?(a=L_(n.type,null,n.pendingProps,null))?n.memoizedState=a:Ft||(a=n.type,e=n.pendingProps,o=Ac(It.current).createElement(a),o[De]=n,o[He]=e,tn(o,a,e),xe(o),n.stateNode=o):n.memoizedState=L_(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return Bi(n),e===null&&Ft&&(o=n.stateNode=M_(n.type,n.pendingProps,It.current),Ze=n,Gn=!0,h=de,Qs(n.type)?(Dd=h,de=Yn(o.firstChild)):de=h),We(e,n,n.pendingProps.children,a),rc(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&Ft&&((h=o=de)&&(o=AS(o,n.type,n.pendingProps,Gn),o!==null?(n.stateNode=o,Ze=n,de=Yn(o.firstChild),Gn=!1,h=!0):h=!1),h||Os(n)),Bi(n),h=n.type,f=n.pendingProps,g=e!==null?e.memoizedProps:null,o=f.children,wd(h,f)?o=null:g!==null&&wd(h,g)&&(n.flags|=32),n.memoizedState!==null&&(h=bf(e,n,PA,null,null,a),yl._currentValue=h),rc(e,n),We(e,n,o,a),n.child;case 6:return e===null&&Ft&&((e=a=de)&&(a=SS(a,n.pendingProps,Gn),a!==null?(n.stateNode=a,Ze=n,de=null,e=!0):e=!1),e||Os(n)),null;case 13:return Ay(e,n,a);case 4:return Ee(n,n.stateNode.containerInfo),o=n.pendingProps,e===null?n.child=Hr(n,null,o,a):We(e,n,o,a),n.child;case 11:return dy(e,n,n.type,n.pendingProps,a);case 7:return We(e,n,n.pendingProps,a),n.child;case 8:return We(e,n,n.pendingProps.children,a),n.child;case 12:return We(e,n,n.pendingProps.children,a),n.child;case 10:return o=n.pendingProps,Ms(n,n.type,o.value),We(e,n,o.children,a),n.child;case 9:return h=n.type._context,o=n.pendingProps.children,zr(n),h=Je(h),o=o(h),n.flags|=1,We(e,n,o,a),n.child;case 14:return my(e,n,n.type,n.pendingProps,a);case 15:return gy(e,n,n.type,n.pendingProps,a);case 19:return by(e,n,a);case 31:return GA(e,n,a);case 22:return py(e,n,a,n.pendingProps);case 24:return zr(n),o=Je(Me),e===null?(h=mf(),h===null&&(h=ce,f=ff(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=a),h=f),n.memoizedState={parent:o,cache:h},pf(n),Ms(n,Me,h)):((e.lanes&a)!==0&&(yf(e,n),Zo(n,null,null,a),$o()),h=e.memoizedState,f=n.memoizedState,h.parent!==o?(h={parent:o,cache:o},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),Ms(n,Me,o)):(o=f.cache,Ms(n,Me,o),o!==h.cache&&hf(n,[Me],a,!0))),We(e,n,n.pendingProps.children,a),n.child;case 29:throw n.pendingProps}throw Error(r(156,n.tag))}function ts(e){e.flags|=4}function Jf(e,n,a,o,h){if((n=(e.mode&32)!==0)&&(n=!1),n){if(e.flags|=16777216,(h&335544128)===h)if(e.stateNode.complete)e.flags|=8192;else if(Jy())e.flags|=8192;else throw qr=Fu,gf}else e.flags&=-16777217}function Ry(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!B_(n))if(Jy())e.flags|=8192;else throw qr=Fu,gf}function oc(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?du():536870912,e.lanes|=n,ka|=n)}function il(e,n){if(!Ft)switch(e.tailMode){case"hidden":n=e.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var o=null;a!==null;)a.alternate!==null&&(o=a),a=a.sibling;o===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:o.sibling=null}}function me(e){var n=e.alternate!==null&&e.alternate.child===e.child,a=0,o=0;if(n)for(var h=e.child;h!==null;)a|=h.lanes|h.childLanes,o|=h.subtreeFlags&65011712,o|=h.flags&65011712,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)a|=h.lanes|h.childLanes,o|=h.subtreeFlags,o|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=o,e.childLanes=a,n}function YA(e,n,a){var o=n.pendingProps;switch(af(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return me(n),null;case 1:return me(n),null;case 3:return a=n.stateNode,o=null,e!==null&&(o=e.memoizedState.cache),n.memoizedState.cache!==o&&(n.flags|=2048),$i(Me),ue(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(wa(n)?ts(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,lf())),me(n),null;case 26:var h=n.type,f=n.memoizedState;return e===null?(ts(n),f!==null?(me(n),Ry(n,f)):(me(n),Jf(n,h,null,o,a))):f?f!==e.memoizedState?(ts(n),me(n),Ry(n,f)):(me(n),n.flags&=-16777217):(e=e.memoizedProps,e!==o&&ts(n),me(n),Jf(n,h,e,o,a)),null;case 27:if(ys(n),a=It.current,h=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&ts(n);else{if(!o){if(n.stateNode===null)throw Error(r(166));return me(n),null}e=rt.current,wa(n)?rp(n):(e=M_(h,o,a),n.stateNode=e,ts(n))}return me(n),null;case 5:if(ys(n),h=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&ts(n);else{if(!o){if(n.stateNode===null)throw Error(r(166));return me(n),null}if(f=rt.current,wa(n))rp(n);else{var g=Ac(It.current);switch(f){case 1:f=g.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:f=g.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":f=g.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":f=g.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":f=g.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof o.is=="string"?g.createElement("select",{is:o.is}):g.createElement("select"),o.multiple?f.multiple=!0:o.size&&(f.size=o.size);break;default:f=typeof o.is=="string"?g.createElement(h,{is:o.is}):g.createElement(h)}}f[De]=n,f[He]=o;t:for(g=n.child;g!==null;){if(g.tag===5||g.tag===6)f.appendChild(g.stateNode);else if(g.tag!==4&&g.tag!==27&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===n)break t;for(;g.sibling===null;){if(g.return===null||g.return===n)break t;g=g.return}g.sibling.return=g.return,g=g.sibling}n.stateNode=f;t:switch(tn(f,h,o),h){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break t;case"img":o=!0;break t;default:o=!1}o&&ts(n)}}return me(n),Jf(n,n.type,e===null?null:e.memoizedProps,n.pendingProps,a),null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==o&&ts(n);else{if(typeof o!="string"&&n.stateNode===null)throw Error(r(166));if(e=It.current,wa(n)){if(e=n.stateNode,a=n.memoizedProps,o=null,h=Ze,h!==null)switch(h.tag){case 27:case 5:o=h.memoizedProps}e[De]=n,e=!!(e.nodeValue===a||o!==null&&o.suppressHydrationWarning===!0||A_(e.nodeValue,a)),e||Os(n,!0)}else e=Ac(e).createTextNode(o),e[De]=n,n.stateNode=e}return me(n),null;case 31:if(a=n.memoizedState,e===null||e.memoizedState!==null){if(o=wa(n),a!==null){if(e===null){if(!o)throw Error(r(318));if(e=n.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(557));e[De]=n}else Pr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;me(n),e=!1}else a=lf(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=a),e=!0;if(!e)return n.flags&256?(Cn(n),n):(Cn(n),null);if((n.flags&128)!==0)throw Error(r(558))}return me(n),null;case 13:if(o=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(h=wa(n),o!==null&&o.dehydrated!==null){if(e===null){if(!h)throw Error(r(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(r(317));h[De]=n}else Pr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;me(n),h=!1}else h=lf(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(Cn(n),n):(Cn(n),null)}return Cn(n),(n.flags&128)!==0?(n.lanes=a,n):(a=o!==null,e=e!==null&&e.memoizedState!==null,a&&(o=n.child,h=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(h=o.alternate.memoizedState.cachePool.pool),f=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),f!==h&&(o.flags|=2048)),a!==e&&a&&(n.child.flags|=8192),oc(n,n.updateQueue),me(n),null);case 4:return ue(),e===null&&Td(n.stateNode.containerInfo),me(n),null;case 10:return $i(n.type),me(n),null;case 19:if(K(Re),o=n.memoizedState,o===null)return me(n),null;if(h=(n.flags&128)!==0,f=o.rendering,f===null)if(h)il(o,!1);else{if(Se!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(f=Ku(e),f!==null){for(n.flags|=128,il(o,!1),e=f.updateQueue,n.updateQueue=e,oc(n,e),n.subtreeFlags=0,e=a,a=n.child;a!==null;)tp(a,e),a=a.sibling;return nt(Re,Re.current&1|2),Ft&&Ki(n,o.treeForkCount),n.child}e=e.sibling}o.tail!==null&&Dt()>fc&&(n.flags|=128,h=!0,il(o,!1),n.lanes=4194304)}else{if(!h)if(e=Ku(f),e!==null){if(n.flags|=128,h=!0,e=e.updateQueue,n.updateQueue=e,oc(n,e),il(o,!0),o.tail===null&&o.tailMode==="hidden"&&!f.alternate&&!Ft)return me(n),null}else 2*Dt()-o.renderingStartTime>fc&&a!==536870912&&(n.flags|=128,h=!0,il(o,!1),n.lanes=4194304);o.isBackwards?(f.sibling=n.child,n.child=f):(e=o.last,e!==null?e.sibling=f:n.child=f,o.last=f)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=Dt(),e.sibling=null,a=Re.current,nt(Re,h?a&1|2:a&1),Ft&&Ki(n,o.treeForkCount),e):(me(n),null);case 22:case 23:return Cn(n),Ef(),o=n.memoizedState!==null,e!==null?e.memoizedState!==null!==o&&(n.flags|=8192):o&&(n.flags|=8192),o?(a&536870912)!==0&&(n.flags&128)===0&&(me(n),n.subtreeFlags&6&&(n.flags|=8192)):me(n),a=n.updateQueue,a!==null&&oc(n,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),o=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),o!==a&&(n.flags|=2048),e!==null&&K(jr),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),n.memoizedState.cache!==a&&(n.flags|=2048),$i(Me),me(n),null;case 25:return null;case 30:return null}throw Error(r(156,n.tag))}function KA(e,n){switch(af(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return $i(Me),ue(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return ys(n),null;case 31:if(n.memoizedState!==null){if(Cn(n),n.alternate===null)throw Error(r(340));Pr()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 13:if(Cn(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(r(340));Pr()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return K(Re),null;case 4:return ue(),null;case 10:return $i(n.type),null;case 22:case 23:return Cn(n),Ef(),e!==null&&K(jr),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return $i(Me),null;case 25:return null;default:return null}}function Iy(e,n){switch(af(n),n.tag){case 3:$i(Me),ue();break;case 26:case 27:case 5:ys(n);break;case 4:ue();break;case 31:n.memoizedState!==null&&Cn(n);break;case 13:Cn(n);break;case 19:K(Re);break;case 10:$i(n.type);break;case 22:case 23:Cn(n),Ef(),e!==null&&K(jr);break;case 24:$i(Me)}}function sl(e,n){try{var a=n.updateQueue,o=a!==null?a.lastEffect:null;if(o!==null){var h=o.next;a=h;do{if((a.tag&e)===e){o=void 0;var f=a.create,g=a.inst;o=f(),g.destroy=o}a=a.next}while(a!==h)}}catch(T){ne(n,n.return,T)}}function zs(e,n,a){try{var o=n.updateQueue,h=o!==null?o.lastEffect:null;if(h!==null){var f=h.next;o=f;do{if((o.tag&e)===e){var g=o.inst,T=g.destroy;if(T!==void 0){g.destroy=void 0,h=n;var R=a,z=T;try{z()}catch(F){ne(h,R,F)}}}o=o.next}while(o!==f)}}catch(F){ne(n,n.return,F)}}function Cy(e){var n=e.updateQueue;if(n!==null){var a=e.stateNode;try{_p(n,a)}catch(o){ne(e,e.return,o)}}}function Ny(e,n,a){a.props=Gr(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(o){ne(e,n,o)}}function rl(e,n){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var o=e.stateNode;break;case 30:o=e.stateNode;break;default:o=e.stateNode}typeof a=="function"?e.refCleanup=a(o):a.current=o}}catch(h){ne(e,n,h)}}function xi(e,n){var a=e.ref,o=e.refCleanup;if(a!==null)if(typeof o=="function")try{o()}catch(h){ne(e,n,h)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){ne(e,n,h)}else a.current=null}function Dy(e){var n=e.type,a=e.memoizedProps,o=e.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":a.autoFocus&&o.focus();break t;case"img":a.src?o.src=a.src:a.srcSet&&(o.srcset=a.srcSet)}}catch(h){ne(e,e.return,h)}}function Wf(e,n,a){try{var o=e.stateNode;pS(o,e.type,a,n),o[He]=n}catch(h){ne(e,e.return,h)}}function xy(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Qs(e.type)||e.tag===4}function td(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||xy(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Qs(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function ed(e,n,a){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,n):(n=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,n.appendChild(e),a=a._reactRootContainer,a!=null||n.onclick!==null||(n.onclick=Wn));else if(o!==4&&(o===27&&Qs(e.type)&&(a=e.stateNode,n=null),e=e.child,e!==null))for(ed(e,n,a),e=e.sibling;e!==null;)ed(e,n,a),e=e.sibling}function lc(e,n,a){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?a.insertBefore(e,n):a.appendChild(e);else if(o!==4&&(o===27&&Qs(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(lc(e,n,a),e=e.sibling;e!==null;)lc(e,n,a),e=e.sibling}function Oy(e){var n=e.stateNode,a=e.memoizedProps;try{for(var o=e.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);tn(n,o,a),n[De]=e,n[He]=a}catch(f){ne(e,e.return,f)}}var es=!1,Le=!1,nd=!1,My=typeof WeakSet=="function"?WeakSet:Set,Ge=null;function XA(e,n){if(e=e.containerInfo,Sd=Nc,e=Gg(e),Kh(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else t:{a=(a=e.ownerDocument)&&a.defaultView||window;var o=a.getSelection&&a.getSelection();if(o&&o.rangeCount!==0){a=o.anchorNode;var h=o.anchorOffset,f=o.focusNode;o=o.focusOffset;try{a.nodeType,f.nodeType}catch{a=null;break t}var g=0,T=-1,R=-1,z=0,F=0,X=e,j=null;e:for(;;){for(var q;X!==a||h!==0&&X.nodeType!==3||(T=g+h),X!==f||o!==0&&X.nodeType!==3||(R=g+o),X.nodeType===3&&(g+=X.nodeValue.length),(q=X.firstChild)!==null;)j=X,X=q;for(;;){if(X===e)break e;if(j===a&&++z===h&&(T=g),j===f&&++F===o&&(R=g),(q=X.nextSibling)!==null)break;X=j,j=X.parentNode}X=q}a=T===-1||R===-1?null:{start:T,end:R}}else a=null}a=a||{start:0,end:0}}else a=null;for(bd={focusedElem:e,selectionRange:a},Nc=!1,Ge=n;Ge!==null;)if(n=Ge,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,Ge=e;else for(;Ge!==null;){switch(n=Ge,f=n.alternate,e=n.flags,n.tag){case 0:if((e&4)!==0&&(e=n.updateQueue,e=e!==null?e.events:null,e!==null))for(a=0;a<e.length;a++)h=e[a],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&f!==null){e=void 0,a=n,h=f.memoizedProps,f=f.memoizedState,o=a.stateNode;try{var ut=Gr(a.type,h);e=o.getSnapshotBeforeUpdate(ut,f),o.__reactInternalSnapshotBeforeUpdate=e}catch(_t){ne(a,a.return,_t)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,a=e.nodeType,a===9)Id(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Id(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(r(163))}if(e=n.sibling,e!==null){e.return=n.return,Ge=e;break}Ge=n.return}}function Vy(e,n,a){var o=a.flags;switch(a.tag){case 0:case 11:case 15:is(e,a),o&4&&sl(5,a);break;case 1:if(is(e,a),o&4)if(e=a.stateNode,n===null)try{e.componentDidMount()}catch(g){ne(a,a.return,g)}else{var h=Gr(a.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(h,n,e.__reactInternalSnapshotBeforeUpdate)}catch(g){ne(a,a.return,g)}}o&64&&Cy(a),o&512&&rl(a,a.return);break;case 3:if(is(e,a),o&64&&(e=a.updateQueue,e!==null)){if(n=null,a.child!==null)switch(a.child.tag){case 27:case 5:n=a.child.stateNode;break;case 1:n=a.child.stateNode}try{_p(e,n)}catch(g){ne(a,a.return,g)}}break;case 27:n===null&&o&4&&Oy(a);case 26:case 5:is(e,a),n===null&&o&4&&Dy(a),o&512&&rl(a,a.return);break;case 12:is(e,a);break;case 31:is(e,a),o&4&&Py(e,a);break;case 13:is(e,a),o&4&&ky(e,a),o&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=sS.bind(null,a),bS(e,a))));break;case 22:if(o=a.memoizedState!==null||es,!o){n=n!==null&&n.memoizedState!==null||Le,h=es;var f=Le;es=o,(Le=n)&&!f?ss(e,a,(a.subtreeFlags&8772)!==0):is(e,a),es=h,Le=f}break;case 30:break;default:is(e,a)}}function Uy(e){var n=e.alternate;n!==null&&(e.alternate=null,Uy(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&la(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var _e=null,pn=!1;function ns(e,n,a){for(a=a.child;a!==null;)Ly(e,n,a),a=a.sibling}function Ly(e,n,a){if(Xe&&typeof Xe.onCommitFiberUnmount=="function")try{Xe.onCommitFiberUnmount(Xn,a)}catch{}switch(a.tag){case 26:Le||xi(a,n),ns(e,n,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Le||xi(a,n);var o=_e,h=pn;Qs(a.type)&&(_e=a.stateNode,pn=!1),ns(e,n,a),ml(a.stateNode),_e=o,pn=h;break;case 5:Le||xi(a,n);case 6:if(o=_e,h=pn,_e=null,ns(e,n,a),_e=o,pn=h,_e!==null)if(pn)try{(_e.nodeType===9?_e.body:_e.nodeName==="HTML"?_e.ownerDocument.body:_e).removeChild(a.stateNode)}catch(f){ne(a,n,f)}else try{_e.removeChild(a.stateNode)}catch(f){ne(a,n,f)}break;case 18:_e!==null&&(pn?(e=_e,C_(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),Qa(e)):C_(_e,a.stateNode));break;case 4:o=_e,h=pn,_e=a.stateNode.containerInfo,pn=!0,ns(e,n,a),_e=o,pn=h;break;case 0:case 11:case 14:case 15:zs(2,a,n),Le||zs(4,a,n),ns(e,n,a);break;case 1:Le||(xi(a,n),o=a.stateNode,typeof o.componentWillUnmount=="function"&&Ny(a,n,o)),ns(e,n,a);break;case 21:ns(e,n,a);break;case 22:Le=(o=Le)||a.memoizedState!==null,ns(e,n,a),Le=o;break;default:ns(e,n,a)}}function Py(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Qa(e)}catch(a){ne(n,n.return,a)}}}function ky(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Qa(e)}catch(a){ne(n,n.return,a)}}function $A(e){switch(e.tag){case 31:case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new My),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new My),n;default:throw Error(r(435,e.tag))}}function uc(e,n){var a=$A(e);n.forEach(function(o){if(!a.has(o)){a.add(o);var h=rS.bind(null,e,o);o.then(h,h)}})}function yn(e,n){var a=n.deletions;if(a!==null)for(var o=0;o<a.length;o++){var h=a[o],f=e,g=n,T=g;t:for(;T!==null;){switch(T.tag){case 27:if(Qs(T.type)){_e=T.stateNode,pn=!1;break t}break;case 5:_e=T.stateNode,pn=!1;break t;case 3:case 4:_e=T.stateNode.containerInfo,pn=!0;break t}T=T.return}if(_e===null)throw Error(r(160));Ly(f,g,h),_e=null,pn=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)zy(n,e),n=n.sibling}var ri=null;function zy(e,n){var a=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:yn(n,e),_n(e),o&4&&(zs(3,e,e.return),sl(3,e),zs(5,e,e.return));break;case 1:yn(n,e),_n(e),o&512&&(Le||a===null||xi(a,a.return)),o&64&&es&&(e=e.updateQueue,e!==null&&(o=e.callbacks,o!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?o:a.concat(o))));break;case 26:var h=ri;if(yn(n,e),_n(e),o&512&&(Le||a===null||xi(a,a.return)),o&4){var f=a!==null?a.memoizedState:null;if(o=e.memoizedState,a===null)if(o===null)if(e.stateNode===null){t:{o=e.type,a=e.memoizedProps,h=h.ownerDocument||h;e:switch(o){case"title":f=h.getElementsByTagName("title")[0],(!f||f[yi]||f[De]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(o),h.head.insertBefore(f,h.querySelector("head > title"))),tn(f,o,a),f[De]=e,xe(f),o=f;break t;case"link":var g=z_("link","href",h).get(o+(a.href||""));if(g){for(var T=0;T<g.length;T++)if(f=g[T],f.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&f.getAttribute("rel")===(a.rel==null?null:a.rel)&&f.getAttribute("title")===(a.title==null?null:a.title)&&f.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){g.splice(T,1);break e}}f=h.createElement(o),tn(f,o,a),h.head.appendChild(f);break;case"meta":if(g=z_("meta","content",h).get(o+(a.content||""))){for(T=0;T<g.length;T++)if(f=g[T],f.getAttribute("content")===(a.content==null?null:""+a.content)&&f.getAttribute("name")===(a.name==null?null:a.name)&&f.getAttribute("property")===(a.property==null?null:a.property)&&f.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&f.getAttribute("charset")===(a.charSet==null?null:a.charSet)){g.splice(T,1);break e}}f=h.createElement(o),tn(f,o,a),h.head.appendChild(f);break;default:throw Error(r(468,o))}f[De]=e,xe(f),o=f}e.stateNode=o}else j_(h,e.type,e.stateNode);else e.stateNode=k_(h,o,e.memoizedProps);else f!==o?(f===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):f.count--,o===null?j_(h,e.type,e.stateNode):k_(h,o,e.memoizedProps)):o===null&&e.stateNode!==null&&Wf(e,e.memoizedProps,a.memoizedProps)}break;case 27:yn(n,e),_n(e),o&512&&(Le||a===null||xi(a,a.return)),a!==null&&o&4&&Wf(e,e.memoizedProps,a.memoizedProps);break;case 5:if(yn(n,e),_n(e),o&512&&(Le||a===null||xi(a,a.return)),e.flags&32){h=e.stateNode;try{gn(h,"")}catch(ut){ne(e,e.return,ut)}}o&4&&e.stateNode!=null&&(h=e.memoizedProps,Wf(e,h,a!==null?a.memoizedProps:h)),o&1024&&(nd=!0);break;case 6:if(yn(n,e),_n(e),o&4){if(e.stateNode===null)throw Error(r(162));o=e.memoizedProps,a=e.stateNode;try{a.nodeValue=o}catch(ut){ne(e,e.return,ut)}}break;case 3:if(wc=null,h=ri,ri=Sc(n.containerInfo),yn(n,e),ri=h,_n(e),o&4&&a!==null&&a.memoizedState.isDehydrated)try{Qa(n.containerInfo)}catch(ut){ne(e,e.return,ut)}nd&&(nd=!1,jy(e));break;case 4:o=ri,ri=Sc(e.stateNode.containerInfo),yn(n,e),_n(e),ri=o;break;case 12:yn(n,e),_n(e);break;case 31:yn(n,e),_n(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,uc(e,o)));break;case 13:yn(n,e),_n(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(hc=Dt()),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,uc(e,o)));break;case 22:h=e.memoizedState!==null;var R=a!==null&&a.memoizedState!==null,z=es,F=Le;if(es=z||h,Le=F||R,yn(n,e),Le=F,es=z,_n(e),o&8192)t:for(n=e.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(a===null||R||es||Le||Qr(e)),a=null,n=e;;){if(n.tag===5||n.tag===26){if(a===null){R=a=n;try{if(f=R.stateNode,h)g=f.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none";else{T=R.stateNode;var X=R.memoizedProps.style,j=X!=null&&X.hasOwnProperty("display")?X.display:null;T.style.display=j==null||typeof j=="boolean"?"":(""+j).trim()}}catch(ut){ne(R,R.return,ut)}}}else if(n.tag===6){if(a===null){R=n;try{R.stateNode.nodeValue=h?"":R.memoizedProps}catch(ut){ne(R,R.return,ut)}}}else if(n.tag===18){if(a===null){R=n;try{var q=R.stateNode;h?N_(q,!0):N_(R.stateNode,!1)}catch(ut){ne(R,R.return,ut)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break t;for(;n.sibling===null;){if(n.return===null||n.return===e)break t;a===n&&(a=null),n=n.return}a===n&&(a=null),n.sibling.return=n.return,n=n.sibling}o&4&&(o=e.updateQueue,o!==null&&(a=o.retryQueue,a!==null&&(o.retryQueue=null,uc(e,a))));break;case 19:yn(n,e),_n(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,uc(e,o)));break;case 30:break;case 21:break;default:yn(n,e),_n(e)}}function _n(e){var n=e.flags;if(n&2){try{for(var a,o=e.return;o!==null;){if(xy(o)){a=o;break}o=o.return}if(a==null)throw Error(r(160));switch(a.tag){case 27:var h=a.stateNode,f=td(e);lc(e,f,h);break;case 5:var g=a.stateNode;a.flags&32&&(gn(g,""),a.flags&=-33);var T=td(e);lc(e,T,g);break;case 3:case 4:var R=a.stateNode.containerInfo,z=td(e);ed(e,z,R);break;default:throw Error(r(161))}}catch(F){ne(e,e.return,F)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function jy(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;jy(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function is(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)Vy(e,n.alternate,n),n=n.sibling}function Qr(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:zs(4,n,n.return),Qr(n);break;case 1:xi(n,n.return);var a=n.stateNode;typeof a.componentWillUnmount=="function"&&Ny(n,n.return,a),Qr(n);break;case 27:ml(n.stateNode);case 26:case 5:xi(n,n.return),Qr(n);break;case 22:n.memoizedState===null&&Qr(n);break;case 30:Qr(n);break;default:Qr(n)}e=e.sibling}}function ss(e,n,a){for(a=a&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var o=n.alternate,h=e,f=n,g=f.flags;switch(f.tag){case 0:case 11:case 15:ss(h,f,a),sl(4,f);break;case 1:if(ss(h,f,a),o=f,h=o.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(z){ne(o,o.return,z)}if(o=f,h=o.updateQueue,h!==null){var T=o.stateNode;try{var R=h.shared.hiddenCallbacks;if(R!==null)for(h.shared.hiddenCallbacks=null,h=0;h<R.length;h++)yp(R[h],T)}catch(z){ne(o,o.return,z)}}a&&g&64&&Cy(f),rl(f,f.return);break;case 27:Oy(f);case 26:case 5:ss(h,f,a),a&&o===null&&g&4&&Dy(f),rl(f,f.return);break;case 12:ss(h,f,a);break;case 31:ss(h,f,a),a&&g&4&&Py(h,f);break;case 13:ss(h,f,a),a&&g&4&&ky(h,f);break;case 22:f.memoizedState===null&&ss(h,f,a),rl(f,f.return);break;case 30:break;default:ss(h,f,a)}n=n.sibling}}function id(e,n){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&Go(a))}function sd(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Go(e))}function ai(e,n,a,o){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)By(e,n,a,o),n=n.sibling}function By(e,n,a,o){var h=n.flags;switch(n.tag){case 0:case 11:case 15:ai(e,n,a,o),h&2048&&sl(9,n);break;case 1:ai(e,n,a,o);break;case 3:ai(e,n,a,o),h&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Go(e)));break;case 12:if(h&2048){ai(e,n,a,o),e=n.stateNode;try{var f=n.memoizedProps,g=f.id,T=f.onPostCommit;typeof T=="function"&&T(g,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(R){ne(n,n.return,R)}}else ai(e,n,a,o);break;case 31:ai(e,n,a,o);break;case 13:ai(e,n,a,o);break;case 23:break;case 22:f=n.stateNode,g=n.alternate,n.memoizedState!==null?f._visibility&2?ai(e,n,a,o):al(e,n):f._visibility&2?ai(e,n,a,o):(f._visibility|=2,Ua(e,n,a,o,(n.subtreeFlags&10256)!==0||!1)),h&2048&&id(g,n);break;case 24:ai(e,n,a,o),h&2048&&sd(n.alternate,n);break;default:ai(e,n,a,o)}}function Ua(e,n,a,o,h){for(h=h&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=e,g=n,T=a,R=o,z=g.flags;switch(g.tag){case 0:case 11:case 15:Ua(f,g,T,R,h),sl(8,g);break;case 23:break;case 22:var F=g.stateNode;g.memoizedState!==null?F._visibility&2?Ua(f,g,T,R,h):al(f,g):(F._visibility|=2,Ua(f,g,T,R,h)),h&&z&2048&&id(g.alternate,g);break;case 24:Ua(f,g,T,R,h),h&&z&2048&&sd(g.alternate,g);break;default:Ua(f,g,T,R,h)}n=n.sibling}}function al(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var a=e,o=n,h=o.flags;switch(o.tag){case 22:al(a,o),h&2048&&id(o.alternate,o);break;case 24:al(a,o),h&2048&&sd(o.alternate,o);break;default:al(a,o)}n=n.sibling}}var ol=8192;function La(e,n,a){if(e.subtreeFlags&ol)for(e=e.child;e!==null;)qy(e,n,a),e=e.sibling}function qy(e,n,a){switch(e.tag){case 26:La(e,n,a),e.flags&ol&&e.memoizedState!==null&&LS(a,ri,e.memoizedState,e.memoizedProps);break;case 5:La(e,n,a);break;case 3:case 4:var o=ri;ri=Sc(e.stateNode.containerInfo),La(e,n,a),ri=o;break;case 22:e.memoizedState===null&&(o=e.alternate,o!==null&&o.memoizedState!==null?(o=ol,ol=16777216,La(e,n,a),ol=o):La(e,n,a));break;default:La(e,n,a)}}function Hy(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function ll(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var o=n[a];Ge=o,Gy(o,e)}Hy(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Fy(e),e=e.sibling}function Fy(e){switch(e.tag){case 0:case 11:case 15:ll(e),e.flags&2048&&zs(9,e,e.return);break;case 3:ll(e);break;case 12:ll(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,cc(e)):ll(e);break;default:ll(e)}}function cc(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var o=n[a];Ge=o,Gy(o,e)}Hy(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:zs(8,n,n.return),cc(n);break;case 22:a=n.stateNode,a._visibility&2&&(a._visibility&=-3,cc(n));break;default:cc(n)}e=e.sibling}}function Gy(e,n){for(;Ge!==null;){var a=Ge;switch(a.tag){case 0:case 11:case 15:zs(8,a,n);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var o=a.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:Go(a.memoizedState.cache)}if(o=a.child,o!==null)o.return=a,Ge=o;else t:for(a=e;Ge!==null;){o=Ge;var h=o.sibling,f=o.return;if(Uy(o),o===a){Ge=null;break t}if(h!==null){h.return=f,Ge=h;break t}Ge=f}}}var ZA={getCacheForType:function(e){var n=Je(Me),a=n.data.get(e);return a===void 0&&(a=e(),n.data.set(e,a)),a},cacheSignal:function(){return Je(Me).controller.signal}},JA=typeof WeakMap=="function"?WeakMap:Map,Jt=0,ce=null,Ut=null,kt=0,ee=0,Nn=null,js=!1,Pa=!1,rd=!1,rs=0,Se=0,Bs=0,Yr=0,ad=0,Dn=0,ka=0,ul=null,vn=null,od=!1,hc=0,Qy=0,fc=1/0,dc=null,qs=null,Be=0,Hs=null,za=null,as=0,ld=0,ud=null,Yy=null,cl=0,cd=null;function xn(){return(Jt&2)!==0&&kt!==0?kt&-kt:H.T!==null?pd():mu()}function Ky(){if(Dn===0)if((kt&536870912)===0||Ft){var e=Tr;Tr<<=1,(Tr&3932160)===0&&(Tr=262144),Dn=e}else Dn=536870912;return e=In.current,e!==null&&(e.flags|=32),Dn}function Tn(e,n,a){(e===ce&&(ee===2||ee===9)||e.cancelPendingCommit!==null)&&(ja(e,0),Fs(e,kt,Dn,!1)),Er(e,a),((Jt&2)===0||e!==ce)&&(e===ce&&((Jt&2)===0&&(Yr|=a),Se===4&&Fs(e,kt,Dn,!1)),Oi(e))}function Xy(e,n,a){if((Jt&6)!==0)throw Error(r(327));var o=!a&&(n&127)===0&&(n&e.expiredLanes)===0||$n(e,n),h=o?eS(e,n):fd(e,n,!0),f=o;do{if(h===0){Pa&&!o&&Fs(e,n,0,!1);break}else{if(a=e.current.alternate,f&&!WA(a)){h=fd(e,n,!1),f=!1;continue}if(h===2){if(f=n,e.errorRecoveryDisabledLanes&f)var g=0;else g=e.pendingLanes&-536870913,g=g!==0?g:g&536870912?536870912:0;if(g!==0){n=g;t:{var T=e;h=ul;var R=T.current.memoizedState.isDehydrated;if(R&&(ja(T,g).flags|=256),g=fd(T,g,!1),g!==2){if(rd&&!R){T.errorRecoveryDisabledLanes|=f,Yr|=f,h=4;break t}f=vn,vn=h,f!==null&&(vn===null?vn=f:vn.push.apply(vn,f))}h=g}if(f=!1,h!==2)continue}}if(h===1){ja(e,0),Fs(e,n,0,!0);break}t:{switch(o=e,f=h,f){case 0:case 1:throw Error(r(345));case 4:if((n&4194048)!==n)break;case 6:Fs(o,n,Dn,!js);break t;case 2:vn=null;break;case 3:case 5:break;default:throw Error(r(329))}if((n&62914560)===n&&(h=hc+300-Dt(),10<h)){if(Fs(o,n,Dn,!js),mi(o,0,!0)!==0)break t;as=n,o.timeoutHandle=R_($y.bind(null,o,a,vn,dc,od,n,Dn,Yr,ka,js,f,"Throttled",-0,0),h);break t}$y(o,a,vn,dc,od,n,Dn,Yr,ka,js,f,null,-0,0)}}break}while(!0);Oi(e)}function $y(e,n,a,o,h,f,g,T,R,z,F,X,j,q){if(e.timeoutHandle=-1,X=n.subtreeFlags,X&8192||(X&16785408)===16785408){X={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Wn},qy(n,f,X);var ut=(f&62914560)===f?hc-Dt():(f&4194048)===f?Qy-Dt():0;if(ut=PS(X,ut),ut!==null){as=f,e.cancelPendingCommit=ut(s_.bind(null,e,n,f,a,o,h,g,T,R,F,X,null,j,q)),Fs(e,f,g,!z);return}}s_(e,n,f,a,o,h,g,T,R)}function WA(e){for(var n=e;;){var a=n.tag;if((a===0||a===11||a===15)&&n.flags&16384&&(a=n.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var o=0;o<a.length;o++){var h=a[o],f=h.getSnapshot;h=h.value;try{if(!wn(f(),h))return!1}catch{return!1}}if(a=n.child,n.subtreeFlags&16384&&a!==null)a.return=n,n=a;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Fs(e,n,a,o){n&=~ad,n&=~Yr,e.suspendedLanes|=n,e.pingedLanes&=~n,o&&(e.warmLanes|=n),o=e.expirationTimes;for(var h=n;0<h;){var f=31-be(h),g=1<<f;o[f]=-1,h&=~g}a!==0&&Ar(e,a,n)}function mc(){return(Jt&6)===0?(hl(0),!1):!0}function hd(){if(Ut!==null){if(ee===0)var e=Ut.return;else e=Ut,Xi=kr=null,If(e),Da=null,Yo=0,e=Ut;for(;e!==null;)Iy(e.alternate,e),e=e.return;Ut=null}}function ja(e,n){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,vS(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),as=0,hd(),ce=e,Ut=a=Yi(e.current,null),kt=n,ee=0,Nn=null,js=!1,Pa=$n(e,n),rd=!1,ka=Dn=ad=Yr=Bs=Se=0,vn=ul=null,od=!1,(n&8)!==0&&(n|=n&32);var o=e.entangledLanes;if(o!==0)for(e=e.entanglements,o&=n;0<o;){var h=31-be(o),f=1<<h;n|=e[h],o&=~f}return rs=n,Uu(),a}function Zy(e,n){Ot=null,H.H=el,n===Na||n===Hu?(n=dp(),ee=3):n===gf?(n=dp(),ee=4):ee=n===Hf?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,Nn=n,Ut===null&&(Se=1,ic(e,qn(n,e.current)))}function Jy(){var e=In.current;return e===null?!0:(kt&4194048)===kt?Qn===null:(kt&62914560)===kt||(kt&536870912)!==0?e===Qn:!1}function Wy(){var e=H.H;return H.H=el,e===null?el:e}function t_(){var e=H.A;return H.A=ZA,e}function gc(){Se=4,js||(kt&4194048)!==kt&&In.current!==null||(Pa=!0),(Bs&134217727)===0&&(Yr&134217727)===0||ce===null||Fs(ce,kt,Dn,!1)}function fd(e,n,a){var o=Jt;Jt|=2;var h=Wy(),f=t_();(ce!==e||kt!==n)&&(dc=null,ja(e,n)),n=!1;var g=Se;t:do try{if(ee!==0&&Ut!==null){var T=Ut,R=Nn;switch(ee){case 8:hd(),g=6;break t;case 3:case 2:case 9:case 6:In.current===null&&(n=!0);var z=ee;if(ee=0,Nn=null,Ba(e,T,R,z),a&&Pa){g=0;break t}break;default:z=ee,ee=0,Nn=null,Ba(e,T,R,z)}}tS(),g=Se;break}catch(F){Zy(e,F)}while(!0);return n&&e.shellSuspendCounter++,Xi=kr=null,Jt=o,H.H=h,H.A=f,Ut===null&&(ce=null,kt=0,Uu()),g}function tS(){for(;Ut!==null;)e_(Ut)}function eS(e,n){var a=Jt;Jt|=2;var o=Wy(),h=t_();ce!==e||kt!==n?(dc=null,fc=Dt()+500,ja(e,n)):Pa=$n(e,n);t:do try{if(ee!==0&&Ut!==null){n=Ut;var f=Nn;e:switch(ee){case 1:ee=0,Nn=null,Ba(e,n,f,1);break;case 2:case 9:if(hp(f)){ee=0,Nn=null,n_(n);break}n=function(){ee!==2&&ee!==9||ce!==e||(ee=7),Oi(e)},f.then(n,n);break t;case 3:ee=7;break t;case 4:ee=5;break t;case 7:hp(f)?(ee=0,Nn=null,n_(n)):(ee=0,Nn=null,Ba(e,n,f,7));break;case 5:var g=null;switch(Ut.tag){case 26:g=Ut.memoizedState;case 5:case 27:var T=Ut;if(g?B_(g):T.stateNode.complete){ee=0,Nn=null;var R=T.sibling;if(R!==null)Ut=R;else{var z=T.return;z!==null?(Ut=z,pc(z)):Ut=null}break e}}ee=0,Nn=null,Ba(e,n,f,5);break;case 6:ee=0,Nn=null,Ba(e,n,f,6);break;case 8:hd(),Se=6;break t;default:throw Error(r(462))}}nS();break}catch(F){Zy(e,F)}while(!0);return Xi=kr=null,H.H=o,H.A=h,Jt=a,Ut!==null?0:(ce=null,kt=0,Uu(),Se)}function nS(){for(;Ut!==null&&!Ct();)e_(Ut)}function e_(e){var n=wy(e.alternate,e,rs);e.memoizedProps=e.pendingProps,n===null?pc(e):Ut=n}function n_(e){var n=e,a=n.alternate;switch(n.tag){case 15:case 0:n=vy(a,n,n.pendingProps,n.type,void 0,kt);break;case 11:n=vy(a,n,n.pendingProps,n.type.render,n.ref,kt);break;case 5:If(n);default:Iy(a,n),n=Ut=tp(n,rs),n=wy(a,n,rs)}e.memoizedProps=e.pendingProps,n===null?pc(e):Ut=n}function Ba(e,n,a,o){Xi=kr=null,If(n),Da=null,Yo=0;var h=n.return;try{if(FA(e,h,n,a,kt)){Se=1,ic(e,qn(a,e.current)),Ut=null;return}}catch(f){if(h!==null)throw Ut=h,f;Se=1,ic(e,qn(a,e.current)),Ut=null;return}n.flags&32768?(Ft||o===1?e=!0:Pa||(kt&536870912)!==0?e=!1:(js=e=!0,(o===2||o===9||o===3||o===6)&&(o=In.current,o!==null&&o.tag===13&&(o.flags|=16384))),i_(n,e)):pc(n)}function pc(e){var n=e;do{if((n.flags&32768)!==0){i_(n,js);return}e=n.return;var a=YA(n.alternate,n,rs);if(a!==null){Ut=a;return}if(n=n.sibling,n!==null){Ut=n;return}Ut=n=e}while(n!==null);Se===0&&(Se=5)}function i_(e,n){do{var a=KA(e.alternate,e);if(a!==null){a.flags&=32767,Ut=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!n&&(e=e.sibling,e!==null)){Ut=e;return}Ut=e=a}while(e!==null);Se=6,Ut=null}function s_(e,n,a,o,h,f,g,T,R){e.cancelPendingCommit=null;do yc();while(Be!==0);if((Jt&6)!==0)throw Error(r(327));if(n!==null){if(n===e.current)throw Error(r(177));if(f=n.lanes|n.childLanes,f|=Wh,Fh(e,a,f,g,T,R),e===ce&&(Ut=ce=null,kt=0),za=n,Hs=e,as=a,ld=f,ud=h,Yy=o,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,aS(Ts,function(){return u_(),null})):(e.callbackNode=null,e.callbackPriority=0),o=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||o){o=H.T,H.T=null,h=et.p,et.p=2,g=Jt,Jt|=4;try{XA(e,n,a)}finally{Jt=g,et.p=h,H.T=o}}Be=1,r_(),a_(),o_()}}function r_(){if(Be===1){Be=0;var e=Hs,n=za,a=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||a){a=H.T,H.T=null;var o=et.p;et.p=2;var h=Jt;Jt|=4;try{zy(n,e);var f=bd,g=Gg(e.containerInfo),T=f.focusedElem,R=f.selectionRange;if(g!==T&&T&&T.ownerDocument&&Fg(T.ownerDocument.documentElement,T)){if(R!==null&&Kh(T)){var z=R.start,F=R.end;if(F===void 0&&(F=z),"selectionStart"in T)T.selectionStart=z,T.selectionEnd=Math.min(F,T.value.length);else{var X=T.ownerDocument||document,j=X&&X.defaultView||window;if(j.getSelection){var q=j.getSelection(),ut=T.textContent.length,_t=Math.min(R.start,ut),ae=R.end===void 0?_t:Math.min(R.end,ut);!q.extend&&_t>ae&&(g=ae,ae=_t,_t=g);var L=Hg(T,_t),x=Hg(T,ae);if(L&&x&&(q.rangeCount!==1||q.anchorNode!==L.node||q.anchorOffset!==L.offset||q.focusNode!==x.node||q.focusOffset!==x.offset)){var k=X.createRange();k.setStart(L.node,L.offset),q.removeAllRanges(),_t>ae?(q.addRange(k),q.extend(x.node,x.offset)):(k.setEnd(x.node,x.offset),q.addRange(k))}}}}for(X=[],q=T;q=q.parentNode;)q.nodeType===1&&X.push({element:q,left:q.scrollLeft,top:q.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<X.length;T++){var Y=X[T];Y.element.scrollLeft=Y.left,Y.element.scrollTop=Y.top}}Nc=!!Sd,bd=Sd=null}finally{Jt=h,et.p=o,H.T=a}}e.current=n,Be=2}}function a_(){if(Be===2){Be=0;var e=Hs,n=za,a=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||a){a=H.T,H.T=null;var o=et.p;et.p=2;var h=Jt;Jt|=4;try{Vy(e,n.alternate,n)}finally{Jt=h,et.p=o,H.T=a}}Be=3}}function o_(){if(Be===4||Be===3){Be=0,Wt();var e=Hs,n=za,a=as,o=Yy;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Be=5:(Be=0,za=Hs=null,l_(e,e.pendingLanes));var h=e.pendingLanes;if(h===0&&(qs=null),Hi(a),n=n.stateNode,Xe&&typeof Xe.onCommitFiberRoot=="function")try{Xe.onCommitFiberRoot(Xn,n,void 0,(n.current.flags&128)===128)}catch{}if(o!==null){n=H.T,h=et.p,et.p=2,H.T=null;try{for(var f=e.onRecoverableError,g=0;g<o.length;g++){var T=o[g];f(T.value,{componentStack:T.stack})}}finally{H.T=n,et.p=h}}(as&3)!==0&&yc(),Oi(e),h=e.pendingLanes,(a&261930)!==0&&(h&42)!==0?e===cd?cl++:(cl=0,cd=e):cl=0,hl(0)}}function l_(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,Go(n)))}function yc(){return r_(),a_(),o_(),u_()}function u_(){if(Be!==5)return!1;var e=Hs,n=ld;ld=0;var a=Hi(as),o=H.T,h=et.p;try{et.p=32>a?32:a,H.T=null,a=ud,ud=null;var f=Hs,g=as;if(Be=0,za=Hs=null,as=0,(Jt&6)!==0)throw Error(r(331));var T=Jt;if(Jt|=4,Fy(f.current),By(f,f.current,g,a),Jt=T,hl(0,!1),Xe&&typeof Xe.onPostCommitFiberRoot=="function")try{Xe.onPostCommitFiberRoot(Xn,f)}catch{}return!0}finally{et.p=h,H.T=o,l_(e,n)}}function c_(e,n,a){n=qn(a,n),n=qf(e.stateNode,n,2),e=Ls(e,n,2),e!==null&&(Er(e,2),Oi(e))}function ne(e,n,a){if(e.tag===3)c_(e,e,a);else for(;n!==null;){if(n.tag===3){c_(n,e,a);break}else if(n.tag===1){var o=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(qs===null||!qs.has(o))){e=qn(a,e),a=hy(2),o=Ls(n,a,2),o!==null&&(fy(a,o,n,e),Er(o,2),Oi(o));break}}n=n.return}}function dd(e,n,a){var o=e.pingCache;if(o===null){o=e.pingCache=new JA;var h=new Set;o.set(n,h)}else h=o.get(n),h===void 0&&(h=new Set,o.set(n,h));h.has(a)||(rd=!0,h.add(a),e=iS.bind(null,e,n,a),n.then(e,e))}function iS(e,n,a){var o=e.pingCache;o!==null&&o.delete(n),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,ce===e&&(kt&a)===a&&(Se===4||Se===3&&(kt&62914560)===kt&&300>Dt()-hc?(Jt&2)===0&&ja(e,0):ad|=a,ka===kt&&(ka=0)),Oi(e)}function h_(e,n){n===0&&(n=du()),e=Ur(e,n),e!==null&&(Er(e,n),Oi(e))}function sS(e){var n=e.memoizedState,a=0;n!==null&&(a=n.retryLane),h_(e,a)}function rS(e,n){var a=0;switch(e.tag){case 31:case 13:var o=e.stateNode,h=e.memoizedState;h!==null&&(a=h.retryLane);break;case 19:o=e.stateNode;break;case 22:o=e.stateNode._retryCache;break;default:throw Error(r(314))}o!==null&&o.delete(n),h_(e,a)}function aS(e,n){return Rt(e,n)}var _c=null,qa=null,md=!1,vc=!1,gd=!1,Gs=0;function Oi(e){e!==qa&&e.next===null&&(qa===null?_c=qa=e:qa=qa.next=e),vc=!0,md||(md=!0,lS())}function hl(e,n){if(!gd&&vc){gd=!0;do for(var a=!1,o=_c;o!==null;){if(e!==0){var h=o.pendingLanes;if(h===0)var f=0;else{var g=o.suspendedLanes,T=o.pingedLanes;f=(1<<31-be(42|e)+1)-1,f&=h&~(g&~T),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(a=!0,g_(o,f))}else f=kt,f=mi(o,o===ce?f:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(f&3)===0||$n(o,f)||(a=!0,g_(o,f));o=o.next}while(a);gd=!1}}function oS(){f_()}function f_(){vc=md=!1;var e=0;Gs!==0&&_S()&&(e=Gs);for(var n=Dt(),a=null,o=_c;o!==null;){var h=o.next,f=d_(o,n);f===0?(o.next=null,a===null?_c=h:a.next=h,h===null&&(qa=a)):(a=o,(e!==0||(f&3)!==0)&&(vc=!0)),o=h}Be!==0&&Be!==5||hl(e),Gs!==0&&(Gs=0)}function d_(e,n){for(var a=e.suspendedLanes,o=e.pingedLanes,h=e.expirationTimes,f=e.pendingLanes&-62914561;0<f;){var g=31-be(f),T=1<<g,R=h[g];R===-1?((T&a)===0||(T&o)!==0)&&(h[g]=Hh(T,n)):R<=n&&(e.expiredLanes|=T),f&=~T}if(n=ce,a=kt,a=mi(e,e===n?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o=e.callbackNode,a===0||e===n&&(ee===2||ee===9)||e.cancelPendingCommit!==null)return o!==null&&o!==null&&Vt(o),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||$n(e,a)){if(n=a&-a,n===e.callbackPriority)return n;switch(o!==null&&Vt(o),Hi(a)){case 2:case 8:a=Eo;break;case 32:a=Ts;break;case 268435456:a=lu;break;default:a=Ts}return o=m_.bind(null,e),a=Rt(a,o),e.callbackPriority=n,e.callbackNode=a,n}return o!==null&&o!==null&&Vt(o),e.callbackPriority=2,e.callbackNode=null,2}function m_(e,n){if(Be!==0&&Be!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(yc()&&e.callbackNode!==a)return null;var o=kt;return o=mi(e,e===ce?o:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o===0?null:(Xy(e,o,n),d_(e,Dt()),e.callbackNode!=null&&e.callbackNode===a?m_.bind(null,e):null)}function g_(e,n){if(yc())return null;Xy(e,n,!0)}function lS(){TS(function(){(Jt&6)!==0?Rt(qi,oS):f_()})}function pd(){if(Gs===0){var e=Ia;e===0&&(e=fi,fi<<=1,(fi&261888)===0&&(fi=256)),Gs=e}return Gs}function p_(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:fa(""+e)}function y_(e,n){var a=n.ownerDocument.createElement("input");return a.name=n.name,a.value=n.value,e.id&&a.setAttribute("form",e.id),n.parentNode.insertBefore(a,n),e=new FormData(e),a.parentNode.removeChild(a),e}function uS(e,n,a,o,h){if(n==="submit"&&a&&a.stateNode===h){var f=p_((h[He]||null).action),g=o.submitter;g&&(n=(n=g[He]||null)?p_(n.formAction):g.getAttribute("formAction"),n!==null&&(f=n,g=null));var T=new wi("action","action",null,o,h);e.push({event:T,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(Gs!==0){var R=g?y_(h,g):new FormData(h);Lf(a,{pending:!0,data:R,method:h.method,action:f},null,R)}}else typeof f=="function"&&(T.preventDefault(),R=g?y_(h,g):new FormData(h),Lf(a,{pending:!0,data:R,method:h.method,action:f},f,R))},currentTarget:h}]})}}for(var yd=0;yd<Jh.length;yd++){var _d=Jh[yd],cS=_d.toLowerCase(),hS=_d[0].toUpperCase()+_d.slice(1);si(cS,"on"+hS)}si(Kg,"onAnimationEnd"),si(Xg,"onAnimationIteration"),si($g,"onAnimationStart"),si("dblclick","onDoubleClick"),si("focusin","onFocus"),si("focusout","onBlur"),si(IA,"onTransitionRun"),si(CA,"onTransitionStart"),si(NA,"onTransitionCancel"),si(Zg,"onTransitionEnd"),Ei("onMouseEnter",["mouseout","mouseover"]),Ei("onMouseLeave",["mouseout","mouseover"]),Ei("onPointerEnter",["pointerout","pointerover"]),Ei("onPointerLeave",["pointerout","pointerover"]),Ti("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ti("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ti("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ti("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ti("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ti("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var fl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),fS=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(fl));function __(e,n){n=(n&4)!==0;for(var a=0;a<e.length;a++){var o=e[a],h=o.event;o=o.listeners;t:{var f=void 0;if(n)for(var g=o.length-1;0<=g;g--){var T=o[g],R=T.instance,z=T.currentTarget;if(T=T.listener,R!==f&&h.isPropagationStopped())break t;f=T,h.currentTarget=z;try{f(h)}catch(F){Vu(F)}h.currentTarget=null,f=R}else for(g=0;g<o.length;g++){if(T=o[g],R=T.instance,z=T.currentTarget,T=T.listener,R!==f&&h.isPropagationStopped())break t;f=T,h.currentTarget=z;try{f(h)}catch(F){Vu(F)}h.currentTarget=null,f=R}}}}function Lt(e,n){var a=n[oa];a===void 0&&(a=n[oa]=new Set);var o=e+"__bubble";a.has(o)||(v_(n,e,2,!1),a.add(o))}function vd(e,n,a){var o=0;n&&(o|=4),v_(a,e,o,n)}var Tc="_reactListening"+Math.random().toString(36).slice(2);function Td(e){if(!e[Tc]){e[Tc]=!0,bo.forEach(function(a){a!=="selectionchange"&&(fS.has(a)||vd(a,!1,e),vd(a,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[Tc]||(n[Tc]=!0,vd("selectionchange",!1,n))}}function v_(e,n,a,o){switch(K_(n)){case 2:var h=jS;break;case 8:h=BS;break;default:h=Ud}a=h.bind(null,n,a,e),h=void 0,!Ir||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),o?h!==void 0?e.addEventListener(n,a,{capture:!0,passive:h}):e.addEventListener(n,a,!0):h!==void 0?e.addEventListener(n,a,{passive:h}):e.addEventListener(n,a,!1)}function Ed(e,n,a,o,h){var f=o;if((n&1)===0&&(n&2)===0&&o!==null)t:for(;;){if(o===null)return;var g=o.tag;if(g===3||g===4){var T=o.stateNode.containerInfo;if(T===h)break;if(g===4)for(g=o.return;g!==null;){var R=g.tag;if((R===3||R===4)&&g.stateNode.containerInfo===h)return;g=g.return}for(;T!==null;){if(g=_i(T),g===null)return;if(R=g.tag,R===5||R===6||R===26||R===27){o=f=g;continue t}T=T.parentNode}}o=o.return}Rs(function(){var z=f,F=kn(a),X=[];t:{var j=Jg.get(e);if(j!==void 0){var q=wi,ut=e;switch(e){case"keypress":if(Nr(a)===0)break t;case"keydown":case"keyup":q=xu;break;case"focusin":ut="focus",q=xr;break;case"focusout":ut="blur",q=xr;break;case"beforeblur":case"afterblur":q=xr;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":q=Po;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":q=Au;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":q=m;break;case Kg:case Xg:case $g:q=bu;break;case Zg:q=E;break;case"scroll":case"scrollend":q=Lo;break;case"wheel":q=B;break;case"copy":case"cut":case"paste":q=wu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":q=Qi;break;case"toggle":case"beforetoggle":q=xt}var _t=(n&4)!==0,ae=!_t&&(e==="scroll"||e==="scrollend"),L=_t?j!==null?j+"Capture":null:j;_t=[];for(var x=z,k;x!==null;){var Y=x;if(k=Y.stateNode,Y=Y.tag,Y!==5&&Y!==26&&Y!==27||k===null||L===null||(Y=ti(x,L),Y!=null&&_t.push(dl(x,Y,k))),ae)break;x=x.return}0<_t.length&&(j=new q(j,ut,null,a,F),X.push({event:j,listeners:_t}))}}if((n&7)===0){t:{if(j=e==="mouseover"||e==="pointerover",q=e==="mouseout"||e==="pointerout",j&&a!==Mo&&(ut=a.relatedTarget||a.fromElement)&&(_i(ut)||ut[pi]))break t;if((q||j)&&(j=F.window===F?F:(j=F.ownerDocument)?j.defaultView||j.parentWindow:window,q?(ut=a.relatedTarget||a.toElement,q=z,ut=ut?_i(ut):null,ut!==null&&(ae=c(ut),_t=ut.tag,ut!==ae||_t!==5&&_t!==27&&_t!==6)&&(ut=null)):(q=null,ut=z),q!==ut)){if(_t=Po,Y="onMouseLeave",L="onMouseEnter",x="mouse",(e==="pointerout"||e==="pointerover")&&(_t=Qi,Y="onPointerLeave",L="onPointerEnter",x="pointer"),ae=q==null?j:Sn(q),k=ut==null?j:Sn(ut),j=new _t(Y,x+"leave",q,a,F),j.target=ae,j.relatedTarget=k,Y=null,_i(F)===z&&(_t=new _t(L,x+"enter",ut,a,F),_t.target=k,_t.relatedTarget=ae,Y=_t),ae=Y,q&&ut)e:{for(_t=dS,L=q,x=ut,k=0,Y=L;Y;Y=_t(Y))k++;Y=0;for(var gt=x;gt;gt=_t(gt))Y++;for(;0<k-Y;)L=_t(L),k--;for(;0<Y-k;)x=_t(x),Y--;for(;k--;){if(L===x||x!==null&&L===x.alternate){_t=L;break e}L=_t(L),x=_t(x)}_t=null}else _t=null;q!==null&&T_(X,j,q,_t,!1),ut!==null&&ae!==null&&T_(X,ae,ut,_t,!0)}}t:{if(j=z?Sn(z):window,q=j.nodeName&&j.nodeName.toLowerCase(),q==="select"||q==="input"&&j.type==="file")var Xt=Pg;else if(Ug(j))if(kg)Xt=bA;else{Xt=AA;var ct=EA}else q=j.nodeName,!q||q.toLowerCase()!=="input"||j.type!=="checkbox"&&j.type!=="radio"?z&&ha(z.elementType)&&(Xt=Pg):Xt=SA;if(Xt&&(Xt=Xt(e,z))){Lg(X,Xt,a,F);break t}ct&&ct(e,j,z),e==="focusout"&&z&&j.type==="number"&&z.memoizedProps.value!=null&&Do(j,"number",j.value)}switch(ct=z?Sn(z):window,e){case"focusin":(Ug(ct)||ct.contentEditable==="true")&&(va=ct,Xh=z,qo=null);break;case"focusout":qo=Xh=va=null;break;case"mousedown":$h=!0;break;case"contextmenu":case"mouseup":case"dragend":$h=!1,Qg(X,a,F);break;case"selectionchange":if(RA)break;case"keydown":case"keyup":Qg(X,a,F)}var Mt;if(Zt)t:{switch(e){case"compositionstart":var zt="onCompositionStart";break t;case"compositionend":zt="onCompositionEnd";break t;case"compositionupdate":zt="onCompositionUpdate";break t}zt=void 0}else _a?Or(e,a)&&(zt="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(zt="onCompositionStart");zt&&(Ci&&a.locale!=="ko"&&(_a||zt!=="onCompositionStart"?zt==="onCompositionEnd"&&_a&&(Mt=Uo()):(bi=F,Vo="value"in bi?bi.value:bi.textContent,_a=!0)),ct=Ec(z,zt),0<ct.length&&(zt=new Ii(zt,e,null,a,F),X.push({event:zt,listeners:ct}),Mt?zt.data=Mt:(Mt=ya(a),Mt!==null&&(zt.data=Mt)))),(Mt=jn?yA(e,a):_A(e,a))&&(zt=Ec(z,"onBeforeInput"),0<zt.length&&(ct=new Ii("onBeforeInput","beforeinput",null,a,F),X.push({event:ct,listeners:zt}),ct.data=Mt)),uS(X,e,z,a,F)}__(X,n)})}function dl(e,n,a){return{instance:e,listener:n,currentTarget:a}}function Ec(e,n){for(var a=n+"Capture",o=[];e!==null;){var h=e,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=ti(e,a),h!=null&&o.unshift(dl(e,h,f)),h=ti(e,n),h!=null&&o.push(dl(e,h,f))),e.tag===3)return o;e=e.return}return[]}function dS(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function T_(e,n,a,o,h){for(var f=n._reactName,g=[];a!==null&&a!==o;){var T=a,R=T.alternate,z=T.stateNode;if(T=T.tag,R!==null&&R===o)break;T!==5&&T!==26&&T!==27||z===null||(R=z,h?(z=ti(a,f),z!=null&&g.unshift(dl(a,z,R))):h||(z=ti(a,f),z!=null&&g.push(dl(a,z,R)))),a=a.return}g.length!==0&&e.push({event:n,listeners:g})}var mS=/\r\n?/g,gS=/\u0000|\uFFFD/g;function E_(e){return(typeof e=="string"?e:""+e).replace(mS,`
`).replace(gS,"")}function A_(e,n){return n=E_(n),E_(e)===n}function re(e,n,a,o,h,f){switch(a){case"children":typeof o=="string"?n==="body"||n==="textarea"&&o===""||gn(e,o):(typeof o=="number"||typeof o=="bigint")&&n!=="body"&&gn(e,""+o);break;case"className":bn(e,"class",o);break;case"tabIndex":bn(e,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":bn(e,a,o);break;case"style":Oo(e,o,f);break;case"data":if(n!=="object"){bn(e,"data",o);break}case"src":case"href":if(o===""&&(n!=="a"||a!=="href")){e.removeAttribute(a);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(a);break}o=fa(""+o),e.setAttribute(a,o);break;case"action":case"formAction":if(typeof o=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(a==="formAction"?(n!=="input"&&re(e,n,"name",h.name,h,null),re(e,n,"formEncType",h.formEncType,h,null),re(e,n,"formMethod",h.formMethod,h,null),re(e,n,"formTarget",h.formTarget,h,null)):(re(e,n,"encType",h.encType,h,null),re(e,n,"method",h.method,h,null),re(e,n,"target",h.target,h,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(a);break}o=fa(""+o),e.setAttribute(a,o);break;case"onClick":o!=null&&(e.onclick=Wn);break;case"onScroll":o!=null&&Lt("scroll",e);break;case"onScrollEnd":o!=null&&Lt("scrollend",e);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(r(61));if(a=o.__html,a!=null){if(h.children!=null)throw Error(r(60));e.innerHTML=a}}break;case"multiple":e.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":e.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){e.removeAttribute("xlink:href");break}a=fa(""+o),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(a,""+o):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":o===!0?e.setAttribute(a,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(a,o):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?e.setAttribute(a,o):e.removeAttribute(a);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?e.removeAttribute(a):e.setAttribute(a,o);break;case"popover":Lt("beforetoggle",e),Lt("toggle",e),ua(e,"popover",o);break;case"xlinkActuate":Oe(e,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":Oe(e,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":Oe(e,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":Oe(e,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":Oe(e,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":Oe(e,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":Oe(e,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":Oe(e,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":Oe(e,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":ua(e,"is",o);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Eu.get(a)||a,ua(e,a,o))}}function Ad(e,n,a,o,h,f){switch(a){case"style":Oo(e,o,f);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(r(61));if(a=o.__html,a!=null){if(h.children!=null)throw Error(r(60));e.innerHTML=a}}break;case"children":typeof o=="string"?gn(e,o):(typeof o=="number"||typeof o=="bigint")&&gn(e,""+o);break;case"onScroll":o!=null&&Lt("scroll",e);break;case"onScrollEnd":o!=null&&Lt("scrollend",e);break;case"onClick":o!=null&&(e.onclick=Wn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!wo.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),n=a.slice(2,h?a.length-7:void 0),f=e[He]||null,f=f!=null?f[a]:null,typeof f=="function"&&e.removeEventListener(n,f,h),typeof o=="function")){typeof f!="function"&&f!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(n,o,h);break t}a in e?e[a]=o:o===!0?e.setAttribute(a,""):ua(e,a,o)}}}function tn(e,n,a){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Lt("error",e),Lt("load",e);var o=!1,h=!1,f;for(f in a)if(a.hasOwnProperty(f)){var g=a[f];if(g!=null)switch(f){case"src":o=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,n));default:re(e,n,f,g,a,null)}}h&&re(e,n,"srcSet",a.srcSet,a,null),o&&re(e,n,"src",a.src,a,null);return;case"input":Lt("invalid",e);var T=f=g=h=null,R=null,z=null;for(o in a)if(a.hasOwnProperty(o)){var F=a[o];if(F!=null)switch(o){case"name":h=F;break;case"type":g=F;break;case"checked":R=F;break;case"defaultChecked":z=F;break;case"value":f=F;break;case"defaultValue":T=F;break;case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(r(137,n));break;default:re(e,n,o,F,a,null)}}_u(e,f,T,R,z,g,h,!1);return;case"select":Lt("invalid",e),o=g=f=null;for(h in a)if(a.hasOwnProperty(h)&&(T=a[h],T!=null))switch(h){case"value":f=T;break;case"defaultValue":g=T;break;case"multiple":o=T;default:re(e,n,h,T,a,null)}n=f,a=g,e.multiple=!!o,n!=null?As(e,!!o,n,!1):a!=null&&As(e,!!o,a,!0);return;case"textarea":Lt("invalid",e),f=h=o=null;for(g in a)if(a.hasOwnProperty(g)&&(T=a[g],T!=null))switch(g){case"value":o=T;break;case"defaultValue":h=T;break;case"children":f=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(r(91));break;default:re(e,n,g,T,a,null)}Ss(e,o,h,f);return;case"option":for(R in a)if(a.hasOwnProperty(R)&&(o=a[R],o!=null))switch(R){case"selected":e.selected=o&&typeof o!="function"&&typeof o!="symbol";break;default:re(e,n,R,o,a,null)}return;case"dialog":Lt("beforetoggle",e),Lt("toggle",e),Lt("cancel",e),Lt("close",e);break;case"iframe":case"object":Lt("load",e);break;case"video":case"audio":for(o=0;o<fl.length;o++)Lt(fl[o],e);break;case"image":Lt("error",e),Lt("load",e);break;case"details":Lt("toggle",e);break;case"embed":case"source":case"link":Lt("error",e),Lt("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(z in a)if(a.hasOwnProperty(z)&&(o=a[z],o!=null))switch(z){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,n));default:re(e,n,z,o,a,null)}return;default:if(ha(n)){for(F in a)a.hasOwnProperty(F)&&(o=a[F],o!==void 0&&Ad(e,n,F,o,a,void 0));return}}for(T in a)a.hasOwnProperty(T)&&(o=a[T],o!=null&&re(e,n,T,o,a,null))}function pS(e,n,a,o){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,g=null,T=null,R=null,z=null,F=null;for(q in a){var X=a[q];if(a.hasOwnProperty(q)&&X!=null)switch(q){case"checked":break;case"value":break;case"defaultValue":R=X;default:o.hasOwnProperty(q)||re(e,n,q,null,o,X)}}for(var j in o){var q=o[j];if(X=a[j],o.hasOwnProperty(j)&&(q!=null||X!=null))switch(j){case"type":f=q;break;case"name":h=q;break;case"checked":z=q;break;case"defaultChecked":F=q;break;case"value":g=q;break;case"defaultValue":T=q;break;case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(r(137,n));break;default:q!==X&&re(e,n,j,q,o,X)}}ca(e,g,T,R,z,F,f,h);return;case"select":q=g=T=j=null;for(f in a)if(R=a[f],a.hasOwnProperty(f)&&R!=null)switch(f){case"value":break;case"multiple":q=R;default:o.hasOwnProperty(f)||re(e,n,f,null,o,R)}for(h in o)if(f=o[h],R=a[h],o.hasOwnProperty(h)&&(f!=null||R!=null))switch(h){case"value":j=f;break;case"defaultValue":T=f;break;case"multiple":g=f;default:f!==R&&re(e,n,h,f,o,R)}n=T,a=g,o=q,j!=null?As(e,!!a,j,!1):!!o!=!!a&&(n!=null?As(e,!!a,n,!0):As(e,!!a,a?[]:"",!1));return;case"textarea":q=j=null;for(T in a)if(h=a[T],a.hasOwnProperty(T)&&h!=null&&!o.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:re(e,n,T,null,o,h)}for(g in o)if(h=o[g],f=a[g],o.hasOwnProperty(g)&&(h!=null||f!=null))switch(g){case"value":j=h;break;case"defaultValue":q=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(r(91));break;default:h!==f&&re(e,n,g,h,o,f)}vu(e,j,q);return;case"option":for(var ut in a)if(j=a[ut],a.hasOwnProperty(ut)&&j!=null&&!o.hasOwnProperty(ut))switch(ut){case"selected":e.selected=!1;break;default:re(e,n,ut,null,o,j)}for(R in o)if(j=o[R],q=a[R],o.hasOwnProperty(R)&&j!==q&&(j!=null||q!=null))switch(R){case"selected":e.selected=j&&typeof j!="function"&&typeof j!="symbol";break;default:re(e,n,R,j,o,q)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var _t in a)j=a[_t],a.hasOwnProperty(_t)&&j!=null&&!o.hasOwnProperty(_t)&&re(e,n,_t,null,o,j);for(z in o)if(j=o[z],q=a[z],o.hasOwnProperty(z)&&j!==q&&(j!=null||q!=null))switch(z){case"children":case"dangerouslySetInnerHTML":if(j!=null)throw Error(r(137,n));break;default:re(e,n,z,j,o,q)}return;default:if(ha(n)){for(var ae in a)j=a[ae],a.hasOwnProperty(ae)&&j!==void 0&&!o.hasOwnProperty(ae)&&Ad(e,n,ae,void 0,o,j);for(F in o)j=o[F],q=a[F],!o.hasOwnProperty(F)||j===q||j===void 0&&q===void 0||Ad(e,n,F,j,o,q);return}}for(var L in a)j=a[L],a.hasOwnProperty(L)&&j!=null&&!o.hasOwnProperty(L)&&re(e,n,L,null,o,j);for(X in o)j=o[X],q=a[X],!o.hasOwnProperty(X)||j===q||j==null&&q==null||re(e,n,X,j,o,q)}function S_(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function yS(){if(typeof performance.getEntriesByType=="function"){for(var e=0,n=0,a=performance.getEntriesByType("resource"),o=0;o<a.length;o++){var h=a[o],f=h.transferSize,g=h.initiatorType,T=h.duration;if(f&&T&&S_(g)){for(g=0,T=h.responseEnd,o+=1;o<a.length;o++){var R=a[o],z=R.startTime;if(z>T)break;var F=R.transferSize,X=R.initiatorType;F&&S_(X)&&(R=R.responseEnd,g+=F*(R<T?1:(T-z)/(R-z)))}if(--o,n+=8*(f+g)/(h.duration/1e3),e++,10<e)break}}if(0<e)return n/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var Sd=null,bd=null;function Ac(e){return e.nodeType===9?e:e.ownerDocument}function b_(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function w_(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function wd(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Rd=null;function _S(){var e=window.event;return e&&e.type==="popstate"?e===Rd?!1:(Rd=e,!0):(Rd=null,!1)}var R_=typeof setTimeout=="function"?setTimeout:void 0,vS=typeof clearTimeout=="function"?clearTimeout:void 0,I_=typeof Promise=="function"?Promise:void 0,TS=typeof queueMicrotask=="function"?queueMicrotask:typeof I_<"u"?function(e){return I_.resolve(null).then(e).catch(ES)}:R_;function ES(e){setTimeout(function(){throw e})}function Qs(e){return e==="head"}function C_(e,n){var a=n,o=0;do{var h=a.nextSibling;if(e.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"||a==="/&"){if(o===0){e.removeChild(h),Qa(n);return}o--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")o++;else if(a==="html")ml(e.ownerDocument.documentElement);else if(a==="head"){a=e.ownerDocument.head,ml(a);for(var f=a.firstChild;f;){var g=f.nextSibling,T=f.nodeName;f[yi]||T==="SCRIPT"||T==="STYLE"||T==="LINK"&&f.rel.toLowerCase()==="stylesheet"||a.removeChild(f),f=g}}else a==="body"&&ml(e.ownerDocument.body);a=h}while(a);Qa(n)}function N_(e,n){var a=e;e=0;do{var o=a.nextSibling;if(a.nodeType===1?n?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(n?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),o&&o.nodeType===8)if(a=o.data,a==="/$"){if(e===0)break;e--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||e++;a=o}while(a)}function Id(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var a=n;switch(n=n.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Id(a),la(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function AS(e,n,a,o){for(;e.nodeType===1;){var h=a;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!o&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(o){if(!e[yi])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(f=e.getAttribute("rel"),f==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(f!==h.rel||e.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||e.getAttribute("title")!==(h.title==null?null:h.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(f=e.getAttribute("src"),(f!==(h.src==null?null:h.src)||e.getAttribute("type")!==(h.type==null?null:h.type)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&e.getAttribute("name")===f)return e}else return e;if(e=Yn(e.nextSibling),e===null)break}return null}function SS(e,n,a){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=Yn(e.nextSibling),e===null))return null;return e}function D_(e,n){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=Yn(e.nextSibling),e===null))return null;return e}function Cd(e){return e.data==="$?"||e.data==="$~"}function Nd(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function bS(e,n){var a=e.ownerDocument;if(e.data==="$~")e._reactRetry=n;else if(e.data!=="$?"||a.readyState!=="loading")n();else{var o=function(){n(),a.removeEventListener("DOMContentLoaded",o)};a.addEventListener("DOMContentLoaded",o),e._reactRetry=o}}function Yn(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return e}var Dd=null;function x_(e){e=e.nextSibling;for(var n=0;e;){if(e.nodeType===8){var a=e.data;if(a==="/$"||a==="/&"){if(n===0)return Yn(e.nextSibling);n--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||n++}e=e.nextSibling}return null}function O_(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(n===0)return e;n--}else a!=="/$"&&a!=="/&"||n++}e=e.previousSibling}return null}function M_(e,n,a){switch(n=Ac(a),e){case"html":if(e=n.documentElement,!e)throw Error(r(452));return e;case"head":if(e=n.head,!e)throw Error(r(453));return e;case"body":if(e=n.body,!e)throw Error(r(454));return e;default:throw Error(r(451))}}function ml(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);la(e)}var Kn=new Map,V_=new Set;function Sc(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var os=et.d;et.d={f:wS,r:RS,D:IS,C:CS,L:NS,m:DS,X:OS,S:xS,M:MS};function wS(){var e=os.f(),n=mc();return e||n}function RS(e){var n=Pn(e);n!==null&&n.tag===5&&n.type==="form"?Zp(n):os.r(e)}var Ha=typeof document>"u"?null:document;function U_(e,n,a){var o=Ha;if(o&&typeof n=="string"&&n){var h=mn(n);h='link[rel="'+e+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),V_.has(h)||(V_.add(h),e={rel:e,crossOrigin:a,href:n},o.querySelector(h)===null&&(n=o.createElement("link"),tn(n,"link",e),xe(n),o.head.appendChild(n)))}}function IS(e){os.D(e),U_("dns-prefetch",e,null)}function CS(e,n){os.C(e,n),U_("preconnect",e,n)}function NS(e,n,a){os.L(e,n,a);var o=Ha;if(o&&e&&n){var h='link[rel="preload"][as="'+mn(n)+'"]';n==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+mn(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+mn(a.imageSizes)+'"]')):h+='[href="'+mn(e)+'"]';var f=h;switch(n){case"style":f=Fa(e);break;case"script":f=Ga(e)}Kn.has(f)||(e=S({rel:"preload",href:n==="image"&&a&&a.imageSrcSet?void 0:e,as:n},a),Kn.set(f,e),o.querySelector(h)!==null||n==="style"&&o.querySelector(gl(f))||n==="script"&&o.querySelector(pl(f))||(n=o.createElement("link"),tn(n,"link",e),xe(n),o.head.appendChild(n)))}}function DS(e,n){os.m(e,n);var a=Ha;if(a&&e){var o=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+mn(o)+'"][href="'+mn(e)+'"]',f=h;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=Ga(e)}if(!Kn.has(f)&&(e=S({rel:"modulepreload",href:e},n),Kn.set(f,e),a.querySelector(h)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(pl(f)))return}o=a.createElement("link"),tn(o,"link",e),xe(o),a.head.appendChild(o)}}}function xS(e,n,a){os.S(e,n,a);var o=Ha;if(o&&e){var h=vi(o).hoistableStyles,f=Fa(e);n=n||"default";var g=h.get(f);if(!g){var T={loading:0,preload:null};if(g=o.querySelector(gl(f)))T.loading=5;else{e=S({rel:"stylesheet",href:e,"data-precedence":n},a),(a=Kn.get(f))&&xd(e,a);var R=g=o.createElement("link");xe(R),tn(R,"link",e),R._p=new Promise(function(z,F){R.onload=z,R.onerror=F}),R.addEventListener("load",function(){T.loading|=1}),R.addEventListener("error",function(){T.loading|=2}),T.loading|=4,bc(g,n,o)}g={type:"stylesheet",instance:g,count:1,state:T},h.set(f,g)}}}function OS(e,n){os.X(e,n);var a=Ha;if(a&&e){var o=vi(a).hoistableScripts,h=Ga(e),f=o.get(h);f||(f=a.querySelector(pl(h)),f||(e=S({src:e,async:!0},n),(n=Kn.get(h))&&Od(e,n),f=a.createElement("script"),xe(f),tn(f,"link",e),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function MS(e,n){os.M(e,n);var a=Ha;if(a&&e){var o=vi(a).hoistableScripts,h=Ga(e),f=o.get(h);f||(f=a.querySelector(pl(h)),f||(e=S({src:e,async:!0,type:"module"},n),(n=Kn.get(h))&&Od(e,n),f=a.createElement("script"),xe(f),tn(f,"link",e),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function L_(e,n,a,o){var h=(h=It.current)?Sc(h):null;if(!h)throw Error(r(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(n=Fa(a.href),a=vi(h).hoistableStyles,o=a.get(n),o||(o={type:"style",instance:null,count:0,state:null},a.set(n,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=Fa(a.href);var f=vi(h).hoistableStyles,g=f.get(e);if(g||(h=h.ownerDocument||h,g={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(e,g),(f=h.querySelector(gl(e)))&&!f._p&&(g.instance=f,g.state.loading=5),Kn.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Kn.set(e,a),f||VS(h,e,a,g.state))),n&&o===null)throw Error(r(528,""));return g}if(n&&o!==null)throw Error(r(529,""));return null;case"script":return n=a.async,a=a.src,typeof a=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Ga(a),a=vi(h).hoistableScripts,o=a.get(n),o||(o={type:"script",instance:null,count:0,state:null},a.set(n,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,e))}}function Fa(e){return'href="'+mn(e)+'"'}function gl(e){return'link[rel="stylesheet"]['+e+"]"}function P_(e){return S({},e,{"data-precedence":e.precedence,precedence:null})}function VS(e,n,a,o){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?o.loading=1:(n=e.createElement("link"),o.preload=n,n.addEventListener("load",function(){return o.loading|=1}),n.addEventListener("error",function(){return o.loading|=2}),tn(n,"link",a),xe(n),e.head.appendChild(n))}function Ga(e){return'[src="'+mn(e)+'"]'}function pl(e){return"script[async]"+e}function k_(e,n,a){if(n.count++,n.instance===null)switch(n.type){case"style":var o=e.querySelector('style[data-href~="'+mn(a.href)+'"]');if(o)return n.instance=o,xe(o),o;var h=S({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return o=(e.ownerDocument||e).createElement("style"),xe(o),tn(o,"style",h),bc(o,a.precedence,e),n.instance=o;case"stylesheet":h=Fa(a.href);var f=e.querySelector(gl(h));if(f)return n.state.loading|=4,n.instance=f,xe(f),f;o=P_(a),(h=Kn.get(h))&&xd(o,h),f=(e.ownerDocument||e).createElement("link"),xe(f);var g=f;return g._p=new Promise(function(T,R){g.onload=T,g.onerror=R}),tn(f,"link",o),n.state.loading|=4,bc(f,a.precedence,e),n.instance=f;case"script":return f=Ga(a.src),(h=e.querySelector(pl(f)))?(n.instance=h,xe(h),h):(o=a,(h=Kn.get(f))&&(o=S({},a),Od(o,h)),e=e.ownerDocument||e,h=e.createElement("script"),xe(h),tn(h,"link",o),e.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(r(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(o=n.instance,n.state.loading|=4,bc(o,a.precedence,e));return n.instance}function bc(e,n,a){for(var o=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=o.length?o[o.length-1]:null,f=h,g=0;g<o.length;g++){var T=o[g];if(T.dataset.precedence===n)f=T;else if(f!==h)break}f?f.parentNode.insertBefore(e,f.nextSibling):(n=a.nodeType===9?a.head:a,n.insertBefore(e,n.firstChild))}function xd(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function Od(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var wc=null;function z_(e,n,a){if(wc===null){var o=new Map,h=wc=new Map;h.set(a,o)}else h=wc,o=h.get(a),o||(o=new Map,h.set(a,o));if(o.has(e))return o;for(o.set(e,null),a=a.getElementsByTagName(e),h=0;h<a.length;h++){var f=a[h];if(!(f[yi]||f[De]||e==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var g=f.getAttribute(n)||"";g=e+g;var T=o.get(g);T?T.push(f):o.set(g,[f])}}return o}function j_(e,n,a){e=e.ownerDocument||e,e.head.insertBefore(a,n==="title"?e.querySelector("head > title"):null)}function US(e,n,a){if(a===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return e=n.disabled,typeof n.precedence=="string"&&e==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function B_(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function LS(e,n,a,o){if(a.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var h=Fa(o.href),f=n.querySelector(gl(h));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(e.count++,e=Rc.bind(e),n.then(e,e)),a.state.loading|=4,a.instance=f,xe(f);return}f=n.ownerDocument||n,o=P_(o),(h=Kn.get(h))&&xd(o,h),f=f.createElement("link"),xe(f);var g=f;g._p=new Promise(function(T,R){g.onload=T,g.onerror=R}),tn(f,"link",o),a.instance=f}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(a,n),(n=a.state.preload)&&(a.state.loading&3)===0&&(e.count++,a=Rc.bind(e),n.addEventListener("load",a),n.addEventListener("error",a))}}var Md=0;function PS(e,n){return e.stylesheets&&e.count===0&&Cc(e,e.stylesheets),0<e.count||0<e.imgCount?function(a){var o=setTimeout(function(){if(e.stylesheets&&Cc(e,e.stylesheets),e.unsuspend){var f=e.unsuspend;e.unsuspend=null,f()}},6e4+n);0<e.imgBytes&&Md===0&&(Md=62500*yS());var h=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Cc(e,e.stylesheets),e.unsuspend)){var f=e.unsuspend;e.unsuspend=null,f()}},(e.imgBytes>Md?50:800)+n);return e.unsuspend=a,function(){e.unsuspend=null,clearTimeout(o),clearTimeout(h)}}:null}function Rc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Cc(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Ic=null;function Cc(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Ic=new Map,n.forEach(kS,e),Ic=null,Rc.call(e))}function kS(e,n){if(!(n.state.loading&4)){var a=Ic.get(e);if(a)var o=a.get(null);else{a=new Map,Ic.set(e,a);for(var h=e.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var g=h[f];(g.nodeName==="LINK"||g.getAttribute("media")!=="not all")&&(a.set(g.dataset.precedence,g),o=g)}o&&a.set(null,o)}h=n.instance,g=h.getAttribute("data-precedence"),f=a.get(g)||o,f===o&&a.set(null,h),a.set(g,h),this.count++,o=Rc.bind(this),h.addEventListener("load",o),h.addEventListener("error",o),f?f.parentNode.insertBefore(h,f.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(h,e.firstChild)),n.state.loading|=4}}var yl={$$typeof:vt,Provider:null,Consumer:null,_currentValue:mt,_currentValue2:mt,_threadCount:0};function zS(e,n,a,o,h,f,g,T,R){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=gi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gi(0),this.hiddenUpdates=gi(null),this.identifierPrefix=o,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=g,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=R,this.incompleteTransitions=new Map}function q_(e,n,a,o,h,f,g,T,R,z,F,X){return e=new zS(e,n,a,g,R,z,F,X,T),n=1,f===!0&&(n|=24),f=Rn(3,null,null,n),e.current=f,f.stateNode=e,n=ff(),n.refCount++,e.pooledCache=n,n.refCount++,f.memoizedState={element:o,isDehydrated:a,cache:n},pf(f),e}function H_(e){return e?(e=Aa,e):Aa}function F_(e,n,a,o,h,f){h=H_(h),o.context===null?o.context=h:o.pendingContext=h,o=Us(n),o.payload={element:a},f=f===void 0?null:f,f!==null&&(o.callback=f),a=Ls(e,o,n),a!==null&&(Tn(a,e,n),Xo(a,e,n))}function G_(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<n?a:n}}function Vd(e,n){G_(e,n),(e=e.alternate)&&G_(e,n)}function Q_(e){if(e.tag===13||e.tag===31){var n=Ur(e,67108864);n!==null&&Tn(n,e,67108864),Vd(e,67108864)}}function Y_(e){if(e.tag===13||e.tag===31){var n=xn();n=Sr(n);var a=Ur(e,n);a!==null&&Tn(a,e,n),Vd(e,n)}}var Nc=!0;function jS(e,n,a,o){var h=H.T;H.T=null;var f=et.p;try{et.p=2,Ud(e,n,a,o)}finally{et.p=f,H.T=h}}function BS(e,n,a,o){var h=H.T;H.T=null;var f=et.p;try{et.p=8,Ud(e,n,a,o)}finally{et.p=f,H.T=h}}function Ud(e,n,a,o){if(Nc){var h=Ld(o);if(h===null)Ed(e,n,o,Dc,a),X_(e,o);else if(HS(h,e,n,a,o))o.stopPropagation();else if(X_(e,o),n&4&&-1<qS.indexOf(e)){for(;h!==null;){var f=Pn(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var g=di(f.pendingLanes);if(g!==0){var T=f;for(T.pendingLanes|=2,T.entangledLanes|=2;g;){var R=1<<31-be(g);T.entanglements[1]|=R,g&=~R}Oi(f),(Jt&6)===0&&(fc=Dt()+500,hl(0))}}break;case 31:case 13:T=Ur(f,2),T!==null&&Tn(T,f,2),mc(),Vd(f,2)}if(f=Ld(o),f===null&&Ed(e,n,o,Dc,a),f===h)break;h=f}h!==null&&o.stopPropagation()}else Ed(e,n,o,null,a)}}function Ld(e){return e=kn(e),Pd(e)}var Dc=null;function Pd(e){if(Dc=null,e=_i(e),e!==null){var n=c(e);if(n===null)e=null;else{var a=n.tag;if(a===13){if(e=d(n),e!==null)return e;e=null}else if(a===31){if(e=p(n),e!==null)return e;e=null}else if(a===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return Dc=e,null}function K_(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ke()){case qi:return 2;case Eo:return 8;case Ts:case qh:return 32;case lu:return 268435456;default:return 32}default:return 32}}var kd=!1,Ys=null,Ks=null,Xs=null,_l=new Map,vl=new Map,$s=[],qS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function X_(e,n){switch(e){case"focusin":case"focusout":Ys=null;break;case"dragenter":case"dragleave":Ks=null;break;case"mouseover":case"mouseout":Xs=null;break;case"pointerover":case"pointerout":_l.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":vl.delete(n.pointerId)}}function Tl(e,n,a,o,h,f){return e===null||e.nativeEvent!==f?(e={blockedOn:n,domEventName:a,eventSystemFlags:o,nativeEvent:f,targetContainers:[h]},n!==null&&(n=Pn(n),n!==null&&Q_(n)),e):(e.eventSystemFlags|=o,n=e.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),e)}function HS(e,n,a,o,h){switch(n){case"focusin":return Ys=Tl(Ys,e,n,a,o,h),!0;case"dragenter":return Ks=Tl(Ks,e,n,a,o,h),!0;case"mouseover":return Xs=Tl(Xs,e,n,a,o,h),!0;case"pointerover":var f=h.pointerId;return _l.set(f,Tl(_l.get(f)||null,e,n,a,o,h)),!0;case"gotpointercapture":return f=h.pointerId,vl.set(f,Tl(vl.get(f)||null,e,n,a,o,h)),!0}return!1}function $_(e){var n=_i(e.target);if(n!==null){var a=c(n);if(a!==null){if(n=a.tag,n===13){if(n=d(a),n!==null){e.blockedOn=n,Zn(e.priority,function(){Y_(a)});return}}else if(n===31){if(n=p(a),n!==null){e.blockedOn=n,Zn(e.priority,function(){Y_(a)});return}}else if(n===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function xc(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var a=Ld(e.nativeEvent);if(a===null){a=e.nativeEvent;var o=new a.constructor(a.type,a);Mo=o,a.target.dispatchEvent(o),Mo=null}else return n=Pn(a),n!==null&&Q_(n),e.blockedOn=a,!1;n.shift()}return!0}function Z_(e,n,a){xc(e)&&a.delete(n)}function FS(){kd=!1,Ys!==null&&xc(Ys)&&(Ys=null),Ks!==null&&xc(Ks)&&(Ks=null),Xs!==null&&xc(Xs)&&(Xs=null),_l.forEach(Z_),vl.forEach(Z_)}function Oc(e,n){e.blockedOn===n&&(e.blockedOn=null,kd||(kd=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,FS)))}var Mc=null;function J_(e){Mc!==e&&(Mc=e,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){Mc===e&&(Mc=null);for(var n=0;n<e.length;n+=3){var a=e[n],o=e[n+1],h=e[n+2];if(typeof o!="function"){if(Pd(o||a)===null)continue;break}var f=Pn(a);f!==null&&(e.splice(n,3),n-=3,Lf(f,{pending:!0,data:h,method:a.method,action:o},o,h))}}))}function Qa(e){function n(R){return Oc(R,e)}Ys!==null&&Oc(Ys,e),Ks!==null&&Oc(Ks,e),Xs!==null&&Oc(Xs,e),_l.forEach(n),vl.forEach(n);for(var a=0;a<$s.length;a++){var o=$s[a];o.blockedOn===e&&(o.blockedOn=null)}for(;0<$s.length&&(a=$s[0],a.blockedOn===null);)$_(a),a.blockedOn===null&&$s.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(o=0;o<a.length;o+=3){var h=a[o],f=a[o+1],g=h[He]||null;if(typeof f=="function")g||J_(a);else if(g){var T=null;if(f&&f.hasAttribute("formAction")){if(h=f,g=f[He]||null)T=g.formAction;else if(Pd(h)!==null)continue}else T=g.action;typeof T=="function"?a[o+1]=T:(a.splice(o,3),o-=3),J_(a)}}}function W_(){function e(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(g){return h=g})},focusReset:"manual",scroll:"manual"})}function n(){h!==null&&(h(),h=null),o||setTimeout(a,20)}function a(){if(!o&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var o=!1,h=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(a,100),function(){o=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),h!==null&&(h(),h=null)}}}function zd(e){this._internalRoot=e}Vc.prototype.render=zd.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(r(409));var a=n.current,o=xn();F_(a,o,e,n,null,null)},Vc.prototype.unmount=zd.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;F_(e.current,2,null,e,null,null),mc(),n[pi]=null}};function Vc(e){this._internalRoot=e}Vc.prototype.unstable_scheduleHydration=function(e){if(e){var n=mu();e={blockedOn:null,target:e,priority:n};for(var a=0;a<$s.length&&n!==0&&n<$s[a].priority;a++);$s.splice(a,0,e),a===0&&$_(e)}};var tv=t.version;if(tv!=="19.2.0")throw Error(r(527,tv,"19.2.0"));et.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(r(188)):(e=Object.keys(e).join(","),Error(r(268,e)));return e=y(n),e=e!==null?A(e):null,e=e===null?null:e.stateNode,e};var GS={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:H,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Uc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Uc.isDisabled&&Uc.supportsFiber)try{Xn=Uc.inject(GS),Xe=Uc}catch{}}return Al.createRoot=function(e,n){if(!l(e))throw Error(r(299));var a=!1,o="",h=oy,f=ly,g=uy;return n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(g=n.onRecoverableError)),n=q_(e,1,!1,null,null,a,o,null,h,f,g,W_),e[pi]=n.current,Td(e),new zd(n)},Al.hydrateRoot=function(e,n,a){if(!l(e))throw Error(r(299));var o=!1,h="",f=oy,g=ly,T=uy,R=null;return a!=null&&(a.unstable_strictMode===!0&&(o=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(f=a.onUncaughtError),a.onCaughtError!==void 0&&(g=a.onCaughtError),a.onRecoverableError!==void 0&&(T=a.onRecoverableError),a.formState!==void 0&&(R=a.formState)),n=q_(e,1,!0,n,a??null,o,h,R,f,g,T,W_),n.context=H_(null),a=n.current,o=xn(),o=Sr(o),h=Us(o),h.callback=null,Ls(a,h,o),a=o,n.current.lanes=a,Er(n,a),Oi(n),e[pi]=n.current,Td(e),new Vc(n)},Al.version="19.2.0",Al}var cv;function e1(){if(cv)return qd.exports;cv=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(t){console.error(t)}}return s(),qd.exports=t1(),qd.exports}var n1=e1();/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i1=s=>s.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),s1=s=>s.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,i,r)=>r?r.toUpperCase():i.toLowerCase()),hv=s=>{const t=s1(s);return t.charAt(0).toUpperCase()+t.slice(1)},Q0=(...s)=>s.filter((t,i,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===i).join(" ").trim(),r1=s=>{for(const t in s)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var a1={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o1=ge.forwardRef(({color:s="currentColor",size:t=24,strokeWidth:i=2,absoluteStrokeWidth:r,className:l="",children:c,iconNode:d,...p},_)=>ge.createElement("svg",{ref:_,...a1,width:t,height:t,stroke:s,strokeWidth:r?Number(i)*24/Number(t):i,className:Q0("lucide",l),...!c&&!r1(p)&&{"aria-hidden":"true"},...p},[...d.map(([y,A])=>ge.createElement(y,A)),...Array.isArray(c)?c:[c]]));/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ho=(s,t)=>{const i=ge.forwardRef(({className:r,...l},c)=>ge.createElement(o1,{ref:c,iconNode:t,className:Q0(`lucide-${i1(hv(s))}`,`lucide-${s}`,r),...l}));return i.displayName=hv(s),i};/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l1=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],u1=ho("award",l1);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c1=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],fv=ho("calendar",c1);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h1=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],dv=ho("chevron-left",h1);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f1=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],d1=ho("clock",f1);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m1=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],g1=ho("user-plus",m1);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p1=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],y1=ho("users",p1),_1=()=>{};var mv={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y0=function(s){const t=[];let i=0;for(let r=0;r<s.length;r++){let l=s.charCodeAt(r);l<128?t[i++]=l:l<2048?(t[i++]=l>>6|192,t[i++]=l&63|128):(l&64512)===55296&&r+1<s.length&&(s.charCodeAt(r+1)&64512)===56320?(l=65536+((l&1023)<<10)+(s.charCodeAt(++r)&1023),t[i++]=l>>18|240,t[i++]=l>>12&63|128,t[i++]=l>>6&63|128,t[i++]=l&63|128):(t[i++]=l>>12|224,t[i++]=l>>6&63|128,t[i++]=l&63|128)}return t},v1=function(s){const t=[];let i=0,r=0;for(;i<s.length;){const l=s[i++];if(l<128)t[r++]=String.fromCharCode(l);else if(l>191&&l<224){const c=s[i++];t[r++]=String.fromCharCode((l&31)<<6|c&63)}else if(l>239&&l<365){const c=s[i++],d=s[i++],p=s[i++],_=((l&7)<<18|(c&63)<<12|(d&63)<<6|p&63)-65536;t[r++]=String.fromCharCode(55296+(_>>10)),t[r++]=String.fromCharCode(56320+(_&1023))}else{const c=s[i++],d=s[i++];t[r++]=String.fromCharCode((l&15)<<12|(c&63)<<6|d&63)}}return t.join("")},K0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,t){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let l=0;l<s.length;l+=3){const c=s[l],d=l+1<s.length,p=d?s[l+1]:0,_=l+2<s.length,y=_?s[l+2]:0,A=c>>2,S=(c&3)<<4|p>>4;let N=(p&15)<<2|y>>6,G=y&63;_||(G=64,d||(N=64)),r.push(i[A],i[S],i[N],i[G])}return r.join("")},encodeString(s,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(s):this.encodeByteArray(Y0(s),t)},decodeString(s,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(s):v1(this.decodeStringToByteArray(s,t))},decodeStringToByteArray(s,t){this.init_();const i=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let l=0;l<s.length;){const c=i[s.charAt(l++)],p=l<s.length?i[s.charAt(l)]:0;++l;const y=l<s.length?i[s.charAt(l)]:64;++l;const S=l<s.length?i[s.charAt(l)]:64;if(++l,c==null||p==null||y==null||S==null)throw new T1;const N=c<<2|p>>4;if(r.push(N),y!==64){const G=p<<4&240|y>>2;if(r.push(G),S!==64){const J=y<<6&192|S;r.push(J)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class T1 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const E1=function(s){const t=Y0(s);return K0.encodeByteArray(t,!0)},eh=function(s){return E1(s).replace(/\./g,"")},X0=function(s){try{return K0.decodeString(s,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A1(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S1=()=>A1().__FIREBASE_DEFAULTS__,b1=()=>{if(typeof process>"u"||typeof mv>"u")return;const s=mv.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},w1=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=s&&X0(s[1]);return t&&JSON.parse(t)},Eh=()=>{try{return _1()||S1()||b1()||w1()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},$0=s=>Eh()?.emulatorHosts?.[s],R1=s=>{const t=$0(s);if(!t)return;const i=t.lastIndexOf(":");if(i<=0||i+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(i+1),10);return t[0]==="["?[t.substring(1,i-1),r]:[t.substring(0,i),r]},Z0=()=>Eh()?.config,J0=s=>Eh()?.[`_${s}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I1{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,i)=>{this.resolve=t,this.reject=i})}wrapCallback(t){return(i,r)=>{i?this.reject(i):this.resolve(r),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(i):t(i,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fo(s){try{return(s.startsWith("http://")||s.startsWith("https://")?new URL(s).hostname:s).endsWith(".cloudworkstations.dev")}catch{return!1}}async function W0(s){return(await fetch(s,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C1(s,t){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},r=t||"demo-project",l=s.iat||0,c=s.sub||s.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${r}`,aud:r,iat:l,exp:l+3600,auth_time:l,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...s};return[eh(JSON.stringify(i)),eh(JSON.stringify(d)),""].join(".")}const Cl={};function N1(){const s={prod:[],emulator:[]};for(const t of Object.keys(Cl))Cl[t]?s.emulator.push(t):s.prod.push(t);return s}function D1(s){let t=document.getElementById(s),i=!1;return t||(t=document.createElement("div"),t.setAttribute("id",s),i=!0),{created:i,element:t}}let gv=!1;function tT(s,t){if(typeof window>"u"||typeof document>"u"||!fo(window.location.host)||Cl[s]===t||Cl[s]||gv)return;Cl[s]=t;function i(N){return`__firebase__banner__${N}`}const r="__firebase__banner",c=N1().prod.length>0;function d(){const N=document.getElementById(r);N&&N.remove()}function p(N){N.style.display="flex",N.style.background="#7faaf0",N.style.position="fixed",N.style.bottom="5px",N.style.left="5px",N.style.padding=".5em",N.style.borderRadius="5px",N.style.alignItems="center"}function _(N,G){N.setAttribute("width","24"),N.setAttribute("id",G),N.setAttribute("height","24"),N.setAttribute("viewBox","0 0 24 24"),N.setAttribute("fill","none"),N.style.marginLeft="-6px"}function y(){const N=document.createElement("span");return N.style.cursor="pointer",N.style.marginLeft="16px",N.style.fontSize="24px",N.innerHTML=" &times;",N.onclick=()=>{gv=!0,d()},N}function A(N,G){N.setAttribute("id",G),N.innerText="Learn more",N.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",N.setAttribute("target","__blank"),N.style.paddingLeft="5px",N.style.textDecoration="underline"}function S(){const N=D1(r),G=i("text"),J=document.getElementById(G)||document.createElement("span"),st=i("learnmore"),W=document.getElementById(st)||document.createElement("a"),yt=i("preprendIcon"),Et=document.getElementById(yt)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(N.created){const vt=N.element;p(vt),A(W,st);const St=y();_(Et,yt),vt.append(Et,J,W,St),document.body.appendChild(vt)}c?(J.innerText="Preview backend disconnected.",Et.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(Et.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,J.innerText="Preview backend running in this workspace."),J.setAttribute("id",G)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",S):S()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function x1(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(cn())}function O1(){const s=Eh()?.forceEnvironment;if(s==="node")return!0;if(s==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function M1(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function V1(){const s=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof s=="object"&&s.id!==void 0}function U1(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function L1(){const s=cn();return s.indexOf("MSIE ")>=0||s.indexOf("Trident/")>=0}function P1(){return!O1()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function k1(){try{return typeof indexedDB=="object"}catch{return!1}}function z1(){return new Promise((s,t)=>{try{let i=!0;const r="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(r);l.onsuccess=()=>{l.result.close(),i||self.indexedDB.deleteDatabase(r),s(!0)},l.onupgradeneeded=()=>{i=!1},l.onerror=()=>{t(l.error?.message||"")}}catch(i){t(i)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j1="FirebaseError";class ps extends Error{constructor(t,i,r){super(i),this.code=t,this.customData=r,this.name=j1,Object.setPrototypeOf(this,ps.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ql.prototype.create)}}class Ql{constructor(t,i,r){this.service=t,this.serviceName=i,this.errors=r}create(t,...i){const r=i[0]||{},l=`${this.service}/${t}`,c=this.errors[t],d=c?B1(c,r):"Error",p=`${this.serviceName}: ${d} (${l}).`;return new ps(l,p,r)}}function B1(s,t){return s.replace(q1,(i,r)=>{const l=t[r];return l!=null?String(l):`<${r}?>`})}const q1=/\{\$([^}]+)}/g;function H1(s){for(const t in s)if(Object.prototype.hasOwnProperty.call(s,t))return!1;return!0}function Wr(s,t){if(s===t)return!0;const i=Object.keys(s),r=Object.keys(t);for(const l of i){if(!r.includes(l))return!1;const c=s[l],d=t[l];if(pv(c)&&pv(d)){if(!Wr(c,d))return!1}else if(c!==d)return!1}for(const l of r)if(!i.includes(l))return!1;return!0}function pv(s){return s!==null&&typeof s=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yl(s){const t=[];for(const[i,r]of Object.entries(s))Array.isArray(r)?r.forEach(l=>{t.push(encodeURIComponent(i)+"="+encodeURIComponent(l))}):t.push(encodeURIComponent(i)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function F1(s,t){const i=new G1(s,t);return i.subscribe.bind(i)}class G1{constructor(t,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{t(this)}).catch(r=>{this.error(r)})}next(t){this.forEachObserver(i=>{i.next(t)})}error(t){this.forEachObserver(i=>{i.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,i,r){let l;if(t===void 0&&i===void 0&&r===void 0)throw new Error("Missing Observer.");Q1(t,["next","error","complete"])?l=t:l={next:t,error:i,complete:r},l.next===void 0&&(l.next=Qd),l.error===void 0&&(l.error=Qd),l.complete===void 0&&(l.complete=Qd);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),c}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,t)}sendOne(t,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{i(this.observers[t])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Q1(s,t){if(typeof s!="object"||s===null)return!1;for(const i of t)if(i in s&&typeof s[i]=="function")return!0;return!1}function Qd(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function je(s){return s&&s._delegate?s._delegate:s}class ta{constructor(t,i,r){this.name=t,this.instanceFactory=i,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kr="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y1{constructor(t,i){this.name=t,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const i=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(i)){const r=new I1;if(this.instancesDeferred.set(i,r),this.isInitialized(i)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:i});l&&r.resolve(l)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(t){const i=this.normalizeInstanceIdentifier(t?.identifier),r=t?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(l){if(r)return null;throw l}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(X1(t))try{this.getOrInitializeService({instanceIdentifier:Kr})}catch{}for(const[i,r]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);try{const c=this.getOrInitializeService({instanceIdentifier:l});r.resolve(c)}catch{}}}}clearInstance(t=Kr){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...t.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Kr){return this.instances.has(t)}getOptions(t=Kr){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:i={}}=t,r=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:r,options:i});for(const[c,d]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(c);r===p&&d.resolve(l)}return l}onInit(t,i){const r=this.normalizeInstanceIdentifier(i),l=this.onInitCallbacks.get(r)??new Set;l.add(t),this.onInitCallbacks.set(r,l);const c=this.instances.get(r);return c&&t(c,r),()=>{l.delete(t)}}invokeOnInitCallbacks(t,i){const r=this.onInitCallbacks.get(i);if(r)for(const l of r)try{l(t,i)}catch{}}getOrInitializeService({instanceIdentifier:t,options:i={}}){let r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:K1(t),options:i}),this.instances.set(t,r),this.instancesOptions.set(t,i),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch{}return r||null}normalizeInstanceIdentifier(t=Kr){return this.component?this.component.multipleInstances?t:Kr:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function K1(s){return s===Kr?void 0:s}function X1(s){return s.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $1{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const i=this.getProvider(t.name);if(i.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);i.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const i=new Y1(t,this);return this.providers.set(t,i),i}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var jt;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(jt||(jt={}));const Z1={debug:jt.DEBUG,verbose:jt.VERBOSE,info:jt.INFO,warn:jt.WARN,error:jt.ERROR,silent:jt.SILENT},J1=jt.INFO,W1={[jt.DEBUG]:"log",[jt.VERBOSE]:"log",[jt.INFO]:"info",[jt.WARN]:"warn",[jt.ERROR]:"error"},tb=(s,t,...i)=>{if(t<s.logLevel)return;const r=new Date().toISOString(),l=W1[t];if(l)console[l](`[${r}]  ${s.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class Vm{constructor(t){this.name=t,this._logLevel=J1,this._logHandler=tb,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in jt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?Z1[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,jt.DEBUG,...t),this._logHandler(this,jt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,jt.VERBOSE,...t),this._logHandler(this,jt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,jt.INFO,...t),this._logHandler(this,jt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,jt.WARN,...t),this._logHandler(this,jt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,jt.ERROR,...t),this._logHandler(this,jt.ERROR,...t)}}const eb=(s,t)=>t.some(i=>s instanceof i);let yv,_v;function nb(){return yv||(yv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function ib(){return _v||(_v=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const eT=new WeakMap,lm=new WeakMap,nT=new WeakMap,Yd=new WeakMap,Um=new WeakMap;function sb(s){const t=new Promise((i,r)=>{const l=()=>{s.removeEventListener("success",c),s.removeEventListener("error",d)},c=()=>{i(sr(s.result)),l()},d=()=>{r(s.error),l()};s.addEventListener("success",c),s.addEventListener("error",d)});return t.then(i=>{i instanceof IDBCursor&&eT.set(i,s)}).catch(()=>{}),Um.set(t,s),t}function rb(s){if(lm.has(s))return;const t=new Promise((i,r)=>{const l=()=>{s.removeEventListener("complete",c),s.removeEventListener("error",d),s.removeEventListener("abort",d)},c=()=>{i(),l()},d=()=>{r(s.error||new DOMException("AbortError","AbortError")),l()};s.addEventListener("complete",c),s.addEventListener("error",d),s.addEventListener("abort",d)});lm.set(s,t)}let um={get(s,t,i){if(s instanceof IDBTransaction){if(t==="done")return lm.get(s);if(t==="objectStoreNames")return s.objectStoreNames||nT.get(s);if(t==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return sr(s[t])},set(s,t,i){return s[t]=i,!0},has(s,t){return s instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in s}};function ab(s){um=s(um)}function ob(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...i){const r=s.call(Kd(this),t,...i);return nT.set(r,t.sort?t.sort():[t]),sr(r)}:ib().includes(s)?function(...t){return s.apply(Kd(this),t),sr(eT.get(this))}:function(...t){return sr(s.apply(Kd(this),t))}}function lb(s){return typeof s=="function"?ob(s):(s instanceof IDBTransaction&&rb(s),eb(s,nb())?new Proxy(s,um):s)}function sr(s){if(s instanceof IDBRequest)return sb(s);if(Yd.has(s))return Yd.get(s);const t=lb(s);return t!==s&&(Yd.set(s,t),Um.set(t,s)),t}const Kd=s=>Um.get(s);function ub(s,t,{blocked:i,upgrade:r,blocking:l,terminated:c}={}){const d=indexedDB.open(s,t),p=sr(d);return r&&d.addEventListener("upgradeneeded",_=>{r(sr(d.result),_.oldVersion,_.newVersion,sr(d.transaction),_)}),i&&d.addEventListener("blocked",_=>i(_.oldVersion,_.newVersion,_)),p.then(_=>{c&&_.addEventListener("close",()=>c()),l&&_.addEventListener("versionchange",y=>l(y.oldVersion,y.newVersion,y))}).catch(()=>{}),p}const cb=["get","getKey","getAll","getAllKeys","count"],hb=["put","add","delete","clear"],Xd=new Map;function vv(s,t){if(!(s instanceof IDBDatabase&&!(t in s)&&typeof t=="string"))return;if(Xd.get(t))return Xd.get(t);const i=t.replace(/FromIndex$/,""),r=t!==i,l=hb.includes(i);if(!(i in(r?IDBIndex:IDBObjectStore).prototype)||!(l||cb.includes(i)))return;const c=async function(d,...p){const _=this.transaction(d,l?"readwrite":"readonly");let y=_.store;return r&&(y=y.index(p.shift())),(await Promise.all([y[i](...p),l&&_.done]))[0]};return Xd.set(t,c),c}ab(s=>({...s,get:(t,i,r)=>vv(t,i)||s.get(t,i,r),has:(t,i)=>!!vv(t,i)||s.has(t,i)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fb{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(db(i)){const r=i.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(i=>i).join(" ")}}function db(s){return s.getComponent()?.type==="VERSION"}const cm="@firebase/app",Tv="0.14.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hs=new Vm("@firebase/app"),mb="@firebase/app-compat",gb="@firebase/analytics-compat",pb="@firebase/analytics",yb="@firebase/app-check-compat",_b="@firebase/app-check",vb="@firebase/auth",Tb="@firebase/auth-compat",Eb="@firebase/database",Ab="@firebase/data-connect",Sb="@firebase/database-compat",bb="@firebase/functions",wb="@firebase/functions-compat",Rb="@firebase/installations",Ib="@firebase/installations-compat",Cb="@firebase/messaging",Nb="@firebase/messaging-compat",Db="@firebase/performance",xb="@firebase/performance-compat",Ob="@firebase/remote-config",Mb="@firebase/remote-config-compat",Vb="@firebase/storage",Ub="@firebase/storage-compat",Lb="@firebase/firestore",Pb="@firebase/ai",kb="@firebase/firestore-compat",zb="firebase",jb="12.3.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hm="[DEFAULT]",Bb={[cm]:"fire-core",[mb]:"fire-core-compat",[pb]:"fire-analytics",[gb]:"fire-analytics-compat",[_b]:"fire-app-check",[yb]:"fire-app-check-compat",[vb]:"fire-auth",[Tb]:"fire-auth-compat",[Eb]:"fire-rtdb",[Ab]:"fire-data-connect",[Sb]:"fire-rtdb-compat",[bb]:"fire-fn",[wb]:"fire-fn-compat",[Rb]:"fire-iid",[Ib]:"fire-iid-compat",[Cb]:"fire-fcm",[Nb]:"fire-fcm-compat",[Db]:"fire-perf",[xb]:"fire-perf-compat",[Ob]:"fire-rc",[Mb]:"fire-rc-compat",[Vb]:"fire-gcs",[Ub]:"fire-gcs-compat",[Lb]:"fire-fst",[kb]:"fire-fst-compat",[Pb]:"fire-vertex","fire-js":"fire-js",[zb]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nh=new Map,qb=new Map,fm=new Map;function Ev(s,t){try{s.container.addComponent(t)}catch(i){hs.debug(`Component ${t.name} failed to register with FirebaseApp ${s.name}`,i)}}function io(s){const t=s.name;if(fm.has(t))return hs.debug(`There were multiple attempts to register component ${t}.`),!1;fm.set(t,s);for(const i of nh.values())Ev(i,s);for(const i of qb.values())Ev(i,s);return!0}function Lm(s,t){const i=s.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),s.container.getProvider(t)}function li(s){return s==null?!1:s.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hb={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},rr=new Ql("app","Firebase",Hb);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fb{constructor(t,i,r){this._isDeleted=!1,this._options={...t},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ta("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw rr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mo=jb;function iT(s,t={}){let i=s;typeof t!="object"&&(t={name:t});const r={name:hm,automaticDataCollectionEnabled:!0,...t},l=r.name;if(typeof l!="string"||!l)throw rr.create("bad-app-name",{appName:String(l)});if(i||(i=Z0()),!i)throw rr.create("no-options");const c=nh.get(l);if(c){if(Wr(i,c.options)&&Wr(r,c.config))return c;throw rr.create("duplicate-app",{appName:l})}const d=new $1(l);for(const _ of fm.values())d.addComponent(_);const p=new Fb(i,r,d);return nh.set(l,p),p}function sT(s=hm){const t=nh.get(s);if(!t&&s===hm&&Z0())return iT();if(!t)throw rr.create("no-app",{appName:s});return t}function ar(s,t,i){let r=Bb[s]??s;i&&(r+=`-${i}`);const l=r.match(/\s|\//),c=t.match(/\s|\//);if(l||c){const d=[`Unable to register library "${r}" with version "${t}":`];l&&d.push(`library name "${r}" contains illegal characters (whitespace or "/")`),l&&c&&d.push("and"),c&&d.push(`version name "${t}" contains illegal characters (whitespace or "/")`),hs.warn(d.join(" "));return}io(new ta(`${r}-version`,()=>({library:r,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gb="firebase-heartbeat-database",Qb=1,Ul="firebase-heartbeat-store";let $d=null;function rT(){return $d||($d=ub(Gb,Qb,{upgrade:(s,t)=>{switch(t){case 0:try{s.createObjectStore(Ul)}catch(i){console.warn(i)}}}}).catch(s=>{throw rr.create("idb-open",{originalErrorMessage:s.message})})),$d}async function Yb(s){try{const i=(await rT()).transaction(Ul),r=await i.objectStore(Ul).get(aT(s));return await i.done,r}catch(t){if(t instanceof ps)hs.warn(t.message);else{const i=rr.create("idb-get",{originalErrorMessage:t?.message});hs.warn(i.message)}}}async function Av(s,t){try{const r=(await rT()).transaction(Ul,"readwrite");await r.objectStore(Ul).put(t,aT(s)),await r.done}catch(i){if(i instanceof ps)hs.warn(i.message);else{const r=rr.create("idb-set",{originalErrorMessage:i?.message});hs.warn(r.message)}}}function aT(s){return`${s.name}!${s.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kb=1024,Xb=30;class $b{constructor(t){this.container=t,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new Jb(i),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=Sv();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(l=>l.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:i}),this._heartbeatsCache.heartbeats.length>Xb){const l=Wb(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){hs.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=Sv(),{heartbeatsToSend:i,unsentEntries:r}=Zb(this._heartbeatsCache.heartbeats),l=eh(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(t){return hs.warn(t),""}}}function Sv(){return new Date().toISOString().substring(0,10)}function Zb(s,t=Kb){const i=[];let r=s.slice();for(const l of s){const c=i.find(d=>d.agent===l.agent);if(c){if(c.dates.push(l.date),bv(i)>t){c.dates.pop();break}}else if(i.push({agent:l.agent,dates:[l.date]}),bv(i)>t){i.pop();break}r=r.slice(1)}return{heartbeatsToSend:i,unsentEntries:r}}class Jb{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return k1()?z1().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await Yb(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const r=await this.read();return Av(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const r=await this.read();return Av(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...t.heartbeats]})}else return}}function bv(s){return eh(JSON.stringify({version:2,heartbeats:s})).length}function Wb(s){if(s.length===0)return-1;let t=0,i=s[0].date;for(let r=1;r<s.length;r++)s[r].date<i&&(i=s[r].date,t=r);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tw(s){io(new ta("platform-logger",t=>new fb(t),"PRIVATE")),io(new ta("heartbeat",t=>new $b(t),"PRIVATE")),ar(cm,Tv,s),ar(cm,Tv,"esm2020"),ar("fire-js","")}tw("");var ew="firebase",nw="12.3.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ar(ew,nw,"app");function oT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const iw=oT,lT=new Ql("auth","Firebase",oT());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ih=new Vm("@firebase/auth");function sw(s,...t){ih.logLevel<=jt.WARN&&ih.warn(`Auth (${mo}): ${s}`,...t)}function Gc(s,...t){ih.logLevel<=jt.ERROR&&ih.error(`Auth (${mo}): ${s}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zi(s,...t){throw km(s,...t)}function ci(s,...t){return km(s,...t)}function Pm(s,t,i){const r={...iw(),[t]:i};return new Ql("auth","Firebase",r).create(t,{appName:s.name})}function Zr(s){return Pm(s,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function rw(s,t,i){const r=i;if(!(t instanceof r))throw r.name!==t.constructor.name&&zi(s,"argument-error"),Pm(s,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function km(s,...t){if(typeof s!="string"){const i=t[0],r=[...t.slice(1)];return r[0]&&(r[0].appName=s.name),s._errorFactory.create(i,...r)}return lT.create(s,...t)}function bt(s,t,...i){if(!s)throw km(t,...i)}function us(s){const t="INTERNAL ASSERTION FAILED: "+s;throw Gc(t),new Error(t)}function fs(s,t){s||us(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dm(){return typeof self<"u"&&self.location?.href||""}function aw(){return wv()==="http:"||wv()==="https:"}function wv(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ow(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(aw()||V1()||"connection"in navigator)?navigator.onLine:!0}function lw(){if(typeof navigator>"u")return null;const s=navigator;return s.languages&&s.languages[0]||s.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kl{constructor(t,i){this.shortDelay=t,this.longDelay=i,fs(i>t,"Short delay should be less than long delay!"),this.isMobile=x1()||U1()}get(){return ow()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zm(s,t){fs(s.emulator,"Emulator should always be set here");const{url:i}=s.emulator;return t?`${i}${t.startsWith("/")?t.slice(1):t}`:i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uT{static initialize(t,i,r){this.fetchImpl=t,i&&(this.headersImpl=i),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;us("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;us("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;us("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uw={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cw=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],hw=new Kl(3e4,6e4);function jm(s,t){return s.tenantId&&!t.tenantId?{...t,tenantId:s.tenantId}:t}async function go(s,t,i,r,l={}){return cT(s,l,async()=>{let c={},d={};r&&(t==="GET"?d=r:c={body:JSON.stringify(r)});const p=Yl({key:s.config.apiKey,...d}).slice(1),_=await s._getAdditionalHeaders();_["Content-Type"]="application/json",s.languageCode&&(_["X-Firebase-Locale"]=s.languageCode);const y={method:t,headers:_,...c};return M1()||(y.referrerPolicy="no-referrer"),s.emulatorConfig&&fo(s.emulatorConfig.host)&&(y.credentials="include"),uT.fetch()(await hT(s,s.config.apiHost,i,p),y)})}async function cT(s,t,i){s._canInitEmulator=!1;const r={...uw,...t};try{const l=new dw(s),c=await Promise.race([i(),l.promise]);l.clearNetworkTimeout();const d=await c.json();if("needConfirmation"in d)throw Lc(s,"account-exists-with-different-credential",d);if(c.ok&&!("errorMessage"in d))return d;{const p=c.ok?d.errorMessage:d.error.message,[_,y]=p.split(" : ");if(_==="FEDERATED_USER_ID_ALREADY_LINKED")throw Lc(s,"credential-already-in-use",d);if(_==="EMAIL_EXISTS")throw Lc(s,"email-already-in-use",d);if(_==="USER_DISABLED")throw Lc(s,"user-disabled",d);const A=r[_]||_.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw Pm(s,A,y);zi(s,A)}}catch(l){if(l instanceof ps)throw l;zi(s,"network-request-failed",{message:String(l)})}}async function fw(s,t,i,r,l={}){const c=await go(s,t,i,r,l);return"mfaPendingCredential"in c&&zi(s,"multi-factor-auth-required",{_serverResponse:c}),c}async function hT(s,t,i,r){const l=`${t}${i}?${r}`,c=s,d=c.config.emulator?zm(s.config,l):`${s.config.apiScheme}://${l}`;return cw.includes(i)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(d).toString():d}class dw{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((i,r)=>{this.timer=setTimeout(()=>r(ci(this.auth,"network-request-failed")),hw.get())})}}function Lc(s,t,i){const r={appName:s.name};i.email&&(r.email=i.email),i.phoneNumber&&(r.phoneNumber=i.phoneNumber);const l=ci(s,t,r);return l.customData._tokenResponse=i,l}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mw(s,t){return go(s,"POST","/v1/accounts:delete",t)}async function sh(s,t){return go(s,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nl(s){if(s)try{const t=new Date(Number(s));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function gw(s,t=!1){const i=je(s),r=await i.getIdToken(t),l=Bm(r);bt(l&&l.exp&&l.auth_time&&l.iat,i.auth,"internal-error");const c=typeof l.firebase=="object"?l.firebase:void 0,d=c?.sign_in_provider;return{claims:l,token:r,authTime:Nl(Zd(l.auth_time)),issuedAtTime:Nl(Zd(l.iat)),expirationTime:Nl(Zd(l.exp)),signInProvider:d||null,signInSecondFactor:c?.sign_in_second_factor||null}}function Zd(s){return Number(s)*1e3}function Bm(s){const[t,i,r]=s.split(".");if(t===void 0||i===void 0||r===void 0)return Gc("JWT malformed, contained fewer than 3 sections"),null;try{const l=X0(i);return l?JSON.parse(l):(Gc("Failed to decode base64 JWT payload"),null)}catch(l){return Gc("Caught error parsing JWT payload as JSON",l?.toString()),null}}function Rv(s){const t=Bm(s);return bt(t,"internal-error"),bt(typeof t.exp<"u","internal-error"),bt(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ll(s,t,i=!1){if(i)return t;try{return await t}catch(r){throw r instanceof ps&&pw(r)&&s.auth.currentUser===s&&await s.auth.signOut(),r}}function pw({code:s}){return s==="auth/user-disabled"||s==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yw{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(t=!1){if(!this.isRunning)return;const i=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mm{constructor(t,i){this.createdAt=t,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=Nl(this.lastLoginAt),this.creationTime=Nl(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rh(s){const t=s.auth,i=await s.getIdToken(),r=await Ll(s,sh(t,{idToken:i}));bt(r?.users.length,t,"internal-error");const l=r.users[0];s._notifyReloadListener(l);const c=l.providerUserInfo?.length?fT(l.providerUserInfo):[],d=vw(s.providerData,c),p=s.isAnonymous,_=!(s.email&&l.passwordHash)&&!d?.length,y=p?_:!1,A={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:d,metadata:new mm(l.createdAt,l.lastLoginAt),isAnonymous:y};Object.assign(s,A)}async function _w(s){const t=je(s);await rh(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function vw(s,t){return[...s.filter(r=>!t.some(l=>l.providerId===r.providerId)),...t]}function fT(s){return s.map(({providerId:t,...i})=>({providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Tw(s,t){const i=await cT(s,{},async()=>{const r=Yl({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:l,apiKey:c}=s.config,d=await hT(s,l,"/v1/token",`key=${c}`),p=await s._getAdditionalHeaders();p["Content-Type"]="application/x-www-form-urlencoded";const _={method:"POST",headers:p,body:r};return s.emulatorConfig&&fo(s.emulatorConfig.host)&&(_.credentials="include"),uT.fetch()(d,_)});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function Ew(s,t){return go(s,"POST","/v2/accounts:revokeToken",jm(s,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wa{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){bt(t.idToken,"internal-error"),bt(typeof t.idToken<"u","internal-error"),bt(typeof t.refreshToken<"u","internal-error");const i="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):Rv(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,i)}updateFromIdToken(t){bt(t.length!==0,"internal-error");const i=Rv(t);this.updateTokensAndExpiration(t,null,i)}async getToken(t,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(bt(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,i){const{accessToken:r,refreshToken:l,expiresIn:c}=await Tw(t,i);this.updateTokensAndExpiration(r,l,Number(c))}updateTokensAndExpiration(t,i,r){this.refreshToken=i||null,this.accessToken=t||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(t,i){const{refreshToken:r,accessToken:l,expirationTime:c}=i,d=new Wa;return r&&(bt(typeof r=="string","internal-error",{appName:t}),d.refreshToken=r),l&&(bt(typeof l=="string","internal-error",{appName:t}),d.accessToken=l),c&&(bt(typeof c=="number","internal-error",{appName:t}),d.expirationTime=c),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Wa,this.toJSON())}_performRefresh(){return us("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Js(s,t){bt(typeof s=="string"||typeof s>"u","internal-error",{appName:t})}class ui{constructor({uid:t,auth:i,stsTokenManager:r,...l}){this.providerId="firebase",this.proactiveRefresh=new yw(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new mm(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(t){const i=await Ll(this,this.stsTokenManager.getToken(this.auth,t));return bt(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(t){return gw(this,t)}reload(){return _w(this)}_assign(t){this!==t&&(bt(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(i=>({...i})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const i=new ui({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return i.metadata._copy(this.metadata),i}_onReload(t){bt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,i=!1){let r=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),i&&await rh(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(li(this.auth.app))return Promise.reject(Zr(this.auth));const t=await this.getIdToken();return await Ll(this,mw(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,i){const r=i.displayName??void 0,l=i.email??void 0,c=i.phoneNumber??void 0,d=i.photoURL??void 0,p=i.tenantId??void 0,_=i._redirectEventId??void 0,y=i.createdAt??void 0,A=i.lastLoginAt??void 0,{uid:S,emailVerified:N,isAnonymous:G,providerData:J,stsTokenManager:st}=i;bt(S&&st,t,"internal-error");const W=Wa.fromJSON(this.name,st);bt(typeof S=="string",t,"internal-error"),Js(r,t.name),Js(l,t.name),bt(typeof N=="boolean",t,"internal-error"),bt(typeof G=="boolean",t,"internal-error"),Js(c,t.name),Js(d,t.name),Js(p,t.name),Js(_,t.name),Js(y,t.name),Js(A,t.name);const yt=new ui({uid:S,auth:t,email:l,emailVerified:N,displayName:r,isAnonymous:G,photoURL:d,phoneNumber:c,tenantId:p,stsTokenManager:W,createdAt:y,lastLoginAt:A});return J&&Array.isArray(J)&&(yt.providerData=J.map(Et=>({...Et}))),_&&(yt._redirectEventId=_),yt}static async _fromIdTokenResponse(t,i,r=!1){const l=new Wa;l.updateFromServerResponse(i);const c=new ui({uid:i.localId,auth:t,stsTokenManager:l,isAnonymous:r});return await rh(c),c}static async _fromGetAccountInfoResponse(t,i,r){const l=i.users[0];bt(l.localId!==void 0,"internal-error");const c=l.providerUserInfo!==void 0?fT(l.providerUserInfo):[],d=!(l.email&&l.passwordHash)&&!c?.length,p=new Wa;p.updateFromIdToken(r);const _=new ui({uid:l.localId,auth:t,stsTokenManager:p,isAnonymous:d}),y={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:c,metadata:new mm(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!c?.length};return Object.assign(_,y),_}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Iv=new Map;function cs(s){fs(s instanceof Function,"Expected a class definition");let t=Iv.get(s);return t?(fs(t instanceof s,"Instance stored in cache mismatched with class"),t):(t=new s,Iv.set(s,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dT{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,i){this.storage[t]=i}async _get(t){const i=this.storage[t];return i===void 0?null:i}async _remove(t){delete this.storage[t]}_addListener(t,i){}_removeListener(t,i){}}dT.type="NONE";const Cv=dT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qc(s,t,i){return`firebase:${s}:${t}:${i}`}class to{constructor(t,i,r){this.persistence=t,this.auth=i,this.userKey=r;const{config:l,name:c}=this.auth;this.fullUserKey=Qc(this.userKey,l.apiKey,c),this.fullPersistenceKey=Qc("persistence",l.apiKey,c),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const i=await sh(this.auth,{idToken:t}).catch(()=>{});return i?ui._fromGetAccountInfoResponse(this.auth,i,t):null}return ui._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,i,r="authUser"){if(!i.length)return new to(cs(Cv),t,r);const l=(await Promise.all(i.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let c=l[0]||cs(Cv);const d=Qc(r,t.config.apiKey,t.name);let p=null;for(const y of i)try{const A=await y._get(d);if(A){let S;if(typeof A=="string"){const N=await sh(t,{idToken:A}).catch(()=>{});if(!N)break;S=await ui._fromGetAccountInfoResponse(t,N,A)}else S=ui._fromJSON(t,A);y!==c&&(p=S),c=y;break}}catch{}const _=l.filter(y=>y._shouldAllowMigration);return!c._shouldAllowMigration||!_.length?new to(c,t,r):(c=_[0],p&&await c._set(d,p.toJSON()),await Promise.all(i.map(async y=>{if(y!==c)try{await y._remove(d)}catch{}})),new to(c,t,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nv(s){const t=s.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(yT(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(mT(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(vT(t))return"Blackberry";if(TT(t))return"Webos";if(gT(t))return"Safari";if((t.includes("chrome/")||pT(t))&&!t.includes("edge/"))return"Chrome";if(_T(t))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=s.match(i);if(r?.length===2)return r[1]}return"Other"}function mT(s=cn()){return/firefox\//i.test(s)}function gT(s=cn()){const t=s.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function pT(s=cn()){return/crios\//i.test(s)}function yT(s=cn()){return/iemobile/i.test(s)}function _T(s=cn()){return/android/i.test(s)}function vT(s=cn()){return/blackberry/i.test(s)}function TT(s=cn()){return/webos/i.test(s)}function qm(s=cn()){return/iphone|ipad|ipod/i.test(s)||/macintosh/i.test(s)&&/mobile/i.test(s)}function Aw(s=cn()){return qm(s)&&!!window.navigator?.standalone}function Sw(){return L1()&&document.documentMode===10}function ET(s=cn()){return qm(s)||_T(s)||TT(s)||vT(s)||/windows phone/i.test(s)||yT(s)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AT(s,t=[]){let i;switch(s){case"Browser":i=Nv(cn());break;case"Worker":i=`${Nv(cn())}-${s}`;break;default:i=s}const r=t.length?t.join(","):"FirebaseCore-web";return`${i}/JsCore/${mo}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bw{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,i){const r=c=>new Promise((d,p)=>{try{const _=t(c);d(_)}catch(_){p(_)}});r.onAbort=i,this.queue.push(r);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const i=[];try{for(const r of this.queue)await r(t),r.onAbort&&i.push(r.onAbort)}catch(r){i.reverse();for(const l of i)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ww(s,t={}){return go(s,"GET","/v2/passwordPolicy",jm(s,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rw=6;class Iw{constructor(t){const i=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=i.minPasswordLength??Rw,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),i.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),i.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),i.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),i.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const i={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,i),this.validatePasswordCharacterOptions(t,i),i.isValid&&(i.isValid=i.meetsMinPasswordLength??!0),i.isValid&&(i.isValid=i.meetsMaxPasswordLength??!0),i.isValid&&(i.isValid=i.containsLowercaseLetter??!0),i.isValid&&(i.isValid=i.containsUppercaseLetter??!0),i.isValid&&(i.isValid=i.containsNumericCharacter??!0),i.isValid&&(i.isValid=i.containsNonAlphanumericCharacter??!0),i}validatePasswordLengthOptions(t,i){const r=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;r&&(i.meetsMinPasswordLength=t.length>=r),l&&(i.meetsMaxPasswordLength=t.length<=l)}validatePasswordCharacterOptions(t,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let r;for(let l=0;l<t.length;l++)r=t.charAt(l),this.updatePasswordCharacterOptionsStatuses(i,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(t,i,r,l,c){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cw{constructor(t,i,r,l){this.app=t,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=r,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Dv(this),this.idTokenSubscription=new Dv(this),this.beforeStateQueue=new bw(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=lT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=l.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(t,i){return i&&(this._popupRedirectResolver=cs(i)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await to.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const i=await sh(this,{idToken:t}),r=await ui._fromGetAccountInfoResponse(this,i,t);await this.directlySetCurrentUser(r)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(li(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let r=i,l=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,d=r?._redirectEventId,p=await this.tryRedirectSignIn(t);(!c||c===d)&&p?.user&&(r=p.user,l=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(r)}catch(c){r=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return bt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(t){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(t){try{await rh(t)}catch(i){if(i?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=lw()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(li(this.app))return Promise.reject(Zr(this));const i=t?je(t):null;return i&&bt(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(t,i=!1){if(!this._deleted)return t&&bt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return li(this.app)?Promise.reject(Zr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return li(this.app)?Promise.reject(Zr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(cs(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await ww(this),i=new Iw(t);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new Ql("auth","Firebase",t())}onAuthStateChanged(t,i,r){return this.registerStateListener(this.authStateSubscription,t,i,r)}beforeAuthStateChanged(t,i){return this.beforeStateQueue.pushCallback(t,i)}onIdTokenChanged(t,i,r){return this.registerStateListener(this.idTokenSubscription,t,i,r)}authStateReady(){return new Promise((t,i)=>{if(this.currentUser)t();else{const r=this.onAuthStateChanged(()=>{r(),t()},i)}})}async revokeAccessToken(t){if(this.currentUser){const i=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:i};this.tenantId!=null&&(r.tenantId=this.tenantId),await Ew(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,i){const r=await this.getOrInitRedirectPersistenceManager(i);return t===null?r.removeCurrentUser():r.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const i=t&&cs(t)||this._popupRedirectResolver;bt(i,this,"argument-error"),this.redirectPersistenceManager=await to.create(this,[cs(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,i,r,l){if(this._deleted)return()=>{};const c=typeof i=="function"?i:i.next.bind(i);let d=!1;const p=this._isInitialized?Promise.resolve():this._initializationPromise;if(bt(p,this,"internal-error"),p.then(()=>{d||c(this.currentUser)}),typeof i=="function"){const _=t.addObserver(i,r,l);return()=>{d=!0,_()}}else{const _=t.addObserver(i);return()=>{d=!0,_()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return bt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=AT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const i=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();i&&(t["X-Firebase-Client"]=i);const r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){if(li(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&sw(`Error while retrieving App Check token: ${t.error}`),t?.token}}function Ah(s){return je(s)}class Dv{constructor(t){this.auth=t,this.observer=null,this.addObserver=F1(i=>this.observer=i)}get next(){return bt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Hm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Nw(s){Hm=s}function Dw(s){return Hm.loadJS(s)}function xw(){return Hm.gapiScript}function Ow(s){return`__${s}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mw(s,t){const i=Lm(s,"auth");if(i.isInitialized()){const l=i.getImmediate(),c=i.getOptions();if(Wr(c,t??{}))return l;zi(l,"already-initialized")}return i.initialize({options:t})}function Vw(s,t){const i=t?.persistence||[],r=(Array.isArray(i)?i:[i]).map(cs);t?.errorMap&&s._updateErrorMap(t.errorMap),s._initializeWithPersistence(r,t?.popupRedirectResolver)}function Uw(s,t,i){const r=Ah(s);bt(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const l=!1,c=ST(t),{host:d,port:p}=Lw(t),_=p===null?"":`:${p}`,y={url:`${c}//${d}${_}/`},A=Object.freeze({host:d,port:p,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!r._canInitEmulator){bt(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),bt(Wr(y,r.config.emulator)&&Wr(A,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=y,r.emulatorConfig=A,r.settings.appVerificationDisabledForTesting=!0,fo(d)?(W0(`${c}//${d}${_}`),tT("Auth",!0)):Pw()}function ST(s){const t=s.indexOf(":");return t<0?"":s.substr(0,t+1)}function Lw(s){const t=ST(s),i=/(\/\/)?([^?#/]+)/.exec(s.substr(t.length));if(!i)return{host:"",port:null};const r=i[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(r);if(l){const c=l[1];return{host:c,port:xv(r.substr(c.length+1))}}else{const[c,d]=r.split(":");return{host:c,port:xv(d)}}}function xv(s){if(!s)return null;const t=Number(s);return isNaN(t)?null:t}function Pw(){function s(){const t=document.createElement("p"),i=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",s):s())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bT{constructor(t,i){this.providerId=t,this.signInMethod=i}toJSON(){return us("not implemented")}_getIdTokenResponse(t){return us("not implemented")}_linkToIdToken(t,i){return us("not implemented")}_getReauthenticationResolver(t){return us("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eo(s,t){return fw(s,"POST","/v1/accounts:signInWithIdp",jm(s,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kw="http://localhost";class ea extends bT{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const i=new ea(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(i.idToken=t.idToken),t.accessToken&&(i.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(i.nonce=t.nonce),t.pendingToken&&(i.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(i.accessToken=t.oauthToken,i.secret=t.oauthTokenSecret):zi("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const i=typeof t=="string"?JSON.parse(t):t,{providerId:r,signInMethod:l,...c}=i;if(!r||!l)return null;const d=new ea(r,l);return d.idToken=c.idToken||void 0,d.accessToken=c.accessToken||void 0,d.secret=c.secret,d.nonce=c.nonce,d.pendingToken=c.pendingToken||null,d}_getIdTokenResponse(t){const i=this.buildRequest();return eo(t,i)}_linkToIdToken(t,i){const r=this.buildRequest();return r.idToken=i,eo(t,r)}_getReauthenticationResolver(t){const i=this.buildRequest();return i.autoCreate=!1,eo(t,i)}buildRequest(){const t={requestUri:kw,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),t.postBody=Yl(i)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fm{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xl extends Fm{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tr extends Xl{constructor(){super("facebook.com")}static credential(t){return ea._fromParams({providerId:tr.PROVIDER_ID,signInMethod:tr.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return tr.credentialFromTaggedObject(t)}static credentialFromError(t){return tr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return tr.credential(t.oauthAccessToken)}catch{return null}}}tr.FACEBOOK_SIGN_IN_METHOD="facebook.com";tr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ls extends Xl{constructor(){super("google.com"),this.addScope("profile")}static credential(t,i){return ea._fromParams({providerId:ls.PROVIDER_ID,signInMethod:ls.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:i})}static credentialFromResult(t){return ls.credentialFromTaggedObject(t)}static credentialFromError(t){return ls.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:i,oauthAccessToken:r}=t;if(!i&&!r)return null;try{return ls.credential(i,r)}catch{return null}}}ls.GOOGLE_SIGN_IN_METHOD="google.com";ls.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class er extends Xl{constructor(){super("github.com")}static credential(t){return ea._fromParams({providerId:er.PROVIDER_ID,signInMethod:er.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return er.credentialFromTaggedObject(t)}static credentialFromError(t){return er.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return er.credential(t.oauthAccessToken)}catch{return null}}}er.GITHUB_SIGN_IN_METHOD="github.com";er.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nr extends Xl{constructor(){super("twitter.com")}static credential(t,i){return ea._fromParams({providerId:nr.PROVIDER_ID,signInMethod:nr.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:i})}static credentialFromResult(t){return nr.credentialFromTaggedObject(t)}static credentialFromError(t){return nr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:i,oauthTokenSecret:r}=t;if(!i||!r)return null;try{return nr.credential(i,r)}catch{return null}}}nr.TWITTER_SIGN_IN_METHOD="twitter.com";nr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class so{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,i,r,l=!1){const c=await ui._fromIdTokenResponse(t,r,l),d=Ov(r);return new so({user:c,providerId:d,_tokenResponse:r,operationType:i})}static async _forOperation(t,i,r){await t._updateTokensIfNecessary(r,!0);const l=Ov(r);return new so({user:t,providerId:l,_tokenResponse:r,operationType:i})}}function Ov(s){return s.providerId?s.providerId:"phoneNumber"in s?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ah extends ps{constructor(t,i,r,l){super(i.code,i.message),this.operationType=r,this.user=l,Object.setPrototypeOf(this,ah.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:i.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(t,i,r,l){return new ah(t,i,r,l)}}function wT(s,t,i,r){return(t==="reauthenticate"?i._getReauthenticationResolver(s):i._getIdTokenResponse(s)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?ah._fromErrorAndOperation(s,c,t,r):c})}async function zw(s,t,i=!1){const r=await Ll(s,t._linkToIdToken(s.auth,await s.getIdToken()),i);return so._forOperation(s,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jw(s,t,i=!1){const{auth:r}=s;if(li(r.app))return Promise.reject(Zr(r));const l="reauthenticate";try{const c=await Ll(s,wT(r,l,t,s),i);bt(c.idToken,r,"internal-error");const d=Bm(c.idToken);bt(d,r,"internal-error");const{sub:p}=d;return bt(s.uid===p,r,"user-mismatch"),so._forOperation(s,l,c)}catch(c){throw c?.code==="auth/user-not-found"&&zi(r,"user-mismatch"),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Bw(s,t,i=!1){if(li(s.app))return Promise.reject(Zr(s));const r="signIn",l=await wT(s,r,t),c=await so._fromIdTokenResponse(s,r,l);return i||await s._updateCurrentUser(c.user),c}function qw(s,t,i,r){return je(s).onIdTokenChanged(t,i,r)}function Hw(s,t,i){return je(s).beforeAuthStateChanged(t,i)}function Fw(s,t,i,r){return je(s).onAuthStateChanged(t,i,r)}function Gw(s){return je(s).signOut()}const oh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RT{constructor(t,i){this.storageRetriever=t,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(oh,"1"),this.storage.removeItem(oh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,i){return this.storage.setItem(t,JSON.stringify(i)),Promise.resolve()}_get(t){const i=this.storage.getItem(t);return Promise.resolve(i?JSON.parse(i):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qw=1e3,Yw=10;class IT extends RT{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,i)=>this.onStorageEvent(t,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=ET(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const i of Object.keys(this.listeners)){const r=this.storage.getItem(i),l=this.localCache[i];r!==l&&t(i,l,r)}}onStorageEvent(t,i=!1){if(!t.key){this.forAllChangedKeys((d,p,_)=>{this.notifyListeners(d,_)});return}const r=t.key;i?this.detachListener():this.stopPolling();const l=()=>{const d=this.storage.getItem(r);!i&&this.localCache[r]===d||this.notifyListeners(r,d)},c=this.storage.getItem(r);Sw()&&c!==t.newValue&&t.newValue!==t.oldValue?setTimeout(l,Yw):l()}notifyListeners(t,i){this.localCache[t]=i;const r=this.listeners[t];if(r)for(const l of Array.from(r))l(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,i,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:i,newValue:r}),!0)})},Qw)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,i){await super._set(t,i),this.localCache[t]=JSON.stringify(i)}async _get(t){const i=await super._get(t);return this.localCache[t]=JSON.stringify(i),i}async _remove(t){await super._remove(t),delete this.localCache[t]}}IT.type="LOCAL";const Kw=IT;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CT extends RT{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,i){}_removeListener(t,i){}}CT.type="SESSION";const NT=CT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xw(s){return Promise.all(s.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(i){return{fulfilled:!1,reason:i}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sh{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const i=this.receivers.find(l=>l.isListeningto(t));if(i)return i;const r=new Sh(t);return this.receivers.push(r),r}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const i=t,{eventId:r,eventType:l,data:c}=i.data,d=this.handlersMap[l];if(!d?.size)return;i.ports[0].postMessage({status:"ack",eventId:r,eventType:l});const p=Array.from(d).map(async y=>y(i.origin,c)),_=await Xw(p);i.ports[0].postMessage({status:"done",eventId:r,eventType:l,response:_})}_subscribe(t,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(i)}_unsubscribe(t,i){this.handlersMap[t]&&i&&this.handlersMap[t].delete(i),(!i||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Sh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gm(s="",t=10){let i="";for(let r=0;r<t;r++)i+=Math.floor(Math.random()*10);return s+i}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $w{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,i,r=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let c,d;return new Promise((p,_)=>{const y=Gm("",20);l.port1.start();const A=setTimeout(()=>{_(new Error("unsupported_event"))},r);d={messageChannel:l,onMessage(S){const N=S;if(N.data.eventId===y)switch(N.data.status){case"ack":clearTimeout(A),c=setTimeout(()=>{_(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),p(N.data.response);break;default:clearTimeout(A),clearTimeout(c),_(new Error("invalid_response"));break}}},this.handlers.add(d),l.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:t,eventId:y,data:i},[l.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vi(){return window}function Zw(s){Vi().location.href=s}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DT(){return typeof Vi().WorkerGlobalScope<"u"&&typeof Vi().importScripts=="function"}async function Jw(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Ww(){return navigator?.serviceWorker?.controller||null}function tR(){return DT()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xT="firebaseLocalStorageDb",eR=1,lh="firebaseLocalStorage",OT="fbase_key";class $l{constructor(t){this.request=t}toPromise(){return new Promise((t,i)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function bh(s,t){return s.transaction([lh],t?"readwrite":"readonly").objectStore(lh)}function nR(){const s=indexedDB.deleteDatabase(xT);return new $l(s).toPromise()}function gm(){const s=indexedDB.open(xT,eR);return new Promise((t,i)=>{s.addEventListener("error",()=>{i(s.error)}),s.addEventListener("upgradeneeded",()=>{const r=s.result;try{r.createObjectStore(lh,{keyPath:OT})}catch(l){i(l)}}),s.addEventListener("success",async()=>{const r=s.result;r.objectStoreNames.contains(lh)?t(r):(r.close(),await nR(),t(await gm()))})})}async function Mv(s,t,i){const r=bh(s,!0).put({[OT]:t,value:i});return new $l(r).toPromise()}async function iR(s,t){const i=bh(s,!1).get(t),r=await new $l(i).toPromise();return r===void 0?null:r.value}function Vv(s,t){const i=bh(s,!0).delete(t);return new $l(i).toPromise()}const sR=800,rR=3;class MT{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await gm(),this.db)}async _withRetries(t){let i=0;for(;;)try{const r=await this._openDb();return await t(r)}catch(r){if(i++>rR)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return DT()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Sh._getInstance(tR()),this.receiver._subscribe("keyChanged",async(t,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(t,i)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await Jw(),!this.activeServiceWorker)return;this.sender=new $w(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||Ww()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await gm();return await Mv(t,oh,"1"),await Vv(t,oh),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,i){return this._withPendingWrite(async()=>(await this._withRetries(r=>Mv(r,t,i)),this.localCache[t]=i,this.notifyServiceWorker(t)))}async _get(t){const i=await this._withRetries(r=>iR(r,t));return this.localCache[t]=i,i}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(i=>Vv(i,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(l=>{const c=bh(l,!1).getAll();return new $l(c).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const i=[],r=new Set;if(t.length!==0)for(const{fbase_key:l,value:c}of t)r.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(c)&&(this.notifyListeners(l,c),i.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!r.has(l)&&(this.notifyListeners(l,null),i.push(l));return i}notifyListeners(t,i){this.localCache[t]=i;const r=this.listeners[t];if(r)for(const l of Array.from(r))l(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),sR)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}MT.type="LOCAL";const aR=MT;new Kl(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VT(s,t){return t?cs(t):(bt(s._popupRedirectResolver,s,"argument-error"),s._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qm extends bT{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return eo(t,this._buildIdpRequest())}_linkToIdToken(t,i){return eo(t,this._buildIdpRequest(i))}_getReauthenticationResolver(t){return eo(t,this._buildIdpRequest())}_buildIdpRequest(t){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(i.idToken=t),i}}function oR(s){return Bw(s.auth,new Qm(s),s.bypassAuthState)}function lR(s){const{auth:t,user:i}=s;return bt(i,t,"internal-error"),jw(i,new Qm(s),s.bypassAuthState)}async function uR(s){const{auth:t,user:i}=s;return bt(i,t,"internal-error"),zw(i,new Qm(s),s.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UT{constructor(t,i,r,l,c=!1){this.auth=t,this.resolver=r,this.user=l,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(t,i)=>{this.pendingPromise={resolve:t,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(t){const{urlResponse:i,sessionId:r,postBody:l,tenantId:c,error:d,type:p}=t;if(d){this.reject(d);return}const _={auth:this.auth,requestUri:i,sessionId:r,tenantId:c||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(p)(_))}catch(y){this.reject(y)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return oR;case"linkViaPopup":case"linkViaRedirect":return uR;case"reauthViaPopup":case"reauthViaRedirect":return lR;default:zi(this.auth,"internal-error")}}resolve(t){fs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){fs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cR=new Kl(2e3,1e4);async function hR(s,t,i){if(li(s.app))return Promise.reject(ci(s,"operation-not-supported-in-this-environment"));const r=Ah(s);rw(s,t,Fm);const l=VT(r,i);return new Xr(r,"signInViaPopup",t,l).executeNotNull()}class Xr extends UT{constructor(t,i,r,l,c){super(t,i,l,c),this.provider=r,this.authWindow=null,this.pollId=null,Xr.currentPopupAction&&Xr.currentPopupAction.cancel(),Xr.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return bt(t,this.auth,"internal-error"),t}async onExecution(){fs(this.filter.length===1,"Popup operations only handle one event");const t=Gm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(ci(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(ci(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Xr.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ci(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,cR.get())};t()}}Xr.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fR="pendingRedirect",Yc=new Map;class dR extends UT{constructor(t,i,r=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,r),this.eventId=null}async execute(){let t=Yc.get(this.auth._key());if(!t){try{const r=await mR(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(r)}catch(i){t=()=>Promise.reject(i)}Yc.set(this.auth._key(),t)}return this.bypassAuthState||Yc.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const i=await this.auth._redirectUserForId(t.eventId);if(i)return this.user=i,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function mR(s,t){const i=yR(t),r=pR(s);if(!await r._isAvailable())return!1;const l=await r._get(i)==="true";return await r._remove(i),l}function gR(s,t){Yc.set(s._key(),t)}function pR(s){return cs(s._redirectPersistence)}function yR(s){return Qc(fR,s.config.apiKey,s.name)}async function _R(s,t,i=!1){if(li(s.app))return Promise.reject(Zr(s));const r=Ah(s),l=VT(r,t),d=await new dR(r,l,i).execute();return d&&!i&&(delete d.user._redirectEventId,await r._persistUserIfCurrent(d.user),await r._setRedirectUser(null,t)),d}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vR=600*1e3;class TR{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let i=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(t,r)&&(i=!0,this.sendToConsumer(t,r),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!ER(t)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=t,i=!0)),i}sendToConsumer(t,i){if(t.error&&!LT(t)){const r=t.error.code?.split("auth/")[1]||"internal-error";i.onError(ci(this.auth,r))}else i.onAuthEvent(t)}isEventForConsumer(t,i){const r=i.eventId===null||!!t.eventId&&t.eventId===i.eventId;return i.filter.includes(t.type)&&r}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=vR&&this.cachedEventUids.clear(),this.cachedEventUids.has(Uv(t))}saveEventToCache(t){this.cachedEventUids.add(Uv(t)),this.lastProcessedEventTime=Date.now()}}function Uv(s){return[s.type,s.eventId,s.sessionId,s.tenantId].filter(t=>t).join("-")}function LT({type:s,error:t}){return s==="unknown"&&t?.code==="auth/no-auth-event"}function ER(s){switch(s.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return LT(s);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function AR(s,t={}){return go(s,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SR=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,bR=/^https?/;async function wR(s){if(s.config.emulator)return;const{authorizedDomains:t}=await AR(s);for(const i of t)try{if(RR(i))return}catch{}zi(s,"unauthorized-domain")}function RR(s){const t=dm(),{protocol:i,hostname:r}=new URL(t);if(s.startsWith("chrome-extension://")){const d=new URL(s);return d.hostname===""&&r===""?i==="chrome-extension:"&&s.replace("chrome-extension://","")===t.replace("chrome-extension://",""):i==="chrome-extension:"&&d.hostname===r}if(!bR.test(i))return!1;if(SR.test(s))return r===s;const l=s.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IR=new Kl(3e4,6e4);function Lv(){const s=Vi().___jsl;if(s?.H){for(const t of Object.keys(s.H))if(s.H[t].r=s.H[t].r||[],s.H[t].L=s.H[t].L||[],s.H[t].r=[...s.H[t].L],s.CP)for(let i=0;i<s.CP.length;i++)s.CP[i]=null}}function CR(s){return new Promise((t,i)=>{function r(){Lv(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{Lv(),i(ci(s,"network-request-failed"))},timeout:IR.get()})}if(Vi().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(Vi().gapi?.load)r();else{const l=Ow("iframefcb");return Vi()[l]=()=>{gapi.load?r():i(ci(s,"network-request-failed"))},Dw(`${xw()}?onload=${l}`).catch(c=>i(c))}}).catch(t=>{throw Kc=null,t})}let Kc=null;function NR(s){return Kc=Kc||CR(s),Kc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DR=new Kl(5e3,15e3),xR="__/auth/iframe",OR="emulator/auth/iframe",MR={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},VR=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function UR(s){const t=s.config;bt(t.authDomain,s,"auth-domain-config-required");const i=t.emulator?zm(t,OR):`https://${s.config.authDomain}/${xR}`,r={apiKey:t.apiKey,appName:s.name,v:mo},l=VR.get(s.config.apiHost);l&&(r.eid=l);const c=s._getFrameworks();return c.length&&(r.fw=c.join(",")),`${i}?${Yl(r).slice(1)}`}async function LR(s){const t=await NR(s),i=Vi().gapi;return bt(i,s,"internal-error"),t.open({where:document.body,url:UR(s),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:MR,dontclear:!0},r=>new Promise(async(l,c)=>{await r.restyle({setHideOnLeave:!1});const d=ci(s,"network-request-failed"),p=Vi().setTimeout(()=>{c(d)},DR.get());function _(){Vi().clearTimeout(p),l(r)}r.ping(_).then(_,()=>{c(d)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PR={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},kR=500,zR=600,jR="_blank",BR="http://localhost";class Pv{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function qR(s,t,i,r=kR,l=zR){const c=Math.max((window.screen.availHeight-l)/2,0).toString(),d=Math.max((window.screen.availWidth-r)/2,0).toString();let p="";const _={...PR,width:r.toString(),height:l.toString(),top:c,left:d},y=cn().toLowerCase();i&&(p=pT(y)?jR:i),mT(y)&&(t=t||BR,_.scrollbars="yes");const A=Object.entries(_).reduce((N,[G,J])=>`${N}${G}=${J},`,"");if(Aw(y)&&p!=="_self")return HR(t||"",p),new Pv(null);const S=window.open(t||"",p,A);bt(S,s,"popup-blocked");try{S.focus()}catch{}return new Pv(S)}function HR(s,t){const i=document.createElement("a");i.href=s,i.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FR="__/auth/handler",GR="emulator/auth/handler",QR=encodeURIComponent("fac");async function kv(s,t,i,r,l,c){bt(s.config.authDomain,s,"auth-domain-config-required"),bt(s.config.apiKey,s,"invalid-api-key");const d={apiKey:s.config.apiKey,appName:s.name,authType:i,redirectUrl:r,v:mo,eventId:l};if(t instanceof Fm){t.setDefaultLanguage(s.languageCode),d.providerId=t.providerId||"",H1(t.getCustomParameters())||(d.customParameters=JSON.stringify(t.getCustomParameters()));for(const[A,S]of Object.entries({}))d[A]=S}if(t instanceof Xl){const A=t.getScopes().filter(S=>S!=="");A.length>0&&(d.scopes=A.join(","))}s.tenantId&&(d.tid=s.tenantId);const p=d;for(const A of Object.keys(p))p[A]===void 0&&delete p[A];const _=await s._getAppCheckToken(),y=_?`#${QR}=${encodeURIComponent(_)}`:"";return`${YR(s)}?${Yl(p).slice(1)}${y}`}function YR({config:s}){return s.emulator?zm(s,GR):`https://${s.authDomain}/${FR}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jd="webStorageSupport";class KR{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=NT,this._completeRedirectFn=_R,this._overrideRedirectResult=gR}async _openPopup(t,i,r,l){fs(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const c=await kv(t,i,r,dm(),l);return qR(t,c,Gm())}async _openRedirect(t,i,r,l){await this._originValidation(t);const c=await kv(t,i,r,dm(),l);return Zw(c),new Promise(()=>{})}_initialize(t){const i=t._key();if(this.eventManagers[i]){const{manager:l,promise:c}=this.eventManagers[i];return l?Promise.resolve(l):(fs(c,"If manager is not set, promise should be"),c)}const r=this.initAndGetManager(t);return this.eventManagers[i]={promise:r},r.catch(()=>{delete this.eventManagers[i]}),r}async initAndGetManager(t){const i=await LR(t),r=new TR(t);return i.register("authEvent",l=>(bt(l?.authEvent,t,"invalid-auth-event"),{status:r.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=i,r}_isIframeWebStorageSupported(t,i){this.iframes[t._key()].send(Jd,{type:Jd},l=>{const c=l?.[0]?.[Jd];c!==void 0&&i(!!c),zi(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const i=t._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=wR(t)),this.originValidationPromises[i]}get _shouldInitProactively(){return ET()||gT()||qm()}}const XR=KR;var zv="@firebase/auth",jv="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $R{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const i=this.auth.onIdTokenChanged(r=>{t(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,i),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const i=this.internalListeners.get(t);i&&(this.internalListeners.delete(t),i(),this.updateProactiveRefresh())}assertAuthConfigured(){bt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZR(s){switch(s){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function JR(s){io(new ta("auth",(t,{options:i})=>{const r=t.getProvider("app").getImmediate(),l=t.getProvider("heartbeat"),c=t.getProvider("app-check-internal"),{apiKey:d,authDomain:p}=r.options;bt(d&&!d.includes(":"),"invalid-api-key",{appName:r.name});const _={apiKey:d,authDomain:p,clientPlatform:s,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:AT(s)},y=new Cw(r,l,c,_);return Vw(y,i),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,i,r)=>{t.getProvider("auth-internal").initialize()})),io(new ta("auth-internal",t=>{const i=Ah(t.getProvider("auth").getImmediate());return(r=>new $R(r))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),ar(zv,jv,ZR(s)),ar(zv,jv,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WR=300,t2=J0("authIdTokenMaxAge")||WR;let Bv=null;const e2=s=>async t=>{const i=t&&await t.getIdTokenResult(),r=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(r&&r>t2)return;const l=i?.token;Bv!==l&&(Bv=l,await fetch(s,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function n2(s=sT()){const t=Lm(s,"auth");if(t.isInitialized())return t.getImmediate();const i=Mw(s,{popupRedirectResolver:XR,persistence:[aR,Kw,NT]}),r=J0("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(r,location.origin);if(location.origin===c.origin){const d=e2(c.toString());Hw(i,d,()=>d(i.currentUser)),qw(i,p=>d(p))}}const l=$0("auth");return l&&Uw(i,`http://${l}`),i}function i2(){return document.getElementsByTagName("head")?.[0]??document}Nw({loadJS(s){return new Promise((t,i)=>{const r=document.createElement("script");r.setAttribute("src",s),r.onload=t,r.onerror=l=>{const c=ci("internal-error");c.customData=l,i(c)},r.type="text/javascript",r.charset="UTF-8",i2().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});JR("Browser");var qv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var or,PT;(function(){var s;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(C,b){function I(){}I.prototype=b.prototype,C.F=b.prototype,C.prototype=new I,C.prototype.constructor=C,C.D=function(V,D,U){for(var w=Array(arguments.length-2),he=2;he<arguments.length;he++)w[he-2]=arguments[he];return b.prototype[D].apply(V,w)}}function i(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(r,i),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(C,b,I){I||(I=0);const V=Array(16);if(typeof b=="string")for(var D=0;D<16;++D)V[D]=b.charCodeAt(I++)|b.charCodeAt(I++)<<8|b.charCodeAt(I++)<<16|b.charCodeAt(I++)<<24;else for(D=0;D<16;++D)V[D]=b[I++]|b[I++]<<8|b[I++]<<16|b[I++]<<24;b=C.g[0],I=C.g[1],D=C.g[2];let U=C.g[3],w;w=b+(U^I&(D^U))+V[0]+3614090360&4294967295,b=I+(w<<7&4294967295|w>>>25),w=U+(D^b&(I^D))+V[1]+3905402710&4294967295,U=b+(w<<12&4294967295|w>>>20),w=D+(I^U&(b^I))+V[2]+606105819&4294967295,D=U+(w<<17&4294967295|w>>>15),w=I+(b^D&(U^b))+V[3]+3250441966&4294967295,I=D+(w<<22&4294967295|w>>>10),w=b+(U^I&(D^U))+V[4]+4118548399&4294967295,b=I+(w<<7&4294967295|w>>>25),w=U+(D^b&(I^D))+V[5]+1200080426&4294967295,U=b+(w<<12&4294967295|w>>>20),w=D+(I^U&(b^I))+V[6]+2821735955&4294967295,D=U+(w<<17&4294967295|w>>>15),w=I+(b^D&(U^b))+V[7]+4249261313&4294967295,I=D+(w<<22&4294967295|w>>>10),w=b+(U^I&(D^U))+V[8]+1770035416&4294967295,b=I+(w<<7&4294967295|w>>>25),w=U+(D^b&(I^D))+V[9]+2336552879&4294967295,U=b+(w<<12&4294967295|w>>>20),w=D+(I^U&(b^I))+V[10]+4294925233&4294967295,D=U+(w<<17&4294967295|w>>>15),w=I+(b^D&(U^b))+V[11]+2304563134&4294967295,I=D+(w<<22&4294967295|w>>>10),w=b+(U^I&(D^U))+V[12]+1804603682&4294967295,b=I+(w<<7&4294967295|w>>>25),w=U+(D^b&(I^D))+V[13]+4254626195&4294967295,U=b+(w<<12&4294967295|w>>>20),w=D+(I^U&(b^I))+V[14]+2792965006&4294967295,D=U+(w<<17&4294967295|w>>>15),w=I+(b^D&(U^b))+V[15]+1236535329&4294967295,I=D+(w<<22&4294967295|w>>>10),w=b+(D^U&(I^D))+V[1]+4129170786&4294967295,b=I+(w<<5&4294967295|w>>>27),w=U+(I^D&(b^I))+V[6]+3225465664&4294967295,U=b+(w<<9&4294967295|w>>>23),w=D+(b^I&(U^b))+V[11]+643717713&4294967295,D=U+(w<<14&4294967295|w>>>18),w=I+(U^b&(D^U))+V[0]+3921069994&4294967295,I=D+(w<<20&4294967295|w>>>12),w=b+(D^U&(I^D))+V[5]+3593408605&4294967295,b=I+(w<<5&4294967295|w>>>27),w=U+(I^D&(b^I))+V[10]+38016083&4294967295,U=b+(w<<9&4294967295|w>>>23),w=D+(b^I&(U^b))+V[15]+3634488961&4294967295,D=U+(w<<14&4294967295|w>>>18),w=I+(U^b&(D^U))+V[4]+3889429448&4294967295,I=D+(w<<20&4294967295|w>>>12),w=b+(D^U&(I^D))+V[9]+568446438&4294967295,b=I+(w<<5&4294967295|w>>>27),w=U+(I^D&(b^I))+V[14]+3275163606&4294967295,U=b+(w<<9&4294967295|w>>>23),w=D+(b^I&(U^b))+V[3]+4107603335&4294967295,D=U+(w<<14&4294967295|w>>>18),w=I+(U^b&(D^U))+V[8]+1163531501&4294967295,I=D+(w<<20&4294967295|w>>>12),w=b+(D^U&(I^D))+V[13]+2850285829&4294967295,b=I+(w<<5&4294967295|w>>>27),w=U+(I^D&(b^I))+V[2]+4243563512&4294967295,U=b+(w<<9&4294967295|w>>>23),w=D+(b^I&(U^b))+V[7]+1735328473&4294967295,D=U+(w<<14&4294967295|w>>>18),w=I+(U^b&(D^U))+V[12]+2368359562&4294967295,I=D+(w<<20&4294967295|w>>>12),w=b+(I^D^U)+V[5]+4294588738&4294967295,b=I+(w<<4&4294967295|w>>>28),w=U+(b^I^D)+V[8]+2272392833&4294967295,U=b+(w<<11&4294967295|w>>>21),w=D+(U^b^I)+V[11]+1839030562&4294967295,D=U+(w<<16&4294967295|w>>>16),w=I+(D^U^b)+V[14]+4259657740&4294967295,I=D+(w<<23&4294967295|w>>>9),w=b+(I^D^U)+V[1]+2763975236&4294967295,b=I+(w<<4&4294967295|w>>>28),w=U+(b^I^D)+V[4]+1272893353&4294967295,U=b+(w<<11&4294967295|w>>>21),w=D+(U^b^I)+V[7]+4139469664&4294967295,D=U+(w<<16&4294967295|w>>>16),w=I+(D^U^b)+V[10]+3200236656&4294967295,I=D+(w<<23&4294967295|w>>>9),w=b+(I^D^U)+V[13]+681279174&4294967295,b=I+(w<<4&4294967295|w>>>28),w=U+(b^I^D)+V[0]+3936430074&4294967295,U=b+(w<<11&4294967295|w>>>21),w=D+(U^b^I)+V[3]+3572445317&4294967295,D=U+(w<<16&4294967295|w>>>16),w=I+(D^U^b)+V[6]+76029189&4294967295,I=D+(w<<23&4294967295|w>>>9),w=b+(I^D^U)+V[9]+3654602809&4294967295,b=I+(w<<4&4294967295|w>>>28),w=U+(b^I^D)+V[12]+3873151461&4294967295,U=b+(w<<11&4294967295|w>>>21),w=D+(U^b^I)+V[15]+530742520&4294967295,D=U+(w<<16&4294967295|w>>>16),w=I+(D^U^b)+V[2]+3299628645&4294967295,I=D+(w<<23&4294967295|w>>>9),w=b+(D^(I|~U))+V[0]+4096336452&4294967295,b=I+(w<<6&4294967295|w>>>26),w=U+(I^(b|~D))+V[7]+1126891415&4294967295,U=b+(w<<10&4294967295|w>>>22),w=D+(b^(U|~I))+V[14]+2878612391&4294967295,D=U+(w<<15&4294967295|w>>>17),w=I+(U^(D|~b))+V[5]+4237533241&4294967295,I=D+(w<<21&4294967295|w>>>11),w=b+(D^(I|~U))+V[12]+1700485571&4294967295,b=I+(w<<6&4294967295|w>>>26),w=U+(I^(b|~D))+V[3]+2399980690&4294967295,U=b+(w<<10&4294967295|w>>>22),w=D+(b^(U|~I))+V[10]+4293915773&4294967295,D=U+(w<<15&4294967295|w>>>17),w=I+(U^(D|~b))+V[1]+2240044497&4294967295,I=D+(w<<21&4294967295|w>>>11),w=b+(D^(I|~U))+V[8]+1873313359&4294967295,b=I+(w<<6&4294967295|w>>>26),w=U+(I^(b|~D))+V[15]+4264355552&4294967295,U=b+(w<<10&4294967295|w>>>22),w=D+(b^(U|~I))+V[6]+2734768916&4294967295,D=U+(w<<15&4294967295|w>>>17),w=I+(U^(D|~b))+V[13]+1309151649&4294967295,I=D+(w<<21&4294967295|w>>>11),w=b+(D^(I|~U))+V[4]+4149444226&4294967295,b=I+(w<<6&4294967295|w>>>26),w=U+(I^(b|~D))+V[11]+3174756917&4294967295,U=b+(w<<10&4294967295|w>>>22),w=D+(b^(U|~I))+V[2]+718787259&4294967295,D=U+(w<<15&4294967295|w>>>17),w=I+(U^(D|~b))+V[9]+3951481745&4294967295,C.g[0]=C.g[0]+b&4294967295,C.g[1]=C.g[1]+(D+(w<<21&4294967295|w>>>11))&4294967295,C.g[2]=C.g[2]+D&4294967295,C.g[3]=C.g[3]+U&4294967295}r.prototype.v=function(C,b){b===void 0&&(b=C.length);const I=b-this.blockSize,V=this.C;let D=this.h,U=0;for(;U<b;){if(D==0)for(;U<=I;)l(this,C,U),U+=this.blockSize;if(typeof C=="string"){for(;U<b;)if(V[D++]=C.charCodeAt(U++),D==this.blockSize){l(this,V),D=0;break}}else for(;U<b;)if(V[D++]=C[U++],D==this.blockSize){l(this,V),D=0;break}}this.h=D,this.o+=b},r.prototype.A=function(){var C=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);C[0]=128;for(var b=1;b<C.length-8;++b)C[b]=0;b=this.o*8;for(var I=C.length-8;I<C.length;++I)C[I]=b&255,b/=256;for(this.v(C),C=Array(16),b=0,I=0;I<4;++I)for(let V=0;V<32;V+=8)C[b++]=this.g[I]>>>V&255;return C};function c(C,b){var I=p;return Object.prototype.hasOwnProperty.call(I,C)?I[C]:I[C]=b(C)}function d(C,b){this.h=b;const I=[];let V=!0;for(let D=C.length-1;D>=0;D--){const U=C[D]|0;V&&U==b||(I[D]=U,V=!1)}this.g=I}var p={};function _(C){return-128<=C&&C<128?c(C,function(b){return new d([b|0],b<0?-1:0)}):new d([C|0],C<0?-1:0)}function y(C){if(isNaN(C)||!isFinite(C))return S;if(C<0)return W(y(-C));const b=[];let I=1;for(let V=0;C>=I;V++)b[V]=C/I|0,I*=4294967296;return new d(b,0)}function A(C,b){if(C.length==0)throw Error("number format error: empty string");if(b=b||10,b<2||36<b)throw Error("radix out of range: "+b);if(C.charAt(0)=="-")return W(A(C.substring(1),b));if(C.indexOf("-")>=0)throw Error('number format error: interior "-" character');const I=y(Math.pow(b,8));let V=S;for(let U=0;U<C.length;U+=8){var D=Math.min(8,C.length-U);const w=parseInt(C.substring(U,U+D),b);D<8?(D=y(Math.pow(b,D)),V=V.j(D).add(y(w))):(V=V.j(I),V=V.add(y(w)))}return V}var S=_(0),N=_(1),G=_(16777216);s=d.prototype,s.m=function(){if(st(this))return-W(this).m();let C=0,b=1;for(let I=0;I<this.g.length;I++){const V=this.i(I);C+=(V>=0?V:4294967296+V)*b,b*=4294967296}return C},s.toString=function(C){if(C=C||10,C<2||36<C)throw Error("radix out of range: "+C);if(J(this))return"0";if(st(this))return"-"+W(this).toString(C);const b=y(Math.pow(C,6));var I=this;let V="";for(;;){const D=St(I,b).g;I=yt(I,D.j(b));let U=((I.g.length>0?I.g[0]:I.h)>>>0).toString(C);if(I=D,J(I))return U+V;for(;U.length<6;)U="0"+U;V=U+V}},s.i=function(C){return C<0?0:C<this.g.length?this.g[C]:this.h};function J(C){if(C.h!=0)return!1;for(let b=0;b<C.g.length;b++)if(C.g[b]!=0)return!1;return!0}function st(C){return C.h==-1}s.l=function(C){return C=yt(this,C),st(C)?-1:J(C)?0:1};function W(C){const b=C.g.length,I=[];for(let V=0;V<b;V++)I[V]=~C.g[V];return new d(I,~C.h).add(N)}s.abs=function(){return st(this)?W(this):this},s.add=function(C){const b=Math.max(this.g.length,C.g.length),I=[];let V=0;for(let D=0;D<=b;D++){let U=V+(this.i(D)&65535)+(C.i(D)&65535),w=(U>>>16)+(this.i(D)>>>16)+(C.i(D)>>>16);V=w>>>16,U&=65535,w&=65535,I[D]=w<<16|U}return new d(I,I[I.length-1]&-2147483648?-1:0)};function yt(C,b){return C.add(W(b))}s.j=function(C){if(J(this)||J(C))return S;if(st(this))return st(C)?W(this).j(W(C)):W(W(this).j(C));if(st(C))return W(this.j(W(C)));if(this.l(G)<0&&C.l(G)<0)return y(this.m()*C.m());const b=this.g.length+C.g.length,I=[];for(var V=0;V<2*b;V++)I[V]=0;for(V=0;V<this.g.length;V++)for(let D=0;D<C.g.length;D++){const U=this.i(V)>>>16,w=this.i(V)&65535,he=C.i(D)>>>16,fe=C.i(D)&65535;I[2*V+2*D]+=w*fe,Et(I,2*V+2*D),I[2*V+2*D+1]+=U*fe,Et(I,2*V+2*D+1),I[2*V+2*D+1]+=w*he,Et(I,2*V+2*D+1),I[2*V+2*D+2]+=U*he,Et(I,2*V+2*D+2)}for(C=0;C<b;C++)I[C]=I[2*C+1]<<16|I[2*C];for(C=b;C<2*b;C++)I[C]=0;return new d(I,0)};function Et(C,b){for(;(C[b]&65535)!=C[b];)C[b+1]+=C[b]>>>16,C[b]&=65535,b++}function vt(C,b){this.g=C,this.h=b}function St(C,b){if(J(b))throw Error("division by zero");if(J(C))return new vt(S,S);if(st(C))return b=St(W(C),b),new vt(W(b.g),W(b.h));if(st(b))return b=St(C,W(b)),new vt(W(b.g),b.h);if(C.g.length>30){if(st(C)||st(b))throw Error("slowDivide_ only works with positive integers.");for(var I=N,V=b;V.l(C)<=0;)I=Gt(I),V=Gt(V);var D=dt(I,1),U=dt(V,1);for(V=dt(V,2),I=dt(I,2);!J(V);){var w=U.add(V);w.l(C)<=0&&(D=D.add(I),U=w),V=dt(V,1),I=dt(I,1)}return b=yt(C,D.j(b)),new vt(D,b)}for(D=S;C.l(b)>=0;){for(I=Math.max(1,Math.floor(C.m()/b.m())),V=Math.ceil(Math.log(I)/Math.LN2),V=V<=48?1:Math.pow(2,V-48),U=y(I),w=U.j(b);st(w)||w.l(C)>0;)I-=V,U=y(I),w=U.j(b);J(U)&&(U=N),D=D.add(U),C=yt(C,w)}return new vt(D,C)}s.B=function(C){return St(this,C).h},s.and=function(C){const b=Math.max(this.g.length,C.g.length),I=[];for(let V=0;V<b;V++)I[V]=this.i(V)&C.i(V);return new d(I,this.h&C.h)},s.or=function(C){const b=Math.max(this.g.length,C.g.length),I=[];for(let V=0;V<b;V++)I[V]=this.i(V)|C.i(V);return new d(I,this.h|C.h)},s.xor=function(C){const b=Math.max(this.g.length,C.g.length),I=[];for(let V=0;V<b;V++)I[V]=this.i(V)^C.i(V);return new d(I,this.h^C.h)};function Gt(C){const b=C.g.length+1,I=[];for(let V=0;V<b;V++)I[V]=C.i(V)<<1|C.i(V-1)>>>31;return new d(I,C.h)}function dt(C,b){const I=b>>5;b%=32;const V=C.g.length-I,D=[];for(let U=0;U<V;U++)D[U]=b>0?C.i(U+I)>>>b|C.i(U+I+1)<<32-b:C.i(U+I);return new d(D,C.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,PT=r,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=y,d.fromString=A,or=d}).apply(typeof qv<"u"?qv:typeof self<"u"?self:typeof window<"u"?window:{});var Pc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var kT,bl,zT,Xc,pm,jT,BT,qT;(function(){var s,t=Object.defineProperty;function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Pc=="object"&&Pc];for(var m=0;m<u.length;++m){var v=u[m];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var r=i(this);function l(u,m){if(m)t:{var v=r;u=u.split(".");for(var E=0;E<u.length-1;E++){var P=u[E];if(!(P in v))break t;v=v[P]}u=u[u.length-1],E=v[u],m=m(E),m!=E&&m!=null&&t(v,u,{configurable:!0,writable:!0,value:m})}}l("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),l("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),l("Object.entries",function(u){return u||function(m){var v=[],E;for(E in m)Object.prototype.hasOwnProperty.call(m,E)&&v.push([E,m[E]]);return v}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var c=c||{},d=this||self;function p(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function _(u,m,v){return u.call.apply(u.bind,arguments)}function y(u,m,v){return y=_,y.apply(null,arguments)}function A(u,m){var v=Array.prototype.slice.call(arguments,1);return function(){var E=v.slice();return E.push.apply(E,arguments),u.apply(this,E)}}function S(u,m){function v(){}v.prototype=m.prototype,u.Z=m.prototype,u.prototype=new v,u.prototype.constructor=u,u.Ob=function(E,P,B){for(var tt=Array(arguments.length-2),xt=2;xt<arguments.length;xt++)tt[xt-2]=arguments[xt];return m.prototype[P].apply(E,tt)}}var N=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function G(u){const m=u.length;if(m>0){const v=Array(m);for(let E=0;E<m;E++)v[E]=u[E];return v}return[]}function J(u,m){for(let E=1;E<arguments.length;E++){const P=arguments[E];var v=typeof P;if(v=v!="object"?v:P?Array.isArray(P)?"array":v:"null",v=="array"||v=="object"&&typeof P.length=="number"){v=u.length||0;const B=P.length||0;u.length=v+B;for(let tt=0;tt<B;tt++)u[v+tt]=P[tt]}else u.push(P)}}class st{constructor(m,v){this.i=m,this.j=v,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function W(u){d.setTimeout(()=>{throw u},0)}function yt(){var u=C;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class Et{constructor(){this.h=this.g=null}add(m,v){const E=vt.get();E.set(m,v),this.h?this.h.next=E:this.g=E,this.h=E}}var vt=new st(()=>new St,u=>u.reset());class St{constructor(){this.next=this.g=this.h=null}set(m,v){this.h=m,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let Gt,dt=!1,C=new Et,b=()=>{const u=Promise.resolve(void 0);Gt=()=>{u.then(I)}};function I(){for(var u;u=yt();){try{u.h.call(u.g)}catch(v){W(v)}var m=vt;m.j(u),m.h<100&&(m.h++,u.next=m.g,m.g=u)}dt=!1}function V(){this.u=this.u,this.C=this.C}V.prototype.u=!1,V.prototype.dispose=function(){this.u||(this.u=!0,this.N())},V.prototype[Symbol.dispose]=function(){this.dispose()},V.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function D(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}D.prototype.h=function(){this.defaultPrevented=!0};var U=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const v=()=>{};d.addEventListener("test",v,m),d.removeEventListener("test",v,m)}catch{}return u})();function w(u){return/^[\s\xa0]*$/.test(u)}function he(u,m){D.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,m)}S(he,D),he.prototype.init=function(u,m){const v=this.type=u.type,E=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget,m||(v=="mouseover"?m=u.fromElement:v=="mouseout"&&(m=u.toElement)),this.relatedTarget=m,E?(this.clientX=E.clientX!==void 0?E.clientX:E.pageX,this.clientY=E.clientY!==void 0?E.clientY:E.pageY,this.screenX=E.screenX||0,this.screenY=E.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&he.Z.h.call(this)},he.prototype.h=function(){he.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var fe="closure_listenable_"+(Math.random()*1e6|0),H=0;function et(u,m,v,E,P){this.listener=u,this.proxy=null,this.src=m,this.type=v,this.capture=!!E,this.ha=P,this.key=++H,this.da=this.fa=!1}function mt(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Ht(u,m,v){for(const E in u)m.call(v,u[E],E,u)}function Qt(u,m){for(const v in u)m.call(void 0,u[v],v,u)}function O(u){const m={};for(const v in u)m[v]=u[v];return m}const K="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function nt(u,m){let v,E;for(let P=1;P<arguments.length;P++){E=arguments[P];for(v in E)u[v]=E[v];for(let B=0;B<K.length;B++)v=K[B],Object.prototype.hasOwnProperty.call(E,v)&&(u[v]=E[v])}}function rt(u){this.src=u,this.g={},this.h=0}rt.prototype.add=function(u,m,v,E,P){const B=u.toString();u=this.g[B],u||(u=this.g[B]=[],this.h++);const tt=It(u,m,E,P);return tt>-1?(m=u[tt],v||(m.fa=!1)):(m=new et(m,this.src,B,!!E,P),m.fa=v,u.push(m)),m};function At(u,m){const v=m.type;if(v in u.g){var E=u.g[v],P=Array.prototype.indexOf.call(E,m,void 0),B;(B=P>=0)&&Array.prototype.splice.call(E,P,1),B&&(mt(m),u.g[v].length==0&&(delete u.g[v],u.h--))}}function It(u,m,v,E){for(let P=0;P<u.length;++P){const B=u[P];if(!B.da&&B.listener==m&&B.capture==!!v&&B.ha==E)return P}return-1}var Pt="closure_lm_"+(Math.random()*1e6|0),Ee={};function ue(u,m,v,E,P){if(Array.isArray(m)){for(let B=0;B<m.length;B++)ue(u,m[B],v,E,P);return null}return v=ht(v),u&&u[fe]?u.J(m,v,p(E)?!!E.capture:!1,P):Bi(u,m,v,!1,E,P)}function Bi(u,m,v,E,P,B){if(!m)throw Error("Invalid event type");const tt=p(P)?!!P.capture:!!P;let xt=Z(u);if(xt||(u[Pt]=xt=new rt(u)),v=xt.add(m,v,E,tt,B),v.proxy)return v;if(E=ys(),v.proxy=E,E.src=u,E.listener=v,u.addEventListener)U||(P=tt),P===void 0&&(P=!1),u.addEventListener(m.toString(),E,P);else if(u.attachEvent)u.attachEvent(Un(m.toString()),E);else if(u.addListener&&u.removeListener)u.addListener(E);else throw Error("addEventListener and attachEvent are unavailable.");return v}function ys(){function u(v){return m.call(u.src,u.listener,v)}const m=vr;return u}function _s(u,m,v,E,P){if(Array.isArray(m))for(var B=0;B<m.length;B++)_s(u,m[B],v,E,P);else E=p(E)?!!E.capture:!!E,v=ht(v),u&&u[fe]?(u=u.i,B=String(m).toString(),B in u.g&&(m=u.g[B],v=It(m,v,E,P),v>-1&&(mt(m[v]),Array.prototype.splice.call(m,v,1),m.length==0&&(delete u.g[B],u.h--)))):u&&(u=Z(u))&&(m=u.g[m.toString()],u=-1,m&&(u=It(m,v,E,P)),(v=u>-1?m[u]:null)&&vs(v))}function vs(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[fe])At(m.i,u);else{var v=u.type,E=u.proxy;m.removeEventListener?m.removeEventListener(v,E,u.capture):m.detachEvent?m.detachEvent(Un(v),E):m.addListener&&m.removeListener&&m.removeListener(E),(v=Z(m))?(At(v,u),v.h==0&&(v.src=null,m[Pt]=null)):mt(u)}}}function Un(u){return u in Ee?Ee[u]:Ee[u]="on"+u}function vr(u,m){if(u.da)u=!0;else{m=new he(m,this);const v=u.listener,E=u.ha||u.src;u.fa&&vs(u),u=v.call(E,m)}return u}function Z(u){return u=u[Pt],u instanceof rt?u:null}var at="__closure_events_fn_"+(Math.random()*1e9>>>0);function ht(u){return typeof u=="function"?u:(u[at]||(u[at]=function(m){return u.handleEvent(m)}),u[at])}function lt(){V.call(this),this.i=new rt(this),this.M=this,this.G=null}S(lt,V),lt.prototype[fe]=!0,lt.prototype.removeEventListener=function(u,m,v,E){_s(this,u,m,v,E)};function Rt(u,m){var v,E=u.G;if(E)for(v=[];E;E=E.G)v.push(E);if(u=u.M,E=m.type||m,typeof m=="string")m=new D(m,u);else if(m instanceof D)m.target=m.target||u;else{var P=m;m=new D(E,u),nt(m,P)}P=!0;let B,tt;if(v)for(tt=v.length-1;tt>=0;tt--)B=m.g=v[tt],P=Vt(B,E,!0,m)&&P;if(B=m.g=u,P=Vt(B,E,!0,m)&&P,P=Vt(B,E,!1,m)&&P,v)for(tt=0;tt<v.length;tt++)B=m.g=v[tt],P=Vt(B,E,!1,m)&&P}lt.prototype.N=function(){if(lt.Z.N.call(this),this.i){var u=this.i;for(const m in u.g){const v=u.g[m];for(let E=0;E<v.length;E++)mt(v[E]);delete u.g[m],u.h--}}this.G=null},lt.prototype.J=function(u,m,v,E){return this.i.add(String(u),m,!1,v,E)},lt.prototype.K=function(u,m,v,E){return this.i.add(String(u),m,!0,v,E)};function Vt(u,m,v,E){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();let P=!0;for(let B=0;B<m.length;++B){const tt=m[B];if(tt&&!tt.da&&tt.capture==v){const xt=tt.listener,we=tt.ha||tt.src;tt.fa&&At(u.i,tt),P=xt.call(we,E)!==!1&&P}}return P&&!E.defaultPrevented}function Ct(u,m){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=y(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(u,m||0)}function Wt(u){u.g=Ct(()=>{u.g=null,u.i&&(u.i=!1,Wt(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class Dt extends V{constructor(m,v){super(),this.m=m,this.l=v,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:Wt(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ke(u){V.call(this),this.h=u,this.g={}}S(Ke,V);var qi=[];function Eo(u){Ht(u.g,function(m,v){this.g.hasOwnProperty(v)&&vs(m)},u),u.g={}}Ke.prototype.N=function(){Ke.Z.N.call(this),Eo(this)},Ke.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ts=d.JSON.stringify,qh=d.JSON.parse,lu=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function uu(){}function cu(){}var Xn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Xe(){D.call(this,"d")}S(Xe,D);function Ln(){D.call(this,"c")}S(Ln,D);var be={},hu=null;function aa(){return hu=hu||new lt}be.Ia="serverreachability";function fu(u){D.call(this,be.Ia,u)}S(fu,D);function fi(u){const m=aa();Rt(m,new fu(m))}be.STAT_EVENT="statevent";function Tr(u,m){D.call(this,be.STAT_EVENT,u),this.stat=m}S(Tr,D);function Ne(u){const m=aa();Rt(m,new Tr(m,u))}be.Ja="timingevent";function di(u,m){D.call(this,be.Ja,u),this.size=m}S(di,D);function mi(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},m)}function $n(){this.g=!0}$n.prototype.ua=function(){this.g=!1};function Hh(u,m,v,E,P,B){u.info(function(){if(u.g)if(B){var tt="",xt=B.split("&");for(let Zt=0;Zt<xt.length;Zt++){var we=xt[Zt].split("=");if(we.length>1){const ye=we[0];we=we[1];const jn=ye.split("_");tt=jn.length>=2&&jn[1]=="type"?tt+(ye+"="+we+"&"):tt+(ye+"=redacted&")}}}else tt=null;else tt=B;return"XMLHTTP REQ ("+E+") [attempt "+P+"]: "+m+`
`+v+`
`+tt})}function du(u,m,v,E,P,B,tt){u.info(function(){return"XMLHTTP RESP ("+E+") [ attempt "+P+"]: "+m+`
`+v+`
`+B+" "+tt})}function gi(u,m,v,E){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+Fh(u,v)+(E?" "+E:"")})}function Er(u,m){u.info(function(){return"TIMEOUT: "+m})}$n.prototype.info=function(){};function Fh(u,m){if(!u.g)return m;if(!m)return null;try{const B=JSON.parse(m);if(B){for(u=0;u<B.length;u++)if(Array.isArray(B[u])){var v=B[u];if(!(v.length<2)){var E=v[1];if(Array.isArray(E)&&!(E.length<1)){var P=E[0];if(P!="noop"&&P!="stop"&&P!="close")for(let tt=1;tt<E.length;tt++)E[tt]=""}}}}return Ts(B)}catch{return m}}var Ar={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Ao={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},So;function Sr(){}S(Sr,uu),Sr.prototype.g=function(){return new XMLHttpRequest},So=new Sr;function Hi(u){return encodeURIComponent(String(u))}function mu(u){var m=1;u=u.split(":");const v=[];for(;m>0&&u.length;)v.push(u.shift()),m--;return u.length&&v.push(u.join(":")),v}function Zn(u,m,v,E){this.j=u,this.i=m,this.l=v,this.S=E||1,this.V=new Ke(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Jn}function Jn(){this.i=null,this.g="",this.h=!1}var De={},He={};function pi(u,m,v){u.M=1,u.A=br(Oe(m)),u.u=v,u.R=!0,oa(u,null)}function oa(u,m){u.F=Date.now(),yi(u),u.B=Oe(u.A);var v=u.B,E=u.S;Array.isArray(E)||(E=[String(E)]),ha(v.i,"t",E),u.C=0,v=u.j.L,u.h=new Jn,u.g=Nu(u.j,v?m:null,!u.u),u.P>0&&(u.O=new Dt(y(u.Y,u,u.g),u.P)),m=u.V,v=u.g,E=u.ba;var P="readystatechange";Array.isArray(P)||(P&&(qi[0]=P.toString()),P=qi);for(let B=0;B<P.length;B++){const tt=ue(v,P[B],E||m.handleEvent,!1,m.h||m);if(!tt)break;m.g[tt.key]=tt}m=u.J?O(u.J):{},u.u?(u.v||(u.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,m)):(u.v="GET",u.g.ea(u.B,u.v,null,m)),fi(),Hh(u.i,u.v,u.B,u.l,u.S,u.u)}Zn.prototype.ba=function(u){u=u.target;const m=this.O;m&&ei(u)==3?m.j():this.Y(u)},Zn.prototype.Y=function(u){try{if(u==this.g)t:{const xt=ei(this.g),we=this.g.ya(),Zt=this.g.ca();if(!(xt<3)&&(xt!=3||this.g&&(this.h.h||this.g.la()||$e(this.g)))){this.K||xt!=4||we==7||(we==8||Zt<=0?fi(3):fi(2)),_i(this);var m=this.g.ca();this.X=m;var v=Gh(this);if(this.o=m==200,du(this.i,this.v,this.B,this.l,this.S,xt,m),this.o){if(this.U&&!this.L){e:{if(this.g){var E,P=this.g;if((E=P.g?P.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!w(E)){var B=E;break e}}B=null}if(u=B)gi(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,vi(this,u);else{this.o=!1,this.m=3,Ne(12),Sn(this),Pn(this);break t}}if(this.R){u=!0;let ye;for(;!this.K&&this.C<v.length;)if(ye=pu(this,v),ye==He){xt==4&&(this.m=4,Ne(14),u=!1),gi(this.i,this.l,null,"[Incomplete Response]");break}else if(ye==De){this.m=4,Ne(15),gi(this.i,this.l,v,"[Invalid Chunk]"),u=!1;break}else gi(this.i,this.l,ye,null),vi(this,ye);if(gu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),xt!=4||v.length!=0||this.h.h||(this.m=1,Ne(16),u=!1),this.o=this.o&&u,!u)gi(this.i,this.l,v,"[Invalid Chunked Response]"),Sn(this),Pn(this);else if(v.length>0&&!this.W){this.W=!0;var tt=this.j;tt.g==this&&tt.aa&&!tt.P&&(tt.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),ko(tt),tt.P=!0,Ne(11))}}else gi(this.i,this.l,v,null),vi(this,v);xt==4&&Sn(this),this.o&&!this.K&&(xt==4?wu(this.j,this):(this.o=!1,yi(this)))}else Gi(this.g),m==400&&v.indexOf("Unknown SID")>0?(this.m=3,Ne(12)):(this.m=0,Ne(13)),Sn(this),Pn(this)}}}catch{}finally{}};function Gh(u){if(!gu(u))return u.g.la();const m=$e(u.g);if(m==="")return"";let v="";const E=m.length,P=ei(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return Sn(u),Pn(u),"";u.h.i=new d.TextDecoder}for(let B=0;B<E;B++)u.h.h=!0,v+=u.h.i.decode(m[B],{stream:!(P&&B==E-1)});return m.length=0,u.h.g+=v,u.C=0,u.h.g}function gu(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function pu(u,m){var v=u.C,E=m.indexOf(`
`,v);return E==-1?He:(v=Number(m.substring(v,E)),isNaN(v)?De:(E+=1,E+v>m.length?He:(m=m.slice(E,E+v),u.C=E+v,m)))}Zn.prototype.cancel=function(){this.K=!0,Sn(this)};function yi(u){u.T=Date.now()+u.H,la(u,u.H)}function la(u,m){if(u.D!=null)throw Error("WatchDog timer not null");u.D=mi(y(u.aa,u),m)}function _i(u){u.D&&(d.clearTimeout(u.D),u.D=null)}Zn.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(Er(this.i,this.B),this.M!=2&&(fi(),Ne(17)),Sn(this),this.m=2,Pn(this)):la(this,this.T-u)};function Pn(u){u.j.I==0||u.K||wu(u.j,u)}function Sn(u){_i(u);var m=u.O;m&&typeof m.dispose=="function"&&m.dispose(),u.O=null,Eo(u.V),u.g&&(m=u.g,u.g=null,m.abort(),m.dispose())}function vi(u,m){try{var v=u.j;if(v.I!=0&&(v.g==u||Ei(v.h,u))){if(!u.L&&Ei(v.h,u)&&v.I==3){try{var E=v.Ba.g.parse(m)}catch{E=null}if(Array.isArray(E)&&E.length==3){var P=E;if(P[0]==0){t:if(!v.v){if(v.g)if(v.g.F+3e3<u.F)pa(v),Cs(v);else break t;xr(v),Ne(18)}}else v.xa=P[1],0<v.xa-v.K&&P[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=mi(y(v.Va,v),6e3));Ti(v.h)<=1&&v.ta&&(v.ta=void 0)}else Ii(v,11)}else if((u.L||v.g==u)&&pa(v),!w(m))for(P=v.Ba.g.parse(m),m=0;m<P.length;m++){let Zt=P[m];const ye=Zt[0];if(!(ye<=v.K))if(v.K=ye,Zt=Zt[1],v.I==2)if(Zt[0]=="c"){v.M=Zt[1],v.ba=Zt[2];const jn=Zt[3];jn!=null&&(v.ka=jn,v.j.info("VER="+v.ka));const Ci=Zt[4];Ci!=null&&(v.za=Ci,v.j.info("SVER="+v.za));const ni=Zt[5];ni!=null&&typeof ni=="number"&&ni>0&&(E=1.5*ni,v.O=E,v.j.info("backChannelRequestTimeoutMs_="+E)),E=v;const ii=u.g;if(ii){const Or=ii.g?ii.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Or){var B=E.h;B.g||Or.indexOf("spdy")==-1&&Or.indexOf("quic")==-1&&Or.indexOf("h2")==-1||(B.j=B.l,B.g=new Set,B.h&&(Ro(B,B.h),B.h=null))}if(E.G){const ya=ii.g?ii.g.getResponseHeader("X-HTTP-Session-Id"):null;ya&&(E.wa=ya,te(E.J,E.G,ya))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-u.F,v.j.info("Handshake RTT: "+v.T+"ms")),E=v;var tt=u;if(E.na=Cu(E,E.L?E.ba:null,E.W),tt.L){Io(E.h,tt);var xt=tt,we=E.O;we&&(xt.H=we),xt.D&&(_i(xt),yi(xt)),E.g=tt}else Su(E);v.i.length>0&&Ri(v)}else Zt[0]!="stop"&&Zt[0]!="close"||Ii(v,7);else v.I==3&&(Zt[0]=="stop"||Zt[0]=="close"?Zt[0]=="stop"?Ii(v,7):Lo(v):Zt[0]!="noop"&&v.l&&v.l.qa(Zt),v.A=0)}}fi(4)}catch{}}var xe=class{constructor(u,m){this.g=u,this.map=m}};function bo(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function wo(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function Ti(u){return u.h?1:u.g?u.g.size:0}function Ei(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function Ro(u,m){u.g?u.g.add(m):u.h=m}function Io(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}bo.prototype.cancel=function(){if(this.i=Co(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Co(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const v of u.g.values())m=m.concat(v.G);return m}return G(u.i)}var yu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ua(u,m){if(u){u=u.split("&");for(let v=0;v<u.length;v++){const E=u[v].indexOf("=");let P,B=null;E>=0?(P=u[v].substring(0,E),B=u[v].substring(E+1)):P=u[v],m(P,B?decodeURIComponent(B.replace(/\+/g," ")):"")}}}function bn(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;u instanceof bn?(this.l=u.l,Fe(this,u.j),this.o=u.o,this.g=u.g,Es(this,u.u),this.h=u.h,No(this,Eu(u.i)),this.m=u.m):u&&(m=String(u).match(yu))?(this.l=!1,Fe(this,m[1]||"",!0),this.o=Ai(m[2]||""),this.g=Ai(m[3]||"",!0),Es(this,m[4]),this.h=Ai(m[5]||"",!0),No(this,m[6]||"",!0),this.m=Ai(m[7]||"")):(this.l=!1,this.i=new Ss(null,this.l))}bn.prototype.toString=function(){const u=[];var m=this.j;m&&u.push(wr(m,ca,!0),":");var v=this.g;return(v||m=="file")&&(u.push("//"),(m=this.o)&&u.push(wr(m,ca,!0),"@"),u.push(Hi(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&u.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&u.push("/"),u.push(wr(v,v.charAt(0)=="/"?Do:_u,!0))),(v=this.i.toString())&&u.push("?",v),(v=this.m)&&u.push("#",wr(v,vu)),u.join("")},bn.prototype.resolve=function(u){const m=Oe(this);let v=!!u.j;v?Fe(m,u.j):v=!!u.o,v?m.o=u.o:v=!!u.g,v?m.g=u.g:v=u.u!=null;var E=u.h;if(v)Es(m,u.u);else if(v=!!u.h){if(E.charAt(0)!="/")if(this.g&&!this.h)E="/"+E;else{var P=m.h.lastIndexOf("/");P!=-1&&(E=m.h.slice(0,P+1)+E)}if(P=E,P==".."||P==".")E="";else if(P.indexOf("./")!=-1||P.indexOf("/.")!=-1){E=P.lastIndexOf("/",0)==0,P=P.split("/");const B=[];for(let tt=0;tt<P.length;){const xt=P[tt++];xt=="."?E&&tt==P.length&&B.push(""):xt==".."?((B.length>1||B.length==1&&B[0]!="")&&B.pop(),E&&tt==P.length&&B.push("")):(B.push(xt),E=!0)}E=B.join("/")}else E=P}return v?m.h=E:v=u.i.toString()!=="",v?No(m,Eu(u.i)):v=!!u.m,v&&(m.m=u.m),m};function Oe(u){return new bn(u)}function Fe(u,m,v){u.j=v?Ai(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function Es(u,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);u.u=m}else u.u=null}function No(u,m,v){m instanceof Ss?(u.i=m,fa(u.i,u.l)):(v||(m=wr(m,As)),u.i=new Ss(m,u.l))}function te(u,m,v){u.i.set(m,v)}function br(u){return te(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function Ai(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function wr(u,m,v){return typeof u=="string"?(u=encodeURI(u).replace(m,mn),v&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function mn(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var ca=/[#\/\?@]/g,_u=/[#\?:]/g,Do=/[#\?]/g,As=/[#\?@]/g,vu=/#/g;function Ss(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function gn(u){u.g||(u.g=new Map,u.h=0,u.i&&ua(u.i,function(m,v){u.add(decodeURIComponent(m.replace(/\+/g," ")),v)}))}s=Ss.prototype,s.add=function(u,m){gn(this),this.i=null,u=bs(this,u);let v=this.g.get(u);return v||this.g.set(u,v=[]),v.push(m),this.h+=1,this};function Tu(u,m){gn(u),m=bs(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function xo(u,m){return gn(u),m=bs(u,m),u.g.has(m)}s.forEach=function(u,m){gn(this),this.g.forEach(function(v,E){v.forEach(function(P){u.call(m,P,E,this)},this)},this)};function Oo(u,m){gn(u);let v=[];if(typeof m=="string")xo(u,m)&&(v=v.concat(u.g.get(bs(u,m))));else for(u=Array.from(u.g.values()),m=0;m<u.length;m++)v=v.concat(u[m]);return v}s.set=function(u,m){return gn(this),this.i=null,u=bs(this,u),xo(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},s.get=function(u,m){return u?(u=Oo(this,u),u.length>0?String(u[0]):m):m};function ha(u,m,v){Tu(u,m),v.length>0&&(u.i=null,u.g.set(bs(u,m),G(v)),u.h+=v.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(let E=0;E<m.length;E++){var v=m[E];const P=Hi(v);v=Oo(this,v);for(let B=0;B<v.length;B++){let tt=P;v[B]!==""&&(tt+="="+Hi(v[B])),u.push(tt)}}return this.i=u.join("&")};function Eu(u){const m=new Ss;return m.i=u.i,u.g&&(m.g=new Map(u.g),m.h=u.h),m}function bs(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function fa(u,m){m&&!u.j&&(gn(u),u.i=null,u.g.forEach(function(v,E){const P=E.toLowerCase();E!=P&&(Tu(this,E),ha(this,P,v))},u)),u.j=m}function Wn(u,m){const v=new $n;if(d.Image){const E=new Image;E.onload=A(kn,v,"TestLoadImage: loaded",!0,m,E),E.onerror=A(kn,v,"TestLoadImage: error",!1,m,E),E.onabort=A(kn,v,"TestLoadImage: abort",!1,m,E),E.ontimeout=A(kn,v,"TestLoadImage: timeout",!1,m,E),d.setTimeout(function(){E.ontimeout&&E.ontimeout()},1e4),E.src=u}else m(!1)}function Mo(u,m){const v=new $n,E=new AbortController,P=setTimeout(()=>{E.abort(),kn(v,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:E.signal}).then(B=>{clearTimeout(P),B.ok?kn(v,"TestPingServer: ok",!0,m):kn(v,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(P),kn(v,"TestPingServer: error",!1,m)})}function kn(u,m,v,E,P){try{P&&(P.onload=null,P.onerror=null,P.onabort=null,P.ontimeout=null),E(v)}catch{}}function ws(){this.g=new lu}function Si(u){this.i=u.Sb||null,this.h=u.ab||!1}S(Si,uu),Si.prototype.g=function(){return new Rr(this.i,this.h)};function Rr(u,m){lt.call(this),this.H=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}S(Rr,lt),s=Rr.prototype,s.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=m,this.readyState=1,ti(this)},s.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(m.body=u),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Rs(this)),this.readyState=0},s.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,ti(this)),this.g&&(this.readyState=3,ti(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;da(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function da(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}s.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?Rs(this):ti(this),this.readyState==3&&da(this)}},s.Oa=function(u){this.g&&(this.response=this.responseText=u,Rs(this))},s.Na=function(u){this.g&&(this.response=u,Rs(this))},s.ga=function(){this.g&&Rs(this)};function Rs(u){u.readyState=4,u.l=null,u.j=null,u.B=null,ti(u)}s.setRequestHeader=function(u,m){this.A.append(u,m)},s.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var v=m.next();!v.done;)v=v.value,u.push(v[0]+": "+v[1]),v=m.next();return u.join(`\r
`)};function ti(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Rr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function zn(u){let m="";return Ht(u,function(v,E){m+=E,m+=":",m+=v,m+=`\r
`}),m}function Ir(u,m,v){t:{for(E in v){var E=!1;break t}E=!0}E||(v=zn(v),typeof u=="string"?v!=null&&Hi(v):te(u,m,v))}function ie(u){lt.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}S(ie,lt);var bi=/^https?$/i,Vo=["POST","PUT"];s=ie.prototype,s.Fa=function(u){this.H=u},s.ea=function(u,m,v,E){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():So.g(),this.g.onreadystatechange=N(y(this.Ca,this));try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(B){Cr(this,B);return}if(u=v||"",v=new Map(this.headers),E)if(Object.getPrototypeOf(E)===Object.prototype)for(var P in E)v.set(P,E[P]);else if(typeof E.keys=="function"&&typeof E.get=="function")for(const B of E.keys())v.set(B,E.get(B));else throw Error("Unknown input type for opt_headers: "+String(E));E=Array.from(v.keys()).find(B=>B.toLowerCase()=="content-type"),P=d.FormData&&u instanceof d.FormData,!(Array.prototype.indexOf.call(Vo,m,void 0)>=0)||E||P||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[B,tt]of v)this.g.setRequestHeader(B,tt);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(B){Cr(this,B)}};function Cr(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.o=5,Uo(u),Fi(u)}function Uo(u){u.A||(u.A=!0,Rt(u,"complete"),Rt(u,"error"))}s.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,Rt(this,"complete"),Rt(this,"abort"),Fi(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Fi(this,!0)),ie.Z.N.call(this)},s.Ca=function(){this.u||(this.B||this.v||this.j?Nr(this):this.Xa())},s.Xa=function(){Nr(this)};function Nr(u){if(u.h&&typeof c<"u"){if(u.v&&ei(u)==4)setTimeout(u.Ca.bind(u),0);else if(Rt(u,"readystatechange"),ei(u)==4){u.h=!1;try{const B=u.ca();t:switch(B){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var v;if(!(v=m)){var E;if(E=B===0){let tt=String(u.D).match(yu)[1]||null;!tt&&d.self&&d.self.location&&(tt=d.self.location.protocol.slice(0,-1)),E=!bi.test(tt?tt.toLowerCase():"")}v=E}if(v)Rt(u,"complete"),Rt(u,"success");else{u.o=6;try{var P=ei(u)>2?u.g.statusText:""}catch{P=""}u.l=P+" ["+u.ca()+"]",Uo(u)}}finally{Fi(u)}}}}function Fi(u,m){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const v=u.g;u.g=null,m||Rt(u,"ready");try{v.onreadystatechange=null}catch{}}}s.isActive=function(){return!!this.g};function ei(u){return u.g?u.g.readyState:0}s.ca=function(){try{return ei(this)>2?this.g.status:-1}catch{return-1}},s.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.La=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),qh(m)}};function $e(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Gi(u){const m={};u=(u.g&&ei(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let E=0;E<u.length;E++){if(w(u[E]))continue;var v=mu(u[E]);const P=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const B=m[P]||[];m[P]=B,B.push(v)}Qt(m,function(E){return E.join(", ")})}s.ya=function(){return this.o},s.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function wi(u,m,v){return v&&v.internalChannelParams&&v.internalChannelParams[u]||m}function Is(u){this.za=0,this.i=[],this.j=new $n,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=wi("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=wi("baseRetryDelayMs",5e3,u),this.Za=wi("retryDelaySeedMs",1e4,u),this.Ta=wi("forwardChannelMaxRetries",2,u),this.va=wi("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new bo(u&&u.concurrentRequestLimit),this.Ba=new ws,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}s=Is.prototype,s.ka=8,s.I=1,s.connect=function(u,m,v,E){Ne(0),this.W=u,this.H=m||{},v&&E!==void 0&&(this.H.OSID=v,this.H.OAID=E),this.F=this.X,this.J=Cu(this,null,this.W),Ri(this)};function Lo(u){if(ma(u),u.I==3){var m=u.V++,v=Oe(u.J);if(te(v,"SID",u.M),te(v,"RID",m),te(v,"TYPE","terminate"),Dr(u,v),m=new Zn(u,u.j,m),m.M=2,m.A=br(Oe(v)),v=!1,d.navigator&&d.navigator.sendBeacon)try{v=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!v&&d.Image&&(new Image().src=m.A,v=!0),v||(m.g=Nu(m.j,null),m.g.ea(m.A)),m.F=Date.now(),yi(m)}Iu(u)}function Cs(u){u.g&&(ko(u),u.g.cancel(),u.g=null)}function ma(u){Cs(u),u.v&&(d.clearTimeout(u.v),u.v=null),pa(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&d.clearTimeout(u.m),u.m=null)}function Ri(u){if(!wo(u.h)&&!u.m){u.m=!0;var m=u.Ea;Gt||b(),dt||(Gt(),dt=!0),C.add(m,u),u.D=0}}function ga(u,m){return Ti(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=m.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=mi(y(u.Ea,u,m),Ru(u,u.D)),u.D++,!0)}s.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const P=new Zn(this,this.j,u);let B=this.o;if(this.U&&(B?(B=O(B),nt(B,this.U)):B=this.U),this.u!==null||this.R||(P.J=B,B=null),this.S)t:{for(var m=0,v=0;v<this.i.length;v++){e:{var E=this.i[v];if("__data__"in E.map&&(E=E.map.__data__,typeof E=="string")){E=E.length;break e}E=void 0}if(E===void 0)break;if(m+=E,m>4096){m=v;break t}if(m===4096||v===this.i.length-1){m=v+1;break t}}m=1e3}else m=1e3;m=Au(this,P,m),v=Oe(this.J),te(v,"RID",u),te(v,"CVER",22),this.G&&te(v,"X-HTTP-Session-Id",this.G),Dr(this,v),B&&(this.R?m="headers="+Hi(zn(B))+"&"+m:this.u&&Ir(v,this.u,B)),Ro(this.h,P),this.Ra&&te(v,"TYPE","init"),this.S?(te(v,"$req",m),te(v,"SID","null"),P.U=!0,pi(P,v,null)):pi(P,v,m),this.I=2}}else this.I==3&&(u?Po(this,u):this.i.length==0||wo(this.h)||Po(this))};function Po(u,m){var v;m?v=m.l:v=u.V++;const E=Oe(u.J);te(E,"SID",u.M),te(E,"RID",v),te(E,"AID",u.K),Dr(u,E),u.u&&u.o&&Ir(E,u.u,u.o),v=new Zn(u,u.j,v,u.D+1),u.u===null&&(v.J=u.o),m&&(u.i=m.G.concat(u.i)),m=Au(u,v,1e3),v.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),Ro(u.h,v),pi(v,E,m)}function Dr(u,m){u.H&&Ht(u.H,function(v,E){te(m,E,v)}),u.l&&Ht({},function(v,E){te(m,E,v)})}function Au(u,m,v){v=Math.min(u.i.length,v);const E=u.l?y(u.l.Ka,u.l,u):null;t:{var P=u.i;let xt=-1;for(;;){const we=["count="+v];xt==-1?v>0?(xt=P[0].g,we.push("ofs="+xt)):xt=0:we.push("ofs="+xt);let Zt=!0;for(let ye=0;ye<v;ye++){var B=P[ye].g;const jn=P[ye].map;if(B-=xt,B<0)xt=Math.max(0,P[ye].g-100),Zt=!1;else try{B="req"+B+"_"||"";try{var tt=jn instanceof Map?jn:Object.entries(jn);for(const[Ci,ni]of tt){let ii=ni;p(ni)&&(ii=Ts(ni)),we.push(B+Ci+"="+encodeURIComponent(ii))}}catch(Ci){throw we.push(B+"type="+encodeURIComponent("_badmap")),Ci}}catch{E&&E(jn)}}if(Zt){tt=we.join("&");break t}}tt=void 0}return u=u.i.splice(0,v),m.G=u,tt}function Su(u){if(!u.g&&!u.v){u.Y=1;var m=u.Da;Gt||b(),dt||(Gt(),dt=!0),C.add(m,u),u.A=0}}function xr(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=mi(y(u.Da,u),Ru(u,u.A)),u.A++,!0)}s.Da=function(){if(this.v=null,bu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=mi(y(this.Wa,this),u)}},s.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Ne(10),Cs(this),bu(this))};function ko(u){u.B!=null&&(d.clearTimeout(u.B),u.B=null)}function bu(u){u.g=new Zn(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var m=Oe(u.na);te(m,"RID","rpc"),te(m,"SID",u.M),te(m,"AID",u.K),te(m,"CI",u.F?"0":"1"),!u.F&&u.ia&&te(m,"TO",u.ia),te(m,"TYPE","xmlhttp"),Dr(u,m),u.u&&u.o&&Ir(m,u.u,u.o),u.O&&(u.g.H=u.O);var v=u.g;u=u.ba,v.M=1,v.A=br(Oe(m)),v.u=null,v.R=!0,oa(v,u)}s.Va=function(){this.C!=null&&(this.C=null,Cs(this),xr(this),Ne(19))};function pa(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function wu(u,m){var v=null;if(u.g==m){pa(u),ko(u),u.g=null;var E=2}else if(Ei(u.h,m))v=m.G,Io(u.h,m),E=1;else return;if(u.I!=0){if(m.o)if(E==1){v=m.u?m.u.length:0,m=Date.now()-m.F;var P=u.D;E=aa(),Rt(E,new di(E,v)),Ri(u)}else Su(u);else if(P=m.m,P==3||P==0&&m.X>0||!(E==1&&ga(u,m)||E==2&&xr(u)))switch(v&&v.length>0&&(m=u.h,m.i=m.i.concat(v)),P){case 1:Ii(u,5);break;case 4:Ii(u,10);break;case 3:Ii(u,6);break;default:Ii(u,2)}}}function Ru(u,m){let v=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(v*=2),v*m}function Ii(u,m){if(u.j.info("Error code "+m),m==2){var v=y(u.bb,u),E=u.Ua;const P=!E;E=new bn(E||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Fe(E,"https"),br(E),P?Wn(E.toString(),v):Mo(E.toString(),v)}else Ne(2);u.I=0,u.l&&u.l.pa(m),Iu(u),ma(u)}s.bb=function(u){u?(this.j.info("Successfully pinged google.com"),Ne(2)):(this.j.info("Failed to ping google.com"),Ne(1))};function Iu(u){if(u.I=0,u.ja=[],u.l){const m=Co(u.h);(m.length!=0||u.i.length!=0)&&(J(u.ja,m),J(u.ja,u.i),u.h.i.length=0,G(u.i),u.i.length=0),u.l.oa()}}function Cu(u,m,v){var E=v instanceof bn?Oe(v):new bn(v);if(E.g!="")m&&(E.g=m+"."+E.g),Es(E,E.u);else{var P=d.location;E=P.protocol,m=m?m+"."+P.hostname:P.hostname,P=+P.port;const B=new bn(null);E&&Fe(B,E),m&&(B.g=m),P&&Es(B,P),v&&(B.h=v),E=B}return v=u.G,m=u.wa,v&&m&&te(E,v,m),te(E,"VER",u.ka),Dr(u,E),E}function Nu(u,m,v){if(m&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Aa&&!u.ma?new ie(new Si({ab:v})):new ie(u.ma),m.Fa(u.L),m}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function Du(){}s=Du.prototype,s.ra=function(){},s.qa=function(){},s.pa=function(){},s.oa=function(){},s.isActive=function(){return!0},s.Ka=function(){};function Ns(){}Ns.prototype.g=function(u,m){return new hn(u,m)};function hn(u,m){lt.call(this),this.g=new Is(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(u?u["X-WebChannel-Client-Profile"]=m.sa:u={"X-WebChannel-Client-Profile":m.sa}),this.g.U=u,(u=m&&m.Qb)&&!w(u)&&(this.g.u=u),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!w(m)&&(this.g.G=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new Qi(this)}S(hn,lt),hn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},hn.prototype.close=function(){Lo(this.g)},hn.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var v={};v.__data__=u,u=v}else this.v&&(v={},v.__data__=Ts(u),u=v);m.i.push(new xe(m.Ya++,u)),m.I==3&&Ri(m)},hn.prototype.N=function(){this.g.l=null,delete this.j,Lo(this.g),delete this.g,hn.Z.N.call(this)};function xu(u){Xe.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){t:{for(const v in m){u=v;break t}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}S(xu,Xe);function Ou(){Ln.call(this),this.status=1}S(Ou,Ln);function Qi(u){this.g=u}S(Qi,Du),Qi.prototype.ra=function(){Rt(this.g,"a")},Qi.prototype.qa=function(u){Rt(this.g,new xu(u))},Qi.prototype.pa=function(u){Rt(this.g,new Ou)},Qi.prototype.oa=function(){Rt(this.g,"b")},Ns.prototype.createWebChannel=Ns.prototype.g,hn.prototype.send=hn.prototype.o,hn.prototype.open=hn.prototype.m,hn.prototype.close=hn.prototype.close,qT=function(){return new Ns},BT=function(){return aa()},jT=be,pm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Ar.NO_ERROR=0,Ar.TIMEOUT=8,Ar.HTTP_ERROR=6,Xc=Ar,Ao.COMPLETE="complete",zT=Ao,cu.EventType=Xn,Xn.OPEN="a",Xn.CLOSE="b",Xn.ERROR="c",Xn.MESSAGE="d",lt.prototype.listen=lt.prototype.J,bl=cu,ie.prototype.listenOnce=ie.prototype.K,ie.prototype.getLastError=ie.prototype.Ha,ie.prototype.getLastErrorCode=ie.prototype.ya,ie.prototype.getStatus=ie.prototype.ca,ie.prototype.getResponseJson=ie.prototype.La,ie.prototype.getResponseText=ie.prototype.la,ie.prototype.send=ie.prototype.ea,ie.prototype.setWithCredentials=ie.prototype.Fa,kT=ie}).apply(typeof Pc<"u"?Pc:typeof self<"u"?self:typeof window<"u"?window:{});const Hv="@firebase/firestore",Fv="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ln{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}ln.UNAUTHENTICATED=new ln(null),ln.GOOGLE_CREDENTIALS=new ln("google-credentials-uid"),ln.FIRST_PARTY=new ln("first-party-uid"),ln.MOCK_USER=new ln("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let po="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const na=new Vm("@firebase/firestore");function Ka(){return na.logLevel}function ot(s,...t){if(na.logLevel<=jt.DEBUG){const i=t.map(Ym);na.debug(`Firestore (${po}): ${s}`,...i)}}function ds(s,...t){if(na.logLevel<=jt.ERROR){const i=t.map(Ym);na.error(`Firestore (${po}): ${s}`,...i)}}function ro(s,...t){if(na.logLevel<=jt.WARN){const i=t.map(Ym);na.warn(`Firestore (${po}): ${s}`,...i)}}function Ym(s){if(typeof s=="string")return s;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(i){return JSON.stringify(i)})(s)}catch{return s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pt(s,t,i){let r="Unexpected state";typeof t=="string"?r=t:i=t,HT(s,r,i)}function HT(s,t,i){let r=`FIRESTORE (${po}) INTERNAL ASSERTION FAILED: ${t} (ID: ${s.toString(16)})`;if(i!==void 0)try{r+=" CONTEXT: "+JSON.stringify(i)}catch{r+=" CONTEXT: "+i}throw ds(r),new Error(r)}function Kt(s,t,i,r){let l="Unexpected state";typeof i=="string"?l=i:r=i,s||HT(t,l,r)}function wt(s,t){return s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class it extends ps{constructor(t,i){super(t,i),this.code=t,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ui{constructor(){this.promise=new Promise(((t,i)=>{this.resolve=t,this.reject=i}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FT{constructor(t,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class s2{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,i){t.enqueueRetryable((()=>i(ln.UNAUTHENTICATED)))}shutdown(){}}class r2{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,i){this.changeListener=i,t.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class a2{constructor(t){this.t=t,this.currentUser=ln.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,i){Kt(this.o===void 0,42304);let r=this.i;const l=_=>this.i!==r?(r=this.i,i(_)):Promise.resolve();let c=new Ui;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new Ui,t.enqueueRetryable((()=>l(this.currentUser)))};const d=()=>{const _=c;t.enqueueRetryable((async()=>{await _.promise,await l(this.currentUser)}))},p=_=>{ot("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=_,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((_=>p(_))),setTimeout((()=>{if(!this.auth){const _=this.t.getImmediate({optional:!0});_?p(_):(ot("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new Ui)}}),0),d()}getToken(){const t=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((r=>this.i!==t?(ot("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Kt(typeof r.accessToken=="string",31837,{l:r}),new FT(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Kt(t===null||typeof t=="string",2055,{h:t}),new ln(t)}}class o2{constructor(t,i,r){this.P=t,this.T=i,this.I=r,this.type="FirstParty",this.user=ln.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class l2{constructor(t,i,r){this.P=t,this.T=i,this.I=r}getToken(){return Promise.resolve(new o2(this.P,this.T,this.I))}start(t,i){t.enqueueRetryable((()=>i(ln.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Gv{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class u2{constructor(t,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,li(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,i){Kt(this.o===void 0,3512);const r=c=>{c.error!=null&&ot("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.m;return this.m=c.token,ot("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(c.token):Promise.resolve()};this.o=c=>{t.enqueueRetryable((()=>r(c)))};const l=c=>{ot("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>l(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?l(c):ot("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new Gv(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((i=>i?(Kt(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new Gv(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c2(s){const t=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(s);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(i);else for(let r=0;r<s;r++)i[r]=Math.floor(256*Math.random());return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Km{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const l=c2(40);for(let c=0;c<l.length;++c)r.length<20&&l[c]<i&&(r+=t.charAt(l[c]%62))}return r}}function Bt(s,t){return s<t?-1:s>t?1:0}function ym(s,t){const i=Math.min(s.length,t.length);for(let r=0;r<i;r++){const l=s.charAt(r),c=t.charAt(r);if(l!==c)return Wd(l)===Wd(c)?Bt(l,c):Wd(l)?1:-1}return Bt(s.length,t.length)}const h2=55296,f2=57343;function Wd(s){const t=s.charCodeAt(0);return t>=h2&&t<=f2}function ao(s,t,i){return s.length===t.length&&s.every(((r,l)=>i(r,t[l])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qv="__name__";class Mi{constructor(t,i,r){i===void 0?i=0:i>t.length&&pt(637,{offset:i,range:t.length}),r===void 0?r=t.length-i:r>t.length-i&&pt(1746,{length:r,range:t.length-i}),this.segments=t,this.offset=i,this.len=r}get length(){return this.len}isEqual(t){return Mi.comparator(this,t)===0}child(t){const i=this.segments.slice(this.offset,this.limit());return t instanceof Mi?t.forEach((r=>{i.push(r)})):i.push(t),this.construct(i)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}forEach(t){for(let i=this.offset,r=this.limit();i<r;i++)t(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,i){const r=Math.min(t.length,i.length);for(let l=0;l<r;l++){const c=Mi.compareSegments(t.get(l),i.get(l));if(c!==0)return c}return Bt(t.length,i.length)}static compareSegments(t,i){const r=Mi.isNumericId(t),l=Mi.isNumericId(i);return r&&!l?-1:!r&&l?1:r&&l?Mi.extractNumericId(t).compare(Mi.extractNumericId(i)):ym(t,i)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return or.fromString(t.substring(4,t.length-2))}}class le extends Mi{construct(t,i,r){return new le(t,i,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const i=[];for(const r of t){if(r.indexOf("//")>=0)throw new it(Q.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);i.push(...r.split("/").filter((l=>l.length>0)))}return new le(i)}static emptyPath(){return new le([])}}const d2=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class sn extends Mi{construct(t,i,r){return new sn(t,i,r)}static isValidIdentifier(t){return d2.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),sn.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Qv}static keyField(){return new sn([Qv])}static fromServerFormat(t){const i=[];let r="",l=0;const c=()=>{if(r.length===0)throw new it(Q.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(r),r=""};let d=!1;for(;l<t.length;){const p=t[l];if(p==="\\"){if(l+1===t.length)throw new it(Q.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const _=t[l+1];if(_!=="\\"&&_!=="."&&_!=="`")throw new it(Q.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=_,l+=2}else p==="`"?(d=!d,l++):p!=="."||d?(r+=p,l++):(c(),l++)}if(c(),d)throw new it(Q.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new sn(i)}static emptyPath(){return new sn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ft{constructor(t){this.path=t}static fromPath(t){return new ft(le.fromString(t))}static fromName(t){return new ft(le.fromString(t).popFirst(5))}static empty(){return new ft(le.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&le.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,i){return le.comparator(t.path,i.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new ft(new le(t.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GT(s,t,i){if(!i)throw new it(Q.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${t}.`)}function m2(s,t,i,r){if(t===!0&&r===!0)throw new it(Q.INVALID_ARGUMENT,`${s} and ${i} cannot be used together.`)}function Yv(s){if(!ft.isDocumentKey(s))throw new it(Q.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function Kv(s){if(ft.isDocumentKey(s))throw new it(Q.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${s} has ${s.length}.`)}function QT(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}function wh(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const t=(function(r){return r.constructor?r.constructor.name:null})(s);return t?`a custom ${t} object`:"an object"}}return typeof s=="function"?"a function":pt(12329,{type:typeof s})}function An(s,t){if("_delegate"in s&&(s=s._delegate),!(s instanceof t)){if(t.name===s.constructor.name)throw new it(Q.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=wh(s);throw new it(Q.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${i}`)}}return s}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ze(s,t){const i={typeString:s};return t&&(i.value=t),i}function Zl(s,t){if(!QT(s))throw new it(Q.INVALID_ARGUMENT,"JSON must be an object");let i;for(const r in t)if(t[r]){const l=t[r].typeString,c="value"in t[r]?{value:t[r].value}:void 0;if(!(r in s)){i=`JSON missing required field: '${r}'`;break}const d=s[r];if(l&&typeof d!==l){i=`JSON field '${r}' must be a ${l}.`;break}if(c!==void 0&&d!==c.value){i=`Expected '${r}' field to equal '${c.value}'`;break}}if(i)throw new it(Q.INVALID_ARGUMENT,i);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xv=-62135596800,$v=1e6;class pe{static now(){return pe.fromMillis(Date.now())}static fromDate(t){return pe.fromMillis(t.getTime())}static fromMillis(t){const i=Math.floor(t/1e3),r=Math.floor((t-1e3*i)*$v);return new pe(i,r)}constructor(t,i){if(this.seconds=t,this.nanoseconds=i,i<0)throw new it(Q.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new it(Q.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(t<Xv)throw new it(Q.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new it(Q.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/$v}_compareTo(t){return this.seconds===t.seconds?Bt(this.nanoseconds,t.nanoseconds):Bt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:pe._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(Zl(t,pe._jsonSchema))return new pe(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-Xv;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}pe._jsonSchemaVersion="firestore/timestamp/1.0",pe._jsonSchema={type:ze("string",pe._jsonSchemaVersion),seconds:ze("number"),nanoseconds:ze("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tt{static fromTimestamp(t){return new Tt(t)}static min(){return new Tt(new pe(0,0))}static max(){return new Tt(new pe(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pl=-1;function g2(s,t){const i=s.toTimestamp().seconds,r=s.toTimestamp().nanoseconds+1,l=Tt.fromTimestamp(r===1e9?new pe(i+1,0):new pe(i,r));return new cr(l,ft.empty(),t)}function p2(s){return new cr(s.readTime,s.key,Pl)}class cr{constructor(t,i,r){this.readTime=t,this.documentKey=i,this.largestBatchId=r}static min(){return new cr(Tt.min(),ft.empty(),Pl)}static max(){return new cr(Tt.max(),ft.empty(),Pl)}}function y2(s,t){let i=s.readTime.compareTo(t.readTime);return i!==0?i:(i=ft.comparator(s.documentKey,t.documentKey),i!==0?i:Bt(s.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _2="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class v2{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yo(s){if(s.code!==Q.FAILED_PRECONDITION||s.message!==_2)throw s;ot("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ${constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(t){return this.next(void 0,t)}next(t,i){return this.callbackAttached&&pt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(t,this.result):new $(((r,l)=>{this.nextCallback=c=>{this.wrapSuccess(t,c).next(r,l)},this.catchCallback=c=>{this.wrapFailure(i,c).next(r,l)}}))}toPromise(){return new Promise(((t,i)=>{this.next(t,i)}))}wrapUserFunction(t){try{const i=t();return i instanceof $?i:$.resolve(i)}catch(i){return $.reject(i)}}wrapSuccess(t,i){return t?this.wrapUserFunction((()=>t(i))):$.resolve(i)}wrapFailure(t,i){return t?this.wrapUserFunction((()=>t(i))):$.reject(i)}static resolve(t){return new $(((i,r)=>{i(t)}))}static reject(t){return new $(((i,r)=>{r(t)}))}static waitFor(t){return new $(((i,r)=>{let l=0,c=0,d=!1;t.forEach((p=>{++l,p.next((()=>{++c,d&&c===l&&i()}),(_=>r(_)))})),d=!0,c===l&&i()}))}static or(t){let i=$.resolve(!1);for(const r of t)i=i.next((l=>l?$.resolve(l):r()));return i}static forEach(t,i){const r=[];return t.forEach(((l,c)=>{r.push(i.call(this,l,c))})),this.waitFor(r)}static mapArray(t,i){return new $(((r,l)=>{const c=t.length,d=new Array(c);let p=0;for(let _=0;_<c;_++){const y=_;i(t[y]).next((A=>{d[y]=A,++p,p===c&&r(d)}),(A=>l(A)))}}))}static doWhile(t,i){return new $(((r,l)=>{const c=()=>{t()===!0?i().next((()=>{c()}),l):r()};c()}))}}function T2(s){const t=s.match(/Android ([\d.]+)/i),i=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function _o(s){return s.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rh{constructor(t,i){this.previousValue=t,i&&(i.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>i.writeSequenceNumber(r))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}Rh.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xm=-1;function Jl(s){return s==null}function uh(s){return s===0&&1/s==-1/0}function E2(s){return typeof s=="number"&&Number.isInteger(s)&&!uh(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YT="";function A2(s){let t="";for(let i=0;i<s.length;i++)t.length>0&&(t=Zv(t)),t=S2(s.get(i),t);return Zv(t)}function S2(s,t){let i=t;const r=s.length;for(let l=0;l<r;l++){const c=s.charAt(l);switch(c){case"\0":i+="";break;case YT:i+="";break;default:i+=c}}return i}function Zv(s){return s+YT+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jv(s){let t=0;for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&t++;return t}function pr(s,t){for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&t(i,s[i])}function KT(s){for(const t in s)if(Object.prototype.hasOwnProperty.call(s,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Te{constructor(t,i){this.comparator=t,this.root=i||nn.EMPTY}insert(t,i){return new Te(this.comparator,this.root.insert(t,i,this.comparator).copy(null,null,nn.BLACK,null,null))}remove(t){return new Te(this.comparator,this.root.remove(t,this.comparator).copy(null,null,nn.BLACK,null,null))}get(t){let i=this.root;for(;!i.isEmpty();){const r=this.comparator(t,i.key);if(r===0)return i.value;r<0?i=i.left:r>0&&(i=i.right)}return null}indexOf(t){let i=0,r=this.root;for(;!r.isEmpty();){const l=this.comparator(t,r.key);if(l===0)return i+r.left.size;l<0?r=r.left:(i+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((i,r)=>(t(i,r),!1)))}toString(){const t=[];return this.inorderTraversal(((i,r)=>(t.push(`${i}:${r}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new kc(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new kc(this.root,t,this.comparator,!1)}getReverseIterator(){return new kc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new kc(this.root,t,this.comparator,!0)}}class kc{constructor(t,i,r,l){this.isReverse=l,this.nodeStack=[];let c=1;for(;!t.isEmpty();)if(c=i?r(t.key,i):1,i&&l&&(c*=-1),c<0)t=this.isReverse?t.left:t.right;else{if(c===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const i={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class nn{constructor(t,i,r,l,c){this.key=t,this.value=i,this.color=r??nn.RED,this.left=l??nn.EMPTY,this.right=c??nn.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,i,r,l,c){return new nn(t??this.key,i??this.value,r??this.color,l??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,i,r){let l=this;const c=r(t,l.key);return l=c<0?l.copy(null,null,null,l.left.insert(t,i,r),null):c===0?l.copy(null,i,null,null,null):l.copy(null,null,null,null,l.right.insert(t,i,r)),l.fixUp()}removeMin(){if(this.left.isEmpty())return nn.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,i){let r,l=this;if(i(t,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(t,i),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),i(t,l.key)===0){if(l.right.isEmpty())return nn.EMPTY;r=l.right.min(),l=l.copy(r.key,r.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(t,i))}return l.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,nn.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,nn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,i)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw pt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw pt(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw pt(27949);return t+(this.isRed()?0:1)}}nn.EMPTY=null,nn.RED=!0,nn.BLACK=!1;nn.EMPTY=new class{constructor(){this.size=0}get key(){throw pt(57766)}get value(){throw pt(16141)}get color(){throw pt(16727)}get left(){throw pt(29726)}get right(){throw pt(36894)}copy(t,i,r,l,c){return this}insert(t,i,r){return new nn(t,i)}remove(t,i){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qe{constructor(t){this.comparator=t,this.data=new Te(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((i,r)=>(t(i),!1)))}forEachInRange(t,i){const r=this.data.getIteratorFrom(t[0]);for(;r.hasNext();){const l=r.getNext();if(this.comparator(l.key,t[1])>=0)return;i(l.key)}}forEachWhile(t,i){let r;for(r=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();r.hasNext();)if(!t(r.getNext().key))return}firstAfterOrEqual(t){const i=this.data.getIteratorFrom(t);return i.hasNext()?i.getNext().key:null}getIterator(){return new Wv(this.data.getIterator())}getIteratorFrom(t){return new Wv(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let i=this;return i.size<t.size&&(i=t,t=this),t.forEach((r=>{i=i.add(r)})),i}isEqual(t){if(!(t instanceof qe)||this.size!==t.size)return!1;const i=this.data.getIterator(),r=t.data.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=r.getNext().key;if(this.comparator(l,c)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((i=>{t.push(i)})),t}toString(){const t=[];return this.forEach((i=>t.push(i))),"SortedSet("+t.toString()+")"}copy(t){const i=new qe(this.comparator);return i.data=t,i}}class Wv{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mn{constructor(t){this.fields=t,t.sort(sn.comparator)}static empty(){return new Mn([])}unionWith(t){let i=new qe(sn.comparator);for(const r of this.fields)i=i.add(r);for(const r of t)i=i.add(r);return new Mn(i.toArray())}covers(t){for(const i of this.fields)if(i.isPrefixOf(t))return!0;return!1}isEqual(t){return ao(this.fields,t.fields,((i,r)=>i.isEqual(r)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XT extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rn{constructor(t){this.binaryString=t}static fromBase64String(t){const i=(function(l){try{return atob(l)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new XT("Invalid base64 string: "+c):c}})(t);return new rn(i)}static fromUint8Array(t){const i=(function(l){let c="";for(let d=0;d<l.length;++d)c+=String.fromCharCode(l[d]);return c})(t);return new rn(i)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const r=new Uint8Array(i.length);for(let l=0;l<i.length;l++)r[l]=i.charCodeAt(l);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Bt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}rn.EMPTY_BYTE_STRING=new rn("");const b2=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function hr(s){if(Kt(!!s,39018),typeof s=="string"){let t=0;const i=b2.exec(s);if(Kt(!!i,46558,{timestamp:s}),i[1]){let l=i[1];l=(l+"000000000").substr(0,9),t=Number(l)}const r=new Date(s);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:Ce(s.seconds),nanos:Ce(s.nanos)}}function Ce(s){return typeof s=="number"?s:typeof s=="string"?Number(s):0}function fr(s){return typeof s=="string"?rn.fromBase64String(s):rn.fromUint8Array(s)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $T="server_timestamp",ZT="__type__",JT="__previous_value__",WT="__local_write_time__";function $m(s){return(s?.mapValue?.fields||{})[ZT]?.stringValue===$T}function Ih(s){const t=s.mapValue.fields[JT];return $m(t)?Ih(t):t}function kl(s){const t=hr(s.mapValue.fields[WT].timestampValue);return new pe(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w2{constructor(t,i,r,l,c,d,p,_,y,A){this.databaseId=t,this.appId=i,this.persistenceKey=r,this.host=l,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=p,this.longPollingOptions=_,this.useFetchStreams=y,this.isUsingEmulator=A}}const ch="(default)";class zl{constructor(t,i){this.projectId=t,this.database=i||ch}static empty(){return new zl("","")}get isDefaultDatabase(){return this.database===ch}isEqual(t){return t instanceof zl&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tE="__type__",R2="__max__",zc={mapValue:{}},eE="__vector__",hh="value";function dr(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?$m(s)?4:C2(s)?9007199254740991:I2(s)?10:11:pt(28295,{value:s})}function ji(s,t){if(s===t)return!0;const i=dr(s);if(i!==dr(t))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===t.booleanValue;case 4:return kl(s).isEqual(kl(t));case 3:return(function(l,c){if(typeof l.timestampValue=="string"&&typeof c.timestampValue=="string"&&l.timestampValue.length===c.timestampValue.length)return l.timestampValue===c.timestampValue;const d=hr(l.timestampValue),p=hr(c.timestampValue);return d.seconds===p.seconds&&d.nanos===p.nanos})(s,t);case 5:return s.stringValue===t.stringValue;case 6:return(function(l,c){return fr(l.bytesValue).isEqual(fr(c.bytesValue))})(s,t);case 7:return s.referenceValue===t.referenceValue;case 8:return(function(l,c){return Ce(l.geoPointValue.latitude)===Ce(c.geoPointValue.latitude)&&Ce(l.geoPointValue.longitude)===Ce(c.geoPointValue.longitude)})(s,t);case 2:return(function(l,c){if("integerValue"in l&&"integerValue"in c)return Ce(l.integerValue)===Ce(c.integerValue);if("doubleValue"in l&&"doubleValue"in c){const d=Ce(l.doubleValue),p=Ce(c.doubleValue);return d===p?uh(d)===uh(p):isNaN(d)&&isNaN(p)}return!1})(s,t);case 9:return ao(s.arrayValue.values||[],t.arrayValue.values||[],ji);case 10:case 11:return(function(l,c){const d=l.mapValue.fields||{},p=c.mapValue.fields||{};if(Jv(d)!==Jv(p))return!1;for(const _ in d)if(d.hasOwnProperty(_)&&(p[_]===void 0||!ji(d[_],p[_])))return!1;return!0})(s,t);default:return pt(52216,{left:s})}}function jl(s,t){return(s.values||[]).find((i=>ji(i,t)))!==void 0}function oo(s,t){if(s===t)return 0;const i=dr(s),r=dr(t);if(i!==r)return Bt(i,r);switch(i){case 0:case 9007199254740991:return 0;case 1:return Bt(s.booleanValue,t.booleanValue);case 2:return(function(c,d){const p=Ce(c.integerValue||c.doubleValue),_=Ce(d.integerValue||d.doubleValue);return p<_?-1:p>_?1:p===_?0:isNaN(p)?isNaN(_)?0:-1:1})(s,t);case 3:return t0(s.timestampValue,t.timestampValue);case 4:return t0(kl(s),kl(t));case 5:return ym(s.stringValue,t.stringValue);case 6:return(function(c,d){const p=fr(c),_=fr(d);return p.compareTo(_)})(s.bytesValue,t.bytesValue);case 7:return(function(c,d){const p=c.split("/"),_=d.split("/");for(let y=0;y<p.length&&y<_.length;y++){const A=Bt(p[y],_[y]);if(A!==0)return A}return Bt(p.length,_.length)})(s.referenceValue,t.referenceValue);case 8:return(function(c,d){const p=Bt(Ce(c.latitude),Ce(d.latitude));return p!==0?p:Bt(Ce(c.longitude),Ce(d.longitude))})(s.geoPointValue,t.geoPointValue);case 9:return e0(s.arrayValue,t.arrayValue);case 10:return(function(c,d){const p=c.fields||{},_=d.fields||{},y=p[hh]?.arrayValue,A=_[hh]?.arrayValue,S=Bt(y?.values?.length||0,A?.values?.length||0);return S!==0?S:e0(y,A)})(s.mapValue,t.mapValue);case 11:return(function(c,d){if(c===zc.mapValue&&d===zc.mapValue)return 0;if(c===zc.mapValue)return 1;if(d===zc.mapValue)return-1;const p=c.fields||{},_=Object.keys(p),y=d.fields||{},A=Object.keys(y);_.sort(),A.sort();for(let S=0;S<_.length&&S<A.length;++S){const N=ym(_[S],A[S]);if(N!==0)return N;const G=oo(p[_[S]],y[A[S]]);if(G!==0)return G}return Bt(_.length,A.length)})(s.mapValue,t.mapValue);default:throw pt(23264,{he:i})}}function t0(s,t){if(typeof s=="string"&&typeof t=="string"&&s.length===t.length)return Bt(s,t);const i=hr(s),r=hr(t),l=Bt(i.seconds,r.seconds);return l!==0?l:Bt(i.nanos,r.nanos)}function e0(s,t){const i=s.values||[],r=t.values||[];for(let l=0;l<i.length&&l<r.length;++l){const c=oo(i[l],r[l]);if(c)return c}return Bt(i.length,r.length)}function lo(s){return _m(s)}function _m(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?(function(i){const r=hr(i);return`time(${r.seconds},${r.nanos})`})(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?(function(i){return fr(i).toBase64()})(s.bytesValue):"referenceValue"in s?(function(i){return ft.fromName(i).toString()})(s.referenceValue):"geoPointValue"in s?(function(i){return`geo(${i.latitude},${i.longitude})`})(s.geoPointValue):"arrayValue"in s?(function(i){let r="[",l=!0;for(const c of i.values||[])l?l=!1:r+=",",r+=_m(c);return r+"]"})(s.arrayValue):"mapValue"in s?(function(i){const r=Object.keys(i.fields||{}).sort();let l="{",c=!0;for(const d of r)c?c=!1:l+=",",l+=`${d}:${_m(i.fields[d])}`;return l+"}"})(s.mapValue):pt(61005,{value:s})}function $c(s){switch(dr(s)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=Ih(s);return t?16+$c(t):16;case 5:return 2*s.stringValue.length;case 6:return fr(s.bytesValue).approximateByteSize();case 7:return s.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((l,c)=>l+$c(c)),0)})(s.arrayValue);case 10:case 11:return(function(r){let l=0;return pr(r.fields,((c,d)=>{l+=c.length+$c(d)})),l})(s.mapValue);default:throw pt(13486,{value:s})}}function n0(s,t){return{referenceValue:`projects/${s.projectId}/databases/${s.database}/documents/${t.path.canonicalString()}`}}function vm(s){return!!s&&"integerValue"in s}function Zm(s){return!!s&&"arrayValue"in s}function i0(s){return!!s&&"nullValue"in s}function s0(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function Zc(s){return!!s&&"mapValue"in s}function I2(s){return(s?.mapValue?.fields||{})[tE]?.stringValue===eE}function Dl(s){if(s.geoPointValue)return{geoPointValue:{...s.geoPointValue}};if(s.timestampValue&&typeof s.timestampValue=="object")return{timestampValue:{...s.timestampValue}};if(s.mapValue){const t={mapValue:{fields:{}}};return pr(s.mapValue.fields,((i,r)=>t.mapValue.fields[i]=Dl(r))),t}if(s.arrayValue){const t={arrayValue:{values:[]}};for(let i=0;i<(s.arrayValue.values||[]).length;++i)t.arrayValue.values[i]=Dl(s.arrayValue.values[i]);return t}return{...s}}function C2(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue===R2}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dn{constructor(t){this.value=t}static empty(){return new dn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let i=this.value;for(let r=0;r<t.length-1;++r)if(i=(i.mapValue.fields||{})[t.get(r)],!Zc(i))return null;return i=(i.mapValue.fields||{})[t.lastSegment()],i||null}}set(t,i){this.getFieldsMap(t.popLast())[t.lastSegment()]=Dl(i)}setAll(t){let i=sn.emptyPath(),r={},l=[];t.forEach(((d,p)=>{if(!i.isImmediateParentOf(p)){const _=this.getFieldsMap(i);this.applyChanges(_,r,l),r={},l=[],i=p.popLast()}d?r[p.lastSegment()]=Dl(d):l.push(p.lastSegment())}));const c=this.getFieldsMap(i);this.applyChanges(c,r,l)}delete(t){const i=this.field(t.popLast());Zc(i)&&i.mapValue.fields&&delete i.mapValue.fields[t.lastSegment()]}isEqual(t){return ji(this.value,t.value)}getFieldsMap(t){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let r=0;r<t.length;++r){let l=i.mapValue.fields[t.get(r)];Zc(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},i.mapValue.fields[t.get(r)]=l),i=l}return i.mapValue.fields}applyChanges(t,i,r){pr(i,((l,c)=>t[l]=c));for(const l of r)delete t[l]}clone(){return new dn(Dl(this.value))}}function nE(s){const t=[];return pr(s.fields,((i,r)=>{const l=new sn([i]);if(Zc(r)){const c=nE(r.mapValue).fields;if(c.length===0)t.push(l);else for(const d of c)t.push(l.child(d))}else t.push(l)})),new Mn(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ye{constructor(t,i,r,l,c,d,p){this.key=t,this.documentType=i,this.version=r,this.readTime=l,this.createTime=c,this.data=d,this.documentState=p}static newInvalidDocument(t){return new Ye(t,0,Tt.min(),Tt.min(),Tt.min(),dn.empty(),0)}static newFoundDocument(t,i,r,l){return new Ye(t,1,i,Tt.min(),r,l,0)}static newNoDocument(t,i){return new Ye(t,2,i,Tt.min(),Tt.min(),dn.empty(),0)}static newUnknownDocument(t,i){return new Ye(t,3,i,Tt.min(),Tt.min(),dn.empty(),2)}convertToFoundDocument(t,i){return!this.createTime.isEqual(Tt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=dn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=dn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Tt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof Ye&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Ye(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fh{constructor(t,i){this.position=t,this.inclusive=i}}function r0(s,t,i){let r=0;for(let l=0;l<s.position.length;l++){const c=t[l],d=s.position[l];if(c.field.isKeyField()?r=ft.comparator(ft.fromName(d.referenceValue),i.key):r=oo(d,i.data.field(c.field)),c.dir==="desc"&&(r*=-1),r!==0)break}return r}function a0(s,t){if(s===null)return t===null;if(t===null||s.inclusive!==t.inclusive||s.position.length!==t.position.length)return!1;for(let i=0;i<s.position.length;i++)if(!ji(s.position[i],t.position[i]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bl{constructor(t,i="asc"){this.field=t,this.dir=i}}function N2(s,t){return s.dir===t.dir&&s.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iE{}class ke extends iE{constructor(t,i,r){super(),this.field=t,this.op=i,this.value=r}static create(t,i,r){return t.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(t,i,r):new x2(t,i,r):i==="array-contains"?new V2(t,r):i==="in"?new U2(t,r):i==="not-in"?new L2(t,r):i==="array-contains-any"?new P2(t,r):new ke(t,i,r)}static createKeyFieldInFilter(t,i,r){return i==="in"?new O2(t,r):new M2(t,r)}matches(t){const i=t.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(oo(i,this.value)):i!==null&&dr(this.value)===dr(i)&&this.matchesComparison(oo(i,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return pt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class hi extends iE{constructor(t,i){super(),this.filters=t,this.op=i,this.Pe=null}static create(t,i){return new hi(t,i)}matches(t){return sE(this)?this.filters.find((i=>!i.matches(t)))===void 0:this.filters.find((i=>i.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,i)=>t.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function sE(s){return s.op==="and"}function rE(s){return D2(s)&&sE(s)}function D2(s){for(const t of s.filters)if(t instanceof hi)return!1;return!0}function Tm(s){if(s instanceof ke)return s.field.canonicalString()+s.op.toString()+lo(s.value);if(rE(s))return s.filters.map((t=>Tm(t))).join(",");{const t=s.filters.map((i=>Tm(i))).join(",");return`${s.op}(${t})`}}function aE(s,t){return s instanceof ke?(function(r,l){return l instanceof ke&&r.op===l.op&&r.field.isEqual(l.field)&&ji(r.value,l.value)})(s,t):s instanceof hi?(function(r,l){return l instanceof hi&&r.op===l.op&&r.filters.length===l.filters.length?r.filters.reduce(((c,d,p)=>c&&aE(d,l.filters[p])),!0):!1})(s,t):void pt(19439)}function oE(s){return s instanceof ke?(function(i){return`${i.field.canonicalString()} ${i.op} ${lo(i.value)}`})(s):s instanceof hi?(function(i){return i.op.toString()+" {"+i.getFilters().map(oE).join(" ,")+"}"})(s):"Filter"}class x2 extends ke{constructor(t,i,r){super(t,i,r),this.key=ft.fromName(r.referenceValue)}matches(t){const i=ft.comparator(t.key,this.key);return this.matchesComparison(i)}}class O2 extends ke{constructor(t,i){super(t,"in",i),this.keys=lE("in",i)}matches(t){return this.keys.some((i=>i.isEqual(t.key)))}}class M2 extends ke{constructor(t,i){super(t,"not-in",i),this.keys=lE("not-in",i)}matches(t){return!this.keys.some((i=>i.isEqual(t.key)))}}function lE(s,t){return(t.arrayValue?.values||[]).map((i=>ft.fromName(i.referenceValue)))}class V2 extends ke{constructor(t,i){super(t,"array-contains",i)}matches(t){const i=t.data.field(this.field);return Zm(i)&&jl(i.arrayValue,this.value)}}class U2 extends ke{constructor(t,i){super(t,"in",i)}matches(t){const i=t.data.field(this.field);return i!==null&&jl(this.value.arrayValue,i)}}class L2 extends ke{constructor(t,i){super(t,"not-in",i)}matches(t){if(jl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=t.data.field(this.field);return i!==null&&i.nullValue===void 0&&!jl(this.value.arrayValue,i)}}class P2 extends ke{constructor(t,i){super(t,"array-contains-any",i)}matches(t){const i=t.data.field(this.field);return!(!Zm(i)||!i.arrayValue.values)&&i.arrayValue.values.some((r=>jl(this.value.arrayValue,r)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k2{constructor(t,i=null,r=[],l=[],c=null,d=null,p=null){this.path=t,this.collectionGroup=i,this.orderBy=r,this.filters=l,this.limit=c,this.startAt=d,this.endAt=p,this.Te=null}}function o0(s,t=null,i=[],r=[],l=null,c=null,d=null){return new k2(s,t,i,r,l,c,d)}function Jm(s){const t=wt(s);if(t.Te===null){let i=t.path.canonicalString();t.collectionGroup!==null&&(i+="|cg:"+t.collectionGroup),i+="|f:",i+=t.filters.map((r=>Tm(r))).join(","),i+="|ob:",i+=t.orderBy.map((r=>(function(c){return c.field.canonicalString()+c.dir})(r))).join(","),Jl(t.limit)||(i+="|l:",i+=t.limit),t.startAt&&(i+="|lb:",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map((r=>lo(r))).join(",")),t.endAt&&(i+="|ub:",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map((r=>lo(r))).join(",")),t.Te=i}return t.Te}function Wm(s,t){if(s.limit!==t.limit||s.orderBy.length!==t.orderBy.length)return!1;for(let i=0;i<s.orderBy.length;i++)if(!N2(s.orderBy[i],t.orderBy[i]))return!1;if(s.filters.length!==t.filters.length)return!1;for(let i=0;i<s.filters.length;i++)if(!aE(s.filters[i],t.filters[i]))return!1;return s.collectionGroup===t.collectionGroup&&!!s.path.isEqual(t.path)&&!!a0(s.startAt,t.startAt)&&a0(s.endAt,t.endAt)}function Em(s){return ft.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vo{constructor(t,i=null,r=[],l=[],c=null,d="F",p=null,_=null){this.path=t,this.collectionGroup=i,this.explicitOrderBy=r,this.filters=l,this.limit=c,this.limitType=d,this.startAt=p,this.endAt=_,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function z2(s,t,i,r,l,c,d,p){return new vo(s,t,i,r,l,c,d,p)}function Ch(s){return new vo(s)}function l0(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}function uE(s){return s.collectionGroup!==null}function xl(s){const t=wt(s);if(t.Ie===null){t.Ie=[];const i=new Set;for(const c of t.explicitOrderBy)t.Ie.push(c),i.add(c.field.canonicalString());const r=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(d){let p=new qe(sn.comparator);return d.filters.forEach((_=>{_.getFlattenedFilters().forEach((y=>{y.isInequality()&&(p=p.add(y.field))}))})),p})(t).forEach((c=>{i.has(c.canonicalString())||c.isKeyField()||t.Ie.push(new Bl(c,r))})),i.has(sn.keyField().canonicalString())||t.Ie.push(new Bl(sn.keyField(),r))}return t.Ie}function Li(s){const t=wt(s);return t.Ee||(t.Ee=j2(t,xl(s))),t.Ee}function j2(s,t){if(s.limitType==="F")return o0(s.path,s.collectionGroup,t,s.filters,s.limit,s.startAt,s.endAt);{t=t.map((l=>{const c=l.dir==="desc"?"asc":"desc";return new Bl(l.field,c)}));const i=s.endAt?new fh(s.endAt.position,s.endAt.inclusive):null,r=s.startAt?new fh(s.startAt.position,s.startAt.inclusive):null;return o0(s.path,s.collectionGroup,t,s.filters,s.limit,i,r)}}function Am(s,t){const i=s.filters.concat([t]);return new vo(s.path,s.collectionGroup,s.explicitOrderBy.slice(),i,s.limit,s.limitType,s.startAt,s.endAt)}function Sm(s,t,i){return new vo(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),t,i,s.startAt,s.endAt)}function Nh(s,t){return Wm(Li(s),Li(t))&&s.limitType===t.limitType}function cE(s){return`${Jm(Li(s))}|lt:${s.limitType}`}function Xa(s){return`Query(target=${(function(i){let r=i.path.canonicalString();return i.collectionGroup!==null&&(r+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(r+=`, filters: [${i.filters.map((l=>oE(l))).join(", ")}]`),Jl(i.limit)||(r+=", limit: "+i.limit),i.orderBy.length>0&&(r+=`, orderBy: [${i.orderBy.map((l=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(l))).join(", ")}]`),i.startAt&&(r+=", startAt: ",r+=i.startAt.inclusive?"b:":"a:",r+=i.startAt.position.map((l=>lo(l))).join(",")),i.endAt&&(r+=", endAt: ",r+=i.endAt.inclusive?"a:":"b:",r+=i.endAt.position.map((l=>lo(l))).join(",")),`Target(${r})`})(Li(s))}; limitType=${s.limitType})`}function Dh(s,t){return t.isFoundDocument()&&(function(r,l){const c=l.key.path;return r.collectionGroup!==null?l.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(c):ft.isDocumentKey(r.path)?r.path.isEqual(c):r.path.isImmediateParentOf(c)})(s,t)&&(function(r,l){for(const c of xl(r))if(!c.field.isKeyField()&&l.data.field(c.field)===null)return!1;return!0})(s,t)&&(function(r,l){for(const c of r.filters)if(!c.matches(l))return!1;return!0})(s,t)&&(function(r,l){return!(r.startAt&&!(function(d,p,_){const y=r0(d,p,_);return d.inclusive?y<=0:y<0})(r.startAt,xl(r),l)||r.endAt&&!(function(d,p,_){const y=r0(d,p,_);return d.inclusive?y>=0:y>0})(r.endAt,xl(r),l))})(s,t)}function B2(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function hE(s){return(t,i)=>{let r=!1;for(const l of xl(s)){const c=q2(l,t,i);if(c!==0)return c;r=r||l.field.isKeyField()}return 0}}function q2(s,t,i){const r=s.field.isKeyField()?ft.comparator(t.key,i.key):(function(c,d,p){const _=d.data.field(c),y=p.data.field(c);return _!==null&&y!==null?oo(_,y):pt(42886)})(s.field,t,i);switch(s.dir){case"asc":return r;case"desc":return-1*r;default:return pt(19790,{direction:s.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sa{constructor(t,i){this.mapKeyFn=t,this.equalsFn=i,this.inner={},this.innerSize=0}get(t){const i=this.mapKeyFn(t),r=this.inner[i];if(r!==void 0){for(const[l,c]of r)if(this.equalsFn(l,t))return c}}has(t){return this.get(t)!==void 0}set(t,i){const r=this.mapKeyFn(t),l=this.inner[r];if(l===void 0)return this.inner[r]=[[t,i]],void this.innerSize++;for(let c=0;c<l.length;c++)if(this.equalsFn(l[c][0],t))return void(l[c]=[t,i]);l.push([t,i]),this.innerSize++}delete(t){const i=this.mapKeyFn(t),r=this.inner[i];if(r===void 0)return!1;for(let l=0;l<r.length;l++)if(this.equalsFn(r[l][0],t))return r.length===1?delete this.inner[i]:r.splice(l,1),this.innerSize--,!0;return!1}forEach(t){pr(this.inner,((i,r)=>{for(const[l,c]of r)t(l,c)}))}isEmpty(){return KT(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H2=new Te(ft.comparator);function ms(){return H2}const fE=new Te(ft.comparator);function wl(...s){let t=fE;for(const i of s)t=t.insert(i.key,i);return t}function dE(s){let t=fE;return s.forEach(((i,r)=>t=t.insert(i,r.overlayedDocument))),t}function $r(){return Ol()}function mE(){return Ol()}function Ol(){return new sa((s=>s.toString()),((s,t)=>s.isEqual(t)))}const F2=new Te(ft.comparator),G2=new qe(ft.comparator);function qt(...s){let t=G2;for(const i of s)t=t.add(i);return t}const Q2=new qe(Bt);function Y2(){return Q2}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tg(s,t){if(s.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:uh(t)?"-0":t}}function gE(s){return{integerValue:""+s}}function pE(s,t){return E2(t)?gE(t):tg(s,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xh{constructor(){this._=void 0}}function K2(s,t,i){return s instanceof ql?(function(l,c){const d={fields:{[ZT]:{stringValue:$T},[WT]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return c&&$m(c)&&(c=Ih(c)),c&&(d.fields[JT]=c),{mapValue:d}})(i,t):s instanceof Hl?_E(s,t):s instanceof Fl?vE(s,t):(function(l,c){const d=yE(l,c),p=u0(d)+u0(l.Ae);return vm(d)&&vm(l.Ae)?gE(p):tg(l.serializer,p)})(s,t)}function X2(s,t,i){return s instanceof Hl?_E(s,t):s instanceof Fl?vE(s,t):i}function yE(s,t){return s instanceof Gl?(function(r){return vm(r)||(function(c){return!!c&&"doubleValue"in c})(r)})(t)?t:{integerValue:0}:null}class ql extends xh{}class Hl extends xh{constructor(t){super(),this.elements=t}}function _E(s,t){const i=TE(t);for(const r of s.elements)i.some((l=>ji(l,r)))||i.push(r);return{arrayValue:{values:i}}}class Fl extends xh{constructor(t){super(),this.elements=t}}function vE(s,t){let i=TE(t);for(const r of s.elements)i=i.filter((l=>!ji(l,r)));return{arrayValue:{values:i}}}class Gl extends xh{constructor(t,i){super(),this.serializer=t,this.Ae=i}}function u0(s){return Ce(s.integerValue||s.doubleValue)}function TE(s){return Zm(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EE{constructor(t,i){this.field=t,this.transform=i}}function $2(s,t){return s.field.isEqual(t.field)&&(function(r,l){return r instanceof Hl&&l instanceof Hl||r instanceof Fl&&l instanceof Fl?ao(r.elements,l.elements,ji):r instanceof Gl&&l instanceof Gl?ji(r.Ae,l.Ae):r instanceof ql&&l instanceof ql})(s.transform,t.transform)}class Z2{constructor(t,i){this.version=t,this.transformResults=i}}class un{constructor(t,i){this.updateTime=t,this.exists=i}static none(){return new un}static exists(t){return new un(void 0,t)}static updateTime(t){return new un(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Jc(s,t){return s.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(s.updateTime):s.exists===void 0||s.exists===t.isFoundDocument()}class Oh{}function AE(s,t){if(!s.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return s.isNoDocument()?new eg(s.key,un.none()):new Wl(s.key,s.data,un.none());{const i=s.data,r=dn.empty();let l=new qe(sn.comparator);for(let c of t.fields)if(!l.has(c)){let d=i.field(c);d===null&&c.length>1&&(c=c.popLast(),d=i.field(c)),d===null?r.delete(c):r.set(c,d),l=l.add(c)}return new yr(s.key,r,new Mn(l.toArray()),un.none())}}function J2(s,t,i){s instanceof Wl?(function(l,c,d){const p=l.value.clone(),_=h0(l.fieldTransforms,c,d.transformResults);p.setAll(_),c.convertToFoundDocument(d.version,p).setHasCommittedMutations()})(s,t,i):s instanceof yr?(function(l,c,d){if(!Jc(l.precondition,c))return void c.convertToUnknownDocument(d.version);const p=h0(l.fieldTransforms,c,d.transformResults),_=c.data;_.setAll(SE(l)),_.setAll(p),c.convertToFoundDocument(d.version,_).setHasCommittedMutations()})(s,t,i):(function(l,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()})(0,t,i)}function Ml(s,t,i,r){return s instanceof Wl?(function(c,d,p,_){if(!Jc(c.precondition,d))return p;const y=c.value.clone(),A=f0(c.fieldTransforms,_,d);return y.setAll(A),d.convertToFoundDocument(d.version,y).setHasLocalMutations(),null})(s,t,i,r):s instanceof yr?(function(c,d,p,_){if(!Jc(c.precondition,d))return p;const y=f0(c.fieldTransforms,_,d),A=d.data;return A.setAll(SE(c)),A.setAll(y),d.convertToFoundDocument(d.version,A).setHasLocalMutations(),p===null?null:p.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((S=>S.field)))})(s,t,i,r):(function(c,d,p){return Jc(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):p})(s,t,i)}function W2(s,t){let i=null;for(const r of s.fieldTransforms){const l=t.data.field(r.field),c=yE(r.transform,l||null);c!=null&&(i===null&&(i=dn.empty()),i.set(r.field,c))}return i||null}function c0(s,t){return s.type===t.type&&!!s.key.isEqual(t.key)&&!!s.precondition.isEqual(t.precondition)&&!!(function(r,l){return r===void 0&&l===void 0||!(!r||!l)&&ao(r,l,((c,d)=>$2(c,d)))})(s.fieldTransforms,t.fieldTransforms)&&(s.type===0?s.value.isEqual(t.value):s.type!==1||s.data.isEqual(t.data)&&s.fieldMask.isEqual(t.fieldMask))}class Wl extends Oh{constructor(t,i,r,l=[]){super(),this.key=t,this.value=i,this.precondition=r,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class yr extends Oh{constructor(t,i,r,l,c=[]){super(),this.key=t,this.data=i,this.fieldMask=r,this.precondition=l,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function SE(s){const t=new Map;return s.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const r=s.data.field(i);t.set(i,r)}})),t}function h0(s,t,i){const r=new Map;Kt(s.length===i.length,32656,{Re:i.length,Ve:s.length});for(let l=0;l<i.length;l++){const c=s[l],d=c.transform,p=t.data.field(c.field);r.set(c.field,X2(d,p,i[l]))}return r}function f0(s,t,i){const r=new Map;for(const l of s){const c=l.transform,d=i.data.field(l.field);r.set(l.field,K2(c,d,t))}return r}class eg extends Oh{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class bE extends Oh{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tI{constructor(t,i,r,l){this.batchId=t,this.localWriteTime=i,this.baseMutations=r,this.mutations=l}applyToRemoteDocument(t,i){const r=i.mutationResults;for(let l=0;l<this.mutations.length;l++){const c=this.mutations[l];c.key.isEqual(t.key)&&J2(c,t,r[l])}}applyToLocalView(t,i){for(const r of this.baseMutations)r.key.isEqual(t.key)&&(i=Ml(r,t,i,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(t.key)&&(i=Ml(r,t,i,this.localWriteTime));return i}applyToLocalDocumentSet(t,i){const r=mE();return this.mutations.forEach((l=>{const c=t.get(l.key),d=c.overlayedDocument;let p=this.applyToLocalView(d,c.mutatedFields);p=i.has(l.key)?null:p;const _=AE(d,p);_!==null&&r.set(l.key,_),d.isValidDocument()||d.convertToNoDocument(Tt.min())})),r}keys(){return this.mutations.reduce(((t,i)=>t.add(i.key)),qt())}isEqual(t){return this.batchId===t.batchId&&ao(this.mutations,t.mutations,((i,r)=>c0(i,r)))&&ao(this.baseMutations,t.baseMutations,((i,r)=>c0(i,r)))}}class ng{constructor(t,i,r,l){this.batch=t,this.commitVersion=i,this.mutationResults=r,this.docVersions=l}static from(t,i,r){Kt(t.mutations.length===r.length,58842,{me:t.mutations.length,fe:r.length});let l=(function(){return F2})();const c=t.mutations;for(let d=0;d<c.length;d++)l=l.insert(c[d].key,r[d].version);return new ng(t,i,r,l)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eI{constructor(t,i){this.largestBatchId=t,this.mutation=i}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nI{constructor(t,i){this.count=t,this.unchangedNames=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Pe,Yt;function wE(s){switch(s){case Q.OK:return pt(64938);case Q.CANCELLED:case Q.UNKNOWN:case Q.DEADLINE_EXCEEDED:case Q.RESOURCE_EXHAUSTED:case Q.INTERNAL:case Q.UNAVAILABLE:case Q.UNAUTHENTICATED:return!1;case Q.INVALID_ARGUMENT:case Q.NOT_FOUND:case Q.ALREADY_EXISTS:case Q.PERMISSION_DENIED:case Q.FAILED_PRECONDITION:case Q.ABORTED:case Q.OUT_OF_RANGE:case Q.UNIMPLEMENTED:case Q.DATA_LOSS:return!0;default:return pt(15467,{code:s})}}function RE(s){if(s===void 0)return ds("GRPC error has no .code"),Q.UNKNOWN;switch(s){case Pe.OK:return Q.OK;case Pe.CANCELLED:return Q.CANCELLED;case Pe.UNKNOWN:return Q.UNKNOWN;case Pe.DEADLINE_EXCEEDED:return Q.DEADLINE_EXCEEDED;case Pe.RESOURCE_EXHAUSTED:return Q.RESOURCE_EXHAUSTED;case Pe.INTERNAL:return Q.INTERNAL;case Pe.UNAVAILABLE:return Q.UNAVAILABLE;case Pe.UNAUTHENTICATED:return Q.UNAUTHENTICATED;case Pe.INVALID_ARGUMENT:return Q.INVALID_ARGUMENT;case Pe.NOT_FOUND:return Q.NOT_FOUND;case Pe.ALREADY_EXISTS:return Q.ALREADY_EXISTS;case Pe.PERMISSION_DENIED:return Q.PERMISSION_DENIED;case Pe.FAILED_PRECONDITION:return Q.FAILED_PRECONDITION;case Pe.ABORTED:return Q.ABORTED;case Pe.OUT_OF_RANGE:return Q.OUT_OF_RANGE;case Pe.UNIMPLEMENTED:return Q.UNIMPLEMENTED;case Pe.DATA_LOSS:return Q.DATA_LOSS;default:return pt(39323,{code:s})}}(Yt=Pe||(Pe={}))[Yt.OK=0]="OK",Yt[Yt.CANCELLED=1]="CANCELLED",Yt[Yt.UNKNOWN=2]="UNKNOWN",Yt[Yt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Yt[Yt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Yt[Yt.NOT_FOUND=5]="NOT_FOUND",Yt[Yt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Yt[Yt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Yt[Yt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Yt[Yt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Yt[Yt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Yt[Yt.ABORTED=10]="ABORTED",Yt[Yt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Yt[Yt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Yt[Yt.INTERNAL=13]="INTERNAL",Yt[Yt.UNAVAILABLE=14]="UNAVAILABLE",Yt[Yt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iI(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sI=new or([4294967295,4294967295],0);function d0(s){const t=iI().encode(s),i=new PT;return i.update(t),new Uint8Array(i.digest())}function m0(s){const t=new DataView(s.buffer),i=t.getUint32(0,!0),r=t.getUint32(4,!0),l=t.getUint32(8,!0),c=t.getUint32(12,!0);return[new or([i,r],0),new or([l,c],0)]}class ig{constructor(t,i,r){if(this.bitmap=t,this.padding=i,this.hashCount=r,i<0||i>=8)throw new Rl(`Invalid padding: ${i}`);if(r<0)throw new Rl(`Invalid hash count: ${r}`);if(t.length>0&&this.hashCount===0)throw new Rl(`Invalid hash count: ${r}`);if(t.length===0&&i!==0)throw new Rl(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*t.length-i,this.pe=or.fromNumber(this.ge)}ye(t,i,r){let l=t.add(i.multiply(or.fromNumber(r)));return l.compare(sI)===1&&(l=new or([l.getBits(0),l.getBits(1)],0)),l.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const i=d0(t),[r,l]=m0(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(r,l,c);if(!this.we(d))return!1}return!0}static create(t,i,r){const l=t%8==0?0:8-t%8,c=new Uint8Array(Math.ceil(t/8)),d=new ig(c,l,i);return r.forEach((p=>d.insert(p))),d}insert(t){if(this.ge===0)return;const i=d0(t),[r,l]=m0(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(r,l,c);this.Se(d)}}Se(t){const i=Math.floor(t/8),r=t%8;this.bitmap[i]|=1<<r}}class Rl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mh{constructor(t,i,r,l,c){this.snapshotVersion=t,this.targetChanges=i,this.targetMismatches=r,this.documentUpdates=l,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(t,i,r){const l=new Map;return l.set(t,tu.createSynthesizedTargetChangeForCurrentChange(t,i,r)),new Mh(Tt.min(),l,new Te(Bt),ms(),qt())}}class tu{constructor(t,i,r,l,c){this.resumeToken=t,this.current=i,this.addedDocuments=r,this.modifiedDocuments=l,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(t,i,r){return new tu(r,i,qt(),qt(),qt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wc{constructor(t,i,r,l){this.be=t,this.removedTargetIds=i,this.key=r,this.De=l}}class IE{constructor(t,i){this.targetId=t,this.Ce=i}}class CE{constructor(t,i,r=rn.EMPTY_BYTE_STRING,l=null){this.state=t,this.targetIds=i,this.resumeToken=r,this.cause=l}}class g0{constructor(){this.ve=0,this.Fe=p0(),this.Me=rn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=qt(),i=qt(),r=qt();return this.Fe.forEach(((l,c)=>{switch(c){case 0:t=t.add(l);break;case 2:i=i.add(l);break;case 1:r=r.add(l);break;default:pt(38017,{changeType:c})}})),new tu(this.Me,this.xe,t,i,r)}qe(){this.Oe=!1,this.Fe=p0()}Qe(t,i){this.Oe=!0,this.Fe=this.Fe.insert(t,i)}$e(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}Ue(){this.ve+=1}Ke(){this.ve-=1,Kt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class rI{constructor(t){this.Ge=t,this.ze=new Map,this.je=ms(),this.Je=jc(),this.He=jc(),this.Ye=new Te(Bt)}Ze(t){for(const i of t.be)t.De&&t.De.isFoundDocument()?this.Xe(i,t.De):this.et(i,t.key,t.De);for(const i of t.removedTargetIds)this.et(i,t.key,t.De)}tt(t){this.forEachTarget(t,(i=>{const r=this.nt(i);switch(t.state){case 0:this.rt(i)&&r.Le(t.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(t.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(r.We(),r.Le(t.resumeToken));break;case 4:this.rt(i)&&(this.it(i),r.Le(t.resumeToken));break;default:pt(56790,{state:t.state})}}))}forEachTarget(t,i){t.targetIds.length>0?t.targetIds.forEach(i):this.ze.forEach(((r,l)=>{this.rt(l)&&i(l)}))}st(t){const i=t.targetId,r=t.Ce.count,l=this.ot(i);if(l){const c=l.target;if(Em(c))if(r===0){const d=new ft(c.path);this.et(i,d,Ye.newNoDocument(d,Tt.min()))}else Kt(r===1,20013,{expectedCount:r});else{const d=this._t(i);if(d!==r){const p=this.ut(t),_=p?this.ct(p,t,d):1;if(_!==0){this.it(i);const y=_===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(i,y)}}}}}ut(t){const i=t.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:r="",padding:l=0},hashCount:c=0}=i;let d,p;try{d=fr(r).toUint8Array()}catch(_){if(_ instanceof XT)return ro("Decoding the base64 bloom filter in existence filter failed ("+_.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw _}try{p=new ig(d,l,c)}catch(_){return ro(_ instanceof Rl?"BloomFilter error: ":"Applying bloom filter failed: ",_),null}return p.ge===0?null:p}ct(t,i,r){return i.Ce.count===r-this.Pt(t,i.targetId)?0:2}Pt(t,i){const r=this.Ge.getRemoteKeysForTarget(i);let l=0;return r.forEach((c=>{const d=this.Ge.ht(),p=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;t.mightContain(p)||(this.et(i,c,null),l++)})),l}Tt(t){const i=new Map;this.ze.forEach(((c,d)=>{const p=this.ot(d);if(p){if(c.current&&Em(p.target)){const _=new ft(p.target.path);this.It(_).has(d)||this.Et(d,_)||this.et(d,_,Ye.newNoDocument(_,t))}c.Be&&(i.set(d,c.ke()),c.qe())}}));let r=qt();this.He.forEach(((c,d)=>{let p=!0;d.forEachWhile((_=>{const y=this.ot(_);return!y||y.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)})),p&&(r=r.add(c))})),this.je.forEach(((c,d)=>d.setReadTime(t)));const l=new Mh(t,i,this.Ye,this.je,r);return this.je=ms(),this.Je=jc(),this.He=jc(),this.Ye=new Te(Bt),l}Xe(t,i){if(!this.rt(t))return;const r=this.Et(t,i.key)?2:0;this.nt(t).Qe(i.key,r),this.je=this.je.insert(i.key,i),this.Je=this.Je.insert(i.key,this.It(i.key).add(t)),this.He=this.He.insert(i.key,this.dt(i.key).add(t))}et(t,i,r){if(!this.rt(t))return;const l=this.nt(t);this.Et(t,i)?l.Qe(i,1):l.$e(i),this.He=this.He.insert(i,this.dt(i).delete(t)),this.He=this.He.insert(i,this.dt(i).add(t)),r&&(this.je=this.je.insert(i,r))}removeTarget(t){this.ze.delete(t)}_t(t){const i=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+i.addedDocuments.size-i.removedDocuments.size}Ue(t){this.nt(t).Ue()}nt(t){let i=this.ze.get(t);return i||(i=new g0,this.ze.set(t,i)),i}dt(t){let i=this.He.get(t);return i||(i=new qe(Bt),this.He=this.He.insert(t,i)),i}It(t){let i=this.Je.get(t);return i||(i=new qe(Bt),this.Je=this.Je.insert(t,i)),i}rt(t){const i=this.ot(t)!==null;return i||ot("WatchChangeAggregator","Detected inactive target",t),i}ot(t){const i=this.ze.get(t);return i&&i.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new g0),this.Ge.getRemoteKeysForTarget(t).forEach((i=>{this.et(t,i,null)}))}Et(t,i){return this.Ge.getRemoteKeysForTarget(t).has(i)}}function jc(){return new Te(ft.comparator)}function p0(){return new Te(ft.comparator)}const aI={asc:"ASCENDING",desc:"DESCENDING"},oI={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},lI={and:"AND",or:"OR"};class uI{constructor(t,i){this.databaseId=t,this.useProto3Json=i}}function bm(s,t){return s.useProto3Json||Jl(t)?t:{value:t}}function dh(s,t){return s.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function NE(s,t){return s.useProto3Json?t.toBase64():t.toUint8Array()}function cI(s,t){return dh(s,t.toTimestamp())}function Vn(s){return Kt(!!s,49232),Tt.fromTimestamp((function(i){const r=hr(i);return new pe(r.seconds,r.nanos)})(s))}function sg(s,t){return wm(s,t).canonicalString()}function wm(s,t){const i=(function(l){return new le(["projects",l.projectId,"databases",l.database])})(s).child("documents");return t===void 0?i:i.child(t)}function DE(s){const t=le.fromString(s);return Kt(LE(t),10190,{key:t.toString()}),t}function mh(s,t){return sg(s.databaseId,t.path)}function Vl(s,t){const i=DE(t);if(i.get(1)!==s.databaseId.projectId)throw new it(Q.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+s.databaseId.projectId);if(i.get(3)!==s.databaseId.database)throw new it(Q.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+s.databaseId.database);return new ft(OE(i))}function xE(s,t){return sg(s.databaseId,t)}function hI(s){const t=DE(s);return t.length===4?le.emptyPath():OE(t)}function Rm(s){return new le(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function OE(s){return Kt(s.length>4&&s.get(4)==="documents",29091,{key:s.toString()}),s.popFirst(5)}function y0(s,t,i){return{name:mh(s,t),fields:i.value.mapValue.fields}}function fI(s,t){return"found"in t?(function(r,l){Kt(!!l.found,43571),l.found.name,l.found.updateTime;const c=Vl(r,l.found.name),d=Vn(l.found.updateTime),p=l.found.createTime?Vn(l.found.createTime):Tt.min(),_=new dn({mapValue:{fields:l.found.fields}});return Ye.newFoundDocument(c,d,p,_)})(s,t):"missing"in t?(function(r,l){Kt(!!l.missing,3894),Kt(!!l.readTime,22933);const c=Vl(r,l.missing),d=Vn(l.readTime);return Ye.newNoDocument(c,d)})(s,t):pt(7234,{result:t})}function dI(s,t){let i;if("targetChange"in t){t.targetChange;const r=(function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:pt(39313,{state:y})})(t.targetChange.targetChangeType||"NO_CHANGE"),l=t.targetChange.targetIds||[],c=(function(y,A){return y.useProto3Json?(Kt(A===void 0||typeof A=="string",58123),rn.fromBase64String(A||"")):(Kt(A===void 0||A instanceof Buffer||A instanceof Uint8Array,16193),rn.fromUint8Array(A||new Uint8Array))})(s,t.targetChange.resumeToken),d=t.targetChange.cause,p=d&&(function(y){const A=y.code===void 0?Q.UNKNOWN:RE(y.code);return new it(A,y.message||"")})(d);i=new CE(r,l,c,p||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const l=Vl(s,r.document.name),c=Vn(r.document.updateTime),d=r.document.createTime?Vn(r.document.createTime):Tt.min(),p=new dn({mapValue:{fields:r.document.fields}}),_=Ye.newFoundDocument(l,c,d,p),y=r.targetIds||[],A=r.removedTargetIds||[];i=new Wc(y,A,_.key,_)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const l=Vl(s,r.document),c=r.readTime?Vn(r.readTime):Tt.min(),d=Ye.newNoDocument(l,c),p=r.removedTargetIds||[];i=new Wc([],p,d.key,d)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const l=Vl(s,r.document),c=r.removedTargetIds||[];i=new Wc([],c,l,null)}else{if(!("filter"in t))return pt(11601,{Rt:t});{t.filter;const r=t.filter;r.targetId;const{count:l=0,unchangedNames:c}=r,d=new nI(l,c),p=r.targetId;i=new IE(p,d)}}return i}function ME(s,t){let i;if(t instanceof Wl)i={update:y0(s,t.key,t.value)};else if(t instanceof eg)i={delete:mh(s,t.key)};else if(t instanceof yr)i={update:y0(s,t.key,t.data),updateMask:AI(t.fieldMask)};else{if(!(t instanceof bE))return pt(16599,{Vt:t.type});i={verify:mh(s,t.key)}}return t.fieldTransforms.length>0&&(i.updateTransforms=t.fieldTransforms.map((r=>(function(c,d){const p=d.transform;if(p instanceof ql)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof Hl)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof Fl)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof Gl)return{fieldPath:d.field.canonicalString(),increment:p.Ae};throw pt(20930,{transform:d.transform})})(0,r)))),t.precondition.isNone||(i.currentDocument=(function(l,c){return c.updateTime!==void 0?{updateTime:cI(l,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:pt(27497)})(s,t.precondition)),i}function mI(s,t){return s&&s.length>0?(Kt(t!==void 0,14353),s.map((i=>(function(l,c){let d=l.updateTime?Vn(l.updateTime):Vn(c);return d.isEqual(Tt.min())&&(d=Vn(c)),new Z2(d,l.transformResults||[])})(i,t)))):[]}function gI(s,t){return{documents:[xE(s,t.path)]}}function pI(s,t){const i={structuredQuery:{}},r=t.path;let l;t.collectionGroup!==null?(l=r,i.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(l=r.popLast(),i.structuredQuery.from=[{collectionId:r.lastSegment()}]),i.parent=xE(s,l);const c=(function(y){if(y.length!==0)return UE(hi.create(y,"and"))})(t.filters);c&&(i.structuredQuery.where=c);const d=(function(y){if(y.length!==0)return y.map((A=>(function(N){return{field:$a(N.field),direction:vI(N.dir)}})(A)))})(t.orderBy);d&&(i.structuredQuery.orderBy=d);const p=bm(s,t.limit);return p!==null&&(i.structuredQuery.limit=p),t.startAt&&(i.structuredQuery.startAt=(function(y){return{before:y.inclusive,values:y.position}})(t.startAt)),t.endAt&&(i.structuredQuery.endAt=(function(y){return{before:!y.inclusive,values:y.position}})(t.endAt)),{ft:i,parent:l}}function yI(s){let t=hI(s.parent);const i=s.structuredQuery,r=i.from?i.from.length:0;let l=null;if(r>0){Kt(r===1,65062);const A=i.from[0];A.allDescendants?l=A.collectionId:t=t.child(A.collectionId)}let c=[];i.where&&(c=(function(S){const N=VE(S);return N instanceof hi&&rE(N)?N.getFilters():[N]})(i.where));let d=[];i.orderBy&&(d=(function(S){return S.map((N=>(function(J){return new Bl(Za(J.field),(function(W){switch(W){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(J.direction))})(N)))})(i.orderBy));let p=null;i.limit&&(p=(function(S){let N;return N=typeof S=="object"?S.value:S,Jl(N)?null:N})(i.limit));let _=null;i.startAt&&(_=(function(S){const N=!!S.before,G=S.values||[];return new fh(G,N)})(i.startAt));let y=null;return i.endAt&&(y=(function(S){const N=!S.before,G=S.values||[];return new fh(G,N)})(i.endAt)),z2(t,l,d,c,p,"F",_,y)}function _I(s,t){const i=(function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return pt(28987,{purpose:l})}})(t.purpose);return i==null?null:{"goog-listen-tags":i}}function VE(s){return s.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const r=Za(i.unaryFilter.field);return ke.create(r,"==",{doubleValue:NaN});case"IS_NULL":const l=Za(i.unaryFilter.field);return ke.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=Za(i.unaryFilter.field);return ke.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=Za(i.unaryFilter.field);return ke.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return pt(61313);default:return pt(60726)}})(s):s.fieldFilter!==void 0?(function(i){return ke.create(Za(i.fieldFilter.field),(function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return pt(58110);default:return pt(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(s):s.compositeFilter!==void 0?(function(i){return hi.create(i.compositeFilter.filters.map((r=>VE(r))),(function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return pt(1026)}})(i.compositeFilter.op))})(s):pt(30097,{filter:s})}function vI(s){return aI[s]}function TI(s){return oI[s]}function EI(s){return lI[s]}function $a(s){return{fieldPath:s.canonicalString()}}function Za(s){return sn.fromServerFormat(s.fieldPath)}function UE(s){return s instanceof ke?(function(i){if(i.op==="=="){if(s0(i.value))return{unaryFilter:{field:$a(i.field),op:"IS_NAN"}};if(i0(i.value))return{unaryFilter:{field:$a(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(s0(i.value))return{unaryFilter:{field:$a(i.field),op:"IS_NOT_NAN"}};if(i0(i.value))return{unaryFilter:{field:$a(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:$a(i.field),op:TI(i.op),value:i.value}}})(s):s instanceof hi?(function(i){const r=i.getFilters().map((l=>UE(l)));return r.length===1?r[0]:{compositeFilter:{op:EI(i.op),filters:r}}})(s):pt(54877,{filter:s})}function AI(s){const t=[];return s.fields.forEach((i=>t.push(i.canonicalString()))),{fieldPaths:t}}function LE(s){return s.length>=4&&s.get(0)==="projects"&&s.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ir{constructor(t,i,r,l,c=Tt.min(),d=Tt.min(),p=rn.EMPTY_BYTE_STRING,_=null){this.target=t,this.targetId=i,this.purpose=r,this.sequenceNumber=l,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=p,this.expectedCount=_}withSequenceNumber(t){return new ir(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,i){return new ir(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new ir(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new ir(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SI{constructor(t){this.yt=t}}function bI(s){const t=yI({parent:s.parent,structuredQuery:s.structuredQuery});return s.limitType==="LAST"?Sm(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wI{constructor(){this.Cn=new RI}addToCollectionParentIndex(t,i){return this.Cn.add(i),$.resolve()}getCollectionParents(t,i){return $.resolve(this.Cn.getEntries(i))}addFieldIndex(t,i){return $.resolve()}deleteFieldIndex(t,i){return $.resolve()}deleteAllFieldIndexes(t){return $.resolve()}createTargetIndexes(t,i){return $.resolve()}getDocumentsMatchingTarget(t,i){return $.resolve(null)}getIndexType(t,i){return $.resolve(0)}getFieldIndexes(t,i){return $.resolve([])}getNextCollectionGroupToUpdate(t){return $.resolve(null)}getMinOffset(t,i){return $.resolve(cr.min())}getMinOffsetFromCollectionGroup(t,i){return $.resolve(cr.min())}updateCollectionGroup(t,i,r){return $.resolve()}updateIndexEntries(t,i){return $.resolve()}}class RI{constructor(){this.index={}}add(t){const i=t.lastSegment(),r=t.popLast(),l=this.index[i]||new qe(le.comparator),c=!l.has(r);return this.index[i]=l.add(r),c}has(t){const i=t.lastSegment(),r=t.popLast(),l=this.index[i];return l&&l.has(r)}getEntries(t){return(this.index[t]||new qe(le.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},PE=41943040;class En{static withCacheSize(t){return new En(t,En.DEFAULT_COLLECTION_PERCENTILE,En.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,i,r){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */En.DEFAULT_COLLECTION_PERCENTILE=10,En.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,En.DEFAULT=new En(PE,En.DEFAULT_COLLECTION_PERCENTILE,En.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),En.DISABLED=new En(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uo{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new uo(0)}static cr(){return new uo(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v0="LruGarbageCollector",II=1048576;function T0([s,t],[i,r]){const l=Bt(s,i);return l===0?Bt(t,r):l}class CI{constructor(t){this.Ir=t,this.buffer=new qe(T0),this.Er=0}dr(){return++this.Er}Ar(t){const i=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(i);else{const r=this.buffer.last();T0(i,r)<0&&(this.buffer=this.buffer.delete(r).add(i))}}get maxValue(){return this.buffer.last()[0]}}class NI{constructor(t,i,r){this.garbageCollector=t,this.asyncQueue=i,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(t){ot(v0,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){_o(i)?ot(v0,"Ignoring IndexedDB error during garbage collection: ",i):await yo(i)}await this.Vr(3e5)}))}}class DI{constructor(t,i){this.mr=t,this.params=i}calculateTargetCount(t,i){return this.mr.gr(t).next((r=>Math.floor(i/100*r)))}nthSequenceNumber(t,i){if(i===0)return $.resolve(Rh.ce);const r=new CI(i);return this.mr.forEachTarget(t,(l=>r.Ar(l.sequenceNumber))).next((()=>this.mr.pr(t,(l=>r.Ar(l))))).next((()=>r.maxValue))}removeTargets(t,i,r){return this.mr.removeTargets(t,i,r)}removeOrphanedDocuments(t,i){return this.mr.removeOrphanedDocuments(t,i)}collect(t,i){return this.params.cacheSizeCollectionThreshold===-1?(ot("LruGarbageCollector","Garbage collection skipped; disabled"),$.resolve(_0)):this.getCacheSize(t).next((r=>r<this.params.cacheSizeCollectionThreshold?(ot("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),_0):this.yr(t,i)))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,i){let r,l,c,d,p,_,y;const A=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((S=>(S>this.params.maximumSequenceNumbersToCollect?(ot("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${S}`),l=this.params.maximumSequenceNumbersToCollect):l=S,d=Date.now(),this.nthSequenceNumber(t,l)))).next((S=>(r=S,p=Date.now(),this.removeTargets(t,r,i)))).next((S=>(c=S,_=Date.now(),this.removeOrphanedDocuments(t,r)))).next((S=>(y=Date.now(),Ka()<=jt.DEBUG&&ot("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-A}ms
	Determined least recently used ${l} in `+(p-d)+`ms
	Removed ${c} targets in `+(_-p)+`ms
	Removed ${S} documents in `+(y-_)+`ms
Total Duration: ${y-A}ms`),$.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:c,documentsRemoved:S}))))}}function xI(s,t){return new DI(s,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OI{constructor(){this.changes=new sa((t=>t.toString()),((t,i)=>t.isEqual(i))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,i){this.assertNotApplied(),this.changes.set(t,Ye.newInvalidDocument(t).setReadTime(i))}getEntry(t,i){this.assertNotApplied();const r=this.changes.get(i);return r!==void 0?$.resolve(r):this.getFromCache(t,i)}getEntries(t,i){return this.getAllFromCache(t,i)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MI{constructor(t,i){this.overlayedDocument=t,this.mutatedFields=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VI{constructor(t,i,r,l){this.remoteDocumentCache=t,this.mutationQueue=i,this.documentOverlayCache=r,this.indexManager=l}getDocument(t,i){let r=null;return this.documentOverlayCache.getOverlay(t,i).next((l=>(r=l,this.remoteDocumentCache.getEntry(t,i)))).next((l=>(r!==null&&Ml(r.mutation,l,Mn.empty(),pe.now()),l)))}getDocuments(t,i){return this.remoteDocumentCache.getEntries(t,i).next((r=>this.getLocalViewOfDocuments(t,r,qt()).next((()=>r))))}getLocalViewOfDocuments(t,i,r=qt()){const l=$r();return this.populateOverlays(t,l,i).next((()=>this.computeViews(t,i,l,r).next((c=>{let d=wl();return c.forEach(((p,_)=>{d=d.insert(p,_.overlayedDocument)})),d}))))}getOverlayedDocuments(t,i){const r=$r();return this.populateOverlays(t,r,i).next((()=>this.computeViews(t,i,r,qt())))}populateOverlays(t,i,r){const l=[];return r.forEach((c=>{i.has(c)||l.push(c)})),this.documentOverlayCache.getOverlays(t,l).next((c=>{c.forEach(((d,p)=>{i.set(d,p)}))}))}computeViews(t,i,r,l){let c=ms();const d=Ol(),p=(function(){return Ol()})();return i.forEach(((_,y)=>{const A=r.get(y.key);l.has(y.key)&&(A===void 0||A.mutation instanceof yr)?c=c.insert(y.key,y):A!==void 0?(d.set(y.key,A.mutation.getFieldMask()),Ml(A.mutation,y,A.mutation.getFieldMask(),pe.now())):d.set(y.key,Mn.empty())})),this.recalculateAndSaveOverlays(t,c).next((_=>(_.forEach(((y,A)=>d.set(y,A))),i.forEach(((y,A)=>p.set(y,new MI(A,d.get(y)??null)))),p)))}recalculateAndSaveOverlays(t,i){const r=Ol();let l=new Te(((d,p)=>d-p)),c=qt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,i).next((d=>{for(const p of d)p.keys().forEach((_=>{const y=i.get(_);if(y===null)return;let A=r.get(_)||Mn.empty();A=p.applyToLocalView(y,A),r.set(_,A);const S=(l.get(p.batchId)||qt()).add(_);l=l.insert(p.batchId,S)}))})).next((()=>{const d=[],p=l.getReverseIterator();for(;p.hasNext();){const _=p.getNext(),y=_.key,A=_.value,S=mE();A.forEach((N=>{if(!c.has(N)){const G=AE(i.get(N),r.get(N));G!==null&&S.set(N,G),c=c.add(N)}})),d.push(this.documentOverlayCache.saveOverlays(t,y,S))}return $.waitFor(d)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(t,i){return this.remoteDocumentCache.getEntries(t,i).next((r=>this.recalculateAndSaveOverlays(t,r)))}getDocumentsMatchingQuery(t,i,r,l){return(function(d){return ft.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0})(i)?this.getDocumentsMatchingDocumentQuery(t,i.path):uE(i)?this.getDocumentsMatchingCollectionGroupQuery(t,i,r,l):this.getDocumentsMatchingCollectionQuery(t,i,r,l)}getNextDocuments(t,i,r,l){return this.remoteDocumentCache.getAllFromCollectionGroup(t,i,r,l).next((c=>{const d=l-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,i,r.largestBatchId,l-c.size):$.resolve($r());let p=Pl,_=c;return d.next((y=>$.forEach(y,((A,S)=>(p<S.largestBatchId&&(p=S.largestBatchId),c.get(A)?$.resolve():this.remoteDocumentCache.getEntry(t,A).next((N=>{_=_.insert(A,N)}))))).next((()=>this.populateOverlays(t,y,c))).next((()=>this.computeViews(t,_,y,qt()))).next((A=>({batchId:p,changes:dE(A)})))))}))}getDocumentsMatchingDocumentQuery(t,i){return this.getDocument(t,new ft(i)).next((r=>{let l=wl();return r.isFoundDocument()&&(l=l.insert(r.key,r)),l}))}getDocumentsMatchingCollectionGroupQuery(t,i,r,l){const c=i.collectionGroup;let d=wl();return this.indexManager.getCollectionParents(t,c).next((p=>$.forEach(p,(_=>{const y=(function(S,N){return new vo(N,null,S.explicitOrderBy.slice(),S.filters.slice(),S.limit,S.limitType,S.startAt,S.endAt)})(i,_.child(c));return this.getDocumentsMatchingCollectionQuery(t,y,r,l).next((A=>{A.forEach(((S,N)=>{d=d.insert(S,N)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(t,i,r,l){let c;return this.documentOverlayCache.getOverlaysForCollection(t,i.path,r.largestBatchId).next((d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(t,i,r,c,l)))).next((d=>{c.forEach(((_,y)=>{const A=y.getKey();d.get(A)===null&&(d=d.insert(A,Ye.newInvalidDocument(A)))}));let p=wl();return d.forEach(((_,y)=>{const A=c.get(_);A!==void 0&&Ml(A.mutation,y,Mn.empty(),pe.now()),Dh(i,y)&&(p=p.insert(_,y))})),p}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UI{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,i){return $.resolve(this.Lr.get(i))}saveBundleMetadata(t,i){return this.Lr.set(i.id,(function(l){return{id:l.id,version:l.version,createTime:Vn(l.createTime)}})(i)),$.resolve()}getNamedQuery(t,i){return $.resolve(this.kr.get(i))}saveNamedQuery(t,i){return this.kr.set(i.name,(function(l){return{name:l.name,query:bI(l.bundledQuery),readTime:Vn(l.readTime)}})(i)),$.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LI{constructor(){this.overlays=new Te(ft.comparator),this.qr=new Map}getOverlay(t,i){return $.resolve(this.overlays.get(i))}getOverlays(t,i){const r=$r();return $.forEach(i,(l=>this.getOverlay(t,l).next((c=>{c!==null&&r.set(l,c)})))).next((()=>r))}saveOverlays(t,i,r){return r.forEach(((l,c)=>{this.St(t,i,c)})),$.resolve()}removeOverlaysForBatchId(t,i,r){const l=this.qr.get(r);return l!==void 0&&(l.forEach((c=>this.overlays=this.overlays.remove(c))),this.qr.delete(r)),$.resolve()}getOverlaysForCollection(t,i,r){const l=$r(),c=i.length+1,d=new ft(i.child("")),p=this.overlays.getIteratorFrom(d);for(;p.hasNext();){const _=p.getNext().value,y=_.getKey();if(!i.isPrefixOf(y.path))break;y.path.length===c&&_.largestBatchId>r&&l.set(_.getKey(),_)}return $.resolve(l)}getOverlaysForCollectionGroup(t,i,r,l){let c=new Te(((y,A)=>y-A));const d=this.overlays.getIterator();for(;d.hasNext();){const y=d.getNext().value;if(y.getKey().getCollectionGroup()===i&&y.largestBatchId>r){let A=c.get(y.largestBatchId);A===null&&(A=$r(),c=c.insert(y.largestBatchId,A)),A.set(y.getKey(),y)}}const p=$r(),_=c.getIterator();for(;_.hasNext()&&(_.getNext().value.forEach(((y,A)=>p.set(y,A))),!(p.size()>=l)););return $.resolve(p)}St(t,i,r){const l=this.overlays.get(r.key);if(l!==null){const d=this.qr.get(l.largestBatchId).delete(r.key);this.qr.set(l.largestBatchId,d)}this.overlays=this.overlays.insert(r.key,new eI(i,r));let c=this.qr.get(i);c===void 0&&(c=qt(),this.qr.set(i,c)),this.qr.set(i,c.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PI{constructor(){this.sessionToken=rn.EMPTY_BYTE_STRING}getSessionToken(t){return $.resolve(this.sessionToken)}setSessionToken(t,i){return this.sessionToken=i,$.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rg{constructor(){this.Qr=new qe(Qe.$r),this.Ur=new qe(Qe.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,i){const r=new Qe(t,i);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(t,i){t.forEach((r=>this.addReference(r,i)))}removeReference(t,i){this.Gr(new Qe(t,i))}zr(t,i){t.forEach((r=>this.removeReference(r,i)))}jr(t){const i=new ft(new le([])),r=new Qe(i,t),l=new Qe(i,t+1),c=[];return this.Ur.forEachInRange([r,l],(d=>{this.Gr(d),c.push(d.key)})),c}Jr(){this.Qr.forEach((t=>this.Gr(t)))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){const i=new ft(new le([])),r=new Qe(i,t),l=new Qe(i,t+1);let c=qt();return this.Ur.forEachInRange([r,l],(d=>{c=c.add(d.key)})),c}containsKey(t){const i=new Qe(t,0),r=this.Qr.firstAfterOrEqual(i);return r!==null&&t.isEqual(r.key)}}class Qe{constructor(t,i){this.key=t,this.Yr=i}static $r(t,i){return ft.comparator(t.key,i.key)||Bt(t.Yr,i.Yr)}static Kr(t,i){return Bt(t.Yr,i.Yr)||ft.comparator(t.key,i.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kI{constructor(t,i){this.indexManager=t,this.referenceDelegate=i,this.mutationQueue=[],this.tr=1,this.Zr=new qe(Qe.$r)}checkEmpty(t){return $.resolve(this.mutationQueue.length===0)}addMutationBatch(t,i,r,l){const c=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new tI(c,i,r,l);this.mutationQueue.push(d);for(const p of l)this.Zr=this.Zr.add(new Qe(p.key,c)),this.indexManager.addToCollectionParentIndex(t,p.key.path.popLast());return $.resolve(d)}lookupMutationBatch(t,i){return $.resolve(this.Xr(i))}getNextMutationBatchAfterBatchId(t,i){const r=i+1,l=this.ei(r),c=l<0?0:l;return $.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return $.resolve(this.mutationQueue.length===0?Xm:this.tr-1)}getAllMutationBatches(t){return $.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,i){const r=new Qe(i,0),l=new Qe(i,Number.POSITIVE_INFINITY),c=[];return this.Zr.forEachInRange([r,l],(d=>{const p=this.Xr(d.Yr);c.push(p)})),$.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(t,i){let r=new qe(Bt);return i.forEach((l=>{const c=new Qe(l,0),d=new Qe(l,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([c,d],(p=>{r=r.add(p.Yr)}))})),$.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(t,i){const r=i.path,l=r.length+1;let c=r;ft.isDocumentKey(c)||(c=c.child(""));const d=new Qe(new ft(c),0);let p=new qe(Bt);return this.Zr.forEachWhile((_=>{const y=_.key.path;return!!r.isPrefixOf(y)&&(y.length===l&&(p=p.add(_.Yr)),!0)}),d),$.resolve(this.ti(p))}ti(t){const i=[];return t.forEach((r=>{const l=this.Xr(r);l!==null&&i.push(l)})),i}removeMutationBatch(t,i){Kt(this.ni(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return $.forEach(i.mutations,(l=>{const c=new Qe(l.key,i.batchId);return r=r.delete(c),this.referenceDelegate.markPotentiallyOrphaned(t,l.key)})).next((()=>{this.Zr=r}))}ir(t){}containsKey(t,i){const r=new Qe(i,0),l=this.Zr.firstAfterOrEqual(r);return $.resolve(i.isEqual(l&&l.key))}performConsistencyCheck(t){return this.mutationQueue.length,$.resolve()}ni(t,i){return this.ei(t)}ei(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Xr(t){const i=this.ei(t);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zI{constructor(t){this.ri=t,this.docs=(function(){return new Te(ft.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,i){const r=i.key,l=this.docs.get(r),c=l?l.size:0,d=this.ri(i);return this.docs=this.docs.insert(r,{document:i.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(t,r.path.popLast())}removeEntry(t){const i=this.docs.get(t);i&&(this.docs=this.docs.remove(t),this.size-=i.size)}getEntry(t,i){const r=this.docs.get(i);return $.resolve(r?r.document.mutableCopy():Ye.newInvalidDocument(i))}getEntries(t,i){let r=ms();return i.forEach((l=>{const c=this.docs.get(l);r=r.insert(l,c?c.document.mutableCopy():Ye.newInvalidDocument(l))})),$.resolve(r)}getDocumentsMatchingQuery(t,i,r,l){let c=ms();const d=i.path,p=new ft(d.child("__id-9223372036854775808__")),_=this.docs.getIteratorFrom(p);for(;_.hasNext();){const{key:y,value:{document:A}}=_.getNext();if(!d.isPrefixOf(y.path))break;y.path.length>d.length+1||y2(p2(A),r)<=0||(l.has(A.key)||Dh(i,A))&&(c=c.insert(A.key,A.mutableCopy()))}return $.resolve(c)}getAllFromCollectionGroup(t,i,r,l){pt(9500)}ii(t,i){return $.forEach(this.docs,(r=>i(r)))}newChangeBuffer(t){return new jI(this)}getSize(t){return $.resolve(this.size)}}class jI extends OI{constructor(t){super(),this.Nr=t}applyChanges(t){const i=[];return this.changes.forEach(((r,l)=>{l.isValidDocument()?i.push(this.Nr.addEntry(t,l)):this.Nr.removeEntry(r)})),$.waitFor(i)}getFromCache(t,i){return this.Nr.getEntry(t,i)}getAllFromCache(t,i){return this.Nr.getEntries(t,i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BI{constructor(t){this.persistence=t,this.si=new sa((i=>Jm(i)),Wm),this.lastRemoteSnapshotVersion=Tt.min(),this.highestTargetId=0,this.oi=0,this._i=new rg,this.targetCount=0,this.ai=uo.ur()}forEachTarget(t,i){return this.si.forEach(((r,l)=>i(l))),$.resolve()}getLastRemoteSnapshotVersion(t){return $.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return $.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),$.resolve(this.highestTargetId)}setTargetsMetadata(t,i,r){return r&&(this.lastRemoteSnapshotVersion=r),i>this.oi&&(this.oi=i),$.resolve()}Pr(t){this.si.set(t.target,t);const i=t.targetId;i>this.highestTargetId&&(this.ai=new uo(i),this.highestTargetId=i),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,i){return this.Pr(i),this.targetCount+=1,$.resolve()}updateTargetData(t,i){return this.Pr(i),$.resolve()}removeTargetData(t,i){return this.si.delete(i.target),this._i.jr(i.targetId),this.targetCount-=1,$.resolve()}removeTargets(t,i,r){let l=0;const c=[];return this.si.forEach(((d,p)=>{p.sequenceNumber<=i&&r.get(p.targetId)===null&&(this.si.delete(d),c.push(this.removeMatchingKeysForTargetId(t,p.targetId)),l++)})),$.waitFor(c).next((()=>l))}getTargetCount(t){return $.resolve(this.targetCount)}getTargetData(t,i){const r=this.si.get(i)||null;return $.resolve(r)}addMatchingKeys(t,i,r){return this._i.Wr(i,r),$.resolve()}removeMatchingKeys(t,i,r){this._i.zr(i,r);const l=this.persistence.referenceDelegate,c=[];return l&&i.forEach((d=>{c.push(l.markPotentiallyOrphaned(t,d))})),$.waitFor(c)}removeMatchingKeysForTargetId(t,i){return this._i.jr(i),$.resolve()}getMatchingKeysForTargetId(t,i){const r=this._i.Hr(i);return $.resolve(r)}containsKey(t,i){return $.resolve(this._i.containsKey(i))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kE{constructor(t,i){this.ui={},this.overlays={},this.ci=new Rh(0),this.li=!1,this.li=!0,this.hi=new PI,this.referenceDelegate=t(this),this.Pi=new BI(this),this.indexManager=new wI,this.remoteDocumentCache=(function(l){return new zI(l)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new SI(i),this.Ii=new UI(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let i=this.overlays[t.toKey()];return i||(i=new LI,this.overlays[t.toKey()]=i),i}getMutationQueue(t,i){let r=this.ui[t.toKey()];return r||(r=new kI(i,this.referenceDelegate),this.ui[t.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,i,r){ot("MemoryPersistence","Starting transaction:",t);const l=new qI(this.ci.next());return this.referenceDelegate.Ei(),r(l).next((c=>this.referenceDelegate.di(l).next((()=>c)))).toPromise().then((c=>(l.raiseOnCommittedEvent(),c)))}Ai(t,i){return $.or(Object.values(this.ui).map((r=>()=>r.containsKey(t,i))))}}class qI extends v2{constructor(t){super(),this.currentSequenceNumber=t}}class ag{constructor(t){this.persistence=t,this.Ri=new rg,this.Vi=null}static mi(t){return new ag(t)}get fi(){if(this.Vi)return this.Vi;throw pt(60996)}addReference(t,i,r){return this.Ri.addReference(r,i),this.fi.delete(r.toString()),$.resolve()}removeReference(t,i,r){return this.Ri.removeReference(r,i),this.fi.add(r.toString()),$.resolve()}markPotentiallyOrphaned(t,i){return this.fi.add(i.toString()),$.resolve()}removeTarget(t,i){this.Ri.jr(i.targetId).forEach((l=>this.fi.add(l.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,i.targetId).next((l=>{l.forEach((c=>this.fi.add(c.toString())))})).next((()=>r.removeTargetData(t,i)))}Ei(){this.Vi=new Set}di(t){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return $.forEach(this.fi,(r=>{const l=ft.fromPath(r);return this.gi(t,l).next((c=>{c||i.removeEntry(l,Tt.min())}))})).next((()=>(this.Vi=null,i.apply(t))))}updateLimboDocument(t,i){return this.gi(t,i).next((r=>{r?this.fi.delete(i.toString()):this.fi.add(i.toString())}))}Ti(t){return 0}gi(t,i){return $.or([()=>$.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(t,i),()=>this.persistence.Ai(t,i)])}}class gh{constructor(t,i){this.persistence=t,this.pi=new sa((r=>A2(r.path)),((r,l)=>r.isEqual(l))),this.garbageCollector=xI(this,i)}static mi(t,i){return new gh(t,i)}Ei(){}di(t){return $.resolve()}forEachTarget(t,i){return this.persistence.getTargetCache().forEachTarget(t,i)}gr(t){const i=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next((r=>i.next((l=>r+l))))}wr(t){let i=0;return this.pr(t,(r=>{i++})).next((()=>i))}pr(t,i){return $.forEach(this.pi,((r,l)=>this.br(t,r,l).next((c=>c?$.resolve():i(l)))))}removeTargets(t,i,r){return this.persistence.getTargetCache().removeTargets(t,i,r)}removeOrphanedDocuments(t,i){let r=0;const l=this.persistence.getRemoteDocumentCache(),c=l.newChangeBuffer();return l.ii(t,(d=>this.br(t,d,i).next((p=>{p||(r++,c.removeEntry(d,Tt.min()))})))).next((()=>c.apply(t))).next((()=>r))}markPotentiallyOrphaned(t,i){return this.pi.set(i,t.currentSequenceNumber),$.resolve()}removeTarget(t,i){const r=i.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,r)}addReference(t,i,r){return this.pi.set(r,t.currentSequenceNumber),$.resolve()}removeReference(t,i,r){return this.pi.set(r,t.currentSequenceNumber),$.resolve()}updateLimboDocument(t,i){return this.pi.set(i,t.currentSequenceNumber),$.resolve()}Ti(t){let i=t.key.toString().length;return t.isFoundDocument()&&(i+=$c(t.data.value)),i}br(t,i,r){return $.or([()=>this.persistence.Ai(t,i),()=>this.persistence.getTargetCache().containsKey(t,i),()=>{const l=this.pi.get(i);return $.resolve(l!==void 0&&l>r)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class og{constructor(t,i,r,l){this.targetId=t,this.fromCache=i,this.Es=r,this.ds=l}static As(t,i){let r=qt(),l=qt();for(const c of i.docChanges)switch(c.type){case 0:r=r.add(c.doc.key);break;case 1:l=l.add(c.doc.key)}return new og(t,i.fromCache,r,l)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HI{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FI{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return P1()?8:T2(cn())>0?6:4})()}initialize(t,i){this.ps=t,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(t,i,r,l){const c={result:null};return this.ys(t,i).next((d=>{c.result=d})).next((()=>{if(!c.result)return this.ws(t,i,l,r).next((d=>{c.result=d}))})).next((()=>{if(c.result)return;const d=new HI;return this.Ss(t,i,d).next((p=>{if(c.result=p,this.Vs)return this.bs(t,i,d,p.size)}))})).next((()=>c.result))}bs(t,i,r,l){return r.documentReadCount<this.fs?(Ka()<=jt.DEBUG&&ot("QueryEngine","SDK will not create cache indexes for query:",Xa(i),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),$.resolve()):(Ka()<=jt.DEBUG&&ot("QueryEngine","Query:",Xa(i),"scans",r.documentReadCount,"local documents and returns",l,"documents as results."),r.documentReadCount>this.gs*l?(Ka()<=jt.DEBUG&&ot("QueryEngine","The SDK decides to create cache indexes for query:",Xa(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Li(i))):$.resolve())}ys(t,i){if(l0(i))return $.resolve(null);let r=Li(i);return this.indexManager.getIndexType(t,r).next((l=>l===0?null:(i.limit!==null&&l===1&&(i=Sm(i,null,"F"),r=Li(i)),this.indexManager.getDocumentsMatchingTarget(t,r).next((c=>{const d=qt(...c);return this.ps.getDocuments(t,d).next((p=>this.indexManager.getMinOffset(t,r).next((_=>{const y=this.Ds(i,p);return this.Cs(i,y,d,_.readTime)?this.ys(t,Sm(i,null,"F")):this.vs(t,y,i,_)}))))})))))}ws(t,i,r,l){return l0(i)||l.isEqual(Tt.min())?$.resolve(null):this.ps.getDocuments(t,r).next((c=>{const d=this.Ds(i,c);return this.Cs(i,d,r,l)?$.resolve(null):(Ka()<=jt.DEBUG&&ot("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),Xa(i)),this.vs(t,d,i,g2(l,Pl)).next((p=>p)))}))}Ds(t,i){let r=new qe(hE(t));return i.forEach(((l,c)=>{Dh(t,c)&&(r=r.add(c))})),r}Cs(t,i,r,l){if(t.limit===null)return!1;if(r.size!==i.size)return!0;const c=t.limitType==="F"?i.last():i.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(l)>0)}Ss(t,i,r){return Ka()<=jt.DEBUG&&ot("QueryEngine","Using full collection scan to execute query:",Xa(i)),this.ps.getDocumentsMatchingQuery(t,i,cr.min(),r)}vs(t,i,r,l){return this.ps.getDocumentsMatchingQuery(t,r,l).next((c=>(i.forEach((d=>{c=c.insert(d.key,d)})),c)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lg="LocalStore",GI=3e8;class QI{constructor(t,i,r,l){this.persistence=t,this.Fs=i,this.serializer=l,this.Ms=new Te(Bt),this.xs=new sa((c=>Jm(c)),Wm),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(r)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new VI(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>t.collect(i,this.Ms)))}}function YI(s,t,i,r){return new QI(s,t,i,r)}async function zE(s,t){const i=wt(s);return await i.persistence.runTransaction("Handle user change","readonly",(r=>{let l;return i.mutationQueue.getAllMutationBatches(r).next((c=>(l=c,i.Bs(t),i.mutationQueue.getAllMutationBatches(r)))).next((c=>{const d=[],p=[];let _=qt();for(const y of l){d.push(y.batchId);for(const A of y.mutations)_=_.add(A.key)}for(const y of c){p.push(y.batchId);for(const A of y.mutations)_=_.add(A.key)}return i.localDocuments.getDocuments(r,_).next((y=>({Ls:y,removedBatchIds:d,addedBatchIds:p})))}))}))}function KI(s,t){const i=wt(s);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const l=t.batch.keys(),c=i.Ns.newChangeBuffer({trackRemovals:!0});return(function(p,_,y,A){const S=y.batch,N=S.keys();let G=$.resolve();return N.forEach((J=>{G=G.next((()=>A.getEntry(_,J))).next((st=>{const W=y.docVersions.get(J);Kt(W!==null,48541),st.version.compareTo(W)<0&&(S.applyToRemoteDocument(st,y),st.isValidDocument()&&(st.setReadTime(y.commitVersion),A.addEntry(st)))}))})),G.next((()=>p.mutationQueue.removeMutationBatch(_,S)))})(i,r,t,c).next((()=>c.apply(r))).next((()=>i.mutationQueue.performConsistencyCheck(r))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(r,l,t.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(p){let _=qt();for(let y=0;y<p.mutationResults.length;++y)p.mutationResults[y].transformResults.length>0&&(_=_.add(p.batch.mutations[y].key));return _})(t)))).next((()=>i.localDocuments.getDocuments(r,l)))}))}function jE(s){const t=wt(s);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>t.Pi.getLastRemoteSnapshotVersion(i)))}function XI(s,t){const i=wt(s),r=t.snapshotVersion;let l=i.Ms;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const d=i.Ns.newChangeBuffer({trackRemovals:!0});l=i.Ms;const p=[];t.targetChanges.forEach(((A,S)=>{const N=l.get(S);if(!N)return;p.push(i.Pi.removeMatchingKeys(c,A.removedDocuments,S).next((()=>i.Pi.addMatchingKeys(c,A.addedDocuments,S))));let G=N.withSequenceNumber(c.currentSequenceNumber);t.targetMismatches.get(S)!==null?G=G.withResumeToken(rn.EMPTY_BYTE_STRING,Tt.min()).withLastLimboFreeSnapshotVersion(Tt.min()):A.resumeToken.approximateByteSize()>0&&(G=G.withResumeToken(A.resumeToken,r)),l=l.insert(S,G),(function(st,W,yt){return st.resumeToken.approximateByteSize()===0||W.snapshotVersion.toMicroseconds()-st.snapshotVersion.toMicroseconds()>=GI?!0:yt.addedDocuments.size+yt.modifiedDocuments.size+yt.removedDocuments.size>0})(N,G,A)&&p.push(i.Pi.updateTargetData(c,G))}));let _=ms(),y=qt();if(t.documentUpdates.forEach((A=>{t.resolvedLimboDocuments.has(A)&&p.push(i.persistence.referenceDelegate.updateLimboDocument(c,A))})),p.push($I(c,d,t.documentUpdates).next((A=>{_=A.ks,y=A.qs}))),!r.isEqual(Tt.min())){const A=i.Pi.getLastRemoteSnapshotVersion(c).next((S=>i.Pi.setTargetsMetadata(c,c.currentSequenceNumber,r)));p.push(A)}return $.waitFor(p).next((()=>d.apply(c))).next((()=>i.localDocuments.getLocalViewOfDocuments(c,_,y))).next((()=>_))})).then((c=>(i.Ms=l,c)))}function $I(s,t,i){let r=qt(),l=qt();return i.forEach((c=>r=r.add(c))),t.getEntries(s,r).next((c=>{let d=ms();return i.forEach(((p,_)=>{const y=c.get(p);_.isFoundDocument()!==y.isFoundDocument()&&(l=l.add(p)),_.isNoDocument()&&_.version.isEqual(Tt.min())?(t.removeEntry(p,_.readTime),d=d.insert(p,_)):!y.isValidDocument()||_.version.compareTo(y.version)>0||_.version.compareTo(y.version)===0&&y.hasPendingWrites?(t.addEntry(_),d=d.insert(p,_)):ot(lg,"Ignoring outdated watch update for ",p,". Current version:",y.version," Watch version:",_.version)})),{ks:d,qs:l}}))}function ZI(s,t){const i=wt(s);return i.persistence.runTransaction("Get next mutation batch","readonly",(r=>(t===void 0&&(t=Xm),i.mutationQueue.getNextMutationBatchAfterBatchId(r,t))))}function JI(s,t){const i=wt(s);return i.persistence.runTransaction("Allocate target","readwrite",(r=>{let l;return i.Pi.getTargetData(r,t).next((c=>c?(l=c,$.resolve(l)):i.Pi.allocateTargetId(r).next((d=>(l=new ir(t,d,"TargetPurposeListen",r.currentSequenceNumber),i.Pi.addTargetData(r,l).next((()=>l)))))))})).then((r=>{const l=i.Ms.get(r.targetId);return(l===null||r.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(i.Ms=i.Ms.insert(r.targetId,r),i.xs.set(t,r.targetId)),r}))}async function Im(s,t,i){const r=wt(s),l=r.Ms.get(t),c=i?"readwrite":"readwrite-primary";try{i||await r.persistence.runTransaction("Release target",c,(d=>r.persistence.referenceDelegate.removeTarget(d,l)))}catch(d){if(!_o(d))throw d;ot(lg,`Failed to update sequence numbers for target ${t}: ${d}`)}r.Ms=r.Ms.remove(t),r.xs.delete(l.target)}function E0(s,t,i){const r=wt(s);let l=Tt.min(),c=qt();return r.persistence.runTransaction("Execute query","readwrite",(d=>(function(_,y,A){const S=wt(_),N=S.xs.get(A);return N!==void 0?$.resolve(S.Ms.get(N)):S.Pi.getTargetData(y,A)})(r,d,Li(t)).next((p=>{if(p)return l=p.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(d,p.targetId).next((_=>{c=_}))})).next((()=>r.Fs.getDocumentsMatchingQuery(d,t,i?l:Tt.min(),i?c:qt()))).next((p=>(WI(r,B2(t),p),{documents:p,Qs:c})))))}function WI(s,t,i){let r=s.Os.get(t)||Tt.min();i.forEach(((l,c)=>{c.readTime.compareTo(r)>0&&(r=c.readTime)})),s.Os.set(t,r)}class A0{constructor(){this.activeTargetIds=Y2()}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class tC{constructor(){this.Mo=new A0,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,i,r){}addLocalQueryTarget(t,i=!0){return i&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,i,r){this.xo[t]=i}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new A0,Promise.resolve()}handleUserChange(t,i,r){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eC{Oo(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S0="ConnectivityMonitor";class b0{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ot(S0,"Network connectivity changed: AVAILABLE");for(const t of this.qo)t(0)}ko(){ot(S0,"Network connectivity changed: UNAVAILABLE");for(const t of this.qo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Bc=null;function Cm(){return Bc===null?Bc=(function(){return 268435456+Math.round(2147483648*Math.random())})():Bc++,"0x"+Bc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tm="RestConnection",nC={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class iC{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const i=t.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.Uo=i+"://"+t.host,this.Ko=`projects/${r}/databases/${l}`,this.Wo=this.databaseId.database===ch?`project_id=${r}`:`project_id=${r}&database_id=${l}`}Go(t,i,r,l,c){const d=Cm(),p=this.zo(t,i.toUriEncodedString());ot(tm,`Sending RPC '${t}' ${d}:`,p,r);const _={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(_,l,c);const{host:y}=new URL(p),A=fo(y);return this.Jo(t,p,_,r,A).then((S=>(ot(tm,`Received RPC '${t}' ${d}: `,S),S)),(S=>{throw ro(tm,`RPC '${t}' ${d} failed with error: `,S,"url: ",p,"request:",r),S}))}Ho(t,i,r,l,c,d){return this.Go(t,i,r,l,c)}jo(t,i,r){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+po})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((l,c)=>t[c]=l)),r&&r.headers.forEach(((l,c)=>t[c]=l))}zo(t,i){const r=nC[t];return`${this.Uo}/v1/${i}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sC{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const on="WebChannelConnection";class rC extends iC{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,i,r,l,c){const d=Cm();return new Promise(((p,_)=>{const y=new kT;y.setWithCredentials(!0),y.listenOnce(zT.COMPLETE,(()=>{try{switch(y.getLastErrorCode()){case Xc.NO_ERROR:const S=y.getResponseJson();ot(on,`XHR for RPC '${t}' ${d} received:`,JSON.stringify(S)),p(S);break;case Xc.TIMEOUT:ot(on,`RPC '${t}' ${d} timed out`),_(new it(Q.DEADLINE_EXCEEDED,"Request time out"));break;case Xc.HTTP_ERROR:const N=y.getStatus();if(ot(on,`RPC '${t}' ${d} failed with status:`,N,"response text:",y.getResponseText()),N>0){let G=y.getResponseJson();Array.isArray(G)&&(G=G[0]);const J=G?.error;if(J&&J.status&&J.message){const st=(function(yt){const Et=yt.toLowerCase().replace(/_/g,"-");return Object.values(Q).indexOf(Et)>=0?Et:Q.UNKNOWN})(J.status);_(new it(st,J.message))}else _(new it(Q.UNKNOWN,"Server responded with status "+y.getStatus()))}else _(new it(Q.UNAVAILABLE,"Connection failed."));break;default:pt(9055,{l_:t,streamId:d,h_:y.getLastErrorCode(),P_:y.getLastError()})}}finally{ot(on,`RPC '${t}' ${d} completed.`)}}));const A=JSON.stringify(l);ot(on,`RPC '${t}' ${d} sending request:`,l),y.send(i,"POST",A,r,15)}))}T_(t,i,r){const l=Cm(),c=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],d=qT(),p=BT(),_={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(_.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(_.useFetchStreams=!0),this.jo(_.initMessageHeaders,i,r),_.encodeInitMessageHeaders=!0;const A=c.join("");ot(on,`Creating RPC '${t}' stream ${l}: ${A}`,_);const S=d.createWebChannel(A,_);this.I_(S);let N=!1,G=!1;const J=new sC({Yo:W=>{G?ot(on,`Not sending because RPC '${t}' stream ${l} is closed:`,W):(N||(ot(on,`Opening RPC '${t}' stream ${l} transport.`),S.open(),N=!0),ot(on,`RPC '${t}' stream ${l} sending:`,W),S.send(W))},Zo:()=>S.close()}),st=(W,yt,Et)=>{W.listen(yt,(vt=>{try{Et(vt)}catch(St){setTimeout((()=>{throw St}),0)}}))};return st(S,bl.EventType.OPEN,(()=>{G||(ot(on,`RPC '${t}' stream ${l} transport opened.`),J.o_())})),st(S,bl.EventType.CLOSE,(()=>{G||(G=!0,ot(on,`RPC '${t}' stream ${l} transport closed`),J.a_(),this.E_(S))})),st(S,bl.EventType.ERROR,(W=>{G||(G=!0,ro(on,`RPC '${t}' stream ${l} transport errored. Name:`,W.name,"Message:",W.message),J.a_(new it(Q.UNAVAILABLE,"The operation could not be completed")))})),st(S,bl.EventType.MESSAGE,(W=>{if(!G){const yt=W.data[0];Kt(!!yt,16349);const Et=yt,vt=Et?.error||Et[0]?.error;if(vt){ot(on,`RPC '${t}' stream ${l} received error:`,vt);const St=vt.status;let Gt=(function(b){const I=Pe[b];if(I!==void 0)return RE(I)})(St),dt=vt.message;Gt===void 0&&(Gt=Q.INTERNAL,dt="Unknown error status: "+St+" with message "+vt.message),G=!0,J.a_(new it(Gt,dt)),S.close()}else ot(on,`RPC '${t}' stream ${l} received:`,yt),J.u_(yt)}})),st(p,jT.STAT_EVENT,(W=>{W.stat===pm.PROXY?ot(on,`RPC '${t}' stream ${l} detected buffering proxy`):W.stat===pm.NOPROXY&&ot(on,`RPC '${t}' stream ${l} detected no buffering proxy`)})),setTimeout((()=>{J.__()}),0),J}terminate(){this.c_.forEach((t=>t.close())),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter((i=>i===t))}}function em(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vh(s){return new uI(s,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ug{constructor(t,i,r=1e3,l=1.5,c=6e4){this.Mi=t,this.timerId=i,this.d_=r,this.A_=l,this.R_=c,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const i=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),l=Math.max(0,i-r);l>0&&ot("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.V_} ms, delay with jitter: ${i} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,l,(()=>(this.f_=Date.now(),t()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w0="PersistentStream";class BE{constructor(t,i,r,l,c,d,p,_){this.Mi=t,this.S_=r,this.b_=l,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=p,this.listener=_,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new ug(t,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(t){this.Q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,i){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():i&&i.code===Q.RESOURCE_EXHAUSTED?(ds(i.toString()),ds("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===Q.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.r_(i)}K_(){}auth(){this.state=1;const t=this.W_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,l])=>{this.D_===i&&this.G_(r,l)}),(r=>{t((()=>{const l=new it(Q.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(l)}))}))}G_(t,i){const r=this.W_(this.D_);this.stream=this.j_(t,i),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((l=>{r((()=>this.z_(l)))})),this.stream.onMessage((l=>{r((()=>++this.F_==1?this.J_(l):this.onNext(l)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return ot(w0,`close with error: ${t}`),this.stream=null,this.close(4,t)}W_(t){return i=>{this.Mi.enqueueAndForget((()=>this.D_===t?i():(ot(w0,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class aC extends BE{constructor(t,i,r,l,c,d){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,r,l,d),this.serializer=c}j_(t,i){return this.connection.T_("Listen",t,i)}J_(t){return this.onNext(t)}onNext(t){this.M_.reset();const i=dI(this.serializer,t),r=(function(c){if(!("targetChange"in c))return Tt.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?Tt.min():d.readTime?Vn(d.readTime):Tt.min()})(t);return this.listener.H_(i,r)}Y_(t){const i={};i.database=Rm(this.serializer),i.addTarget=(function(c,d){let p;const _=d.target;if(p=Em(_)?{documents:gI(c,_)}:{query:pI(c,_).ft},p.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){p.resumeToken=NE(c,d.resumeToken);const y=bm(c,d.expectedCount);y!==null&&(p.expectedCount=y)}else if(d.snapshotVersion.compareTo(Tt.min())>0){p.readTime=dh(c,d.snapshotVersion.toTimestamp());const y=bm(c,d.expectedCount);y!==null&&(p.expectedCount=y)}return p})(this.serializer,t);const r=_I(this.serializer,t);r&&(i.labels=r),this.q_(i)}Z_(t){const i={};i.database=Rm(this.serializer),i.removeTarget=t,this.q_(i)}}class oC extends BE{constructor(t,i,r,l,c,d){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,r,l,d),this.serializer=c}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(t,i){return this.connection.T_("Write",t,i)}J_(t){return Kt(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Kt(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){Kt(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const i=mI(t.writeResults,t.commitTime),r=Vn(t.commitTime);return this.listener.na(r,i)}ra(){const t={};t.database=Rm(this.serializer),this.q_(t)}ea(t){const i={streamToken:this.lastStreamToken,writes:t.map((r=>ME(this.serializer,r)))};this.q_(i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lC{}class uC extends lC{constructor(t,i,r,l){super(),this.authCredentials=t,this.appCheckCredentials=i,this.connection=r,this.serializer=l,this.ia=!1}sa(){if(this.ia)throw new it(Q.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,i,r,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Go(t,wm(i,r),l,c,d))).catch((c=>{throw c.name==="FirebaseError"?(c.code===Q.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new it(Q.UNKNOWN,c.toString())}))}Ho(t,i,r,l,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,p])=>this.connection.Ho(t,wm(i,r),l,d,p,c))).catch((d=>{throw d.name==="FirebaseError"?(d.code===Q.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new it(Q.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class cC{constructor(t,i){this.asyncQueue=t,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const i=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(ds(i),this.aa=!1):ot("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ia="RemoteStore";class hC{constructor(t,i,r,l,c){this.localStore=t,this.datastore=i,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=c,this.Aa.Oo((d=>{r.enqueueAndForget((async()=>{ra(this)&&(ot(ia,"Restarting streams for network reachability change."),await(async function(_){const y=wt(_);y.Ea.add(4),await eu(y),y.Ra.set("Unknown"),y.Ea.delete(4),await Uh(y)})(this))}))})),this.Ra=new cC(r,l)}}async function Uh(s){if(ra(s))for(const t of s.da)await t(!0)}async function eu(s){for(const t of s.da)await t(!1)}function qE(s,t){const i=wt(s);i.Ia.has(t.targetId)||(i.Ia.set(t.targetId,t),dg(i)?fg(i):To(i).O_()&&hg(i,t))}function cg(s,t){const i=wt(s),r=To(i);i.Ia.delete(t),r.O_()&&HE(i,t),i.Ia.size===0&&(r.O_()?r.L_():ra(i)&&i.Ra.set("Unknown"))}function hg(s,t){if(s.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Tt.min())>0){const i=s.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(i)}To(s).Y_(t)}function HE(s,t){s.Va.Ue(t),To(s).Z_(t)}function fg(s){s.Va=new rI({getRemoteKeysForTarget:t=>s.remoteSyncer.getRemoteKeysForTarget(t),At:t=>s.Ia.get(t)||null,ht:()=>s.datastore.serializer.databaseId}),To(s).start(),s.Ra.ua()}function dg(s){return ra(s)&&!To(s).x_()&&s.Ia.size>0}function ra(s){return wt(s).Ea.size===0}function FE(s){s.Va=void 0}async function fC(s){s.Ra.set("Online")}async function dC(s){s.Ia.forEach(((t,i)=>{hg(s,t)}))}async function mC(s,t){FE(s),dg(s)?(s.Ra.ha(t),fg(s)):s.Ra.set("Unknown")}async function gC(s,t,i){if(s.Ra.set("Online"),t instanceof CE&&t.state===2&&t.cause)try{await(async function(l,c){const d=c.cause;for(const p of c.targetIds)l.Ia.has(p)&&(await l.remoteSyncer.rejectListen(p,d),l.Ia.delete(p),l.Va.removeTarget(p))})(s,t)}catch(r){ot(ia,"Failed to remove targets %s: %s ",t.targetIds.join(","),r),await ph(s,r)}else if(t instanceof Wc?s.Va.Ze(t):t instanceof IE?s.Va.st(t):s.Va.tt(t),!i.isEqual(Tt.min()))try{const r=await jE(s.localStore);i.compareTo(r)>=0&&await(function(c,d){const p=c.Va.Tt(d);return p.targetChanges.forEach(((_,y)=>{if(_.resumeToken.approximateByteSize()>0){const A=c.Ia.get(y);A&&c.Ia.set(y,A.withResumeToken(_.resumeToken,d))}})),p.targetMismatches.forEach(((_,y)=>{const A=c.Ia.get(_);if(!A)return;c.Ia.set(_,A.withResumeToken(rn.EMPTY_BYTE_STRING,A.snapshotVersion)),HE(c,_);const S=new ir(A.target,_,y,A.sequenceNumber);hg(c,S)})),c.remoteSyncer.applyRemoteEvent(p)})(s,i)}catch(r){ot(ia,"Failed to raise snapshot:",r),await ph(s,r)}}async function ph(s,t,i){if(!_o(t))throw t;s.Ea.add(1),await eu(s),s.Ra.set("Offline"),i||(i=()=>jE(s.localStore)),s.asyncQueue.enqueueRetryable((async()=>{ot(ia,"Retrying IndexedDB access"),await i(),s.Ea.delete(1),await Uh(s)}))}function GE(s,t){return t().catch((i=>ph(s,i,t)))}async function Lh(s){const t=wt(s),i=mr(t);let r=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:Xm;for(;pC(t);)try{const l=await ZI(t.localStore,r);if(l===null){t.Ta.length===0&&i.L_();break}r=l.batchId,yC(t,l)}catch(l){await ph(t,l)}QE(t)&&YE(t)}function pC(s){return ra(s)&&s.Ta.length<10}function yC(s,t){s.Ta.push(t);const i=mr(s);i.O_()&&i.X_&&i.ea(t.mutations)}function QE(s){return ra(s)&&!mr(s).x_()&&s.Ta.length>0}function YE(s){mr(s).start()}async function _C(s){mr(s).ra()}async function vC(s){const t=mr(s);for(const i of s.Ta)t.ea(i.mutations)}async function TC(s,t,i){const r=s.Ta.shift(),l=ng.from(r,t,i);await GE(s,(()=>s.remoteSyncer.applySuccessfulWrite(l))),await Lh(s)}async function EC(s,t){t&&mr(s).X_&&await(async function(r,l){if((function(d){return wE(d)&&d!==Q.ABORTED})(l.code)){const c=r.Ta.shift();mr(r).B_(),await GE(r,(()=>r.remoteSyncer.rejectFailedWrite(c.batchId,l))),await Lh(r)}})(s,t),QE(s)&&YE(s)}async function R0(s,t){const i=wt(s);i.asyncQueue.verifyOperationInProgress(),ot(ia,"RemoteStore received new credentials");const r=ra(i);i.Ea.add(3),await eu(i),r&&i.Ra.set("Unknown"),await i.remoteSyncer.handleCredentialChange(t),i.Ea.delete(3),await Uh(i)}async function AC(s,t){const i=wt(s);t?(i.Ea.delete(2),await Uh(i)):t||(i.Ea.add(2),await eu(i),i.Ra.set("Unknown"))}function To(s){return s.ma||(s.ma=(function(i,r,l){const c=wt(i);return c.sa(),new aC(r,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(s.datastore,s.asyncQueue,{Xo:fC.bind(null,s),t_:dC.bind(null,s),r_:mC.bind(null,s),H_:gC.bind(null,s)}),s.da.push((async t=>{t?(s.ma.B_(),dg(s)?fg(s):s.Ra.set("Unknown")):(await s.ma.stop(),FE(s))}))),s.ma}function mr(s){return s.fa||(s.fa=(function(i,r,l){const c=wt(i);return c.sa(),new oC(r,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(s.datastore,s.asyncQueue,{Xo:()=>Promise.resolve(),t_:_C.bind(null,s),r_:EC.bind(null,s),ta:vC.bind(null,s),na:TC.bind(null,s)}),s.da.push((async t=>{t?(s.fa.B_(),await Lh(s)):(await s.fa.stop(),s.Ta.length>0&&(ot(ia,`Stopping write stream with ${s.Ta.length} pending writes`),s.Ta=[]))}))),s.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mg{constructor(t,i,r,l,c){this.asyncQueue=t,this.timerId=i,this.targetTimeMs=r,this.op=l,this.removalCallback=c,this.deferred=new Ui,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,i,r,l,c){const d=Date.now()+r,p=new mg(t,i,d,l,c);return p.start(r),p}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new it(Q.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function gg(s,t){if(ds("AsyncQueue",`${t}: ${s}`),_o(s))return new it(Q.UNAVAILABLE,`${t}: ${s}`);throw s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class no{static emptySet(t){return new no(t.comparator)}constructor(t){this.comparator=t?(i,r)=>t(i,r)||ft.comparator(i.key,r.key):(i,r)=>ft.comparator(i.key,r.key),this.keyedMap=wl(),this.sortedSet=new Te(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const i=this.keyedMap.get(t);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((i,r)=>(t(i),!1)))}add(t){const i=this.delete(t.key);return i.copy(i.keyedMap.insert(t.key,t),i.sortedSet.insert(t,null))}delete(t){const i=this.get(t);return i?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(i)):this}isEqual(t){if(!(t instanceof no)||this.size!==t.size)return!1;const i=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=r.getNext().key;if(!l.isEqual(c))return!1}return!0}toString(){const t=[];return this.forEach((i=>{t.push(i.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,i){const r=new no;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=i,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I0{constructor(){this.ga=new Te(ft.comparator)}track(t){const i=t.doc.key,r=this.ga.get(i);r?t.type!==0&&r.type===3?this.ga=this.ga.insert(i,t):t.type===3&&r.type!==1?this.ga=this.ga.insert(i,{type:r.type,doc:t.doc}):t.type===2&&r.type===2?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):t.type===2&&r.type===0?this.ga=this.ga.insert(i,{type:0,doc:t.doc}):t.type===1&&r.type===0?this.ga=this.ga.remove(i):t.type===1&&r.type===2?this.ga=this.ga.insert(i,{type:1,doc:r.doc}):t.type===0&&r.type===1?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):pt(63341,{Rt:t,pa:r}):this.ga=this.ga.insert(i,t)}ya(){const t=[];return this.ga.inorderTraversal(((i,r)=>{t.push(r)})),t}}class co{constructor(t,i,r,l,c,d,p,_,y){this.query=t,this.docs=i,this.oldDocs=r,this.docChanges=l,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=p,this.excludesMetadataChanges=_,this.hasCachedResults=y}static fromInitialDocuments(t,i,r,l,c){const d=[];return i.forEach((p=>{d.push({type:0,doc:p})})),new co(t,i,no.emptySet(i),d,r,l,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Nh(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const i=this.docChanges,r=t.docChanges;if(i.length!==r.length)return!1;for(let l=0;l<i.length;l++)if(i[l].type!==r[l].type||!i[l].doc.isEqual(r[l].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SC{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((t=>t.Da()))}}class bC{constructor(){this.queries=C0(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,r){const l=wt(i),c=l.queries;l.queries=C0(),c.forEach(((d,p)=>{for(const _ of p.Sa)_.onError(r)}))})(this,new it(Q.ABORTED,"Firestore shutting down"))}}function C0(){return new sa((s=>cE(s)),Nh)}async function pg(s,t){const i=wt(s);let r=3;const l=t.query;let c=i.queries.get(l);c?!c.ba()&&t.Da()&&(r=2):(c=new SC,r=t.Da()?0:1);try{switch(r){case 0:c.wa=await i.onListen(l,!0);break;case 1:c.wa=await i.onListen(l,!1);break;case 2:await i.onFirstRemoteStoreListen(l)}}catch(d){const p=gg(d,`Initialization of query '${Xa(t.query)}' failed`);return void t.onError(p)}i.queries.set(l,c),c.Sa.push(t),t.va(i.onlineState),c.wa&&t.Fa(c.wa)&&_g(i)}async function yg(s,t){const i=wt(s),r=t.query;let l=3;const c=i.queries.get(r);if(c){const d=c.Sa.indexOf(t);d>=0&&(c.Sa.splice(d,1),c.Sa.length===0?l=t.Da()?0:1:!c.ba()&&t.Da()&&(l=2))}switch(l){case 0:return i.queries.delete(r),i.onUnlisten(r,!0);case 1:return i.queries.delete(r),i.onUnlisten(r,!1);case 2:return i.onLastRemoteStoreUnlisten(r);default:return}}function wC(s,t){const i=wt(s);let r=!1;for(const l of t){const c=l.query,d=i.queries.get(c);if(d){for(const p of d.Sa)p.Fa(l)&&(r=!0);d.wa=l}}r&&_g(i)}function RC(s,t,i){const r=wt(s),l=r.queries.get(t);if(l)for(const c of l.Sa)c.onError(i);r.queries.delete(t)}function _g(s){s.Ca.forEach((t=>{t.next()}))}var Nm,N0;(N0=Nm||(Nm={})).Ma="default",N0.Cache="cache";class vg{constructor(t,i,r){this.query=t,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(t){if(!this.options.includeMetadataChanges){const r=[];for(const l of t.docChanges)l.type!==3&&r.push(l);t=new co(t.query,t.docs,t.oldDocs,r,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let i=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),i=!0):this.La(t,this.onlineState)&&(this.ka(t),i=!0),this.Na=t,i}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),i=!0),i}La(t,i){if(!t.fromCache||!this.Da())return!0;const r=i!=="Offline";return(!this.options.qa||!r)&&(!t.docs.isEmpty()||t.hasCachedResults||i==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(t){t=co.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==Nm.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KE{constructor(t){this.key=t}}class XE{constructor(t){this.key=t}}class IC{constructor(t,i){this.query=t,this.Ya=i,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=qt(),this.mutatedKeys=qt(),this.eu=hE(t),this.tu=new no(this.eu)}get nu(){return this.Ya}ru(t,i){const r=i?i.iu:new I0,l=i?i.tu:this.tu;let c=i?i.mutatedKeys:this.mutatedKeys,d=l,p=!1;const _=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,y=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(t.inorderTraversal(((A,S)=>{const N=l.get(A),G=Dh(this.query,S)?S:null,J=!!N&&this.mutatedKeys.has(N.key),st=!!G&&(G.hasLocalMutations||this.mutatedKeys.has(G.key)&&G.hasCommittedMutations);let W=!1;N&&G?N.data.isEqual(G.data)?J!==st&&(r.track({type:3,doc:G}),W=!0):this.su(N,G)||(r.track({type:2,doc:G}),W=!0,(_&&this.eu(G,_)>0||y&&this.eu(G,y)<0)&&(p=!0)):!N&&G?(r.track({type:0,doc:G}),W=!0):N&&!G&&(r.track({type:1,doc:N}),W=!0,(_||y)&&(p=!0)),W&&(G?(d=d.add(G),c=st?c.add(A):c.delete(A)):(d=d.delete(A),c=c.delete(A)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const A=this.query.limitType==="F"?d.last():d.first();d=d.delete(A.key),c=c.delete(A.key),r.track({type:1,doc:A})}return{tu:d,iu:r,Cs:p,mutatedKeys:c}}su(t,i){return t.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(t,i,r,l){const c=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const d=t.iu.ya();d.sort(((A,S)=>(function(G,J){const st=W=>{switch(W){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return pt(20277,{Rt:W})}};return st(G)-st(J)})(A.type,S.type)||this.eu(A.doc,S.doc))),this.ou(r),l=l??!1;const p=i&&!l?this._u():[],_=this.Xa.size===0&&this.current&&!l?1:0,y=_!==this.Za;return this.Za=_,d.length!==0||y?{snapshot:new co(this.query,t.tu,c,d,t.mutatedKeys,_===0,y,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:p}:{au:p}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new I0,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(t){return!this.Ya.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((i=>this.Ya=this.Ya.add(i))),t.modifiedDocuments.forEach((i=>{})),t.removedDocuments.forEach((i=>this.Ya=this.Ya.delete(i))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Xa;this.Xa=qt(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const i=[];return t.forEach((r=>{this.Xa.has(r)||i.push(new XE(r))})),this.Xa.forEach((r=>{t.has(r)||i.push(new KE(r))})),i}cu(t){this.Ya=t.Qs,this.Xa=qt();const i=this.ru(t.documents);return this.applyChanges(i,!0)}lu(){return co.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Tg="SyncEngine";class CC{constructor(t,i,r){this.query=t,this.targetId=i,this.view=r}}class NC{constructor(t){this.key=t,this.hu=!1}}class DC{constructor(t,i,r,l,c,d){this.localStore=t,this.remoteStore=i,this.eventManager=r,this.sharedClientState=l,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new sa((p=>cE(p)),Nh),this.Iu=new Map,this.Eu=new Set,this.du=new Te(ft.comparator),this.Au=new Map,this.Ru=new rg,this.Vu={},this.mu=new Map,this.fu=uo.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function xC(s,t,i=!0){const r=eA(s);let l;const c=r.Tu.get(t);return c?(r.sharedClientState.addLocalQueryTarget(c.targetId),l=c.view.lu()):l=await $E(r,t,i,!0),l}async function OC(s,t){const i=eA(s);await $E(i,t,!0,!1)}async function $E(s,t,i,r){const l=await JI(s.localStore,Li(t)),c=l.targetId,d=s.sharedClientState.addLocalQueryTarget(c,i);let p;return r&&(p=await MC(s,t,c,d==="current",l.resumeToken)),s.isPrimaryClient&&i&&qE(s.remoteStore,l),p}async function MC(s,t,i,r,l){s.pu=(S,N,G)=>(async function(st,W,yt,Et){let vt=W.view.ru(yt);vt.Cs&&(vt=await E0(st.localStore,W.query,!1).then((({documents:C})=>W.view.ru(C,vt))));const St=Et&&Et.targetChanges.get(W.targetId),Gt=Et&&Et.targetMismatches.get(W.targetId)!=null,dt=W.view.applyChanges(vt,st.isPrimaryClient,St,Gt);return x0(st,W.targetId,dt.au),dt.snapshot})(s,S,N,G);const c=await E0(s.localStore,t,!0),d=new IC(t,c.Qs),p=d.ru(c.documents),_=tu.createSynthesizedTargetChangeForCurrentChange(i,r&&s.onlineState!=="Offline",l),y=d.applyChanges(p,s.isPrimaryClient,_);x0(s,i,y.au);const A=new CC(t,i,d);return s.Tu.set(t,A),s.Iu.has(i)?s.Iu.get(i).push(t):s.Iu.set(i,[t]),y.snapshot}async function VC(s,t,i){const r=wt(s),l=r.Tu.get(t),c=r.Iu.get(l.targetId);if(c.length>1)return r.Iu.set(l.targetId,c.filter((d=>!Nh(d,t)))),void r.Tu.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(l.targetId),r.sharedClientState.isActiveQueryTarget(l.targetId)||await Im(r.localStore,l.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(l.targetId),i&&cg(r.remoteStore,l.targetId),Dm(r,l.targetId)})).catch(yo)):(Dm(r,l.targetId),await Im(r.localStore,l.targetId,!0))}async function UC(s,t){const i=wt(s),r=i.Tu.get(t),l=i.Iu.get(r.targetId);i.isPrimaryClient&&l.length===1&&(i.sharedClientState.removeLocalQueryTarget(r.targetId),cg(i.remoteStore,r.targetId))}async function LC(s,t,i){const r=HC(s);try{const l=await(function(d,p){const _=wt(d),y=pe.now(),A=p.reduce(((G,J)=>G.add(J.key)),qt());let S,N;return _.persistence.runTransaction("Locally write mutations","readwrite",(G=>{let J=ms(),st=qt();return _.Ns.getEntries(G,A).next((W=>{J=W,J.forEach(((yt,Et)=>{Et.isValidDocument()||(st=st.add(yt))}))})).next((()=>_.localDocuments.getOverlayedDocuments(G,J))).next((W=>{S=W;const yt=[];for(const Et of p){const vt=W2(Et,S.get(Et.key).overlayedDocument);vt!=null&&yt.push(new yr(Et.key,vt,nE(vt.value.mapValue),un.exists(!0)))}return _.mutationQueue.addMutationBatch(G,y,yt,p)})).next((W=>{N=W;const yt=W.applyToLocalDocumentSet(S,st);return _.documentOverlayCache.saveOverlays(G,W.batchId,yt)}))})).then((()=>({batchId:N.batchId,changes:dE(S)})))})(r.localStore,t);r.sharedClientState.addPendingMutation(l.batchId),(function(d,p,_){let y=d.Vu[d.currentUser.toKey()];y||(y=new Te(Bt)),y=y.insert(p,_),d.Vu[d.currentUser.toKey()]=y})(r,l.batchId,i),await nu(r,l.changes),await Lh(r.remoteStore)}catch(l){const c=gg(l,"Failed to persist write");i.reject(c)}}async function ZE(s,t){const i=wt(s);try{const r=await XI(i.localStore,t);t.targetChanges.forEach(((l,c)=>{const d=i.Au.get(c);d&&(Kt(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1,22616),l.addedDocuments.size>0?d.hu=!0:l.modifiedDocuments.size>0?Kt(d.hu,14607):l.removedDocuments.size>0&&(Kt(d.hu,42227),d.hu=!1))})),await nu(i,r,t)}catch(r){await yo(r)}}function D0(s,t,i){const r=wt(s);if(r.isPrimaryClient&&i===0||!r.isPrimaryClient&&i===1){const l=[];r.Tu.forEach(((c,d)=>{const p=d.view.va(t);p.snapshot&&l.push(p.snapshot)})),(function(d,p){const _=wt(d);_.onlineState=p;let y=!1;_.queries.forEach(((A,S)=>{for(const N of S.Sa)N.va(p)&&(y=!0)})),y&&_g(_)})(r.eventManager,t),l.length&&r.Pu.H_(l),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function PC(s,t,i){const r=wt(s);r.sharedClientState.updateQueryState(t,"rejected",i);const l=r.Au.get(t),c=l&&l.key;if(c){let d=new Te(ft.comparator);d=d.insert(c,Ye.newNoDocument(c,Tt.min()));const p=qt().add(c),_=new Mh(Tt.min(),new Map,new Te(Bt),d,p);await ZE(r,_),r.du=r.du.remove(c),r.Au.delete(t),Eg(r)}else await Im(r.localStore,t,!1).then((()=>Dm(r,t,i))).catch(yo)}async function kC(s,t){const i=wt(s),r=t.batch.batchId;try{const l=await KI(i.localStore,t);WE(i,r,null),JE(i,r),i.sharedClientState.updateMutationState(r,"acknowledged"),await nu(i,l)}catch(l){await yo(l)}}async function zC(s,t,i){const r=wt(s);try{const l=await(function(d,p){const _=wt(d);return _.persistence.runTransaction("Reject batch","readwrite-primary",(y=>{let A;return _.mutationQueue.lookupMutationBatch(y,p).next((S=>(Kt(S!==null,37113),A=S.keys(),_.mutationQueue.removeMutationBatch(y,S)))).next((()=>_.mutationQueue.performConsistencyCheck(y))).next((()=>_.documentOverlayCache.removeOverlaysForBatchId(y,A,p))).next((()=>_.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,A))).next((()=>_.localDocuments.getDocuments(y,A)))}))})(r.localStore,t);WE(r,t,i),JE(r,t),r.sharedClientState.updateMutationState(t,"rejected",i),await nu(r,l)}catch(l){await yo(l)}}function JE(s,t){(s.mu.get(t)||[]).forEach((i=>{i.resolve()})),s.mu.delete(t)}function WE(s,t,i){const r=wt(s);let l=r.Vu[r.currentUser.toKey()];if(l){const c=l.get(t);c&&(i?c.reject(i):c.resolve(),l=l.remove(t)),r.Vu[r.currentUser.toKey()]=l}}function Dm(s,t,i=null){s.sharedClientState.removeLocalQueryTarget(t);for(const r of s.Iu.get(t))s.Tu.delete(r),i&&s.Pu.yu(r,i);s.Iu.delete(t),s.isPrimaryClient&&s.Ru.jr(t).forEach((r=>{s.Ru.containsKey(r)||tA(s,r)}))}function tA(s,t){s.Eu.delete(t.path.canonicalString());const i=s.du.get(t);i!==null&&(cg(s.remoteStore,i),s.du=s.du.remove(t),s.Au.delete(i),Eg(s))}function x0(s,t,i){for(const r of i)r instanceof KE?(s.Ru.addReference(r.key,t),jC(s,r)):r instanceof XE?(ot(Tg,"Document no longer in limbo: "+r.key),s.Ru.removeReference(r.key,t),s.Ru.containsKey(r.key)||tA(s,r.key)):pt(19791,{wu:r})}function jC(s,t){const i=t.key,r=i.path.canonicalString();s.du.get(i)||s.Eu.has(r)||(ot(Tg,"New document in limbo: "+i),s.Eu.add(r),Eg(s))}function Eg(s){for(;s.Eu.size>0&&s.du.size<s.maxConcurrentLimboResolutions;){const t=s.Eu.values().next().value;s.Eu.delete(t);const i=new ft(le.fromString(t)),r=s.fu.next();s.Au.set(r,new NC(i)),s.du=s.du.insert(i,r),qE(s.remoteStore,new ir(Li(Ch(i.path)),r,"TargetPurposeLimboResolution",Rh.ce))}}async function nu(s,t,i){const r=wt(s),l=[],c=[],d=[];r.Tu.isEmpty()||(r.Tu.forEach(((p,_)=>{d.push(r.pu(_,t,i).then((y=>{if((y||i)&&r.isPrimaryClient){const A=y?!y.fromCache:i?.targetChanges.get(_.targetId)?.current;r.sharedClientState.updateQueryState(_.targetId,A?"current":"not-current")}if(y){l.push(y);const A=og.As(_.targetId,y);c.push(A)}})))})),await Promise.all(d),r.Pu.H_(l),await(async function(_,y){const A=wt(_);try{await A.persistence.runTransaction("notifyLocalViewChanges","readwrite",(S=>$.forEach(y,(N=>$.forEach(N.Es,(G=>A.persistence.referenceDelegate.addReference(S,N.targetId,G))).next((()=>$.forEach(N.ds,(G=>A.persistence.referenceDelegate.removeReference(S,N.targetId,G)))))))))}catch(S){if(!_o(S))throw S;ot(lg,"Failed to update sequence numbers: "+S)}for(const S of y){const N=S.targetId;if(!S.fromCache){const G=A.Ms.get(N),J=G.snapshotVersion,st=G.withLastLimboFreeSnapshotVersion(J);A.Ms=A.Ms.insert(N,st)}}})(r.localStore,c))}async function BC(s,t){const i=wt(s);if(!i.currentUser.isEqual(t)){ot(Tg,"User change. New user:",t.toKey());const r=await zE(i.localStore,t);i.currentUser=t,(function(c,d){c.mu.forEach((p=>{p.forEach((_=>{_.reject(new it(Q.CANCELLED,d))}))})),c.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(t,r.removedBatchIds,r.addedBatchIds),await nu(i,r.Ls)}}function qC(s,t){const i=wt(s),r=i.Au.get(t);if(r&&r.hu)return qt().add(r.key);{let l=qt();const c=i.Iu.get(t);if(!c)return l;for(const d of c){const p=i.Tu.get(d);l=l.unionWith(p.view.nu)}return l}}function eA(s){const t=wt(s);return t.remoteStore.remoteSyncer.applyRemoteEvent=ZE.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=qC.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=PC.bind(null,t),t.Pu.H_=wC.bind(null,t.eventManager),t.Pu.yu=RC.bind(null,t.eventManager),t}function HC(s){const t=wt(s);return t.remoteStore.remoteSyncer.applySuccessfulWrite=kC.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=zC.bind(null,t),t}class yh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=Vh(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,i){return null}Mu(t,i){return null}vu(t){return YI(this.persistence,new FI,t.initialUser,this.serializer)}Cu(t){return new kE(ag.mi,this.serializer)}Du(t){return new tC}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}yh.provider={build:()=>new yh};class FC extends yh{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,i){Kt(this.persistence.referenceDelegate instanceof gh,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new NI(r,t.asyncQueue,i)}Cu(t){const i=this.cacheSizeBytes!==void 0?En.withCacheSize(this.cacheSizeBytes):En.DEFAULT;return new kE((r=>gh.mi(r,i)),this.serializer)}}class xm{async initialize(t,i){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>D0(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=BC.bind(null,this.syncEngine),await AC(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new bC})()}createDatastore(t){const i=Vh(t.databaseInfo.databaseId),r=(function(c){return new rC(c)})(t.databaseInfo);return(function(c,d,p,_){return new uC(c,d,p,_)})(t.authCredentials,t.appCheckCredentials,r,i)}createRemoteStore(t){return(function(r,l,c,d,p){return new hC(r,l,c,d,p)})(this.localStore,this.datastore,t.asyncQueue,(i=>D0(this.syncEngine,i,0)),(function(){return b0.v()?new b0:new eC})())}createSyncEngine(t,i){return(function(l,c,d,p,_,y,A){const S=new DC(l,c,d,p,_,y);return A&&(S.gu=!0),S})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const r=wt(i);ot(ia,"RemoteStore shutting down."),r.Ea.add(5),await eu(r),r.Aa.shutdown(),r.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}xm.provider={build:()=>new xm};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ag{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):ds("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,i){setTimeout((()=>{this.muted||t(i)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GC{constructor(t){this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}async lookup(t){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw this.lastTransactionError=new it(Q.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),this.lastTransactionError;const i=await(async function(l,c){const d=wt(l),p={documents:c.map((S=>mh(d.serializer,S)))},_=await d.Ho("BatchGetDocuments",d.serializer.databaseId,le.emptyPath(),p,c.length),y=new Map;_.forEach((S=>{const N=fI(d.serializer,S);y.set(N.key.toString(),N)}));const A=[];return c.forEach((S=>{const N=y.get(S.toString());Kt(!!N,55234,{key:S}),A.push(N)})),A})(this.datastore,t);return i.forEach((r=>this.recordVersion(r))),i}set(t,i){this.write(i.toMutation(t,this.precondition(t))),this.writtenDocs.add(t.toString())}update(t,i){try{this.write(i.toMutation(t,this.preconditionForUpdate(t)))}catch(r){this.lastTransactionError=r}this.writtenDocs.add(t.toString())}delete(t){this.write(new eg(t,this.precondition(t))),this.writtenDocs.add(t.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastTransactionError)throw this.lastTransactionError;const t=this.readVersions;this.mutations.forEach((i=>{t.delete(i.key.toString())})),t.forEach(((i,r)=>{const l=ft.fromPath(r);this.mutations.push(new bE(l,this.precondition(l)))})),await(async function(r,l){const c=wt(r),d={writes:l.map((p=>ME(c.serializer,p)))};await c.Go("Commit",c.serializer.databaseId,le.emptyPath(),d)})(this.datastore,this.mutations),this.committed=!0}recordVersion(t){let i;if(t.isFoundDocument())i=t.version;else{if(!t.isNoDocument())throw pt(50498,{Gu:t.constructor.name});i=Tt.min()}const r=this.readVersions.get(t.key.toString());if(r){if(!i.isEqual(r))throw new it(Q.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(t.key.toString(),i)}precondition(t){const i=this.readVersions.get(t.toString());return!this.writtenDocs.has(t.toString())&&i?i.isEqual(Tt.min())?un.exists(!1):un.updateTime(i):un.none()}preconditionForUpdate(t){const i=this.readVersions.get(t.toString());if(!this.writtenDocs.has(t.toString())&&i){if(i.isEqual(Tt.min()))throw new it(Q.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return un.updateTime(i)}return un.exists(!0)}write(t){this.ensureCommitNotCalled(),this.mutations.push(t)}ensureCommitNotCalled(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QC{constructor(t,i,r,l,c){this.asyncQueue=t,this.datastore=i,this.options=r,this.updateFunction=l,this.deferred=c,this.zu=r.maxAttempts,this.M_=new ug(this.asyncQueue,"transaction_retry")}ju(){this.zu-=1,this.Ju()}Ju(){this.M_.p_((async()=>{const t=new GC(this.datastore),i=this.Hu(t);i&&i.then((r=>{this.asyncQueue.enqueueAndForget((()=>t.commit().then((()=>{this.deferred.resolve(r)})).catch((l=>{this.Yu(l)}))))})).catch((r=>{this.Yu(r)}))}))}Hu(t){try{const i=this.updateFunction(t);return!Jl(i)&&i.catch&&i.then?i:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(i){return this.deferred.reject(i),null}}Yu(t){this.zu>0&&this.Zu(t)?(this.zu-=1,this.asyncQueue.enqueueAndForget((()=>(this.Ju(),Promise.resolve())))):this.deferred.reject(t)}Zu(t){if(t?.name==="FirebaseError"){const i=t.code;return i==="aborted"||i==="failed-precondition"||i==="already-exists"||!wE(i)}return!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gr="FirestoreClient";class YC{constructor(t,i,r,l,c){this.authCredentials=t,this.appCheckCredentials=i,this.asyncQueue=r,this.databaseInfo=l,this.user=ln.UNAUTHENTICATED,this.clientId=Km.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(r,(async d=>{ot(gr,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(r,(d=>(ot(gr,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Ui;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(i){const r=gg(i,"Failed to shutdown persistence");t.reject(r)}})),t.promise}}async function nm(s,t){s.asyncQueue.verifyOperationInProgress(),ot(gr,"Initializing OfflineComponentProvider");const i=s.configuration;await t.initialize(i);let r=i.initialUser;s.setCredentialChangeListener((async l=>{r.isEqual(l)||(await zE(t.localStore,l),r=l)})),t.persistence.setDatabaseDeletedListener((()=>s.terminate())),s._offlineComponents=t}async function O0(s,t){s.asyncQueue.verifyOperationInProgress();const i=await KC(s);ot(gr,"Initializing OnlineComponentProvider"),await t.initialize(i,s.configuration),s.setCredentialChangeListener((r=>R0(t.remoteStore,r))),s.setAppCheckTokenChangeListener(((r,l)=>R0(t.remoteStore,l))),s._onlineComponents=t}async function KC(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){ot(gr,"Using user provided OfflineComponentProvider");try{await nm(s,s._uninitializedComponentsProvider._offline)}catch(t){const i=t;if(!(function(l){return l.name==="FirebaseError"?l.code===Q.FAILED_PRECONDITION||l.code===Q.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11})(i))throw i;ro("Error using user provided cache. Falling back to memory cache: "+i),await nm(s,new yh)}}else ot(gr,"Using default OfflineComponentProvider"),await nm(s,new FC(void 0));return s._offlineComponents}async function Sg(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(ot(gr,"Using user provided OnlineComponentProvider"),await O0(s,s._uninitializedComponentsProvider._online)):(ot(gr,"Using default OnlineComponentProvider"),await O0(s,new xm))),s._onlineComponents}function XC(s){return Sg(s).then((t=>t.syncEngine))}function $C(s){return Sg(s).then((t=>t.datastore))}async function _h(s){const t=await Sg(s),i=t.eventManager;return i.onListen=xC.bind(null,t.syncEngine),i.onUnlisten=VC.bind(null,t.syncEngine),i.onFirstRemoteStoreListen=OC.bind(null,t.syncEngine),i.onLastRemoteStoreUnlisten=UC.bind(null,t.syncEngine),i}function ZC(s,t,i={}){const r=new Ui;return s.asyncQueue.enqueueAndForget((async()=>(function(c,d,p,_,y){const A=new Ag({next:N=>{A.Nu(),d.enqueueAndForget((()=>yg(c,S)));const G=N.docs.has(p);!G&&N.fromCache?y.reject(new it(Q.UNAVAILABLE,"Failed to get document because the client is offline.")):G&&N.fromCache&&_&&_.source==="server"?y.reject(new it(Q.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(N)},error:N=>y.reject(N)}),S=new vg(Ch(p.path),A,{includeMetadataChanges:!0,qa:!0});return pg(c,S)})(await _h(s),s.asyncQueue,t,i,r))),r.promise}function JC(s,t,i={}){const r=new Ui;return s.asyncQueue.enqueueAndForget((async()=>(function(c,d,p,_,y){const A=new Ag({next:N=>{A.Nu(),d.enqueueAndForget((()=>yg(c,S))),N.fromCache&&_.source==="server"?y.reject(new it(Q.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):y.resolve(N)},error:N=>y.reject(N)}),S=new vg(p,A,{includeMetadataChanges:!0,qa:!0});return pg(c,S)})(await _h(s),s.asyncQueue,t,i,r))),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nA(s){const t={};return s.timeoutSeconds!==void 0&&(t.timeoutSeconds=s.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M0=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iA="firestore.googleapis.com",V0=!0;class U0{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new it(Q.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=iA,this.ssl=V0}else this.host=t.host,this.ssl=t.ssl??V0;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=PE;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<II)throw new it(Q.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}m2("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=nA(t.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new it(Q.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new it(Q.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new it(Q.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(r,l){return r.timeoutSeconds===l.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Ph{constructor(t,i,r,l){this._authCredentials=t,this._appCheckCredentials=i,this._databaseId=r,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new U0({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new it(Q.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new it(Q.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new U0(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new s2;switch(r.type){case"firstParty":return new l2(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new it(Q.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const r=M0.get(i);r&&(ot("ComponentProvider","Removing Datastore"),M0.delete(i),r.terminate())})(this),Promise.resolve()}}function WC(s,t,i,r={}){s=An(s,Ph);const l=fo(t),c=s._getSettings(),d={...c,emulatorOptions:s._getEmulatorOptions()},p=`${t}:${i}`;l&&(W0(`https://${p}`),tT("Firestore",!0)),c.host!==iA&&c.host!==p&&ro("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const _={...c,host:p,ssl:l,emulatorOptions:r};if(!Wr(_,d)&&(s._setSettings(_),r.mockUserToken)){let y,A;if(typeof r.mockUserToken=="string")y=r.mockUserToken,A=ln.MOCK_USER;else{y=C1(r.mockUserToken,s._app?.options.projectId);const S=r.mockUserToken.sub||r.mockUserToken.user_id;if(!S)throw new it(Q.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");A=new ln(S)}s._authCredentials=new r2(new FT(y,A))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _r{constructor(t,i,r){this.converter=i,this._query=r,this.type="query",this.firestore=t}withConverter(t){return new _r(this.firestore,t,this._query)}}class ve{constructor(t,i,r){this.converter=i,this._key=r,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new lr(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new ve(this.firestore,t,this._key)}toJSON(){return{type:ve._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,i,r){if(Zl(i,ve._jsonSchema))return new ve(t,r||null,new ft(le.fromString(i.referencePath)))}}ve._jsonSchemaVersion="firestore/documentReference/1.0",ve._jsonSchema={type:ze("string",ve._jsonSchemaVersion),referencePath:ze("string")};class lr extends _r{constructor(t,i,r){super(t,i,Ch(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new ve(this.firestore,null,new ft(t))}withConverter(t){return new lr(this.firestore,t,this._path)}}function Ya(s,t,...i){if(s=je(s),GT("collection","path",t),s instanceof Ph){const r=le.fromString(t,...i);return Kv(r),new lr(s,null,r)}{if(!(s instanceof ve||s instanceof lr))throw new it(Q.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=s._path.child(le.fromString(t,...i));return Kv(r),new lr(s.firestore,null,r)}}function Ws(s,t,...i){if(s=je(s),arguments.length===1&&(t=Km.newId()),GT("doc","path",t),s instanceof Ph){const r=le.fromString(t,...i);return Yv(r),new ve(s,null,new ft(r))}{if(!(s instanceof ve||s instanceof lr))throw new it(Q.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=s._path.child(le.fromString(t,...i));return Yv(r),new ve(s.firestore,s instanceof lr?s.converter:null,new ft(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L0="AsyncQueue";class P0{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new ug(this,"async_queue_retry"),this._c=()=>{const r=em();r&&ot(L0,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=t;const i=em();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const i=em();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new Ui;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Xu.push(t),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!_o(t))throw t;ot(L0,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const i=this.ac.then((()=>(this.rc=!0,t().catch((r=>{throw this.nc=r,this.rc=!1,ds("INTERNAL UNHANDLED ERROR: ",k0(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=i,i}enqueueAfterDelay(t,i,r){this.uc(),this.oc.indexOf(t)>-1&&(i=0);const l=mg.createAndSchedule(this,t,i,r,(c=>this.hc(c)));return this.tc.push(l),l}uc(){this.nc&&pt(47125,{Pc:k0(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const i of this.tc)if(i.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((i,r)=>i.targetTimeMs-r.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),t!=="all"&&i.timerId===t)break;return this.Tc()}))}dc(t){this.oc.push(t)}hc(t){const i=this.tc.indexOf(t);this.tc.splice(i,1)}}function k0(s){let t=s.message||"";return s.stack&&(t=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z0(s){return(function(i,r){if(typeof i!="object"||i===null)return!1;const l=i;for(const c of r)if(c in l&&typeof l[c]=="function")return!0;return!1})(s,["next","error","complete"])}class gs extends Ph{constructor(t,i,r,l){super(t,i,r,l),this.type="firestore",this._queue=new P0,this._persistenceKey=l?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new P0(t),this._firestoreClient=void 0,await t}}}function tN(s,t){const i=typeof s=="object"?s:sT(),r=typeof s=="string"?s:ch,l=Lm(i,"firestore").getImmediate({identifier:r});if(!l._initialized){const c=R1("firestore");c&&WC(l,...c)}return l}function iu(s){if(s._terminated)throw new it(Q.FAILED_PRECONDITION,"The client has already been terminated.");return s._firestoreClient||eN(s),s._firestoreClient}function eN(s){const t=s._freezeSettings(),i=(function(l,c,d,p){return new w2(l,c,d,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,nA(p.experimentalLongPollingOptions),p.useFetchStreams,p.isUsingEmulator)})(s._databaseId,s._app?.options.appId||"",s._persistenceKey,t);s._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(s._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),s._firestoreClient=new YC(s._authCredentials,s._appCheckCredentials,s._queue,i,s._componentsProvider&&(function(l){const c=l?._online.build();return{_offline:l?._offline.build(c),_online:c}})(s._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class On{constructor(t){this._byteString=t}static fromBase64String(t){try{return new On(rn.fromBase64String(t))}catch(i){throw new it(Q.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(t){return new On(rn.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:On._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(Zl(t,On._jsonSchema))return On.fromBase64String(t.bytes)}}On._jsonSchemaVersion="firestore/bytes/1.0",On._jsonSchema={type:ze("string",On._jsonSchemaVersion),bytes:ze("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class su{constructor(...t){for(let i=0;i<t.length;++i)if(t[i].length===0)throw new it(Q.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new sn(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ru{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pi{constructor(t,i){if(!isFinite(t)||t<-90||t>90)throw new it(Q.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(i)||i<-180||i>180)throw new it(Q.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=t,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return Bt(this._lat,t._lat)||Bt(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Pi._jsonSchemaVersion}}static fromJSON(t){if(Zl(t,Pi._jsonSchema))return new Pi(t.latitude,t.longitude)}}Pi._jsonSchemaVersion="firestore/geoPoint/1.0",Pi._jsonSchema={type:ze("string",Pi._jsonSchemaVersion),latitude:ze("number"),longitude:ze("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ki{constructor(t){this._values=(t||[]).map((i=>i))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(r,l){if(r.length!==l.length)return!1;for(let c=0;c<r.length;++c)if(r[c]!==l[c])return!1;return!0})(this._values,t._values)}toJSON(){return{type:ki._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(Zl(t,ki._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((i=>typeof i=="number")))return new ki(t.vectorValues);throw new it(Q.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}ki._jsonSchemaVersion="firestore/vectorValue/1.0",ki._jsonSchema={type:ze("string",ki._jsonSchemaVersion),vectorValues:ze("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nN=/^__.*__$/;class iN{constructor(t,i,r){this.data=t,this.fieldMask=i,this.fieldTransforms=r}toMutation(t,i){return this.fieldMask!==null?new yr(t,this.data,this.fieldMask,i,this.fieldTransforms):new Wl(t,this.data,i,this.fieldTransforms)}}class sA{constructor(t,i,r){this.data=t,this.fieldMask=i,this.fieldTransforms=r}toMutation(t,i){return new yr(t,this.data,this.fieldMask,i,this.fieldTransforms)}}function rA(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw pt(40011,{Ac:s})}}class bg{constructor(t,i,r,l,c,d){this.settings=t,this.databaseId=i,this.serializer=r,this.ignoreUndefinedProperties=l,c===void 0&&this.Rc(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(t){return new bg({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(t){const i=this.path?.child(t),r=this.Vc({path:i,fc:!1});return r.gc(t),r}yc(t){const i=this.path?.child(t),r=this.Vc({path:i,fc:!1});return r.Rc(),r}wc(t){return this.Vc({path:void 0,fc:!0})}Sc(t){return vh(t,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(t){return this.fieldMask.find((i=>t.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>t.isPrefixOf(i.field)))!==void 0}Rc(){if(this.path)for(let t=0;t<this.path.length;t++)this.gc(this.path.get(t))}gc(t){if(t.length===0)throw this.Sc("Document fields must not be empty");if(rA(this.Ac)&&nN.test(t))throw this.Sc('Document fields cannot begin and end with "__"')}}class sN{constructor(t,i,r){this.databaseId=t,this.ignoreUndefinedProperties=i,this.serializer=r||Vh(t)}Cc(t,i,r,l=!1){return new bg({Ac:t,methodName:i,Dc:r,path:sn.emptyPath(),fc:!1,bc:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function au(s){const t=s._freezeSettings(),i=Vh(s._databaseId);return new sN(s._databaseId,!!t.ignoreUndefinedProperties,i)}function wg(s,t,i,r,l,c={}){const d=s.Cc(c.merge||c.mergeFields?2:0,t,i,l);Cg("Data must be an object, but it was:",d,r);const p=lA(r,d);let _,y;if(c.merge)_=new Mn(d.fieldMask),y=d.fieldTransforms;else if(c.mergeFields){const A=[];for(const S of c.mergeFields){const N=Om(t,S,i);if(!d.contains(N))throw new it(Q.INVALID_ARGUMENT,`Field '${N}' is specified in your field mask but missing from your input data.`);cA(A,N)||A.push(N)}_=new Mn(A),y=d.fieldTransforms.filter((S=>_.covers(S.field)))}else _=null,y=d.fieldTransforms;return new iN(new dn(p),_,y)}class kh extends ru{_toFieldTransform(t){if(t.Ac!==2)throw t.Ac===1?t.Sc(`${this._methodName}() can only appear at the top level of your update data`):t.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof kh}}class Rg extends ru{_toFieldTransform(t){return new EE(t.path,new ql)}isEqual(t){return t instanceof Rg}}class Ig extends ru{constructor(t,i){super(t),this.Fc=i}_toFieldTransform(t){const i=new Gl(t.serializer,pE(t.serializer,this.Fc));return new EE(t.path,i)}isEqual(t){return t instanceof Ig&&this.Fc===t.Fc}}function aA(s,t,i,r){const l=s.Cc(1,t,i);Cg("Data must be an object, but it was:",l,r);const c=[],d=dn.empty();pr(r,((_,y)=>{const A=Ng(t,_,i);y=je(y);const S=l.yc(A);if(y instanceof kh)c.push(A);else{const N=ou(y,S);N!=null&&(c.push(A),d.set(A,N))}}));const p=new Mn(c);return new sA(d,p,l.fieldTransforms)}function oA(s,t,i,r,l,c){const d=s.Cc(1,t,i),p=[Om(t,r,i)],_=[l];if(c.length%2!=0)throw new it(Q.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let N=0;N<c.length;N+=2)p.push(Om(t,c[N])),_.push(c[N+1]);const y=[],A=dn.empty();for(let N=p.length-1;N>=0;--N)if(!cA(y,p[N])){const G=p[N];let J=_[N];J=je(J);const st=d.yc(G);if(J instanceof kh)y.push(G);else{const W=ou(J,st);W!=null&&(y.push(G),A.set(G,W))}}const S=new Mn(y);return new sA(A,S,d.fieldTransforms)}function rN(s,t,i,r=!1){return ou(i,s.Cc(r?4:3,t))}function ou(s,t){if(uA(s=je(s)))return Cg("Unsupported field value:",t,s),lA(s,t);if(s instanceof ru)return(function(r,l){if(!rA(l.Ac))throw l.Sc(`${r._methodName}() can only be used with update() and set()`);if(!l.path)throw l.Sc(`${r._methodName}() is not currently supported inside arrays`);const c=r._toFieldTransform(l);c&&l.fieldTransforms.push(c)})(s,t),null;if(s===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),s instanceof Array){if(t.settings.fc&&t.Ac!==4)throw t.Sc("Nested arrays are not supported");return(function(r,l){const c=[];let d=0;for(const p of r){let _=ou(p,l.wc(d));_==null&&(_={nullValue:"NULL_VALUE"}),c.push(_),d++}return{arrayValue:{values:c}}})(s,t)}return(function(r,l){if((r=je(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return pE(l.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const c=pe.fromDate(r);return{timestampValue:dh(l.serializer,c)}}if(r instanceof pe){const c=new pe(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:dh(l.serializer,c)}}if(r instanceof Pi)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof On)return{bytesValue:NE(l.serializer,r._byteString)};if(r instanceof ve){const c=l.databaseId,d=r.firestore._databaseId;if(!d.isEqual(c))throw l.Sc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:sg(r.firestore._databaseId||l.databaseId,r._key.path)}}if(r instanceof ki)return(function(d,p){return{mapValue:{fields:{[tE]:{stringValue:eE},[hh]:{arrayValue:{values:d.toArray().map((y=>{if(typeof y!="number")throw p.Sc("VectorValues must only contain numeric values.");return tg(p.serializer,y)}))}}}}}})(r,l);throw l.Sc(`Unsupported field value: ${wh(r)}`)})(s,t)}function lA(s,t){const i={};return KT(s)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):pr(s,((r,l)=>{const c=ou(l,t.mc(r));c!=null&&(i[r]=c)})),{mapValue:{fields:i}}}function uA(s){return!(typeof s!="object"||s===null||s instanceof Array||s instanceof Date||s instanceof pe||s instanceof Pi||s instanceof On||s instanceof ve||s instanceof ru||s instanceof ki)}function Cg(s,t,i){if(!uA(i)||!QT(i)){const r=wh(i);throw r==="an object"?t.Sc(s+" a custom object"):t.Sc(s+" "+r)}}function Om(s,t,i){if((t=je(t))instanceof su)return t._internalPath;if(typeof t=="string")return Ng(s,t);throw vh("Field path arguments must be of type string or ",s,!1,void 0,i)}const aN=new RegExp("[~\\*/\\[\\]]");function Ng(s,t,i){if(t.search(aN)>=0)throw vh(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,i);try{return new su(...t.split("."))._internalPath}catch{throw vh(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,i)}}function vh(s,t,i,r,l){const c=r&&!r.isEmpty(),d=l!==void 0;let p=`Function ${t}() called with invalid data`;i&&(p+=" (via `toFirestore()`)"),p+=". ";let _="";return(c||d)&&(_+=" (found",c&&(_+=` in field ${r}`),d&&(_+=` in document ${l}`),_+=")"),new it(Q.INVALID_ARGUMENT,p+s+_)}function cA(s,t){return s.some((i=>i.isEqual(t)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Th{constructor(t,i,r,l,c){this._firestore=t,this._userDataWriter=i,this._key=r,this._document=l,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new ve(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new oN(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const i=this._document.data.field(zh("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i)}}}class oN extends Th{data(){return super.data()}}function zh(s,t){return typeof t=="string"?Ng(s,t):t instanceof su?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hA(s){if(s.limitType==="L"&&s.explicitOrderBy.length===0)throw new it(Q.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Dg{}class fA extends Dg{}function qc(s,t,...i){let r=[];t instanceof Dg&&r.push(t),r=r.concat(i),(function(c){const d=c.filter((_=>_ instanceof xg)).length,p=c.filter((_=>_ instanceof jh)).length;if(d>1||d>0&&p>0)throw new it(Q.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const l of r)s=l._apply(s);return s}class jh extends fA{constructor(t,i,r){super(),this._field=t,this._op=i,this._value=r,this.type="where"}static _create(t,i,r){return new jh(t,i,r)}_apply(t){const i=this._parse(t);return dA(t._query,i),new _r(t.firestore,t.converter,Am(t._query,i))}_parse(t){const i=au(t.firestore);return(function(c,d,p,_,y,A,S){let N;if(y.isKeyField()){if(A==="array-contains"||A==="array-contains-any")throw new it(Q.INVALID_ARGUMENT,`Invalid Query. You can't perform '${A}' queries on documentId().`);if(A==="in"||A==="not-in"){q0(S,A);const J=[];for(const st of S)J.push(B0(_,c,st));N={arrayValue:{values:J}}}else N=B0(_,c,S)}else A!=="in"&&A!=="not-in"&&A!=="array-contains-any"||q0(S,A),N=rN(p,d,S,A==="in"||A==="not-in");return ke.create(y,A,N)})(t._query,"where",i,t.firestore._databaseId,this._field,this._op,this._value)}}function j0(s,t,i){const r=t,l=zh("where",s);return jh._create(l,r,i)}class xg extends Dg{constructor(t,i){super(),this.type=t,this._queryConstraints=i}static _create(t,i){return new xg(t,i)}_parse(t){const i=this._queryConstraints.map((r=>r._parse(t))).filter((r=>r.getFilters().length>0));return i.length===1?i[0]:hi.create(i,this._getOperator())}_apply(t){const i=this._parse(t);return i.getFilters().length===0?t:((function(l,c){let d=l;const p=c.getFlattenedFilters();for(const _ of p)dA(d,_),d=Am(d,_)})(t._query,i),new _r(t.firestore,t.converter,Am(t._query,i)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Og extends fA{constructor(t,i){super(),this._field=t,this._direction=i,this.type="orderBy"}static _create(t,i){return new Og(t,i)}_apply(t){const i=(function(l,c,d){if(l.startAt!==null)throw new it(Q.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(l.endAt!==null)throw new it(Q.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Bl(c,d)})(t._query,this._field,this._direction);return new _r(t.firestore,t.converter,(function(l,c){const d=l.explicitOrderBy.concat([c]);return new vo(l.path,l.collectionGroup,d,l.filters.slice(),l.limit,l.limitType,l.startAt,l.endAt)})(t._query,i))}}function im(s,t="asc"){const i=t,r=zh("orderBy",s);return Og._create(r,i)}function B0(s,t,i){if(typeof(i=je(i))=="string"){if(i==="")throw new it(Q.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!uE(t)&&i.indexOf("/")!==-1)throw new it(Q.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${i}' contains a '/' character.`);const r=t.path.child(le.fromString(i));if(!ft.isDocumentKey(r))throw new it(Q.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return n0(s,new ft(r))}if(i instanceof ve)return n0(s,i._key);throw new it(Q.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${wh(i)}.`)}function q0(s,t){if(!Array.isArray(s)||s.length===0)throw new it(Q.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function dA(s,t){const i=(function(l,c){for(const d of l)for(const p of d.getFlattenedFilters())if(c.indexOf(p.op)>=0)return p.op;return null})(s.filters,(function(l){switch(l){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(t.op));if(i!==null)throw i===t.op?new it(Q.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new it(Q.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${i.toString()}' filters.`)}class mA{convertValue(t,i="none"){switch(dr(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Ce(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,i);case 5:return t.stringValue;case 6:return this.convertBytes(fr(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,i);case 11:return this.convertObject(t.mapValue,i);case 10:return this.convertVectorValue(t.mapValue);default:throw pt(62114,{value:t})}}convertObject(t,i){return this.convertObjectMap(t.fields,i)}convertObjectMap(t,i="none"){const r={};return pr(t,((l,c)=>{r[l]=this.convertValue(c,i)})),r}convertVectorValue(t){const i=t.fields?.[hh].arrayValue?.values?.map((r=>Ce(r.doubleValue)));return new ki(i)}convertGeoPoint(t){return new Pi(Ce(t.latitude),Ce(t.longitude))}convertArray(t,i){return(t.values||[]).map((r=>this.convertValue(r,i)))}convertServerTimestamp(t,i){switch(i){case"previous":const r=Ih(t);return r==null?null:this.convertValue(r,i);case"estimate":return this.convertTimestamp(kl(t));default:return null}}convertTimestamp(t){const i=hr(t);return new pe(i.seconds,i.nanos)}convertDocumentKey(t,i){const r=le.fromString(t);Kt(LE(r),9688,{name:t});const l=new zl(r.get(1),r.get(3)),c=new ft(r.popFirst(5));return l.isEqual(i)||ds(`Document ${c} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mg(s,t,i){let r;return r=s?i&&(i.merge||i.mergeFields)?s.toFirestore(t,i):s.toFirestore(t):t,r}class lN extends mA{constructor(t){super(),this.firestore=t}convertBytes(t){return new On(t)}convertReference(t){const i=this.convertDocumentKey(t,this.firestore._databaseId);return new ve(this.firestore,null,i)}}class Ja{constructor(t,i){this.hasPendingWrites=t,this.fromCache=i}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class ur extends Th{constructor(t,i,r,l,c,d){super(t,i,r,l,d),this._firestore=t,this._firestoreImpl=t,this.metadata=c}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const i=new th(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,i={}){if(this._document){const r=this._document.data.field(zh("DocumentSnapshot.get",t));if(r!==null)return this._userDataWriter.convertValue(r,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new it(Q.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,i={};return i.type=ur._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}ur._jsonSchemaVersion="firestore/documentSnapshot/1.0",ur._jsonSchema={type:ze("string",ur._jsonSchemaVersion),bundleSource:ze("string","DocumentSnapshot"),bundleName:ze("string"),bundle:ze("string")};class th extends ur{data(t={}){return super.data(t)}}class Jr{constructor(t,i,r,l){this._firestore=t,this._userDataWriter=i,this._snapshot=l,this.metadata=new Ja(l.hasPendingWrites,l.fromCache),this.query=r}get docs(){const t=[];return this.forEach((i=>t.push(i))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,i){this._snapshot.docs.forEach((r=>{t.call(i,new th(this._firestore,this._userDataWriter,r.key,r,new Ja(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const i=!!t.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new it(Q.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(l,c){if(l._snapshot.oldDocs.isEmpty()){let d=0;return l._snapshot.docChanges.map((p=>{const _=new th(l._firestore,l._userDataWriter,p.doc.key,p.doc,new Ja(l._snapshot.mutatedKeys.has(p.doc.key),l._snapshot.fromCache),l.query.converter);return p.doc,{type:"added",doc:_,oldIndex:-1,newIndex:d++}}))}{let d=l._snapshot.oldDocs;return l._snapshot.docChanges.filter((p=>c||p.type!==3)).map((p=>{const _=new th(l._firestore,l._userDataWriter,p.doc.key,p.doc,new Ja(l._snapshot.mutatedKeys.has(p.doc.key),l._snapshot.fromCache),l.query.converter);let y=-1,A=-1;return p.type!==0&&(y=d.indexOf(p.doc.key),d=d.delete(p.doc.key)),p.type!==1&&(d=d.add(p.doc),A=d.indexOf(p.doc.key)),{type:uN(p.type),doc:_,oldIndex:y,newIndex:A}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new it(Q.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=Jr._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=Km.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],r=[],l=[];return this.docs.forEach((c=>{c._document!==null&&(i.push(c._document),r.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),l.push(c.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function uN(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return pt(61501,{type:s})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sm(s){s=An(s,ve);const t=An(s.firestore,gs);return ZC(iu(t),s._key).then((i=>gA(t,s,i)))}Jr._jsonSchemaVersion="firestore/querySnapshot/1.0",Jr._jsonSchema={type:ze("string",Jr._jsonSchemaVersion),bundleSource:ze("string","QuerySnapshot"),bundleName:ze("string"),bundle:ze("string")};class Bh extends mA{constructor(t){super(),this.firestore=t}convertBytes(t){return new On(t)}convertReference(t){const i=this.convertDocumentKey(t,this.firestore._databaseId);return new ve(this.firestore,null,i)}}function rm(s){s=An(s,_r);const t=An(s.firestore,gs),i=iu(t),r=new Bh(t);return hA(s._query),JC(i,s._query).then((l=>new Jr(t,r,s,l)))}function Hc(s,t,i){s=An(s,ve);const r=An(s.firestore,gs),l=Mg(s.converter,t,i);return Vg(r,[wg(au(r),"setDoc",s._key,l,s.converter!==null,i).toMutation(s._key,un.none())])}function H0(s,t,i,...r){s=An(s,ve);const l=An(s.firestore,gs),c=au(l);let d;return d=typeof(t=je(t))=="string"||t instanceof su?oA(c,"updateDoc",s._key,t,i,r):aA(c,"updateDoc",s._key,t),Vg(l,[d.toMutation(s._key,un.exists(!0))])}function F0(s,t){const i=An(s.firestore,gs),r=Ws(s),l=Mg(s.converter,t);return Vg(i,[wg(au(s.firestore),"addDoc",r._key,l,s.converter!==null,{}).toMutation(r._key,un.exists(!1))]).then((()=>r))}function G0(s,...t){s=je(s);let i={includeMetadataChanges:!1,source:"default"},r=0;typeof t[r]!="object"||z0(t[r])||(i=t[r++]);const l={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(z0(t[r])){const _=t[r];t[r]=_.next?.bind(_),t[r+1]=_.error?.bind(_),t[r+2]=_.complete?.bind(_)}let c,d,p;if(s instanceof ve)d=An(s.firestore,gs),p=Ch(s._key.path),c={next:_=>{t[r]&&t[r](gA(d,s,_))},error:t[r+1],complete:t[r+2]};else{const _=An(s,_r);d=An(_.firestore,gs),p=_._query;const y=new Bh(d);c={next:A=>{t[r]&&t[r](new Jr(d,y,_,A))},error:t[r+1],complete:t[r+2]},hA(s._query)}return(function(y,A,S,N){const G=new Ag(N),J=new vg(A,G,S);return y.asyncQueue.enqueueAndForget((async()=>pg(await _h(y),J))),()=>{G.Nu(),y.asyncQueue.enqueueAndForget((async()=>yg(await _h(y),J)))}})(iu(d),p,l,c)}function Vg(s,t){return(function(r,l){const c=new Ui;return r.asyncQueue.enqueueAndForget((async()=>LC(await XC(r),l,c))),c.promise})(iu(s),t)}function gA(s,t,i){const r=i.docs.get(t._key),l=new Bh(s);return new ur(s,l,t._key,r,new Ja(i.hasPendingWrites,i.fromCache),t.converter)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cN={maxAttempts:5};function Il(s,t){if((s=je(s)).firestore!==t)throw new it(Q.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hN{constructor(t,i){this._firestore=t,this._transaction=i,this._dataReader=au(t)}get(t){const i=Il(t,this._firestore),r=new lN(this._firestore);return this._transaction.lookup([i._key]).then((l=>{if(!l||l.length!==1)return pt(24041);const c=l[0];if(c.isFoundDocument())return new Th(this._firestore,r,c.key,c,i.converter);if(c.isNoDocument())return new Th(this._firestore,r,i._key,null,i.converter);throw pt(18433,{doc:c})}))}set(t,i,r){const l=Il(t,this._firestore),c=Mg(l.converter,i,r),d=wg(this._dataReader,"Transaction.set",l._key,c,l.converter!==null,r);return this._transaction.set(l._key,d),this}update(t,i,r,...l){const c=Il(t,this._firestore);let d;return d=typeof(i=je(i))=="string"||i instanceof su?oA(this._dataReader,"Transaction.update",c._key,i,r,l):aA(this._dataReader,"Transaction.update",c._key,i),this._transaction.update(c._key,d),this}delete(t){const i=Il(t,this._firestore);return this._transaction.delete(i._key),this}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fN extends hN{constructor(t,i){super(t,i),this._firestore=t}get(t){const i=Il(t,this._firestore),r=new Bh(this._firestore);return super.get(t).then((l=>new ur(this._firestore,r,i._key,l._document,new Ja(!1,!1),i.converter)))}}function Fc(s,t,i){s=An(s,gs);const r={...cN,...i};return(function(c){if(c.maxAttempts<1)throw new it(Q.INVALID_ARGUMENT,"Max attempts must be at least 1")})(r),(function(c,d,p){const _=new Ui;return c.asyncQueue.enqueueAndForget((async()=>{const y=await $C(c);new QC(c.asyncQueue,y,p,d,_).ju()})),_.promise})(iu(s),(l=>t(new fN(s,l))),r)}function oi(){return new Rg("serverTimestamp")}function Sl(s){return new Ig("increment",s)}(function(t,i=!0){(function(l){po=l})(mo),io(new ta("firestore",((r,{instanceIdentifier:l,options:c})=>{const d=r.getProvider("app").getImmediate(),p=new gs(new a2(r.getProvider("auth-internal")),new u2(d,r.getProvider("app-check-internal")),(function(y,A){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new it(Q.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new zl(y.options.projectId,A)})(d,l),d);return c={useFetchStreams:i,...c},p._setSettings(c),p}),"PUBLIC").setMultipleInstances(!0)),ar(Hv,Fv,t),ar(Hv,Fv,"esm2020")})();const dN={apiKey:"AIzaSyD9Q8xysodbNwRxv_YshLDo5pG9-CvdTQE",authDomain:"pallavolo-67515986-17130.firebaseapp.com",projectId:"pallavolo-67515986-17130",storageBucket:"pallavolo-67515986-17130.firebasestorage.app",messagingSenderId:"462112859333",appId:"1:462112859333:web:059bb7a96b44dca9e33cac"},pA=iT(dN),am=n2(pA),en=tN(pA),mN=new ls,om=14,oe={NO_MATCHES:"no_matches",MATCH_LIST:"match_list",MATCH_DETAIL:"match_detail",MATCH_HISTORY:"match_history"};function gN(){const[s,t]=ge.useState(null),[i,r]=ge.useState(!1),[l,c]=ge.useState(!1),[d,p]=ge.useState([]),[_,y]=ge.useState([]),[A,S]=ge.useState(null),[N,G]=ge.useState([]),[J,st]=ge.useState(""),[W,yt]=ge.useState(!1),[Et,vt]=ge.useState(null),[St,Gt]=ge.useState(oe.NO_MATCHES),[dt,C]=ge.useState(null),[b,I]=ge.useState([]),[V,D]=ge.useState([]),U=ge.useMemo(()=>Ws(en,"state","currentSession"),[]),w=s?.email==="tidolamiamail@gmail.com";ge.useEffect(()=>{const Z=Fw(am,async at=>{at?(t(at),r(!0),await Hc(Ws(en,"users",at.uid),{email:at.email,displayName:at.displayName,photoURL:at.photoURL,lastLogin:oi()},{merge:!0}),Qt(at.uid)):(t(null),r(!1),yt(!1),vt(null))});return()=>Z()},[]),ge.useEffect(()=>{let Z;return(async()=>((await sm(U)).exists()||await Hc(U,{participants:[],reserves:[],lastUpdated:oi()}),Z=G0(U,ht=>{const lt=ht.data();p(Array.isArray(lt?.participants)?lt.participants:[]),y(Array.isArray(lt?.reserves)?lt.reserves:[]),S(lt?.date||null),St!==oe.MATCH_HISTORY&&St!==oe.MATCH_DETAIL&&(lt?.date?(Gt(oe.MATCH_LIST),C(lt)):Gt(oe.NO_MATCHES))})))(),()=>{typeof Z=="function"&&Z()}},[U]),ge.useEffect(()=>{const at=(async()=>{try{const ht=qc(Ya(en,"activeMatches"),im("date","asc"));return G0(ht,Rt=>{const Vt=Rt.docs.map(Ct=>({id:Ct.id,...Ct.data()}));D(Vt),St===oe.NO_MATCHES&&Vt.length>0?Gt(oe.MATCH_LIST):St===oe.MATCH_LIST&&Vt.length===0&&Gt(oe.NO_MATCHES)})}catch(ht){console.error("Error loading active matches:",ht),D([])}})();return()=>{typeof at=="function"&&at.then(ht=>ht())}},[St]);function he(){const Z=new Date,ht=(9-Z.getDay())%7||7,lt=new Date(Z);lt.setDate(Z.getDate()+ht),lt.setHours(20,30,0,0);const Rt=Vt=>Vt.toString().padStart(2,"0");return`${lt.getFullYear()}-${Rt(lt.getMonth()+1)}-${Rt(lt.getDate())}T${Rt(lt.getHours())}:${Rt(lt.getMinutes())}`}const[fe,H]=ge.useState(he()),et=async()=>{if(w)try{const Z=qc(Ya(en,"activeMatches"),j0("date","==",fe));if(!(await rm(Z)).empty){alert("Esiste già una partita per questo giorno e orario!");return}const ht=await F0(Ya(en,"activeMatches"),{participants:[],reserves:[],date:fe,createdAt:oi(),lastUpdated:oi(),createdBy:s.uid,status:"active"});alert("Nuova partita creata!"),console.log("Partita creata con ID:",ht.id)}catch(Z){console.error("Errore nella creazione della partita:",Z),alert("Errore nella creazione della partita")}},mt=async()=>{c(!0);try{const at=(await hR(am,mN)).user;await Hc(Ws(en,"users",at.uid),{email:at.email,displayName:at.displayName,photoURL:at.photoURL,lastLogin:oi()},{merge:!0}),t(at),r(!0),Qt(at.uid)}catch(Z){alert(`Errore durante il login: ${Z.message||Z}`),console.error("Login error:",Z)}finally{c(!1)}},Ht=async()=>{await Gw(am),r(!1),t(null)},Qt=async Z=>{const at=await sm(Ws(en,"users",Z)),ht=at.exists()?at.data():{},lt=qc(Ya(en,"sessions"),j0("participantUids","array-contains",Z),im("date","desc")),Vt=(await rm(lt)).docs.map(Ct=>({id:Ct.id,...Ct.data()}));vt({totalSessions:ht?.stats?.totalSessions||0,asParticipant:ht?.stats?.asParticipant||0,asReserve:ht?.stats?.asReserve||0,friendsBrought:ht?.stats?.friendsBrought||0,sessionsHistory:Vt})},O=async()=>{try{const Z=qc(Ya(en,"sessions"),im("date","desc")),ht=(await rm(Z)).docs.map(lt=>({id:lt.id,...lt.data()}));I(ht)}catch(Z){console.error("Error loading match history:",Z),I([])}},K=()=>dt?dt.participants?.some(Z=>Z.uid===s?.uid)||dt.reserves?.some(Z=>Z.uid===s?.uid):!1,nt=!!dt,rt=()=>{if(!dt)return 0;let Z=dt.participants?.length||0;for(const at of dt.participants||[])Z+=at.friends?.length||0;return Z},At=()=>{if(!dt)return 0;let Z=dt.reserves?.length||0;for(const at of dt.reserves||[])Z+=at.friends?.length||0;return Z},It=async(Z=!1)=>{if(!(!i||!s||!dt))try{const at=Ws(en,"activeMatches",dt.id);await Fc(en,async ht=>{const Rt=(await ht.get(at)).data()||{participants:[],reserves:[]},Vt=Rt.participants?.some(Ke=>Ke.uid===s.uid),Ct=Rt.reserves?.some(Ke=>Ke.uid===s.uid);if(Vt||Ct)throw new Error("Sei già iscritto!");const Wt={uid:s.uid,name:s.displayName,photoURL:s.photoURL,friends:N,timestamp:new Date().toLocaleString("it-IT")},Dt={...Rt};Dt.participants=Array.isArray(Dt.participants)?Dt.participants:[],Dt.reserves=Array.isArray(Dt.reserves)?Dt.reserves:[],Z?Dt.reserves=[...Dt.reserves,Wt]:Dt.participants.length<om?Dt.participants=[...Dt.participants,Wt]:Dt.reserves=[...Dt.reserves,Wt],ht.update(at,{participants:Dt.participants,reserves:Dt.reserves,lastUpdated:oi()})}),G([]),await Qt(s.uid),!Z&&(dt.participants?.length||0)>=om&&alert("Lista partecipanti piena! Sei stato aggiunto alle riserve.")}catch(at){alert(at.message||"Errore durante l'iscrizione")}},Pt=async()=>{if(!(!i||!s))try{await Fc(en,async Z=>{const ht=(await Z.get(U)).data()||{participants:[],reserves:[]},lt=ht.participants.findIndex(Wt=>Wt.uid===s.uid),Rt=ht.reserves.findIndex(Wt=>Wt.uid===s.uid);if(lt===-1&&Rt===-1)throw new Error("Non sei iscritto a questo allenamento.");const Vt=[...ht.participants];let Ct=[...ht.reserves];if(lt!==-1){if(Vt.splice(lt,1),Ct.length>0){const Wt=Ct[0];Ct=Ct.slice(1),Vt.push(Wt)}}else Rt!==-1&&(Ct=Ct.filter(Wt=>Wt.uid!==s.uid));Z.set(U,{participants:Vt,reserves:Ct,lastUpdated:oi(),date:ht.date})})}catch(Z){alert(Z.message||"Errore durante la disiscrizione")}},Ee=async(Z,at=!1)=>{if(w)try{await Fc(en,async ht=>{const Rt=(await ht.get(U)).data()||{participants:[],reserves:[]};let Vt=[...Rt.participants],Ct=[...Rt.reserves];if(at)Ct=Ct.filter(Wt=>Wt.uid!==Z);else if(Vt=Vt.filter(Wt=>Wt.uid!==Z),Ct.length>0){const Wt=Ct[0];Ct=Ct.slice(1),Vt.push(Wt)}ht.set(U,{participants:Vt,reserves:Ct,lastUpdated:oi(),date:Rt.date})})}catch(ht){alert(ht.message||"Errore durante la rimozione")}},ue=async(Z,at,ht=!1)=>{if(w)try{await Fc(en,async lt=>{const Vt=(await lt.get(U)).data()||{participants:[],reserves:[]};let Ct=[...Vt.participants],Wt=[...Vt.reserves];if(ht){const Dt=Wt.findIndex(Ke=>Ke.uid===Z);Dt!==-1&&Wt[Dt].friends&&(Wt[Dt]={...Wt[Dt],friends:Wt[Dt].friends.filter((Ke,qi)=>qi!==at)})}else{const Dt=Ct.findIndex(Ke=>Ke.uid===Z);Dt!==-1&&Ct[Dt].friends&&(Ct[Dt]={...Ct[Dt],friends:Ct[Dt].friends.filter((Ke,qi)=>qi!==at)})}lt.set(U,{participants:Ct,reserves:Wt,lastUpdated:oi(),date:Vt.date})})}catch(lt){alert(lt.message||"Errore durante la rimozione dell'amico")}},Bi=async()=>{try{const at=(await sm(U)).data()||{participants:[],reserves:[]};if(!at.participants||at.participants.length===0){alert("Non ci sono partecipanti da salvare!");return}const ht={date:oi(),participants:at.participants,reserves:at.reserves||[],participantUids:(at.participants||[]).map(Ct=>Ct.uid),reserveUids:(at.reserves||[]).map(Ct=>Ct.uid)},lt=await F0(Ya(en,"sessions"),ht),Rt=(at.participants||[]).map(Ct=>H0(Ws(en,"users",Ct.uid),{"stats.totalSessions":Sl(1),"stats.asParticipant":Sl(1),"stats.friendsBrought":Sl(Ct.friends?.length||0)})),Vt=(at.reserves||[]).map(Ct=>H0(Ws(en,"users",Ct.uid),{"stats.asReserve":Sl(1),"stats.friendsBrought":Sl(Ct.friends?.length||0)}));await Promise.allSettled([...Rt,...Vt]),await Hc(U,{participants:[],reserves:[],lastUpdated:oi(),lastSessionId:lt.id},{merge:!0}),alert("Sessione salvata! Le statistiche sono state aggiornate."),s&&await Qt(s.uid)}catch{alert("Errore durante la chiusura della sessione")}},ys=()=>M.jsx("div",{className:"bg-gray-800 rounded-xl shadow-2xl p-8 mb-6 border border-gray-700",children:M.jsxs("div",{className:"flex items-center justify-between mb-6",children:[M.jsxs("div",{className:"flex items-center gap-3",children:[M.jsx("div",{className:"bg-indigo-600 p-3 rounded-lg",children:M.jsx(y1,{className:"w-8 h-8 text-white"})}),M.jsxs("div",{children:[M.jsx("h1",{className:"text-3xl font-bold text-gray-100",children:St===oe.MATCH_HISTORY?"Storico Partite":"Iscrizioni pallavolo"}),St===oe.MATCH_DETAIL&&A?M.jsxs("div",{className:"mt-2 text-lg text-indigo-300 font-semibold",children:["Partita del ",new Date(A).toLocaleString("it-IT",{dateStyle:"full",timeStyle:"short"})]}):St===oe.MATCH_HISTORY?M.jsx("div",{className:"mt-2 text-lg text-indigo-300 font-semibold",children:"Partite già giocate"}):St===oe.MATCH_LIST&&A?M.jsx("div",{className:"mt-2 text-lg text-indigo-300 font-semibold",children:"Seleziona una partita per iscriverti"}):M.jsx("div",{className:"mt-2 text-lg text-indigo-300 font-semibold",children:"Nessuna partita attiva"})]})]}),M.jsxs("div",{className:"flex items-center gap-2 mr-4",children:[St===oe.MATCH_DETAIL&&M.jsx("button",{onClick:()=>Gt(A?oe.MATCH_LIST:oe.NO_MATCHES),className:"p-2 bg-gray-700 rounded-lg border border-gray-600 hover:bg-gray-600 transition",title:"Torna alla lista partite",children:M.jsx(dv,{className:"w-6 h-6 text-gray-300"})}),St===oe.MATCH_HISTORY&&M.jsx("button",{onClick:()=>Gt(A?oe.MATCH_LIST:oe.NO_MATCHES),className:"p-2 bg-gray-700 rounded-lg border border-gray-600 hover:bg-gray-600 transition",title:"Torna alla lista partite",children:M.jsx(dv,{className:"w-6 h-6 text-gray-300"})}),(St===oe.NO_MATCHES||St===oe.MATCH_LIST||St===oe.MATCH_DETAIL)&&M.jsx("button",{onClick:()=>{O(),Gt(oe.MATCH_HISTORY)},className:"p-2 bg-gray-700 rounded-lg border border-gray-600 hover:bg-gray-600 transition",title:"Visualizza storico partite",children:M.jsx(fv,{className:"w-6 h-6 text-gray-300"})})]}),i&&M.jsxs("div",{className:"relative ml-auto",children:[M.jsx("button",{onClick:()=>yt(!W),className:"p-2 bg-gray-700 rounded-full border border-gray-600 hover:bg-gray-600 transition",title:"Area personale",children:M.jsx("img",{src:s.photoURL||"",alt:s.displayName||"",className:"w-10 h-10 rounded-full border-2 border-indigo-500"})}),W&&Et&&M.jsxs("div",{className:"absolute right-0 mt-2 w-80 bg-gray-800 rounded-lg shadow-lg border border-gray-700 z-10 p-6",children:[M.jsxs("h3",{className:"text-xl font-bold text-gray-100 mb-4 flex items-center gap-2",children:[M.jsx(u1,{className:"w-6 h-6 text-yellow-500"}),"Le tue statistiche"]}),M.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[M.jsxs("div",{className:"bg-gray-800 rounded-lg p-4 border border-gray-600",children:[M.jsx("div",{className:"text-3xl font-bold text-indigo-400",children:Et.totalSessions||0}),M.jsx("div",{className:"text-sm text-gray-400",children:"Sessioni totali"})]}),M.jsxs("div",{className:"bg-gray-800 rounded-lg p-4 border border-gray-600",children:[M.jsx("div",{className:"text-3xl font-bold text-green-400",children:Et.asParticipant||0}),M.jsx("div",{className:"text-sm text-gray-400",children:"Come partecipante"})]}),M.jsxs("div",{className:"bg-gray-800 rounded-lg p-4 border border-gray-600",children:[M.jsx("div",{className:"text-3xl font-bold text-amber-400",children:Et.asReserve||0}),M.jsx("div",{className:"text-sm text-gray-400",children:"Come riserva"})]}),M.jsxs("div",{className:"bg-gray-800 rounded-lg p-4 border border-gray-600",children:[M.jsx("div",{className:"text-3xl font-bold text-purple-400",children:Et.friendsBrought||0}),M.jsx("div",{className:"text-sm text-gray-400",children:"Amici portati"})]})]}),M.jsx("button",{onClick:Ht,className:"mt-6 w-full px-4 py-2 bg-gray-700 text-gray-100 rounded-lg hover:bg-gray-600 transition border border-gray-600",children:"Esci"})]})]})]})}),_s=()=>M.jsx("div",{className:"flex flex-col items-center justify-center",children:M.jsxs("div",{className:"bg-gray-800 rounded-xl shadow-2xl p-8 border border-gray-700 w-full max-w-md text-center",children:[M.jsx("div",{className:"text-lg text-yellow-200 mb-6",children:"Nessuna partita attiva, attendere che venga creata"}),w&&M.jsxs("div",{className:"space-y-4",children:[M.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[M.jsx("label",{htmlFor:"nextSessionDate",className:"text-sm text-gray-300 font-medium",children:"Data prossima partita:"}),M.jsx("input",{id:"nextSessionDate",type:"datetime-local",value:fe,onChange:Z=>H(Z.target.value),className:"px-3 py-2 rounded-lg bg-gray-700 text-gray-100 border border-gray-600 focus:ring-2 focus:ring-blue-500"})]}),M.jsx("button",{onClick:et,className:"px-8 py-4 bg-green-600 text-white rounded-lg hover:bg-green-700 transition font-medium",children:"Crea nuova partita"})]})]})}),vs=()=>M.jsx("div",{className:"space-y-6",children:M.jsxs("div",{className:"bg-gray-800 rounded-xl shadow-2xl p-6 border border-gray-700",children:[M.jsx("h2",{className:"text-2xl font-bold text-gray-100 mb-4",children:"Partite Attive"}),V.length>0?M.jsxs("div",{className:"space-y-4",children:[V.map(Z=>M.jsx("div",{onClick:()=>{C(Z),Gt(oe.MATCH_DETAIL)},className:"bg-gray-700 rounded-lg p-4 border border-gray-600 hover:border-indigo-500 cursor-pointer transition group",children:M.jsxs("div",{className:"flex items-center justify-between",children:[M.jsxs("div",{children:[M.jsx("h3",{className:"text-lg font-semibold text-gray-100 group-hover:text-indigo-300",children:"Partita di Pallavolo"}),M.jsx("p",{className:"text-gray-400 mt-1",children:new Date(Z.date).toLocaleString("it-IT",{dateStyle:"full",timeStyle:"short"})})]}),M.jsxs("div",{className:"flex items-center gap-4",children:[M.jsxs("div",{className:"text-center",children:[M.jsx("div",{className:"text-2xl font-bold text-green-400",children:(Z.participants?.length||0)+(Z.participants?.reduce((at,ht)=>at+(ht.friends?.length||0),0)||0)}),M.jsx("div",{className:"text-xs text-gray-400",children:"Partecipanti"})]}),M.jsxs("div",{className:"text-center",children:[M.jsx("div",{className:"text-2xl font-bold text-amber-400",children:(Z.reserves?.length||0)+(Z.reserves?.reduce((at,ht)=>at+(ht.friends?.length||0),0)||0)}),M.jsx("div",{className:"text-xs text-gray-400",children:"Riserve"})]}),M.jsx("div",{className:"text-indigo-400",children:M.jsx("span",{className:"text-sm",children:"Clicca per iscriverti →"})})]})]})},Z.id)),w&&M.jsxs("div",{className:"border-t border-gray-600 pt-4 space-y-4",children:[M.jsx("h3",{className:"text-lg font-semibold text-gray-100",children:"Controlli Admin"}),M.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[M.jsx("label",{htmlFor:"nextSessionDate",className:"text-sm text-gray-300 font-medium",children:"Data prossima partita:"}),M.jsx("input",{id:"nextSessionDate",type:"datetime-local",value:fe,onChange:Z=>H(Z.target.value),className:"px-3 py-2 rounded-lg bg-gray-700 text-gray-100 border border-gray-600 focus:ring-2 focus:ring-blue-500"})]}),M.jsx("div",{className:"flex gap-3",children:M.jsx("button",{onClick:et,className:"px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition font-medium",children:"Crea Nuova Partita"})})]})]}):M.jsxs("div",{className:"text-center py-8",children:[M.jsx("p",{className:"text-gray-400 mb-4",children:"Nessuna partita attiva al momento"}),w&&M.jsxs("div",{className:"space-y-4",children:[M.jsxs("div",{className:"flex items-center gap-3 mb-2 justify-center",children:[M.jsx("label",{htmlFor:"nextSessionDate",className:"text-sm text-gray-300 font-medium",children:"Data partita:"}),M.jsx("input",{id:"nextSessionDate",type:"datetime-local",value:fe,onChange:Z=>H(Z.target.value),className:"px-3 py-2 rounded-lg bg-gray-700 text-gray-100 border border-gray-600 focus:ring-2 focus:ring-blue-500"})]}),M.jsx("button",{onClick:et,className:"px-8 py-4 bg-green-600 text-white rounded-lg hover:bg-green-700 transition font-medium",children:"Crea Prima Partita"})]})]})]})}),Un=()=>i?M.jsx("div",{className:"space-y-6",children:nt&&M.jsxs(M.Fragment,{children:[!K()&&M.jsxs("div",{className:"space-y-4",children:[M.jsxs("div",{className:"flex gap-3",children:[M.jsxs("button",{onClick:()=>It(!1),className:"flex-1 px-6 py-3 bg-green-600 text-white rounded-lg hover:bg-green-700 transition font-medium flex items-center justify-center gap-2",children:[M.jsx(g1,{className:"w-5 h-5"}),"Iscriviti come Partecipante"]}),M.jsxs("button",{onClick:()=>It(!0),className:"flex-1 px-6 py-3 bg-amber-600 text-white rounded-lg hover:bg-amber-700 transition font-medium flex items-center justify-center gap-2",children:[M.jsx(d1,{className:"w-5 h-5"}),"Iscriviti come Riserva"]})]}),M.jsxs("div",{className:"space-y-4",children:[M.jsxs("div",{className:"text-xs text-gray-400 mb-2",children:["* Puoi aggiungere fino a ",M.jsx("span",{className:"font-bold text-indigo-300",children:"3 amici"})," per sessione"]}),M.jsxs("div",{className:"flex gap-2 items-center",children:[M.jsx("input",{type:"text",value:J||"",onChange:Z=>st(Z.target.value),className:"px-4 py-2 rounded-lg bg-gray-700 text-gray-100 border border-gray-600 focus:ring-2 focus:ring-indigo-500",placeholder:"Nome amico",disabled:N.length>=3}),M.jsx("button",{type:"button",onClick:()=>{J&&N.length<3&&(G([...N,J]),st(""))},className:"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition font-medium",disabled:!J||N.length>=3,children:"Aggiungi amico"})]}),N.length>0&&M.jsxs("div",{className:"mt-2",children:[M.jsx("div",{className:"text-sm text-gray-300 mb-2",children:"Amici aggiunti:"}),M.jsx("ul",{className:"space-y-2",children:N.map((Z,at)=>M.jsxs("li",{className:"flex items-center gap-2",children:[M.jsx("span",{className:"bg-indigo-900 text-indigo-100 px-3 py-1 rounded-full",children:Z}),M.jsx("button",{type:"button",onClick:()=>G(N.filter((ht,lt)=>lt!==at)),className:"text-red-400 hover:text-red-600 text-xs",children:"Rimuovi"})]},at))})]})]})]}),K()&&M.jsx("button",{onClick:Pt,className:"w-full px-6 py-3 bg-red-600 text-white rounded-lg hover:bg-red-700 transition font-medium",children:"Disiscriviti"}),M.jsxs("div",{className:"grid md:grid-cols-2 gap-6 mt-8",children:[M.jsxs("div",{className:"bg-gray-800 rounded-xl shadow-2xl p-6 border border-gray-700",children:[M.jsxs("div",{className:"flex items-center justify-between mb-4",children:[M.jsx("h2",{className:"text-xl font-bold text-gray-100",children:"Partecipanti"}),M.jsxs("span",{className:"bg-green-900 text-green-200 px-3 py-1 rounded-full font-semibold text-sm border border-green-700",children:[rt()," / ",om]})]}),M.jsx("div",{className:"space-y-3 max-h-96 overflow-y-auto",children:!dt||!dt.participants||dt.participants.length===0?M.jsx("p",{className:"text-gray-500 text-center py-4",children:"Nessun partecipante"}):dt.participants.map((Z,at)=>M.jsx("div",{className:"bg-green-900 rounded-lg p-3 border border-green-700",children:M.jsxs("div",{className:"flex items-center gap-3",children:[M.jsx("img",{src:Z.photoURL,alt:Z.name,className:"w-10 h-10 rounded-full border-2 border-green-500"}),M.jsxs("div",{className:"flex-1",children:[M.jsxs("div",{className:"flex items-center justify-between",children:[M.jsx("span",{className:"font-medium text-gray-100",children:Z.name}),M.jsxs("div",{className:"flex items-center gap-2",children:[M.jsx("span",{className:"text-xs text-gray-400",children:Z.timestamp}),w&&M.jsx("button",{onClick:()=>Ee(Z.uid,!1),className:"text-red-400 hover:text-red-600 text-xs px-2 py-1 rounded bg-red-900/30 hover:bg-red-900/50 transition",title:"Rimuovi utente",children:"✕"})]})]}),Z.friends?.length>0&&M.jsx("div",{className:"mt-2 space-y-1",children:Z.friends.map((ht,lt)=>M.jsxs("div",{className:"text-sm text-gray-300 flex items-center gap-2 justify-between",children:[M.jsxs("div",{className:"flex items-center gap-2",children:[M.jsx("span",{className:"text-green-400",children:"+"}),ht]}),w&&M.jsx("button",{onClick:()=>ue(Z.uid,lt,!1),className:"text-red-400 hover:text-red-600 text-xs px-1 py-0.5 rounded bg-red-900/30 hover:bg-red-900/50 transition ml-2",title:"Rimuovi amico",children:"✕"})]},lt))})]})]})},Z.uid+"_"+at))})]}),M.jsxs("div",{className:"bg-gray-800 rounded-xl shadow-2xl p-6 border border-gray-700",children:[M.jsxs("div",{className:"flex items-center justify-between mb-4",children:[M.jsx("h2",{className:"text-xl font-bold text-gray-100",children:"Riserve"}),M.jsx("span",{className:"bg-amber-900 text-amber-200 px-3 py-1 rounded-full font-semibold text-sm border border-amber-700",children:At()})]}),M.jsx("div",{className:"space-y-3 max-h-96 overflow-y-auto",children:!dt||!dt.reserves||dt.reserves.length===0?M.jsx("p",{className:"text-gray-500 text-center py-4",children:"Nessuna riserva"}):dt.reserves.map((Z,at)=>M.jsx("div",{className:"bg-amber-900 rounded-lg p-3 border border-amber-700",children:M.jsxs("div",{className:"flex items-center gap-3",children:[M.jsx("img",{src:Z.photoURL,alt:Z.name,className:"w-10 h-10 rounded-full border-2 border-amber-500"}),M.jsxs("div",{className:"flex-1",children:[M.jsxs("div",{className:"flex items-center justify-between",children:[M.jsxs("span",{className:"font-medium text-gray-100",children:[at+1,". ",Z.name]}),M.jsxs("div",{className:"flex items-center gap-2",children:[M.jsx("span",{className:"text-xs text-gray-400",children:Z.timestamp}),w&&M.jsx("button",{onClick:()=>Ee(Z.uid,!0),className:"text-red-400 hover:text-red-600 text-xs px-2 py-1 rounded bg-red-900/30 hover:bg-red-900/50 transition",title:"Rimuovi utente",children:"✕"})]})]}),Z.friends?.length>0&&M.jsx("div",{className:"mt-2 space-y-1",children:Z.friends.map((ht,lt)=>M.jsxs("div",{className:"text-sm text-gray-300 flex items-center gap-2 justify-between",children:[M.jsxs("div",{className:"flex items-center gap-2",children:[M.jsx("span",{className:"text-amber-400",children:"+"}),ht]}),w&&M.jsx("button",{onClick:()=>ue(Z.uid,lt,!0),className:"text-red-400 hover:text-red-600 text-xs px-1 py-0.5 rounded bg-red-900/30 hover:bg-red-900/50 transition ml-2",title:"Rimuovi amico",children:"✕"})]},lt))})]})]})},Z.uid+"_"+at))})]})]}),w&&M.jsxs("div",{className:"space-y-4 mt-6",children:[M.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[M.jsx("label",{htmlFor:"nextSessionDate",className:"text-sm text-gray-300 font-medium",children:"Data prossima partita:"}),M.jsx("input",{id:"nextSessionDate",type:"datetime-local",value:fe,onChange:Z=>H(Z.target.value),className:"px-3 py-2 rounded-lg bg-gray-700 text-gray-100 border border-gray-600 focus:ring-2 focus:ring-blue-500"})]}),M.jsxs("button",{onClick:et,className:"w-full px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition font-medium flex items-center justify-center gap-2",children:[M.jsx(fv,{className:"w-5 h-5"}),"Nuova partita"]}),M.jsx("button",{onClick:Bi,className:"w-full px-6 py-3 bg-red-600 text-white rounded-lg hover:bg-red-700 transition font-medium",children:"Chiudi sessione"})]})]})}):M.jsxs("div",{className:"space-y-4 text-center py-8",children:[M.jsx("p",{className:"text-gray-300 mb-6",children:"Accedi con Google per iscriverti agli allenamenti"}),M.jsxs("button",{onClick:mt,disabled:l,className:"inline-flex items-center gap-3 px-8 py-4 bg-white text-gray-800 rounded-lg hover:bg-gray-100 transition font-medium shadow-lg disabled:opacity-50",children:[M.jsxs("svg",{className:"w-6 h-6",viewBox:"0 0 24 24",children:[M.jsx("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),M.jsx("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),M.jsx("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),M.jsx("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),l?"Accesso in corso...":"Accedi con Google"]}),M.jsx("p",{className:"text-xs text-gray-500 mt-4",children:"* Login con Firebase/Google OAuth"})]}),vr=()=>M.jsx("div",{className:"space-y-6",children:b.length===0?M.jsx("div",{className:"bg-gray-800 rounded-xl shadow-2xl p-8 border border-gray-700 text-center",children:M.jsx("p",{className:"text-gray-400",children:"Nessuna partita nel database"})}):M.jsx("div",{className:"space-y-4",children:b.map((Z,at)=>M.jsxs("div",{className:"bg-gray-800 rounded-xl shadow-2xl p-6 border border-gray-700",children:[M.jsxs("div",{className:"flex items-center justify-between mb-4",children:[M.jsxs("h3",{className:"text-xl font-bold text-gray-100",children:["Partita #",b.length-at]}),M.jsx("span",{className:"text-sm text-gray-400",children:Z.date?.toDate?Z.date.toDate().toLocaleString("it-IT"):"Data non disponibile"})]}),M.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[M.jsxs("div",{children:[M.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[M.jsx("h4",{className:"text-lg font-semibold text-gray-100",children:"Partecipanti"}),M.jsx("span",{className:"bg-green-900 text-green-200 px-2 py-1 rounded-full text-sm border border-green-700",children:Z.participants?.length||0})]}),M.jsx("div",{className:"space-y-2 max-h-48 overflow-y-auto",children:Z.participants?.length>0?Z.participants.map((ht,lt)=>M.jsxs("div",{className:"bg-green-900/50 rounded-lg p-3 border border-green-700",children:[M.jsx("div",{className:"font-medium text-gray-100",children:ht.name}),ht.friends?.length>0&&M.jsx("div",{className:"mt-1",children:ht.friends.map((Rt,Vt)=>M.jsxs("div",{className:"text-sm text-gray-300 flex items-center gap-1",children:[M.jsx("span",{className:"text-green-400",children:"+"}),Rt]},Vt))})]},lt)):M.jsx("p",{className:"text-gray-500 text-center py-2",children:"Nessun partecipante"})})]}),M.jsxs("div",{children:[M.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[M.jsx("h4",{className:"text-lg font-semibold text-gray-100",children:"Riserve"}),M.jsx("span",{className:"bg-amber-900 text-amber-200 px-2 py-1 rounded-full text-sm border border-amber-700",children:Z.reserves?.length||0})]}),M.jsx("div",{className:"space-y-2 max-h-48 overflow-y-auto",children:Z.reserves?.length>0?Z.reserves.map((ht,lt)=>M.jsxs("div",{className:"bg-amber-900/50 rounded-lg p-3 border border-amber-700",children:[M.jsx("div",{className:"font-medium text-gray-100",children:ht.name}),ht.friends?.length>0&&M.jsx("div",{className:"mt-1",children:ht.friends.map((Rt,Vt)=>M.jsxs("div",{className:"text-sm text-gray-300 flex items-center gap-1",children:[M.jsx("span",{className:"text-amber-400",children:"+"}),Rt]},Vt))})]},lt)):M.jsx("p",{className:"text-gray-500 text-center py-2",children:"Nessuna riserva"})})]})]})]},Z.id))})});return M.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 to-gray-800 p-6",children:M.jsxs("div",{className:"max-w-6xl mx-auto",children:[ys(),St===oe.NO_MATCHES&&_s(),St===oe.MATCH_LIST&&vs(),St===oe.MATCH_DETAIL&&Un(),St===oe.MATCH_HISTORY&&vr()]})})}function pN(){return M.jsx("div",{className:"App",children:M.jsx(gN,{})})}n1.createRoot(document.getElementById("root")).render(M.jsx(ge.StrictMode,{children:M.jsx(pN,{})}));
