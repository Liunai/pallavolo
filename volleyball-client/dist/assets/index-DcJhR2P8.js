(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))r(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&r(d)}).observe(document,{childList:!0,subtree:!0});function i(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function r(l){if(l.ep)return;l.ep=!0;const c=i(l);fetch(l.href,c)}})();var Hd={exports:{}},Cl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var iv;function XS(){if(iv)return Cl;iv=1;var s=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function i(r,l,c){var d=null;if(c!==void 0&&(d=""+c),l.key!==void 0&&(d=""+l.key),"key"in l){c={};for(var p in l)p!=="key"&&(c[p]=l[p])}else c=l;return l=c.ref,{$$typeof:s,type:r,key:d,ref:l!==void 0?l:null,props:c}}return Cl.Fragment=t,Cl.jsx=i,Cl.jsxs=i,Cl}var sv;function $S(){return sv||(sv=1,Hd.exports=XS()),Hd.exports}var b=$S(),Fd={exports:{}},It={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rv;function ZS(){if(rv)return It;rv=1;var s=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),_=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),S=Symbol.for("react.activity"),x=Symbol.iterator;function Q(M){return M===null||typeof M!="object"?null:(M=x&&M[x]||M["@@iterator"],typeof M=="function"?M:null)}var W={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},at=Object.assign,tt={};function _t(M,K,J){this.props=M,this.context=K,this.refs=tt,this.updater=J||W}_t.prototype.isReactComponent={},_t.prototype.setState=function(M,K){if(typeof M!="object"&&typeof M!="function"&&M!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,M,K,"setState")},_t.prototype.forceUpdate=function(M){this.updater.enqueueForceUpdate(this,M,"forceUpdate")};function St(){}St.prototype=_t.prototype;function Et(M,K,J){this.props=M,this.context=K,this.refs=tt,this.updater=J||W}var Yt=Et.prototype=new St;Yt.constructor=Et,at(Yt,_t.prototype),Yt.isPureReactComponent=!0;var te=Array.isArray;function Ht(){}var N={H:null,A:null,T:null,S:null},w=Object.prototype.hasOwnProperty;function I(M,K,J){var lt=J.ref;return{$$typeof:s,type:M,key:K,ref:lt!==void 0?lt:null,props:J}}function V(M,K){return I(M.type,K,M.props)}function D(M){return typeof M=="object"&&M!==null&&M.$$typeof===s}function U(M){var K={"=":"=0",":":"=2"};return"$"+M.replace(/[=:]/g,function(J){return K[J]})}var R=/\/+/g;function Ct(M,K){return typeof M=="object"&&M!==null&&M.key!=null?U(""+M.key):K.toString(36)}function re(M){switch(M.status){case"fulfilled":return M.value;case"rejected":throw M.reason;default:switch(typeof M.status=="string"?M.then(Ht,Ht):(M.status="pending",M.then(function(K){M.status==="pending"&&(M.status="fulfilled",M.value=K)},function(K){M.status==="pending"&&(M.status="rejected",M.reason=K)})),M.status){case"fulfilled":return M.value;case"rejected":throw M.reason}}throw M}function j(M,K,J,lt,pt){var wt=typeof M;(wt==="undefined"||wt==="boolean")&&(M=null);var Vt=!1;if(M===null)Vt=!0;else switch(wt){case"bigint":case"string":case"number":Vt=!0;break;case"object":switch(M.$$typeof){case s:case t:Vt=!0;break;case A:return Vt=M._init,j(Vt(M._payload),K,J,lt,pt)}}if(Vt)return pt=pt(M),Vt=lt===""?"."+Ct(M,0):lt,te(pt)?(J="",Vt!=null&&(J=Vt.replace(R,"$&/")+"/"),j(pt,K,J,"",function(Fi){return Fi})):pt!=null&&(D(pt)&&(pt=V(pt,J+(pt.key==null||M&&M.key===pt.key?"":(""+pt.key).replace(R,"$&/")+"/")+Vt)),K.push(pt)),1;Vt=0;var Ae=lt===""?".":lt+":";if(te(M))for(var ge=0;ge<M.length;ge++)lt=M[ge],wt=Ae+Ct(lt,ge),Vt+=j(lt,K,J,wt,pt);else if(ge=Q(M),typeof ge=="function")for(M=ge.call(M),ge=0;!(lt=M.next()).done;)lt=lt.value,wt=Ae+Ct(lt,ge++),Vt+=j(lt,K,J,wt,pt);else if(wt==="object"){if(typeof M.then=="function")return j(re(M),K,J,lt,pt);throw K=String(M),Error("Objects are not valid as a React child (found: "+(K==="[object Object]"?"object with keys {"+Object.keys(M).join(", ")+"}":K)+"). If you meant to render a collection of children, use an array instead.")}return Vt}function st(M,K,J){if(M==null)return M;var lt=[],pt=0;return j(M,lt,"","",function(wt){return K.call(J,wt,pt++)}),lt}function ft(M){if(M._status===-1){var K=M._result;K=K(),K.then(function(J){(M._status===0||M._status===-1)&&(M._status=1,M._result=J)},function(J){(M._status===0||M._status===-1)&&(M._status=2,M._result=J)}),M._status===-1&&(M._status=0,M._result=K)}if(M._status===1)return M._result.default;throw M._result}var Pt=typeof reportError=="function"?reportError:function(M){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var K=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof M=="object"&&M!==null&&typeof M.message=="string"?String(M.message):String(M),error:M});if(!window.dispatchEvent(K))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",M);return}console.error(M)},Xt={map:st,forEach:function(M,K,J){st(M,function(){K.apply(this,arguments)},J)},count:function(M){var K=0;return st(M,function(){K++}),K},toArray:function(M){return st(M,function(K){return K})||[]},only:function(M){if(!D(M))throw Error("React.Children.only expected to receive a single React element child.");return M}};return It.Activity=S,It.Children=Xt,It.Component=_t,It.Fragment=i,It.Profiler=l,It.PureComponent=Et,It.StrictMode=r,It.Suspense=_,It.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=N,It.__COMPILER_RUNTIME={__proto__:null,c:function(M){return N.H.useMemoCache(M)}},It.cache=function(M){return function(){return M.apply(null,arguments)}},It.cacheSignal=function(){return null},It.cloneElement=function(M,K,J){if(M==null)throw Error("The argument must be a React element, but you passed "+M+".");var lt=at({},M.props),pt=M.key;if(K!=null)for(wt in K.key!==void 0&&(pt=""+K.key),K)!w.call(K,wt)||wt==="key"||wt==="__self"||wt==="__source"||wt==="ref"&&K.ref===void 0||(lt[wt]=K[wt]);var wt=arguments.length-2;if(wt===1)lt.children=J;else if(1<wt){for(var Vt=Array(wt),Ae=0;Ae<wt;Ae++)Vt[Ae]=arguments[Ae+2];lt.children=Vt}return I(M.type,pt,lt)},It.createContext=function(M){return M={$$typeof:d,_currentValue:M,_currentValue2:M,_threadCount:0,Provider:null,Consumer:null},M.Provider=M,M.Consumer={$$typeof:c,_context:M},M},It.createElement=function(M,K,J){var lt,pt={},wt=null;if(K!=null)for(lt in K.key!==void 0&&(wt=""+K.key),K)w.call(K,lt)&&lt!=="key"&&lt!=="__self"&&lt!=="__source"&&(pt[lt]=K[lt]);var Vt=arguments.length-2;if(Vt===1)pt.children=J;else if(1<Vt){for(var Ae=Array(Vt),ge=0;ge<Vt;ge++)Ae[ge]=arguments[ge+2];pt.children=Ae}if(M&&M.defaultProps)for(lt in Vt=M.defaultProps,Vt)pt[lt]===void 0&&(pt[lt]=Vt[lt]);return I(M,wt,pt)},It.createRef=function(){return{current:null}},It.forwardRef=function(M){return{$$typeof:p,render:M}},It.isValidElement=D,It.lazy=function(M){return{$$typeof:A,_payload:{_status:-1,_result:M},_init:ft}},It.memo=function(M,K){return{$$typeof:y,type:M,compare:K===void 0?null:K}},It.startTransition=function(M){var K=N.T,J={};N.T=J;try{var lt=M(),pt=N.S;pt!==null&&pt(J,lt),typeof lt=="object"&&lt!==null&&typeof lt.then=="function"&&lt.then(Ht,Pt)}catch(wt){Pt(wt)}finally{K!==null&&J.types!==null&&(K.types=J.types),N.T=K}},It.unstable_useCacheRefresh=function(){return N.H.useCacheRefresh()},It.use=function(M){return N.H.use(M)},It.useActionState=function(M,K,J){return N.H.useActionState(M,K,J)},It.useCallback=function(M,K){return N.H.useCallback(M,K)},It.useContext=function(M){return N.H.useContext(M)},It.useDebugValue=function(){},It.useDeferredValue=function(M,K){return N.H.useDeferredValue(M,K)},It.useEffect=function(M,K){return N.H.useEffect(M,K)},It.useEffectEvent=function(M){return N.H.useEffectEvent(M)},It.useId=function(){return N.H.useId()},It.useImperativeHandle=function(M,K,J){return N.H.useImperativeHandle(M,K,J)},It.useInsertionEffect=function(M,K){return N.H.useInsertionEffect(M,K)},It.useLayoutEffect=function(M,K){return N.H.useLayoutEffect(M,K)},It.useMemo=function(M,K){return N.H.useMemo(M,K)},It.useOptimistic=function(M,K){return N.H.useOptimistic(M,K)},It.useReducer=function(M,K,J){return N.H.useReducer(M,K,J)},It.useRef=function(M){return N.H.useRef(M)},It.useState=function(M){return N.H.useState(M)},It.useSyncExternalStore=function(M,K,J){return N.H.useSyncExternalStore(M,K,J)},It.useTransition=function(){return N.H.useTransition()},It.version="19.2.0",It}var av;function Um(){return av||(av=1,Fd.exports=ZS()),Fd.exports}var ee=Um(),Gd={exports:{}},Nl={},Qd={exports:{}},Yd={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ov;function JS(){return ov||(ov=1,(function(s){function t(j,st){var ft=j.length;j.push(st);t:for(;0<ft;){var Pt=ft-1>>>1,Xt=j[Pt];if(0<l(Xt,st))j[Pt]=st,j[ft]=Xt,ft=Pt;else break t}}function i(j){return j.length===0?null:j[0]}function r(j){if(j.length===0)return null;var st=j[0],ft=j.pop();if(ft!==st){j[0]=ft;t:for(var Pt=0,Xt=j.length,M=Xt>>>1;Pt<M;){var K=2*(Pt+1)-1,J=j[K],lt=K+1,pt=j[lt];if(0>l(J,ft))lt<Xt&&0>l(pt,J)?(j[Pt]=pt,j[lt]=ft,Pt=lt):(j[Pt]=J,j[K]=ft,Pt=K);else if(lt<Xt&&0>l(pt,ft))j[Pt]=pt,j[lt]=ft,Pt=lt;else break t}}return st}function l(j,st){var ft=j.sortIndex-st.sortIndex;return ft!==0?ft:j.id-st.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;s.unstable_now=function(){return c.now()}}else{var d=Date,p=d.now();s.unstable_now=function(){return d.now()-p}}var _=[],y=[],A=1,S=null,x=3,Q=!1,W=!1,at=!1,tt=!1,_t=typeof setTimeout=="function"?setTimeout:null,St=typeof clearTimeout=="function"?clearTimeout:null,Et=typeof setImmediate<"u"?setImmediate:null;function Yt(j){for(var st=i(y);st!==null;){if(st.callback===null)r(y);else if(st.startTime<=j)r(y),st.sortIndex=st.expirationTime,t(_,st);else break;st=i(y)}}function te(j){if(at=!1,Yt(j),!W)if(i(_)!==null)W=!0,Ht||(Ht=!0,U());else{var st=i(y);st!==null&&re(te,st.startTime-j)}}var Ht=!1,N=-1,w=5,I=-1;function V(){return tt?!0:!(s.unstable_now()-I<w)}function D(){if(tt=!1,Ht){var j=s.unstable_now();I=j;var st=!0;try{t:{W=!1,at&&(at=!1,St(N),N=-1),Q=!0;var ft=x;try{e:{for(Yt(j),S=i(_);S!==null&&!(S.expirationTime>j&&V());){var Pt=S.callback;if(typeof Pt=="function"){S.callback=null,x=S.priorityLevel;var Xt=Pt(S.expirationTime<=j);if(j=s.unstable_now(),typeof Xt=="function"){S.callback=Xt,Yt(j),st=!0;break e}S===i(_)&&r(_),Yt(j)}else r(_);S=i(_)}if(S!==null)st=!0;else{var M=i(y);M!==null&&re(te,M.startTime-j),st=!1}}break t}finally{S=null,x=ft,Q=!1}st=void 0}}finally{st?U():Ht=!1}}}var U;if(typeof Et=="function")U=function(){Et(D)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,Ct=R.port2;R.port1.onmessage=D,U=function(){Ct.postMessage(null)}}else U=function(){_t(D,0)};function re(j,st){N=_t(function(){j(s.unstable_now())},st)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(j){j.callback=null},s.unstable_forceFrameRate=function(j){0>j||125<j?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):w=0<j?Math.floor(1e3/j):5},s.unstable_getCurrentPriorityLevel=function(){return x},s.unstable_next=function(j){switch(x){case 1:case 2:case 3:var st=3;break;default:st=x}var ft=x;x=st;try{return j()}finally{x=ft}},s.unstable_requestPaint=function(){tt=!0},s.unstable_runWithPriority=function(j,st){switch(j){case 1:case 2:case 3:case 4:case 5:break;default:j=3}var ft=x;x=j;try{return st()}finally{x=ft}},s.unstable_scheduleCallback=function(j,st,ft){var Pt=s.unstable_now();switch(typeof ft=="object"&&ft!==null?(ft=ft.delay,ft=typeof ft=="number"&&0<ft?Pt+ft:Pt):ft=Pt,j){case 1:var Xt=-1;break;case 2:Xt=250;break;case 5:Xt=1073741823;break;case 4:Xt=1e4;break;default:Xt=5e3}return Xt=ft+Xt,j={id:A++,callback:st,priorityLevel:j,startTime:ft,expirationTime:Xt,sortIndex:-1},ft>Pt?(j.sortIndex=ft,t(y,j),i(_)===null&&j===i(y)&&(at?(St(N),N=-1):at=!0,re(te,ft-Pt))):(j.sortIndex=Xt,t(_,j),W||Q||(W=!0,Ht||(Ht=!0,U()))),j},s.unstable_shouldYield=V,s.unstable_wrapCallback=function(j){var st=x;return function(){var ft=x;x=st;try{return j.apply(this,arguments)}finally{x=ft}}}})(Yd)),Yd}var lv;function WS(){return lv||(lv=1,Qd.exports=JS()),Qd.exports}var Kd={exports:{}},ln={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var uv;function tb(){if(uv)return ln;uv=1;var s=Um();function t(_){var y="https://react.dev/errors/"+_;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var A=2;A<arguments.length;A++)y+="&args[]="+encodeURIComponent(arguments[A])}return"Minified React error #"+_+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var r={d:{f:i,r:function(){throw Error(t(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},l=Symbol.for("react.portal");function c(_,y,A){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:S==null?null:""+S,children:_,containerInfo:y,implementation:A}}var d=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(_,y){if(_==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return ln.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,ln.createPortal=function(_,y){var A=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(t(299));return c(_,y,null,A)},ln.flushSync=function(_){var y=d.T,A=r.p;try{if(d.T=null,r.p=2,_)return _()}finally{d.T=y,r.p=A,r.d.f()}},ln.preconnect=function(_,y){typeof _=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,r.d.C(_,y))},ln.prefetchDNS=function(_){typeof _=="string"&&r.d.D(_)},ln.preinit=function(_,y){if(typeof _=="string"&&y&&typeof y.as=="string"){var A=y.as,S=p(A,y.crossOrigin),x=typeof y.integrity=="string"?y.integrity:void 0,Q=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;A==="style"?r.d.S(_,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:S,integrity:x,fetchPriority:Q}):A==="script"&&r.d.X(_,{crossOrigin:S,integrity:x,fetchPriority:Q,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},ln.preinitModule=function(_,y){if(typeof _=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var A=p(y.as,y.crossOrigin);r.d.M(_,{crossOrigin:A,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&r.d.M(_)},ln.preload=function(_,y){if(typeof _=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var A=y.as,S=p(A,y.crossOrigin);r.d.L(_,A,{crossOrigin:S,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},ln.preloadModule=function(_,y){if(typeof _=="string")if(y){var A=p(y.as,y.crossOrigin);r.d.m(_,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:A,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else r.d.m(_)},ln.requestFormReset=function(_){r.d.r(_)},ln.unstable_batchedUpdates=function(_,y){return _(y)},ln.useFormState=function(_,y,A){return d.H.useFormState(_,y,A)},ln.useFormStatus=function(){return d.H.useHostTransitionStatus()},ln.version="19.2.0",ln}var cv;function eb(){if(cv)return Kd.exports;cv=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(t){console.error(t)}}return s(),Kd.exports=tb(),Kd.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hv;function nb(){if(hv)return Nl;hv=1;var s=WS(),t=Um(),i=eb();function r(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)n+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function c(e){var n=e,a=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(a=n.return),e=n.return;while(e)}return n.tag===3?a:null}function d(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function p(e){if(e.tag===31){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function _(e){if(c(e)!==e)throw Error(r(188))}function y(e){var n=e.alternate;if(!n){if(n=c(e),n===null)throw Error(r(188));return n!==e?null:e}for(var a=e,o=n;;){var h=a.return;if(h===null)break;var f=h.alternate;if(f===null){if(o=h.return,o!==null){a=o;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===a)return _(h),e;if(f===o)return _(h),n;f=f.sibling}throw Error(r(188))}if(a.return!==o.return)a=h,o=f;else{for(var g=!1,E=h.child;E;){if(E===a){g=!0,a=h,o=f;break}if(E===o){g=!0,o=h,a=f;break}E=E.sibling}if(!g){for(E=f.child;E;){if(E===a){g=!0,a=f,o=h;break}if(E===o){g=!0,o=f,a=h;break}E=E.sibling}if(!g)throw Error(r(189))}}if(a.alternate!==o)throw Error(r(190))}if(a.tag!==3)throw Error(r(188));return a.stateNode.current===a?e:n}function A(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=A(e),n!==null)return n;e=e.sibling}return null}var S=Object.assign,x=Symbol.for("react.element"),Q=Symbol.for("react.transitional.element"),W=Symbol.for("react.portal"),at=Symbol.for("react.fragment"),tt=Symbol.for("react.strict_mode"),_t=Symbol.for("react.profiler"),St=Symbol.for("react.consumer"),Et=Symbol.for("react.context"),Yt=Symbol.for("react.forward_ref"),te=Symbol.for("react.suspense"),Ht=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),D=Symbol.iterator;function U(e){return e===null||typeof e!="object"?null:(e=D&&e[D]||e["@@iterator"],typeof e=="function"?e:null)}var R=Symbol.for("react.client.reference");function Ct(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===R?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case at:return"Fragment";case _t:return"Profiler";case tt:return"StrictMode";case te:return"Suspense";case Ht:return"SuspenseList";case I:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case W:return"Portal";case Et:return e.displayName||"Context";case St:return(e._context.displayName||"Context")+".Consumer";case Yt:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case N:return n=e.displayName||null,n!==null?n:Ct(e.type)||"Memo";case w:n=e._payload,e=e._init;try{return Ct(e(n))}catch{}}return null}var re=Array.isArray,j=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,st=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ft={pending:!1,data:null,method:null,action:null},Pt=[],Xt=-1;function M(e){return{current:e}}function K(e){0>Xt||(e.current=Pt[Xt],Pt[Xt]=null,Xt--)}function J(e,n){Xt++,Pt[Xt]=e.current,e.current=n}var lt=M(null),pt=M(null),wt=M(null),Vt=M(null);function Ae(e,n){switch(J(wt,n),J(pt,e),J(lt,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?R_(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=R_(n),e=I_(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}K(lt),J(lt,e)}function ge(){K(lt),K(pt),K(wt)}function Fi(e){e.memoizedState!==null&&J(Vt,e);var n=lt.current,a=I_(n,e.type);n!==a&&(J(pt,e),J(lt,a))}function Es(e){pt.current===e&&(K(lt),K(pt)),Vt.current===e&&(K(Vt),bl._currentValue=ft)}var Ts,Gi;function zn(e){if(Ts===void 0)try{throw Error()}catch(a){var n=a.stack.trim().match(/\n( *(at )?)/);Ts=n&&n[1]||"",Gi=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ts+e+Gi}var Tr=!1;function yn(e,n){if(!e||Tr)return"";Tr=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(n){var $=function(){throw Error()};if(Object.defineProperty($.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct($,[])}catch(H){var B=H}Reflect.construct(e,[],$)}else{try{$.call()}catch(H){B=H}e.call($.prototype)}}else{try{throw Error()}catch(H){B=H}($=e())&&typeof $.catch=="function"&&$.catch(function(){})}}catch(H){if(H&&B&&typeof H.stack=="string")return[H.stack,B.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=o.DetermineComponentFrameRoot(),g=f[0],E=f[1];if(g&&E){var C=g.split(`
`),z=E.split(`
`);for(h=o=0;o<C.length&&!C[o].includes("DetermineComponentFrameRoot");)o++;for(;h<z.length&&!z[h].includes("DetermineComponentFrameRoot");)h++;if(o===C.length||h===z.length)for(o=C.length-1,h=z.length-1;1<=o&&0<=h&&C[o]!==z[h];)h--;for(;1<=o&&0<=h;o--,h--)if(C[o]!==z[h]){if(o!==1||h!==1)do if(o--,h--,0>h||C[o]!==z[h]){var G=`
`+C[o].replace(" at new "," at ");return e.displayName&&G.includes("<anonymous>")&&(G=G.replace("<anonymous>",e.displayName)),G}while(1<=o&&0<=h);break}}}finally{Tr=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?zn(a):""}function As(e,n){switch(e.tag){case 26:case 27:case 5:return zn(e.type);case 16:return zn("Lazy");case 13:return e.child!==n&&n!==null?zn("Suspense Fallback"):zn("Suspense");case 19:return zn("SuspenseList");case 0:case 15:return yn(e.type,!1);case 11:return yn(e.type.render,!1);case 1:return yn(e.type,!0);case 31:return zn("Activity");default:return""}}function Ss(e){try{var n="",a=null;do n+=As(e,a),a=e,e=e.return;while(e);return n}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}var we=Object.prototype.hasOwnProperty,Ce=s.unstable_scheduleCallback,mi=s.unstable_cancelCallback,ca=s.unstable_shouldYield,ha=s.unstable_requestPaint,Ye=s.unstable_now,gi=s.unstable_getCurrentPriorityLevel,Ar=s.unstable_ImmediatePriority,Sr=s.unstable_UserBlockingPriority,pi=s.unstable_NormalPriority,Co=s.unstable_LowPriority,fa=s.unstable_IdlePriority,da=s.log,F=s.unstable_setDisableYieldValue,it=null,et=null;function ot(e){if(typeof da=="function"&&F(e),et&&typeof et.setStrictMode=="function")try{et.setStrictMode(it,e)}catch{}}var dt=Math.clz32?Math.clz32:Nt,Kt=Math.log,Mt=Math.LN2;function Nt(e){return e>>>=0,e===0?32:31-(Kt(e)/Mt|0)|0}var Tt=256,pe=262144,fe=4194304;function Ne(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function yi(e,n,a){var o=e.pendingLanes;if(o===0)return 0;var h=0,f=e.suspendedLanes,g=e.pingedLanes;e=e.warmLanes;var E=o&134217727;return E!==0?(o=E&~f,o!==0?h=Ne(o):(g&=E,g!==0?h=Ne(g):a||(a=E&~e,a!==0&&(h=Ne(a))))):(E=o&~f,E!==0?h=Ne(E):g!==0?h=Ne(g):a||(a=o&~e,a!==0&&(h=Ne(a)))),h===0?0:n!==0&&n!==h&&(n&f)===0&&(f=h&-h,a=n&-n,f>=a||f===32&&(a&4194048)!==0)?n:h}function Jn(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function Qh(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function _u(){var e=fe;return fe<<=1,(fe&62914560)===0&&(fe=4194304),e}function _i(e){for(var n=[],a=0;31>a;a++)n.push(e);return n}function br(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Yh(e,n,a,o,h,f){var g=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var E=e.entanglements,C=e.expirationTimes,z=e.hiddenUpdates;for(a=g&~a;0<a;){var G=31-dt(a),$=1<<G;E[G]=0,C[G]=-1;var B=z[G];if(B!==null)for(z[G]=null,G=0;G<B.length;G++){var H=B[G];H!==null&&(H.lane&=-536870913)}a&=~$}o!==0&&wr(e,o,0),f!==0&&h===0&&e.tag!==0&&(e.suspendedLanes|=f&~(g&~n))}function wr(e,n,a){e.pendingLanes|=n,e.suspendedLanes&=~n;var o=31-dt(n);e.entangledLanes|=n,e.entanglements[o]=e.entanglements[o]|1073741824|a&261930}function No(e,n){var a=e.entangledLanes|=n;for(e=e.entanglements;a;){var o=31-dt(a),h=1<<o;h&n|e[o]&n&&(e[o]|=n),a&=~h}}function xo(e,n){var a=n&-n;return a=(a&42)!==0?1:Rr(a),(a&(e.suspendedLanes|n))!==0?0:a}function Rr(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Qi(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function vu(){var e=st.p;return e!==0?e:(e=window.event,e===void 0?32:$_(e.type))}function Wn(e,n){var a=st.p;try{return st.p=e,n()}finally{st.p=a}}var ti=Math.random().toString(36).slice(2),Ve="__reactFiber$"+ti,Ke="__reactProps$"+ti,vi="__reactContainer$"+ti,ma="__reactEvents$"+ti,Kh="__reactListeners$"+ti,Eu="__reactHandles$"+ti,Tu="__reactResources$"+ti,Ei="__reactMarker$"+ti;function ga(e){delete e[Ve],delete e[Ke],delete e[ma],delete e[Kh],delete e[Eu]}function Ti(e){var n=e[Ve];if(n)return n;for(var a=e.parentNode;a;){if(n=a[vi]||a[Ve]){if(a=n.alternate,n.child!==null||a!==null&&a.child!==null)for(e=V_(e);e!==null;){if(a=e[Ve])return a;e=V_(e)}return n}e=a,a=e.parentNode}return null}function jn(e){if(e=e[Ve]||e[vi]){var n=e.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return e}return null}function In(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(r(33))}function Ai(e){var n=e[Tu];return n||(n=e[Tu]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function Ue(e){e[Ei]=!0}var Do=new Set,Oo={};function Si(e,n){bi(e,n),bi(e+"Capture",n)}function bi(e,n){for(Oo[e]=n,e=0;e<n.length;e++)Do.add(n[e])}var Mo=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Vo={},Uo={};function Au(e){return we.call(Uo,e)?!0:we.call(Vo,e)?!1:Mo.test(e)?Uo[e]=!0:(Vo[e]=!0,!1)}function pa(e,n,a){if(Au(n))if(a===null)e.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var o=n.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+a)}}function Cn(e,n,a){if(a===null)e.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+a)}}function Le(e,n,a,o){if(o===null)e.removeAttribute(a);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(n,a,""+o)}}function Xe(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function bs(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Lo(e,n,a){var o=Object.getOwnPropertyDescriptor(e.constructor.prototype,n);if(!e.hasOwnProperty(n)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var h=o.get,f=o.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return h.call(this)},set:function(g){a=""+g,f.call(this,g)}}),Object.defineProperty(e,n,{enumerable:o.enumerable}),{getValue:function(){return a},setValue:function(g){a=""+g},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function ne(e){if(!e._valueTracker){var n=bs(e)?"checked":"value";e._valueTracker=Lo(e,n,""+e[n])}}function Ir(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var a=n.getValue(),o="";return e&&(o=bs(e)?e.checked?"true":"false":e.value),e=o,e!==a?(n.setValue(e),!0):!1}function wi(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Cr=/[\n"\\]/g;function _n(e){return e.replace(Cr,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function ya(e,n,a,o,h,f,g,E){e.name="",g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"?e.type=g:e.removeAttribute("type"),n!=null?g==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+Xe(n)):e.value!==""+Xe(n)&&(e.value=""+Xe(n)):g!=="submit"&&g!=="reset"||e.removeAttribute("value"),n!=null?Po(e,g,Xe(n)):a!=null?Po(e,g,Xe(a)):o!=null&&e.removeAttribute("value"),h==null&&f!=null&&(e.defaultChecked=!!f),h!=null&&(e.checked=h&&typeof h!="function"&&typeof h!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?e.name=""+Xe(E):e.removeAttribute("name")}function Su(e,n,a,o,h,f,g,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(e.type=f),n!=null||a!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){ne(e);return}a=a!=null?""+Xe(a):"",n=n!=null?""+Xe(n):a,E||n===e.value||(e.value=n),e.defaultValue=n}o=o??h,o=typeof o!="function"&&typeof o!="symbol"&&!!o,e.checked=E?e.checked:!!o,e.defaultChecked=!!o,g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(e.name=g),ne(e)}function Po(e,n,a){n==="number"&&wi(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function ws(e,n,a,o){if(e=e.options,n){n={};for(var h=0;h<a.length;h++)n["$"+a[h]]=!0;for(a=0;a<e.length;a++)h=n.hasOwnProperty("$"+e[a].value),e[a].selected!==h&&(e[a].selected=h),h&&o&&(e[a].defaultSelected=!0)}else{for(a=""+Xe(a),n=null,h=0;h<e.length;h++){if(e[h].value===a){e[h].selected=!0,o&&(e[h].defaultSelected=!0);return}n!==null||e[h].disabled||(n=e[h])}n!==null&&(n.selected=!0)}}function bu(e,n,a){if(n!=null&&(n=""+Xe(n),n!==e.value&&(e.value=n),a==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=a!=null?""+Xe(a):""}function Rs(e,n,a,o){if(n==null){if(o!=null){if(a!=null)throw Error(r(92));if(re(o)){if(1<o.length)throw Error(r(93));o=o[0]}a=o}a==null&&(a=""),n=a}a=Xe(n),e.defaultValue=a,o=e.textContent,o===a&&o!==""&&o!==null&&(e.value=o),ne(e)}function vn(e,n){if(n){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=n;return}}e.textContent=n}var wu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function ko(e,n,a){var o=n.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?o?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":o?e.setProperty(n,a):typeof a!="number"||a===0||wu.has(n)?n==="float"?e.cssFloat=a:e[n]=(""+a).trim():e[n]=a+"px"}function zo(e,n,a){if(n!=null&&typeof n!="object")throw Error(r(62));if(e=e.style,a!=null){for(var o in a)!a.hasOwnProperty(o)||n!=null&&n.hasOwnProperty(o)||(o.indexOf("--")===0?e.setProperty(o,""):o==="float"?e.cssFloat="":e[o]="");for(var h in n)o=n[h],n.hasOwnProperty(h)&&a[h]!==o&&ko(e,h,o)}else for(var f in n)n.hasOwnProperty(f)&&ko(e,f,n[f])}function _a(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ru=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Is=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function va(e){return Is.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function ei(){}var jo=null;function Bn(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Cs=null,Ri=null;function Nr(e){var n=jn(e);if(n&&(e=n.stateNode)){var a=e[Ke]||null;t:switch(e=n.stateNode,n.type){case"input":if(ya(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),n=a.name,a.type==="radio"&&n!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+_n(""+n)+'"][type="radio"]'),n=0;n<a.length;n++){var o=a[n];if(o!==e&&o.form===e.form){var h=o[Ke]||null;if(!h)throw Error(r(90));ya(o,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<a.length;n++)o=a[n],o.form===e.form&&Ir(o)}break t;case"textarea":bu(e,a.value,a.defaultValue);break t;case"select":n=a.value,n!=null&&ws(e,!!a.multiple,n,!1)}}}var Ea=!1;function Ns(e,n,a){if(Ea)return e(n,a);Ea=!0;try{var o=e(n);return o}finally{if(Ea=!1,(Cs!==null||Ri!==null)&&(vc(),Cs&&(n=Cs,e=Ri,Ri=Cs=null,Nr(n),e)))for(n=0;n<e.length;n++)Nr(e[n])}}function ni(e,n){var a=e.stateNode;if(a===null)return null;var o=a[Ke]||null;if(o===null)return null;a=o[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(e=e.type,o=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!o;break t;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(r(231,n,typeof a));return a}var qn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),xr=!1;if(qn)try{var ae={};Object.defineProperty(ae,"passive",{get:function(){xr=!0}}),window.addEventListener("test",ae,ae),window.removeEventListener("test",ae,ae)}catch{xr=!1}var Ii=null,Bo=null,Dr=null;function qo(){if(Dr)return Dr;var e,n=Bo,a=n.length,o,h="value"in Ii?Ii.value:Ii.textContent,f=h.length;for(e=0;e<a&&n[e]===h[e];e++);var g=a-e;for(o=1;o<=g&&n[a-o]===h[f-o];o++);return Dr=h.slice(e,1<o?1-o:void 0)}function Or(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function Yi(){return!0}function ii(){return!1}function We(e){function n(a,o,h,f,g){this._reactName=a,this._targetInst=h,this.type=o,this.nativeEvent=f,this.target=g,this.currentTarget=null;for(var E in e)e.hasOwnProperty(E)&&(a=e[E],this[E]=a?a(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Yi:ii,this.isPropagationStopped=ii,this}return S(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Yi)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Yi)},persist:function(){},isPersistent:Yi}),n}var Ki={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ci=We(Ki),xs=S({},Ki,{view:0,detail:0}),Ho=We(xs),Ds,Ta,Ni,Aa=S({},xs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Os,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ni&&(Ni&&e.type==="mousemove"?(Ds=e.screenX-Ni.screenX,Ta=e.screenY-Ni.screenY):Ta=Ds=0,Ni=e),Ds)},movementY:function(e){return"movementY"in e?e.movementY:Ta}}),Fo=We(Aa),Mr=S({},Aa,{dataTransfer:0}),Iu=We(Mr),Cu=S({},xs,{relatedTarget:0}),Vr=We(Cu),Go=S({},Ki,{animationName:0,elapsedTime:0,pseudoElement:0}),Nu=We(Go),Sa=S({},Ki,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),xu=We(Sa),Du=S({},Ki,{data:0}),xi=We(Du),Ou={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Mu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Vu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Uu(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=Vu[e])?!!n[e]:!1}function Os(){return Uu}var mn=S({},xs,{key:function(e){if(e.key){var n=Ou[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=Or(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Mu[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Os,charCode:function(e){return e.type==="keypress"?Or(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Or(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Lu=We(mn),Pu=S({},Aa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Xi=We(Pu),u=S({},xs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Os}),m=We(u),v=S({},Ki,{propertyName:0,elapsedTime:0,pseudoElement:0}),T=We(v),P=S({},Aa,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),q=We(P),nt=S({},Ki,{newState:0,oldState:0}),xt=We(nt),xe=[9,13,27,32],Jt=qn&&"CompositionEvent"in window,Ee=null;qn&&"documentMode"in document&&(Ee=document.documentMode);var Hn=qn&&"TextEvent"in window&&!Ee,Di=qn&&(!Jt||Ee&&8<Ee&&11>=Ee),si=" ",ri=!1;function Ur(e,n){switch(e){case"keyup":return xe.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ba(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var wa=!1;function vA(e,n){switch(e){case"compositionend":return ba(n);case"keypress":return n.which!==32?null:(ri=!0,si);case"textInput":return e=n.data,e===si&&ri?null:e;default:return null}}function EA(e,n){if(wa)return e==="compositionend"||!Jt&&Ur(e,n)?(e=qo(),Dr=Bo=Ii=null,wa=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return Di&&n.locale!=="ko"?null:n.data;default:return null}}var TA={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Pg(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!TA[e.type]:n==="textarea"}function kg(e,n,a,o){Cs?Ri?Ri.push(o):Ri=[o]:Cs=o,n=Rc(n,"onChange"),0<n.length&&(a=new Ci("onChange","change",null,a,o),e.push({event:a,listeners:n}))}var Qo=null,Yo=null;function AA(e){E_(e,0)}function ku(e){var n=In(e);if(Ir(n))return e}function zg(e,n){if(e==="change")return n}var jg=!1;if(qn){var Xh;if(qn){var $h="oninput"in document;if(!$h){var Bg=document.createElement("div");Bg.setAttribute("oninput","return;"),$h=typeof Bg.oninput=="function"}Xh=$h}else Xh=!1;jg=Xh&&(!document.documentMode||9<document.documentMode)}function qg(){Qo&&(Qo.detachEvent("onpropertychange",Hg),Yo=Qo=null)}function Hg(e){if(e.propertyName==="value"&&ku(Yo)){var n=[];kg(n,Yo,e,Bn(e)),Ns(AA,n)}}function SA(e,n,a){e==="focusin"?(qg(),Qo=n,Yo=a,Qo.attachEvent("onpropertychange",Hg)):e==="focusout"&&qg()}function bA(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return ku(Yo)}function wA(e,n){if(e==="click")return ku(n)}function RA(e,n){if(e==="input"||e==="change")return ku(n)}function IA(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var Nn=typeof Object.is=="function"?Object.is:IA;function Ko(e,n){if(Nn(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var a=Object.keys(e),o=Object.keys(n);if(a.length!==o.length)return!1;for(o=0;o<a.length;o++){var h=a[o];if(!we.call(n,h)||!Nn(e[h],n[h]))return!1}return!0}function Fg(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Gg(e,n){var a=Fg(e);e=0;for(var o;a;){if(a.nodeType===3){if(o=e+a.textContent.length,e<=n&&o>=n)return{node:a,offset:n-e};e=o}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=Fg(a)}}function Qg(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?Qg(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function Yg(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=wi(e.document);n instanceof e.HTMLIFrameElement;){try{var a=typeof n.contentWindow.location.href=="string"}catch{a=!1}if(a)e=n.contentWindow;else break;n=wi(e.document)}return n}function Zh(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var CA=qn&&"documentMode"in document&&11>=document.documentMode,Ra=null,Jh=null,Xo=null,Wh=!1;function Kg(e,n,a){var o=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Wh||Ra==null||Ra!==wi(o)||(o=Ra,"selectionStart"in o&&Zh(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),Xo&&Ko(Xo,o)||(Xo=o,o=Rc(Jh,"onSelect"),0<o.length&&(n=new Ci("onSelect","select",null,n,a),e.push({event:n,listeners:o}),n.target=Ra)))}function Lr(e,n){var a={};return a[e.toLowerCase()]=n.toLowerCase(),a["Webkit"+e]="webkit"+n,a["Moz"+e]="moz"+n,a}var Ia={animationend:Lr("Animation","AnimationEnd"),animationiteration:Lr("Animation","AnimationIteration"),animationstart:Lr("Animation","AnimationStart"),transitionrun:Lr("Transition","TransitionRun"),transitionstart:Lr("Transition","TransitionStart"),transitioncancel:Lr("Transition","TransitionCancel"),transitionend:Lr("Transition","TransitionEnd")},tf={},Xg={};qn&&(Xg=document.createElement("div").style,"AnimationEvent"in window||(delete Ia.animationend.animation,delete Ia.animationiteration.animation,delete Ia.animationstart.animation),"TransitionEvent"in window||delete Ia.transitionend.transition);function Pr(e){if(tf[e])return tf[e];if(!Ia[e])return e;var n=Ia[e],a;for(a in n)if(n.hasOwnProperty(a)&&a in Xg)return tf[e]=n[a];return e}var $g=Pr("animationend"),Zg=Pr("animationiteration"),Jg=Pr("animationstart"),NA=Pr("transitionrun"),xA=Pr("transitionstart"),DA=Pr("transitioncancel"),Wg=Pr("transitionend"),tp=new Map,ef="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");ef.push("scrollEnd");function ai(e,n){tp.set(e,n),Si(n,[e])}var zu=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Fn=[],Ca=0,nf=0;function ju(){for(var e=Ca,n=nf=Ca=0;n<e;){var a=Fn[n];Fn[n++]=null;var o=Fn[n];Fn[n++]=null;var h=Fn[n];Fn[n++]=null;var f=Fn[n];if(Fn[n++]=null,o!==null&&h!==null){var g=o.pending;g===null?h.next=h:(h.next=g.next,g.next=h),o.pending=h}f!==0&&ep(a,h,f)}}function Bu(e,n,a,o){Fn[Ca++]=e,Fn[Ca++]=n,Fn[Ca++]=a,Fn[Ca++]=o,nf|=o,e.lanes|=o,e=e.alternate,e!==null&&(e.lanes|=o)}function sf(e,n,a,o){return Bu(e,n,a,o),qu(e)}function kr(e,n){return Bu(e,null,null,n),qu(e)}function ep(e,n,a){e.lanes|=a;var o=e.alternate;o!==null&&(o.lanes|=a);for(var h=!1,f=e.return;f!==null;)f.childLanes|=a,o=f.alternate,o!==null&&(o.childLanes|=a),f.tag===22&&(e=f.stateNode,e===null||e._visibility&1||(h=!0)),e=f,f=f.return;return e.tag===3?(f=e.stateNode,h&&n!==null&&(h=31-dt(a),e=f.hiddenUpdates,o=e[h],o===null?e[h]=[n]:o.push(n),n.lane=a|536870912),f):null}function qu(e){if(50<yl)throw yl=0,dd=null,Error(r(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var Na={};function OA(e,n,a,o){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function xn(e,n,a,o){return new OA(e,n,a,o)}function rf(e){return e=e.prototype,!(!e||!e.isReactComponent)}function $i(e,n){var a=e.alternate;return a===null?(a=xn(e.tag,n,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=n,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,n=e.dependencies,a.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function np(e,n){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,n=a.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function Hu(e,n,a,o,h,f){var g=0;if(o=e,typeof e=="function")rf(e)&&(g=1);else if(typeof e=="string")g=PS(e,a,lt.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case I:return e=xn(31,a,n,h),e.elementType=I,e.lanes=f,e;case at:return zr(a.children,h,f,n);case tt:g=8,h|=24;break;case _t:return e=xn(12,a,n,h|2),e.elementType=_t,e.lanes=f,e;case te:return e=xn(13,a,n,h),e.elementType=te,e.lanes=f,e;case Ht:return e=xn(19,a,n,h),e.elementType=Ht,e.lanes=f,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Et:g=10;break t;case St:g=9;break t;case Yt:g=11;break t;case N:g=14;break t;case w:g=16,o=null;break t}g=29,a=Error(r(130,e===null?"null":typeof e,"")),o=null}return n=xn(g,a,n,h),n.elementType=e,n.type=o,n.lanes=f,n}function zr(e,n,a,o){return e=xn(7,e,o,n),e.lanes=a,e}function af(e,n,a){return e=xn(6,e,null,n),e.lanes=a,e}function ip(e){var n=xn(18,null,null,0);return n.stateNode=e,n}function of(e,n,a){return n=xn(4,e.children!==null?e.children:[],e.key,n),n.lanes=a,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var sp=new WeakMap;function Gn(e,n){if(typeof e=="object"&&e!==null){var a=sp.get(e);return a!==void 0?a:(n={value:e,source:n,stack:Ss(n)},sp.set(e,n),n)}return{value:e,source:n,stack:Ss(n)}}var xa=[],Da=0,Fu=null,$o=0,Qn=[],Yn=0,Ms=null,Oi=1,Mi="";function Zi(e,n){xa[Da++]=$o,xa[Da++]=Fu,Fu=e,$o=n}function rp(e,n,a){Qn[Yn++]=Oi,Qn[Yn++]=Mi,Qn[Yn++]=Ms,Ms=e;var o=Oi;e=Mi;var h=32-dt(o)-1;o&=~(1<<h),a+=1;var f=32-dt(n)+h;if(30<f){var g=h-h%5;f=(o&(1<<g)-1).toString(32),o>>=g,h-=g,Oi=1<<32-dt(n)+h|a<<h|o,Mi=f+e}else Oi=1<<f|a<<h|o,Mi=e}function lf(e){e.return!==null&&(Zi(e,1),rp(e,1,0))}function uf(e){for(;e===Fu;)Fu=xa[--Da],xa[Da]=null,$o=xa[--Da],xa[Da]=null;for(;e===Ms;)Ms=Qn[--Yn],Qn[Yn]=null,Mi=Qn[--Yn],Qn[Yn]=null,Oi=Qn[--Yn],Qn[Yn]=null}function ap(e,n){Qn[Yn++]=Oi,Qn[Yn++]=Mi,Qn[Yn++]=Ms,Oi=n.id,Mi=n.overflow,Ms=e}var tn=null,ye=null,Ft=!1,Vs=null,Kn=!1,cf=Error(r(519));function Us(e){var n=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Zo(Gn(n,e)),cf}function op(e){var n=e.stateNode,a=e.type,o=e.memoizedProps;switch(n[Ve]=e,n[Ke]=o,a){case"dialog":Lt("cancel",n),Lt("close",n);break;case"iframe":case"object":case"embed":Lt("load",n);break;case"video":case"audio":for(a=0;a<vl.length;a++)Lt(vl[a],n);break;case"source":Lt("error",n);break;case"img":case"image":case"link":Lt("error",n),Lt("load",n);break;case"details":Lt("toggle",n);break;case"input":Lt("invalid",n),Su(n,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0);break;case"select":Lt("invalid",n);break;case"textarea":Lt("invalid",n),Rs(n,o.value,o.defaultValue,o.children)}a=o.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||n.textContent===""+a||o.suppressHydrationWarning===!0||b_(n.textContent,a)?(o.popover!=null&&(Lt("beforetoggle",n),Lt("toggle",n)),o.onScroll!=null&&Lt("scroll",n),o.onScrollEnd!=null&&Lt("scrollend",n),o.onClick!=null&&(n.onclick=ei),n=!0):n=!1,n||Us(e,!0)}function lp(e){for(tn=e.return;tn;)switch(tn.tag){case 5:case 31:case 13:Kn=!1;return;case 27:case 3:Kn=!0;return;default:tn=tn.return}}function Oa(e){if(e!==tn)return!1;if(!Ft)return lp(e),Ft=!0,!1;var n=e.tag,a;if((a=n!==3&&n!==27)&&((a=n===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||Cd(e.type,e.memoizedProps)),a=!a),a&&ye&&Us(e),lp(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));ye=M_(e)}else if(n===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));ye=M_(e)}else n===27?(n=ye,Xs(e.type)?(e=Md,Md=null,ye=e):ye=n):ye=tn?$n(e.stateNode.nextSibling):null;return!0}function jr(){ye=tn=null,Ft=!1}function hf(){var e=Vs;return e!==null&&(Sn===null?Sn=e:Sn.push.apply(Sn,e),Vs=null),e}function Zo(e){Vs===null?Vs=[e]:Vs.push(e)}var ff=M(null),Br=null,Ji=null;function Ls(e,n,a){J(ff,n._currentValue),n._currentValue=a}function Wi(e){e._currentValue=ff.current,K(ff)}function df(e,n,a){for(;e!==null;){var o=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,o!==null&&(o.childLanes|=n)):o!==null&&(o.childLanes&n)!==n&&(o.childLanes|=n),e===a)break;e=e.return}}function mf(e,n,a,o){var h=e.child;for(h!==null&&(h.return=e);h!==null;){var f=h.dependencies;if(f!==null){var g=h.child;f=f.firstContext;t:for(;f!==null;){var E=f;f=h;for(var C=0;C<n.length;C++)if(E.context===n[C]){f.lanes|=a,E=f.alternate,E!==null&&(E.lanes|=a),df(f.return,a,e),o||(g=null);break t}f=E.next}}else if(h.tag===18){if(g=h.return,g===null)throw Error(r(341));g.lanes|=a,f=g.alternate,f!==null&&(f.lanes|=a),df(g,a,e),g=null}else g=h.child;if(g!==null)g.return=h;else for(g=h;g!==null;){if(g===e){g=null;break}if(h=g.sibling,h!==null){h.return=g.return,g=h;break}g=g.return}h=g}}function Ma(e,n,a,o){e=null;for(var h=n,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var g=h.alternate;if(g===null)throw Error(r(387));if(g=g.memoizedProps,g!==null){var E=h.type;Nn(h.pendingProps.value,g.value)||(e!==null?e.push(E):e=[E])}}else if(h===Vt.current){if(g=h.alternate,g===null)throw Error(r(387));g.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(e!==null?e.push(bl):e=[bl])}h=h.return}e!==null&&mf(n,e,a,o),n.flags|=262144}function Gu(e){for(e=e.firstContext;e!==null;){if(!Nn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function qr(e){Br=e,Ji=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function en(e){return up(Br,e)}function Qu(e,n){return Br===null&&qr(e),up(e,n)}function up(e,n){var a=n._currentValue;if(n={context:n,memoizedValue:a,next:null},Ji===null){if(e===null)throw Error(r(308));Ji=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else Ji=Ji.next=n;return a}var MA=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(a,o){e.push(o)}};this.abort=function(){n.aborted=!0,e.forEach(function(a){return a()})}},VA=s.unstable_scheduleCallback,UA=s.unstable_NormalPriority,Pe={$$typeof:Et,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function gf(){return{controller:new MA,data:new Map,refCount:0}}function Jo(e){e.refCount--,e.refCount===0&&VA(UA,function(){e.controller.abort()})}var Wo=null,pf=0,Va=0,Ua=null;function LA(e,n){if(Wo===null){var a=Wo=[];pf=0,Va=vd(),Ua={status:"pending",value:void 0,then:function(o){a.push(o)}}}return pf++,n.then(cp,cp),n}function cp(){if(--pf===0&&Wo!==null){Ua!==null&&(Ua.status="fulfilled");var e=Wo;Wo=null,Va=0,Ua=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function PA(e,n){var a=[],o={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return e.then(function(){o.status="fulfilled",o.value=n;for(var h=0;h<a.length;h++)(0,a[h])(n)},function(h){for(o.status="rejected",o.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),o}var hp=j.S;j.S=function(e,n){Ky=Ye(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&LA(e,n),hp!==null&&hp(e,n)};var Hr=M(null);function yf(){var e=Hr.current;return e!==null?e:de.pooledCache}function Yu(e,n){n===null?J(Hr,Hr.current):J(Hr,n.pool)}function fp(){var e=yf();return e===null?null:{parent:Pe._currentValue,pool:e}}var La=Error(r(460)),_f=Error(r(474)),Ku=Error(r(542)),Xu={then:function(){}};function dp(e){return e=e.status,e==="fulfilled"||e==="rejected"}function mp(e,n,a){switch(a=e[a],a===void 0?e.push(n):a!==n&&(n.then(ei,ei),n=a),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,pp(e),e;default:if(typeof n.status=="string")n.then(ei,ei);else{if(e=de,e!==null&&100<e.shellSuspendCounter)throw Error(r(482));e=n,e.status="pending",e.then(function(o){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=o}},function(o){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=o}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,pp(e),e}throw Gr=n,La}}function Fr(e){try{var n=e._init;return n(e._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(Gr=a,La):a}}var Gr=null;function gp(){if(Gr===null)throw Error(r(459));var e=Gr;return Gr=null,e}function pp(e){if(e===La||e===Ku)throw Error(r(483))}var Pa=null,tl=0;function $u(e){var n=tl;return tl+=1,Pa===null&&(Pa=[]),mp(Pa,e,n)}function el(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function Zu(e,n){throw n.$$typeof===x?Error(r(525)):(e=Object.prototype.toString.call(n),Error(r(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function yp(e){function n(L,O){if(e){var k=L.deletions;k===null?(L.deletions=[O],L.flags|=16):k.push(O)}}function a(L,O){if(!e)return null;for(;O!==null;)n(L,O),O=O.sibling;return null}function o(L){for(var O=new Map;L!==null;)L.key!==null?O.set(L.key,L):O.set(L.index,L),L=L.sibling;return O}function h(L,O){return L=$i(L,O),L.index=0,L.sibling=null,L}function f(L,O,k){return L.index=k,e?(k=L.alternate,k!==null?(k=k.index,k<O?(L.flags|=67108866,O):k):(L.flags|=67108866,O)):(L.flags|=1048576,O)}function g(L){return e&&L.alternate===null&&(L.flags|=67108866),L}function E(L,O,k,X){return O===null||O.tag!==6?(O=af(k,L.mode,X),O.return=L,O):(O=h(O,k),O.return=L,O)}function C(L,O,k,X){var gt=k.type;return gt===at?G(L,O,k.props.children,X,k.key):O!==null&&(O.elementType===gt||typeof gt=="object"&&gt!==null&&gt.$$typeof===w&&Fr(gt)===O.type)?(O=h(O,k.props),el(O,k),O.return=L,O):(O=Hu(k.type,k.key,k.props,null,L.mode,X),el(O,k),O.return=L,O)}function z(L,O,k,X){return O===null||O.tag!==4||O.stateNode.containerInfo!==k.containerInfo||O.stateNode.implementation!==k.implementation?(O=of(k,L.mode,X),O.return=L,O):(O=h(O,k.children||[]),O.return=L,O)}function G(L,O,k,X,gt){return O===null||O.tag!==7?(O=zr(k,L.mode,X,gt),O.return=L,O):(O=h(O,k),O.return=L,O)}function $(L,O,k){if(typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint")return O=af(""+O,L.mode,k),O.return=L,O;if(typeof O=="object"&&O!==null){switch(O.$$typeof){case Q:return k=Hu(O.type,O.key,O.props,null,L.mode,k),el(k,O),k.return=L,k;case W:return O=of(O,L.mode,k),O.return=L,O;case w:return O=Fr(O),$(L,O,k)}if(re(O)||U(O))return O=zr(O,L.mode,k,null),O.return=L,O;if(typeof O.then=="function")return $(L,$u(O),k);if(O.$$typeof===Et)return $(L,Qu(L,O),k);Zu(L,O)}return null}function B(L,O,k,X){var gt=O!==null?O.key:null;if(typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint")return gt!==null?null:E(L,O,""+k,X);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case Q:return k.key===gt?C(L,O,k,X):null;case W:return k.key===gt?z(L,O,k,X):null;case w:return k=Fr(k),B(L,O,k,X)}if(re(k)||U(k))return gt!==null?null:G(L,O,k,X,null);if(typeof k.then=="function")return B(L,O,$u(k),X);if(k.$$typeof===Et)return B(L,O,Qu(L,k),X);Zu(L,k)}return null}function H(L,O,k,X,gt){if(typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint")return L=L.get(k)||null,E(O,L,""+X,gt);if(typeof X=="object"&&X!==null){switch(X.$$typeof){case Q:return L=L.get(X.key===null?k:X.key)||null,C(O,L,X,gt);case W:return L=L.get(X.key===null?k:X.key)||null,z(O,L,X,gt);case w:return X=Fr(X),H(L,O,k,X,gt)}if(re(X)||U(X))return L=L.get(k)||null,G(O,L,X,gt,null);if(typeof X.then=="function")return H(L,O,k,$u(X),gt);if(X.$$typeof===Et)return H(L,O,k,Qu(O,X),gt);Zu(O,X)}return null}function ct(L,O,k,X){for(var gt=null,$t=null,ht=O,Ot=O=0,zt=null;ht!==null&&Ot<k.length;Ot++){ht.index>Ot?(zt=ht,ht=null):zt=ht.sibling;var Zt=B(L,ht,k[Ot],X);if(Zt===null){ht===null&&(ht=zt);break}e&&ht&&Zt.alternate===null&&n(L,ht),O=f(Zt,O,Ot),$t===null?gt=Zt:$t.sibling=Zt,$t=Zt,ht=zt}if(Ot===k.length)return a(L,ht),Ft&&Zi(L,Ot),gt;if(ht===null){for(;Ot<k.length;Ot++)ht=$(L,k[Ot],X),ht!==null&&(O=f(ht,O,Ot),$t===null?gt=ht:$t.sibling=ht,$t=ht);return Ft&&Zi(L,Ot),gt}for(ht=o(ht);Ot<k.length;Ot++)zt=H(ht,L,Ot,k[Ot],X),zt!==null&&(e&&zt.alternate!==null&&ht.delete(zt.key===null?Ot:zt.key),O=f(zt,O,Ot),$t===null?gt=zt:$t.sibling=zt,$t=zt);return e&&ht.forEach(function(tr){return n(L,tr)}),Ft&&Zi(L,Ot),gt}function vt(L,O,k,X){if(k==null)throw Error(r(151));for(var gt=null,$t=null,ht=O,Ot=O=0,zt=null,Zt=k.next();ht!==null&&!Zt.done;Ot++,Zt=k.next()){ht.index>Ot?(zt=ht,ht=null):zt=ht.sibling;var tr=B(L,ht,Zt.value,X);if(tr===null){ht===null&&(ht=zt);break}e&&ht&&tr.alternate===null&&n(L,ht),O=f(tr,O,Ot),$t===null?gt=tr:$t.sibling=tr,$t=tr,ht=zt}if(Zt.done)return a(L,ht),Ft&&Zi(L,Ot),gt;if(ht===null){for(;!Zt.done;Ot++,Zt=k.next())Zt=$(L,Zt.value,X),Zt!==null&&(O=f(Zt,O,Ot),$t===null?gt=Zt:$t.sibling=Zt,$t=Zt);return Ft&&Zi(L,Ot),gt}for(ht=o(ht);!Zt.done;Ot++,Zt=k.next())Zt=H(ht,L,Ot,Zt.value,X),Zt!==null&&(e&&Zt.alternate!==null&&ht.delete(Zt.key===null?Ot:Zt.key),O=f(Zt,O,Ot),$t===null?gt=Zt:$t.sibling=Zt,$t=Zt);return e&&ht.forEach(function(KS){return n(L,KS)}),Ft&&Zi(L,Ot),gt}function ue(L,O,k,X){if(typeof k=="object"&&k!==null&&k.type===at&&k.key===null&&(k=k.props.children),typeof k=="object"&&k!==null){switch(k.$$typeof){case Q:t:{for(var gt=k.key;O!==null;){if(O.key===gt){if(gt=k.type,gt===at){if(O.tag===7){a(L,O.sibling),X=h(O,k.props.children),X.return=L,L=X;break t}}else if(O.elementType===gt||typeof gt=="object"&&gt!==null&&gt.$$typeof===w&&Fr(gt)===O.type){a(L,O.sibling),X=h(O,k.props),el(X,k),X.return=L,L=X;break t}a(L,O);break}else n(L,O);O=O.sibling}k.type===at?(X=zr(k.props.children,L.mode,X,k.key),X.return=L,L=X):(X=Hu(k.type,k.key,k.props,null,L.mode,X),el(X,k),X.return=L,L=X)}return g(L);case W:t:{for(gt=k.key;O!==null;){if(O.key===gt)if(O.tag===4&&O.stateNode.containerInfo===k.containerInfo&&O.stateNode.implementation===k.implementation){a(L,O.sibling),X=h(O,k.children||[]),X.return=L,L=X;break t}else{a(L,O);break}else n(L,O);O=O.sibling}X=of(k,L.mode,X),X.return=L,L=X}return g(L);case w:return k=Fr(k),ue(L,O,k,X)}if(re(k))return ct(L,O,k,X);if(U(k)){if(gt=U(k),typeof gt!="function")throw Error(r(150));return k=gt.call(k),vt(L,O,k,X)}if(typeof k.then=="function")return ue(L,O,$u(k),X);if(k.$$typeof===Et)return ue(L,O,Qu(L,k),X);Zu(L,k)}return typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint"?(k=""+k,O!==null&&O.tag===6?(a(L,O.sibling),X=h(O,k),X.return=L,L=X):(a(L,O),X=af(k,L.mode,X),X.return=L,L=X),g(L)):a(L,O)}return function(L,O,k,X){try{tl=0;var gt=ue(L,O,k,X);return Pa=null,gt}catch(ht){if(ht===La||ht===Ku)throw ht;var $t=xn(29,ht,null,L.mode);return $t.lanes=X,$t.return=L,$t}finally{}}}var Qr=yp(!0),_p=yp(!1),Ps=!1;function vf(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Ef(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function ks(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function zs(e,n,a){var o=e.updateQueue;if(o===null)return null;if(o=o.shared,(Wt&2)!==0){var h=o.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),o.pending=n,n=qu(e),ep(e,null,a),n}return Bu(e,o,n,a),qu(e)}function nl(e,n,a){if(n=n.updateQueue,n!==null&&(n=n.shared,(a&4194048)!==0)){var o=n.lanes;o&=e.pendingLanes,a|=o,n.lanes=a,No(e,a)}}function Tf(e,n){var a=e.updateQueue,o=e.alternate;if(o!==null&&(o=o.updateQueue,a===o)){var h=null,f=null;if(a=a.firstBaseUpdate,a!==null){do{var g={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};f===null?h=f=g:f=f.next=g,a=a.next}while(a!==null);f===null?h=f=n:f=f.next=n}else h=f=n;a={baseState:o.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:o.shared,callbacks:o.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=n:e.next=n,a.lastBaseUpdate=n}var Af=!1;function il(){if(Af){var e=Ua;if(e!==null)throw e}}function sl(e,n,a,o){Af=!1;var h=e.updateQueue;Ps=!1;var f=h.firstBaseUpdate,g=h.lastBaseUpdate,E=h.shared.pending;if(E!==null){h.shared.pending=null;var C=E,z=C.next;C.next=null,g===null?f=z:g.next=z,g=C;var G=e.alternate;G!==null&&(G=G.updateQueue,E=G.lastBaseUpdate,E!==g&&(E===null?G.firstBaseUpdate=z:E.next=z,G.lastBaseUpdate=C))}if(f!==null){var $=h.baseState;g=0,G=z=C=null,E=f;do{var B=E.lane&-536870913,H=B!==E.lane;if(H?(kt&B)===B:(o&B)===B){B!==0&&B===Va&&(Af=!0),G!==null&&(G=G.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var ct=e,vt=E;B=n;var ue=a;switch(vt.tag){case 1:if(ct=vt.payload,typeof ct=="function"){$=ct.call(ue,$,B);break t}$=ct;break t;case 3:ct.flags=ct.flags&-65537|128;case 0:if(ct=vt.payload,B=typeof ct=="function"?ct.call(ue,$,B):ct,B==null)break t;$=S({},$,B);break t;case 2:Ps=!0}}B=E.callback,B!==null&&(e.flags|=64,H&&(e.flags|=8192),H=h.callbacks,H===null?h.callbacks=[B]:H.push(B))}else H={lane:B,tag:E.tag,payload:E.payload,callback:E.callback,next:null},G===null?(z=G=H,C=$):G=G.next=H,g|=B;if(E=E.next,E===null){if(E=h.shared.pending,E===null)break;H=E,E=H.next,H.next=null,h.lastBaseUpdate=H,h.shared.pending=null}}while(!0);G===null&&(C=$),h.baseState=C,h.firstBaseUpdate=z,h.lastBaseUpdate=G,f===null&&(h.shared.lanes=0),Fs|=g,e.lanes=g,e.memoizedState=$}}function vp(e,n){if(typeof e!="function")throw Error(r(191,e));e.call(n)}function Ep(e,n){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)vp(a[e],n)}var ka=M(null),Ju=M(0);function Tp(e,n){e=ls,J(Ju,e),J(ka,n),ls=e|n.baseLanes}function Sf(){J(Ju,ls),J(ka,ka.current)}function bf(){ls=Ju.current,K(ka),K(Ju)}var Dn=M(null),Xn=null;function js(e){var n=e.alternate;J(De,De.current&1),J(Dn,e),Xn===null&&(n===null||ka.current!==null||n.memoizedState!==null)&&(Xn=e)}function wf(e){J(De,De.current),J(Dn,e),Xn===null&&(Xn=e)}function Ap(e){e.tag===22?(J(De,De.current),J(Dn,e),Xn===null&&(Xn=e)):Bs()}function Bs(){J(De,De.current),J(Dn,Dn.current)}function On(e){K(Dn),Xn===e&&(Xn=null),K(De)}var De=M(0);function Wu(e){for(var n=e;n!==null;){if(n.tag===13){var a=n.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||Dd(a)||Od(a)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var ts=0,Dt=null,oe=null,ke=null,tc=!1,za=!1,Yr=!1,ec=0,rl=0,ja=null,kA=0;function Re(){throw Error(r(321))}function Rf(e,n){if(n===null)return!1;for(var a=0;a<n.length&&a<e.length;a++)if(!Nn(e[a],n[a]))return!1;return!0}function If(e,n,a,o,h,f){return ts=f,Dt=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,j.H=e===null||e.memoizedState===null?ry:qf,Yr=!1,f=a(o,h),Yr=!1,za&&(f=bp(n,a,o,h)),Sp(e),f}function Sp(e){j.H=ll;var n=oe!==null&&oe.next!==null;if(ts=0,ke=oe=Dt=null,tc=!1,rl=0,ja=null,n)throw Error(r(300));e===null||ze||(e=e.dependencies,e!==null&&Gu(e)&&(ze=!0))}function bp(e,n,a,o){Dt=e;var h=0;do{if(za&&(ja=null),rl=0,za=!1,25<=h)throw Error(r(301));if(h+=1,ke=oe=null,e.updateQueue!=null){var f=e.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}j.H=ay,f=n(a,o)}while(za);return f}function zA(){var e=j.H,n=e.useState()[0];return n=typeof n.then=="function"?al(n):n,e=e.useState()[0],(oe!==null?oe.memoizedState:null)!==e&&(Dt.flags|=1024),n}function Cf(){var e=ec!==0;return ec=0,e}function Nf(e,n,a){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~a}function xf(e){if(tc){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}tc=!1}ts=0,ke=oe=Dt=null,za=!1,rl=ec=0,ja=null}function gn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ke===null?Dt.memoizedState=ke=e:ke=ke.next=e,ke}function Oe(){if(oe===null){var e=Dt.alternate;e=e!==null?e.memoizedState:null}else e=oe.next;var n=ke===null?Dt.memoizedState:ke.next;if(n!==null)ke=n,oe=e;else{if(e===null)throw Dt.alternate===null?Error(r(467)):Error(r(310));oe=e,e={memoizedState:oe.memoizedState,baseState:oe.baseState,baseQueue:oe.baseQueue,queue:oe.queue,next:null},ke===null?Dt.memoizedState=ke=e:ke=ke.next=e}return ke}function nc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function al(e){var n=rl;return rl+=1,ja===null&&(ja=[]),e=mp(ja,e,n),n=Dt,(ke===null?n.memoizedState:ke.next)===null&&(n=n.alternate,j.H=n===null||n.memoizedState===null?ry:qf),e}function ic(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return al(e);if(e.$$typeof===Et)return en(e)}throw Error(r(438,String(e)))}function Df(e){var n=null,a=Dt.updateQueue;if(a!==null&&(n=a.memoCache),n==null){var o=Dt.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(n={data:o.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),a===null&&(a=nc(),Dt.updateQueue=a),a.memoCache=n,a=n.data[n.index],a===void 0)for(a=n.data[n.index]=Array(e),o=0;o<e;o++)a[o]=V;return n.index++,a}function es(e,n){return typeof n=="function"?n(e):n}function sc(e){var n=Oe();return Of(n,oe,e)}function Of(e,n,a){var o=e.queue;if(o===null)throw Error(r(311));o.lastRenderedReducer=a;var h=e.baseQueue,f=o.pending;if(f!==null){if(h!==null){var g=h.next;h.next=f.next,f.next=g}n.baseQueue=h=f,o.pending=null}if(f=e.baseState,h===null)e.memoizedState=f;else{n=h.next;var E=g=null,C=null,z=n,G=!1;do{var $=z.lane&-536870913;if($!==z.lane?(kt&$)===$:(ts&$)===$){var B=z.revertLane;if(B===0)C!==null&&(C=C.next={lane:0,revertLane:0,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null}),$===Va&&(G=!0);else if((ts&B)===B){z=z.next,B===Va&&(G=!0);continue}else $={lane:0,revertLane:z.revertLane,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},C===null?(E=C=$,g=f):C=C.next=$,Dt.lanes|=B,Fs|=B;$=z.action,Yr&&a(f,$),f=z.hasEagerState?z.eagerState:a(f,$)}else B={lane:$,revertLane:z.revertLane,gesture:z.gesture,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},C===null?(E=C=B,g=f):C=C.next=B,Dt.lanes|=$,Fs|=$;z=z.next}while(z!==null&&z!==n);if(C===null?g=f:C.next=E,!Nn(f,e.memoizedState)&&(ze=!0,G&&(a=Ua,a!==null)))throw a;e.memoizedState=f,e.baseState=g,e.baseQueue=C,o.lastRenderedState=f}return h===null&&(o.lanes=0),[e.memoizedState,o.dispatch]}function Mf(e){var n=Oe(),a=n.queue;if(a===null)throw Error(r(311));a.lastRenderedReducer=e;var o=a.dispatch,h=a.pending,f=n.memoizedState;if(h!==null){a.pending=null;var g=h=h.next;do f=e(f,g.action),g=g.next;while(g!==h);Nn(f,n.memoizedState)||(ze=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),a.lastRenderedState=f}return[f,o]}function wp(e,n,a){var o=Dt,h=Oe(),f=Ft;if(f){if(a===void 0)throw Error(r(407));a=a()}else a=n();var g=!Nn((oe||h).memoizedState,a);if(g&&(h.memoizedState=a,ze=!0),h=h.queue,Lf(Cp.bind(null,o,h,e),[e]),h.getSnapshot!==n||g||ke!==null&&ke.memoizedState.tag&1){if(o.flags|=2048,Ba(9,{destroy:void 0},Ip.bind(null,o,h,a,n),null),de===null)throw Error(r(349));f||(ts&127)!==0||Rp(o,n,a)}return a}function Rp(e,n,a){e.flags|=16384,e={getSnapshot:n,value:a},n=Dt.updateQueue,n===null?(n=nc(),Dt.updateQueue=n,n.stores=[e]):(a=n.stores,a===null?n.stores=[e]:a.push(e))}function Ip(e,n,a,o){n.value=a,n.getSnapshot=o,Np(n)&&xp(e)}function Cp(e,n,a){return a(function(){Np(n)&&xp(e)})}function Np(e){var n=e.getSnapshot;e=e.value;try{var a=n();return!Nn(e,a)}catch{return!0}}function xp(e){var n=kr(e,2);n!==null&&bn(n,e,2)}function Vf(e){var n=gn();if(typeof e=="function"){var a=e;if(e=a(),Yr){ot(!0);try{a()}finally{ot(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:es,lastRenderedState:e},n}function Dp(e,n,a,o){return e.baseState=a,Of(e,oe,typeof o=="function"?o:es)}function jA(e,n,a,o,h){if(oc(e))throw Error(r(485));if(e=n.action,e!==null){var f={payload:h,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(g){f.listeners.push(g)}};j.T!==null?a(!0):f.isTransition=!1,o(f),a=n.pending,a===null?(f.next=n.pending=f,Op(n,f)):(f.next=a.next,n.pending=a.next=f)}}function Op(e,n){var a=n.action,o=n.payload,h=e.state;if(n.isTransition){var f=j.T,g={};j.T=g;try{var E=a(h,o),C=j.S;C!==null&&C(g,E),Mp(e,n,E)}catch(z){Uf(e,n,z)}finally{f!==null&&g.types!==null&&(f.types=g.types),j.T=f}}else try{f=a(h,o),Mp(e,n,f)}catch(z){Uf(e,n,z)}}function Mp(e,n,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(o){Vp(e,n,o)},function(o){return Uf(e,n,o)}):Vp(e,n,a)}function Vp(e,n,a){n.status="fulfilled",n.value=a,Up(n),e.state=a,n=e.pending,n!==null&&(a=n.next,a===n?e.pending=null:(a=a.next,n.next=a,Op(e,a)))}function Uf(e,n,a){var o=e.pending;if(e.pending=null,o!==null){o=o.next;do n.status="rejected",n.reason=a,Up(n),n=n.next;while(n!==o)}e.action=null}function Up(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function Lp(e,n){return n}function Pp(e,n){if(Ft){var a=de.formState;if(a!==null){t:{var o=Dt;if(Ft){if(ye){e:{for(var h=ye,f=Kn;h.nodeType!==8;){if(!f){h=null;break e}if(h=$n(h.nextSibling),h===null){h=null;break e}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){ye=$n(h.nextSibling),o=h.data==="F!";break t}}Us(o)}o=!1}o&&(n=a[0])}}return a=gn(),a.memoizedState=a.baseState=n,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Lp,lastRenderedState:n},a.queue=o,a=ny.bind(null,Dt,o),o.dispatch=a,o=Vf(!1),f=Bf.bind(null,Dt,!1,o.queue),o=gn(),h={state:n,dispatch:null,action:e,pending:null},o.queue=h,a=jA.bind(null,Dt,h,f,a),h.dispatch=a,o.memoizedState=e,[n,a,!1]}function kp(e){var n=Oe();return zp(n,oe,e)}function zp(e,n,a){if(n=Of(e,n,Lp)[0],e=sc(es)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var o=al(n)}catch(g){throw g===La?Ku:g}else o=n;n=Oe();var h=n.queue,f=h.dispatch;return a!==n.memoizedState&&(Dt.flags|=2048,Ba(9,{destroy:void 0},BA.bind(null,h,a),null)),[o,f,e]}function BA(e,n){e.action=n}function jp(e){var n=Oe(),a=oe;if(a!==null)return zp(n,a,e);Oe(),n=n.memoizedState,a=Oe();var o=a.queue.dispatch;return a.memoizedState=e,[n,o,!1]}function Ba(e,n,a,o){return e={tag:e,create:a,deps:o,inst:n,next:null},n=Dt.updateQueue,n===null&&(n=nc(),Dt.updateQueue=n),a=n.lastEffect,a===null?n.lastEffect=e.next=e:(o=a.next,a.next=e,e.next=o,n.lastEffect=e),e}function Bp(){return Oe().memoizedState}function rc(e,n,a,o){var h=gn();Dt.flags|=e,h.memoizedState=Ba(1|n,{destroy:void 0},a,o===void 0?null:o)}function ac(e,n,a,o){var h=Oe();o=o===void 0?null:o;var f=h.memoizedState.inst;oe!==null&&o!==null&&Rf(o,oe.memoizedState.deps)?h.memoizedState=Ba(n,f,a,o):(Dt.flags|=e,h.memoizedState=Ba(1|n,f,a,o))}function qp(e,n){rc(8390656,8,e,n)}function Lf(e,n){ac(2048,8,e,n)}function qA(e){Dt.flags|=4;var n=Dt.updateQueue;if(n===null)n=nc(),Dt.updateQueue=n,n.events=[e];else{var a=n.events;a===null?n.events=[e]:a.push(e)}}function Hp(e){var n=Oe().memoizedState;return qA({ref:n,nextImpl:e}),function(){if((Wt&2)!==0)throw Error(r(440));return n.impl.apply(void 0,arguments)}}function Fp(e,n){return ac(4,2,e,n)}function Gp(e,n){return ac(4,4,e,n)}function Qp(e,n){if(typeof n=="function"){e=e();var a=n(e);return function(){typeof a=="function"?a():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function Yp(e,n,a){a=a!=null?a.concat([e]):null,ac(4,4,Qp.bind(null,n,e),a)}function Pf(){}function Kp(e,n){var a=Oe();n=n===void 0?null:n;var o=a.memoizedState;return n!==null&&Rf(n,o[1])?o[0]:(a.memoizedState=[e,n],e)}function Xp(e,n){var a=Oe();n=n===void 0?null:n;var o=a.memoizedState;if(n!==null&&Rf(n,o[1]))return o[0];if(o=e(),Yr){ot(!0);try{e()}finally{ot(!1)}}return a.memoizedState=[o,n],o}function kf(e,n,a){return a===void 0||(ts&1073741824)!==0&&(kt&261930)===0?e.memoizedState=n:(e.memoizedState=a,e=$y(),Dt.lanes|=e,Fs|=e,a)}function $p(e,n,a,o){return Nn(a,n)?a:ka.current!==null?(e=kf(e,a,o),Nn(e,n)||(ze=!0),e):(ts&42)===0||(ts&1073741824)!==0&&(kt&261930)===0?(ze=!0,e.memoizedState=a):(e=$y(),Dt.lanes|=e,Fs|=e,n)}function Zp(e,n,a,o,h){var f=st.p;st.p=f!==0&&8>f?f:8;var g=j.T,E={};j.T=E,Bf(e,!1,n,a);try{var C=h(),z=j.S;if(z!==null&&z(E,C),C!==null&&typeof C=="object"&&typeof C.then=="function"){var G=PA(C,o);ol(e,n,G,Un(e))}else ol(e,n,o,Un(e))}catch($){ol(e,n,{then:function(){},status:"rejected",reason:$},Un())}finally{st.p=f,g!==null&&E.types!==null&&(g.types=E.types),j.T=g}}function HA(){}function zf(e,n,a,o){if(e.tag!==5)throw Error(r(476));var h=Jp(e).queue;Zp(e,h,n,ft,a===null?HA:function(){return Wp(e),a(o)})}function Jp(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:ft,baseState:ft,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:es,lastRenderedState:ft},next:null};var a={};return n.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:es,lastRenderedState:a},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function Wp(e){var n=Jp(e);n.next===null&&(n=e.alternate.memoizedState),ol(e,n.next.queue,{},Un())}function jf(){return en(bl)}function ty(){return Oe().memoizedState}function ey(){return Oe().memoizedState}function FA(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var a=Un();e=ks(a);var o=zs(n,e,a);o!==null&&(bn(o,n,a),nl(o,n,a)),n={cache:gf()},e.payload=n;return}n=n.return}}function GA(e,n,a){var o=Un();a={lane:o,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},oc(e)?iy(n,a):(a=sf(e,n,a,o),a!==null&&(bn(a,e,o),sy(a,n,o)))}function ny(e,n,a){var o=Un();ol(e,n,a,o)}function ol(e,n,a,o){var h={lane:o,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(oc(e))iy(n,h);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var g=n.lastRenderedState,E=f(g,a);if(h.hasEagerState=!0,h.eagerState=E,Nn(E,g))return Bu(e,n,h,0),de===null&&ju(),!1}catch{}finally{}if(a=sf(e,n,h,o),a!==null)return bn(a,e,o),sy(a,n,o),!0}return!1}function Bf(e,n,a,o){if(o={lane:2,revertLane:vd(),gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},oc(e)){if(n)throw Error(r(479))}else n=sf(e,a,o,2),n!==null&&bn(n,e,2)}function oc(e){var n=e.alternate;return e===Dt||n!==null&&n===Dt}function iy(e,n){za=tc=!0;var a=e.pending;a===null?n.next=n:(n.next=a.next,a.next=n),e.pending=n}function sy(e,n,a){if((a&4194048)!==0){var o=n.lanes;o&=e.pendingLanes,a|=o,n.lanes=a,No(e,a)}}var ll={readContext:en,use:ic,useCallback:Re,useContext:Re,useEffect:Re,useImperativeHandle:Re,useLayoutEffect:Re,useInsertionEffect:Re,useMemo:Re,useReducer:Re,useRef:Re,useState:Re,useDebugValue:Re,useDeferredValue:Re,useTransition:Re,useSyncExternalStore:Re,useId:Re,useHostTransitionStatus:Re,useFormState:Re,useActionState:Re,useOptimistic:Re,useMemoCache:Re,useCacheRefresh:Re};ll.useEffectEvent=Re;var ry={readContext:en,use:ic,useCallback:function(e,n){return gn().memoizedState=[e,n===void 0?null:n],e},useContext:en,useEffect:qp,useImperativeHandle:function(e,n,a){a=a!=null?a.concat([e]):null,rc(4194308,4,Qp.bind(null,n,e),a)},useLayoutEffect:function(e,n){return rc(4194308,4,e,n)},useInsertionEffect:function(e,n){rc(4,2,e,n)},useMemo:function(e,n){var a=gn();n=n===void 0?null:n;var o=e();if(Yr){ot(!0);try{e()}finally{ot(!1)}}return a.memoizedState=[o,n],o},useReducer:function(e,n,a){var o=gn();if(a!==void 0){var h=a(n);if(Yr){ot(!0);try{a(n)}finally{ot(!1)}}}else h=n;return o.memoizedState=o.baseState=h,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:h},o.queue=e,e=e.dispatch=GA.bind(null,Dt,e),[o.memoizedState,e]},useRef:function(e){var n=gn();return e={current:e},n.memoizedState=e},useState:function(e){e=Vf(e);var n=e.queue,a=ny.bind(null,Dt,n);return n.dispatch=a,[e.memoizedState,a]},useDebugValue:Pf,useDeferredValue:function(e,n){var a=gn();return kf(a,e,n)},useTransition:function(){var e=Vf(!1);return e=Zp.bind(null,Dt,e.queue,!0,!1),gn().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,a){var o=Dt,h=gn();if(Ft){if(a===void 0)throw Error(r(407));a=a()}else{if(a=n(),de===null)throw Error(r(349));(kt&127)!==0||Rp(o,n,a)}h.memoizedState=a;var f={value:a,getSnapshot:n};return h.queue=f,qp(Cp.bind(null,o,f,e),[e]),o.flags|=2048,Ba(9,{destroy:void 0},Ip.bind(null,o,f,a,n),null),a},useId:function(){var e=gn(),n=de.identifierPrefix;if(Ft){var a=Mi,o=Oi;a=(o&~(1<<32-dt(o)-1)).toString(32)+a,n="_"+n+"R_"+a,a=ec++,0<a&&(n+="H"+a.toString(32)),n+="_"}else a=kA++,n="_"+n+"r_"+a.toString(32)+"_";return e.memoizedState=n},useHostTransitionStatus:jf,useFormState:Pp,useActionState:Pp,useOptimistic:function(e){var n=gn();n.memoizedState=n.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=a,n=Bf.bind(null,Dt,!0,a),a.dispatch=n,[e,n]},useMemoCache:Df,useCacheRefresh:function(){return gn().memoizedState=FA.bind(null,Dt)},useEffectEvent:function(e){var n=gn(),a={impl:e};return n.memoizedState=a,function(){if((Wt&2)!==0)throw Error(r(440));return a.impl.apply(void 0,arguments)}}},qf={readContext:en,use:ic,useCallback:Kp,useContext:en,useEffect:Lf,useImperativeHandle:Yp,useInsertionEffect:Fp,useLayoutEffect:Gp,useMemo:Xp,useReducer:sc,useRef:Bp,useState:function(){return sc(es)},useDebugValue:Pf,useDeferredValue:function(e,n){var a=Oe();return $p(a,oe.memoizedState,e,n)},useTransition:function(){var e=sc(es)[0],n=Oe().memoizedState;return[typeof e=="boolean"?e:al(e),n]},useSyncExternalStore:wp,useId:ty,useHostTransitionStatus:jf,useFormState:kp,useActionState:kp,useOptimistic:function(e,n){var a=Oe();return Dp(a,oe,e,n)},useMemoCache:Df,useCacheRefresh:ey};qf.useEffectEvent=Hp;var ay={readContext:en,use:ic,useCallback:Kp,useContext:en,useEffect:Lf,useImperativeHandle:Yp,useInsertionEffect:Fp,useLayoutEffect:Gp,useMemo:Xp,useReducer:Mf,useRef:Bp,useState:function(){return Mf(es)},useDebugValue:Pf,useDeferredValue:function(e,n){var a=Oe();return oe===null?kf(a,e,n):$p(a,oe.memoizedState,e,n)},useTransition:function(){var e=Mf(es)[0],n=Oe().memoizedState;return[typeof e=="boolean"?e:al(e),n]},useSyncExternalStore:wp,useId:ty,useHostTransitionStatus:jf,useFormState:jp,useActionState:jp,useOptimistic:function(e,n){var a=Oe();return oe!==null?Dp(a,oe,e,n):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:Df,useCacheRefresh:ey};ay.useEffectEvent=Hp;function Hf(e,n,a,o){n=e.memoizedState,a=a(o,n),a=a==null?n:S({},n,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var Ff={enqueueSetState:function(e,n,a){e=e._reactInternals;var o=Un(),h=ks(o);h.payload=n,a!=null&&(h.callback=a),n=zs(e,h,o),n!==null&&(bn(n,e,o),nl(n,e,o))},enqueueReplaceState:function(e,n,a){e=e._reactInternals;var o=Un(),h=ks(o);h.tag=1,h.payload=n,a!=null&&(h.callback=a),n=zs(e,h,o),n!==null&&(bn(n,e,o),nl(n,e,o))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var a=Un(),o=ks(a);o.tag=2,n!=null&&(o.callback=n),n=zs(e,o,a),n!==null&&(bn(n,e,a),nl(n,e,a))}};function oy(e,n,a,o,h,f,g){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(o,f,g):n.prototype&&n.prototype.isPureReactComponent?!Ko(a,o)||!Ko(h,f):!0}function ly(e,n,a,o){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(a,o),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(a,o),n.state!==e&&Ff.enqueueReplaceState(n,n.state,null)}function Kr(e,n){var a=n;if("ref"in n){a={};for(var o in n)o!=="ref"&&(a[o]=n[o])}if(e=e.defaultProps){a===n&&(a=S({},a));for(var h in e)a[h]===void 0&&(a[h]=e[h])}return a}function uy(e){zu(e)}function cy(e){console.error(e)}function hy(e){zu(e)}function lc(e,n){try{var a=e.onUncaughtError;a(n.value,{componentStack:n.stack})}catch(o){setTimeout(function(){throw o})}}function fy(e,n,a){try{var o=e.onCaughtError;o(a.value,{componentStack:a.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Gf(e,n,a){return a=ks(a),a.tag=3,a.payload={element:null},a.callback=function(){lc(e,n)},a}function dy(e){return e=ks(e),e.tag=3,e}function my(e,n,a,o){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var f=o.value;e.payload=function(){return h(f)},e.callback=function(){fy(n,a,o)}}var g=a.stateNode;g!==null&&typeof g.componentDidCatch=="function"&&(e.callback=function(){fy(n,a,o),typeof h!="function"&&(Gs===null?Gs=new Set([this]):Gs.add(this));var E=o.stack;this.componentDidCatch(o.value,{componentStack:E!==null?E:""})})}function QA(e,n,a,o,h){if(a.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(n=a.alternate,n!==null&&Ma(n,a,h,!0),a=Dn.current,a!==null){switch(a.tag){case 31:case 13:return Xn===null?Ec():a.alternate===null&&Ie===0&&(Ie=3),a.flags&=-257,a.flags|=65536,a.lanes=h,o===Xu?a.flags|=16384:(n=a.updateQueue,n===null?a.updateQueue=new Set([o]):n.add(o),pd(e,o,h)),!1;case 22:return a.flags|=65536,o===Xu?a.flags|=16384:(n=a.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([o])},a.updateQueue=n):(a=n.retryQueue,a===null?n.retryQueue=new Set([o]):a.add(o)),pd(e,o,h)),!1}throw Error(r(435,a.tag))}return pd(e,o,h),Ec(),!1}if(Ft)return n=Dn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,o!==cf&&(e=Error(r(422),{cause:o}),Zo(Gn(e,a)))):(o!==cf&&(n=Error(r(423),{cause:o}),Zo(Gn(n,a))),e=e.current.alternate,e.flags|=65536,h&=-h,e.lanes|=h,o=Gn(o,a),h=Gf(e.stateNode,o,h),Tf(e,h),Ie!==4&&(Ie=2)),!1;var f=Error(r(520),{cause:o});if(f=Gn(f,a),pl===null?pl=[f]:pl.push(f),Ie!==4&&(Ie=2),n===null)return!0;o=Gn(o,a),a=n;do{switch(a.tag){case 3:return a.flags|=65536,e=h&-h,a.lanes|=e,e=Gf(a.stateNode,o,e),Tf(a,e),!1;case 1:if(n=a.type,f=a.stateNode,(a.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Gs===null||!Gs.has(f))))return a.flags|=65536,h&=-h,a.lanes|=h,h=dy(h),my(h,e,a,o),Tf(a,h),!1}a=a.return}while(a!==null);return!1}var Qf=Error(r(461)),ze=!1;function nn(e,n,a,o){n.child=e===null?_p(n,null,a,o):Qr(n,e.child,a,o)}function gy(e,n,a,o,h){a=a.render;var f=n.ref;if("ref"in o){var g={};for(var E in o)E!=="ref"&&(g[E]=o[E])}else g=o;return qr(n),o=If(e,n,a,g,f,h),E=Cf(),e!==null&&!ze?(Nf(e,n,h),ns(e,n,h)):(Ft&&E&&lf(n),n.flags|=1,nn(e,n,o,h),n.child)}function py(e,n,a,o,h){if(e===null){var f=a.type;return typeof f=="function"&&!rf(f)&&f.defaultProps===void 0&&a.compare===null?(n.tag=15,n.type=f,yy(e,n,f,o,h)):(e=Hu(a.type,null,o,n,n.mode,h),e.ref=n.ref,e.return=n,n.child=e)}if(f=e.child,!td(e,h)){var g=f.memoizedProps;if(a=a.compare,a=a!==null?a:Ko,a(g,o)&&e.ref===n.ref)return ns(e,n,h)}return n.flags|=1,e=$i(f,o),e.ref=n.ref,e.return=n,n.child=e}function yy(e,n,a,o,h){if(e!==null){var f=e.memoizedProps;if(Ko(f,o)&&e.ref===n.ref)if(ze=!1,n.pendingProps=o=f,td(e,h))(e.flags&131072)!==0&&(ze=!0);else return n.lanes=e.lanes,ns(e,n,h)}return Yf(e,n,a,o,h)}function _y(e,n,a,o){var h=o.children,f=e!==null?e.memoizedState:null;if(e===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|a:a,e!==null){for(o=n.child=e.child,h=0;o!==null;)h=h|o.lanes|o.childLanes,o=o.sibling;o=h&~f}else o=0,n.child=null;return vy(e,n,f,a,o)}if((a&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&Yu(n,f!==null?f.cachePool:null),f!==null?Tp(n,f):Sf(),Ap(n);else return o=n.lanes=536870912,vy(e,n,f!==null?f.baseLanes|a:a,a,o)}else f!==null?(Yu(n,f.cachePool),Tp(n,f),Bs(),n.memoizedState=null):(e!==null&&Yu(n,null),Sf(),Bs());return nn(e,n,h,a),n.child}function ul(e,n){return e!==null&&e.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function vy(e,n,a,o,h){var f=yf();return f=f===null?null:{parent:Pe._currentValue,pool:f},n.memoizedState={baseLanes:a,cachePool:f},e!==null&&Yu(n,null),Sf(),Ap(n),e!==null&&Ma(e,n,o,!0),n.childLanes=h,null}function uc(e,n){return n=hc({mode:n.mode,children:n.children},e.mode),n.ref=e.ref,e.child=n,n.return=e,n}function Ey(e,n,a){return Qr(n,e.child,null,a),e=uc(n,n.pendingProps),e.flags|=2,On(n),n.memoizedState=null,e}function YA(e,n,a){var o=n.pendingProps,h=(n.flags&128)!==0;if(n.flags&=-129,e===null){if(Ft){if(o.mode==="hidden")return e=uc(n,o),n.lanes=536870912,ul(null,e);if(wf(n),(e=ye)?(e=O_(e,Kn),e=e!==null&&e.data==="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:Ms!==null?{id:Oi,overflow:Mi}:null,retryLane:536870912,hydrationErrors:null},a=ip(e),a.return=n,n.child=a,tn=n,ye=null)):e=null,e===null)throw Us(n);return n.lanes=536870912,null}return uc(n,o)}var f=e.memoizedState;if(f!==null){var g=f.dehydrated;if(wf(n),h)if(n.flags&256)n.flags&=-257,n=Ey(e,n,a);else if(n.memoizedState!==null)n.child=e.child,n.flags|=128,n=null;else throw Error(r(558));else if(ze||Ma(e,n,a,!1),h=(a&e.childLanes)!==0,ze||h){if(o=de,o!==null&&(g=xo(o,a),g!==0&&g!==f.retryLane))throw f.retryLane=g,kr(e,g),bn(o,e,g),Qf;Ec(),n=Ey(e,n,a)}else e=f.treeContext,ye=$n(g.nextSibling),tn=n,Ft=!0,Vs=null,Kn=!1,e!==null&&ap(n,e),n=uc(n,o),n.flags|=4096;return n}return e=$i(e.child,{mode:o.mode,children:o.children}),e.ref=n.ref,n.child=e,e.return=n,e}function cc(e,n){var a=n.ref;if(a===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(r(284));(e===null||e.ref!==a)&&(n.flags|=4194816)}}function Yf(e,n,a,o,h){return qr(n),a=If(e,n,a,o,void 0,h),o=Cf(),e!==null&&!ze?(Nf(e,n,h),ns(e,n,h)):(Ft&&o&&lf(n),n.flags|=1,nn(e,n,a,h),n.child)}function Ty(e,n,a,o,h,f){return qr(n),n.updateQueue=null,a=bp(n,o,a,h),Sp(e),o=Cf(),e!==null&&!ze?(Nf(e,n,f),ns(e,n,f)):(Ft&&o&&lf(n),n.flags|=1,nn(e,n,a,f),n.child)}function Ay(e,n,a,o,h){if(qr(n),n.stateNode===null){var f=Na,g=a.contextType;typeof g=="object"&&g!==null&&(f=en(g)),f=new a(o,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Ff,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=o,f.state=n.memoizedState,f.refs={},vf(n),g=a.contextType,f.context=typeof g=="object"&&g!==null?en(g):Na,f.state=n.memoizedState,g=a.getDerivedStateFromProps,typeof g=="function"&&(Hf(n,a,g,o),f.state=n.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(g=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),g!==f.state&&Ff.enqueueReplaceState(f,f.state,null),sl(n,o,f,h),il(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!0}else if(e===null){f=n.stateNode;var E=n.memoizedProps,C=Kr(a,E);f.props=C;var z=f.context,G=a.contextType;g=Na,typeof G=="object"&&G!==null&&(g=en(G));var $=a.getDerivedStateFromProps;G=typeof $=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,G||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||z!==g)&&ly(n,f,o,g),Ps=!1;var B=n.memoizedState;f.state=B,sl(n,o,f,h),il(),z=n.memoizedState,E||B!==z||Ps?(typeof $=="function"&&(Hf(n,a,$,o),z=n.memoizedState),(C=Ps||oy(n,a,C,o,B,z,g))?(G||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=o,n.memoizedState=z),f.props=o,f.state=z,f.context=g,o=C):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!1)}else{f=n.stateNode,Ef(e,n),g=n.memoizedProps,G=Kr(a,g),f.props=G,$=n.pendingProps,B=f.context,z=a.contextType,C=Na,typeof z=="object"&&z!==null&&(C=en(z)),E=a.getDerivedStateFromProps,(z=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(g!==$||B!==C)&&ly(n,f,o,C),Ps=!1,B=n.memoizedState,f.state=B,sl(n,o,f,h),il();var H=n.memoizedState;g!==$||B!==H||Ps||e!==null&&e.dependencies!==null&&Gu(e.dependencies)?(typeof E=="function"&&(Hf(n,a,E,o),H=n.memoizedState),(G=Ps||oy(n,a,G,o,B,H,C)||e!==null&&e.dependencies!==null&&Gu(e.dependencies))?(z||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(o,H,C),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(o,H,C)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||g===e.memoizedProps&&B===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&B===e.memoizedState||(n.flags|=1024),n.memoizedProps=o,n.memoizedState=H),f.props=o,f.state=H,f.context=C,o=G):(typeof f.componentDidUpdate!="function"||g===e.memoizedProps&&B===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&B===e.memoizedState||(n.flags|=1024),o=!1)}return f=o,cc(e,n),o=(n.flags&128)!==0,f||o?(f=n.stateNode,a=o&&typeof a.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,e!==null&&o?(n.child=Qr(n,e.child,null,h),n.child=Qr(n,null,a,h)):nn(e,n,a,h),n.memoizedState=f.state,e=n.child):e=ns(e,n,h),e}function Sy(e,n,a,o){return jr(),n.flags|=256,nn(e,n,a,o),n.child}var Kf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Xf(e){return{baseLanes:e,cachePool:fp()}}function $f(e,n,a){return e=e!==null?e.childLanes&~a:0,n&&(e|=Vn),e}function by(e,n,a){var o=n.pendingProps,h=!1,f=(n.flags&128)!==0,g;if((g=f)||(g=e!==null&&e.memoizedState===null?!1:(De.current&2)!==0),g&&(h=!0,n.flags&=-129),g=(n.flags&32)!==0,n.flags&=-33,e===null){if(Ft){if(h?js(n):Bs(),(e=ye)?(e=O_(e,Kn),e=e!==null&&e.data!=="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:Ms!==null?{id:Oi,overflow:Mi}:null,retryLane:536870912,hydrationErrors:null},a=ip(e),a.return=n,n.child=a,tn=n,ye=null)):e=null,e===null)throw Us(n);return Od(e)?n.lanes=32:n.lanes=536870912,null}var E=o.children;return o=o.fallback,h?(Bs(),h=n.mode,E=hc({mode:"hidden",children:E},h),o=zr(o,h,a,null),E.return=n,o.return=n,E.sibling=o,n.child=E,o=n.child,o.memoizedState=Xf(a),o.childLanes=$f(e,g,a),n.memoizedState=Kf,ul(null,o)):(js(n),Zf(n,E))}var C=e.memoizedState;if(C!==null&&(E=C.dehydrated,E!==null)){if(f)n.flags&256?(js(n),n.flags&=-257,n=Jf(e,n,a)):n.memoizedState!==null?(Bs(),n.child=e.child,n.flags|=128,n=null):(Bs(),E=o.fallback,h=n.mode,o=hc({mode:"visible",children:o.children},h),E=zr(E,h,a,null),E.flags|=2,o.return=n,E.return=n,o.sibling=E,n.child=o,Qr(n,e.child,null,a),o=n.child,o.memoizedState=Xf(a),o.childLanes=$f(e,g,a),n.memoizedState=Kf,n=ul(null,o));else if(js(n),Od(E)){if(g=E.nextSibling&&E.nextSibling.dataset,g)var z=g.dgst;g=z,o=Error(r(419)),o.stack="",o.digest=g,Zo({value:o,source:null,stack:null}),n=Jf(e,n,a)}else if(ze||Ma(e,n,a,!1),g=(a&e.childLanes)!==0,ze||g){if(g=de,g!==null&&(o=xo(g,a),o!==0&&o!==C.retryLane))throw C.retryLane=o,kr(e,o),bn(g,e,o),Qf;Dd(E)||Ec(),n=Jf(e,n,a)}else Dd(E)?(n.flags|=192,n.child=e.child,n=null):(e=C.treeContext,ye=$n(E.nextSibling),tn=n,Ft=!0,Vs=null,Kn=!1,e!==null&&ap(n,e),n=Zf(n,o.children),n.flags|=4096);return n}return h?(Bs(),E=o.fallback,h=n.mode,C=e.child,z=C.sibling,o=$i(C,{mode:"hidden",children:o.children}),o.subtreeFlags=C.subtreeFlags&65011712,z!==null?E=$i(z,E):(E=zr(E,h,a,null),E.flags|=2),E.return=n,o.return=n,o.sibling=E,n.child=o,ul(null,o),o=n.child,E=e.child.memoizedState,E===null?E=Xf(a):(h=E.cachePool,h!==null?(C=Pe._currentValue,h=h.parent!==C?{parent:C,pool:C}:h):h=fp(),E={baseLanes:E.baseLanes|a,cachePool:h}),o.memoizedState=E,o.childLanes=$f(e,g,a),n.memoizedState=Kf,ul(e.child,o)):(js(n),a=e.child,e=a.sibling,a=$i(a,{mode:"visible",children:o.children}),a.return=n,a.sibling=null,e!==null&&(g=n.deletions,g===null?(n.deletions=[e],n.flags|=16):g.push(e)),n.child=a,n.memoizedState=null,a)}function Zf(e,n){return n=hc({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function hc(e,n){return e=xn(22,e,null,n),e.lanes=0,e}function Jf(e,n,a){return Qr(n,e.child,null,a),e=Zf(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function wy(e,n,a){e.lanes|=n;var o=e.alternate;o!==null&&(o.lanes|=n),df(e.return,n,a)}function Wf(e,n,a,o,h,f){var g=e.memoizedState;g===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:o,tail:a,tailMode:h,treeForkCount:f}:(g.isBackwards=n,g.rendering=null,g.renderingStartTime=0,g.last=o,g.tail=a,g.tailMode=h,g.treeForkCount=f)}function Ry(e,n,a){var o=n.pendingProps,h=o.revealOrder,f=o.tail;o=o.children;var g=De.current,E=(g&2)!==0;if(E?(g=g&1|2,n.flags|=128):g&=1,J(De,g),nn(e,n,o,a),o=Ft?$o:0,!E&&e!==null&&(e.flags&128)!==0)t:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&wy(e,a,n);else if(e.tag===19)wy(e,a,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break t;for(;e.sibling===null;){if(e.return===null||e.return===n)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(h){case"forwards":for(a=n.child,h=null;a!==null;)e=a.alternate,e!==null&&Wu(e)===null&&(h=a),a=a.sibling;a=h,a===null?(h=n.child,n.child=null):(h=a.sibling,a.sibling=null),Wf(n,!1,h,a,f,o);break;case"backwards":case"unstable_legacy-backwards":for(a=null,h=n.child,n.child=null;h!==null;){if(e=h.alternate,e!==null&&Wu(e)===null){n.child=h;break}e=h.sibling,h.sibling=a,a=h,h=e}Wf(n,!0,a,null,f,o);break;case"together":Wf(n,!1,null,null,void 0,o);break;default:n.memoizedState=null}return n.child}function ns(e,n,a){if(e!==null&&(n.dependencies=e.dependencies),Fs|=n.lanes,(a&n.childLanes)===0)if(e!==null){if(Ma(e,n,a,!1),(a&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(r(153));if(n.child!==null){for(e=n.child,a=$i(e,e.pendingProps),n.child=a,a.return=n;e.sibling!==null;)e=e.sibling,a=a.sibling=$i(e,e.pendingProps),a.return=n;a.sibling=null}return n.child}function td(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&Gu(e)))}function KA(e,n,a){switch(n.tag){case 3:Ae(n,n.stateNode.containerInfo),Ls(n,Pe,e.memoizedState.cache),jr();break;case 27:case 5:Fi(n);break;case 4:Ae(n,n.stateNode.containerInfo);break;case 10:Ls(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,wf(n),null;break;case 13:var o=n.memoizedState;if(o!==null)return o.dehydrated!==null?(js(n),n.flags|=128,null):(a&n.child.childLanes)!==0?by(e,n,a):(js(n),e=ns(e,n,a),e!==null?e.sibling:null);js(n);break;case 19:var h=(e.flags&128)!==0;if(o=(a&n.childLanes)!==0,o||(Ma(e,n,a,!1),o=(a&n.childLanes)!==0),h){if(o)return Ry(e,n,a);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),J(De,De.current),o)break;return null;case 22:return n.lanes=0,_y(e,n,a,n.pendingProps);case 24:Ls(n,Pe,e.memoizedState.cache)}return ns(e,n,a)}function Iy(e,n,a){if(e!==null)if(e.memoizedProps!==n.pendingProps)ze=!0;else{if(!td(e,a)&&(n.flags&128)===0)return ze=!1,KA(e,n,a);ze=(e.flags&131072)!==0}else ze=!1,Ft&&(n.flags&1048576)!==0&&rp(n,$o,n.index);switch(n.lanes=0,n.tag){case 16:t:{var o=n.pendingProps;if(e=Fr(n.elementType),n.type=e,typeof e=="function")rf(e)?(o=Kr(e,o),n.tag=1,n=Ay(null,n,e,o,a)):(n.tag=0,n=Yf(null,n,e,o,a));else{if(e!=null){var h=e.$$typeof;if(h===Yt){n.tag=11,n=gy(null,n,e,o,a);break t}else if(h===N){n.tag=14,n=py(null,n,e,o,a);break t}}throw n=Ct(e)||e,Error(r(306,n,""))}}return n;case 0:return Yf(e,n,n.type,n.pendingProps,a);case 1:return o=n.type,h=Kr(o,n.pendingProps),Ay(e,n,o,h,a);case 3:t:{if(Ae(n,n.stateNode.containerInfo),e===null)throw Error(r(387));o=n.pendingProps;var f=n.memoizedState;h=f.element,Ef(e,n),sl(n,o,null,a);var g=n.memoizedState;if(o=g.cache,Ls(n,Pe,o),o!==f.cache&&mf(n,[Pe],a,!0),il(),o=g.element,f.isDehydrated)if(f={element:o,isDehydrated:!1,cache:g.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=Sy(e,n,o,a);break t}else if(o!==h){h=Gn(Error(r(424)),n),Zo(h),n=Sy(e,n,o,a);break t}else{switch(e=n.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(ye=$n(e.firstChild),tn=n,Ft=!0,Vs=null,Kn=!0,a=_p(n,null,o,a),n.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(jr(),o===h){n=ns(e,n,a);break t}nn(e,n,o,a)}n=n.child}return n;case 26:return cc(e,n),e===null?(a=k_(n.type,null,n.pendingProps,null))?n.memoizedState=a:Ft||(a=n.type,e=n.pendingProps,o=Ic(wt.current).createElement(a),o[Ve]=n,o[Ke]=e,sn(o,a,e),Ue(o),n.stateNode=o):n.memoizedState=k_(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return Fi(n),e===null&&Ft&&(o=n.stateNode=U_(n.type,n.pendingProps,wt.current),tn=n,Kn=!0,h=ye,Xs(n.type)?(Md=h,ye=$n(o.firstChild)):ye=h),nn(e,n,n.pendingProps.children,a),cc(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&Ft&&((h=o=ye)&&(o=bS(o,n.type,n.pendingProps,Kn),o!==null?(n.stateNode=o,tn=n,ye=$n(o.firstChild),Kn=!1,h=!0):h=!1),h||Us(n)),Fi(n),h=n.type,f=n.pendingProps,g=e!==null?e.memoizedProps:null,o=f.children,Cd(h,f)?o=null:g!==null&&Cd(h,g)&&(n.flags|=32),n.memoizedState!==null&&(h=If(e,n,zA,null,null,a),bl._currentValue=h),cc(e,n),nn(e,n,o,a),n.child;case 6:return e===null&&Ft&&((e=a=ye)&&(a=wS(a,n.pendingProps,Kn),a!==null?(n.stateNode=a,tn=n,ye=null,e=!0):e=!1),e||Us(n)),null;case 13:return by(e,n,a);case 4:return Ae(n,n.stateNode.containerInfo),o=n.pendingProps,e===null?n.child=Qr(n,null,o,a):nn(e,n,o,a),n.child;case 11:return gy(e,n,n.type,n.pendingProps,a);case 7:return nn(e,n,n.pendingProps,a),n.child;case 8:return nn(e,n,n.pendingProps.children,a),n.child;case 12:return nn(e,n,n.pendingProps.children,a),n.child;case 10:return o=n.pendingProps,Ls(n,n.type,o.value),nn(e,n,o.children,a),n.child;case 9:return h=n.type._context,o=n.pendingProps.children,qr(n),h=en(h),o=o(h),n.flags|=1,nn(e,n,o,a),n.child;case 14:return py(e,n,n.type,n.pendingProps,a);case 15:return yy(e,n,n.type,n.pendingProps,a);case 19:return Ry(e,n,a);case 31:return YA(e,n,a);case 22:return _y(e,n,a,n.pendingProps);case 24:return qr(n),o=en(Pe),e===null?(h=yf(),h===null&&(h=de,f=gf(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=a),h=f),n.memoizedState={parent:o,cache:h},vf(n),Ls(n,Pe,h)):((e.lanes&a)!==0&&(Ef(e,n),sl(n,null,null,a),il()),h=e.memoizedState,f=n.memoizedState,h.parent!==o?(h={parent:o,cache:o},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),Ls(n,Pe,o)):(o=f.cache,Ls(n,Pe,o),o!==h.cache&&mf(n,[Pe],a,!0))),nn(e,n,n.pendingProps.children,a),n.child;case 29:throw n.pendingProps}throw Error(r(156,n.tag))}function is(e){e.flags|=4}function ed(e,n,a,o,h){if((n=(e.mode&32)!==0)&&(n=!1),n){if(e.flags|=16777216,(h&335544128)===h)if(e.stateNode.complete)e.flags|=8192;else if(t_())e.flags|=8192;else throw Gr=Xu,_f}else e.flags&=-16777217}function Cy(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!H_(n))if(t_())e.flags|=8192;else throw Gr=Xu,_f}function fc(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?_u():536870912,e.lanes|=n,Ga|=n)}function cl(e,n){if(!Ft)switch(e.tailMode){case"hidden":n=e.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var o=null;a!==null;)a.alternate!==null&&(o=a),a=a.sibling;o===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:o.sibling=null}}function _e(e){var n=e.alternate!==null&&e.alternate.child===e.child,a=0,o=0;if(n)for(var h=e.child;h!==null;)a|=h.lanes|h.childLanes,o|=h.subtreeFlags&65011712,o|=h.flags&65011712,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)a|=h.lanes|h.childLanes,o|=h.subtreeFlags,o|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=o,e.childLanes=a,n}function XA(e,n,a){var o=n.pendingProps;switch(uf(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return _e(n),null;case 1:return _e(n),null;case 3:return a=n.stateNode,o=null,e!==null&&(o=e.memoizedState.cache),n.memoizedState.cache!==o&&(n.flags|=2048),Wi(Pe),ge(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(Oa(n)?is(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,hf())),_e(n),null;case 26:var h=n.type,f=n.memoizedState;return e===null?(is(n),f!==null?(_e(n),Cy(n,f)):(_e(n),ed(n,h,null,o,a))):f?f!==e.memoizedState?(is(n),_e(n),Cy(n,f)):(_e(n),n.flags&=-16777217):(e=e.memoizedProps,e!==o&&is(n),_e(n),ed(n,h,e,o,a)),null;case 27:if(Es(n),a=wt.current,h=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&is(n);else{if(!o){if(n.stateNode===null)throw Error(r(166));return _e(n),null}e=lt.current,Oa(n)?op(n):(e=U_(h,o,a),n.stateNode=e,is(n))}return _e(n),null;case 5:if(Es(n),h=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&is(n);else{if(!o){if(n.stateNode===null)throw Error(r(166));return _e(n),null}if(f=lt.current,Oa(n))op(n);else{var g=Ic(wt.current);switch(f){case 1:f=g.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:f=g.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":f=g.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":f=g.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":f=g.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof o.is=="string"?g.createElement("select",{is:o.is}):g.createElement("select"),o.multiple?f.multiple=!0:o.size&&(f.size=o.size);break;default:f=typeof o.is=="string"?g.createElement(h,{is:o.is}):g.createElement(h)}}f[Ve]=n,f[Ke]=o;t:for(g=n.child;g!==null;){if(g.tag===5||g.tag===6)f.appendChild(g.stateNode);else if(g.tag!==4&&g.tag!==27&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===n)break t;for(;g.sibling===null;){if(g.return===null||g.return===n)break t;g=g.return}g.sibling.return=g.return,g=g.sibling}n.stateNode=f;t:switch(sn(f,h,o),h){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break t;case"img":o=!0;break t;default:o=!1}o&&is(n)}}return _e(n),ed(n,n.type,e===null?null:e.memoizedProps,n.pendingProps,a),null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==o&&is(n);else{if(typeof o!="string"&&n.stateNode===null)throw Error(r(166));if(e=wt.current,Oa(n)){if(e=n.stateNode,a=n.memoizedProps,o=null,h=tn,h!==null)switch(h.tag){case 27:case 5:o=h.memoizedProps}e[Ve]=n,e=!!(e.nodeValue===a||o!==null&&o.suppressHydrationWarning===!0||b_(e.nodeValue,a)),e||Us(n,!0)}else e=Ic(e).createTextNode(o),e[Ve]=n,n.stateNode=e}return _e(n),null;case 31:if(a=n.memoizedState,e===null||e.memoizedState!==null){if(o=Oa(n),a!==null){if(e===null){if(!o)throw Error(r(318));if(e=n.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(557));e[Ve]=n}else jr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;_e(n),e=!1}else a=hf(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=a),e=!0;if(!e)return n.flags&256?(On(n),n):(On(n),null);if((n.flags&128)!==0)throw Error(r(558))}return _e(n),null;case 13:if(o=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(h=Oa(n),o!==null&&o.dehydrated!==null){if(e===null){if(!h)throw Error(r(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(r(317));h[Ve]=n}else jr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;_e(n),h=!1}else h=hf(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(On(n),n):(On(n),null)}return On(n),(n.flags&128)!==0?(n.lanes=a,n):(a=o!==null,e=e!==null&&e.memoizedState!==null,a&&(o=n.child,h=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(h=o.alternate.memoizedState.cachePool.pool),f=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),f!==h&&(o.flags|=2048)),a!==e&&a&&(n.child.flags|=8192),fc(n,n.updateQueue),_e(n),null);case 4:return ge(),e===null&&Sd(n.stateNode.containerInfo),_e(n),null;case 10:return Wi(n.type),_e(n),null;case 19:if(K(De),o=n.memoizedState,o===null)return _e(n),null;if(h=(n.flags&128)!==0,f=o.rendering,f===null)if(h)cl(o,!1);else{if(Ie!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(f=Wu(e),f!==null){for(n.flags|=128,cl(o,!1),e=f.updateQueue,n.updateQueue=e,fc(n,e),n.subtreeFlags=0,e=a,a=n.child;a!==null;)np(a,e),a=a.sibling;return J(De,De.current&1|2),Ft&&Zi(n,o.treeForkCount),n.child}e=e.sibling}o.tail!==null&&Ye()>yc&&(n.flags|=128,h=!0,cl(o,!1),n.lanes=4194304)}else{if(!h)if(e=Wu(f),e!==null){if(n.flags|=128,h=!0,e=e.updateQueue,n.updateQueue=e,fc(n,e),cl(o,!0),o.tail===null&&o.tailMode==="hidden"&&!f.alternate&&!Ft)return _e(n),null}else 2*Ye()-o.renderingStartTime>yc&&a!==536870912&&(n.flags|=128,h=!0,cl(o,!1),n.lanes=4194304);o.isBackwards?(f.sibling=n.child,n.child=f):(e=o.last,e!==null?e.sibling=f:n.child=f,o.last=f)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=Ye(),e.sibling=null,a=De.current,J(De,h?a&1|2:a&1),Ft&&Zi(n,o.treeForkCount),e):(_e(n),null);case 22:case 23:return On(n),bf(),o=n.memoizedState!==null,e!==null?e.memoizedState!==null!==o&&(n.flags|=8192):o&&(n.flags|=8192),o?(a&536870912)!==0&&(n.flags&128)===0&&(_e(n),n.subtreeFlags&6&&(n.flags|=8192)):_e(n),a=n.updateQueue,a!==null&&fc(n,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),o=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),o!==a&&(n.flags|=2048),e!==null&&K(Hr),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),n.memoizedState.cache!==a&&(n.flags|=2048),Wi(Pe),_e(n),null;case 25:return null;case 30:return null}throw Error(r(156,n.tag))}function $A(e,n){switch(uf(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return Wi(Pe),ge(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return Es(n),null;case 31:if(n.memoizedState!==null){if(On(n),n.alternate===null)throw Error(r(340));jr()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 13:if(On(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(r(340));jr()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return K(De),null;case 4:return ge(),null;case 10:return Wi(n.type),null;case 22:case 23:return On(n),bf(),e!==null&&K(Hr),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return Wi(Pe),null;case 25:return null;default:return null}}function Ny(e,n){switch(uf(n),n.tag){case 3:Wi(Pe),ge();break;case 26:case 27:case 5:Es(n);break;case 4:ge();break;case 31:n.memoizedState!==null&&On(n);break;case 13:On(n);break;case 19:K(De);break;case 10:Wi(n.type);break;case 22:case 23:On(n),bf(),e!==null&&K(Hr);break;case 24:Wi(Pe)}}function hl(e,n){try{var a=n.updateQueue,o=a!==null?a.lastEffect:null;if(o!==null){var h=o.next;a=h;do{if((a.tag&e)===e){o=void 0;var f=a.create,g=a.inst;o=f(),g.destroy=o}a=a.next}while(a!==h)}}catch(E){se(n,n.return,E)}}function qs(e,n,a){try{var o=n.updateQueue,h=o!==null?o.lastEffect:null;if(h!==null){var f=h.next;o=f;do{if((o.tag&e)===e){var g=o.inst,E=g.destroy;if(E!==void 0){g.destroy=void 0,h=n;var C=a,z=E;try{z()}catch(G){se(h,C,G)}}}o=o.next}while(o!==f)}}catch(G){se(n,n.return,G)}}function xy(e){var n=e.updateQueue;if(n!==null){var a=e.stateNode;try{Ep(n,a)}catch(o){se(e,e.return,o)}}}function Dy(e,n,a){a.props=Kr(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(o){se(e,n,o)}}function fl(e,n){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var o=e.stateNode;break;case 30:o=e.stateNode;break;default:o=e.stateNode}typeof a=="function"?e.refCleanup=a(o):a.current=o}}catch(h){se(e,n,h)}}function Vi(e,n){var a=e.ref,o=e.refCleanup;if(a!==null)if(typeof o=="function")try{o()}catch(h){se(e,n,h)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){se(e,n,h)}else a.current=null}function Oy(e){var n=e.type,a=e.memoizedProps,o=e.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":a.autoFocus&&o.focus();break t;case"img":a.src?o.src=a.src:a.srcSet&&(o.srcset=a.srcSet)}}catch(h){se(e,e.return,h)}}function nd(e,n,a){try{var o=e.stateNode;_S(o,e.type,a,n),o[Ke]=n}catch(h){se(e,e.return,h)}}function My(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Xs(e.type)||e.tag===4}function id(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||My(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Xs(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function sd(e,n,a){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,n):(n=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,n.appendChild(e),a=a._reactRootContainer,a!=null||n.onclick!==null||(n.onclick=ei));else if(o!==4&&(o===27&&Xs(e.type)&&(a=e.stateNode,n=null),e=e.child,e!==null))for(sd(e,n,a),e=e.sibling;e!==null;)sd(e,n,a),e=e.sibling}function dc(e,n,a){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?a.insertBefore(e,n):a.appendChild(e);else if(o!==4&&(o===27&&Xs(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(dc(e,n,a),e=e.sibling;e!==null;)dc(e,n,a),e=e.sibling}function Vy(e){var n=e.stateNode,a=e.memoizedProps;try{for(var o=e.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);sn(n,o,a),n[Ve]=e,n[Ke]=a}catch(f){se(e,e.return,f)}}var ss=!1,je=!1,rd=!1,Uy=typeof WeakSet=="function"?WeakSet:Set,$e=null;function ZA(e,n){if(e=e.containerInfo,Rd=Vc,e=Yg(e),Zh(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else t:{a=(a=e.ownerDocument)&&a.defaultView||window;var o=a.getSelection&&a.getSelection();if(o&&o.rangeCount!==0){a=o.anchorNode;var h=o.anchorOffset,f=o.focusNode;o=o.focusOffset;try{a.nodeType,f.nodeType}catch{a=null;break t}var g=0,E=-1,C=-1,z=0,G=0,$=e,B=null;e:for(;;){for(var H;$!==a||h!==0&&$.nodeType!==3||(E=g+h),$!==f||o!==0&&$.nodeType!==3||(C=g+o),$.nodeType===3&&(g+=$.nodeValue.length),(H=$.firstChild)!==null;)B=$,$=H;for(;;){if($===e)break e;if(B===a&&++z===h&&(E=g),B===f&&++G===o&&(C=g),(H=$.nextSibling)!==null)break;$=B,B=$.parentNode}$=H}a=E===-1||C===-1?null:{start:E,end:C}}else a=null}a=a||{start:0,end:0}}else a=null;for(Id={focusedElem:e,selectionRange:a},Vc=!1,$e=n;$e!==null;)if(n=$e,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,$e=e;else for(;$e!==null;){switch(n=$e,f=n.alternate,e=n.flags,n.tag){case 0:if((e&4)!==0&&(e=n.updateQueue,e=e!==null?e.events:null,e!==null))for(a=0;a<e.length;a++)h=e[a],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&f!==null){e=void 0,a=n,h=f.memoizedProps,f=f.memoizedState,o=a.stateNode;try{var ct=Kr(a.type,h);e=o.getSnapshotBeforeUpdate(ct,f),o.__reactInternalSnapshotBeforeUpdate=e}catch(vt){se(a,a.return,vt)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,a=e.nodeType,a===9)xd(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":xd(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(r(163))}if(e=n.sibling,e!==null){e.return=n.return,$e=e;break}$e=n.return}}function Ly(e,n,a){var o=a.flags;switch(a.tag){case 0:case 11:case 15:as(e,a),o&4&&hl(5,a);break;case 1:if(as(e,a),o&4)if(e=a.stateNode,n===null)try{e.componentDidMount()}catch(g){se(a,a.return,g)}else{var h=Kr(a.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(h,n,e.__reactInternalSnapshotBeforeUpdate)}catch(g){se(a,a.return,g)}}o&64&&xy(a),o&512&&fl(a,a.return);break;case 3:if(as(e,a),o&64&&(e=a.updateQueue,e!==null)){if(n=null,a.child!==null)switch(a.child.tag){case 27:case 5:n=a.child.stateNode;break;case 1:n=a.child.stateNode}try{Ep(e,n)}catch(g){se(a,a.return,g)}}break;case 27:n===null&&o&4&&Vy(a);case 26:case 5:as(e,a),n===null&&o&4&&Oy(a),o&512&&fl(a,a.return);break;case 12:as(e,a);break;case 31:as(e,a),o&4&&zy(e,a);break;case 13:as(e,a),o&4&&jy(e,a),o&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=aS.bind(null,a),RS(e,a))));break;case 22:if(o=a.memoizedState!==null||ss,!o){n=n!==null&&n.memoizedState!==null||je,h=ss;var f=je;ss=o,(je=n)&&!f?os(e,a,(a.subtreeFlags&8772)!==0):as(e,a),ss=h,je=f}break;case 30:break;default:as(e,a)}}function Py(e){var n=e.alternate;n!==null&&(e.alternate=null,Py(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&ga(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Te=null,En=!1;function rs(e,n,a){for(a=a.child;a!==null;)ky(e,n,a),a=a.sibling}function ky(e,n,a){if(et&&typeof et.onCommitFiberUnmount=="function")try{et.onCommitFiberUnmount(it,a)}catch{}switch(a.tag){case 26:je||Vi(a,n),rs(e,n,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:je||Vi(a,n);var o=Te,h=En;Xs(a.type)&&(Te=a.stateNode,En=!1),rs(e,n,a),Tl(a.stateNode),Te=o,En=h;break;case 5:je||Vi(a,n);case 6:if(o=Te,h=En,Te=null,rs(e,n,a),Te=o,En=h,Te!==null)if(En)try{(Te.nodeType===9?Te.body:Te.nodeName==="HTML"?Te.ownerDocument.body:Te).removeChild(a.stateNode)}catch(f){se(a,n,f)}else try{Te.removeChild(a.stateNode)}catch(f){se(a,n,f)}break;case 18:Te!==null&&(En?(e=Te,x_(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),Wa(e)):x_(Te,a.stateNode));break;case 4:o=Te,h=En,Te=a.stateNode.containerInfo,En=!0,rs(e,n,a),Te=o,En=h;break;case 0:case 11:case 14:case 15:qs(2,a,n),je||qs(4,a,n),rs(e,n,a);break;case 1:je||(Vi(a,n),o=a.stateNode,typeof o.componentWillUnmount=="function"&&Dy(a,n,o)),rs(e,n,a);break;case 21:rs(e,n,a);break;case 22:je=(o=je)||a.memoizedState!==null,rs(e,n,a),je=o;break;default:rs(e,n,a)}}function zy(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Wa(e)}catch(a){se(n,n.return,a)}}}function jy(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Wa(e)}catch(a){se(n,n.return,a)}}function JA(e){switch(e.tag){case 31:case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new Uy),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new Uy),n;default:throw Error(r(435,e.tag))}}function mc(e,n){var a=JA(e);n.forEach(function(o){if(!a.has(o)){a.add(o);var h=oS.bind(null,e,o);o.then(h,h)}})}function Tn(e,n){var a=n.deletions;if(a!==null)for(var o=0;o<a.length;o++){var h=a[o],f=e,g=n,E=g;t:for(;E!==null;){switch(E.tag){case 27:if(Xs(E.type)){Te=E.stateNode,En=!1;break t}break;case 5:Te=E.stateNode,En=!1;break t;case 3:case 4:Te=E.stateNode.containerInfo,En=!0;break t}E=E.return}if(Te===null)throw Error(r(160));ky(f,g,h),Te=null,En=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)By(n,e),n=n.sibling}var oi=null;function By(e,n){var a=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Tn(n,e),An(e),o&4&&(qs(3,e,e.return),hl(3,e),qs(5,e,e.return));break;case 1:Tn(n,e),An(e),o&512&&(je||a===null||Vi(a,a.return)),o&64&&ss&&(e=e.updateQueue,e!==null&&(o=e.callbacks,o!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?o:a.concat(o))));break;case 26:var h=oi;if(Tn(n,e),An(e),o&512&&(je||a===null||Vi(a,a.return)),o&4){var f=a!==null?a.memoizedState:null;if(o=e.memoizedState,a===null)if(o===null)if(e.stateNode===null){t:{o=e.type,a=e.memoizedProps,h=h.ownerDocument||h;e:switch(o){case"title":f=h.getElementsByTagName("title")[0],(!f||f[Ei]||f[Ve]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(o),h.head.insertBefore(f,h.querySelector("head > title"))),sn(f,o,a),f[Ve]=e,Ue(f),o=f;break t;case"link":var g=B_("link","href",h).get(o+(a.href||""));if(g){for(var E=0;E<g.length;E++)if(f=g[E],f.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&f.getAttribute("rel")===(a.rel==null?null:a.rel)&&f.getAttribute("title")===(a.title==null?null:a.title)&&f.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){g.splice(E,1);break e}}f=h.createElement(o),sn(f,o,a),h.head.appendChild(f);break;case"meta":if(g=B_("meta","content",h).get(o+(a.content||""))){for(E=0;E<g.length;E++)if(f=g[E],f.getAttribute("content")===(a.content==null?null:""+a.content)&&f.getAttribute("name")===(a.name==null?null:a.name)&&f.getAttribute("property")===(a.property==null?null:a.property)&&f.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&f.getAttribute("charset")===(a.charSet==null?null:a.charSet)){g.splice(E,1);break e}}f=h.createElement(o),sn(f,o,a),h.head.appendChild(f);break;default:throw Error(r(468,o))}f[Ve]=e,Ue(f),o=f}e.stateNode=o}else q_(h,e.type,e.stateNode);else e.stateNode=j_(h,o,e.memoizedProps);else f!==o?(f===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):f.count--,o===null?q_(h,e.type,e.stateNode):j_(h,o,e.memoizedProps)):o===null&&e.stateNode!==null&&nd(e,e.memoizedProps,a.memoizedProps)}break;case 27:Tn(n,e),An(e),o&512&&(je||a===null||Vi(a,a.return)),a!==null&&o&4&&nd(e,e.memoizedProps,a.memoizedProps);break;case 5:if(Tn(n,e),An(e),o&512&&(je||a===null||Vi(a,a.return)),e.flags&32){h=e.stateNode;try{vn(h,"")}catch(ct){se(e,e.return,ct)}}o&4&&e.stateNode!=null&&(h=e.memoizedProps,nd(e,h,a!==null?a.memoizedProps:h)),o&1024&&(rd=!0);break;case 6:if(Tn(n,e),An(e),o&4){if(e.stateNode===null)throw Error(r(162));o=e.memoizedProps,a=e.stateNode;try{a.nodeValue=o}catch(ct){se(e,e.return,ct)}}break;case 3:if(xc=null,h=oi,oi=Cc(n.containerInfo),Tn(n,e),oi=h,An(e),o&4&&a!==null&&a.memoizedState.isDehydrated)try{Wa(n.containerInfo)}catch(ct){se(e,e.return,ct)}rd&&(rd=!1,qy(e));break;case 4:o=oi,oi=Cc(e.stateNode.containerInfo),Tn(n,e),An(e),oi=o;break;case 12:Tn(n,e),An(e);break;case 31:Tn(n,e),An(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,mc(e,o)));break;case 13:Tn(n,e),An(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(pc=Ye()),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,mc(e,o)));break;case 22:h=e.memoizedState!==null;var C=a!==null&&a.memoizedState!==null,z=ss,G=je;if(ss=z||h,je=G||C,Tn(n,e),je=G,ss=z,An(e),o&8192)t:for(n=e.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(a===null||C||ss||je||Xr(e)),a=null,n=e;;){if(n.tag===5||n.tag===26){if(a===null){C=a=n;try{if(f=C.stateNode,h)g=f.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none";else{E=C.stateNode;var $=C.memoizedProps.style,B=$!=null&&$.hasOwnProperty("display")?$.display:null;E.style.display=B==null||typeof B=="boolean"?"":(""+B).trim()}}catch(ct){se(C,C.return,ct)}}}else if(n.tag===6){if(a===null){C=n;try{C.stateNode.nodeValue=h?"":C.memoizedProps}catch(ct){se(C,C.return,ct)}}}else if(n.tag===18){if(a===null){C=n;try{var H=C.stateNode;h?D_(H,!0):D_(C.stateNode,!1)}catch(ct){se(C,C.return,ct)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break t;for(;n.sibling===null;){if(n.return===null||n.return===e)break t;a===n&&(a=null),n=n.return}a===n&&(a=null),n.sibling.return=n.return,n=n.sibling}o&4&&(o=e.updateQueue,o!==null&&(a=o.retryQueue,a!==null&&(o.retryQueue=null,mc(e,a))));break;case 19:Tn(n,e),An(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,mc(e,o)));break;case 30:break;case 21:break;default:Tn(n,e),An(e)}}function An(e){var n=e.flags;if(n&2){try{for(var a,o=e.return;o!==null;){if(My(o)){a=o;break}o=o.return}if(a==null)throw Error(r(160));switch(a.tag){case 27:var h=a.stateNode,f=id(e);dc(e,f,h);break;case 5:var g=a.stateNode;a.flags&32&&(vn(g,""),a.flags&=-33);var E=id(e);dc(e,E,g);break;case 3:case 4:var C=a.stateNode.containerInfo,z=id(e);sd(e,z,C);break;default:throw Error(r(161))}}catch(G){se(e,e.return,G)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function qy(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;qy(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function as(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)Ly(e,n.alternate,n),n=n.sibling}function Xr(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:qs(4,n,n.return),Xr(n);break;case 1:Vi(n,n.return);var a=n.stateNode;typeof a.componentWillUnmount=="function"&&Dy(n,n.return,a),Xr(n);break;case 27:Tl(n.stateNode);case 26:case 5:Vi(n,n.return),Xr(n);break;case 22:n.memoizedState===null&&Xr(n);break;case 30:Xr(n);break;default:Xr(n)}e=e.sibling}}function os(e,n,a){for(a=a&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var o=n.alternate,h=e,f=n,g=f.flags;switch(f.tag){case 0:case 11:case 15:os(h,f,a),hl(4,f);break;case 1:if(os(h,f,a),o=f,h=o.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(z){se(o,o.return,z)}if(o=f,h=o.updateQueue,h!==null){var E=o.stateNode;try{var C=h.shared.hiddenCallbacks;if(C!==null)for(h.shared.hiddenCallbacks=null,h=0;h<C.length;h++)vp(C[h],E)}catch(z){se(o,o.return,z)}}a&&g&64&&xy(f),fl(f,f.return);break;case 27:Vy(f);case 26:case 5:os(h,f,a),a&&o===null&&g&4&&Oy(f),fl(f,f.return);break;case 12:os(h,f,a);break;case 31:os(h,f,a),a&&g&4&&zy(h,f);break;case 13:os(h,f,a),a&&g&4&&jy(h,f);break;case 22:f.memoizedState===null&&os(h,f,a),fl(f,f.return);break;case 30:break;default:os(h,f,a)}n=n.sibling}}function ad(e,n){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&Jo(a))}function od(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Jo(e))}function li(e,n,a,o){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Hy(e,n,a,o),n=n.sibling}function Hy(e,n,a,o){var h=n.flags;switch(n.tag){case 0:case 11:case 15:li(e,n,a,o),h&2048&&hl(9,n);break;case 1:li(e,n,a,o);break;case 3:li(e,n,a,o),h&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Jo(e)));break;case 12:if(h&2048){li(e,n,a,o),e=n.stateNode;try{var f=n.memoizedProps,g=f.id,E=f.onPostCommit;typeof E=="function"&&E(g,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(C){se(n,n.return,C)}}else li(e,n,a,o);break;case 31:li(e,n,a,o);break;case 13:li(e,n,a,o);break;case 23:break;case 22:f=n.stateNode,g=n.alternate,n.memoizedState!==null?f._visibility&2?li(e,n,a,o):dl(e,n):f._visibility&2?li(e,n,a,o):(f._visibility|=2,qa(e,n,a,o,(n.subtreeFlags&10256)!==0||!1)),h&2048&&ad(g,n);break;case 24:li(e,n,a,o),h&2048&&od(n.alternate,n);break;default:li(e,n,a,o)}}function qa(e,n,a,o,h){for(h=h&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=e,g=n,E=a,C=o,z=g.flags;switch(g.tag){case 0:case 11:case 15:qa(f,g,E,C,h),hl(8,g);break;case 23:break;case 22:var G=g.stateNode;g.memoizedState!==null?G._visibility&2?qa(f,g,E,C,h):dl(f,g):(G._visibility|=2,qa(f,g,E,C,h)),h&&z&2048&&ad(g.alternate,g);break;case 24:qa(f,g,E,C,h),h&&z&2048&&od(g.alternate,g);break;default:qa(f,g,E,C,h)}n=n.sibling}}function dl(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var a=e,o=n,h=o.flags;switch(o.tag){case 22:dl(a,o),h&2048&&ad(o.alternate,o);break;case 24:dl(a,o),h&2048&&od(o.alternate,o);break;default:dl(a,o)}n=n.sibling}}var ml=8192;function Ha(e,n,a){if(e.subtreeFlags&ml)for(e=e.child;e!==null;)Fy(e,n,a),e=e.sibling}function Fy(e,n,a){switch(e.tag){case 26:Ha(e,n,a),e.flags&ml&&e.memoizedState!==null&&kS(a,oi,e.memoizedState,e.memoizedProps);break;case 5:Ha(e,n,a);break;case 3:case 4:var o=oi;oi=Cc(e.stateNode.containerInfo),Ha(e,n,a),oi=o;break;case 22:e.memoizedState===null&&(o=e.alternate,o!==null&&o.memoizedState!==null?(o=ml,ml=16777216,Ha(e,n,a),ml=o):Ha(e,n,a));break;default:Ha(e,n,a)}}function Gy(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function gl(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var o=n[a];$e=o,Yy(o,e)}Gy(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Qy(e),e=e.sibling}function Qy(e){switch(e.tag){case 0:case 11:case 15:gl(e),e.flags&2048&&qs(9,e,e.return);break;case 3:gl(e);break;case 12:gl(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,gc(e)):gl(e);break;default:gl(e)}}function gc(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var o=n[a];$e=o,Yy(o,e)}Gy(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:qs(8,n,n.return),gc(n);break;case 22:a=n.stateNode,a._visibility&2&&(a._visibility&=-3,gc(n));break;default:gc(n)}e=e.sibling}}function Yy(e,n){for(;$e!==null;){var a=$e;switch(a.tag){case 0:case 11:case 15:qs(8,a,n);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var o=a.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:Jo(a.memoizedState.cache)}if(o=a.child,o!==null)o.return=a,$e=o;else t:for(a=e;$e!==null;){o=$e;var h=o.sibling,f=o.return;if(Py(o),o===a){$e=null;break t}if(h!==null){h.return=f,$e=h;break t}$e=f}}}var WA={getCacheForType:function(e){var n=en(Pe),a=n.data.get(e);return a===void 0&&(a=e(),n.data.set(e,a)),a},cacheSignal:function(){return en(Pe).controller.signal}},tS=typeof WeakMap=="function"?WeakMap:Map,Wt=0,de=null,Ut=null,kt=0,ie=0,Mn=null,Hs=!1,Fa=!1,ld=!1,ls=0,Ie=0,Fs=0,$r=0,ud=0,Vn=0,Ga=0,pl=null,Sn=null,cd=!1,pc=0,Ky=0,yc=1/0,_c=null,Gs=null,Ge=0,Qs=null,Qa=null,us=0,hd=0,fd=null,Xy=null,yl=0,dd=null;function Un(){return(Wt&2)!==0&&kt!==0?kt&-kt:j.T!==null?vd():vu()}function $y(){if(Vn===0)if((kt&536870912)===0||Ft){var e=pe;pe<<=1,(pe&3932160)===0&&(pe=262144),Vn=e}else Vn=536870912;return e=Dn.current,e!==null&&(e.flags|=32),Vn}function bn(e,n,a){(e===de&&(ie===2||ie===9)||e.cancelPendingCommit!==null)&&(Ya(e,0),Ys(e,kt,Vn,!1)),br(e,a),((Wt&2)===0||e!==de)&&(e===de&&((Wt&2)===0&&($r|=a),Ie===4&&Ys(e,kt,Vn,!1)),Ui(e))}function Zy(e,n,a){if((Wt&6)!==0)throw Error(r(327));var o=!a&&(n&127)===0&&(n&e.expiredLanes)===0||Jn(e,n),h=o?iS(e,n):gd(e,n,!0),f=o;do{if(h===0){Fa&&!o&&Ys(e,n,0,!1);break}else{if(a=e.current.alternate,f&&!eS(a)){h=gd(e,n,!1),f=!1;continue}if(h===2){if(f=n,e.errorRecoveryDisabledLanes&f)var g=0;else g=e.pendingLanes&-536870913,g=g!==0?g:g&536870912?536870912:0;if(g!==0){n=g;t:{var E=e;h=pl;var C=E.current.memoizedState.isDehydrated;if(C&&(Ya(E,g).flags|=256),g=gd(E,g,!1),g!==2){if(ld&&!C){E.errorRecoveryDisabledLanes|=f,$r|=f,h=4;break t}f=Sn,Sn=h,f!==null&&(Sn===null?Sn=f:Sn.push.apply(Sn,f))}h=g}if(f=!1,h!==2)continue}}if(h===1){Ya(e,0),Ys(e,n,0,!0);break}t:{switch(o=e,f=h,f){case 0:case 1:throw Error(r(345));case 4:if((n&4194048)!==n)break;case 6:Ys(o,n,Vn,!Hs);break t;case 2:Sn=null;break;case 3:case 5:break;default:throw Error(r(329))}if((n&62914560)===n&&(h=pc+300-Ye(),10<h)){if(Ys(o,n,Vn,!Hs),yi(o,0,!0)!==0)break t;us=n,o.timeoutHandle=C_(Jy.bind(null,o,a,Sn,_c,cd,n,Vn,$r,Ga,Hs,f,"Throttled",-0,0),h);break t}Jy(o,a,Sn,_c,cd,n,Vn,$r,Ga,Hs,f,null,-0,0)}}break}while(!0);Ui(e)}function Jy(e,n,a,o,h,f,g,E,C,z,G,$,B,H){if(e.timeoutHandle=-1,$=n.subtreeFlags,$&8192||($&16785408)===16785408){$={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ei},Fy(n,f,$);var ct=(f&62914560)===f?pc-Ye():(f&4194048)===f?Ky-Ye():0;if(ct=zS($,ct),ct!==null){us=f,e.cancelPendingCommit=ct(a_.bind(null,e,n,f,a,o,h,g,E,C,G,$,null,B,H)),Ys(e,f,g,!z);return}}a_(e,n,f,a,o,h,g,E,C)}function eS(e){for(var n=e;;){var a=n.tag;if((a===0||a===11||a===15)&&n.flags&16384&&(a=n.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var o=0;o<a.length;o++){var h=a[o],f=h.getSnapshot;h=h.value;try{if(!Nn(f(),h))return!1}catch{return!1}}if(a=n.child,n.subtreeFlags&16384&&a!==null)a.return=n,n=a;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Ys(e,n,a,o){n&=~ud,n&=~$r,e.suspendedLanes|=n,e.pingedLanes&=~n,o&&(e.warmLanes|=n),o=e.expirationTimes;for(var h=n;0<h;){var f=31-dt(h),g=1<<f;o[f]=-1,h&=~g}a!==0&&wr(e,a,n)}function vc(){return(Wt&6)===0?(_l(0),!1):!0}function md(){if(Ut!==null){if(ie===0)var e=Ut.return;else e=Ut,Ji=Br=null,xf(e),Pa=null,tl=0,e=Ut;for(;e!==null;)Ny(e.alternate,e),e=e.return;Ut=null}}function Ya(e,n){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,TS(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),us=0,md(),de=e,Ut=a=$i(e.current,null),kt=n,ie=0,Mn=null,Hs=!1,Fa=Jn(e,n),ld=!1,Ga=Vn=ud=$r=Fs=Ie=0,Sn=pl=null,cd=!1,(n&8)!==0&&(n|=n&32);var o=e.entangledLanes;if(o!==0)for(e=e.entanglements,o&=n;0<o;){var h=31-dt(o),f=1<<h;n|=e[h],o&=~f}return ls=n,ju(),a}function Wy(e,n){Dt=null,j.H=ll,n===La||n===Ku?(n=gp(),ie=3):n===_f?(n=gp(),ie=4):ie=n===Qf?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,Mn=n,Ut===null&&(Ie=1,lc(e,Gn(n,e.current)))}function t_(){var e=Dn.current;return e===null?!0:(kt&4194048)===kt?Xn===null:(kt&62914560)===kt||(kt&536870912)!==0?e===Xn:!1}function e_(){var e=j.H;return j.H=ll,e===null?ll:e}function n_(){var e=j.A;return j.A=WA,e}function Ec(){Ie=4,Hs||(kt&4194048)!==kt&&Dn.current!==null||(Fa=!0),(Fs&134217727)===0&&($r&134217727)===0||de===null||Ys(de,kt,Vn,!1)}function gd(e,n,a){var o=Wt;Wt|=2;var h=e_(),f=n_();(de!==e||kt!==n)&&(_c=null,Ya(e,n)),n=!1;var g=Ie;t:do try{if(ie!==0&&Ut!==null){var E=Ut,C=Mn;switch(ie){case 8:md(),g=6;break t;case 3:case 2:case 9:case 6:Dn.current===null&&(n=!0);var z=ie;if(ie=0,Mn=null,Ka(e,E,C,z),a&&Fa){g=0;break t}break;default:z=ie,ie=0,Mn=null,Ka(e,E,C,z)}}nS(),g=Ie;break}catch(G){Wy(e,G)}while(!0);return n&&e.shellSuspendCounter++,Ji=Br=null,Wt=o,j.H=h,j.A=f,Ut===null&&(de=null,kt=0,ju()),g}function nS(){for(;Ut!==null;)i_(Ut)}function iS(e,n){var a=Wt;Wt|=2;var o=e_(),h=n_();de!==e||kt!==n?(_c=null,yc=Ye()+500,Ya(e,n)):Fa=Jn(e,n);t:do try{if(ie!==0&&Ut!==null){n=Ut;var f=Mn;e:switch(ie){case 1:ie=0,Mn=null,Ka(e,n,f,1);break;case 2:case 9:if(dp(f)){ie=0,Mn=null,s_(n);break}n=function(){ie!==2&&ie!==9||de!==e||(ie=7),Ui(e)},f.then(n,n);break t;case 3:ie=7;break t;case 4:ie=5;break t;case 7:dp(f)?(ie=0,Mn=null,s_(n)):(ie=0,Mn=null,Ka(e,n,f,7));break;case 5:var g=null;switch(Ut.tag){case 26:g=Ut.memoizedState;case 5:case 27:var E=Ut;if(g?H_(g):E.stateNode.complete){ie=0,Mn=null;var C=E.sibling;if(C!==null)Ut=C;else{var z=E.return;z!==null?(Ut=z,Tc(z)):Ut=null}break e}}ie=0,Mn=null,Ka(e,n,f,5);break;case 6:ie=0,Mn=null,Ka(e,n,f,6);break;case 8:md(),Ie=6;break t;default:throw Error(r(462))}}sS();break}catch(G){Wy(e,G)}while(!0);return Ji=Br=null,j.H=o,j.A=h,Wt=a,Ut!==null?0:(de=null,kt=0,ju(),Ie)}function sS(){for(;Ut!==null&&!ca();)i_(Ut)}function i_(e){var n=Iy(e.alternate,e,ls);e.memoizedProps=e.pendingProps,n===null?Tc(e):Ut=n}function s_(e){var n=e,a=n.alternate;switch(n.tag){case 15:case 0:n=Ty(a,n,n.pendingProps,n.type,void 0,kt);break;case 11:n=Ty(a,n,n.pendingProps,n.type.render,n.ref,kt);break;case 5:xf(n);default:Ny(a,n),n=Ut=np(n,ls),n=Iy(a,n,ls)}e.memoizedProps=e.pendingProps,n===null?Tc(e):Ut=n}function Ka(e,n,a,o){Ji=Br=null,xf(n),Pa=null,tl=0;var h=n.return;try{if(QA(e,h,n,a,kt)){Ie=1,lc(e,Gn(a,e.current)),Ut=null;return}}catch(f){if(h!==null)throw Ut=h,f;Ie=1,lc(e,Gn(a,e.current)),Ut=null;return}n.flags&32768?(Ft||o===1?e=!0:Fa||(kt&536870912)!==0?e=!1:(Hs=e=!0,(o===2||o===9||o===3||o===6)&&(o=Dn.current,o!==null&&o.tag===13&&(o.flags|=16384))),r_(n,e)):Tc(n)}function Tc(e){var n=e;do{if((n.flags&32768)!==0){r_(n,Hs);return}e=n.return;var a=XA(n.alternate,n,ls);if(a!==null){Ut=a;return}if(n=n.sibling,n!==null){Ut=n;return}Ut=n=e}while(n!==null);Ie===0&&(Ie=5)}function r_(e,n){do{var a=$A(e.alternate,e);if(a!==null){a.flags&=32767,Ut=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!n&&(e=e.sibling,e!==null)){Ut=e;return}Ut=e=a}while(e!==null);Ie=6,Ut=null}function a_(e,n,a,o,h,f,g,E,C){e.cancelPendingCommit=null;do Ac();while(Ge!==0);if((Wt&6)!==0)throw Error(r(327));if(n!==null){if(n===e.current)throw Error(r(177));if(f=n.lanes|n.childLanes,f|=nf,Yh(e,a,f,g,E,C),e===de&&(Ut=de=null,kt=0),Qa=n,Qs=e,us=a,hd=f,fd=h,Xy=o,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,lS(pi,function(){return h_(),null})):(e.callbackNode=null,e.callbackPriority=0),o=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||o){o=j.T,j.T=null,h=st.p,st.p=2,g=Wt,Wt|=4;try{ZA(e,n,a)}finally{Wt=g,st.p=h,j.T=o}}Ge=1,o_(),l_(),u_()}}function o_(){if(Ge===1){Ge=0;var e=Qs,n=Qa,a=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||a){a=j.T,j.T=null;var o=st.p;st.p=2;var h=Wt;Wt|=4;try{By(n,e);var f=Id,g=Yg(e.containerInfo),E=f.focusedElem,C=f.selectionRange;if(g!==E&&E&&E.ownerDocument&&Qg(E.ownerDocument.documentElement,E)){if(C!==null&&Zh(E)){var z=C.start,G=C.end;if(G===void 0&&(G=z),"selectionStart"in E)E.selectionStart=z,E.selectionEnd=Math.min(G,E.value.length);else{var $=E.ownerDocument||document,B=$&&$.defaultView||window;if(B.getSelection){var H=B.getSelection(),ct=E.textContent.length,vt=Math.min(C.start,ct),ue=C.end===void 0?vt:Math.min(C.end,ct);!H.extend&&vt>ue&&(g=ue,ue=vt,vt=g);var L=Gg(E,vt),O=Gg(E,ue);if(L&&O&&(H.rangeCount!==1||H.anchorNode!==L.node||H.anchorOffset!==L.offset||H.focusNode!==O.node||H.focusOffset!==O.offset)){var k=$.createRange();k.setStart(L.node,L.offset),H.removeAllRanges(),vt>ue?(H.addRange(k),H.extend(O.node,O.offset)):(k.setEnd(O.node,O.offset),H.addRange(k))}}}}for($=[],H=E;H=H.parentNode;)H.nodeType===1&&$.push({element:H,left:H.scrollLeft,top:H.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<$.length;E++){var X=$[E];X.element.scrollLeft=X.left,X.element.scrollTop=X.top}}Vc=!!Rd,Id=Rd=null}finally{Wt=h,st.p=o,j.T=a}}e.current=n,Ge=2}}function l_(){if(Ge===2){Ge=0;var e=Qs,n=Qa,a=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||a){a=j.T,j.T=null;var o=st.p;st.p=2;var h=Wt;Wt|=4;try{Ly(e,n.alternate,n)}finally{Wt=h,st.p=o,j.T=a}}Ge=3}}function u_(){if(Ge===4||Ge===3){Ge=0,ha();var e=Qs,n=Qa,a=us,o=Xy;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Ge=5:(Ge=0,Qa=Qs=null,c_(e,e.pendingLanes));var h=e.pendingLanes;if(h===0&&(Gs=null),Qi(a),n=n.stateNode,et&&typeof et.onCommitFiberRoot=="function")try{et.onCommitFiberRoot(it,n,void 0,(n.current.flags&128)===128)}catch{}if(o!==null){n=j.T,h=st.p,st.p=2,j.T=null;try{for(var f=e.onRecoverableError,g=0;g<o.length;g++){var E=o[g];f(E.value,{componentStack:E.stack})}}finally{j.T=n,st.p=h}}(us&3)!==0&&Ac(),Ui(e),h=e.pendingLanes,(a&261930)!==0&&(h&42)!==0?e===dd?yl++:(yl=0,dd=e):yl=0,_l(0)}}function c_(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,Jo(n)))}function Ac(){return o_(),l_(),u_(),h_()}function h_(){if(Ge!==5)return!1;var e=Qs,n=hd;hd=0;var a=Qi(us),o=j.T,h=st.p;try{st.p=32>a?32:a,j.T=null,a=fd,fd=null;var f=Qs,g=us;if(Ge=0,Qa=Qs=null,us=0,(Wt&6)!==0)throw Error(r(331));var E=Wt;if(Wt|=4,Qy(f.current),Hy(f,f.current,g,a),Wt=E,_l(0,!1),et&&typeof et.onPostCommitFiberRoot=="function")try{et.onPostCommitFiberRoot(it,f)}catch{}return!0}finally{st.p=h,j.T=o,c_(e,n)}}function f_(e,n,a){n=Gn(a,n),n=Gf(e.stateNode,n,2),e=zs(e,n,2),e!==null&&(br(e,2),Ui(e))}function se(e,n,a){if(e.tag===3)f_(e,e,a);else for(;n!==null;){if(n.tag===3){f_(n,e,a);break}else if(n.tag===1){var o=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(Gs===null||!Gs.has(o))){e=Gn(a,e),a=dy(2),o=zs(n,a,2),o!==null&&(my(a,o,n,e),br(o,2),Ui(o));break}}n=n.return}}function pd(e,n,a){var o=e.pingCache;if(o===null){o=e.pingCache=new tS;var h=new Set;o.set(n,h)}else h=o.get(n),h===void 0&&(h=new Set,o.set(n,h));h.has(a)||(ld=!0,h.add(a),e=rS.bind(null,e,n,a),n.then(e,e))}function rS(e,n,a){var o=e.pingCache;o!==null&&o.delete(n),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,de===e&&(kt&a)===a&&(Ie===4||Ie===3&&(kt&62914560)===kt&&300>Ye()-pc?(Wt&2)===0&&Ya(e,0):ud|=a,Ga===kt&&(Ga=0)),Ui(e)}function d_(e,n){n===0&&(n=_u()),e=kr(e,n),e!==null&&(br(e,n),Ui(e))}function aS(e){var n=e.memoizedState,a=0;n!==null&&(a=n.retryLane),d_(e,a)}function oS(e,n){var a=0;switch(e.tag){case 31:case 13:var o=e.stateNode,h=e.memoizedState;h!==null&&(a=h.retryLane);break;case 19:o=e.stateNode;break;case 22:o=e.stateNode._retryCache;break;default:throw Error(r(314))}o!==null&&o.delete(n),d_(e,a)}function lS(e,n){return Ce(e,n)}var Sc=null,Xa=null,yd=!1,bc=!1,_d=!1,Ks=0;function Ui(e){e!==Xa&&e.next===null&&(Xa===null?Sc=Xa=e:Xa=Xa.next=e),bc=!0,yd||(yd=!0,cS())}function _l(e,n){if(!_d&&bc){_d=!0;do for(var a=!1,o=Sc;o!==null;){if(e!==0){var h=o.pendingLanes;if(h===0)var f=0;else{var g=o.suspendedLanes,E=o.pingedLanes;f=(1<<31-dt(42|e)+1)-1,f&=h&~(g&~E),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(a=!0,y_(o,f))}else f=kt,f=yi(o,o===de?f:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(f&3)===0||Jn(o,f)||(a=!0,y_(o,f));o=o.next}while(a);_d=!1}}function uS(){m_()}function m_(){bc=yd=!1;var e=0;Ks!==0&&ES()&&(e=Ks);for(var n=Ye(),a=null,o=Sc;o!==null;){var h=o.next,f=g_(o,n);f===0?(o.next=null,a===null?Sc=h:a.next=h,h===null&&(Xa=a)):(a=o,(e!==0||(f&3)!==0)&&(bc=!0)),o=h}Ge!==0&&Ge!==5||_l(e),Ks!==0&&(Ks=0)}function g_(e,n){for(var a=e.suspendedLanes,o=e.pingedLanes,h=e.expirationTimes,f=e.pendingLanes&-62914561;0<f;){var g=31-dt(f),E=1<<g,C=h[g];C===-1?((E&a)===0||(E&o)!==0)&&(h[g]=Qh(E,n)):C<=n&&(e.expiredLanes|=E),f&=~E}if(n=de,a=kt,a=yi(e,e===n?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o=e.callbackNode,a===0||e===n&&(ie===2||ie===9)||e.cancelPendingCommit!==null)return o!==null&&o!==null&&mi(o),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||Jn(e,a)){if(n=a&-a,n===e.callbackPriority)return n;switch(o!==null&&mi(o),Qi(a)){case 2:case 8:a=Sr;break;case 32:a=pi;break;case 268435456:a=fa;break;default:a=pi}return o=p_.bind(null,e),a=Ce(a,o),e.callbackPriority=n,e.callbackNode=a,n}return o!==null&&o!==null&&mi(o),e.callbackPriority=2,e.callbackNode=null,2}function p_(e,n){if(Ge!==0&&Ge!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(Ac()&&e.callbackNode!==a)return null;var o=kt;return o=yi(e,e===de?o:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o===0?null:(Zy(e,o,n),g_(e,Ye()),e.callbackNode!=null&&e.callbackNode===a?p_.bind(null,e):null)}function y_(e,n){if(Ac())return null;Zy(e,n,!0)}function cS(){AS(function(){(Wt&6)!==0?Ce(Ar,uS):m_()})}function vd(){if(Ks===0){var e=Va;e===0&&(e=Tt,Tt<<=1,(Tt&261888)===0&&(Tt=256)),Ks=e}return Ks}function __(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:va(""+e)}function v_(e,n){var a=n.ownerDocument.createElement("input");return a.name=n.name,a.value=n.value,e.id&&a.setAttribute("form",e.id),n.parentNode.insertBefore(a,n),e=new FormData(e),a.parentNode.removeChild(a),e}function hS(e,n,a,o,h){if(n==="submit"&&a&&a.stateNode===h){var f=__((h[Ke]||null).action),g=o.submitter;g&&(n=(n=g[Ke]||null)?__(n.formAction):g.getAttribute("formAction"),n!==null&&(f=n,g=null));var E=new Ci("action","action",null,o,h);e.push({event:E,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(Ks!==0){var C=g?v_(h,g):new FormData(h);zf(a,{pending:!0,data:C,method:h.method,action:f},null,C)}}else typeof f=="function"&&(E.preventDefault(),C=g?v_(h,g):new FormData(h),zf(a,{pending:!0,data:C,method:h.method,action:f},f,C))},currentTarget:h}]})}}for(var Ed=0;Ed<ef.length;Ed++){var Td=ef[Ed],fS=Td.toLowerCase(),dS=Td[0].toUpperCase()+Td.slice(1);ai(fS,"on"+dS)}ai($g,"onAnimationEnd"),ai(Zg,"onAnimationIteration"),ai(Jg,"onAnimationStart"),ai("dblclick","onDoubleClick"),ai("focusin","onFocus"),ai("focusout","onBlur"),ai(NA,"onTransitionRun"),ai(xA,"onTransitionStart"),ai(DA,"onTransitionCancel"),ai(Wg,"onTransitionEnd"),bi("onMouseEnter",["mouseout","mouseover"]),bi("onMouseLeave",["mouseout","mouseover"]),bi("onPointerEnter",["pointerout","pointerover"]),bi("onPointerLeave",["pointerout","pointerover"]),Si("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Si("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Si("onBeforeInput",["compositionend","keypress","textInput","paste"]),Si("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Si("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Si("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var vl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),mS=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(vl));function E_(e,n){n=(n&4)!==0;for(var a=0;a<e.length;a++){var o=e[a],h=o.event;o=o.listeners;t:{var f=void 0;if(n)for(var g=o.length-1;0<=g;g--){var E=o[g],C=E.instance,z=E.currentTarget;if(E=E.listener,C!==f&&h.isPropagationStopped())break t;f=E,h.currentTarget=z;try{f(h)}catch(G){zu(G)}h.currentTarget=null,f=C}else for(g=0;g<o.length;g++){if(E=o[g],C=E.instance,z=E.currentTarget,E=E.listener,C!==f&&h.isPropagationStopped())break t;f=E,h.currentTarget=z;try{f(h)}catch(G){zu(G)}h.currentTarget=null,f=C}}}}function Lt(e,n){var a=n[ma];a===void 0&&(a=n[ma]=new Set);var o=e+"__bubble";a.has(o)||(T_(n,e,2,!1),a.add(o))}function Ad(e,n,a){var o=0;n&&(o|=4),T_(a,e,o,n)}var wc="_reactListening"+Math.random().toString(36).slice(2);function Sd(e){if(!e[wc]){e[wc]=!0,Do.forEach(function(a){a!=="selectionchange"&&(mS.has(a)||Ad(a,!1,e),Ad(a,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[wc]||(n[wc]=!0,Ad("selectionchange",!1,n))}}function T_(e,n,a,o){switch($_(n)){case 2:var h=qS;break;case 8:h=HS;break;default:h=kd}a=h.bind(null,n,a,e),h=void 0,!xr||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),o?h!==void 0?e.addEventListener(n,a,{capture:!0,passive:h}):e.addEventListener(n,a,!0):h!==void 0?e.addEventListener(n,a,{passive:h}):e.addEventListener(n,a,!1)}function bd(e,n,a,o,h){var f=o;if((n&1)===0&&(n&2)===0&&o!==null)t:for(;;){if(o===null)return;var g=o.tag;if(g===3||g===4){var E=o.stateNode.containerInfo;if(E===h)break;if(g===4)for(g=o.return;g!==null;){var C=g.tag;if((C===3||C===4)&&g.stateNode.containerInfo===h)return;g=g.return}for(;E!==null;){if(g=Ti(E),g===null)return;if(C=g.tag,C===5||C===6||C===26||C===27){o=f=g;continue t}E=E.parentNode}}o=o.return}Ns(function(){var z=f,G=Bn(a),$=[];t:{var B=tp.get(e);if(B!==void 0){var H=Ci,ct=e;switch(e){case"keypress":if(Or(a)===0)break t;case"keydown":case"keyup":H=Lu;break;case"focusin":ct="focus",H=Vr;break;case"focusout":ct="blur",H=Vr;break;case"beforeblur":case"afterblur":H=Vr;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":H=Fo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":H=Iu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":H=m;break;case $g:case Zg:case Jg:H=Nu;break;case Wg:H=T;break;case"scroll":case"scrollend":H=Ho;break;case"wheel":H=q;break;case"copy":case"cut":case"paste":H=xu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":H=Xi;break;case"toggle":case"beforetoggle":H=xt}var vt=(n&4)!==0,ue=!vt&&(e==="scroll"||e==="scrollend"),L=vt?B!==null?B+"Capture":null:B;vt=[];for(var O=z,k;O!==null;){var X=O;if(k=X.stateNode,X=X.tag,X!==5&&X!==26&&X!==27||k===null||L===null||(X=ni(O,L),X!=null&&vt.push(El(O,X,k))),ue)break;O=O.return}0<vt.length&&(B=new H(B,ct,null,a,G),$.push({event:B,listeners:vt}))}}if((n&7)===0){t:{if(B=e==="mouseover"||e==="pointerover",H=e==="mouseout"||e==="pointerout",B&&a!==jo&&(ct=a.relatedTarget||a.fromElement)&&(Ti(ct)||ct[vi]))break t;if((H||B)&&(B=G.window===G?G:(B=G.ownerDocument)?B.defaultView||B.parentWindow:window,H?(ct=a.relatedTarget||a.toElement,H=z,ct=ct?Ti(ct):null,ct!==null&&(ue=c(ct),vt=ct.tag,ct!==ue||vt!==5&&vt!==27&&vt!==6)&&(ct=null)):(H=null,ct=z),H!==ct)){if(vt=Fo,X="onMouseLeave",L="onMouseEnter",O="mouse",(e==="pointerout"||e==="pointerover")&&(vt=Xi,X="onPointerLeave",L="onPointerEnter",O="pointer"),ue=H==null?B:In(H),k=ct==null?B:In(ct),B=new vt(X,O+"leave",H,a,G),B.target=ue,B.relatedTarget=k,X=null,Ti(G)===z&&(vt=new vt(L,O+"enter",ct,a,G),vt.target=k,vt.relatedTarget=ue,X=vt),ue=X,H&&ct)e:{for(vt=gS,L=H,O=ct,k=0,X=L;X;X=vt(X))k++;X=0;for(var gt=O;gt;gt=vt(gt))X++;for(;0<k-X;)L=vt(L),k--;for(;0<X-k;)O=vt(O),X--;for(;k--;){if(L===O||O!==null&&L===O.alternate){vt=L;break e}L=vt(L),O=vt(O)}vt=null}else vt=null;H!==null&&A_($,B,H,vt,!1),ct!==null&&ue!==null&&A_($,ue,ct,vt,!0)}}t:{if(B=z?In(z):window,H=B.nodeName&&B.nodeName.toLowerCase(),H==="select"||H==="input"&&B.type==="file")var $t=zg;else if(Pg(B))if(jg)$t=RA;else{$t=bA;var ht=SA}else H=B.nodeName,!H||H.toLowerCase()!=="input"||B.type!=="checkbox"&&B.type!=="radio"?z&&_a(z.elementType)&&($t=zg):$t=wA;if($t&&($t=$t(e,z))){kg($,$t,a,G);break t}ht&&ht(e,B,z),e==="focusout"&&z&&B.type==="number"&&z.memoizedProps.value!=null&&Po(B,"number",B.value)}switch(ht=z?In(z):window,e){case"focusin":(Pg(ht)||ht.contentEditable==="true")&&(Ra=ht,Jh=z,Xo=null);break;case"focusout":Xo=Jh=Ra=null;break;case"mousedown":Wh=!0;break;case"contextmenu":case"mouseup":case"dragend":Wh=!1,Kg($,a,G);break;case"selectionchange":if(CA)break;case"keydown":case"keyup":Kg($,a,G)}var Ot;if(Jt)t:{switch(e){case"compositionstart":var zt="onCompositionStart";break t;case"compositionend":zt="onCompositionEnd";break t;case"compositionupdate":zt="onCompositionUpdate";break t}zt=void 0}else wa?Ur(e,a)&&(zt="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(zt="onCompositionStart");zt&&(Di&&a.locale!=="ko"&&(wa||zt!=="onCompositionStart"?zt==="onCompositionEnd"&&wa&&(Ot=qo()):(Ii=G,Bo="value"in Ii?Ii.value:Ii.textContent,wa=!0)),ht=Rc(z,zt),0<ht.length&&(zt=new xi(zt,e,null,a,G),$.push({event:zt,listeners:ht}),Ot?zt.data=Ot:(Ot=ba(a),Ot!==null&&(zt.data=Ot)))),(Ot=Hn?vA(e,a):EA(e,a))&&(zt=Rc(z,"onBeforeInput"),0<zt.length&&(ht=new xi("onBeforeInput","beforeinput",null,a,G),$.push({event:ht,listeners:zt}),ht.data=Ot)),hS($,e,z,a,G)}E_($,n)})}function El(e,n,a){return{instance:e,listener:n,currentTarget:a}}function Rc(e,n){for(var a=n+"Capture",o=[];e!==null;){var h=e,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=ni(e,a),h!=null&&o.unshift(El(e,h,f)),h=ni(e,n),h!=null&&o.push(El(e,h,f))),e.tag===3)return o;e=e.return}return[]}function gS(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function A_(e,n,a,o,h){for(var f=n._reactName,g=[];a!==null&&a!==o;){var E=a,C=E.alternate,z=E.stateNode;if(E=E.tag,C!==null&&C===o)break;E!==5&&E!==26&&E!==27||z===null||(C=z,h?(z=ni(a,f),z!=null&&g.unshift(El(a,z,C))):h||(z=ni(a,f),z!=null&&g.push(El(a,z,C)))),a=a.return}g.length!==0&&e.push({event:n,listeners:g})}var pS=/\r\n?/g,yS=/\u0000|\uFFFD/g;function S_(e){return(typeof e=="string"?e:""+e).replace(pS,`
`).replace(yS,"")}function b_(e,n){return n=S_(n),S_(e)===n}function le(e,n,a,o,h,f){switch(a){case"children":typeof o=="string"?n==="body"||n==="textarea"&&o===""||vn(e,o):(typeof o=="number"||typeof o=="bigint")&&n!=="body"&&vn(e,""+o);break;case"className":Cn(e,"class",o);break;case"tabIndex":Cn(e,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":Cn(e,a,o);break;case"style":zo(e,o,f);break;case"data":if(n!=="object"){Cn(e,"data",o);break}case"src":case"href":if(o===""&&(n!=="a"||a!=="href")){e.removeAttribute(a);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(a);break}o=va(""+o),e.setAttribute(a,o);break;case"action":case"formAction":if(typeof o=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(a==="formAction"?(n!=="input"&&le(e,n,"name",h.name,h,null),le(e,n,"formEncType",h.formEncType,h,null),le(e,n,"formMethod",h.formMethod,h,null),le(e,n,"formTarget",h.formTarget,h,null)):(le(e,n,"encType",h.encType,h,null),le(e,n,"method",h.method,h,null),le(e,n,"target",h.target,h,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(a);break}o=va(""+o),e.setAttribute(a,o);break;case"onClick":o!=null&&(e.onclick=ei);break;case"onScroll":o!=null&&Lt("scroll",e);break;case"onScrollEnd":o!=null&&Lt("scrollend",e);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(r(61));if(a=o.__html,a!=null){if(h.children!=null)throw Error(r(60));e.innerHTML=a}}break;case"multiple":e.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":e.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){e.removeAttribute("xlink:href");break}a=va(""+o),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(a,""+o):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":o===!0?e.setAttribute(a,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(a,o):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?e.setAttribute(a,o):e.removeAttribute(a);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?e.removeAttribute(a):e.setAttribute(a,o);break;case"popover":Lt("beforetoggle",e),Lt("toggle",e),pa(e,"popover",o);break;case"xlinkActuate":Le(e,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":Le(e,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":Le(e,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":Le(e,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":Le(e,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":Le(e,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":Le(e,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":Le(e,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":Le(e,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":pa(e,"is",o);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Ru.get(a)||a,pa(e,a,o))}}function wd(e,n,a,o,h,f){switch(a){case"style":zo(e,o,f);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(r(61));if(a=o.__html,a!=null){if(h.children!=null)throw Error(r(60));e.innerHTML=a}}break;case"children":typeof o=="string"?vn(e,o):(typeof o=="number"||typeof o=="bigint")&&vn(e,""+o);break;case"onScroll":o!=null&&Lt("scroll",e);break;case"onScrollEnd":o!=null&&Lt("scrollend",e);break;case"onClick":o!=null&&(e.onclick=ei);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Oo.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),n=a.slice(2,h?a.length-7:void 0),f=e[Ke]||null,f=f!=null?f[a]:null,typeof f=="function"&&e.removeEventListener(n,f,h),typeof o=="function")){typeof f!="function"&&f!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(n,o,h);break t}a in e?e[a]=o:o===!0?e.setAttribute(a,""):pa(e,a,o)}}}function sn(e,n,a){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Lt("error",e),Lt("load",e);var o=!1,h=!1,f;for(f in a)if(a.hasOwnProperty(f)){var g=a[f];if(g!=null)switch(f){case"src":o=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,n));default:le(e,n,f,g,a,null)}}h&&le(e,n,"srcSet",a.srcSet,a,null),o&&le(e,n,"src",a.src,a,null);return;case"input":Lt("invalid",e);var E=f=g=h=null,C=null,z=null;for(o in a)if(a.hasOwnProperty(o)){var G=a[o];if(G!=null)switch(o){case"name":h=G;break;case"type":g=G;break;case"checked":C=G;break;case"defaultChecked":z=G;break;case"value":f=G;break;case"defaultValue":E=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(r(137,n));break;default:le(e,n,o,G,a,null)}}Su(e,f,E,C,z,g,h,!1);return;case"select":Lt("invalid",e),o=g=f=null;for(h in a)if(a.hasOwnProperty(h)&&(E=a[h],E!=null))switch(h){case"value":f=E;break;case"defaultValue":g=E;break;case"multiple":o=E;default:le(e,n,h,E,a,null)}n=f,a=g,e.multiple=!!o,n!=null?ws(e,!!o,n,!1):a!=null&&ws(e,!!o,a,!0);return;case"textarea":Lt("invalid",e),f=h=o=null;for(g in a)if(a.hasOwnProperty(g)&&(E=a[g],E!=null))switch(g){case"value":o=E;break;case"defaultValue":h=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(r(91));break;default:le(e,n,g,E,a,null)}Rs(e,o,h,f);return;case"option":for(C in a)if(a.hasOwnProperty(C)&&(o=a[C],o!=null))switch(C){case"selected":e.selected=o&&typeof o!="function"&&typeof o!="symbol";break;default:le(e,n,C,o,a,null)}return;case"dialog":Lt("beforetoggle",e),Lt("toggle",e),Lt("cancel",e),Lt("close",e);break;case"iframe":case"object":Lt("load",e);break;case"video":case"audio":for(o=0;o<vl.length;o++)Lt(vl[o],e);break;case"image":Lt("error",e),Lt("load",e);break;case"details":Lt("toggle",e);break;case"embed":case"source":case"link":Lt("error",e),Lt("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(z in a)if(a.hasOwnProperty(z)&&(o=a[z],o!=null))switch(z){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,n));default:le(e,n,z,o,a,null)}return;default:if(_a(n)){for(G in a)a.hasOwnProperty(G)&&(o=a[G],o!==void 0&&wd(e,n,G,o,a,void 0));return}}for(E in a)a.hasOwnProperty(E)&&(o=a[E],o!=null&&le(e,n,E,o,a,null))}function _S(e,n,a,o){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,g=null,E=null,C=null,z=null,G=null;for(H in a){var $=a[H];if(a.hasOwnProperty(H)&&$!=null)switch(H){case"checked":break;case"value":break;case"defaultValue":C=$;default:o.hasOwnProperty(H)||le(e,n,H,null,o,$)}}for(var B in o){var H=o[B];if($=a[B],o.hasOwnProperty(B)&&(H!=null||$!=null))switch(B){case"type":f=H;break;case"name":h=H;break;case"checked":z=H;break;case"defaultChecked":G=H;break;case"value":g=H;break;case"defaultValue":E=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(r(137,n));break;default:H!==$&&le(e,n,B,H,o,$)}}ya(e,g,E,C,z,G,f,h);return;case"select":H=g=E=B=null;for(f in a)if(C=a[f],a.hasOwnProperty(f)&&C!=null)switch(f){case"value":break;case"multiple":H=C;default:o.hasOwnProperty(f)||le(e,n,f,null,o,C)}for(h in o)if(f=o[h],C=a[h],o.hasOwnProperty(h)&&(f!=null||C!=null))switch(h){case"value":B=f;break;case"defaultValue":E=f;break;case"multiple":g=f;default:f!==C&&le(e,n,h,f,o,C)}n=E,a=g,o=H,B!=null?ws(e,!!a,B,!1):!!o!=!!a&&(n!=null?ws(e,!!a,n,!0):ws(e,!!a,a?[]:"",!1));return;case"textarea":H=B=null;for(E in a)if(h=a[E],a.hasOwnProperty(E)&&h!=null&&!o.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:le(e,n,E,null,o,h)}for(g in o)if(h=o[g],f=a[g],o.hasOwnProperty(g)&&(h!=null||f!=null))switch(g){case"value":B=h;break;case"defaultValue":H=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(r(91));break;default:h!==f&&le(e,n,g,h,o,f)}bu(e,B,H);return;case"option":for(var ct in a)if(B=a[ct],a.hasOwnProperty(ct)&&B!=null&&!o.hasOwnProperty(ct))switch(ct){case"selected":e.selected=!1;break;default:le(e,n,ct,null,o,B)}for(C in o)if(B=o[C],H=a[C],o.hasOwnProperty(C)&&B!==H&&(B!=null||H!=null))switch(C){case"selected":e.selected=B&&typeof B!="function"&&typeof B!="symbol";break;default:le(e,n,C,B,o,H)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var vt in a)B=a[vt],a.hasOwnProperty(vt)&&B!=null&&!o.hasOwnProperty(vt)&&le(e,n,vt,null,o,B);for(z in o)if(B=o[z],H=a[z],o.hasOwnProperty(z)&&B!==H&&(B!=null||H!=null))switch(z){case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(r(137,n));break;default:le(e,n,z,B,o,H)}return;default:if(_a(n)){for(var ue in a)B=a[ue],a.hasOwnProperty(ue)&&B!==void 0&&!o.hasOwnProperty(ue)&&wd(e,n,ue,void 0,o,B);for(G in o)B=o[G],H=a[G],!o.hasOwnProperty(G)||B===H||B===void 0&&H===void 0||wd(e,n,G,B,o,H);return}}for(var L in a)B=a[L],a.hasOwnProperty(L)&&B!=null&&!o.hasOwnProperty(L)&&le(e,n,L,null,o,B);for($ in o)B=o[$],H=a[$],!o.hasOwnProperty($)||B===H||B==null&&H==null||le(e,n,$,B,o,H)}function w_(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function vS(){if(typeof performance.getEntriesByType=="function"){for(var e=0,n=0,a=performance.getEntriesByType("resource"),o=0;o<a.length;o++){var h=a[o],f=h.transferSize,g=h.initiatorType,E=h.duration;if(f&&E&&w_(g)){for(g=0,E=h.responseEnd,o+=1;o<a.length;o++){var C=a[o],z=C.startTime;if(z>E)break;var G=C.transferSize,$=C.initiatorType;G&&w_($)&&(C=C.responseEnd,g+=G*(C<E?1:(E-z)/(C-z)))}if(--o,n+=8*(f+g)/(h.duration/1e3),e++,10<e)break}}if(0<e)return n/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var Rd=null,Id=null;function Ic(e){return e.nodeType===9?e:e.ownerDocument}function R_(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function I_(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function Cd(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Nd=null;function ES(){var e=window.event;return e&&e.type==="popstate"?e===Nd?!1:(Nd=e,!0):(Nd=null,!1)}var C_=typeof setTimeout=="function"?setTimeout:void 0,TS=typeof clearTimeout=="function"?clearTimeout:void 0,N_=typeof Promise=="function"?Promise:void 0,AS=typeof queueMicrotask=="function"?queueMicrotask:typeof N_<"u"?function(e){return N_.resolve(null).then(e).catch(SS)}:C_;function SS(e){setTimeout(function(){throw e})}function Xs(e){return e==="head"}function x_(e,n){var a=n,o=0;do{var h=a.nextSibling;if(e.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"||a==="/&"){if(o===0){e.removeChild(h),Wa(n);return}o--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")o++;else if(a==="html")Tl(e.ownerDocument.documentElement);else if(a==="head"){a=e.ownerDocument.head,Tl(a);for(var f=a.firstChild;f;){var g=f.nextSibling,E=f.nodeName;f[Ei]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&f.rel.toLowerCase()==="stylesheet"||a.removeChild(f),f=g}}else a==="body"&&Tl(e.ownerDocument.body);a=h}while(a);Wa(n)}function D_(e,n){var a=e;e=0;do{var o=a.nextSibling;if(a.nodeType===1?n?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(n?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),o&&o.nodeType===8)if(a=o.data,a==="/$"){if(e===0)break;e--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||e++;a=o}while(a)}function xd(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var a=n;switch(n=n.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":xd(a),ga(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function bS(e,n,a,o){for(;e.nodeType===1;){var h=a;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!o&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(o){if(!e[Ei])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(f=e.getAttribute("rel"),f==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(f!==h.rel||e.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||e.getAttribute("title")!==(h.title==null?null:h.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(f=e.getAttribute("src"),(f!==(h.src==null?null:h.src)||e.getAttribute("type")!==(h.type==null?null:h.type)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&e.getAttribute("name")===f)return e}else return e;if(e=$n(e.nextSibling),e===null)break}return null}function wS(e,n,a){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=$n(e.nextSibling),e===null))return null;return e}function O_(e,n){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=$n(e.nextSibling),e===null))return null;return e}function Dd(e){return e.data==="$?"||e.data==="$~"}function Od(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function RS(e,n){var a=e.ownerDocument;if(e.data==="$~")e._reactRetry=n;else if(e.data!=="$?"||a.readyState!=="loading")n();else{var o=function(){n(),a.removeEventListener("DOMContentLoaded",o)};a.addEventListener("DOMContentLoaded",o),e._reactRetry=o}}function $n(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return e}var Md=null;function M_(e){e=e.nextSibling;for(var n=0;e;){if(e.nodeType===8){var a=e.data;if(a==="/$"||a==="/&"){if(n===0)return $n(e.nextSibling);n--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||n++}e=e.nextSibling}return null}function V_(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(n===0)return e;n--}else a!=="/$"&&a!=="/&"||n++}e=e.previousSibling}return null}function U_(e,n,a){switch(n=Ic(a),e){case"html":if(e=n.documentElement,!e)throw Error(r(452));return e;case"head":if(e=n.head,!e)throw Error(r(453));return e;case"body":if(e=n.body,!e)throw Error(r(454));return e;default:throw Error(r(451))}}function Tl(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);ga(e)}var Zn=new Map,L_=new Set;function Cc(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var cs=st.d;st.d={f:IS,r:CS,D:NS,C:xS,L:DS,m:OS,X:VS,S:MS,M:US};function IS(){var e=cs.f(),n=vc();return e||n}function CS(e){var n=jn(e);n!==null&&n.tag===5&&n.type==="form"?Wp(n):cs.r(e)}var $a=typeof document>"u"?null:document;function P_(e,n,a){var o=$a;if(o&&typeof n=="string"&&n){var h=_n(n);h='link[rel="'+e+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),L_.has(h)||(L_.add(h),e={rel:e,crossOrigin:a,href:n},o.querySelector(h)===null&&(n=o.createElement("link"),sn(n,"link",e),Ue(n),o.head.appendChild(n)))}}function NS(e){cs.D(e),P_("dns-prefetch",e,null)}function xS(e,n){cs.C(e,n),P_("preconnect",e,n)}function DS(e,n,a){cs.L(e,n,a);var o=$a;if(o&&e&&n){var h='link[rel="preload"][as="'+_n(n)+'"]';n==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+_n(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+_n(a.imageSizes)+'"]')):h+='[href="'+_n(e)+'"]';var f=h;switch(n){case"style":f=Za(e);break;case"script":f=Ja(e)}Zn.has(f)||(e=S({rel:"preload",href:n==="image"&&a&&a.imageSrcSet?void 0:e,as:n},a),Zn.set(f,e),o.querySelector(h)!==null||n==="style"&&o.querySelector(Al(f))||n==="script"&&o.querySelector(Sl(f))||(n=o.createElement("link"),sn(n,"link",e),Ue(n),o.head.appendChild(n)))}}function OS(e,n){cs.m(e,n);var a=$a;if(a&&e){var o=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+_n(o)+'"][href="'+_n(e)+'"]',f=h;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=Ja(e)}if(!Zn.has(f)&&(e=S({rel:"modulepreload",href:e},n),Zn.set(f,e),a.querySelector(h)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Sl(f)))return}o=a.createElement("link"),sn(o,"link",e),Ue(o),a.head.appendChild(o)}}}function MS(e,n,a){cs.S(e,n,a);var o=$a;if(o&&e){var h=Ai(o).hoistableStyles,f=Za(e);n=n||"default";var g=h.get(f);if(!g){var E={loading:0,preload:null};if(g=o.querySelector(Al(f)))E.loading=5;else{e=S({rel:"stylesheet",href:e,"data-precedence":n},a),(a=Zn.get(f))&&Vd(e,a);var C=g=o.createElement("link");Ue(C),sn(C,"link",e),C._p=new Promise(function(z,G){C.onload=z,C.onerror=G}),C.addEventListener("load",function(){E.loading|=1}),C.addEventListener("error",function(){E.loading|=2}),E.loading|=4,Nc(g,n,o)}g={type:"stylesheet",instance:g,count:1,state:E},h.set(f,g)}}}function VS(e,n){cs.X(e,n);var a=$a;if(a&&e){var o=Ai(a).hoistableScripts,h=Ja(e),f=o.get(h);f||(f=a.querySelector(Sl(h)),f||(e=S({src:e,async:!0},n),(n=Zn.get(h))&&Ud(e,n),f=a.createElement("script"),Ue(f),sn(f,"link",e),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function US(e,n){cs.M(e,n);var a=$a;if(a&&e){var o=Ai(a).hoistableScripts,h=Ja(e),f=o.get(h);f||(f=a.querySelector(Sl(h)),f||(e=S({src:e,async:!0,type:"module"},n),(n=Zn.get(h))&&Ud(e,n),f=a.createElement("script"),Ue(f),sn(f,"link",e),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function k_(e,n,a,o){var h=(h=wt.current)?Cc(h):null;if(!h)throw Error(r(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(n=Za(a.href),a=Ai(h).hoistableStyles,o=a.get(n),o||(o={type:"style",instance:null,count:0,state:null},a.set(n,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=Za(a.href);var f=Ai(h).hoistableStyles,g=f.get(e);if(g||(h=h.ownerDocument||h,g={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(e,g),(f=h.querySelector(Al(e)))&&!f._p&&(g.instance=f,g.state.loading=5),Zn.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Zn.set(e,a),f||LS(h,e,a,g.state))),n&&o===null)throw Error(r(528,""));return g}if(n&&o!==null)throw Error(r(529,""));return null;case"script":return n=a.async,a=a.src,typeof a=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Ja(a),a=Ai(h).hoistableScripts,o=a.get(n),o||(o={type:"script",instance:null,count:0,state:null},a.set(n,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,e))}}function Za(e){return'href="'+_n(e)+'"'}function Al(e){return'link[rel="stylesheet"]['+e+"]"}function z_(e){return S({},e,{"data-precedence":e.precedence,precedence:null})}function LS(e,n,a,o){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?o.loading=1:(n=e.createElement("link"),o.preload=n,n.addEventListener("load",function(){return o.loading|=1}),n.addEventListener("error",function(){return o.loading|=2}),sn(n,"link",a),Ue(n),e.head.appendChild(n))}function Ja(e){return'[src="'+_n(e)+'"]'}function Sl(e){return"script[async]"+e}function j_(e,n,a){if(n.count++,n.instance===null)switch(n.type){case"style":var o=e.querySelector('style[data-href~="'+_n(a.href)+'"]');if(o)return n.instance=o,Ue(o),o;var h=S({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return o=(e.ownerDocument||e).createElement("style"),Ue(o),sn(o,"style",h),Nc(o,a.precedence,e),n.instance=o;case"stylesheet":h=Za(a.href);var f=e.querySelector(Al(h));if(f)return n.state.loading|=4,n.instance=f,Ue(f),f;o=z_(a),(h=Zn.get(h))&&Vd(o,h),f=(e.ownerDocument||e).createElement("link"),Ue(f);var g=f;return g._p=new Promise(function(E,C){g.onload=E,g.onerror=C}),sn(f,"link",o),n.state.loading|=4,Nc(f,a.precedence,e),n.instance=f;case"script":return f=Ja(a.src),(h=e.querySelector(Sl(f)))?(n.instance=h,Ue(h),h):(o=a,(h=Zn.get(f))&&(o=S({},a),Ud(o,h)),e=e.ownerDocument||e,h=e.createElement("script"),Ue(h),sn(h,"link",o),e.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(r(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(o=n.instance,n.state.loading|=4,Nc(o,a.precedence,e));return n.instance}function Nc(e,n,a){for(var o=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=o.length?o[o.length-1]:null,f=h,g=0;g<o.length;g++){var E=o[g];if(E.dataset.precedence===n)f=E;else if(f!==h)break}f?f.parentNode.insertBefore(e,f.nextSibling):(n=a.nodeType===9?a.head:a,n.insertBefore(e,n.firstChild))}function Vd(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function Ud(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var xc=null;function B_(e,n,a){if(xc===null){var o=new Map,h=xc=new Map;h.set(a,o)}else h=xc,o=h.get(a),o||(o=new Map,h.set(a,o));if(o.has(e))return o;for(o.set(e,null),a=a.getElementsByTagName(e),h=0;h<a.length;h++){var f=a[h];if(!(f[Ei]||f[Ve]||e==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var g=f.getAttribute(n)||"";g=e+g;var E=o.get(g);E?E.push(f):o.set(g,[f])}}return o}function q_(e,n,a){e=e.ownerDocument||e,e.head.insertBefore(a,n==="title"?e.querySelector("head > title"):null)}function PS(e,n,a){if(a===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return e=n.disabled,typeof n.precedence=="string"&&e==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function H_(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function kS(e,n,a,o){if(a.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var h=Za(o.href),f=n.querySelector(Al(h));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(e.count++,e=Dc.bind(e),n.then(e,e)),a.state.loading|=4,a.instance=f,Ue(f);return}f=n.ownerDocument||n,o=z_(o),(h=Zn.get(h))&&Vd(o,h),f=f.createElement("link"),Ue(f);var g=f;g._p=new Promise(function(E,C){g.onload=E,g.onerror=C}),sn(f,"link",o),a.instance=f}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(a,n),(n=a.state.preload)&&(a.state.loading&3)===0&&(e.count++,a=Dc.bind(e),n.addEventListener("load",a),n.addEventListener("error",a))}}var Ld=0;function zS(e,n){return e.stylesheets&&e.count===0&&Mc(e,e.stylesheets),0<e.count||0<e.imgCount?function(a){var o=setTimeout(function(){if(e.stylesheets&&Mc(e,e.stylesheets),e.unsuspend){var f=e.unsuspend;e.unsuspend=null,f()}},6e4+n);0<e.imgBytes&&Ld===0&&(Ld=62500*vS());var h=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Mc(e,e.stylesheets),e.unsuspend)){var f=e.unsuspend;e.unsuspend=null,f()}},(e.imgBytes>Ld?50:800)+n);return e.unsuspend=a,function(){e.unsuspend=null,clearTimeout(o),clearTimeout(h)}}:null}function Dc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Mc(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Oc=null;function Mc(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Oc=new Map,n.forEach(jS,e),Oc=null,Dc.call(e))}function jS(e,n){if(!(n.state.loading&4)){var a=Oc.get(e);if(a)var o=a.get(null);else{a=new Map,Oc.set(e,a);for(var h=e.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var g=h[f];(g.nodeName==="LINK"||g.getAttribute("media")!=="not all")&&(a.set(g.dataset.precedence,g),o=g)}o&&a.set(null,o)}h=n.instance,g=h.getAttribute("data-precedence"),f=a.get(g)||o,f===o&&a.set(null,h),a.set(g,h),this.count++,o=Dc.bind(this),h.addEventListener("load",o),h.addEventListener("error",o),f?f.parentNode.insertBefore(h,f.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(h,e.firstChild)),n.state.loading|=4}}var bl={$$typeof:Et,Provider:null,Consumer:null,_currentValue:ft,_currentValue2:ft,_threadCount:0};function BS(e,n,a,o,h,f,g,E,C){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=_i(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=_i(0),this.hiddenUpdates=_i(null),this.identifierPrefix=o,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=g,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=C,this.incompleteTransitions=new Map}function F_(e,n,a,o,h,f,g,E,C,z,G,$){return e=new BS(e,n,a,g,C,z,G,$,E),n=1,f===!0&&(n|=24),f=xn(3,null,null,n),e.current=f,f.stateNode=e,n=gf(),n.refCount++,e.pooledCache=n,n.refCount++,f.memoizedState={element:o,isDehydrated:a,cache:n},vf(f),e}function G_(e){return e?(e=Na,e):Na}function Q_(e,n,a,o,h,f){h=G_(h),o.context===null?o.context=h:o.pendingContext=h,o=ks(n),o.payload={element:a},f=f===void 0?null:f,f!==null&&(o.callback=f),a=zs(e,o,n),a!==null&&(bn(a,e,n),nl(a,e,n))}function Y_(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<n?a:n}}function Pd(e,n){Y_(e,n),(e=e.alternate)&&Y_(e,n)}function K_(e){if(e.tag===13||e.tag===31){var n=kr(e,67108864);n!==null&&bn(n,e,67108864),Pd(e,67108864)}}function X_(e){if(e.tag===13||e.tag===31){var n=Un();n=Rr(n);var a=kr(e,n);a!==null&&bn(a,e,n),Pd(e,n)}}var Vc=!0;function qS(e,n,a,o){var h=j.T;j.T=null;var f=st.p;try{st.p=2,kd(e,n,a,o)}finally{st.p=f,j.T=h}}function HS(e,n,a,o){var h=j.T;j.T=null;var f=st.p;try{st.p=8,kd(e,n,a,o)}finally{st.p=f,j.T=h}}function kd(e,n,a,o){if(Vc){var h=zd(o);if(h===null)bd(e,n,o,Uc,a),Z_(e,o);else if(GS(h,e,n,a,o))o.stopPropagation();else if(Z_(e,o),n&4&&-1<FS.indexOf(e)){for(;h!==null;){var f=jn(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var g=Ne(f.pendingLanes);if(g!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;g;){var C=1<<31-dt(g);E.entanglements[1]|=C,g&=~C}Ui(f),(Wt&6)===0&&(yc=Ye()+500,_l(0))}}break;case 31:case 13:E=kr(f,2),E!==null&&bn(E,f,2),vc(),Pd(f,2)}if(f=zd(o),f===null&&bd(e,n,o,Uc,a),f===h)break;h=f}h!==null&&o.stopPropagation()}else bd(e,n,o,null,a)}}function zd(e){return e=Bn(e),jd(e)}var Uc=null;function jd(e){if(Uc=null,e=Ti(e),e!==null){var n=c(e);if(n===null)e=null;else{var a=n.tag;if(a===13){if(e=d(n),e!==null)return e;e=null}else if(a===31){if(e=p(n),e!==null)return e;e=null}else if(a===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return Uc=e,null}function $_(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(gi()){case Ar:return 2;case Sr:return 8;case pi:case Co:return 32;case fa:return 268435456;default:return 32}default:return 32}}var Bd=!1,$s=null,Zs=null,Js=null,wl=new Map,Rl=new Map,Ws=[],FS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Z_(e,n){switch(e){case"focusin":case"focusout":$s=null;break;case"dragenter":case"dragleave":Zs=null;break;case"mouseover":case"mouseout":Js=null;break;case"pointerover":case"pointerout":wl.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Rl.delete(n.pointerId)}}function Il(e,n,a,o,h,f){return e===null||e.nativeEvent!==f?(e={blockedOn:n,domEventName:a,eventSystemFlags:o,nativeEvent:f,targetContainers:[h]},n!==null&&(n=jn(n),n!==null&&K_(n)),e):(e.eventSystemFlags|=o,n=e.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),e)}function GS(e,n,a,o,h){switch(n){case"focusin":return $s=Il($s,e,n,a,o,h),!0;case"dragenter":return Zs=Il(Zs,e,n,a,o,h),!0;case"mouseover":return Js=Il(Js,e,n,a,o,h),!0;case"pointerover":var f=h.pointerId;return wl.set(f,Il(wl.get(f)||null,e,n,a,o,h)),!0;case"gotpointercapture":return f=h.pointerId,Rl.set(f,Il(Rl.get(f)||null,e,n,a,o,h)),!0}return!1}function J_(e){var n=Ti(e.target);if(n!==null){var a=c(n);if(a!==null){if(n=a.tag,n===13){if(n=d(a),n!==null){e.blockedOn=n,Wn(e.priority,function(){X_(a)});return}}else if(n===31){if(n=p(a),n!==null){e.blockedOn=n,Wn(e.priority,function(){X_(a)});return}}else if(n===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Lc(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var a=zd(e.nativeEvent);if(a===null){a=e.nativeEvent;var o=new a.constructor(a.type,a);jo=o,a.target.dispatchEvent(o),jo=null}else return n=jn(a),n!==null&&K_(n),e.blockedOn=a,!1;n.shift()}return!0}function W_(e,n,a){Lc(e)&&a.delete(n)}function QS(){Bd=!1,$s!==null&&Lc($s)&&($s=null),Zs!==null&&Lc(Zs)&&(Zs=null),Js!==null&&Lc(Js)&&(Js=null),wl.forEach(W_),Rl.forEach(W_)}function Pc(e,n){e.blockedOn===n&&(e.blockedOn=null,Bd||(Bd=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,QS)))}var kc=null;function tv(e){kc!==e&&(kc=e,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){kc===e&&(kc=null);for(var n=0;n<e.length;n+=3){var a=e[n],o=e[n+1],h=e[n+2];if(typeof o!="function"){if(jd(o||a)===null)continue;break}var f=jn(a);f!==null&&(e.splice(n,3),n-=3,zf(f,{pending:!0,data:h,method:a.method,action:o},o,h))}}))}function Wa(e){function n(C){return Pc(C,e)}$s!==null&&Pc($s,e),Zs!==null&&Pc(Zs,e),Js!==null&&Pc(Js,e),wl.forEach(n),Rl.forEach(n);for(var a=0;a<Ws.length;a++){var o=Ws[a];o.blockedOn===e&&(o.blockedOn=null)}for(;0<Ws.length&&(a=Ws[0],a.blockedOn===null);)J_(a),a.blockedOn===null&&Ws.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(o=0;o<a.length;o+=3){var h=a[o],f=a[o+1],g=h[Ke]||null;if(typeof f=="function")g||tv(a);else if(g){var E=null;if(f&&f.hasAttribute("formAction")){if(h=f,g=f[Ke]||null)E=g.formAction;else if(jd(h)!==null)continue}else E=g.action;typeof E=="function"?a[o+1]=E:(a.splice(o,3),o-=3),tv(a)}}}function ev(){function e(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(g){return h=g})},focusReset:"manual",scroll:"manual"})}function n(){h!==null&&(h(),h=null),o||setTimeout(a,20)}function a(){if(!o&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var o=!1,h=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(a,100),function(){o=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),h!==null&&(h(),h=null)}}}function qd(e){this._internalRoot=e}zc.prototype.render=qd.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(r(409));var a=n.current,o=Un();Q_(a,o,e,n,null,null)},zc.prototype.unmount=qd.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;Q_(e.current,2,null,e,null,null),vc(),n[vi]=null}};function zc(e){this._internalRoot=e}zc.prototype.unstable_scheduleHydration=function(e){if(e){var n=vu();e={blockedOn:null,target:e,priority:n};for(var a=0;a<Ws.length&&n!==0&&n<Ws[a].priority;a++);Ws.splice(a,0,e),a===0&&J_(e)}};var nv=t.version;if(nv!=="19.2.0")throw Error(r(527,nv,"19.2.0"));st.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(r(188)):(e=Object.keys(e).join(","),Error(r(268,e)));return e=y(n),e=e!==null?A(e):null,e=e===null?null:e.stateNode,e};var YS={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:j,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var jc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!jc.isDisabled&&jc.supportsFiber)try{it=jc.inject(YS),et=jc}catch{}}return Nl.createRoot=function(e,n){if(!l(e))throw Error(r(299));var a=!1,o="",h=uy,f=cy,g=hy;return n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(g=n.onRecoverableError)),n=F_(e,1,!1,null,null,a,o,null,h,f,g,ev),e[vi]=n.current,Sd(e),new qd(n)},Nl.hydrateRoot=function(e,n,a){if(!l(e))throw Error(r(299));var o=!1,h="",f=uy,g=cy,E=hy,C=null;return a!=null&&(a.unstable_strictMode===!0&&(o=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(f=a.onUncaughtError),a.onCaughtError!==void 0&&(g=a.onCaughtError),a.onRecoverableError!==void 0&&(E=a.onRecoverableError),a.formState!==void 0&&(C=a.formState)),n=F_(e,1,!0,n,a??null,o,h,C,f,g,E,ev),n.context=G_(null),a=n.current,o=Un(),o=Rr(o),h=ks(o),h.callback=null,zs(a,h,o),a=o,n.current.lanes=a,br(n,a),Ui(n),e[vi]=n.current,Sd(e),new zc(n)},Nl.version="19.2.0",Nl}var fv;function ib(){if(fv)return Gd.exports;fv=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(t){console.error(t)}}return s(),Gd.exports=nb(),Gd.exports}var sb=ib();/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rb=s=>s.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),ab=s=>s.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,i,r)=>r?r.toUpperCase():i.toLowerCase()),dv=s=>{const t=ab(s);return t.charAt(0).toUpperCase()+t.slice(1)},K0=(...s)=>s.filter((t,i,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===i).join(" ").trim(),ob=s=>{for(const t in s)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var lb={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ub=ee.forwardRef(({color:s="currentColor",size:t=24,strokeWidth:i=2,absoluteStrokeWidth:r,className:l="",children:c,iconNode:d,...p},_)=>ee.createElement("svg",{ref:_,...lb,width:t,height:t,stroke:s,strokeWidth:r?Number(i)*24/Number(t):i,className:K0("lucide",l),...!c&&!ob(p)&&{"aria-hidden":"true"},...p},[...d.map(([y,A])=>ee.createElement(y,A)),...Array.isArray(c)?c:[c]]));/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vo=(s,t)=>{const i=ee.forwardRef(({className:r,...l},c)=>ee.createElement(ub,{ref:c,iconNode:t,className:K0(`lucide-${rb(dv(s))}`,`lucide-${s}`,r),...l}));return i.displayName=dv(s),i};/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cb=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],mv=vo("award",cb);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hb=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],gv=vo("calendar",hb);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fb=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],pv=vo("chevron-left",fb);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const db=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],mb=vo("clock",db);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gb=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],pb=vo("user-plus",gb);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yb=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Xd=vo("users",yb),_b=()=>{};var yv={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X0=function(s){const t=[];let i=0;for(let r=0;r<s.length;r++){let l=s.charCodeAt(r);l<128?t[i++]=l:l<2048?(t[i++]=l>>6|192,t[i++]=l&63|128):(l&64512)===55296&&r+1<s.length&&(s.charCodeAt(r+1)&64512)===56320?(l=65536+((l&1023)<<10)+(s.charCodeAt(++r)&1023),t[i++]=l>>18|240,t[i++]=l>>12&63|128,t[i++]=l>>6&63|128,t[i++]=l&63|128):(t[i++]=l>>12|224,t[i++]=l>>6&63|128,t[i++]=l&63|128)}return t},vb=function(s){const t=[];let i=0,r=0;for(;i<s.length;){const l=s[i++];if(l<128)t[r++]=String.fromCharCode(l);else if(l>191&&l<224){const c=s[i++];t[r++]=String.fromCharCode((l&31)<<6|c&63)}else if(l>239&&l<365){const c=s[i++],d=s[i++],p=s[i++],_=((l&7)<<18|(c&63)<<12|(d&63)<<6|p&63)-65536;t[r++]=String.fromCharCode(55296+(_>>10)),t[r++]=String.fromCharCode(56320+(_&1023))}else{const c=s[i++],d=s[i++];t[r++]=String.fromCharCode((l&15)<<12|(c&63)<<6|d&63)}}return t.join("")},$0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,t){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let l=0;l<s.length;l+=3){const c=s[l],d=l+1<s.length,p=d?s[l+1]:0,_=l+2<s.length,y=_?s[l+2]:0,A=c>>2,S=(c&3)<<4|p>>4;let x=(p&15)<<2|y>>6,Q=y&63;_||(Q=64,d||(x=64)),r.push(i[A],i[S],i[x],i[Q])}return r.join("")},encodeString(s,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(s):this.encodeByteArray(X0(s),t)},decodeString(s,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(s):vb(this.decodeStringToByteArray(s,t))},decodeStringToByteArray(s,t){this.init_();const i=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let l=0;l<s.length;){const c=i[s.charAt(l++)],p=l<s.length?i[s.charAt(l)]:0;++l;const y=l<s.length?i[s.charAt(l)]:64;++l;const S=l<s.length?i[s.charAt(l)]:64;if(++l,c==null||p==null||y==null||S==null)throw new Eb;const x=c<<2|p>>4;if(r.push(x),y!==64){const Q=p<<4&240|y>>2;if(r.push(Q),S!==64){const W=y<<6&192|S;r.push(W)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class Eb extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Tb=function(s){const t=X0(s);return $0.encodeByteArray(t,!0)},rh=function(s){return Tb(s).replace(/\./g,"")},Z0=function(s){try{return $0.decodeString(s,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ab(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sb=()=>Ab().__FIREBASE_DEFAULTS__,bb=()=>{if(typeof process>"u"||typeof yv>"u")return;const s=yv.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},wb=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=s&&Z0(s[1]);return t&&JSON.parse(t)},wh=()=>{try{return _b()||Sb()||bb()||wb()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},J0=s=>wh()?.emulatorHosts?.[s],Rb=s=>{const t=J0(s);if(!t)return;const i=t.lastIndexOf(":");if(i<=0||i+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(i+1),10);return t[0]==="["?[t.substring(1,i-1),r]:[t.substring(0,i),r]},W0=()=>wh()?.config,tE=s=>wh()?.[`_${s}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ib{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,i)=>{this.resolve=t,this.reject=i})}wrapCallback(t){return(i,r)=>{i?this.reject(i):this.resolve(r),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(i):t(i,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Eo(s){try{return(s.startsWith("http://")||s.startsWith("https://")?new URL(s).hostname:s).endsWith(".cloudworkstations.dev")}catch{return!1}}async function eE(s){return(await fetch(s,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cb(s,t){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},r=t||"demo-project",l=s.iat||0,c=s.sub||s.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${r}`,aud:r,iat:l,exp:l+3600,auth_time:l,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...s};return[rh(JSON.stringify(i)),rh(JSON.stringify(d)),""].join(".")}const kl={};function Nb(){const s={prod:[],emulator:[]};for(const t of Object.keys(kl))kl[t]?s.emulator.push(t):s.prod.push(t);return s}function xb(s){let t=document.getElementById(s),i=!1;return t||(t=document.createElement("div"),t.setAttribute("id",s),i=!0),{created:i,element:t}}let _v=!1;function nE(s,t){if(typeof window>"u"||typeof document>"u"||!Eo(window.location.host)||kl[s]===t||kl[s]||_v)return;kl[s]=t;function i(x){return`__firebase__banner__${x}`}const r="__firebase__banner",c=Nb().prod.length>0;function d(){const x=document.getElementById(r);x&&x.remove()}function p(x){x.style.display="flex",x.style.background="#7faaf0",x.style.position="fixed",x.style.bottom="5px",x.style.left="5px",x.style.padding=".5em",x.style.borderRadius="5px",x.style.alignItems="center"}function _(x,Q){x.setAttribute("width","24"),x.setAttribute("id",Q),x.setAttribute("height","24"),x.setAttribute("viewBox","0 0 24 24"),x.setAttribute("fill","none"),x.style.marginLeft="-6px"}function y(){const x=document.createElement("span");return x.style.cursor="pointer",x.style.marginLeft="16px",x.style.fontSize="24px",x.innerHTML=" &times;",x.onclick=()=>{_v=!0,d()},x}function A(x,Q){x.setAttribute("id",Q),x.innerText="Learn more",x.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",x.setAttribute("target","__blank"),x.style.paddingLeft="5px",x.style.textDecoration="underline"}function S(){const x=xb(r),Q=i("text"),W=document.getElementById(Q)||document.createElement("span"),at=i("learnmore"),tt=document.getElementById(at)||document.createElement("a"),_t=i("preprendIcon"),St=document.getElementById(_t)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(x.created){const Et=x.element;p(Et),A(tt,at);const Yt=y();_(St,_t),Et.append(St,W,tt,Yt),document.body.appendChild(Et)}c?(W.innerText="Preview backend disconnected.",St.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(St.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,W.innerText="Preview backend running in this workspace."),W.setAttribute("id",Q)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",S):S()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Db(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(dn())}function Ob(){const s=wh()?.forceEnvironment;if(s==="node")return!0;if(s==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Mb(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Vb(){const s=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof s=="object"&&s.id!==void 0}function Ub(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Lb(){const s=dn();return s.indexOf("MSIE ")>=0||s.indexOf("Trident/")>=0}function Pb(){return!Ob()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function kb(){try{return typeof indexedDB=="object"}catch{return!1}}function zb(){return new Promise((s,t)=>{try{let i=!0;const r="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(r);l.onsuccess=()=>{l.result.close(),i||self.indexedDB.deleteDatabase(r),s(!0)},l.onupgradeneeded=()=>{i=!1},l.onerror=()=>{t(l.error?.message||"")}}catch(i){t(i)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jb="FirebaseError";class vs extends Error{constructor(t,i,r){super(i),this.code=t,this.customData=r,this.name=jb,Object.setPrototypeOf(this,vs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,nu.prototype.create)}}class nu{constructor(t,i,r){this.service=t,this.serviceName=i,this.errors=r}create(t,...i){const r=i[0]||{},l=`${this.service}/${t}`,c=this.errors[t],d=c?Bb(c,r):"Error",p=`${this.serviceName}: ${d} (${l}).`;return new vs(l,p,r)}}function Bb(s,t){return s.replace(qb,(i,r)=>{const l=t[r];return l!=null?String(l):`<${r}?>`})}const qb=/\{\$([^}]+)}/g;function Hb(s){for(const t in s)if(Object.prototype.hasOwnProperty.call(s,t))return!1;return!0}function ia(s,t){if(s===t)return!0;const i=Object.keys(s),r=Object.keys(t);for(const l of i){if(!r.includes(l))return!1;const c=s[l],d=t[l];if(vv(c)&&vv(d)){if(!ia(c,d))return!1}else if(c!==d)return!1}for(const l of r)if(!i.includes(l))return!1;return!0}function vv(s){return s!==null&&typeof s=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iu(s){const t=[];for(const[i,r]of Object.entries(s))Array.isArray(r)?r.forEach(l=>{t.push(encodeURIComponent(i)+"="+encodeURIComponent(l))}):t.push(encodeURIComponent(i)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function Fb(s,t){const i=new Gb(s,t);return i.subscribe.bind(i)}class Gb{constructor(t,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{t(this)}).catch(r=>{this.error(r)})}next(t){this.forEachObserver(i=>{i.next(t)})}error(t){this.forEachObserver(i=>{i.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,i,r){let l;if(t===void 0&&i===void 0&&r===void 0)throw new Error("Missing Observer.");Qb(t,["next","error","complete"])?l=t:l={next:t,error:i,complete:r},l.next===void 0&&(l.next=$d),l.error===void 0&&(l.error=$d),l.complete===void 0&&(l.complete=$d);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),c}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,t)}sendOne(t,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{i(this.observers[t])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Qb(s,t){if(typeof s!="object"||s===null)return!1;for(const i of t)if(i in s&&typeof s[i]=="function")return!0;return!1}function $d(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fe(s){return s&&s._delegate?s._delegate:s}class sa{constructor(t,i,r){this.name=t,this.instanceFactory=i,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jr="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yb{constructor(t,i){this.name=t,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const i=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(i)){const r=new Ib;if(this.instancesDeferred.set(i,r),this.isInitialized(i)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:i});l&&r.resolve(l)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(t){const i=this.normalizeInstanceIdentifier(t?.identifier),r=t?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(l){if(r)return null;throw l}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(Xb(t))try{this.getOrInitializeService({instanceIdentifier:Jr})}catch{}for(const[i,r]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);try{const c=this.getOrInitializeService({instanceIdentifier:l});r.resolve(c)}catch{}}}}clearInstance(t=Jr){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...t.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Jr){return this.instances.has(t)}getOptions(t=Jr){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:i={}}=t,r=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:r,options:i});for(const[c,d]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(c);r===p&&d.resolve(l)}return l}onInit(t,i){const r=this.normalizeInstanceIdentifier(i),l=this.onInitCallbacks.get(r)??new Set;l.add(t),this.onInitCallbacks.set(r,l);const c=this.instances.get(r);return c&&t(c,r),()=>{l.delete(t)}}invokeOnInitCallbacks(t,i){const r=this.onInitCallbacks.get(i);if(r)for(const l of r)try{l(t,i)}catch{}}getOrInitializeService({instanceIdentifier:t,options:i={}}){let r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:Kb(t),options:i}),this.instances.set(t,r),this.instancesOptions.set(t,i),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch{}return r||null}normalizeInstanceIdentifier(t=Jr){return this.component?this.component.multipleInstances?t:Jr:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Kb(s){return s===Jr?void 0:s}function Xb(s){return s.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $b{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const i=this.getProvider(t.name);if(i.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);i.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const i=new Yb(t,this);return this.providers.set(t,i),i}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var jt;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(jt||(jt={}));const Zb={debug:jt.DEBUG,verbose:jt.VERBOSE,info:jt.INFO,warn:jt.WARN,error:jt.ERROR,silent:jt.SILENT},Jb=jt.INFO,Wb={[jt.DEBUG]:"log",[jt.VERBOSE]:"log",[jt.INFO]:"info",[jt.WARN]:"warn",[jt.ERROR]:"error"},t1=(s,t,...i)=>{if(t<s.logLevel)return;const r=new Date().toISOString(),l=Wb[t];if(l)console[l](`[${r}]  ${s.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class Lm{constructor(t){this.name=t,this._logLevel=Jb,this._logHandler=t1,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in jt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?Zb[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,jt.DEBUG,...t),this._logHandler(this,jt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,jt.VERBOSE,...t),this._logHandler(this,jt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,jt.INFO,...t),this._logHandler(this,jt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,jt.WARN,...t),this._logHandler(this,jt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,jt.ERROR,...t),this._logHandler(this,jt.ERROR,...t)}}const e1=(s,t)=>t.some(i=>s instanceof i);let Ev,Tv;function n1(){return Ev||(Ev=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function i1(){return Tv||(Tv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const iE=new WeakMap,cm=new WeakMap,sE=new WeakMap,Zd=new WeakMap,Pm=new WeakMap;function s1(s){const t=new Promise((i,r)=>{const l=()=>{s.removeEventListener("success",c),s.removeEventListener("error",d)},c=()=>{i(ar(s.result)),l()},d=()=>{r(s.error),l()};s.addEventListener("success",c),s.addEventListener("error",d)});return t.then(i=>{i instanceof IDBCursor&&iE.set(i,s)}).catch(()=>{}),Pm.set(t,s),t}function r1(s){if(cm.has(s))return;const t=new Promise((i,r)=>{const l=()=>{s.removeEventListener("complete",c),s.removeEventListener("error",d),s.removeEventListener("abort",d)},c=()=>{i(),l()},d=()=>{r(s.error||new DOMException("AbortError","AbortError")),l()};s.addEventListener("complete",c),s.addEventListener("error",d),s.addEventListener("abort",d)});cm.set(s,t)}let hm={get(s,t,i){if(s instanceof IDBTransaction){if(t==="done")return cm.get(s);if(t==="objectStoreNames")return s.objectStoreNames||sE.get(s);if(t==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return ar(s[t])},set(s,t,i){return s[t]=i,!0},has(s,t){return s instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in s}};function a1(s){hm=s(hm)}function o1(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...i){const r=s.call(Jd(this),t,...i);return sE.set(r,t.sort?t.sort():[t]),ar(r)}:i1().includes(s)?function(...t){return s.apply(Jd(this),t),ar(iE.get(this))}:function(...t){return ar(s.apply(Jd(this),t))}}function l1(s){return typeof s=="function"?o1(s):(s instanceof IDBTransaction&&r1(s),e1(s,n1())?new Proxy(s,hm):s)}function ar(s){if(s instanceof IDBRequest)return s1(s);if(Zd.has(s))return Zd.get(s);const t=l1(s);return t!==s&&(Zd.set(s,t),Pm.set(t,s)),t}const Jd=s=>Pm.get(s);function u1(s,t,{blocked:i,upgrade:r,blocking:l,terminated:c}={}){const d=indexedDB.open(s,t),p=ar(d);return r&&d.addEventListener("upgradeneeded",_=>{r(ar(d.result),_.oldVersion,_.newVersion,ar(d.transaction),_)}),i&&d.addEventListener("blocked",_=>i(_.oldVersion,_.newVersion,_)),p.then(_=>{c&&_.addEventListener("close",()=>c()),l&&_.addEventListener("versionchange",y=>l(y.oldVersion,y.newVersion,y))}).catch(()=>{}),p}const c1=["get","getKey","getAll","getAllKeys","count"],h1=["put","add","delete","clear"],Wd=new Map;function Av(s,t){if(!(s instanceof IDBDatabase&&!(t in s)&&typeof t=="string"))return;if(Wd.get(t))return Wd.get(t);const i=t.replace(/FromIndex$/,""),r=t!==i,l=h1.includes(i);if(!(i in(r?IDBIndex:IDBObjectStore).prototype)||!(l||c1.includes(i)))return;const c=async function(d,...p){const _=this.transaction(d,l?"readwrite":"readonly");let y=_.store;return r&&(y=y.index(p.shift())),(await Promise.all([y[i](...p),l&&_.done]))[0]};return Wd.set(t,c),c}a1(s=>({...s,get:(t,i,r)=>Av(t,i)||s.get(t,i,r),has:(t,i)=>!!Av(t,i)||s.has(t,i)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f1{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(d1(i)){const r=i.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(i=>i).join(" ")}}function d1(s){return s.getComponent()?.type==="VERSION"}const fm="@firebase/app",Sv="0.14.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ms=new Lm("@firebase/app"),m1="@firebase/app-compat",g1="@firebase/analytics-compat",p1="@firebase/analytics",y1="@firebase/app-check-compat",_1="@firebase/app-check",v1="@firebase/auth",E1="@firebase/auth-compat",T1="@firebase/database",A1="@firebase/data-connect",S1="@firebase/database-compat",b1="@firebase/functions",w1="@firebase/functions-compat",R1="@firebase/installations",I1="@firebase/installations-compat",C1="@firebase/messaging",N1="@firebase/messaging-compat",x1="@firebase/performance",D1="@firebase/performance-compat",O1="@firebase/remote-config",M1="@firebase/remote-config-compat",V1="@firebase/storage",U1="@firebase/storage-compat",L1="@firebase/firestore",P1="@firebase/ai",k1="@firebase/firestore-compat",z1="firebase",j1="12.3.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dm="[DEFAULT]",B1={[fm]:"fire-core",[m1]:"fire-core-compat",[p1]:"fire-analytics",[g1]:"fire-analytics-compat",[_1]:"fire-app-check",[y1]:"fire-app-check-compat",[v1]:"fire-auth",[E1]:"fire-auth-compat",[T1]:"fire-rtdb",[A1]:"fire-data-connect",[S1]:"fire-rtdb-compat",[b1]:"fire-fn",[w1]:"fire-fn-compat",[R1]:"fire-iid",[I1]:"fire-iid-compat",[C1]:"fire-fcm",[N1]:"fire-fcm-compat",[x1]:"fire-perf",[D1]:"fire-perf-compat",[O1]:"fire-rc",[M1]:"fire-rc-compat",[V1]:"fire-gcs",[U1]:"fire-gcs-compat",[L1]:"fire-fst",[k1]:"fire-fst-compat",[P1]:"fire-vertex","fire-js":"fire-js",[z1]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ah=new Map,q1=new Map,mm=new Map;function bv(s,t){try{s.container.addComponent(t)}catch(i){ms.debug(`Component ${t.name} failed to register with FirebaseApp ${s.name}`,i)}}function co(s){const t=s.name;if(mm.has(t))return ms.debug(`There were multiple attempts to register component ${t}.`),!1;mm.set(t,s);for(const i of ah.values())bv(i,s);for(const i of q1.values())bv(i,s);return!0}function km(s,t){const i=s.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),s.container.getProvider(t)}function ci(s){return s==null?!1:s.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H1={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},or=new nu("app","Firebase",H1);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F1{constructor(t,i,r){this._isDeleted=!1,this._options={...t},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new sa("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw or.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const To=j1;function rE(s,t={}){let i=s;typeof t!="object"&&(t={name:t});const r={name:dm,automaticDataCollectionEnabled:!0,...t},l=r.name;if(typeof l!="string"||!l)throw or.create("bad-app-name",{appName:String(l)});if(i||(i=W0()),!i)throw or.create("no-options");const c=ah.get(l);if(c){if(ia(i,c.options)&&ia(r,c.config))return c;throw or.create("duplicate-app",{appName:l})}const d=new $b(l);for(const _ of mm.values())d.addComponent(_);const p=new F1(i,r,d);return ah.set(l,p),p}function aE(s=dm){const t=ah.get(s);if(!t&&s===dm&&W0())return rE();if(!t)throw or.create("no-app",{appName:s});return t}function lr(s,t,i){let r=B1[s]??s;i&&(r+=`-${i}`);const l=r.match(/\s|\//),c=t.match(/\s|\//);if(l||c){const d=[`Unable to register library "${r}" with version "${t}":`];l&&d.push(`library name "${r}" contains illegal characters (whitespace or "/")`),l&&c&&d.push("and"),c&&d.push(`version name "${t}" contains illegal characters (whitespace or "/")`),ms.warn(d.join(" "));return}co(new sa(`${r}-version`,()=>({library:r,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G1="firebase-heartbeat-database",Q1=1,Gl="firebase-heartbeat-store";let tm=null;function oE(){return tm||(tm=u1(G1,Q1,{upgrade:(s,t)=>{switch(t){case 0:try{s.createObjectStore(Gl)}catch(i){console.warn(i)}}}}).catch(s=>{throw or.create("idb-open",{originalErrorMessage:s.message})})),tm}async function Y1(s){try{const i=(await oE()).transaction(Gl),r=await i.objectStore(Gl).get(lE(s));return await i.done,r}catch(t){if(t instanceof vs)ms.warn(t.message);else{const i=or.create("idb-get",{originalErrorMessage:t?.message});ms.warn(i.message)}}}async function wv(s,t){try{const r=(await oE()).transaction(Gl,"readwrite");await r.objectStore(Gl).put(t,lE(s)),await r.done}catch(i){if(i instanceof vs)ms.warn(i.message);else{const r=or.create("idb-set",{originalErrorMessage:i?.message});ms.warn(r.message)}}}function lE(s){return`${s.name}!${s.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K1=1024,X1=30;class $1{constructor(t){this.container=t,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new J1(i),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=Rv();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(l=>l.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:i}),this._heartbeatsCache.heartbeats.length>X1){const l=W1(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){ms.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=Rv(),{heartbeatsToSend:i,unsentEntries:r}=Z1(this._heartbeatsCache.heartbeats),l=rh(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(t){return ms.warn(t),""}}}function Rv(){return new Date().toISOString().substring(0,10)}function Z1(s,t=K1){const i=[];let r=s.slice();for(const l of s){const c=i.find(d=>d.agent===l.agent);if(c){if(c.dates.push(l.date),Iv(i)>t){c.dates.pop();break}}else if(i.push({agent:l.agent,dates:[l.date]}),Iv(i)>t){i.pop();break}r=r.slice(1)}return{heartbeatsToSend:i,unsentEntries:r}}class J1{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return kb()?zb().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await Y1(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const r=await this.read();return wv(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const r=await this.read();return wv(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...t.heartbeats]})}else return}}function Iv(s){return rh(JSON.stringify({version:2,heartbeats:s})).length}function W1(s){if(s.length===0)return-1;let t=0,i=s[0].date;for(let r=1;r<s.length;r++)s[r].date<i&&(i=s[r].date,t=r);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tw(s){co(new sa("platform-logger",t=>new f1(t),"PRIVATE")),co(new sa("heartbeat",t=>new $1(t),"PRIVATE")),lr(fm,Sv,s),lr(fm,Sv,"esm2020"),lr("fire-js","")}tw("");var ew="firebase",nw="12.3.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */lr(ew,nw,"app");function uE(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const iw=uE,cE=new nu("auth","Firebase",uE());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oh=new Lm("@firebase/auth");function sw(s,...t){oh.logLevel<=jt.WARN&&oh.warn(`Auth (${To}): ${s}`,...t)}function Xc(s,...t){oh.logLevel<=jt.ERROR&&oh.error(`Auth (${To}): ${s}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qi(s,...t){throw jm(s,...t)}function fi(s,...t){return jm(s,...t)}function zm(s,t,i){const r={...iw(),[t]:i};return new nu("auth","Firebase",r).create(t,{appName:s.name})}function ea(s){return zm(s,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function rw(s,t,i){const r=i;if(!(t instanceof r))throw r.name!==t.constructor.name&&qi(s,"argument-error"),zm(s,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function jm(s,...t){if(typeof s!="string"){const i=t[0],r=[...t.slice(1)];return r[0]&&(r[0].appName=s.name),s._errorFactory.create(i,...r)}return cE.create(s,...t)}function bt(s,t,...i){if(!s)throw jm(t,...i)}function fs(s){const t="INTERNAL ASSERTION FAILED: "+s;throw Xc(t),new Error(t)}function gs(s,t){s||fs(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gm(){return typeof self<"u"&&self.location?.href||""}function aw(){return Cv()==="http:"||Cv()==="https:"}function Cv(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ow(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(aw()||Vb()||"connection"in navigator)?navigator.onLine:!0}function lw(){if(typeof navigator>"u")return null;const s=navigator;return s.languages&&s.languages[0]||s.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class su{constructor(t,i){this.shortDelay=t,this.longDelay=i,gs(i>t,"Short delay should be less than long delay!"),this.isMobile=Db()||Ub()}get(){return ow()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bm(s,t){gs(s.emulator,"Emulator should always be set here");const{url:i}=s.emulator;return t?`${i}${t.startsWith("/")?t.slice(1):t}`:i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hE{static initialize(t,i,r){this.fetchImpl=t,i&&(this.headersImpl=i),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;fs("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;fs("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;fs("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uw={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cw=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],hw=new su(3e4,6e4);function qm(s,t){return s.tenantId&&!t.tenantId?{...t,tenantId:s.tenantId}:t}async function Ao(s,t,i,r,l={}){return fE(s,l,async()=>{let c={},d={};r&&(t==="GET"?d=r:c={body:JSON.stringify(r)});const p=iu({key:s.config.apiKey,...d}).slice(1),_=await s._getAdditionalHeaders();_["Content-Type"]="application/json",s.languageCode&&(_["X-Firebase-Locale"]=s.languageCode);const y={method:t,headers:_,...c};return Mb()||(y.referrerPolicy="no-referrer"),s.emulatorConfig&&Eo(s.emulatorConfig.host)&&(y.credentials="include"),hE.fetch()(await dE(s,s.config.apiHost,i,p),y)})}async function fE(s,t,i){s._canInitEmulator=!1;const r={...uw,...t};try{const l=new dw(s),c=await Promise.race([i(),l.promise]);l.clearNetworkTimeout();const d=await c.json();if("needConfirmation"in d)throw Bc(s,"account-exists-with-different-credential",d);if(c.ok&&!("errorMessage"in d))return d;{const p=c.ok?d.errorMessage:d.error.message,[_,y]=p.split(" : ");if(_==="FEDERATED_USER_ID_ALREADY_LINKED")throw Bc(s,"credential-already-in-use",d);if(_==="EMAIL_EXISTS")throw Bc(s,"email-already-in-use",d);if(_==="USER_DISABLED")throw Bc(s,"user-disabled",d);const A=r[_]||_.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw zm(s,A,y);qi(s,A)}}catch(l){if(l instanceof vs)throw l;qi(s,"network-request-failed",{message:String(l)})}}async function fw(s,t,i,r,l={}){const c=await Ao(s,t,i,r,l);return"mfaPendingCredential"in c&&qi(s,"multi-factor-auth-required",{_serverResponse:c}),c}async function dE(s,t,i,r){const l=`${t}${i}?${r}`,c=s,d=c.config.emulator?Bm(s.config,l):`${s.config.apiScheme}://${l}`;return cw.includes(i)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(d).toString():d}class dw{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((i,r)=>{this.timer=setTimeout(()=>r(fi(this.auth,"network-request-failed")),hw.get())})}}function Bc(s,t,i){const r={appName:s.name};i.email&&(r.email=i.email),i.phoneNumber&&(r.phoneNumber=i.phoneNumber);const l=fi(s,t,r);return l.customData._tokenResponse=i,l}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mw(s,t){return Ao(s,"POST","/v1/accounts:delete",t)}async function lh(s,t){return Ao(s,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zl(s){if(s)try{const t=new Date(Number(s));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function gw(s,t=!1){const i=Fe(s),r=await i.getIdToken(t),l=Hm(r);bt(l&&l.exp&&l.auth_time&&l.iat,i.auth,"internal-error");const c=typeof l.firebase=="object"?l.firebase:void 0,d=c?.sign_in_provider;return{claims:l,token:r,authTime:zl(em(l.auth_time)),issuedAtTime:zl(em(l.iat)),expirationTime:zl(em(l.exp)),signInProvider:d||null,signInSecondFactor:c?.sign_in_second_factor||null}}function em(s){return Number(s)*1e3}function Hm(s){const[t,i,r]=s.split(".");if(t===void 0||i===void 0||r===void 0)return Xc("JWT malformed, contained fewer than 3 sections"),null;try{const l=Z0(i);return l?JSON.parse(l):(Xc("Failed to decode base64 JWT payload"),null)}catch(l){return Xc("Caught error parsing JWT payload as JSON",l?.toString()),null}}function Nv(s){const t=Hm(s);return bt(t,"internal-error"),bt(typeof t.exp<"u","internal-error"),bt(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ql(s,t,i=!1){if(i)return t;try{return await t}catch(r){throw r instanceof vs&&pw(r)&&s.auth.currentUser===s&&await s.auth.signOut(),r}}function pw({code:s}){return s==="auth/user-disabled"||s==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yw{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(t=!1){if(!this.isRunning)return;const i=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pm{constructor(t,i){this.createdAt=t,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=zl(this.lastLoginAt),this.creationTime=zl(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uh(s){const t=s.auth,i=await s.getIdToken(),r=await Ql(s,lh(t,{idToken:i}));bt(r?.users.length,t,"internal-error");const l=r.users[0];s._notifyReloadListener(l);const c=l.providerUserInfo?.length?mE(l.providerUserInfo):[],d=vw(s.providerData,c),p=s.isAnonymous,_=!(s.email&&l.passwordHash)&&!d?.length,y=p?_:!1,A={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:d,metadata:new pm(l.createdAt,l.lastLoginAt),isAnonymous:y};Object.assign(s,A)}async function _w(s){const t=Fe(s);await uh(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function vw(s,t){return[...s.filter(r=>!t.some(l=>l.providerId===r.providerId)),...t]}function mE(s){return s.map(({providerId:t,...i})=>({providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ew(s,t){const i=await fE(s,{},async()=>{const r=iu({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:l,apiKey:c}=s.config,d=await dE(s,l,"/v1/token",`key=${c}`),p=await s._getAdditionalHeaders();p["Content-Type"]="application/x-www-form-urlencoded";const _={method:"POST",headers:p,body:r};return s.emulatorConfig&&Eo(s.emulatorConfig.host)&&(_.credentials="include"),hE.fetch()(d,_)});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function Tw(s,t){return Ao(s,"POST","/v2/accounts:revokeToken",qm(s,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ao{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){bt(t.idToken,"internal-error"),bt(typeof t.idToken<"u","internal-error"),bt(typeof t.refreshToken<"u","internal-error");const i="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):Nv(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,i)}updateFromIdToken(t){bt(t.length!==0,"internal-error");const i=Nv(t);this.updateTokensAndExpiration(t,null,i)}async getToken(t,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(bt(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,i){const{accessToken:r,refreshToken:l,expiresIn:c}=await Ew(t,i);this.updateTokensAndExpiration(r,l,Number(c))}updateTokensAndExpiration(t,i,r){this.refreshToken=i||null,this.accessToken=t||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(t,i){const{refreshToken:r,accessToken:l,expirationTime:c}=i,d=new ao;return r&&(bt(typeof r=="string","internal-error",{appName:t}),d.refreshToken=r),l&&(bt(typeof l=="string","internal-error",{appName:t}),d.accessToken=l),c&&(bt(typeof c=="number","internal-error",{appName:t}),d.expirationTime=c),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new ao,this.toJSON())}_performRefresh(){return fs("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function er(s,t){bt(typeof s=="string"||typeof s>"u","internal-error",{appName:t})}class hi{constructor({uid:t,auth:i,stsTokenManager:r,...l}){this.providerId="firebase",this.proactiveRefresh=new yw(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new pm(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(t){const i=await Ql(this,this.stsTokenManager.getToken(this.auth,t));return bt(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(t){return gw(this,t)}reload(){return _w(this)}_assign(t){this!==t&&(bt(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(i=>({...i})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const i=new hi({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return i.metadata._copy(this.metadata),i}_onReload(t){bt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,i=!1){let r=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),i&&await uh(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ci(this.auth.app))return Promise.reject(ea(this.auth));const t=await this.getIdToken();return await Ql(this,mw(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,i){const r=i.displayName??void 0,l=i.email??void 0,c=i.phoneNumber??void 0,d=i.photoURL??void 0,p=i.tenantId??void 0,_=i._redirectEventId??void 0,y=i.createdAt??void 0,A=i.lastLoginAt??void 0,{uid:S,emailVerified:x,isAnonymous:Q,providerData:W,stsTokenManager:at}=i;bt(S&&at,t,"internal-error");const tt=ao.fromJSON(this.name,at);bt(typeof S=="string",t,"internal-error"),er(r,t.name),er(l,t.name),bt(typeof x=="boolean",t,"internal-error"),bt(typeof Q=="boolean",t,"internal-error"),er(c,t.name),er(d,t.name),er(p,t.name),er(_,t.name),er(y,t.name),er(A,t.name);const _t=new hi({uid:S,auth:t,email:l,emailVerified:x,displayName:r,isAnonymous:Q,photoURL:d,phoneNumber:c,tenantId:p,stsTokenManager:tt,createdAt:y,lastLoginAt:A});return W&&Array.isArray(W)&&(_t.providerData=W.map(St=>({...St}))),_&&(_t._redirectEventId=_),_t}static async _fromIdTokenResponse(t,i,r=!1){const l=new ao;l.updateFromServerResponse(i);const c=new hi({uid:i.localId,auth:t,stsTokenManager:l,isAnonymous:r});return await uh(c),c}static async _fromGetAccountInfoResponse(t,i,r){const l=i.users[0];bt(l.localId!==void 0,"internal-error");const c=l.providerUserInfo!==void 0?mE(l.providerUserInfo):[],d=!(l.email&&l.passwordHash)&&!c?.length,p=new ao;p.updateFromIdToken(r);const _=new hi({uid:l.localId,auth:t,stsTokenManager:p,isAnonymous:d}),y={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:c,metadata:new pm(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!c?.length};return Object.assign(_,y),_}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xv=new Map;function ds(s){gs(s instanceof Function,"Expected a class definition");let t=xv.get(s);return t?(gs(t instanceof s,"Instance stored in cache mismatched with class"),t):(t=new s,xv.set(s,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gE{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,i){this.storage[t]=i}async _get(t){const i=this.storage[t];return i===void 0?null:i}async _remove(t){delete this.storage[t]}_addListener(t,i){}_removeListener(t,i){}}gE.type="NONE";const Dv=gE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $c(s,t,i){return`firebase:${s}:${t}:${i}`}class oo{constructor(t,i,r){this.persistence=t,this.auth=i,this.userKey=r;const{config:l,name:c}=this.auth;this.fullUserKey=$c(this.userKey,l.apiKey,c),this.fullPersistenceKey=$c("persistence",l.apiKey,c),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const i=await lh(this.auth,{idToken:t}).catch(()=>{});return i?hi._fromGetAccountInfoResponse(this.auth,i,t):null}return hi._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,i,r="authUser"){if(!i.length)return new oo(ds(Dv),t,r);const l=(await Promise.all(i.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let c=l[0]||ds(Dv);const d=$c(r,t.config.apiKey,t.name);let p=null;for(const y of i)try{const A=await y._get(d);if(A){let S;if(typeof A=="string"){const x=await lh(t,{idToken:A}).catch(()=>{});if(!x)break;S=await hi._fromGetAccountInfoResponse(t,x,A)}else S=hi._fromJSON(t,A);y!==c&&(p=S),c=y;break}}catch{}const _=l.filter(y=>y._shouldAllowMigration);return!c._shouldAllowMigration||!_.length?new oo(c,t,r):(c=_[0],p&&await c._set(d,p.toJSON()),await Promise.all(i.map(async y=>{if(y!==c)try{await y._remove(d)}catch{}})),new oo(c,t,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ov(s){const t=s.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(vE(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(pE(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(TE(t))return"Blackberry";if(AE(t))return"Webos";if(yE(t))return"Safari";if((t.includes("chrome/")||_E(t))&&!t.includes("edge/"))return"Chrome";if(EE(t))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=s.match(i);if(r?.length===2)return r[1]}return"Other"}function pE(s=dn()){return/firefox\//i.test(s)}function yE(s=dn()){const t=s.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function _E(s=dn()){return/crios\//i.test(s)}function vE(s=dn()){return/iemobile/i.test(s)}function EE(s=dn()){return/android/i.test(s)}function TE(s=dn()){return/blackberry/i.test(s)}function AE(s=dn()){return/webos/i.test(s)}function Fm(s=dn()){return/iphone|ipad|ipod/i.test(s)||/macintosh/i.test(s)&&/mobile/i.test(s)}function Aw(s=dn()){return Fm(s)&&!!window.navigator?.standalone}function Sw(){return Lb()&&document.documentMode===10}function SE(s=dn()){return Fm(s)||EE(s)||AE(s)||TE(s)||/windows phone/i.test(s)||vE(s)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bE(s,t=[]){let i;switch(s){case"Browser":i=Ov(dn());break;case"Worker":i=`${Ov(dn())}-${s}`;break;default:i=s}const r=t.length?t.join(","):"FirebaseCore-web";return`${i}/JsCore/${To}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bw{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,i){const r=c=>new Promise((d,p)=>{try{const _=t(c);d(_)}catch(_){p(_)}});r.onAbort=i,this.queue.push(r);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const i=[];try{for(const r of this.queue)await r(t),r.onAbort&&i.push(r.onAbort)}catch(r){i.reverse();for(const l of i)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ww(s,t={}){return Ao(s,"GET","/v2/passwordPolicy",qm(s,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rw=6;class Iw{constructor(t){const i=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=i.minPasswordLength??Rw,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),i.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),i.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),i.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),i.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const i={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,i),this.validatePasswordCharacterOptions(t,i),i.isValid&&(i.isValid=i.meetsMinPasswordLength??!0),i.isValid&&(i.isValid=i.meetsMaxPasswordLength??!0),i.isValid&&(i.isValid=i.containsLowercaseLetter??!0),i.isValid&&(i.isValid=i.containsUppercaseLetter??!0),i.isValid&&(i.isValid=i.containsNumericCharacter??!0),i.isValid&&(i.isValid=i.containsNonAlphanumericCharacter??!0),i}validatePasswordLengthOptions(t,i){const r=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;r&&(i.meetsMinPasswordLength=t.length>=r),l&&(i.meetsMaxPasswordLength=t.length<=l)}validatePasswordCharacterOptions(t,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let r;for(let l=0;l<t.length;l++)r=t.charAt(l),this.updatePasswordCharacterOptionsStatuses(i,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(t,i,r,l,c){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cw{constructor(t,i,r,l){this.app=t,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=r,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Mv(this),this.idTokenSubscription=new Mv(this),this.beforeStateQueue=new bw(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=cE,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=l.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(t,i){return i&&(this._popupRedirectResolver=ds(i)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await oo.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const i=await lh(this,{idToken:t}),r=await hi._fromGetAccountInfoResponse(this,i,t);await this.directlySetCurrentUser(r)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(ci(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let r=i,l=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,d=r?._redirectEventId,p=await this.tryRedirectSignIn(t);(!c||c===d)&&p?.user&&(r=p.user,l=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(r)}catch(c){r=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return bt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(t){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(t){try{await uh(t)}catch(i){if(i?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=lw()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(ci(this.app))return Promise.reject(ea(this));const i=t?Fe(t):null;return i&&bt(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(t,i=!1){if(!this._deleted)return t&&bt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return ci(this.app)?Promise.reject(ea(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return ci(this.app)?Promise.reject(ea(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ds(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await ww(this),i=new Iw(t);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new nu("auth","Firebase",t())}onAuthStateChanged(t,i,r){return this.registerStateListener(this.authStateSubscription,t,i,r)}beforeAuthStateChanged(t,i){return this.beforeStateQueue.pushCallback(t,i)}onIdTokenChanged(t,i,r){return this.registerStateListener(this.idTokenSubscription,t,i,r)}authStateReady(){return new Promise((t,i)=>{if(this.currentUser)t();else{const r=this.onAuthStateChanged(()=>{r(),t()},i)}})}async revokeAccessToken(t){if(this.currentUser){const i=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:i};this.tenantId!=null&&(r.tenantId=this.tenantId),await Tw(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,i){const r=await this.getOrInitRedirectPersistenceManager(i);return t===null?r.removeCurrentUser():r.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const i=t&&ds(t)||this._popupRedirectResolver;bt(i,this,"argument-error"),this.redirectPersistenceManager=await oo.create(this,[ds(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,i,r,l){if(this._deleted)return()=>{};const c=typeof i=="function"?i:i.next.bind(i);let d=!1;const p=this._isInitialized?Promise.resolve():this._initializationPromise;if(bt(p,this,"internal-error"),p.then(()=>{d||c(this.currentUser)}),typeof i=="function"){const _=t.addObserver(i,r,l);return()=>{d=!0,_()}}else{const _=t.addObserver(i);return()=>{d=!0,_()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return bt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=bE(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const i=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();i&&(t["X-Firebase-Client"]=i);const r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){if(ci(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&sw(`Error while retrieving App Check token: ${t.error}`),t?.token}}function Rh(s){return Fe(s)}class Mv{constructor(t){this.auth=t,this.observer=null,this.addObserver=Fb(i=>this.observer=i)}get next(){return bt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Gm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Nw(s){Gm=s}function xw(s){return Gm.loadJS(s)}function Dw(){return Gm.gapiScript}function Ow(s){return`__${s}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mw(s,t){const i=km(s,"auth");if(i.isInitialized()){const l=i.getImmediate(),c=i.getOptions();if(ia(c,t??{}))return l;qi(l,"already-initialized")}return i.initialize({options:t})}function Vw(s,t){const i=t?.persistence||[],r=(Array.isArray(i)?i:[i]).map(ds);t?.errorMap&&s._updateErrorMap(t.errorMap),s._initializeWithPersistence(r,t?.popupRedirectResolver)}function Uw(s,t,i){const r=Rh(s);bt(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const l=!1,c=wE(t),{host:d,port:p}=Lw(t),_=p===null?"":`:${p}`,y={url:`${c}//${d}${_}/`},A=Object.freeze({host:d,port:p,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!r._canInitEmulator){bt(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),bt(ia(y,r.config.emulator)&&ia(A,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=y,r.emulatorConfig=A,r.settings.appVerificationDisabledForTesting=!0,Eo(d)?(eE(`${c}//${d}${_}`),nE("Auth",!0)):Pw()}function wE(s){const t=s.indexOf(":");return t<0?"":s.substr(0,t+1)}function Lw(s){const t=wE(s),i=/(\/\/)?([^?#/]+)/.exec(s.substr(t.length));if(!i)return{host:"",port:null};const r=i[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(r);if(l){const c=l[1];return{host:c,port:Vv(r.substr(c.length+1))}}else{const[c,d]=r.split(":");return{host:c,port:Vv(d)}}}function Vv(s){if(!s)return null;const t=Number(s);return isNaN(t)?null:t}function Pw(){function s(){const t=document.createElement("p"),i=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",s):s())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RE{constructor(t,i){this.providerId=t,this.signInMethod=i}toJSON(){return fs("not implemented")}_getIdTokenResponse(t){return fs("not implemented")}_linkToIdToken(t,i){return fs("not implemented")}_getReauthenticationResolver(t){return fs("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lo(s,t){return fw(s,"POST","/v1/accounts:signInWithIdp",qm(s,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kw="http://localhost";class ra extends RE{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const i=new ra(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(i.idToken=t.idToken),t.accessToken&&(i.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(i.nonce=t.nonce),t.pendingToken&&(i.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(i.accessToken=t.oauthToken,i.secret=t.oauthTokenSecret):qi("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const i=typeof t=="string"?JSON.parse(t):t,{providerId:r,signInMethod:l,...c}=i;if(!r||!l)return null;const d=new ra(r,l);return d.idToken=c.idToken||void 0,d.accessToken=c.accessToken||void 0,d.secret=c.secret,d.nonce=c.nonce,d.pendingToken=c.pendingToken||null,d}_getIdTokenResponse(t){const i=this.buildRequest();return lo(t,i)}_linkToIdToken(t,i){const r=this.buildRequest();return r.idToken=i,lo(t,r)}_getReauthenticationResolver(t){const i=this.buildRequest();return i.autoCreate=!1,lo(t,i)}buildRequest(){const t={requestUri:kw,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),t.postBody=iu(i)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qm{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ru extends Qm{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nr extends ru{constructor(){super("facebook.com")}static credential(t){return ra._fromParams({providerId:nr.PROVIDER_ID,signInMethod:nr.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return nr.credentialFromTaggedObject(t)}static credentialFromError(t){return nr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return nr.credential(t.oauthAccessToken)}catch{return null}}}nr.FACEBOOK_SIGN_IN_METHOD="facebook.com";nr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hs extends ru{constructor(){super("google.com"),this.addScope("profile")}static credential(t,i){return ra._fromParams({providerId:hs.PROVIDER_ID,signInMethod:hs.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:i})}static credentialFromResult(t){return hs.credentialFromTaggedObject(t)}static credentialFromError(t){return hs.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:i,oauthAccessToken:r}=t;if(!i&&!r)return null;try{return hs.credential(i,r)}catch{return null}}}hs.GOOGLE_SIGN_IN_METHOD="google.com";hs.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ir extends ru{constructor(){super("github.com")}static credential(t){return ra._fromParams({providerId:ir.PROVIDER_ID,signInMethod:ir.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return ir.credentialFromTaggedObject(t)}static credentialFromError(t){return ir.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return ir.credential(t.oauthAccessToken)}catch{return null}}}ir.GITHUB_SIGN_IN_METHOD="github.com";ir.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sr extends ru{constructor(){super("twitter.com")}static credential(t,i){return ra._fromParams({providerId:sr.PROVIDER_ID,signInMethod:sr.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:i})}static credentialFromResult(t){return sr.credentialFromTaggedObject(t)}static credentialFromError(t){return sr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:i,oauthTokenSecret:r}=t;if(!i||!r)return null;try{return sr.credential(i,r)}catch{return null}}}sr.TWITTER_SIGN_IN_METHOD="twitter.com";sr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ho{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,i,r,l=!1){const c=await hi._fromIdTokenResponse(t,r,l),d=Uv(r);return new ho({user:c,providerId:d,_tokenResponse:r,operationType:i})}static async _forOperation(t,i,r){await t._updateTokensIfNecessary(r,!0);const l=Uv(r);return new ho({user:t,providerId:l,_tokenResponse:r,operationType:i})}}function Uv(s){return s.providerId?s.providerId:"phoneNumber"in s?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ch extends vs{constructor(t,i,r,l){super(i.code,i.message),this.operationType=r,this.user=l,Object.setPrototypeOf(this,ch.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:i.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(t,i,r,l){return new ch(t,i,r,l)}}function IE(s,t,i,r){return(t==="reauthenticate"?i._getReauthenticationResolver(s):i._getIdTokenResponse(s)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?ch._fromErrorAndOperation(s,c,t,r):c})}async function zw(s,t,i=!1){const r=await Ql(s,t._linkToIdToken(s.auth,await s.getIdToken()),i);return ho._forOperation(s,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jw(s,t,i=!1){const{auth:r}=s;if(ci(r.app))return Promise.reject(ea(r));const l="reauthenticate";try{const c=await Ql(s,IE(r,l,t,s),i);bt(c.idToken,r,"internal-error");const d=Hm(c.idToken);bt(d,r,"internal-error");const{sub:p}=d;return bt(s.uid===p,r,"user-mismatch"),ho._forOperation(s,l,c)}catch(c){throw c?.code==="auth/user-not-found"&&qi(r,"user-mismatch"),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Bw(s,t,i=!1){if(ci(s.app))return Promise.reject(ea(s));const r="signIn",l=await IE(s,r,t),c=await ho._fromIdTokenResponse(s,r,l);return i||await s._updateCurrentUser(c.user),c}function qw(s,t,i,r){return Fe(s).onIdTokenChanged(t,i,r)}function Hw(s,t,i){return Fe(s).beforeAuthStateChanged(t,i)}function Fw(s,t,i,r){return Fe(s).onAuthStateChanged(t,i,r)}function Gw(s){return Fe(s).signOut()}const hh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CE{constructor(t,i){this.storageRetriever=t,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(hh,"1"),this.storage.removeItem(hh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,i){return this.storage.setItem(t,JSON.stringify(i)),Promise.resolve()}_get(t){const i=this.storage.getItem(t);return Promise.resolve(i?JSON.parse(i):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qw=1e3,Yw=10;class NE extends CE{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,i)=>this.onStorageEvent(t,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=SE(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const i of Object.keys(this.listeners)){const r=this.storage.getItem(i),l=this.localCache[i];r!==l&&t(i,l,r)}}onStorageEvent(t,i=!1){if(!t.key){this.forAllChangedKeys((d,p,_)=>{this.notifyListeners(d,_)});return}const r=t.key;i?this.detachListener():this.stopPolling();const l=()=>{const d=this.storage.getItem(r);!i&&this.localCache[r]===d||this.notifyListeners(r,d)},c=this.storage.getItem(r);Sw()&&c!==t.newValue&&t.newValue!==t.oldValue?setTimeout(l,Yw):l()}notifyListeners(t,i){this.localCache[t]=i;const r=this.listeners[t];if(r)for(const l of Array.from(r))l(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,i,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:i,newValue:r}),!0)})},Qw)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,i){await super._set(t,i),this.localCache[t]=JSON.stringify(i)}async _get(t){const i=await super._get(t);return this.localCache[t]=JSON.stringify(i),i}async _remove(t){await super._remove(t),delete this.localCache[t]}}NE.type="LOCAL";const Kw=NE;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xE extends CE{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,i){}_removeListener(t,i){}}xE.type="SESSION";const DE=xE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xw(s){return Promise.all(s.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(i){return{fulfilled:!1,reason:i}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ih{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const i=this.receivers.find(l=>l.isListeningto(t));if(i)return i;const r=new Ih(t);return this.receivers.push(r),r}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const i=t,{eventId:r,eventType:l,data:c}=i.data,d=this.handlersMap[l];if(!d?.size)return;i.ports[0].postMessage({status:"ack",eventId:r,eventType:l});const p=Array.from(d).map(async y=>y(i.origin,c)),_=await Xw(p);i.ports[0].postMessage({status:"done",eventId:r,eventType:l,response:_})}_subscribe(t,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(i)}_unsubscribe(t,i){this.handlersMap[t]&&i&&this.handlersMap[t].delete(i),(!i||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Ih.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ym(s="",t=10){let i="";for(let r=0;r<t;r++)i+=Math.floor(Math.random()*10);return s+i}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $w{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,i,r=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let c,d;return new Promise((p,_)=>{const y=Ym("",20);l.port1.start();const A=setTimeout(()=>{_(new Error("unsupported_event"))},r);d={messageChannel:l,onMessage(S){const x=S;if(x.data.eventId===y)switch(x.data.status){case"ack":clearTimeout(A),c=setTimeout(()=>{_(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),p(x.data.response);break;default:clearTimeout(A),clearTimeout(c),_(new Error("invalid_response"));break}}},this.handlers.add(d),l.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:t,eventId:y,data:i},[l.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pi(){return window}function Zw(s){Pi().location.href=s}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OE(){return typeof Pi().WorkerGlobalScope<"u"&&typeof Pi().importScripts=="function"}async function Jw(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Ww(){return navigator?.serviceWorker?.controller||null}function tR(){return OE()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ME="firebaseLocalStorageDb",eR=1,fh="firebaseLocalStorage",VE="fbase_key";class au{constructor(t){this.request=t}toPromise(){return new Promise((t,i)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function Ch(s,t){return s.transaction([fh],t?"readwrite":"readonly").objectStore(fh)}function nR(){const s=indexedDB.deleteDatabase(ME);return new au(s).toPromise()}function ym(){const s=indexedDB.open(ME,eR);return new Promise((t,i)=>{s.addEventListener("error",()=>{i(s.error)}),s.addEventListener("upgradeneeded",()=>{const r=s.result;try{r.createObjectStore(fh,{keyPath:VE})}catch(l){i(l)}}),s.addEventListener("success",async()=>{const r=s.result;r.objectStoreNames.contains(fh)?t(r):(r.close(),await nR(),t(await ym()))})})}async function Lv(s,t,i){const r=Ch(s,!0).put({[VE]:t,value:i});return new au(r).toPromise()}async function iR(s,t){const i=Ch(s,!1).get(t),r=await new au(i).toPromise();return r===void 0?null:r.value}function Pv(s,t){const i=Ch(s,!0).delete(t);return new au(i).toPromise()}const sR=800,rR=3;class UE{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await ym(),this.db)}async _withRetries(t){let i=0;for(;;)try{const r=await this._openDb();return await t(r)}catch(r){if(i++>rR)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return OE()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Ih._getInstance(tR()),this.receiver._subscribe("keyChanged",async(t,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(t,i)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await Jw(),!this.activeServiceWorker)return;this.sender=new $w(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||Ww()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await ym();return await Lv(t,hh,"1"),await Pv(t,hh),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,i){return this._withPendingWrite(async()=>(await this._withRetries(r=>Lv(r,t,i)),this.localCache[t]=i,this.notifyServiceWorker(t)))}async _get(t){const i=await this._withRetries(r=>iR(r,t));return this.localCache[t]=i,i}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(i=>Pv(i,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(l=>{const c=Ch(l,!1).getAll();return new au(c).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const i=[],r=new Set;if(t.length!==0)for(const{fbase_key:l,value:c}of t)r.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(c)&&(this.notifyListeners(l,c),i.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!r.has(l)&&(this.notifyListeners(l,null),i.push(l));return i}notifyListeners(t,i){this.localCache[t]=i;const r=this.listeners[t];if(r)for(const l of Array.from(r))l(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),sR)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}UE.type="LOCAL";const aR=UE;new su(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LE(s,t){return t?ds(t):(bt(s._popupRedirectResolver,s,"argument-error"),s._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Km extends RE{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return lo(t,this._buildIdpRequest())}_linkToIdToken(t,i){return lo(t,this._buildIdpRequest(i))}_getReauthenticationResolver(t){return lo(t,this._buildIdpRequest())}_buildIdpRequest(t){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(i.idToken=t),i}}function oR(s){return Bw(s.auth,new Km(s),s.bypassAuthState)}function lR(s){const{auth:t,user:i}=s;return bt(i,t,"internal-error"),jw(i,new Km(s),s.bypassAuthState)}async function uR(s){const{auth:t,user:i}=s;return bt(i,t,"internal-error"),zw(i,new Km(s),s.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PE{constructor(t,i,r,l,c=!1){this.auth=t,this.resolver=r,this.user=l,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(t,i)=>{this.pendingPromise={resolve:t,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(t){const{urlResponse:i,sessionId:r,postBody:l,tenantId:c,error:d,type:p}=t;if(d){this.reject(d);return}const _={auth:this.auth,requestUri:i,sessionId:r,tenantId:c||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(p)(_))}catch(y){this.reject(y)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return oR;case"linkViaPopup":case"linkViaRedirect":return uR;case"reauthViaPopup":case"reauthViaRedirect":return lR;default:qi(this.auth,"internal-error")}}resolve(t){gs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){gs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cR=new su(2e3,1e4);async function hR(s,t,i){if(ci(s.app))return Promise.reject(fi(s,"operation-not-supported-in-this-environment"));const r=Rh(s);rw(s,t,Qm);const l=LE(r,i);return new Wr(r,"signInViaPopup",t,l).executeNotNull()}class Wr extends PE{constructor(t,i,r,l,c){super(t,i,l,c),this.provider=r,this.authWindow=null,this.pollId=null,Wr.currentPopupAction&&Wr.currentPopupAction.cancel(),Wr.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return bt(t,this.auth,"internal-error"),t}async onExecution(){gs(this.filter.length===1,"Popup operations only handle one event");const t=Ym();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(fi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(fi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Wr.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(fi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,cR.get())};t()}}Wr.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fR="pendingRedirect",Zc=new Map;class dR extends PE{constructor(t,i,r=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,r),this.eventId=null}async execute(){let t=Zc.get(this.auth._key());if(!t){try{const r=await mR(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(r)}catch(i){t=()=>Promise.reject(i)}Zc.set(this.auth._key(),t)}return this.bypassAuthState||Zc.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const i=await this.auth._redirectUserForId(t.eventId);if(i)return this.user=i,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function mR(s,t){const i=yR(t),r=pR(s);if(!await r._isAvailable())return!1;const l=await r._get(i)==="true";return await r._remove(i),l}function gR(s,t){Zc.set(s._key(),t)}function pR(s){return ds(s._redirectPersistence)}function yR(s){return $c(fR,s.config.apiKey,s.name)}async function _R(s,t,i=!1){if(ci(s.app))return Promise.reject(ea(s));const r=Rh(s),l=LE(r,t),d=await new dR(r,l,i).execute();return d&&!i&&(delete d.user._redirectEventId,await r._persistUserIfCurrent(d.user),await r._setRedirectUser(null,t)),d}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vR=600*1e3;class ER{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let i=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(t,r)&&(i=!0,this.sendToConsumer(t,r),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!TR(t)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=t,i=!0)),i}sendToConsumer(t,i){if(t.error&&!kE(t)){const r=t.error.code?.split("auth/")[1]||"internal-error";i.onError(fi(this.auth,r))}else i.onAuthEvent(t)}isEventForConsumer(t,i){const r=i.eventId===null||!!t.eventId&&t.eventId===i.eventId;return i.filter.includes(t.type)&&r}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=vR&&this.cachedEventUids.clear(),this.cachedEventUids.has(kv(t))}saveEventToCache(t){this.cachedEventUids.add(kv(t)),this.lastProcessedEventTime=Date.now()}}function kv(s){return[s.type,s.eventId,s.sessionId,s.tenantId].filter(t=>t).join("-")}function kE({type:s,error:t}){return s==="unknown"&&t?.code==="auth/no-auth-event"}function TR(s){switch(s.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return kE(s);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function AR(s,t={}){return Ao(s,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SR=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,bR=/^https?/;async function wR(s){if(s.config.emulator)return;const{authorizedDomains:t}=await AR(s);for(const i of t)try{if(RR(i))return}catch{}qi(s,"unauthorized-domain")}function RR(s){const t=gm(),{protocol:i,hostname:r}=new URL(t);if(s.startsWith("chrome-extension://")){const d=new URL(s);return d.hostname===""&&r===""?i==="chrome-extension:"&&s.replace("chrome-extension://","")===t.replace("chrome-extension://",""):i==="chrome-extension:"&&d.hostname===r}if(!bR.test(i))return!1;if(SR.test(s))return r===s;const l=s.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IR=new su(3e4,6e4);function zv(){const s=Pi().___jsl;if(s?.H){for(const t of Object.keys(s.H))if(s.H[t].r=s.H[t].r||[],s.H[t].L=s.H[t].L||[],s.H[t].r=[...s.H[t].L],s.CP)for(let i=0;i<s.CP.length;i++)s.CP[i]=null}}function CR(s){return new Promise((t,i)=>{function r(){zv(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{zv(),i(fi(s,"network-request-failed"))},timeout:IR.get()})}if(Pi().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(Pi().gapi?.load)r();else{const l=Ow("iframefcb");return Pi()[l]=()=>{gapi.load?r():i(fi(s,"network-request-failed"))},xw(`${Dw()}?onload=${l}`).catch(c=>i(c))}}).catch(t=>{throw Jc=null,t})}let Jc=null;function NR(s){return Jc=Jc||CR(s),Jc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xR=new su(5e3,15e3),DR="__/auth/iframe",OR="emulator/auth/iframe",MR={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},VR=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function UR(s){const t=s.config;bt(t.authDomain,s,"auth-domain-config-required");const i=t.emulator?Bm(t,OR):`https://${s.config.authDomain}/${DR}`,r={apiKey:t.apiKey,appName:s.name,v:To},l=VR.get(s.config.apiHost);l&&(r.eid=l);const c=s._getFrameworks();return c.length&&(r.fw=c.join(",")),`${i}?${iu(r).slice(1)}`}async function LR(s){const t=await NR(s),i=Pi().gapi;return bt(i,s,"internal-error"),t.open({where:document.body,url:UR(s),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:MR,dontclear:!0},r=>new Promise(async(l,c)=>{await r.restyle({setHideOnLeave:!1});const d=fi(s,"network-request-failed"),p=Pi().setTimeout(()=>{c(d)},xR.get());function _(){Pi().clearTimeout(p),l(r)}r.ping(_).then(_,()=>{c(d)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PR={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},kR=500,zR=600,jR="_blank",BR="http://localhost";class jv{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function qR(s,t,i,r=kR,l=zR){const c=Math.max((window.screen.availHeight-l)/2,0).toString(),d=Math.max((window.screen.availWidth-r)/2,0).toString();let p="";const _={...PR,width:r.toString(),height:l.toString(),top:c,left:d},y=dn().toLowerCase();i&&(p=_E(y)?jR:i),pE(y)&&(t=t||BR,_.scrollbars="yes");const A=Object.entries(_).reduce((x,[Q,W])=>`${x}${Q}=${W},`,"");if(Aw(y)&&p!=="_self")return HR(t||"",p),new jv(null);const S=window.open(t||"",p,A);bt(S,s,"popup-blocked");try{S.focus()}catch{}return new jv(S)}function HR(s,t){const i=document.createElement("a");i.href=s,i.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FR="__/auth/handler",GR="emulator/auth/handler",QR=encodeURIComponent("fac");async function Bv(s,t,i,r,l,c){bt(s.config.authDomain,s,"auth-domain-config-required"),bt(s.config.apiKey,s,"invalid-api-key");const d={apiKey:s.config.apiKey,appName:s.name,authType:i,redirectUrl:r,v:To,eventId:l};if(t instanceof Qm){t.setDefaultLanguage(s.languageCode),d.providerId=t.providerId||"",Hb(t.getCustomParameters())||(d.customParameters=JSON.stringify(t.getCustomParameters()));for(const[A,S]of Object.entries({}))d[A]=S}if(t instanceof ru){const A=t.getScopes().filter(S=>S!=="");A.length>0&&(d.scopes=A.join(","))}s.tenantId&&(d.tid=s.tenantId);const p=d;for(const A of Object.keys(p))p[A]===void 0&&delete p[A];const _=await s._getAppCheckToken(),y=_?`#${QR}=${encodeURIComponent(_)}`:"";return`${YR(s)}?${iu(p).slice(1)}${y}`}function YR({config:s}){return s.emulator?Bm(s,GR):`https://${s.authDomain}/${FR}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nm="webStorageSupport";class KR{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=DE,this._completeRedirectFn=_R,this._overrideRedirectResult=gR}async _openPopup(t,i,r,l){gs(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const c=await Bv(t,i,r,gm(),l);return qR(t,c,Ym())}async _openRedirect(t,i,r,l){await this._originValidation(t);const c=await Bv(t,i,r,gm(),l);return Zw(c),new Promise(()=>{})}_initialize(t){const i=t._key();if(this.eventManagers[i]){const{manager:l,promise:c}=this.eventManagers[i];return l?Promise.resolve(l):(gs(c,"If manager is not set, promise should be"),c)}const r=this.initAndGetManager(t);return this.eventManagers[i]={promise:r},r.catch(()=>{delete this.eventManagers[i]}),r}async initAndGetManager(t){const i=await LR(t),r=new ER(t);return i.register("authEvent",l=>(bt(l?.authEvent,t,"invalid-auth-event"),{status:r.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=i,r}_isIframeWebStorageSupported(t,i){this.iframes[t._key()].send(nm,{type:nm},l=>{const c=l?.[0]?.[nm];c!==void 0&&i(!!c),qi(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const i=t._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=wR(t)),this.originValidationPromises[i]}get _shouldInitProactively(){return SE()||yE()||Fm()}}const XR=KR;var qv="@firebase/auth",Hv="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $R{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const i=this.auth.onIdTokenChanged(r=>{t(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,i),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const i=this.internalListeners.get(t);i&&(this.internalListeners.delete(t),i(),this.updateProactiveRefresh())}assertAuthConfigured(){bt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZR(s){switch(s){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function JR(s){co(new sa("auth",(t,{options:i})=>{const r=t.getProvider("app").getImmediate(),l=t.getProvider("heartbeat"),c=t.getProvider("app-check-internal"),{apiKey:d,authDomain:p}=r.options;bt(d&&!d.includes(":"),"invalid-api-key",{appName:r.name});const _={apiKey:d,authDomain:p,clientPlatform:s,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:bE(s)},y=new Cw(r,l,c,_);return Vw(y,i),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,i,r)=>{t.getProvider("auth-internal").initialize()})),co(new sa("auth-internal",t=>{const i=Rh(t.getProvider("auth").getImmediate());return(r=>new $R(r))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),lr(qv,Hv,ZR(s)),lr(qv,Hv,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WR=300,t2=tE("authIdTokenMaxAge")||WR;let Fv=null;const e2=s=>async t=>{const i=t&&await t.getIdTokenResult(),r=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(r&&r>t2)return;const l=i?.token;Fv!==l&&(Fv=l,await fetch(s,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function n2(s=aE()){const t=km(s,"auth");if(t.isInitialized())return t.getImmediate();const i=Mw(s,{popupRedirectResolver:XR,persistence:[aR,Kw,DE]}),r=tE("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(r,location.origin);if(location.origin===c.origin){const d=e2(c.toString());Hw(i,d,()=>d(i.currentUser)),qw(i,p=>d(p))}}const l=J0("auth");return l&&Uw(i,`http://${l}`),i}function i2(){return document.getElementsByTagName("head")?.[0]??document}Nw({loadJS(s){return new Promise((t,i)=>{const r=document.createElement("script");r.setAttribute("src",s),r.onload=t,r.onerror=l=>{const c=fi("internal-error");c.customData=l,i(c)},r.type="text/javascript",r.charset="UTF-8",i2().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});JR("Browser");var Gv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ur,zE;(function(){var s;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(N,w){function I(){}I.prototype=w.prototype,N.F=w.prototype,N.prototype=new I,N.prototype.constructor=N,N.D=function(V,D,U){for(var R=Array(arguments.length-2),Ct=2;Ct<arguments.length;Ct++)R[Ct-2]=arguments[Ct];return w.prototype[D].apply(V,R)}}function i(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(r,i),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(N,w,I){I||(I=0);const V=Array(16);if(typeof w=="string")for(var D=0;D<16;++D)V[D]=w.charCodeAt(I++)|w.charCodeAt(I++)<<8|w.charCodeAt(I++)<<16|w.charCodeAt(I++)<<24;else for(D=0;D<16;++D)V[D]=w[I++]|w[I++]<<8|w[I++]<<16|w[I++]<<24;w=N.g[0],I=N.g[1],D=N.g[2];let U=N.g[3],R;R=w+(U^I&(D^U))+V[0]+3614090360&4294967295,w=I+(R<<7&4294967295|R>>>25),R=U+(D^w&(I^D))+V[1]+3905402710&4294967295,U=w+(R<<12&4294967295|R>>>20),R=D+(I^U&(w^I))+V[2]+606105819&4294967295,D=U+(R<<17&4294967295|R>>>15),R=I+(w^D&(U^w))+V[3]+3250441966&4294967295,I=D+(R<<22&4294967295|R>>>10),R=w+(U^I&(D^U))+V[4]+4118548399&4294967295,w=I+(R<<7&4294967295|R>>>25),R=U+(D^w&(I^D))+V[5]+1200080426&4294967295,U=w+(R<<12&4294967295|R>>>20),R=D+(I^U&(w^I))+V[6]+2821735955&4294967295,D=U+(R<<17&4294967295|R>>>15),R=I+(w^D&(U^w))+V[7]+4249261313&4294967295,I=D+(R<<22&4294967295|R>>>10),R=w+(U^I&(D^U))+V[8]+1770035416&4294967295,w=I+(R<<7&4294967295|R>>>25),R=U+(D^w&(I^D))+V[9]+2336552879&4294967295,U=w+(R<<12&4294967295|R>>>20),R=D+(I^U&(w^I))+V[10]+4294925233&4294967295,D=U+(R<<17&4294967295|R>>>15),R=I+(w^D&(U^w))+V[11]+2304563134&4294967295,I=D+(R<<22&4294967295|R>>>10),R=w+(U^I&(D^U))+V[12]+1804603682&4294967295,w=I+(R<<7&4294967295|R>>>25),R=U+(D^w&(I^D))+V[13]+4254626195&4294967295,U=w+(R<<12&4294967295|R>>>20),R=D+(I^U&(w^I))+V[14]+2792965006&4294967295,D=U+(R<<17&4294967295|R>>>15),R=I+(w^D&(U^w))+V[15]+1236535329&4294967295,I=D+(R<<22&4294967295|R>>>10),R=w+(D^U&(I^D))+V[1]+4129170786&4294967295,w=I+(R<<5&4294967295|R>>>27),R=U+(I^D&(w^I))+V[6]+3225465664&4294967295,U=w+(R<<9&4294967295|R>>>23),R=D+(w^I&(U^w))+V[11]+643717713&4294967295,D=U+(R<<14&4294967295|R>>>18),R=I+(U^w&(D^U))+V[0]+3921069994&4294967295,I=D+(R<<20&4294967295|R>>>12),R=w+(D^U&(I^D))+V[5]+3593408605&4294967295,w=I+(R<<5&4294967295|R>>>27),R=U+(I^D&(w^I))+V[10]+38016083&4294967295,U=w+(R<<9&4294967295|R>>>23),R=D+(w^I&(U^w))+V[15]+3634488961&4294967295,D=U+(R<<14&4294967295|R>>>18),R=I+(U^w&(D^U))+V[4]+3889429448&4294967295,I=D+(R<<20&4294967295|R>>>12),R=w+(D^U&(I^D))+V[9]+568446438&4294967295,w=I+(R<<5&4294967295|R>>>27),R=U+(I^D&(w^I))+V[14]+3275163606&4294967295,U=w+(R<<9&4294967295|R>>>23),R=D+(w^I&(U^w))+V[3]+4107603335&4294967295,D=U+(R<<14&4294967295|R>>>18),R=I+(U^w&(D^U))+V[8]+1163531501&4294967295,I=D+(R<<20&4294967295|R>>>12),R=w+(D^U&(I^D))+V[13]+2850285829&4294967295,w=I+(R<<5&4294967295|R>>>27),R=U+(I^D&(w^I))+V[2]+4243563512&4294967295,U=w+(R<<9&4294967295|R>>>23),R=D+(w^I&(U^w))+V[7]+1735328473&4294967295,D=U+(R<<14&4294967295|R>>>18),R=I+(U^w&(D^U))+V[12]+2368359562&4294967295,I=D+(R<<20&4294967295|R>>>12),R=w+(I^D^U)+V[5]+4294588738&4294967295,w=I+(R<<4&4294967295|R>>>28),R=U+(w^I^D)+V[8]+2272392833&4294967295,U=w+(R<<11&4294967295|R>>>21),R=D+(U^w^I)+V[11]+1839030562&4294967295,D=U+(R<<16&4294967295|R>>>16),R=I+(D^U^w)+V[14]+4259657740&4294967295,I=D+(R<<23&4294967295|R>>>9),R=w+(I^D^U)+V[1]+2763975236&4294967295,w=I+(R<<4&4294967295|R>>>28),R=U+(w^I^D)+V[4]+1272893353&4294967295,U=w+(R<<11&4294967295|R>>>21),R=D+(U^w^I)+V[7]+4139469664&4294967295,D=U+(R<<16&4294967295|R>>>16),R=I+(D^U^w)+V[10]+3200236656&4294967295,I=D+(R<<23&4294967295|R>>>9),R=w+(I^D^U)+V[13]+681279174&4294967295,w=I+(R<<4&4294967295|R>>>28),R=U+(w^I^D)+V[0]+3936430074&4294967295,U=w+(R<<11&4294967295|R>>>21),R=D+(U^w^I)+V[3]+3572445317&4294967295,D=U+(R<<16&4294967295|R>>>16),R=I+(D^U^w)+V[6]+76029189&4294967295,I=D+(R<<23&4294967295|R>>>9),R=w+(I^D^U)+V[9]+3654602809&4294967295,w=I+(R<<4&4294967295|R>>>28),R=U+(w^I^D)+V[12]+3873151461&4294967295,U=w+(R<<11&4294967295|R>>>21),R=D+(U^w^I)+V[15]+530742520&4294967295,D=U+(R<<16&4294967295|R>>>16),R=I+(D^U^w)+V[2]+3299628645&4294967295,I=D+(R<<23&4294967295|R>>>9),R=w+(D^(I|~U))+V[0]+4096336452&4294967295,w=I+(R<<6&4294967295|R>>>26),R=U+(I^(w|~D))+V[7]+1126891415&4294967295,U=w+(R<<10&4294967295|R>>>22),R=D+(w^(U|~I))+V[14]+2878612391&4294967295,D=U+(R<<15&4294967295|R>>>17),R=I+(U^(D|~w))+V[5]+4237533241&4294967295,I=D+(R<<21&4294967295|R>>>11),R=w+(D^(I|~U))+V[12]+1700485571&4294967295,w=I+(R<<6&4294967295|R>>>26),R=U+(I^(w|~D))+V[3]+2399980690&4294967295,U=w+(R<<10&4294967295|R>>>22),R=D+(w^(U|~I))+V[10]+4293915773&4294967295,D=U+(R<<15&4294967295|R>>>17),R=I+(U^(D|~w))+V[1]+2240044497&4294967295,I=D+(R<<21&4294967295|R>>>11),R=w+(D^(I|~U))+V[8]+1873313359&4294967295,w=I+(R<<6&4294967295|R>>>26),R=U+(I^(w|~D))+V[15]+4264355552&4294967295,U=w+(R<<10&4294967295|R>>>22),R=D+(w^(U|~I))+V[6]+2734768916&4294967295,D=U+(R<<15&4294967295|R>>>17),R=I+(U^(D|~w))+V[13]+1309151649&4294967295,I=D+(R<<21&4294967295|R>>>11),R=w+(D^(I|~U))+V[4]+4149444226&4294967295,w=I+(R<<6&4294967295|R>>>26),R=U+(I^(w|~D))+V[11]+3174756917&4294967295,U=w+(R<<10&4294967295|R>>>22),R=D+(w^(U|~I))+V[2]+718787259&4294967295,D=U+(R<<15&4294967295|R>>>17),R=I+(U^(D|~w))+V[9]+3951481745&4294967295,N.g[0]=N.g[0]+w&4294967295,N.g[1]=N.g[1]+(D+(R<<21&4294967295|R>>>11))&4294967295,N.g[2]=N.g[2]+D&4294967295,N.g[3]=N.g[3]+U&4294967295}r.prototype.v=function(N,w){w===void 0&&(w=N.length);const I=w-this.blockSize,V=this.C;let D=this.h,U=0;for(;U<w;){if(D==0)for(;U<=I;)l(this,N,U),U+=this.blockSize;if(typeof N=="string"){for(;U<w;)if(V[D++]=N.charCodeAt(U++),D==this.blockSize){l(this,V),D=0;break}}else for(;U<w;)if(V[D++]=N[U++],D==this.blockSize){l(this,V),D=0;break}}this.h=D,this.o+=w},r.prototype.A=function(){var N=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);N[0]=128;for(var w=1;w<N.length-8;++w)N[w]=0;w=this.o*8;for(var I=N.length-8;I<N.length;++I)N[I]=w&255,w/=256;for(this.v(N),N=Array(16),w=0,I=0;I<4;++I)for(let V=0;V<32;V+=8)N[w++]=this.g[I]>>>V&255;return N};function c(N,w){var I=p;return Object.prototype.hasOwnProperty.call(I,N)?I[N]:I[N]=w(N)}function d(N,w){this.h=w;const I=[];let V=!0;for(let D=N.length-1;D>=0;D--){const U=N[D]|0;V&&U==w||(I[D]=U,V=!1)}this.g=I}var p={};function _(N){return-128<=N&&N<128?c(N,function(w){return new d([w|0],w<0?-1:0)}):new d([N|0],N<0?-1:0)}function y(N){if(isNaN(N)||!isFinite(N))return S;if(N<0)return tt(y(-N));const w=[];let I=1;for(let V=0;N>=I;V++)w[V]=N/I|0,I*=4294967296;return new d(w,0)}function A(N,w){if(N.length==0)throw Error("number format error: empty string");if(w=w||10,w<2||36<w)throw Error("radix out of range: "+w);if(N.charAt(0)=="-")return tt(A(N.substring(1),w));if(N.indexOf("-")>=0)throw Error('number format error: interior "-" character');const I=y(Math.pow(w,8));let V=S;for(let U=0;U<N.length;U+=8){var D=Math.min(8,N.length-U);const R=parseInt(N.substring(U,U+D),w);D<8?(D=y(Math.pow(w,D)),V=V.j(D).add(y(R))):(V=V.j(I),V=V.add(y(R)))}return V}var S=_(0),x=_(1),Q=_(16777216);s=d.prototype,s.m=function(){if(at(this))return-tt(this).m();let N=0,w=1;for(let I=0;I<this.g.length;I++){const V=this.i(I);N+=(V>=0?V:4294967296+V)*w,w*=4294967296}return N},s.toString=function(N){if(N=N||10,N<2||36<N)throw Error("radix out of range: "+N);if(W(this))return"0";if(at(this))return"-"+tt(this).toString(N);const w=y(Math.pow(N,6));var I=this;let V="";for(;;){const D=Yt(I,w).g;I=_t(I,D.j(w));let U=((I.g.length>0?I.g[0]:I.h)>>>0).toString(N);if(I=D,W(I))return U+V;for(;U.length<6;)U="0"+U;V=U+V}},s.i=function(N){return N<0?0:N<this.g.length?this.g[N]:this.h};function W(N){if(N.h!=0)return!1;for(let w=0;w<N.g.length;w++)if(N.g[w]!=0)return!1;return!0}function at(N){return N.h==-1}s.l=function(N){return N=_t(this,N),at(N)?-1:W(N)?0:1};function tt(N){const w=N.g.length,I=[];for(let V=0;V<w;V++)I[V]=~N.g[V];return new d(I,~N.h).add(x)}s.abs=function(){return at(this)?tt(this):this},s.add=function(N){const w=Math.max(this.g.length,N.g.length),I=[];let V=0;for(let D=0;D<=w;D++){let U=V+(this.i(D)&65535)+(N.i(D)&65535),R=(U>>>16)+(this.i(D)>>>16)+(N.i(D)>>>16);V=R>>>16,U&=65535,R&=65535,I[D]=R<<16|U}return new d(I,I[I.length-1]&-2147483648?-1:0)};function _t(N,w){return N.add(tt(w))}s.j=function(N){if(W(this)||W(N))return S;if(at(this))return at(N)?tt(this).j(tt(N)):tt(tt(this).j(N));if(at(N))return tt(this.j(tt(N)));if(this.l(Q)<0&&N.l(Q)<0)return y(this.m()*N.m());const w=this.g.length+N.g.length,I=[];for(var V=0;V<2*w;V++)I[V]=0;for(V=0;V<this.g.length;V++)for(let D=0;D<N.g.length;D++){const U=this.i(V)>>>16,R=this.i(V)&65535,Ct=N.i(D)>>>16,re=N.i(D)&65535;I[2*V+2*D]+=R*re,St(I,2*V+2*D),I[2*V+2*D+1]+=U*re,St(I,2*V+2*D+1),I[2*V+2*D+1]+=R*Ct,St(I,2*V+2*D+1),I[2*V+2*D+2]+=U*Ct,St(I,2*V+2*D+2)}for(N=0;N<w;N++)I[N]=I[2*N+1]<<16|I[2*N];for(N=w;N<2*w;N++)I[N]=0;return new d(I,0)};function St(N,w){for(;(N[w]&65535)!=N[w];)N[w+1]+=N[w]>>>16,N[w]&=65535,w++}function Et(N,w){this.g=N,this.h=w}function Yt(N,w){if(W(w))throw Error("division by zero");if(W(N))return new Et(S,S);if(at(N))return w=Yt(tt(N),w),new Et(tt(w.g),tt(w.h));if(at(w))return w=Yt(N,tt(w)),new Et(tt(w.g),w.h);if(N.g.length>30){if(at(N)||at(w))throw Error("slowDivide_ only works with positive integers.");for(var I=x,V=w;V.l(N)<=0;)I=te(I),V=te(V);var D=Ht(I,1),U=Ht(V,1);for(V=Ht(V,2),I=Ht(I,2);!W(V);){var R=U.add(V);R.l(N)<=0&&(D=D.add(I),U=R),V=Ht(V,1),I=Ht(I,1)}return w=_t(N,D.j(w)),new Et(D,w)}for(D=S;N.l(w)>=0;){for(I=Math.max(1,Math.floor(N.m()/w.m())),V=Math.ceil(Math.log(I)/Math.LN2),V=V<=48?1:Math.pow(2,V-48),U=y(I),R=U.j(w);at(R)||R.l(N)>0;)I-=V,U=y(I),R=U.j(w);W(U)&&(U=x),D=D.add(U),N=_t(N,R)}return new Et(D,N)}s.B=function(N){return Yt(this,N).h},s.and=function(N){const w=Math.max(this.g.length,N.g.length),I=[];for(let V=0;V<w;V++)I[V]=this.i(V)&N.i(V);return new d(I,this.h&N.h)},s.or=function(N){const w=Math.max(this.g.length,N.g.length),I=[];for(let V=0;V<w;V++)I[V]=this.i(V)|N.i(V);return new d(I,this.h|N.h)},s.xor=function(N){const w=Math.max(this.g.length,N.g.length),I=[];for(let V=0;V<w;V++)I[V]=this.i(V)^N.i(V);return new d(I,this.h^N.h)};function te(N){const w=N.g.length+1,I=[];for(let V=0;V<w;V++)I[V]=N.i(V)<<1|N.i(V-1)>>>31;return new d(I,N.h)}function Ht(N,w){const I=w>>5;w%=32;const V=N.g.length-I,D=[];for(let U=0;U<V;U++)D[U]=w>0?N.i(U+I)>>>w|N.i(U+I+1)<<32-w:N.i(U+I);return new d(D,N.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,zE=r,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=y,d.fromString=A,ur=d}).apply(typeof Gv<"u"?Gv:typeof self<"u"?self:typeof window<"u"?window:{});var qc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var jE,Vl,BE,Wc,_m,qE,HE,FE;(function(){var s,t=Object.defineProperty;function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof qc=="object"&&qc];for(var m=0;m<u.length;++m){var v=u[m];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var r=i(this);function l(u,m){if(m)t:{var v=r;u=u.split(".");for(var T=0;T<u.length-1;T++){var P=u[T];if(!(P in v))break t;v=v[P]}u=u[u.length-1],T=v[u],m=m(T),m!=T&&m!=null&&t(v,u,{configurable:!0,writable:!0,value:m})}}l("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),l("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),l("Object.entries",function(u){return u||function(m){var v=[],T;for(T in m)Object.prototype.hasOwnProperty.call(m,T)&&v.push([T,m[T]]);return v}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var c=c||{},d=this||self;function p(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function _(u,m,v){return u.call.apply(u.bind,arguments)}function y(u,m,v){return y=_,y.apply(null,arguments)}function A(u,m){var v=Array.prototype.slice.call(arguments,1);return function(){var T=v.slice();return T.push.apply(T,arguments),u.apply(this,T)}}function S(u,m){function v(){}v.prototype=m.prototype,u.Z=m.prototype,u.prototype=new v,u.prototype.constructor=u,u.Ob=function(T,P,q){for(var nt=Array(arguments.length-2),xt=2;xt<arguments.length;xt++)nt[xt-2]=arguments[xt];return m.prototype[P].apply(T,nt)}}var x=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function Q(u){const m=u.length;if(m>0){const v=Array(m);for(let T=0;T<m;T++)v[T]=u[T];return v}return[]}function W(u,m){for(let T=1;T<arguments.length;T++){const P=arguments[T];var v=typeof P;if(v=v!="object"?v:P?Array.isArray(P)?"array":v:"null",v=="array"||v=="object"&&typeof P.length=="number"){v=u.length||0;const q=P.length||0;u.length=v+q;for(let nt=0;nt<q;nt++)u[v+nt]=P[nt]}else u.push(P)}}class at{constructor(m,v){this.i=m,this.j=v,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function tt(u){d.setTimeout(()=>{throw u},0)}function _t(){var u=N;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class St{constructor(){this.h=this.g=null}add(m,v){const T=Et.get();T.set(m,v),this.h?this.h.next=T:this.g=T,this.h=T}}var Et=new at(()=>new Yt,u=>u.reset());class Yt{constructor(){this.next=this.g=this.h=null}set(m,v){this.h=m,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let te,Ht=!1,N=new St,w=()=>{const u=Promise.resolve(void 0);te=()=>{u.then(I)}};function I(){for(var u;u=_t();){try{u.h.call(u.g)}catch(v){tt(v)}var m=Et;m.j(u),m.h<100&&(m.h++,u.next=m.g,m.g=u)}Ht=!1}function V(){this.u=this.u,this.C=this.C}V.prototype.u=!1,V.prototype.dispose=function(){this.u||(this.u=!0,this.N())},V.prototype[Symbol.dispose]=function(){this.dispose()},V.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function D(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}D.prototype.h=function(){this.defaultPrevented=!0};var U=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const v=()=>{};d.addEventListener("test",v,m),d.removeEventListener("test",v,m)}catch{}return u})();function R(u){return/^[\s\xa0]*$/.test(u)}function Ct(u,m){D.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,m)}S(Ct,D),Ct.prototype.init=function(u,m){const v=this.type=u.type,T=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget,m||(v=="mouseover"?m=u.fromElement:v=="mouseout"&&(m=u.toElement)),this.relatedTarget=m,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&Ct.Z.h.call(this)},Ct.prototype.h=function(){Ct.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var re="closure_listenable_"+(Math.random()*1e6|0),j=0;function st(u,m,v,T,P){this.listener=u,this.proxy=null,this.src=m,this.type=v,this.capture=!!T,this.ha=P,this.key=++j,this.da=this.fa=!1}function ft(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Pt(u,m,v){for(const T in u)m.call(v,u[T],T,u)}function Xt(u,m){for(const v in u)m.call(void 0,u[v],v,u)}function M(u){const m={};for(const v in u)m[v]=u[v];return m}const K="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function J(u,m){let v,T;for(let P=1;P<arguments.length;P++){T=arguments[P];for(v in T)u[v]=T[v];for(let q=0;q<K.length;q++)v=K[q],Object.prototype.hasOwnProperty.call(T,v)&&(u[v]=T[v])}}function lt(u){this.src=u,this.g={},this.h=0}lt.prototype.add=function(u,m,v,T,P){const q=u.toString();u=this.g[q],u||(u=this.g[q]=[],this.h++);const nt=wt(u,m,T,P);return nt>-1?(m=u[nt],v||(m.fa=!1)):(m=new st(m,this.src,q,!!T,P),m.fa=v,u.push(m)),m};function pt(u,m){const v=m.type;if(v in u.g){var T=u.g[v],P=Array.prototype.indexOf.call(T,m,void 0),q;(q=P>=0)&&Array.prototype.splice.call(T,P,1),q&&(ft(m),u.g[v].length==0&&(delete u.g[v],u.h--))}}function wt(u,m,v,T){for(let P=0;P<u.length;++P){const q=u[P];if(!q.da&&q.listener==m&&q.capture==!!v&&q.ha==T)return P}return-1}var Vt="closure_lm_"+(Math.random()*1e6|0),Ae={};function ge(u,m,v,T,P){if(Array.isArray(m)){for(let q=0;q<m.length;q++)ge(u,m[q],v,T,P);return null}return v=Ss(v),u&&u[re]?u.J(m,v,p(T)?!!T.capture:!1,P):Fi(u,m,v,!1,T,P)}function Fi(u,m,v,T,P,q){if(!m)throw Error("Invalid event type");const nt=p(P)?!!P.capture:!!P;let xt=yn(u);if(xt||(u[Vt]=xt=new lt(u)),v=xt.add(m,v,T,nt,q),v.proxy)return v;if(T=Es(),v.proxy=T,T.src=u,T.listener=v,u.addEventListener)U||(P=nt),P===void 0&&(P=!1),u.addEventListener(m.toString(),T,P);else if(u.attachEvent)u.attachEvent(zn(m.toString()),T);else if(u.addListener&&u.removeListener)u.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return v}function Es(){function u(v){return m.call(u.src,u.listener,v)}const m=Tr;return u}function Ts(u,m,v,T,P){if(Array.isArray(m))for(var q=0;q<m.length;q++)Ts(u,m[q],v,T,P);else T=p(T)?!!T.capture:!!T,v=Ss(v),u&&u[re]?(u=u.i,q=String(m).toString(),q in u.g&&(m=u.g[q],v=wt(m,v,T,P),v>-1&&(ft(m[v]),Array.prototype.splice.call(m,v,1),m.length==0&&(delete u.g[q],u.h--)))):u&&(u=yn(u))&&(m=u.g[m.toString()],u=-1,m&&(u=wt(m,v,T,P)),(v=u>-1?m[u]:null)&&Gi(v))}function Gi(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[re])pt(m.i,u);else{var v=u.type,T=u.proxy;m.removeEventListener?m.removeEventListener(v,T,u.capture):m.detachEvent?m.detachEvent(zn(v),T):m.addListener&&m.removeListener&&m.removeListener(T),(v=yn(m))?(pt(v,u),v.h==0&&(v.src=null,m[Vt]=null)):ft(u)}}}function zn(u){return u in Ae?Ae[u]:Ae[u]="on"+u}function Tr(u,m){if(u.da)u=!0;else{m=new Ct(m,this);const v=u.listener,T=u.ha||u.src;u.fa&&Gi(u),u=v.call(T,m)}return u}function yn(u){return u=u[Vt],u instanceof lt?u:null}var As="__closure_events_fn_"+(Math.random()*1e9>>>0);function Ss(u){return typeof u=="function"?u:(u[As]||(u[As]=function(m){return u.handleEvent(m)}),u[As])}function we(){V.call(this),this.i=new lt(this),this.M=this,this.G=null}S(we,V),we.prototype[re]=!0,we.prototype.removeEventListener=function(u,m,v,T){Ts(this,u,m,v,T)};function Ce(u,m){var v,T=u.G;if(T)for(v=[];T;T=T.G)v.push(T);if(u=u.M,T=m.type||m,typeof m=="string")m=new D(m,u);else if(m instanceof D)m.target=m.target||u;else{var P=m;m=new D(T,u),J(m,P)}P=!0;let q,nt;if(v)for(nt=v.length-1;nt>=0;nt--)q=m.g=v[nt],P=mi(q,T,!0,m)&&P;if(q=m.g=u,P=mi(q,T,!0,m)&&P,P=mi(q,T,!1,m)&&P,v)for(nt=0;nt<v.length;nt++)q=m.g=v[nt],P=mi(q,T,!1,m)&&P}we.prototype.N=function(){if(we.Z.N.call(this),this.i){var u=this.i;for(const m in u.g){const v=u.g[m];for(let T=0;T<v.length;T++)ft(v[T]);delete u.g[m],u.h--}}this.G=null},we.prototype.J=function(u,m,v,T){return this.i.add(String(u),m,!1,v,T)},we.prototype.K=function(u,m,v,T){return this.i.add(String(u),m,!0,v,T)};function mi(u,m,v,T){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();let P=!0;for(let q=0;q<m.length;++q){const nt=m[q];if(nt&&!nt.da&&nt.capture==v){const xt=nt.listener,xe=nt.ha||nt.src;nt.fa&&pt(u.i,nt),P=xt.call(xe,T)!==!1&&P}}return P&&!T.defaultPrevented}function ca(u,m){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=y(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(u,m||0)}function ha(u){u.g=ca(()=>{u.g=null,u.i&&(u.i=!1,ha(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class Ye extends V{constructor(m,v){super(),this.m=m,this.l=v,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:ha(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function gi(u){V.call(this),this.h=u,this.g={}}S(gi,V);var Ar=[];function Sr(u){Pt(u.g,function(m,v){this.g.hasOwnProperty(v)&&Gi(m)},u),u.g={}}gi.prototype.N=function(){gi.Z.N.call(this),Sr(this)},gi.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var pi=d.JSON.stringify,Co=d.JSON.parse,fa=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function da(){}function F(){}var it={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function et(){D.call(this,"d")}S(et,D);function ot(){D.call(this,"c")}S(ot,D);var dt={},Kt=null;function Mt(){return Kt=Kt||new we}dt.Ia="serverreachability";function Nt(u){D.call(this,dt.Ia,u)}S(Nt,D);function Tt(u){const m=Mt();Ce(m,new Nt(m))}dt.STAT_EVENT="statevent";function pe(u,m){D.call(this,dt.STAT_EVENT,u),this.stat=m}S(pe,D);function fe(u){const m=Mt();Ce(m,new pe(m,u))}dt.Ja="timingevent";function Ne(u,m){D.call(this,dt.Ja,u),this.size=m}S(Ne,D);function yi(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},m)}function Jn(){this.g=!0}Jn.prototype.ua=function(){this.g=!1};function Qh(u,m,v,T,P,q){u.info(function(){if(u.g)if(q){var nt="",xt=q.split("&");for(let Jt=0;Jt<xt.length;Jt++){var xe=xt[Jt].split("=");if(xe.length>1){const Ee=xe[0];xe=xe[1];const Hn=Ee.split("_");nt=Hn.length>=2&&Hn[1]=="type"?nt+(Ee+"="+xe+"&"):nt+(Ee+"=redacted&")}}}else nt=null;else nt=q;return"XMLHTTP REQ ("+T+") [attempt "+P+"]: "+m+`
`+v+`
`+nt})}function _u(u,m,v,T,P,q,nt){u.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+P+"]: "+m+`
`+v+`
`+q+" "+nt})}function _i(u,m,v,T){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+Yh(u,v)+(T?" "+T:"")})}function br(u,m){u.info(function(){return"TIMEOUT: "+m})}Jn.prototype.info=function(){};function Yh(u,m){if(!u.g)return m;if(!m)return null;try{const q=JSON.parse(m);if(q){for(u=0;u<q.length;u++)if(Array.isArray(q[u])){var v=q[u];if(!(v.length<2)){var T=v[1];if(Array.isArray(T)&&!(T.length<1)){var P=T[0];if(P!="noop"&&P!="stop"&&P!="close")for(let nt=1;nt<T.length;nt++)T[nt]=""}}}}return pi(q)}catch{return m}}var wr={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},No={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},xo;function Rr(){}S(Rr,da),Rr.prototype.g=function(){return new XMLHttpRequest},xo=new Rr;function Qi(u){return encodeURIComponent(String(u))}function vu(u){var m=1;u=u.split(":");const v=[];for(;m>0&&u.length;)v.push(u.shift()),m--;return u.length&&v.push(u.join(":")),v}function Wn(u,m,v,T){this.j=u,this.i=m,this.l=v,this.S=T||1,this.V=new gi(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new ti}function ti(){this.i=null,this.g="",this.h=!1}var Ve={},Ke={};function vi(u,m,v){u.M=1,u.A=Ir(Le(m)),u.u=v,u.R=!0,ma(u,null)}function ma(u,m){u.F=Date.now(),Ei(u),u.B=Le(u.A);var v=u.B,T=u.S;Array.isArray(T)||(T=[String(T)]),_a(v.i,"t",T),u.C=0,v=u.j.L,u.h=new ti,u.g=Vu(u.j,v?m:null,!u.u),u.P>0&&(u.O=new Ye(y(u.Y,u,u.g),u.P)),m=u.V,v=u.g,T=u.ba;var P="readystatechange";Array.isArray(P)||(P&&(Ar[0]=P.toString()),P=Ar);for(let q=0;q<P.length;q++){const nt=ge(v,P[q],T||m.handleEvent,!1,m.h||m);if(!nt)break;m.g[nt.key]=nt}m=u.J?M(u.J):{},u.u?(u.v||(u.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,m)):(u.v="GET",u.g.ea(u.B,u.v,null,m)),Tt(),Qh(u.i,u.v,u.B,u.l,u.S,u.u)}Wn.prototype.ba=function(u){u=u.target;const m=this.O;m&&ii(u)==3?m.j():this.Y(u)},Wn.prototype.Y=function(u){try{if(u==this.g)t:{const xt=ii(this.g),xe=this.g.ya(),Jt=this.g.ca();if(!(xt<3)&&(xt!=3||this.g&&(this.h.h||this.g.la()||We(this.g)))){this.K||xt!=4||xe==7||(xe==8||Jt<=0?Tt(3):Tt(2)),Ti(this);var m=this.g.ca();this.X=m;var v=Kh(this);if(this.o=m==200,_u(this.i,this.v,this.B,this.l,this.S,xt,m),this.o){if(this.U&&!this.L){e:{if(this.g){var T,P=this.g;if((T=P.g?P.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!R(T)){var q=T;break e}}q=null}if(u=q)_i(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Ai(this,u);else{this.o=!1,this.m=3,fe(12),In(this),jn(this);break t}}if(this.R){u=!0;let Ee;for(;!this.K&&this.C<v.length;)if(Ee=Tu(this,v),Ee==Ke){xt==4&&(this.m=4,fe(14),u=!1),_i(this.i,this.l,null,"[Incomplete Response]");break}else if(Ee==Ve){this.m=4,fe(15),_i(this.i,this.l,v,"[Invalid Chunk]"),u=!1;break}else _i(this.i,this.l,Ee,null),Ai(this,Ee);if(Eu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),xt!=4||v.length!=0||this.h.h||(this.m=1,fe(16),u=!1),this.o=this.o&&u,!u)_i(this.i,this.l,v,"[Invalid Chunked Response]"),In(this),jn(this);else if(v.length>0&&!this.W){this.W=!0;var nt=this.j;nt.g==this&&nt.aa&&!nt.P&&(nt.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),Go(nt),nt.P=!0,fe(11))}}else _i(this.i,this.l,v,null),Ai(this,v);xt==4&&In(this),this.o&&!this.K&&(xt==4?xu(this.j,this):(this.o=!1,Ei(this)))}else Ki(this.g),m==400&&v.indexOf("Unknown SID")>0?(this.m=3,fe(12)):(this.m=0,fe(13)),In(this),jn(this)}}}catch{}finally{}};function Kh(u){if(!Eu(u))return u.g.la();const m=We(u.g);if(m==="")return"";let v="";const T=m.length,P=ii(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return In(u),jn(u),"";u.h.i=new d.TextDecoder}for(let q=0;q<T;q++)u.h.h=!0,v+=u.h.i.decode(m[q],{stream:!(P&&q==T-1)});return m.length=0,u.h.g+=v,u.C=0,u.h.g}function Eu(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function Tu(u,m){var v=u.C,T=m.indexOf(`
`,v);return T==-1?Ke:(v=Number(m.substring(v,T)),isNaN(v)?Ve:(T+=1,T+v>m.length?Ke:(m=m.slice(T,T+v),u.C=T+v,m)))}Wn.prototype.cancel=function(){this.K=!0,In(this)};function Ei(u){u.T=Date.now()+u.H,ga(u,u.H)}function ga(u,m){if(u.D!=null)throw Error("WatchDog timer not null");u.D=yi(y(u.aa,u),m)}function Ti(u){u.D&&(d.clearTimeout(u.D),u.D=null)}Wn.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(br(this.i,this.B),this.M!=2&&(Tt(),fe(17)),In(this),this.m=2,jn(this)):ga(this,this.T-u)};function jn(u){u.j.I==0||u.K||xu(u.j,u)}function In(u){Ti(u);var m=u.O;m&&typeof m.dispose=="function"&&m.dispose(),u.O=null,Sr(u.V),u.g&&(m=u.g,u.g=null,m.abort(),m.dispose())}function Ai(u,m){try{var v=u.j;if(v.I!=0&&(v.g==u||bi(v.h,u))){if(!u.L&&bi(v.h,u)&&v.I==3){try{var T=v.Ba.g.parse(m)}catch{T=null}if(Array.isArray(T)&&T.length==3){var P=T;if(P[0]==0){t:if(!v.v){if(v.g)if(v.g.F+3e3<u.F)Sa(v),Ds(v);else break t;Vr(v),fe(18)}}else v.xa=P[1],0<v.xa-v.K&&P[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=yi(y(v.Va,v),6e3));Si(v.h)<=1&&v.ta&&(v.ta=void 0)}else xi(v,11)}else if((u.L||v.g==u)&&Sa(v),!R(m))for(P=v.Ba.g.parse(m),m=0;m<P.length;m++){let Jt=P[m];const Ee=Jt[0];if(!(Ee<=v.K))if(v.K=Ee,Jt=Jt[1],v.I==2)if(Jt[0]=="c"){v.M=Jt[1],v.ba=Jt[2];const Hn=Jt[3];Hn!=null&&(v.ka=Hn,v.j.info("VER="+v.ka));const Di=Jt[4];Di!=null&&(v.za=Di,v.j.info("SVER="+v.za));const si=Jt[5];si!=null&&typeof si=="number"&&si>0&&(T=1.5*si,v.O=T,v.j.info("backChannelRequestTimeoutMs_="+T)),T=v;const ri=u.g;if(ri){const Ur=ri.g?ri.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ur){var q=T.h;q.g||Ur.indexOf("spdy")==-1&&Ur.indexOf("quic")==-1&&Ur.indexOf("h2")==-1||(q.j=q.l,q.g=new Set,q.h&&(Mo(q,q.h),q.h=null))}if(T.G){const ba=ri.g?ri.g.getResponseHeader("X-HTTP-Session-Id"):null;ba&&(T.wa=ba,ne(T.J,T.G,ba))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-u.F,v.j.info("Handshake RTT: "+v.T+"ms")),T=v;var nt=u;if(T.na=Mu(T,T.L?T.ba:null,T.W),nt.L){Vo(T.h,nt);var xt=nt,xe=T.O;xe&&(xt.H=xe),xt.D&&(Ti(xt),Ei(xt)),T.g=nt}else Cu(T);v.i.length>0&&Ni(v)}else Jt[0]!="stop"&&Jt[0]!="close"||xi(v,7);else v.I==3&&(Jt[0]=="stop"||Jt[0]=="close"?Jt[0]=="stop"?xi(v,7):Ho(v):Jt[0]!="noop"&&v.l&&v.l.qa(Jt),v.A=0)}}Tt(4)}catch{}}var Ue=class{constructor(u,m){this.g=u,this.map=m}};function Do(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Oo(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function Si(u){return u.h?1:u.g?u.g.size:0}function bi(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function Mo(u,m){u.g?u.g.add(m):u.h=m}function Vo(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}Do.prototype.cancel=function(){if(this.i=Uo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Uo(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const v of u.g.values())m=m.concat(v.G);return m}return Q(u.i)}var Au=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function pa(u,m){if(u){u=u.split("&");for(let v=0;v<u.length;v++){const T=u[v].indexOf("=");let P,q=null;T>=0?(P=u[v].substring(0,T),q=u[v].substring(T+1)):P=u[v],m(P,q?decodeURIComponent(q.replace(/\+/g," ")):"")}}}function Cn(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;u instanceof Cn?(this.l=u.l,Xe(this,u.j),this.o=u.o,this.g=u.g,bs(this,u.u),this.h=u.h,Lo(this,Ru(u.i)),this.m=u.m):u&&(m=String(u).match(Au))?(this.l=!1,Xe(this,m[1]||"",!0),this.o=wi(m[2]||""),this.g=wi(m[3]||"",!0),bs(this,m[4]),this.h=wi(m[5]||"",!0),Lo(this,m[6]||"",!0),this.m=wi(m[7]||"")):(this.l=!1,this.i=new Rs(null,this.l))}Cn.prototype.toString=function(){const u=[];var m=this.j;m&&u.push(Cr(m,ya,!0),":");var v=this.g;return(v||m=="file")&&(u.push("//"),(m=this.o)&&u.push(Cr(m,ya,!0),"@"),u.push(Qi(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&u.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&u.push("/"),u.push(Cr(v,v.charAt(0)=="/"?Po:Su,!0))),(v=this.i.toString())&&u.push("?",v),(v=this.m)&&u.push("#",Cr(v,bu)),u.join("")},Cn.prototype.resolve=function(u){const m=Le(this);let v=!!u.j;v?Xe(m,u.j):v=!!u.o,v?m.o=u.o:v=!!u.g,v?m.g=u.g:v=u.u!=null;var T=u.h;if(v)bs(m,u.u);else if(v=!!u.h){if(T.charAt(0)!="/")if(this.g&&!this.h)T="/"+T;else{var P=m.h.lastIndexOf("/");P!=-1&&(T=m.h.slice(0,P+1)+T)}if(P=T,P==".."||P==".")T="";else if(P.indexOf("./")!=-1||P.indexOf("/.")!=-1){T=P.lastIndexOf("/",0)==0,P=P.split("/");const q=[];for(let nt=0;nt<P.length;){const xt=P[nt++];xt=="."?T&&nt==P.length&&q.push(""):xt==".."?((q.length>1||q.length==1&&q[0]!="")&&q.pop(),T&&nt==P.length&&q.push("")):(q.push(xt),T=!0)}T=q.join("/")}else T=P}return v?m.h=T:v=u.i.toString()!=="",v?Lo(m,Ru(u.i)):v=!!u.m,v&&(m.m=u.m),m};function Le(u){return new Cn(u)}function Xe(u,m,v){u.j=v?wi(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function bs(u,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);u.u=m}else u.u=null}function Lo(u,m,v){m instanceof Rs?(u.i=m,va(u.i,u.l)):(v||(m=Cr(m,ws)),u.i=new Rs(m,u.l))}function ne(u,m,v){u.i.set(m,v)}function Ir(u){return ne(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function wi(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Cr(u,m,v){return typeof u=="string"?(u=encodeURI(u).replace(m,_n),v&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function _n(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var ya=/[#\/\?@]/g,Su=/[#\?:]/g,Po=/[#\?]/g,ws=/[#\?@]/g,bu=/#/g;function Rs(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function vn(u){u.g||(u.g=new Map,u.h=0,u.i&&pa(u.i,function(m,v){u.add(decodeURIComponent(m.replace(/\+/g," ")),v)}))}s=Rs.prototype,s.add=function(u,m){vn(this),this.i=null,u=Is(this,u);let v=this.g.get(u);return v||this.g.set(u,v=[]),v.push(m),this.h+=1,this};function wu(u,m){vn(u),m=Is(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function ko(u,m){return vn(u),m=Is(u,m),u.g.has(m)}s.forEach=function(u,m){vn(this),this.g.forEach(function(v,T){v.forEach(function(P){u.call(m,P,T,this)},this)},this)};function zo(u,m){vn(u);let v=[];if(typeof m=="string")ko(u,m)&&(v=v.concat(u.g.get(Is(u,m))));else for(u=Array.from(u.g.values()),m=0;m<u.length;m++)v=v.concat(u[m]);return v}s.set=function(u,m){return vn(this),this.i=null,u=Is(this,u),ko(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},s.get=function(u,m){return u?(u=zo(this,u),u.length>0?String(u[0]):m):m};function _a(u,m,v){wu(u,m),v.length>0&&(u.i=null,u.g.set(Is(u,m),Q(v)),u.h+=v.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(let T=0;T<m.length;T++){var v=m[T];const P=Qi(v);v=zo(this,v);for(let q=0;q<v.length;q++){let nt=P;v[q]!==""&&(nt+="="+Qi(v[q])),u.push(nt)}}return this.i=u.join("&")};function Ru(u){const m=new Rs;return m.i=u.i,u.g&&(m.g=new Map(u.g),m.h=u.h),m}function Is(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function va(u,m){m&&!u.j&&(vn(u),u.i=null,u.g.forEach(function(v,T){const P=T.toLowerCase();T!=P&&(wu(this,T),_a(this,P,v))},u)),u.j=m}function ei(u,m){const v=new Jn;if(d.Image){const T=new Image;T.onload=A(Bn,v,"TestLoadImage: loaded",!0,m,T),T.onerror=A(Bn,v,"TestLoadImage: error",!1,m,T),T.onabort=A(Bn,v,"TestLoadImage: abort",!1,m,T),T.ontimeout=A(Bn,v,"TestLoadImage: timeout",!1,m,T),d.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=u}else m(!1)}function jo(u,m){const v=new Jn,T=new AbortController,P=setTimeout(()=>{T.abort(),Bn(v,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:T.signal}).then(q=>{clearTimeout(P),q.ok?Bn(v,"TestPingServer: ok",!0,m):Bn(v,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(P),Bn(v,"TestPingServer: error",!1,m)})}function Bn(u,m,v,T,P){try{P&&(P.onload=null,P.onerror=null,P.onabort=null,P.ontimeout=null),T(v)}catch{}}function Cs(){this.g=new fa}function Ri(u){this.i=u.Sb||null,this.h=u.ab||!1}S(Ri,da),Ri.prototype.g=function(){return new Nr(this.i,this.h)};function Nr(u,m){we.call(this),this.H=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}S(Nr,we),s=Nr.prototype,s.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=m,this.readyState=1,ni(this)},s.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(m.body=u),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Ns(this)),this.readyState=0},s.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,ni(this)),this.g&&(this.readyState=3,ni(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Ea(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function Ea(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}s.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?Ns(this):ni(this),this.readyState==3&&Ea(this)}},s.Oa=function(u){this.g&&(this.response=this.responseText=u,Ns(this))},s.Na=function(u){this.g&&(this.response=u,Ns(this))},s.ga=function(){this.g&&Ns(this)};function Ns(u){u.readyState=4,u.l=null,u.j=null,u.B=null,ni(u)}s.setRequestHeader=function(u,m){this.A.append(u,m)},s.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var v=m.next();!v.done;)v=v.value,u.push(v[0]+": "+v[1]),v=m.next();return u.join(`\r
`)};function ni(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Nr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function qn(u){let m="";return Pt(u,function(v,T){m+=T,m+=":",m+=v,m+=`\r
`}),m}function xr(u,m,v){t:{for(T in v){var T=!1;break t}T=!0}T||(v=qn(v),typeof u=="string"?v!=null&&Qi(v):ne(u,m,v))}function ae(u){we.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}S(ae,we);var Ii=/^https?$/i,Bo=["POST","PUT"];s=ae.prototype,s.Fa=function(u){this.H=u},s.ea=function(u,m,v,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():xo.g(),this.g.onreadystatechange=x(y(this.Ca,this));try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(q){Dr(this,q);return}if(u=v||"",v=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var P in T)v.set(P,T[P]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const q of T.keys())v.set(q,T.get(q));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(v.keys()).find(q=>q.toLowerCase()=="content-type"),P=d.FormData&&u instanceof d.FormData,!(Array.prototype.indexOf.call(Bo,m,void 0)>=0)||T||P||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[q,nt]of v)this.g.setRequestHeader(q,nt);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(q){Dr(this,q)}};function Dr(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.o=5,qo(u),Yi(u)}function qo(u){u.A||(u.A=!0,Ce(u,"complete"),Ce(u,"error"))}s.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,Ce(this,"complete"),Ce(this,"abort"),Yi(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Yi(this,!0)),ae.Z.N.call(this)},s.Ca=function(){this.u||(this.B||this.v||this.j?Or(this):this.Xa())},s.Xa=function(){Or(this)};function Or(u){if(u.h&&typeof c<"u"){if(u.v&&ii(u)==4)setTimeout(u.Ca.bind(u),0);else if(Ce(u,"readystatechange"),ii(u)==4){u.h=!1;try{const q=u.ca();t:switch(q){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var v;if(!(v=m)){var T;if(T=q===0){let nt=String(u.D).match(Au)[1]||null;!nt&&d.self&&d.self.location&&(nt=d.self.location.protocol.slice(0,-1)),T=!Ii.test(nt?nt.toLowerCase():"")}v=T}if(v)Ce(u,"complete"),Ce(u,"success");else{u.o=6;try{var P=ii(u)>2?u.g.statusText:""}catch{P=""}u.l=P+" ["+u.ca()+"]",qo(u)}}finally{Yi(u)}}}}function Yi(u,m){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const v=u.g;u.g=null,m||Ce(u,"ready");try{v.onreadystatechange=null}catch{}}}s.isActive=function(){return!!this.g};function ii(u){return u.g?u.g.readyState:0}s.ca=function(){try{return ii(this)>2?this.g.status:-1}catch{return-1}},s.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.La=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),Co(m)}};function We(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Ki(u){const m={};u=(u.g&&ii(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<u.length;T++){if(R(u[T]))continue;var v=vu(u[T]);const P=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const q=m[P]||[];m[P]=q,q.push(v)}Xt(m,function(T){return T.join(", ")})}s.ya=function(){return this.o},s.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ci(u,m,v){return v&&v.internalChannelParams&&v.internalChannelParams[u]||m}function xs(u){this.za=0,this.i=[],this.j=new Jn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Ci("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Ci("baseRetryDelayMs",5e3,u),this.Za=Ci("retryDelaySeedMs",1e4,u),this.Ta=Ci("forwardChannelMaxRetries",2,u),this.va=Ci("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new Do(u&&u.concurrentRequestLimit),this.Ba=new Cs,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}s=xs.prototype,s.ka=8,s.I=1,s.connect=function(u,m,v,T){fe(0),this.W=u,this.H=m||{},v&&T!==void 0&&(this.H.OSID=v,this.H.OAID=T),this.F=this.X,this.J=Mu(this,null,this.W),Ni(this)};function Ho(u){if(Ta(u),u.I==3){var m=u.V++,v=Le(u.J);if(ne(v,"SID",u.M),ne(v,"RID",m),ne(v,"TYPE","terminate"),Mr(u,v),m=new Wn(u,u.j,m),m.M=2,m.A=Ir(Le(v)),v=!1,d.navigator&&d.navigator.sendBeacon)try{v=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!v&&d.Image&&(new Image().src=m.A,v=!0),v||(m.g=Vu(m.j,null),m.g.ea(m.A)),m.F=Date.now(),Ei(m)}Ou(u)}function Ds(u){u.g&&(Go(u),u.g.cancel(),u.g=null)}function Ta(u){Ds(u),u.v&&(d.clearTimeout(u.v),u.v=null),Sa(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&d.clearTimeout(u.m),u.m=null)}function Ni(u){if(!Oo(u.h)&&!u.m){u.m=!0;var m=u.Ea;te||w(),Ht||(te(),Ht=!0),N.add(m,u),u.D=0}}function Aa(u,m){return Si(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=m.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=yi(y(u.Ea,u,m),Du(u,u.D)),u.D++,!0)}s.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const P=new Wn(this,this.j,u);let q=this.o;if(this.U&&(q?(q=M(q),J(q,this.U)):q=this.U),this.u!==null||this.R||(P.J=q,q=null),this.S)t:{for(var m=0,v=0;v<this.i.length;v++){e:{var T=this.i[v];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break e}T=void 0}if(T===void 0)break;if(m+=T,m>4096){m=v;break t}if(m===4096||v===this.i.length-1){m=v+1;break t}}m=1e3}else m=1e3;m=Iu(this,P,m),v=Le(this.J),ne(v,"RID",u),ne(v,"CVER",22),this.G&&ne(v,"X-HTTP-Session-Id",this.G),Mr(this,v),q&&(this.R?m="headers="+Qi(qn(q))+"&"+m:this.u&&xr(v,this.u,q)),Mo(this.h,P),this.Ra&&ne(v,"TYPE","init"),this.S?(ne(v,"$req",m),ne(v,"SID","null"),P.U=!0,vi(P,v,null)):vi(P,v,m),this.I=2}}else this.I==3&&(u?Fo(this,u):this.i.length==0||Oo(this.h)||Fo(this))};function Fo(u,m){var v;m?v=m.l:v=u.V++;const T=Le(u.J);ne(T,"SID",u.M),ne(T,"RID",v),ne(T,"AID",u.K),Mr(u,T),u.u&&u.o&&xr(T,u.u,u.o),v=new Wn(u,u.j,v,u.D+1),u.u===null&&(v.J=u.o),m&&(u.i=m.G.concat(u.i)),m=Iu(u,v,1e3),v.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),Mo(u.h,v),vi(v,T,m)}function Mr(u,m){u.H&&Pt(u.H,function(v,T){ne(m,T,v)}),u.l&&Pt({},function(v,T){ne(m,T,v)})}function Iu(u,m,v){v=Math.min(u.i.length,v);const T=u.l?y(u.l.Ka,u.l,u):null;t:{var P=u.i;let xt=-1;for(;;){const xe=["count="+v];xt==-1?v>0?(xt=P[0].g,xe.push("ofs="+xt)):xt=0:xe.push("ofs="+xt);let Jt=!0;for(let Ee=0;Ee<v;Ee++){var q=P[Ee].g;const Hn=P[Ee].map;if(q-=xt,q<0)xt=Math.max(0,P[Ee].g-100),Jt=!1;else try{q="req"+q+"_"||"";try{var nt=Hn instanceof Map?Hn:Object.entries(Hn);for(const[Di,si]of nt){let ri=si;p(si)&&(ri=pi(si)),xe.push(q+Di+"="+encodeURIComponent(ri))}}catch(Di){throw xe.push(q+"type="+encodeURIComponent("_badmap")),Di}}catch{T&&T(Hn)}}if(Jt){nt=xe.join("&");break t}}nt=void 0}return u=u.i.splice(0,v),m.G=u,nt}function Cu(u){if(!u.g&&!u.v){u.Y=1;var m=u.Da;te||w(),Ht||(te(),Ht=!0),N.add(m,u),u.A=0}}function Vr(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=yi(y(u.Da,u),Du(u,u.A)),u.A++,!0)}s.Da=function(){if(this.v=null,Nu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=yi(y(this.Wa,this),u)}},s.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,fe(10),Ds(this),Nu(this))};function Go(u){u.B!=null&&(d.clearTimeout(u.B),u.B=null)}function Nu(u){u.g=new Wn(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var m=Le(u.na);ne(m,"RID","rpc"),ne(m,"SID",u.M),ne(m,"AID",u.K),ne(m,"CI",u.F?"0":"1"),!u.F&&u.ia&&ne(m,"TO",u.ia),ne(m,"TYPE","xmlhttp"),Mr(u,m),u.u&&u.o&&xr(m,u.u,u.o),u.O&&(u.g.H=u.O);var v=u.g;u=u.ba,v.M=1,v.A=Ir(Le(m)),v.u=null,v.R=!0,ma(v,u)}s.Va=function(){this.C!=null&&(this.C=null,Ds(this),Vr(this),fe(19))};function Sa(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function xu(u,m){var v=null;if(u.g==m){Sa(u),Go(u),u.g=null;var T=2}else if(bi(u.h,m))v=m.G,Vo(u.h,m),T=1;else return;if(u.I!=0){if(m.o)if(T==1){v=m.u?m.u.length:0,m=Date.now()-m.F;var P=u.D;T=Mt(),Ce(T,new Ne(T,v)),Ni(u)}else Cu(u);else if(P=m.m,P==3||P==0&&m.X>0||!(T==1&&Aa(u,m)||T==2&&Vr(u)))switch(v&&v.length>0&&(m=u.h,m.i=m.i.concat(v)),P){case 1:xi(u,5);break;case 4:xi(u,10);break;case 3:xi(u,6);break;default:xi(u,2)}}}function Du(u,m){let v=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(v*=2),v*m}function xi(u,m){if(u.j.info("Error code "+m),m==2){var v=y(u.bb,u),T=u.Ua;const P=!T;T=new Cn(T||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Xe(T,"https"),Ir(T),P?ei(T.toString(),v):jo(T.toString(),v)}else fe(2);u.I=0,u.l&&u.l.pa(m),Ou(u),Ta(u)}s.bb=function(u){u?(this.j.info("Successfully pinged google.com"),fe(2)):(this.j.info("Failed to ping google.com"),fe(1))};function Ou(u){if(u.I=0,u.ja=[],u.l){const m=Uo(u.h);(m.length!=0||u.i.length!=0)&&(W(u.ja,m),W(u.ja,u.i),u.h.i.length=0,Q(u.i),u.i.length=0),u.l.oa()}}function Mu(u,m,v){var T=v instanceof Cn?Le(v):new Cn(v);if(T.g!="")m&&(T.g=m+"."+T.g),bs(T,T.u);else{var P=d.location;T=P.protocol,m=m?m+"."+P.hostname:P.hostname,P=+P.port;const q=new Cn(null);T&&Xe(q,T),m&&(q.g=m),P&&bs(q,P),v&&(q.h=v),T=q}return v=u.G,m=u.wa,v&&m&&ne(T,v,m),ne(T,"VER",u.ka),Mr(u,T),T}function Vu(u,m,v){if(m&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Aa&&!u.ma?new ae(new Ri({ab:v})):new ae(u.ma),m.Fa(u.L),m}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function Uu(){}s=Uu.prototype,s.ra=function(){},s.qa=function(){},s.pa=function(){},s.oa=function(){},s.isActive=function(){return!0},s.Ka=function(){};function Os(){}Os.prototype.g=function(u,m){return new mn(u,m)};function mn(u,m){we.call(this),this.g=new xs(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(u?u["X-WebChannel-Client-Profile"]=m.sa:u={"X-WebChannel-Client-Profile":m.sa}),this.g.U=u,(u=m&&m.Qb)&&!R(u)&&(this.g.u=u),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!R(m)&&(this.g.G=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new Xi(this)}S(mn,we),mn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},mn.prototype.close=function(){Ho(this.g)},mn.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var v={};v.__data__=u,u=v}else this.v&&(v={},v.__data__=pi(u),u=v);m.i.push(new Ue(m.Ya++,u)),m.I==3&&Ni(m)},mn.prototype.N=function(){this.g.l=null,delete this.j,Ho(this.g),delete this.g,mn.Z.N.call(this)};function Lu(u){et.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){t:{for(const v in m){u=v;break t}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}S(Lu,et);function Pu(){ot.call(this),this.status=1}S(Pu,ot);function Xi(u){this.g=u}S(Xi,Uu),Xi.prototype.ra=function(){Ce(this.g,"a")},Xi.prototype.qa=function(u){Ce(this.g,new Lu(u))},Xi.prototype.pa=function(u){Ce(this.g,new Pu)},Xi.prototype.oa=function(){Ce(this.g,"b")},Os.prototype.createWebChannel=Os.prototype.g,mn.prototype.send=mn.prototype.o,mn.prototype.open=mn.prototype.m,mn.prototype.close=mn.prototype.close,FE=function(){return new Os},HE=function(){return Mt()},qE=dt,_m={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},wr.NO_ERROR=0,wr.TIMEOUT=8,wr.HTTP_ERROR=6,Wc=wr,No.COMPLETE="complete",BE=No,F.EventType=it,it.OPEN="a",it.CLOSE="b",it.ERROR="c",it.MESSAGE="d",we.prototype.listen=we.prototype.J,Vl=F,ae.prototype.listenOnce=ae.prototype.K,ae.prototype.getLastError=ae.prototype.Ha,ae.prototype.getLastErrorCode=ae.prototype.ya,ae.prototype.getStatus=ae.prototype.ca,ae.prototype.getResponseJson=ae.prototype.La,ae.prototype.getResponseText=ae.prototype.la,ae.prototype.send=ae.prototype.ea,ae.prototype.setWithCredentials=ae.prototype.Fa,jE=ae}).apply(typeof qc<"u"?qc:typeof self<"u"?self:typeof window<"u"?window:{});const Qv="@firebase/firestore",Yv="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hn{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}hn.UNAUTHENTICATED=new hn(null),hn.GOOGLE_CREDENTIALS=new hn("google-credentials-uid"),hn.FIRST_PARTY=new hn("first-party-uid"),hn.MOCK_USER=new hn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let So="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aa=new Lm("@firebase/firestore");function eo(){return aa.logLevel}function ut(s,...t){if(aa.logLevel<=jt.DEBUG){const i=t.map(Xm);aa.debug(`Firestore (${So}): ${s}`,...i)}}function ps(s,...t){if(aa.logLevel<=jt.ERROR){const i=t.map(Xm);aa.error(`Firestore (${So}): ${s}`,...i)}}function fo(s,...t){if(aa.logLevel<=jt.WARN){const i=t.map(Xm);aa.warn(`Firestore (${So}): ${s}`,...i)}}function Xm(s){if(typeof s=="string")return s;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(i){return JSON.stringify(i)})(s)}catch{return s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yt(s,t,i){let r="Unexpected state";typeof t=="string"?r=t:i=t,GE(s,r,i)}function GE(s,t,i){let r=`FIRESTORE (${So}) INTERNAL ASSERTION FAILED: ${t} (ID: ${s.toString(16)})`;if(i!==void 0)try{r+=" CONTEXT: "+JSON.stringify(i)}catch{r+=" CONTEXT: "+i}throw ps(r),new Error(r)}function Qt(s,t,i,r){let l="Unexpected state";typeof i=="string"?l=i:r=i,s||GE(t,l,r)}function Rt(s,t){return s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class rt extends vs{constructor(t,i){super(t,i),this.code=t,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ki{constructor(){this.promise=new Promise(((t,i)=>{this.resolve=t,this.reject=i}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QE{constructor(t,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class s2{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,i){t.enqueueRetryable((()=>i(hn.UNAUTHENTICATED)))}shutdown(){}}class r2{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,i){this.changeListener=i,t.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class a2{constructor(t){this.t=t,this.currentUser=hn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,i){Qt(this.o===void 0,42304);let r=this.i;const l=_=>this.i!==r?(r=this.i,i(_)):Promise.resolve();let c=new ki;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new ki,t.enqueueRetryable((()=>l(this.currentUser)))};const d=()=>{const _=c;t.enqueueRetryable((async()=>{await _.promise,await l(this.currentUser)}))},p=_=>{ut("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=_,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((_=>p(_))),setTimeout((()=>{if(!this.auth){const _=this.t.getImmediate({optional:!0});_?p(_):(ut("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new ki)}}),0),d()}getToken(){const t=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((r=>this.i!==t?(ut("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Qt(typeof r.accessToken=="string",31837,{l:r}),new QE(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Qt(t===null||typeof t=="string",2055,{h:t}),new hn(t)}}class o2{constructor(t,i,r){this.P=t,this.T=i,this.I=r,this.type="FirstParty",this.user=hn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class l2{constructor(t,i,r){this.P=t,this.T=i,this.I=r}getToken(){return Promise.resolve(new o2(this.P,this.T,this.I))}start(t,i){t.enqueueRetryable((()=>i(hn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Kv{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class u2{constructor(t,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,ci(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,i){Qt(this.o===void 0,3512);const r=c=>{c.error!=null&&ut("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.m;return this.m=c.token,ut("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(c.token):Promise.resolve()};this.o=c=>{t.enqueueRetryable((()=>r(c)))};const l=c=>{ut("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>l(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?l(c):ut("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new Kv(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((i=>i?(Qt(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new Kv(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c2(s){const t=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(s);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(i);else for(let r=0;r<s;r++)i[r]=Math.floor(256*Math.random());return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $m{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const l=c2(40);for(let c=0;c<l.length;++c)r.length<20&&l[c]<i&&(r+=t.charAt(l[c]%62))}return r}}function Bt(s,t){return s<t?-1:s>t?1:0}function vm(s,t){const i=Math.min(s.length,t.length);for(let r=0;r<i;r++){const l=s.charAt(r),c=t.charAt(r);if(l!==c)return im(l)===im(c)?Bt(l,c):im(l)?1:-1}return Bt(s.length,t.length)}const h2=55296,f2=57343;function im(s){const t=s.charCodeAt(0);return t>=h2&&t<=f2}function mo(s,t,i){return s.length===t.length&&s.every(((r,l)=>i(r,t[l])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xv="__name__";class Li{constructor(t,i,r){i===void 0?i=0:i>t.length&&yt(637,{offset:i,range:t.length}),r===void 0?r=t.length-i:r>t.length-i&&yt(1746,{length:r,range:t.length-i}),this.segments=t,this.offset=i,this.len=r}get length(){return this.len}isEqual(t){return Li.comparator(this,t)===0}child(t){const i=this.segments.slice(this.offset,this.limit());return t instanceof Li?t.forEach((r=>{i.push(r)})):i.push(t),this.construct(i)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}forEach(t){for(let i=this.offset,r=this.limit();i<r;i++)t(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,i){const r=Math.min(t.length,i.length);for(let l=0;l<r;l++){const c=Li.compareSegments(t.get(l),i.get(l));if(c!==0)return c}return Bt(t.length,i.length)}static compareSegments(t,i){const r=Li.isNumericId(t),l=Li.isNumericId(i);return r&&!l?-1:!r&&l?1:r&&l?Li.extractNumericId(t).compare(Li.extractNumericId(i)):vm(t,i)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return ur.fromString(t.substring(4,t.length-2))}}class he extends Li{construct(t,i,r){return new he(t,i,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const i=[];for(const r of t){if(r.indexOf("//")>=0)throw new rt(Y.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);i.push(...r.split("/").filter((l=>l.length>0)))}return new he(i)}static emptyPath(){return new he([])}}const d2=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class an extends Li{construct(t,i,r){return new an(t,i,r)}static isValidIdentifier(t){return d2.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),an.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Xv}static keyField(){return new an([Xv])}static fromServerFormat(t){const i=[];let r="",l=0;const c=()=>{if(r.length===0)throw new rt(Y.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(r),r=""};let d=!1;for(;l<t.length;){const p=t[l];if(p==="\\"){if(l+1===t.length)throw new rt(Y.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const _=t[l+1];if(_!=="\\"&&_!=="."&&_!=="`")throw new rt(Y.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=_,l+=2}else p==="`"?(d=!d,l++):p!=="."||d?(r+=p,l++):(c(),l++)}if(c(),d)throw new rt(Y.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new an(i)}static emptyPath(){return new an([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mt{constructor(t){this.path=t}static fromPath(t){return new mt(he.fromString(t))}static fromName(t){return new mt(he.fromString(t).popFirst(5))}static empty(){return new mt(he.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&he.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,i){return he.comparator(t.path,i.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new mt(new he(t.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YE(s,t,i){if(!i)throw new rt(Y.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${t}.`)}function m2(s,t,i,r){if(t===!0&&r===!0)throw new rt(Y.INVALID_ARGUMENT,`${s} and ${i} cannot be used together.`)}function $v(s){if(!mt.isDocumentKey(s))throw new rt(Y.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function Zv(s){if(mt.isDocumentKey(s))throw new rt(Y.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${s} has ${s.length}.`)}function KE(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}function Nh(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const t=(function(r){return r.constructor?r.constructor.name:null})(s);return t?`a custom ${t} object`:"an object"}}return typeof s=="function"?"a function":yt(12329,{type:typeof s})}function Rn(s,t){if("_delegate"in s&&(s=s._delegate),!(s instanceof t)){if(t.name===s.constructor.name)throw new rt(Y.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=Nh(s);throw new rt(Y.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${i}`)}}return s}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function He(s,t){const i={typeString:s};return t&&(i.value=t),i}function ou(s,t){if(!KE(s))throw new rt(Y.INVALID_ARGUMENT,"JSON must be an object");let i;for(const r in t)if(t[r]){const l=t[r].typeString,c="value"in t[r]?{value:t[r].value}:void 0;if(!(r in s)){i=`JSON missing required field: '${r}'`;break}const d=s[r];if(l&&typeof d!==l){i=`JSON field '${r}' must be a ${l}.`;break}if(c!==void 0&&d!==c.value){i=`Expected '${r}' field to equal '${c.value}'`;break}}if(i)throw new rt(Y.INVALID_ARGUMENT,i);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jv=-62135596800,Wv=1e6;class ve{static now(){return ve.fromMillis(Date.now())}static fromDate(t){return ve.fromMillis(t.getTime())}static fromMillis(t){const i=Math.floor(t/1e3),r=Math.floor((t-1e3*i)*Wv);return new ve(i,r)}constructor(t,i){if(this.seconds=t,this.nanoseconds=i,i<0)throw new rt(Y.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new rt(Y.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(t<Jv)throw new rt(Y.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new rt(Y.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Wv}_compareTo(t){return this.seconds===t.seconds?Bt(this.nanoseconds,t.nanoseconds):Bt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ve._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(ou(t,ve._jsonSchema))return new ve(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-Jv;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ve._jsonSchemaVersion="firestore/timestamp/1.0",ve._jsonSchema={type:He("string",ve._jsonSchemaVersion),seconds:He("number"),nanoseconds:He("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class At{static fromTimestamp(t){return new At(t)}static min(){return new At(new ve(0,0))}static max(){return new At(new ve(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yl=-1;function g2(s,t){const i=s.toTimestamp().seconds,r=s.toTimestamp().nanoseconds+1,l=At.fromTimestamp(r===1e9?new ve(i+1,0):new ve(i,r));return new fr(l,mt.empty(),t)}function p2(s){return new fr(s.readTime,s.key,Yl)}class fr{constructor(t,i,r){this.readTime=t,this.documentKey=i,this.largestBatchId=r}static min(){return new fr(At.min(),mt.empty(),Yl)}static max(){return new fr(At.max(),mt.empty(),Yl)}}function y2(s,t){let i=s.readTime.compareTo(t.readTime);return i!==0?i:(i=mt.comparator(s.documentKey,t.documentKey),i!==0?i:Bt(s.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _2="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class v2{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bo(s){if(s.code!==Y.FAILED_PRECONDITION||s.message!==_2)throw s;ut("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(t){return this.next(void 0,t)}next(t,i){return this.callbackAttached&&yt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(t,this.result):new Z(((r,l)=>{this.nextCallback=c=>{this.wrapSuccess(t,c).next(r,l)},this.catchCallback=c=>{this.wrapFailure(i,c).next(r,l)}}))}toPromise(){return new Promise(((t,i)=>{this.next(t,i)}))}wrapUserFunction(t){try{const i=t();return i instanceof Z?i:Z.resolve(i)}catch(i){return Z.reject(i)}}wrapSuccess(t,i){return t?this.wrapUserFunction((()=>t(i))):Z.resolve(i)}wrapFailure(t,i){return t?this.wrapUserFunction((()=>t(i))):Z.reject(i)}static resolve(t){return new Z(((i,r)=>{i(t)}))}static reject(t){return new Z(((i,r)=>{r(t)}))}static waitFor(t){return new Z(((i,r)=>{let l=0,c=0,d=!1;t.forEach((p=>{++l,p.next((()=>{++c,d&&c===l&&i()}),(_=>r(_)))})),d=!0,c===l&&i()}))}static or(t){let i=Z.resolve(!1);for(const r of t)i=i.next((l=>l?Z.resolve(l):r()));return i}static forEach(t,i){const r=[];return t.forEach(((l,c)=>{r.push(i.call(this,l,c))})),this.waitFor(r)}static mapArray(t,i){return new Z(((r,l)=>{const c=t.length,d=new Array(c);let p=0;for(let _=0;_<c;_++){const y=_;i(t[y]).next((A=>{d[y]=A,++p,p===c&&r(d)}),(A=>l(A)))}}))}static doWhile(t,i){return new Z(((r,l)=>{const c=()=>{t()===!0?i().next((()=>{c()}),l):r()};c()}))}}function E2(s){const t=s.match(/Android ([\d.]+)/i),i=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function wo(s){return s.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xh{constructor(t,i){this.previousValue=t,i&&(i.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>i.writeSequenceNumber(r))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}xh.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zm=-1;function lu(s){return s==null}function dh(s){return s===0&&1/s==-1/0}function T2(s){return typeof s=="number"&&Number.isInteger(s)&&!dh(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XE="";function A2(s){let t="";for(let i=0;i<s.length;i++)t.length>0&&(t=t0(t)),t=S2(s.get(i),t);return t0(t)}function S2(s,t){let i=t;const r=s.length;for(let l=0;l<r;l++){const c=s.charAt(l);switch(c){case"\0":i+="";break;case XE:i+="";break;default:i+=c}}return i}function t0(s){return s+XE+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e0(s){let t=0;for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&t++;return t}function _r(s,t){for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&t(i,s[i])}function $E(s){for(const t in s)if(Object.prototype.hasOwnProperty.call(s,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class be{constructor(t,i){this.comparator=t,this.root=i||rn.EMPTY}insert(t,i){return new be(this.comparator,this.root.insert(t,i,this.comparator).copy(null,null,rn.BLACK,null,null))}remove(t){return new be(this.comparator,this.root.remove(t,this.comparator).copy(null,null,rn.BLACK,null,null))}get(t){let i=this.root;for(;!i.isEmpty();){const r=this.comparator(t,i.key);if(r===0)return i.value;r<0?i=i.left:r>0&&(i=i.right)}return null}indexOf(t){let i=0,r=this.root;for(;!r.isEmpty();){const l=this.comparator(t,r.key);if(l===0)return i+r.left.size;l<0?r=r.left:(i+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((i,r)=>(t(i,r),!1)))}toString(){const t=[];return this.inorderTraversal(((i,r)=>(t.push(`${i}:${r}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Hc(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Hc(this.root,t,this.comparator,!1)}getReverseIterator(){return new Hc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Hc(this.root,t,this.comparator,!0)}}class Hc{constructor(t,i,r,l){this.isReverse=l,this.nodeStack=[];let c=1;for(;!t.isEmpty();)if(c=i?r(t.key,i):1,i&&l&&(c*=-1),c<0)t=this.isReverse?t.left:t.right;else{if(c===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const i={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class rn{constructor(t,i,r,l,c){this.key=t,this.value=i,this.color=r??rn.RED,this.left=l??rn.EMPTY,this.right=c??rn.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,i,r,l,c){return new rn(t??this.key,i??this.value,r??this.color,l??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,i,r){let l=this;const c=r(t,l.key);return l=c<0?l.copy(null,null,null,l.left.insert(t,i,r),null):c===0?l.copy(null,i,null,null,null):l.copy(null,null,null,null,l.right.insert(t,i,r)),l.fixUp()}removeMin(){if(this.left.isEmpty())return rn.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,i){let r,l=this;if(i(t,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(t,i),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),i(t,l.key)===0){if(l.right.isEmpty())return rn.EMPTY;r=l.right.min(),l=l.copy(r.key,r.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(t,i))}return l.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,rn.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,rn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,i)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw yt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw yt(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw yt(27949);return t+(this.isRed()?0:1)}}rn.EMPTY=null,rn.RED=!0,rn.BLACK=!1;rn.EMPTY=new class{constructor(){this.size=0}get key(){throw yt(57766)}get value(){throw yt(16141)}get color(){throw yt(16727)}get left(){throw yt(29726)}get right(){throw yt(36894)}copy(t,i,r,l,c){return this}insert(t,i,r){return new rn(t,i)}remove(t,i){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qe{constructor(t){this.comparator=t,this.data=new be(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((i,r)=>(t(i),!1)))}forEachInRange(t,i){const r=this.data.getIteratorFrom(t[0]);for(;r.hasNext();){const l=r.getNext();if(this.comparator(l.key,t[1])>=0)return;i(l.key)}}forEachWhile(t,i){let r;for(r=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();r.hasNext();)if(!t(r.getNext().key))return}firstAfterOrEqual(t){const i=this.data.getIteratorFrom(t);return i.hasNext()?i.getNext().key:null}getIterator(){return new n0(this.data.getIterator())}getIteratorFrom(t){return new n0(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let i=this;return i.size<t.size&&(i=t,t=this),t.forEach((r=>{i=i.add(r)})),i}isEqual(t){if(!(t instanceof Qe)||this.size!==t.size)return!1;const i=this.data.getIterator(),r=t.data.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=r.getNext().key;if(this.comparator(l,c)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((i=>{t.push(i)})),t}toString(){const t=[];return this.forEach((i=>t.push(i))),"SortedSet("+t.toString()+")"}copy(t){const i=new Qe(this.comparator);return i.data=t,i}}class n0{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pn{constructor(t){this.fields=t,t.sort(an.comparator)}static empty(){return new Pn([])}unionWith(t){let i=new Qe(an.comparator);for(const r of this.fields)i=i.add(r);for(const r of t)i=i.add(r);return new Pn(i.toArray())}covers(t){for(const i of this.fields)if(i.isPrefixOf(t))return!0;return!1}isEqual(t){return mo(this.fields,t.fields,((i,r)=>i.isEqual(r)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class on{constructor(t){this.binaryString=t}static fromBase64String(t){const i=(function(l){try{return atob(l)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new ZE("Invalid base64 string: "+c):c}})(t);return new on(i)}static fromUint8Array(t){const i=(function(l){let c="";for(let d=0;d<l.length;++d)c+=String.fromCharCode(l[d]);return c})(t);return new on(i)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const r=new Uint8Array(i.length);for(let l=0;l<i.length;l++)r[l]=i.charCodeAt(l);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Bt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}on.EMPTY_BYTE_STRING=new on("");const b2=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function dr(s){if(Qt(!!s,39018),typeof s=="string"){let t=0;const i=b2.exec(s);if(Qt(!!i,46558,{timestamp:s}),i[1]){let l=i[1];l=(l+"000000000").substr(0,9),t=Number(l)}const r=new Date(s);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:Me(s.seconds),nanos:Me(s.nanos)}}function Me(s){return typeof s=="number"?s:typeof s=="string"?Number(s):0}function mr(s){return typeof s=="string"?on.fromBase64String(s):on.fromUint8Array(s)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JE="server_timestamp",WE="__type__",tT="__previous_value__",eT="__local_write_time__";function Jm(s){return(s?.mapValue?.fields||{})[WE]?.stringValue===JE}function Dh(s){const t=s.mapValue.fields[tT];return Jm(t)?Dh(t):t}function Kl(s){const t=dr(s.mapValue.fields[eT].timestampValue);return new ve(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w2{constructor(t,i,r,l,c,d,p,_,y,A){this.databaseId=t,this.appId=i,this.persistenceKey=r,this.host=l,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=p,this.longPollingOptions=_,this.useFetchStreams=y,this.isUsingEmulator=A}}const mh="(default)";class Xl{constructor(t,i){this.projectId=t,this.database=i||mh}static empty(){return new Xl("","")}get isDefaultDatabase(){return this.database===mh}isEqual(t){return t instanceof Xl&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nT="__type__",R2="__max__",Fc={mapValue:{}},iT="__vector__",gh="value";function gr(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?Jm(s)?4:C2(s)?9007199254740991:I2(s)?10:11:yt(28295,{value:s})}function Hi(s,t){if(s===t)return!0;const i=gr(s);if(i!==gr(t))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===t.booleanValue;case 4:return Kl(s).isEqual(Kl(t));case 3:return(function(l,c){if(typeof l.timestampValue=="string"&&typeof c.timestampValue=="string"&&l.timestampValue.length===c.timestampValue.length)return l.timestampValue===c.timestampValue;const d=dr(l.timestampValue),p=dr(c.timestampValue);return d.seconds===p.seconds&&d.nanos===p.nanos})(s,t);case 5:return s.stringValue===t.stringValue;case 6:return(function(l,c){return mr(l.bytesValue).isEqual(mr(c.bytesValue))})(s,t);case 7:return s.referenceValue===t.referenceValue;case 8:return(function(l,c){return Me(l.geoPointValue.latitude)===Me(c.geoPointValue.latitude)&&Me(l.geoPointValue.longitude)===Me(c.geoPointValue.longitude)})(s,t);case 2:return(function(l,c){if("integerValue"in l&&"integerValue"in c)return Me(l.integerValue)===Me(c.integerValue);if("doubleValue"in l&&"doubleValue"in c){const d=Me(l.doubleValue),p=Me(c.doubleValue);return d===p?dh(d)===dh(p):isNaN(d)&&isNaN(p)}return!1})(s,t);case 9:return mo(s.arrayValue.values||[],t.arrayValue.values||[],Hi);case 10:case 11:return(function(l,c){const d=l.mapValue.fields||{},p=c.mapValue.fields||{};if(e0(d)!==e0(p))return!1;for(const _ in d)if(d.hasOwnProperty(_)&&(p[_]===void 0||!Hi(d[_],p[_])))return!1;return!0})(s,t);default:return yt(52216,{left:s})}}function $l(s,t){return(s.values||[]).find((i=>Hi(i,t)))!==void 0}function go(s,t){if(s===t)return 0;const i=gr(s),r=gr(t);if(i!==r)return Bt(i,r);switch(i){case 0:case 9007199254740991:return 0;case 1:return Bt(s.booleanValue,t.booleanValue);case 2:return(function(c,d){const p=Me(c.integerValue||c.doubleValue),_=Me(d.integerValue||d.doubleValue);return p<_?-1:p>_?1:p===_?0:isNaN(p)?isNaN(_)?0:-1:1})(s,t);case 3:return i0(s.timestampValue,t.timestampValue);case 4:return i0(Kl(s),Kl(t));case 5:return vm(s.stringValue,t.stringValue);case 6:return(function(c,d){const p=mr(c),_=mr(d);return p.compareTo(_)})(s.bytesValue,t.bytesValue);case 7:return(function(c,d){const p=c.split("/"),_=d.split("/");for(let y=0;y<p.length&&y<_.length;y++){const A=Bt(p[y],_[y]);if(A!==0)return A}return Bt(p.length,_.length)})(s.referenceValue,t.referenceValue);case 8:return(function(c,d){const p=Bt(Me(c.latitude),Me(d.latitude));return p!==0?p:Bt(Me(c.longitude),Me(d.longitude))})(s.geoPointValue,t.geoPointValue);case 9:return s0(s.arrayValue,t.arrayValue);case 10:return(function(c,d){const p=c.fields||{},_=d.fields||{},y=p[gh]?.arrayValue,A=_[gh]?.arrayValue,S=Bt(y?.values?.length||0,A?.values?.length||0);return S!==0?S:s0(y,A)})(s.mapValue,t.mapValue);case 11:return(function(c,d){if(c===Fc.mapValue&&d===Fc.mapValue)return 0;if(c===Fc.mapValue)return 1;if(d===Fc.mapValue)return-1;const p=c.fields||{},_=Object.keys(p),y=d.fields||{},A=Object.keys(y);_.sort(),A.sort();for(let S=0;S<_.length&&S<A.length;++S){const x=vm(_[S],A[S]);if(x!==0)return x;const Q=go(p[_[S]],y[A[S]]);if(Q!==0)return Q}return Bt(_.length,A.length)})(s.mapValue,t.mapValue);default:throw yt(23264,{he:i})}}function i0(s,t){if(typeof s=="string"&&typeof t=="string"&&s.length===t.length)return Bt(s,t);const i=dr(s),r=dr(t),l=Bt(i.seconds,r.seconds);return l!==0?l:Bt(i.nanos,r.nanos)}function s0(s,t){const i=s.values||[],r=t.values||[];for(let l=0;l<i.length&&l<r.length;++l){const c=go(i[l],r[l]);if(c)return c}return Bt(i.length,r.length)}function po(s){return Em(s)}function Em(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?(function(i){const r=dr(i);return`time(${r.seconds},${r.nanos})`})(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?(function(i){return mr(i).toBase64()})(s.bytesValue):"referenceValue"in s?(function(i){return mt.fromName(i).toString()})(s.referenceValue):"geoPointValue"in s?(function(i){return`geo(${i.latitude},${i.longitude})`})(s.geoPointValue):"arrayValue"in s?(function(i){let r="[",l=!0;for(const c of i.values||[])l?l=!1:r+=",",r+=Em(c);return r+"]"})(s.arrayValue):"mapValue"in s?(function(i){const r=Object.keys(i.fields||{}).sort();let l="{",c=!0;for(const d of r)c?c=!1:l+=",",l+=`${d}:${Em(i.fields[d])}`;return l+"}"})(s.mapValue):yt(61005,{value:s})}function th(s){switch(gr(s)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=Dh(s);return t?16+th(t):16;case 5:return 2*s.stringValue.length;case 6:return mr(s.bytesValue).approximateByteSize();case 7:return s.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((l,c)=>l+th(c)),0)})(s.arrayValue);case 10:case 11:return(function(r){let l=0;return _r(r.fields,((c,d)=>{l+=c.length+th(d)})),l})(s.mapValue);default:throw yt(13486,{value:s})}}function r0(s,t){return{referenceValue:`projects/${s.projectId}/databases/${s.database}/documents/${t.path.canonicalString()}`}}function Tm(s){return!!s&&"integerValue"in s}function Wm(s){return!!s&&"arrayValue"in s}function a0(s){return!!s&&"nullValue"in s}function o0(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function eh(s){return!!s&&"mapValue"in s}function I2(s){return(s?.mapValue?.fields||{})[nT]?.stringValue===iT}function jl(s){if(s.geoPointValue)return{geoPointValue:{...s.geoPointValue}};if(s.timestampValue&&typeof s.timestampValue=="object")return{timestampValue:{...s.timestampValue}};if(s.mapValue){const t={mapValue:{fields:{}}};return _r(s.mapValue.fields,((i,r)=>t.mapValue.fields[i]=jl(r))),t}if(s.arrayValue){const t={arrayValue:{values:[]}};for(let i=0;i<(s.arrayValue.values||[]).length;++i)t.arrayValue.values[i]=jl(s.arrayValue.values[i]);return t}return{...s}}function C2(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue===R2}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pn{constructor(t){this.value=t}static empty(){return new pn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let i=this.value;for(let r=0;r<t.length-1;++r)if(i=(i.mapValue.fields||{})[t.get(r)],!eh(i))return null;return i=(i.mapValue.fields||{})[t.lastSegment()],i||null}}set(t,i){this.getFieldsMap(t.popLast())[t.lastSegment()]=jl(i)}setAll(t){let i=an.emptyPath(),r={},l=[];t.forEach(((d,p)=>{if(!i.isImmediateParentOf(p)){const _=this.getFieldsMap(i);this.applyChanges(_,r,l),r={},l=[],i=p.popLast()}d?r[p.lastSegment()]=jl(d):l.push(p.lastSegment())}));const c=this.getFieldsMap(i);this.applyChanges(c,r,l)}delete(t){const i=this.field(t.popLast());eh(i)&&i.mapValue.fields&&delete i.mapValue.fields[t.lastSegment()]}isEqual(t){return Hi(this.value,t.value)}getFieldsMap(t){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let r=0;r<t.length;++r){let l=i.mapValue.fields[t.get(r)];eh(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},i.mapValue.fields[t.get(r)]=l),i=l}return i.mapValue.fields}applyChanges(t,i,r){_r(i,((l,c)=>t[l]=c));for(const l of r)delete t[l]}clone(){return new pn(jl(this.value))}}function sT(s){const t=[];return _r(s.fields,((i,r)=>{const l=new an([i]);if(eh(r)){const c=sT(r.mapValue).fields;if(c.length===0)t.push(l);else for(const d of c)t.push(l.child(d))}else t.push(l)})),new Pn(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Je{constructor(t,i,r,l,c,d,p){this.key=t,this.documentType=i,this.version=r,this.readTime=l,this.createTime=c,this.data=d,this.documentState=p}static newInvalidDocument(t){return new Je(t,0,At.min(),At.min(),At.min(),pn.empty(),0)}static newFoundDocument(t,i,r,l){return new Je(t,1,i,At.min(),r,l,0)}static newNoDocument(t,i){return new Je(t,2,i,At.min(),At.min(),pn.empty(),0)}static newUnknownDocument(t,i){return new Je(t,3,i,At.min(),At.min(),pn.empty(),2)}convertToFoundDocument(t,i){return!this.createTime.isEqual(At.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=pn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=pn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=At.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof Je&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Je(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ph{constructor(t,i){this.position=t,this.inclusive=i}}function l0(s,t,i){let r=0;for(let l=0;l<s.position.length;l++){const c=t[l],d=s.position[l];if(c.field.isKeyField()?r=mt.comparator(mt.fromName(d.referenceValue),i.key):r=go(d,i.data.field(c.field)),c.dir==="desc"&&(r*=-1),r!==0)break}return r}function u0(s,t){if(s===null)return t===null;if(t===null||s.inclusive!==t.inclusive||s.position.length!==t.position.length)return!1;for(let i=0;i<s.position.length;i++)if(!Hi(s.position[i],t.position[i]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zl{constructor(t,i="asc"){this.field=t,this.dir=i}}function N2(s,t){return s.dir===t.dir&&s.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rT{}class qe extends rT{constructor(t,i,r){super(),this.field=t,this.op=i,this.value=r}static create(t,i,r){return t.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(t,i,r):new D2(t,i,r):i==="array-contains"?new V2(t,r):i==="in"?new U2(t,r):i==="not-in"?new L2(t,r):i==="array-contains-any"?new P2(t,r):new qe(t,i,r)}static createKeyFieldInFilter(t,i,r){return i==="in"?new O2(t,r):new M2(t,r)}matches(t){const i=t.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(go(i,this.value)):i!==null&&gr(this.value)===gr(i)&&this.matchesComparison(go(i,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return yt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class di extends rT{constructor(t,i){super(),this.filters=t,this.op=i,this.Pe=null}static create(t,i){return new di(t,i)}matches(t){return aT(this)?this.filters.find((i=>!i.matches(t)))===void 0:this.filters.find((i=>i.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,i)=>t.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function aT(s){return s.op==="and"}function oT(s){return x2(s)&&aT(s)}function x2(s){for(const t of s.filters)if(t instanceof di)return!1;return!0}function Am(s){if(s instanceof qe)return s.field.canonicalString()+s.op.toString()+po(s.value);if(oT(s))return s.filters.map((t=>Am(t))).join(",");{const t=s.filters.map((i=>Am(i))).join(",");return`${s.op}(${t})`}}function lT(s,t){return s instanceof qe?(function(r,l){return l instanceof qe&&r.op===l.op&&r.field.isEqual(l.field)&&Hi(r.value,l.value)})(s,t):s instanceof di?(function(r,l){return l instanceof di&&r.op===l.op&&r.filters.length===l.filters.length?r.filters.reduce(((c,d,p)=>c&&lT(d,l.filters[p])),!0):!1})(s,t):void yt(19439)}function uT(s){return s instanceof qe?(function(i){return`${i.field.canonicalString()} ${i.op} ${po(i.value)}`})(s):s instanceof di?(function(i){return i.op.toString()+" {"+i.getFilters().map(uT).join(" ,")+"}"})(s):"Filter"}class D2 extends qe{constructor(t,i,r){super(t,i,r),this.key=mt.fromName(r.referenceValue)}matches(t){const i=mt.comparator(t.key,this.key);return this.matchesComparison(i)}}class O2 extends qe{constructor(t,i){super(t,"in",i),this.keys=cT("in",i)}matches(t){return this.keys.some((i=>i.isEqual(t.key)))}}class M2 extends qe{constructor(t,i){super(t,"not-in",i),this.keys=cT("not-in",i)}matches(t){return!this.keys.some((i=>i.isEqual(t.key)))}}function cT(s,t){return(t.arrayValue?.values||[]).map((i=>mt.fromName(i.referenceValue)))}class V2 extends qe{constructor(t,i){super(t,"array-contains",i)}matches(t){const i=t.data.field(this.field);return Wm(i)&&$l(i.arrayValue,this.value)}}class U2 extends qe{constructor(t,i){super(t,"in",i)}matches(t){const i=t.data.field(this.field);return i!==null&&$l(this.value.arrayValue,i)}}class L2 extends qe{constructor(t,i){super(t,"not-in",i)}matches(t){if($l(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=t.data.field(this.field);return i!==null&&i.nullValue===void 0&&!$l(this.value.arrayValue,i)}}class P2 extends qe{constructor(t,i){super(t,"array-contains-any",i)}matches(t){const i=t.data.field(this.field);return!(!Wm(i)||!i.arrayValue.values)&&i.arrayValue.values.some((r=>$l(this.value.arrayValue,r)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k2{constructor(t,i=null,r=[],l=[],c=null,d=null,p=null){this.path=t,this.collectionGroup=i,this.orderBy=r,this.filters=l,this.limit=c,this.startAt=d,this.endAt=p,this.Te=null}}function c0(s,t=null,i=[],r=[],l=null,c=null,d=null){return new k2(s,t,i,r,l,c,d)}function tg(s){const t=Rt(s);if(t.Te===null){let i=t.path.canonicalString();t.collectionGroup!==null&&(i+="|cg:"+t.collectionGroup),i+="|f:",i+=t.filters.map((r=>Am(r))).join(","),i+="|ob:",i+=t.orderBy.map((r=>(function(c){return c.field.canonicalString()+c.dir})(r))).join(","),lu(t.limit)||(i+="|l:",i+=t.limit),t.startAt&&(i+="|lb:",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map((r=>po(r))).join(",")),t.endAt&&(i+="|ub:",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map((r=>po(r))).join(",")),t.Te=i}return t.Te}function eg(s,t){if(s.limit!==t.limit||s.orderBy.length!==t.orderBy.length)return!1;for(let i=0;i<s.orderBy.length;i++)if(!N2(s.orderBy[i],t.orderBy[i]))return!1;if(s.filters.length!==t.filters.length)return!1;for(let i=0;i<s.filters.length;i++)if(!lT(s.filters[i],t.filters[i]))return!1;return s.collectionGroup===t.collectionGroup&&!!s.path.isEqual(t.path)&&!!u0(s.startAt,t.startAt)&&u0(s.endAt,t.endAt)}function Sm(s){return mt.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ro{constructor(t,i=null,r=[],l=[],c=null,d="F",p=null,_=null){this.path=t,this.collectionGroup=i,this.explicitOrderBy=r,this.filters=l,this.limit=c,this.limitType=d,this.startAt=p,this.endAt=_,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function z2(s,t,i,r,l,c,d,p){return new Ro(s,t,i,r,l,c,d,p)}function Oh(s){return new Ro(s)}function h0(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}function hT(s){return s.collectionGroup!==null}function Bl(s){const t=Rt(s);if(t.Ie===null){t.Ie=[];const i=new Set;for(const c of t.explicitOrderBy)t.Ie.push(c),i.add(c.field.canonicalString());const r=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(d){let p=new Qe(an.comparator);return d.filters.forEach((_=>{_.getFlattenedFilters().forEach((y=>{y.isInequality()&&(p=p.add(y.field))}))})),p})(t).forEach((c=>{i.has(c.canonicalString())||c.isKeyField()||t.Ie.push(new Zl(c,r))})),i.has(an.keyField().canonicalString())||t.Ie.push(new Zl(an.keyField(),r))}return t.Ie}function zi(s){const t=Rt(s);return t.Ee||(t.Ee=j2(t,Bl(s))),t.Ee}function j2(s,t){if(s.limitType==="F")return c0(s.path,s.collectionGroup,t,s.filters,s.limit,s.startAt,s.endAt);{t=t.map((l=>{const c=l.dir==="desc"?"asc":"desc";return new Zl(l.field,c)}));const i=s.endAt?new ph(s.endAt.position,s.endAt.inclusive):null,r=s.startAt?new ph(s.startAt.position,s.startAt.inclusive):null;return c0(s.path,s.collectionGroup,t,s.filters,s.limit,i,r)}}function bm(s,t){const i=s.filters.concat([t]);return new Ro(s.path,s.collectionGroup,s.explicitOrderBy.slice(),i,s.limit,s.limitType,s.startAt,s.endAt)}function wm(s,t,i){return new Ro(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),t,i,s.startAt,s.endAt)}function Mh(s,t){return eg(zi(s),zi(t))&&s.limitType===t.limitType}function fT(s){return`${tg(zi(s))}|lt:${s.limitType}`}function no(s){return`Query(target=${(function(i){let r=i.path.canonicalString();return i.collectionGroup!==null&&(r+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(r+=`, filters: [${i.filters.map((l=>uT(l))).join(", ")}]`),lu(i.limit)||(r+=", limit: "+i.limit),i.orderBy.length>0&&(r+=`, orderBy: [${i.orderBy.map((l=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(l))).join(", ")}]`),i.startAt&&(r+=", startAt: ",r+=i.startAt.inclusive?"b:":"a:",r+=i.startAt.position.map((l=>po(l))).join(",")),i.endAt&&(r+=", endAt: ",r+=i.endAt.inclusive?"a:":"b:",r+=i.endAt.position.map((l=>po(l))).join(",")),`Target(${r})`})(zi(s))}; limitType=${s.limitType})`}function Vh(s,t){return t.isFoundDocument()&&(function(r,l){const c=l.key.path;return r.collectionGroup!==null?l.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(c):mt.isDocumentKey(r.path)?r.path.isEqual(c):r.path.isImmediateParentOf(c)})(s,t)&&(function(r,l){for(const c of Bl(r))if(!c.field.isKeyField()&&l.data.field(c.field)===null)return!1;return!0})(s,t)&&(function(r,l){for(const c of r.filters)if(!c.matches(l))return!1;return!0})(s,t)&&(function(r,l){return!(r.startAt&&!(function(d,p,_){const y=l0(d,p,_);return d.inclusive?y<=0:y<0})(r.startAt,Bl(r),l)||r.endAt&&!(function(d,p,_){const y=l0(d,p,_);return d.inclusive?y>=0:y>0})(r.endAt,Bl(r),l))})(s,t)}function B2(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function dT(s){return(t,i)=>{let r=!1;for(const l of Bl(s)){const c=q2(l,t,i);if(c!==0)return c;r=r||l.field.isKeyField()}return 0}}function q2(s,t,i){const r=s.field.isKeyField()?mt.comparator(t.key,i.key):(function(c,d,p){const _=d.data.field(c),y=p.data.field(c);return _!==null&&y!==null?go(_,y):yt(42886)})(s.field,t,i);switch(s.dir){case"asc":return r;case"desc":return-1*r;default:return yt(19790,{direction:s.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class la{constructor(t,i){this.mapKeyFn=t,this.equalsFn=i,this.inner={},this.innerSize=0}get(t){const i=this.mapKeyFn(t),r=this.inner[i];if(r!==void 0){for(const[l,c]of r)if(this.equalsFn(l,t))return c}}has(t){return this.get(t)!==void 0}set(t,i){const r=this.mapKeyFn(t),l=this.inner[r];if(l===void 0)return this.inner[r]=[[t,i]],void this.innerSize++;for(let c=0;c<l.length;c++)if(this.equalsFn(l[c][0],t))return void(l[c]=[t,i]);l.push([t,i]),this.innerSize++}delete(t){const i=this.mapKeyFn(t),r=this.inner[i];if(r===void 0)return!1;for(let l=0;l<r.length;l++)if(this.equalsFn(r[l][0],t))return r.length===1?delete this.inner[i]:r.splice(l,1),this.innerSize--,!0;return!1}forEach(t){_r(this.inner,((i,r)=>{for(const[l,c]of r)t(l,c)}))}isEmpty(){return $E(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H2=new be(mt.comparator);function ys(){return H2}const mT=new be(mt.comparator);function Ul(...s){let t=mT;for(const i of s)t=t.insert(i.key,i);return t}function gT(s){let t=mT;return s.forEach(((i,r)=>t=t.insert(i,r.overlayedDocument))),t}function ta(){return ql()}function pT(){return ql()}function ql(){return new la((s=>s.toString()),((s,t)=>s.isEqual(t)))}const F2=new be(mt.comparator),G2=new Qe(mt.comparator);function qt(...s){let t=G2;for(const i of s)t=t.add(i);return t}const Q2=new Qe(Bt);function Y2(){return Q2}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ng(s,t){if(s.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:dh(t)?"-0":t}}function yT(s){return{integerValue:""+s}}function _T(s,t){return T2(t)?yT(t):ng(s,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uh{constructor(){this._=void 0}}function K2(s,t,i){return s instanceof Jl?(function(l,c){const d={fields:{[WE]:{stringValue:JE},[eT]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return c&&Jm(c)&&(c=Dh(c)),c&&(d.fields[tT]=c),{mapValue:d}})(i,t):s instanceof Wl?ET(s,t):s instanceof tu?TT(s,t):(function(l,c){const d=vT(l,c),p=f0(d)+f0(l.Ae);return Tm(d)&&Tm(l.Ae)?yT(p):ng(l.serializer,p)})(s,t)}function X2(s,t,i){return s instanceof Wl?ET(s,t):s instanceof tu?TT(s,t):i}function vT(s,t){return s instanceof eu?(function(r){return Tm(r)||(function(c){return!!c&&"doubleValue"in c})(r)})(t)?t:{integerValue:0}:null}class Jl extends Uh{}class Wl extends Uh{constructor(t){super(),this.elements=t}}function ET(s,t){const i=AT(t);for(const r of s.elements)i.some((l=>Hi(l,r)))||i.push(r);return{arrayValue:{values:i}}}class tu extends Uh{constructor(t){super(),this.elements=t}}function TT(s,t){let i=AT(t);for(const r of s.elements)i=i.filter((l=>!Hi(l,r)));return{arrayValue:{values:i}}}class eu extends Uh{constructor(t,i){super(),this.serializer=t,this.Ae=i}}function f0(s){return Me(s.integerValue||s.doubleValue)}function AT(s){return Wm(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ST{constructor(t,i){this.field=t,this.transform=i}}function $2(s,t){return s.field.isEqual(t.field)&&(function(r,l){return r instanceof Wl&&l instanceof Wl||r instanceof tu&&l instanceof tu?mo(r.elements,l.elements,Hi):r instanceof eu&&l instanceof eu?Hi(r.Ae,l.Ae):r instanceof Jl&&l instanceof Jl})(s.transform,t.transform)}class Z2{constructor(t,i){this.version=t,this.transformResults=i}}class fn{constructor(t,i){this.updateTime=t,this.exists=i}static none(){return new fn}static exists(t){return new fn(void 0,t)}static updateTime(t){return new fn(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function nh(s,t){return s.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(s.updateTime):s.exists===void 0||s.exists===t.isFoundDocument()}class Lh{}function bT(s,t){if(!s.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return s.isNoDocument()?new ig(s.key,fn.none()):new uu(s.key,s.data,fn.none());{const i=s.data,r=pn.empty();let l=new Qe(an.comparator);for(let c of t.fields)if(!l.has(c)){let d=i.field(c);d===null&&c.length>1&&(c=c.popLast(),d=i.field(c)),d===null?r.delete(c):r.set(c,d),l=l.add(c)}return new vr(s.key,r,new Pn(l.toArray()),fn.none())}}function J2(s,t,i){s instanceof uu?(function(l,c,d){const p=l.value.clone(),_=m0(l.fieldTransforms,c,d.transformResults);p.setAll(_),c.convertToFoundDocument(d.version,p).setHasCommittedMutations()})(s,t,i):s instanceof vr?(function(l,c,d){if(!nh(l.precondition,c))return void c.convertToUnknownDocument(d.version);const p=m0(l.fieldTransforms,c,d.transformResults),_=c.data;_.setAll(wT(l)),_.setAll(p),c.convertToFoundDocument(d.version,_).setHasCommittedMutations()})(s,t,i):(function(l,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()})(0,t,i)}function Hl(s,t,i,r){return s instanceof uu?(function(c,d,p,_){if(!nh(c.precondition,d))return p;const y=c.value.clone(),A=g0(c.fieldTransforms,_,d);return y.setAll(A),d.convertToFoundDocument(d.version,y).setHasLocalMutations(),null})(s,t,i,r):s instanceof vr?(function(c,d,p,_){if(!nh(c.precondition,d))return p;const y=g0(c.fieldTransforms,_,d),A=d.data;return A.setAll(wT(c)),A.setAll(y),d.convertToFoundDocument(d.version,A).setHasLocalMutations(),p===null?null:p.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((S=>S.field)))})(s,t,i,r):(function(c,d,p){return nh(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):p})(s,t,i)}function W2(s,t){let i=null;for(const r of s.fieldTransforms){const l=t.data.field(r.field),c=vT(r.transform,l||null);c!=null&&(i===null&&(i=pn.empty()),i.set(r.field,c))}return i||null}function d0(s,t){return s.type===t.type&&!!s.key.isEqual(t.key)&&!!s.precondition.isEqual(t.precondition)&&!!(function(r,l){return r===void 0&&l===void 0||!(!r||!l)&&mo(r,l,((c,d)=>$2(c,d)))})(s.fieldTransforms,t.fieldTransforms)&&(s.type===0?s.value.isEqual(t.value):s.type!==1||s.data.isEqual(t.data)&&s.fieldMask.isEqual(t.fieldMask))}class uu extends Lh{constructor(t,i,r,l=[]){super(),this.key=t,this.value=i,this.precondition=r,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class vr extends Lh{constructor(t,i,r,l,c=[]){super(),this.key=t,this.data=i,this.fieldMask=r,this.precondition=l,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function wT(s){const t=new Map;return s.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const r=s.data.field(i);t.set(i,r)}})),t}function m0(s,t,i){const r=new Map;Qt(s.length===i.length,32656,{Re:i.length,Ve:s.length});for(let l=0;l<i.length;l++){const c=s[l],d=c.transform,p=t.data.field(c.field);r.set(c.field,X2(d,p,i[l]))}return r}function g0(s,t,i){const r=new Map;for(const l of s){const c=l.transform,d=i.data.field(l.field);r.set(l.field,K2(c,d,t))}return r}class ig extends Lh{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class RT extends Lh{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tI{constructor(t,i,r,l){this.batchId=t,this.localWriteTime=i,this.baseMutations=r,this.mutations=l}applyToRemoteDocument(t,i){const r=i.mutationResults;for(let l=0;l<this.mutations.length;l++){const c=this.mutations[l];c.key.isEqual(t.key)&&J2(c,t,r[l])}}applyToLocalView(t,i){for(const r of this.baseMutations)r.key.isEqual(t.key)&&(i=Hl(r,t,i,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(t.key)&&(i=Hl(r,t,i,this.localWriteTime));return i}applyToLocalDocumentSet(t,i){const r=pT();return this.mutations.forEach((l=>{const c=t.get(l.key),d=c.overlayedDocument;let p=this.applyToLocalView(d,c.mutatedFields);p=i.has(l.key)?null:p;const _=bT(d,p);_!==null&&r.set(l.key,_),d.isValidDocument()||d.convertToNoDocument(At.min())})),r}keys(){return this.mutations.reduce(((t,i)=>t.add(i.key)),qt())}isEqual(t){return this.batchId===t.batchId&&mo(this.mutations,t.mutations,((i,r)=>d0(i,r)))&&mo(this.baseMutations,t.baseMutations,((i,r)=>d0(i,r)))}}class sg{constructor(t,i,r,l){this.batch=t,this.commitVersion=i,this.mutationResults=r,this.docVersions=l}static from(t,i,r){Qt(t.mutations.length===r.length,58842,{me:t.mutations.length,fe:r.length});let l=(function(){return F2})();const c=t.mutations;for(let d=0;d<c.length;d++)l=l.insert(c[d].key,r[d].version);return new sg(t,i,r,l)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eI{constructor(t,i){this.largestBatchId=t,this.mutation=i}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nI{constructor(t,i){this.count=t,this.unchangedNames=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Be,Gt;function IT(s){switch(s){case Y.OK:return yt(64938);case Y.CANCELLED:case Y.UNKNOWN:case Y.DEADLINE_EXCEEDED:case Y.RESOURCE_EXHAUSTED:case Y.INTERNAL:case Y.UNAVAILABLE:case Y.UNAUTHENTICATED:return!1;case Y.INVALID_ARGUMENT:case Y.NOT_FOUND:case Y.ALREADY_EXISTS:case Y.PERMISSION_DENIED:case Y.FAILED_PRECONDITION:case Y.ABORTED:case Y.OUT_OF_RANGE:case Y.UNIMPLEMENTED:case Y.DATA_LOSS:return!0;default:return yt(15467,{code:s})}}function CT(s){if(s===void 0)return ps("GRPC error has no .code"),Y.UNKNOWN;switch(s){case Be.OK:return Y.OK;case Be.CANCELLED:return Y.CANCELLED;case Be.UNKNOWN:return Y.UNKNOWN;case Be.DEADLINE_EXCEEDED:return Y.DEADLINE_EXCEEDED;case Be.RESOURCE_EXHAUSTED:return Y.RESOURCE_EXHAUSTED;case Be.INTERNAL:return Y.INTERNAL;case Be.UNAVAILABLE:return Y.UNAVAILABLE;case Be.UNAUTHENTICATED:return Y.UNAUTHENTICATED;case Be.INVALID_ARGUMENT:return Y.INVALID_ARGUMENT;case Be.NOT_FOUND:return Y.NOT_FOUND;case Be.ALREADY_EXISTS:return Y.ALREADY_EXISTS;case Be.PERMISSION_DENIED:return Y.PERMISSION_DENIED;case Be.FAILED_PRECONDITION:return Y.FAILED_PRECONDITION;case Be.ABORTED:return Y.ABORTED;case Be.OUT_OF_RANGE:return Y.OUT_OF_RANGE;case Be.UNIMPLEMENTED:return Y.UNIMPLEMENTED;case Be.DATA_LOSS:return Y.DATA_LOSS;default:return yt(39323,{code:s})}}(Gt=Be||(Be={}))[Gt.OK=0]="OK",Gt[Gt.CANCELLED=1]="CANCELLED",Gt[Gt.UNKNOWN=2]="UNKNOWN",Gt[Gt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Gt[Gt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Gt[Gt.NOT_FOUND=5]="NOT_FOUND",Gt[Gt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Gt[Gt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Gt[Gt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Gt[Gt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Gt[Gt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Gt[Gt.ABORTED=10]="ABORTED",Gt[Gt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Gt[Gt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Gt[Gt.INTERNAL=13]="INTERNAL",Gt[Gt.UNAVAILABLE=14]="UNAVAILABLE",Gt[Gt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iI(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sI=new ur([4294967295,4294967295],0);function p0(s){const t=iI().encode(s),i=new zE;return i.update(t),new Uint8Array(i.digest())}function y0(s){const t=new DataView(s.buffer),i=t.getUint32(0,!0),r=t.getUint32(4,!0),l=t.getUint32(8,!0),c=t.getUint32(12,!0);return[new ur([i,r],0),new ur([l,c],0)]}class rg{constructor(t,i,r){if(this.bitmap=t,this.padding=i,this.hashCount=r,i<0||i>=8)throw new Ll(`Invalid padding: ${i}`);if(r<0)throw new Ll(`Invalid hash count: ${r}`);if(t.length>0&&this.hashCount===0)throw new Ll(`Invalid hash count: ${r}`);if(t.length===0&&i!==0)throw new Ll(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*t.length-i,this.pe=ur.fromNumber(this.ge)}ye(t,i,r){let l=t.add(i.multiply(ur.fromNumber(r)));return l.compare(sI)===1&&(l=new ur([l.getBits(0),l.getBits(1)],0)),l.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const i=p0(t),[r,l]=y0(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(r,l,c);if(!this.we(d))return!1}return!0}static create(t,i,r){const l=t%8==0?0:8-t%8,c=new Uint8Array(Math.ceil(t/8)),d=new rg(c,l,i);return r.forEach((p=>d.insert(p))),d}insert(t){if(this.ge===0)return;const i=p0(t),[r,l]=y0(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(r,l,c);this.Se(d)}}Se(t){const i=Math.floor(t/8),r=t%8;this.bitmap[i]|=1<<r}}class Ll extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ph{constructor(t,i,r,l,c){this.snapshotVersion=t,this.targetChanges=i,this.targetMismatches=r,this.documentUpdates=l,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(t,i,r){const l=new Map;return l.set(t,cu.createSynthesizedTargetChangeForCurrentChange(t,i,r)),new Ph(At.min(),l,new be(Bt),ys(),qt())}}class cu{constructor(t,i,r,l,c){this.resumeToken=t,this.current=i,this.addedDocuments=r,this.modifiedDocuments=l,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(t,i,r){return new cu(r,i,qt(),qt(),qt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ih{constructor(t,i,r,l){this.be=t,this.removedTargetIds=i,this.key=r,this.De=l}}class NT{constructor(t,i){this.targetId=t,this.Ce=i}}class xT{constructor(t,i,r=on.EMPTY_BYTE_STRING,l=null){this.state=t,this.targetIds=i,this.resumeToken=r,this.cause=l}}class _0{constructor(){this.ve=0,this.Fe=v0(),this.Me=on.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=qt(),i=qt(),r=qt();return this.Fe.forEach(((l,c)=>{switch(c){case 0:t=t.add(l);break;case 2:i=i.add(l);break;case 1:r=r.add(l);break;default:yt(38017,{changeType:c})}})),new cu(this.Me,this.xe,t,i,r)}qe(){this.Oe=!1,this.Fe=v0()}Qe(t,i){this.Oe=!0,this.Fe=this.Fe.insert(t,i)}$e(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}Ue(){this.ve+=1}Ke(){this.ve-=1,Qt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class rI{constructor(t){this.Ge=t,this.ze=new Map,this.je=ys(),this.Je=Gc(),this.He=Gc(),this.Ye=new be(Bt)}Ze(t){for(const i of t.be)t.De&&t.De.isFoundDocument()?this.Xe(i,t.De):this.et(i,t.key,t.De);for(const i of t.removedTargetIds)this.et(i,t.key,t.De)}tt(t){this.forEachTarget(t,(i=>{const r=this.nt(i);switch(t.state){case 0:this.rt(i)&&r.Le(t.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(t.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(r.We(),r.Le(t.resumeToken));break;case 4:this.rt(i)&&(this.it(i),r.Le(t.resumeToken));break;default:yt(56790,{state:t.state})}}))}forEachTarget(t,i){t.targetIds.length>0?t.targetIds.forEach(i):this.ze.forEach(((r,l)=>{this.rt(l)&&i(l)}))}st(t){const i=t.targetId,r=t.Ce.count,l=this.ot(i);if(l){const c=l.target;if(Sm(c))if(r===0){const d=new mt(c.path);this.et(i,d,Je.newNoDocument(d,At.min()))}else Qt(r===1,20013,{expectedCount:r});else{const d=this._t(i);if(d!==r){const p=this.ut(t),_=p?this.ct(p,t,d):1;if(_!==0){this.it(i);const y=_===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(i,y)}}}}}ut(t){const i=t.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:r="",padding:l=0},hashCount:c=0}=i;let d,p;try{d=mr(r).toUint8Array()}catch(_){if(_ instanceof ZE)return fo("Decoding the base64 bloom filter in existence filter failed ("+_.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw _}try{p=new rg(d,l,c)}catch(_){return fo(_ instanceof Ll?"BloomFilter error: ":"Applying bloom filter failed: ",_),null}return p.ge===0?null:p}ct(t,i,r){return i.Ce.count===r-this.Pt(t,i.targetId)?0:2}Pt(t,i){const r=this.Ge.getRemoteKeysForTarget(i);let l=0;return r.forEach((c=>{const d=this.Ge.ht(),p=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;t.mightContain(p)||(this.et(i,c,null),l++)})),l}Tt(t){const i=new Map;this.ze.forEach(((c,d)=>{const p=this.ot(d);if(p){if(c.current&&Sm(p.target)){const _=new mt(p.target.path);this.It(_).has(d)||this.Et(d,_)||this.et(d,_,Je.newNoDocument(_,t))}c.Be&&(i.set(d,c.ke()),c.qe())}}));let r=qt();this.He.forEach(((c,d)=>{let p=!0;d.forEachWhile((_=>{const y=this.ot(_);return!y||y.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)})),p&&(r=r.add(c))})),this.je.forEach(((c,d)=>d.setReadTime(t)));const l=new Ph(t,i,this.Ye,this.je,r);return this.je=ys(),this.Je=Gc(),this.He=Gc(),this.Ye=new be(Bt),l}Xe(t,i){if(!this.rt(t))return;const r=this.Et(t,i.key)?2:0;this.nt(t).Qe(i.key,r),this.je=this.je.insert(i.key,i),this.Je=this.Je.insert(i.key,this.It(i.key).add(t)),this.He=this.He.insert(i.key,this.dt(i.key).add(t))}et(t,i,r){if(!this.rt(t))return;const l=this.nt(t);this.Et(t,i)?l.Qe(i,1):l.$e(i),this.He=this.He.insert(i,this.dt(i).delete(t)),this.He=this.He.insert(i,this.dt(i).add(t)),r&&(this.je=this.je.insert(i,r))}removeTarget(t){this.ze.delete(t)}_t(t){const i=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+i.addedDocuments.size-i.removedDocuments.size}Ue(t){this.nt(t).Ue()}nt(t){let i=this.ze.get(t);return i||(i=new _0,this.ze.set(t,i)),i}dt(t){let i=this.He.get(t);return i||(i=new Qe(Bt),this.He=this.He.insert(t,i)),i}It(t){let i=this.Je.get(t);return i||(i=new Qe(Bt),this.Je=this.Je.insert(t,i)),i}rt(t){const i=this.ot(t)!==null;return i||ut("WatchChangeAggregator","Detected inactive target",t),i}ot(t){const i=this.ze.get(t);return i&&i.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new _0),this.Ge.getRemoteKeysForTarget(t).forEach((i=>{this.et(t,i,null)}))}Et(t,i){return this.Ge.getRemoteKeysForTarget(t).has(i)}}function Gc(){return new be(mt.comparator)}function v0(){return new be(mt.comparator)}const aI={asc:"ASCENDING",desc:"DESCENDING"},oI={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},lI={and:"AND",or:"OR"};class uI{constructor(t,i){this.databaseId=t,this.useProto3Json=i}}function Rm(s,t){return s.useProto3Json||lu(t)?t:{value:t}}function yh(s,t){return s.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function DT(s,t){return s.useProto3Json?t.toBase64():t.toUint8Array()}function cI(s,t){return yh(s,t.toTimestamp())}function kn(s){return Qt(!!s,49232),At.fromTimestamp((function(i){const r=dr(i);return new ve(r.seconds,r.nanos)})(s))}function ag(s,t){return Im(s,t).canonicalString()}function Im(s,t){const i=(function(l){return new he(["projects",l.projectId,"databases",l.database])})(s).child("documents");return t===void 0?i:i.child(t)}function OT(s){const t=he.fromString(s);return Qt(kT(t),10190,{key:t.toString()}),t}function _h(s,t){return ag(s.databaseId,t.path)}function Fl(s,t){const i=OT(t);if(i.get(1)!==s.databaseId.projectId)throw new rt(Y.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+s.databaseId.projectId);if(i.get(3)!==s.databaseId.database)throw new rt(Y.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+s.databaseId.database);return new mt(VT(i))}function MT(s,t){return ag(s.databaseId,t)}function hI(s){const t=OT(s);return t.length===4?he.emptyPath():VT(t)}function Cm(s){return new he(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function VT(s){return Qt(s.length>4&&s.get(4)==="documents",29091,{key:s.toString()}),s.popFirst(5)}function E0(s,t,i){return{name:_h(s,t),fields:i.value.mapValue.fields}}function fI(s,t){return"found"in t?(function(r,l){Qt(!!l.found,43571),l.found.name,l.found.updateTime;const c=Fl(r,l.found.name),d=kn(l.found.updateTime),p=l.found.createTime?kn(l.found.createTime):At.min(),_=new pn({mapValue:{fields:l.found.fields}});return Je.newFoundDocument(c,d,p,_)})(s,t):"missing"in t?(function(r,l){Qt(!!l.missing,3894),Qt(!!l.readTime,22933);const c=Fl(r,l.missing),d=kn(l.readTime);return Je.newNoDocument(c,d)})(s,t):yt(7234,{result:t})}function dI(s,t){let i;if("targetChange"in t){t.targetChange;const r=(function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:yt(39313,{state:y})})(t.targetChange.targetChangeType||"NO_CHANGE"),l=t.targetChange.targetIds||[],c=(function(y,A){return y.useProto3Json?(Qt(A===void 0||typeof A=="string",58123),on.fromBase64String(A||"")):(Qt(A===void 0||A instanceof Buffer||A instanceof Uint8Array,16193),on.fromUint8Array(A||new Uint8Array))})(s,t.targetChange.resumeToken),d=t.targetChange.cause,p=d&&(function(y){const A=y.code===void 0?Y.UNKNOWN:CT(y.code);return new rt(A,y.message||"")})(d);i=new xT(r,l,c,p||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const l=Fl(s,r.document.name),c=kn(r.document.updateTime),d=r.document.createTime?kn(r.document.createTime):At.min(),p=new pn({mapValue:{fields:r.document.fields}}),_=Je.newFoundDocument(l,c,d,p),y=r.targetIds||[],A=r.removedTargetIds||[];i=new ih(y,A,_.key,_)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const l=Fl(s,r.document),c=r.readTime?kn(r.readTime):At.min(),d=Je.newNoDocument(l,c),p=r.removedTargetIds||[];i=new ih([],p,d.key,d)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const l=Fl(s,r.document),c=r.removedTargetIds||[];i=new ih([],c,l,null)}else{if(!("filter"in t))return yt(11601,{Rt:t});{t.filter;const r=t.filter;r.targetId;const{count:l=0,unchangedNames:c}=r,d=new nI(l,c),p=r.targetId;i=new NT(p,d)}}return i}function UT(s,t){let i;if(t instanceof uu)i={update:E0(s,t.key,t.value)};else if(t instanceof ig)i={delete:_h(s,t.key)};else if(t instanceof vr)i={update:E0(s,t.key,t.data),updateMask:AI(t.fieldMask)};else{if(!(t instanceof RT))return yt(16599,{Vt:t.type});i={verify:_h(s,t.key)}}return t.fieldTransforms.length>0&&(i.updateTransforms=t.fieldTransforms.map((r=>(function(c,d){const p=d.transform;if(p instanceof Jl)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof Wl)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof tu)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof eu)return{fieldPath:d.field.canonicalString(),increment:p.Ae};throw yt(20930,{transform:d.transform})})(0,r)))),t.precondition.isNone||(i.currentDocument=(function(l,c){return c.updateTime!==void 0?{updateTime:cI(l,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:yt(27497)})(s,t.precondition)),i}function mI(s,t){return s&&s.length>0?(Qt(t!==void 0,14353),s.map((i=>(function(l,c){let d=l.updateTime?kn(l.updateTime):kn(c);return d.isEqual(At.min())&&(d=kn(c)),new Z2(d,l.transformResults||[])})(i,t)))):[]}function gI(s,t){return{documents:[MT(s,t.path)]}}function pI(s,t){const i={structuredQuery:{}},r=t.path;let l;t.collectionGroup!==null?(l=r,i.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(l=r.popLast(),i.structuredQuery.from=[{collectionId:r.lastSegment()}]),i.parent=MT(s,l);const c=(function(y){if(y.length!==0)return PT(di.create(y,"and"))})(t.filters);c&&(i.structuredQuery.where=c);const d=(function(y){if(y.length!==0)return y.map((A=>(function(x){return{field:io(x.field),direction:vI(x.dir)}})(A)))})(t.orderBy);d&&(i.structuredQuery.orderBy=d);const p=Rm(s,t.limit);return p!==null&&(i.structuredQuery.limit=p),t.startAt&&(i.structuredQuery.startAt=(function(y){return{before:y.inclusive,values:y.position}})(t.startAt)),t.endAt&&(i.structuredQuery.endAt=(function(y){return{before:!y.inclusive,values:y.position}})(t.endAt)),{ft:i,parent:l}}function yI(s){let t=hI(s.parent);const i=s.structuredQuery,r=i.from?i.from.length:0;let l=null;if(r>0){Qt(r===1,65062);const A=i.from[0];A.allDescendants?l=A.collectionId:t=t.child(A.collectionId)}let c=[];i.where&&(c=(function(S){const x=LT(S);return x instanceof di&&oT(x)?x.getFilters():[x]})(i.where));let d=[];i.orderBy&&(d=(function(S){return S.map((x=>(function(W){return new Zl(so(W.field),(function(tt){switch(tt){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(W.direction))})(x)))})(i.orderBy));let p=null;i.limit&&(p=(function(S){let x;return x=typeof S=="object"?S.value:S,lu(x)?null:x})(i.limit));let _=null;i.startAt&&(_=(function(S){const x=!!S.before,Q=S.values||[];return new ph(Q,x)})(i.startAt));let y=null;return i.endAt&&(y=(function(S){const x=!S.before,Q=S.values||[];return new ph(Q,x)})(i.endAt)),z2(t,l,d,c,p,"F",_,y)}function _I(s,t){const i=(function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return yt(28987,{purpose:l})}})(t.purpose);return i==null?null:{"goog-listen-tags":i}}function LT(s){return s.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const r=so(i.unaryFilter.field);return qe.create(r,"==",{doubleValue:NaN});case"IS_NULL":const l=so(i.unaryFilter.field);return qe.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=so(i.unaryFilter.field);return qe.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=so(i.unaryFilter.field);return qe.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return yt(61313);default:return yt(60726)}})(s):s.fieldFilter!==void 0?(function(i){return qe.create(so(i.fieldFilter.field),(function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return yt(58110);default:return yt(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(s):s.compositeFilter!==void 0?(function(i){return di.create(i.compositeFilter.filters.map((r=>LT(r))),(function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return yt(1026)}})(i.compositeFilter.op))})(s):yt(30097,{filter:s})}function vI(s){return aI[s]}function EI(s){return oI[s]}function TI(s){return lI[s]}function io(s){return{fieldPath:s.canonicalString()}}function so(s){return an.fromServerFormat(s.fieldPath)}function PT(s){return s instanceof qe?(function(i){if(i.op==="=="){if(o0(i.value))return{unaryFilter:{field:io(i.field),op:"IS_NAN"}};if(a0(i.value))return{unaryFilter:{field:io(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(o0(i.value))return{unaryFilter:{field:io(i.field),op:"IS_NOT_NAN"}};if(a0(i.value))return{unaryFilter:{field:io(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:io(i.field),op:EI(i.op),value:i.value}}})(s):s instanceof di?(function(i){const r=i.getFilters().map((l=>PT(l)));return r.length===1?r[0]:{compositeFilter:{op:TI(i.op),filters:r}}})(s):yt(54877,{filter:s})}function AI(s){const t=[];return s.fields.forEach((i=>t.push(i.canonicalString()))),{fieldPaths:t}}function kT(s){return s.length>=4&&s.get(0)==="projects"&&s.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rr{constructor(t,i,r,l,c=At.min(),d=At.min(),p=on.EMPTY_BYTE_STRING,_=null){this.target=t,this.targetId=i,this.purpose=r,this.sequenceNumber=l,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=p,this.expectedCount=_}withSequenceNumber(t){return new rr(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,i){return new rr(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new rr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new rr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SI{constructor(t){this.yt=t}}function bI(s){const t=yI({parent:s.parent,structuredQuery:s.structuredQuery});return s.limitType==="LAST"?wm(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wI{constructor(){this.Cn=new RI}addToCollectionParentIndex(t,i){return this.Cn.add(i),Z.resolve()}getCollectionParents(t,i){return Z.resolve(this.Cn.getEntries(i))}addFieldIndex(t,i){return Z.resolve()}deleteFieldIndex(t,i){return Z.resolve()}deleteAllFieldIndexes(t){return Z.resolve()}createTargetIndexes(t,i){return Z.resolve()}getDocumentsMatchingTarget(t,i){return Z.resolve(null)}getIndexType(t,i){return Z.resolve(0)}getFieldIndexes(t,i){return Z.resolve([])}getNextCollectionGroupToUpdate(t){return Z.resolve(null)}getMinOffset(t,i){return Z.resolve(fr.min())}getMinOffsetFromCollectionGroup(t,i){return Z.resolve(fr.min())}updateCollectionGroup(t,i,r){return Z.resolve()}updateIndexEntries(t,i){return Z.resolve()}}class RI{constructor(){this.index={}}add(t){const i=t.lastSegment(),r=t.popLast(),l=this.index[i]||new Qe(he.comparator),c=!l.has(r);return this.index[i]=l.add(r),c}has(t){const i=t.lastSegment(),r=t.popLast(),l=this.index[i];return l&&l.has(r)}getEntries(t){return(this.index[t]||new Qe(he.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},zT=41943040;class wn{static withCacheSize(t){return new wn(t,wn.DEFAULT_COLLECTION_PERCENTILE,wn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,i,r){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */wn.DEFAULT_COLLECTION_PERCENTILE=10,wn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,wn.DEFAULT=new wn(zT,wn.DEFAULT_COLLECTION_PERCENTILE,wn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),wn.DISABLED=new wn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yo{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new yo(0)}static cr(){return new yo(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A0="LruGarbageCollector",II=1048576;function S0([s,t],[i,r]){const l=Bt(s,i);return l===0?Bt(t,r):l}class CI{constructor(t){this.Ir=t,this.buffer=new Qe(S0),this.Er=0}dr(){return++this.Er}Ar(t){const i=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(i);else{const r=this.buffer.last();S0(i,r)<0&&(this.buffer=this.buffer.delete(r).add(i))}}get maxValue(){return this.buffer.last()[0]}}class NI{constructor(t,i,r){this.garbageCollector=t,this.asyncQueue=i,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(t){ut(A0,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){wo(i)?ut(A0,"Ignoring IndexedDB error during garbage collection: ",i):await bo(i)}await this.Vr(3e5)}))}}class xI{constructor(t,i){this.mr=t,this.params=i}calculateTargetCount(t,i){return this.mr.gr(t).next((r=>Math.floor(i/100*r)))}nthSequenceNumber(t,i){if(i===0)return Z.resolve(xh.ce);const r=new CI(i);return this.mr.forEachTarget(t,(l=>r.Ar(l.sequenceNumber))).next((()=>this.mr.pr(t,(l=>r.Ar(l))))).next((()=>r.maxValue))}removeTargets(t,i,r){return this.mr.removeTargets(t,i,r)}removeOrphanedDocuments(t,i){return this.mr.removeOrphanedDocuments(t,i)}collect(t,i){return this.params.cacheSizeCollectionThreshold===-1?(ut("LruGarbageCollector","Garbage collection skipped; disabled"),Z.resolve(T0)):this.getCacheSize(t).next((r=>r<this.params.cacheSizeCollectionThreshold?(ut("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),T0):this.yr(t,i)))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,i){let r,l,c,d,p,_,y;const A=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((S=>(S>this.params.maximumSequenceNumbersToCollect?(ut("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${S}`),l=this.params.maximumSequenceNumbersToCollect):l=S,d=Date.now(),this.nthSequenceNumber(t,l)))).next((S=>(r=S,p=Date.now(),this.removeTargets(t,r,i)))).next((S=>(c=S,_=Date.now(),this.removeOrphanedDocuments(t,r)))).next((S=>(y=Date.now(),eo()<=jt.DEBUG&&ut("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-A}ms
	Determined least recently used ${l} in `+(p-d)+`ms
	Removed ${c} targets in `+(_-p)+`ms
	Removed ${S} documents in `+(y-_)+`ms
Total Duration: ${y-A}ms`),Z.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:c,documentsRemoved:S}))))}}function DI(s,t){return new xI(s,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OI{constructor(){this.changes=new la((t=>t.toString()),((t,i)=>t.isEqual(i))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,i){this.assertNotApplied(),this.changes.set(t,Je.newInvalidDocument(t).setReadTime(i))}getEntry(t,i){this.assertNotApplied();const r=this.changes.get(i);return r!==void 0?Z.resolve(r):this.getFromCache(t,i)}getEntries(t,i){return this.getAllFromCache(t,i)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MI{constructor(t,i){this.overlayedDocument=t,this.mutatedFields=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VI{constructor(t,i,r,l){this.remoteDocumentCache=t,this.mutationQueue=i,this.documentOverlayCache=r,this.indexManager=l}getDocument(t,i){let r=null;return this.documentOverlayCache.getOverlay(t,i).next((l=>(r=l,this.remoteDocumentCache.getEntry(t,i)))).next((l=>(r!==null&&Hl(r.mutation,l,Pn.empty(),ve.now()),l)))}getDocuments(t,i){return this.remoteDocumentCache.getEntries(t,i).next((r=>this.getLocalViewOfDocuments(t,r,qt()).next((()=>r))))}getLocalViewOfDocuments(t,i,r=qt()){const l=ta();return this.populateOverlays(t,l,i).next((()=>this.computeViews(t,i,l,r).next((c=>{let d=Ul();return c.forEach(((p,_)=>{d=d.insert(p,_.overlayedDocument)})),d}))))}getOverlayedDocuments(t,i){const r=ta();return this.populateOverlays(t,r,i).next((()=>this.computeViews(t,i,r,qt())))}populateOverlays(t,i,r){const l=[];return r.forEach((c=>{i.has(c)||l.push(c)})),this.documentOverlayCache.getOverlays(t,l).next((c=>{c.forEach(((d,p)=>{i.set(d,p)}))}))}computeViews(t,i,r,l){let c=ys();const d=ql(),p=(function(){return ql()})();return i.forEach(((_,y)=>{const A=r.get(y.key);l.has(y.key)&&(A===void 0||A.mutation instanceof vr)?c=c.insert(y.key,y):A!==void 0?(d.set(y.key,A.mutation.getFieldMask()),Hl(A.mutation,y,A.mutation.getFieldMask(),ve.now())):d.set(y.key,Pn.empty())})),this.recalculateAndSaveOverlays(t,c).next((_=>(_.forEach(((y,A)=>d.set(y,A))),i.forEach(((y,A)=>p.set(y,new MI(A,d.get(y)??null)))),p)))}recalculateAndSaveOverlays(t,i){const r=ql();let l=new be(((d,p)=>d-p)),c=qt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,i).next((d=>{for(const p of d)p.keys().forEach((_=>{const y=i.get(_);if(y===null)return;let A=r.get(_)||Pn.empty();A=p.applyToLocalView(y,A),r.set(_,A);const S=(l.get(p.batchId)||qt()).add(_);l=l.insert(p.batchId,S)}))})).next((()=>{const d=[],p=l.getReverseIterator();for(;p.hasNext();){const _=p.getNext(),y=_.key,A=_.value,S=pT();A.forEach((x=>{if(!c.has(x)){const Q=bT(i.get(x),r.get(x));Q!==null&&S.set(x,Q),c=c.add(x)}})),d.push(this.documentOverlayCache.saveOverlays(t,y,S))}return Z.waitFor(d)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(t,i){return this.remoteDocumentCache.getEntries(t,i).next((r=>this.recalculateAndSaveOverlays(t,r)))}getDocumentsMatchingQuery(t,i,r,l){return(function(d){return mt.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0})(i)?this.getDocumentsMatchingDocumentQuery(t,i.path):hT(i)?this.getDocumentsMatchingCollectionGroupQuery(t,i,r,l):this.getDocumentsMatchingCollectionQuery(t,i,r,l)}getNextDocuments(t,i,r,l){return this.remoteDocumentCache.getAllFromCollectionGroup(t,i,r,l).next((c=>{const d=l-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,i,r.largestBatchId,l-c.size):Z.resolve(ta());let p=Yl,_=c;return d.next((y=>Z.forEach(y,((A,S)=>(p<S.largestBatchId&&(p=S.largestBatchId),c.get(A)?Z.resolve():this.remoteDocumentCache.getEntry(t,A).next((x=>{_=_.insert(A,x)}))))).next((()=>this.populateOverlays(t,y,c))).next((()=>this.computeViews(t,_,y,qt()))).next((A=>({batchId:p,changes:gT(A)})))))}))}getDocumentsMatchingDocumentQuery(t,i){return this.getDocument(t,new mt(i)).next((r=>{let l=Ul();return r.isFoundDocument()&&(l=l.insert(r.key,r)),l}))}getDocumentsMatchingCollectionGroupQuery(t,i,r,l){const c=i.collectionGroup;let d=Ul();return this.indexManager.getCollectionParents(t,c).next((p=>Z.forEach(p,(_=>{const y=(function(S,x){return new Ro(x,null,S.explicitOrderBy.slice(),S.filters.slice(),S.limit,S.limitType,S.startAt,S.endAt)})(i,_.child(c));return this.getDocumentsMatchingCollectionQuery(t,y,r,l).next((A=>{A.forEach(((S,x)=>{d=d.insert(S,x)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(t,i,r,l){let c;return this.documentOverlayCache.getOverlaysForCollection(t,i.path,r.largestBatchId).next((d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(t,i,r,c,l)))).next((d=>{c.forEach(((_,y)=>{const A=y.getKey();d.get(A)===null&&(d=d.insert(A,Je.newInvalidDocument(A)))}));let p=Ul();return d.forEach(((_,y)=>{const A=c.get(_);A!==void 0&&Hl(A.mutation,y,Pn.empty(),ve.now()),Vh(i,y)&&(p=p.insert(_,y))})),p}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UI{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,i){return Z.resolve(this.Lr.get(i))}saveBundleMetadata(t,i){return this.Lr.set(i.id,(function(l){return{id:l.id,version:l.version,createTime:kn(l.createTime)}})(i)),Z.resolve()}getNamedQuery(t,i){return Z.resolve(this.kr.get(i))}saveNamedQuery(t,i){return this.kr.set(i.name,(function(l){return{name:l.name,query:bI(l.bundledQuery),readTime:kn(l.readTime)}})(i)),Z.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LI{constructor(){this.overlays=new be(mt.comparator),this.qr=new Map}getOverlay(t,i){return Z.resolve(this.overlays.get(i))}getOverlays(t,i){const r=ta();return Z.forEach(i,(l=>this.getOverlay(t,l).next((c=>{c!==null&&r.set(l,c)})))).next((()=>r))}saveOverlays(t,i,r){return r.forEach(((l,c)=>{this.St(t,i,c)})),Z.resolve()}removeOverlaysForBatchId(t,i,r){const l=this.qr.get(r);return l!==void 0&&(l.forEach((c=>this.overlays=this.overlays.remove(c))),this.qr.delete(r)),Z.resolve()}getOverlaysForCollection(t,i,r){const l=ta(),c=i.length+1,d=new mt(i.child("")),p=this.overlays.getIteratorFrom(d);for(;p.hasNext();){const _=p.getNext().value,y=_.getKey();if(!i.isPrefixOf(y.path))break;y.path.length===c&&_.largestBatchId>r&&l.set(_.getKey(),_)}return Z.resolve(l)}getOverlaysForCollectionGroup(t,i,r,l){let c=new be(((y,A)=>y-A));const d=this.overlays.getIterator();for(;d.hasNext();){const y=d.getNext().value;if(y.getKey().getCollectionGroup()===i&&y.largestBatchId>r){let A=c.get(y.largestBatchId);A===null&&(A=ta(),c=c.insert(y.largestBatchId,A)),A.set(y.getKey(),y)}}const p=ta(),_=c.getIterator();for(;_.hasNext()&&(_.getNext().value.forEach(((y,A)=>p.set(y,A))),!(p.size()>=l)););return Z.resolve(p)}St(t,i,r){const l=this.overlays.get(r.key);if(l!==null){const d=this.qr.get(l.largestBatchId).delete(r.key);this.qr.set(l.largestBatchId,d)}this.overlays=this.overlays.insert(r.key,new eI(i,r));let c=this.qr.get(i);c===void 0&&(c=qt(),this.qr.set(i,c)),this.qr.set(i,c.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PI{constructor(){this.sessionToken=on.EMPTY_BYTE_STRING}getSessionToken(t){return Z.resolve(this.sessionToken)}setSessionToken(t,i){return this.sessionToken=i,Z.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class og{constructor(){this.Qr=new Qe(Ze.$r),this.Ur=new Qe(Ze.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,i){const r=new Ze(t,i);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(t,i){t.forEach((r=>this.addReference(r,i)))}removeReference(t,i){this.Gr(new Ze(t,i))}zr(t,i){t.forEach((r=>this.removeReference(r,i)))}jr(t){const i=new mt(new he([])),r=new Ze(i,t),l=new Ze(i,t+1),c=[];return this.Ur.forEachInRange([r,l],(d=>{this.Gr(d),c.push(d.key)})),c}Jr(){this.Qr.forEach((t=>this.Gr(t)))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){const i=new mt(new he([])),r=new Ze(i,t),l=new Ze(i,t+1);let c=qt();return this.Ur.forEachInRange([r,l],(d=>{c=c.add(d.key)})),c}containsKey(t){const i=new Ze(t,0),r=this.Qr.firstAfterOrEqual(i);return r!==null&&t.isEqual(r.key)}}class Ze{constructor(t,i){this.key=t,this.Yr=i}static $r(t,i){return mt.comparator(t.key,i.key)||Bt(t.Yr,i.Yr)}static Kr(t,i){return Bt(t.Yr,i.Yr)||mt.comparator(t.key,i.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kI{constructor(t,i){this.indexManager=t,this.referenceDelegate=i,this.mutationQueue=[],this.tr=1,this.Zr=new Qe(Ze.$r)}checkEmpty(t){return Z.resolve(this.mutationQueue.length===0)}addMutationBatch(t,i,r,l){const c=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new tI(c,i,r,l);this.mutationQueue.push(d);for(const p of l)this.Zr=this.Zr.add(new Ze(p.key,c)),this.indexManager.addToCollectionParentIndex(t,p.key.path.popLast());return Z.resolve(d)}lookupMutationBatch(t,i){return Z.resolve(this.Xr(i))}getNextMutationBatchAfterBatchId(t,i){const r=i+1,l=this.ei(r),c=l<0?0:l;return Z.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return Z.resolve(this.mutationQueue.length===0?Zm:this.tr-1)}getAllMutationBatches(t){return Z.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,i){const r=new Ze(i,0),l=new Ze(i,Number.POSITIVE_INFINITY),c=[];return this.Zr.forEachInRange([r,l],(d=>{const p=this.Xr(d.Yr);c.push(p)})),Z.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(t,i){let r=new Qe(Bt);return i.forEach((l=>{const c=new Ze(l,0),d=new Ze(l,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([c,d],(p=>{r=r.add(p.Yr)}))})),Z.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(t,i){const r=i.path,l=r.length+1;let c=r;mt.isDocumentKey(c)||(c=c.child(""));const d=new Ze(new mt(c),0);let p=new Qe(Bt);return this.Zr.forEachWhile((_=>{const y=_.key.path;return!!r.isPrefixOf(y)&&(y.length===l&&(p=p.add(_.Yr)),!0)}),d),Z.resolve(this.ti(p))}ti(t){const i=[];return t.forEach((r=>{const l=this.Xr(r);l!==null&&i.push(l)})),i}removeMutationBatch(t,i){Qt(this.ni(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return Z.forEach(i.mutations,(l=>{const c=new Ze(l.key,i.batchId);return r=r.delete(c),this.referenceDelegate.markPotentiallyOrphaned(t,l.key)})).next((()=>{this.Zr=r}))}ir(t){}containsKey(t,i){const r=new Ze(i,0),l=this.Zr.firstAfterOrEqual(r);return Z.resolve(i.isEqual(l&&l.key))}performConsistencyCheck(t){return this.mutationQueue.length,Z.resolve()}ni(t,i){return this.ei(t)}ei(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Xr(t){const i=this.ei(t);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zI{constructor(t){this.ri=t,this.docs=(function(){return new be(mt.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,i){const r=i.key,l=this.docs.get(r),c=l?l.size:0,d=this.ri(i);return this.docs=this.docs.insert(r,{document:i.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(t,r.path.popLast())}removeEntry(t){const i=this.docs.get(t);i&&(this.docs=this.docs.remove(t),this.size-=i.size)}getEntry(t,i){const r=this.docs.get(i);return Z.resolve(r?r.document.mutableCopy():Je.newInvalidDocument(i))}getEntries(t,i){let r=ys();return i.forEach((l=>{const c=this.docs.get(l);r=r.insert(l,c?c.document.mutableCopy():Je.newInvalidDocument(l))})),Z.resolve(r)}getDocumentsMatchingQuery(t,i,r,l){let c=ys();const d=i.path,p=new mt(d.child("__id-9223372036854775808__")),_=this.docs.getIteratorFrom(p);for(;_.hasNext();){const{key:y,value:{document:A}}=_.getNext();if(!d.isPrefixOf(y.path))break;y.path.length>d.length+1||y2(p2(A),r)<=0||(l.has(A.key)||Vh(i,A))&&(c=c.insert(A.key,A.mutableCopy()))}return Z.resolve(c)}getAllFromCollectionGroup(t,i,r,l){yt(9500)}ii(t,i){return Z.forEach(this.docs,(r=>i(r)))}newChangeBuffer(t){return new jI(this)}getSize(t){return Z.resolve(this.size)}}class jI extends OI{constructor(t){super(),this.Nr=t}applyChanges(t){const i=[];return this.changes.forEach(((r,l)=>{l.isValidDocument()?i.push(this.Nr.addEntry(t,l)):this.Nr.removeEntry(r)})),Z.waitFor(i)}getFromCache(t,i){return this.Nr.getEntry(t,i)}getAllFromCache(t,i){return this.Nr.getEntries(t,i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BI{constructor(t){this.persistence=t,this.si=new la((i=>tg(i)),eg),this.lastRemoteSnapshotVersion=At.min(),this.highestTargetId=0,this.oi=0,this._i=new og,this.targetCount=0,this.ai=yo.ur()}forEachTarget(t,i){return this.si.forEach(((r,l)=>i(l))),Z.resolve()}getLastRemoteSnapshotVersion(t){return Z.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return Z.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),Z.resolve(this.highestTargetId)}setTargetsMetadata(t,i,r){return r&&(this.lastRemoteSnapshotVersion=r),i>this.oi&&(this.oi=i),Z.resolve()}Pr(t){this.si.set(t.target,t);const i=t.targetId;i>this.highestTargetId&&(this.ai=new yo(i),this.highestTargetId=i),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,i){return this.Pr(i),this.targetCount+=1,Z.resolve()}updateTargetData(t,i){return this.Pr(i),Z.resolve()}removeTargetData(t,i){return this.si.delete(i.target),this._i.jr(i.targetId),this.targetCount-=1,Z.resolve()}removeTargets(t,i,r){let l=0;const c=[];return this.si.forEach(((d,p)=>{p.sequenceNumber<=i&&r.get(p.targetId)===null&&(this.si.delete(d),c.push(this.removeMatchingKeysForTargetId(t,p.targetId)),l++)})),Z.waitFor(c).next((()=>l))}getTargetCount(t){return Z.resolve(this.targetCount)}getTargetData(t,i){const r=this.si.get(i)||null;return Z.resolve(r)}addMatchingKeys(t,i,r){return this._i.Wr(i,r),Z.resolve()}removeMatchingKeys(t,i,r){this._i.zr(i,r);const l=this.persistence.referenceDelegate,c=[];return l&&i.forEach((d=>{c.push(l.markPotentiallyOrphaned(t,d))})),Z.waitFor(c)}removeMatchingKeysForTargetId(t,i){return this._i.jr(i),Z.resolve()}getMatchingKeysForTargetId(t,i){const r=this._i.Hr(i);return Z.resolve(r)}containsKey(t,i){return Z.resolve(this._i.containsKey(i))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jT{constructor(t,i){this.ui={},this.overlays={},this.ci=new xh(0),this.li=!1,this.li=!0,this.hi=new PI,this.referenceDelegate=t(this),this.Pi=new BI(this),this.indexManager=new wI,this.remoteDocumentCache=(function(l){return new zI(l)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new SI(i),this.Ii=new UI(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let i=this.overlays[t.toKey()];return i||(i=new LI,this.overlays[t.toKey()]=i),i}getMutationQueue(t,i){let r=this.ui[t.toKey()];return r||(r=new kI(i,this.referenceDelegate),this.ui[t.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,i,r){ut("MemoryPersistence","Starting transaction:",t);const l=new qI(this.ci.next());return this.referenceDelegate.Ei(),r(l).next((c=>this.referenceDelegate.di(l).next((()=>c)))).toPromise().then((c=>(l.raiseOnCommittedEvent(),c)))}Ai(t,i){return Z.or(Object.values(this.ui).map((r=>()=>r.containsKey(t,i))))}}class qI extends v2{constructor(t){super(),this.currentSequenceNumber=t}}class lg{constructor(t){this.persistence=t,this.Ri=new og,this.Vi=null}static mi(t){return new lg(t)}get fi(){if(this.Vi)return this.Vi;throw yt(60996)}addReference(t,i,r){return this.Ri.addReference(r,i),this.fi.delete(r.toString()),Z.resolve()}removeReference(t,i,r){return this.Ri.removeReference(r,i),this.fi.add(r.toString()),Z.resolve()}markPotentiallyOrphaned(t,i){return this.fi.add(i.toString()),Z.resolve()}removeTarget(t,i){this.Ri.jr(i.targetId).forEach((l=>this.fi.add(l.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,i.targetId).next((l=>{l.forEach((c=>this.fi.add(c.toString())))})).next((()=>r.removeTargetData(t,i)))}Ei(){this.Vi=new Set}di(t){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Z.forEach(this.fi,(r=>{const l=mt.fromPath(r);return this.gi(t,l).next((c=>{c||i.removeEntry(l,At.min())}))})).next((()=>(this.Vi=null,i.apply(t))))}updateLimboDocument(t,i){return this.gi(t,i).next((r=>{r?this.fi.delete(i.toString()):this.fi.add(i.toString())}))}Ti(t){return 0}gi(t,i){return Z.or([()=>Z.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(t,i),()=>this.persistence.Ai(t,i)])}}class vh{constructor(t,i){this.persistence=t,this.pi=new la((r=>A2(r.path)),((r,l)=>r.isEqual(l))),this.garbageCollector=DI(this,i)}static mi(t,i){return new vh(t,i)}Ei(){}di(t){return Z.resolve()}forEachTarget(t,i){return this.persistence.getTargetCache().forEachTarget(t,i)}gr(t){const i=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next((r=>i.next((l=>r+l))))}wr(t){let i=0;return this.pr(t,(r=>{i++})).next((()=>i))}pr(t,i){return Z.forEach(this.pi,((r,l)=>this.br(t,r,l).next((c=>c?Z.resolve():i(l)))))}removeTargets(t,i,r){return this.persistence.getTargetCache().removeTargets(t,i,r)}removeOrphanedDocuments(t,i){let r=0;const l=this.persistence.getRemoteDocumentCache(),c=l.newChangeBuffer();return l.ii(t,(d=>this.br(t,d,i).next((p=>{p||(r++,c.removeEntry(d,At.min()))})))).next((()=>c.apply(t))).next((()=>r))}markPotentiallyOrphaned(t,i){return this.pi.set(i,t.currentSequenceNumber),Z.resolve()}removeTarget(t,i){const r=i.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,r)}addReference(t,i,r){return this.pi.set(r,t.currentSequenceNumber),Z.resolve()}removeReference(t,i,r){return this.pi.set(r,t.currentSequenceNumber),Z.resolve()}updateLimboDocument(t,i){return this.pi.set(i,t.currentSequenceNumber),Z.resolve()}Ti(t){let i=t.key.toString().length;return t.isFoundDocument()&&(i+=th(t.data.value)),i}br(t,i,r){return Z.or([()=>this.persistence.Ai(t,i),()=>this.persistence.getTargetCache().containsKey(t,i),()=>{const l=this.pi.get(i);return Z.resolve(l!==void 0&&l>r)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ug{constructor(t,i,r,l){this.targetId=t,this.fromCache=i,this.Es=r,this.ds=l}static As(t,i){let r=qt(),l=qt();for(const c of i.docChanges)switch(c.type){case 0:r=r.add(c.doc.key);break;case 1:l=l.add(c.doc.key)}return new ug(t,i.fromCache,r,l)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HI{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FI{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return Pb()?8:E2(dn())>0?6:4})()}initialize(t,i){this.ps=t,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(t,i,r,l){const c={result:null};return this.ys(t,i).next((d=>{c.result=d})).next((()=>{if(!c.result)return this.ws(t,i,l,r).next((d=>{c.result=d}))})).next((()=>{if(c.result)return;const d=new HI;return this.Ss(t,i,d).next((p=>{if(c.result=p,this.Vs)return this.bs(t,i,d,p.size)}))})).next((()=>c.result))}bs(t,i,r,l){return r.documentReadCount<this.fs?(eo()<=jt.DEBUG&&ut("QueryEngine","SDK will not create cache indexes for query:",no(i),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),Z.resolve()):(eo()<=jt.DEBUG&&ut("QueryEngine","Query:",no(i),"scans",r.documentReadCount,"local documents and returns",l,"documents as results."),r.documentReadCount>this.gs*l?(eo()<=jt.DEBUG&&ut("QueryEngine","The SDK decides to create cache indexes for query:",no(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,zi(i))):Z.resolve())}ys(t,i){if(h0(i))return Z.resolve(null);let r=zi(i);return this.indexManager.getIndexType(t,r).next((l=>l===0?null:(i.limit!==null&&l===1&&(i=wm(i,null,"F"),r=zi(i)),this.indexManager.getDocumentsMatchingTarget(t,r).next((c=>{const d=qt(...c);return this.ps.getDocuments(t,d).next((p=>this.indexManager.getMinOffset(t,r).next((_=>{const y=this.Ds(i,p);return this.Cs(i,y,d,_.readTime)?this.ys(t,wm(i,null,"F")):this.vs(t,y,i,_)}))))})))))}ws(t,i,r,l){return h0(i)||l.isEqual(At.min())?Z.resolve(null):this.ps.getDocuments(t,r).next((c=>{const d=this.Ds(i,c);return this.Cs(i,d,r,l)?Z.resolve(null):(eo()<=jt.DEBUG&&ut("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),no(i)),this.vs(t,d,i,g2(l,Yl)).next((p=>p)))}))}Ds(t,i){let r=new Qe(dT(t));return i.forEach(((l,c)=>{Vh(t,c)&&(r=r.add(c))})),r}Cs(t,i,r,l){if(t.limit===null)return!1;if(r.size!==i.size)return!0;const c=t.limitType==="F"?i.last():i.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(l)>0)}Ss(t,i,r){return eo()<=jt.DEBUG&&ut("QueryEngine","Using full collection scan to execute query:",no(i)),this.ps.getDocumentsMatchingQuery(t,i,fr.min(),r)}vs(t,i,r,l){return this.ps.getDocumentsMatchingQuery(t,r,l).next((c=>(i.forEach((d=>{c=c.insert(d.key,d)})),c)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cg="LocalStore",GI=3e8;class QI{constructor(t,i,r,l){this.persistence=t,this.Fs=i,this.serializer=l,this.Ms=new be(Bt),this.xs=new la((c=>tg(c)),eg),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(r)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new VI(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>t.collect(i,this.Ms)))}}function YI(s,t,i,r){return new QI(s,t,i,r)}async function BT(s,t){const i=Rt(s);return await i.persistence.runTransaction("Handle user change","readonly",(r=>{let l;return i.mutationQueue.getAllMutationBatches(r).next((c=>(l=c,i.Bs(t),i.mutationQueue.getAllMutationBatches(r)))).next((c=>{const d=[],p=[];let _=qt();for(const y of l){d.push(y.batchId);for(const A of y.mutations)_=_.add(A.key)}for(const y of c){p.push(y.batchId);for(const A of y.mutations)_=_.add(A.key)}return i.localDocuments.getDocuments(r,_).next((y=>({Ls:y,removedBatchIds:d,addedBatchIds:p})))}))}))}function KI(s,t){const i=Rt(s);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const l=t.batch.keys(),c=i.Ns.newChangeBuffer({trackRemovals:!0});return(function(p,_,y,A){const S=y.batch,x=S.keys();let Q=Z.resolve();return x.forEach((W=>{Q=Q.next((()=>A.getEntry(_,W))).next((at=>{const tt=y.docVersions.get(W);Qt(tt!==null,48541),at.version.compareTo(tt)<0&&(S.applyToRemoteDocument(at,y),at.isValidDocument()&&(at.setReadTime(y.commitVersion),A.addEntry(at)))}))})),Q.next((()=>p.mutationQueue.removeMutationBatch(_,S)))})(i,r,t,c).next((()=>c.apply(r))).next((()=>i.mutationQueue.performConsistencyCheck(r))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(r,l,t.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(p){let _=qt();for(let y=0;y<p.mutationResults.length;++y)p.mutationResults[y].transformResults.length>0&&(_=_.add(p.batch.mutations[y].key));return _})(t)))).next((()=>i.localDocuments.getDocuments(r,l)))}))}function qT(s){const t=Rt(s);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>t.Pi.getLastRemoteSnapshotVersion(i)))}function XI(s,t){const i=Rt(s),r=t.snapshotVersion;let l=i.Ms;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const d=i.Ns.newChangeBuffer({trackRemovals:!0});l=i.Ms;const p=[];t.targetChanges.forEach(((A,S)=>{const x=l.get(S);if(!x)return;p.push(i.Pi.removeMatchingKeys(c,A.removedDocuments,S).next((()=>i.Pi.addMatchingKeys(c,A.addedDocuments,S))));let Q=x.withSequenceNumber(c.currentSequenceNumber);t.targetMismatches.get(S)!==null?Q=Q.withResumeToken(on.EMPTY_BYTE_STRING,At.min()).withLastLimboFreeSnapshotVersion(At.min()):A.resumeToken.approximateByteSize()>0&&(Q=Q.withResumeToken(A.resumeToken,r)),l=l.insert(S,Q),(function(at,tt,_t){return at.resumeToken.approximateByteSize()===0||tt.snapshotVersion.toMicroseconds()-at.snapshotVersion.toMicroseconds()>=GI?!0:_t.addedDocuments.size+_t.modifiedDocuments.size+_t.removedDocuments.size>0})(x,Q,A)&&p.push(i.Pi.updateTargetData(c,Q))}));let _=ys(),y=qt();if(t.documentUpdates.forEach((A=>{t.resolvedLimboDocuments.has(A)&&p.push(i.persistence.referenceDelegate.updateLimboDocument(c,A))})),p.push($I(c,d,t.documentUpdates).next((A=>{_=A.ks,y=A.qs}))),!r.isEqual(At.min())){const A=i.Pi.getLastRemoteSnapshotVersion(c).next((S=>i.Pi.setTargetsMetadata(c,c.currentSequenceNumber,r)));p.push(A)}return Z.waitFor(p).next((()=>d.apply(c))).next((()=>i.localDocuments.getLocalViewOfDocuments(c,_,y))).next((()=>_))})).then((c=>(i.Ms=l,c)))}function $I(s,t,i){let r=qt(),l=qt();return i.forEach((c=>r=r.add(c))),t.getEntries(s,r).next((c=>{let d=ys();return i.forEach(((p,_)=>{const y=c.get(p);_.isFoundDocument()!==y.isFoundDocument()&&(l=l.add(p)),_.isNoDocument()&&_.version.isEqual(At.min())?(t.removeEntry(p,_.readTime),d=d.insert(p,_)):!y.isValidDocument()||_.version.compareTo(y.version)>0||_.version.compareTo(y.version)===0&&y.hasPendingWrites?(t.addEntry(_),d=d.insert(p,_)):ut(cg,"Ignoring outdated watch update for ",p,". Current version:",y.version," Watch version:",_.version)})),{ks:d,qs:l}}))}function ZI(s,t){const i=Rt(s);return i.persistence.runTransaction("Get next mutation batch","readonly",(r=>(t===void 0&&(t=Zm),i.mutationQueue.getNextMutationBatchAfterBatchId(r,t))))}function JI(s,t){const i=Rt(s);return i.persistence.runTransaction("Allocate target","readwrite",(r=>{let l;return i.Pi.getTargetData(r,t).next((c=>c?(l=c,Z.resolve(l)):i.Pi.allocateTargetId(r).next((d=>(l=new rr(t,d,"TargetPurposeListen",r.currentSequenceNumber),i.Pi.addTargetData(r,l).next((()=>l)))))))})).then((r=>{const l=i.Ms.get(r.targetId);return(l===null||r.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(i.Ms=i.Ms.insert(r.targetId,r),i.xs.set(t,r.targetId)),r}))}async function Nm(s,t,i){const r=Rt(s),l=r.Ms.get(t),c=i?"readwrite":"readwrite-primary";try{i||await r.persistence.runTransaction("Release target",c,(d=>r.persistence.referenceDelegate.removeTarget(d,l)))}catch(d){if(!wo(d))throw d;ut(cg,`Failed to update sequence numbers for target ${t}: ${d}`)}r.Ms=r.Ms.remove(t),r.xs.delete(l.target)}function b0(s,t,i){const r=Rt(s);let l=At.min(),c=qt();return r.persistence.runTransaction("Execute query","readwrite",(d=>(function(_,y,A){const S=Rt(_),x=S.xs.get(A);return x!==void 0?Z.resolve(S.Ms.get(x)):S.Pi.getTargetData(y,A)})(r,d,zi(t)).next((p=>{if(p)return l=p.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(d,p.targetId).next((_=>{c=_}))})).next((()=>r.Fs.getDocumentsMatchingQuery(d,t,i?l:At.min(),i?c:qt()))).next((p=>(WI(r,B2(t),p),{documents:p,Qs:c})))))}function WI(s,t,i){let r=s.Os.get(t)||At.min();i.forEach(((l,c)=>{c.readTime.compareTo(r)>0&&(r=c.readTime)})),s.Os.set(t,r)}class w0{constructor(){this.activeTargetIds=Y2()}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class tC{constructor(){this.Mo=new w0,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,i,r){}addLocalQueryTarget(t,i=!0){return i&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,i,r){this.xo[t]=i}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new w0,Promise.resolve()}handleUserChange(t,i,r){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eC{Oo(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R0="ConnectivityMonitor";class I0{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ut(R0,"Network connectivity changed: AVAILABLE");for(const t of this.qo)t(0)}ko(){ut(R0,"Network connectivity changed: UNAVAILABLE");for(const t of this.qo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Qc=null;function xm(){return Qc===null?Qc=(function(){return 268435456+Math.round(2147483648*Math.random())})():Qc++,"0x"+Qc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sm="RestConnection",nC={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class iC{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const i=t.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.Uo=i+"://"+t.host,this.Ko=`projects/${r}/databases/${l}`,this.Wo=this.databaseId.database===mh?`project_id=${r}`:`project_id=${r}&database_id=${l}`}Go(t,i,r,l,c){const d=xm(),p=this.zo(t,i.toUriEncodedString());ut(sm,`Sending RPC '${t}' ${d}:`,p,r);const _={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(_,l,c);const{host:y}=new URL(p),A=Eo(y);return this.Jo(t,p,_,r,A).then((S=>(ut(sm,`Received RPC '${t}' ${d}: `,S),S)),(S=>{throw fo(sm,`RPC '${t}' ${d} failed with error: `,S,"url: ",p,"request:",r),S}))}Ho(t,i,r,l,c,d){return this.Go(t,i,r,l,c)}jo(t,i,r){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+So})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((l,c)=>t[c]=l)),r&&r.headers.forEach(((l,c)=>t[c]=l))}zo(t,i){const r=nC[t];return`${this.Uo}/v1/${i}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sC{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const un="WebChannelConnection";class rC extends iC{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,i,r,l,c){const d=xm();return new Promise(((p,_)=>{const y=new jE;y.setWithCredentials(!0),y.listenOnce(BE.COMPLETE,(()=>{try{switch(y.getLastErrorCode()){case Wc.NO_ERROR:const S=y.getResponseJson();ut(un,`XHR for RPC '${t}' ${d} received:`,JSON.stringify(S)),p(S);break;case Wc.TIMEOUT:ut(un,`RPC '${t}' ${d} timed out`),_(new rt(Y.DEADLINE_EXCEEDED,"Request time out"));break;case Wc.HTTP_ERROR:const x=y.getStatus();if(ut(un,`RPC '${t}' ${d} failed with status:`,x,"response text:",y.getResponseText()),x>0){let Q=y.getResponseJson();Array.isArray(Q)&&(Q=Q[0]);const W=Q?.error;if(W&&W.status&&W.message){const at=(function(_t){const St=_t.toLowerCase().replace(/_/g,"-");return Object.values(Y).indexOf(St)>=0?St:Y.UNKNOWN})(W.status);_(new rt(at,W.message))}else _(new rt(Y.UNKNOWN,"Server responded with status "+y.getStatus()))}else _(new rt(Y.UNAVAILABLE,"Connection failed."));break;default:yt(9055,{l_:t,streamId:d,h_:y.getLastErrorCode(),P_:y.getLastError()})}}finally{ut(un,`RPC '${t}' ${d} completed.`)}}));const A=JSON.stringify(l);ut(un,`RPC '${t}' ${d} sending request:`,l),y.send(i,"POST",A,r,15)}))}T_(t,i,r){const l=xm(),c=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],d=FE(),p=HE(),_={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(_.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(_.useFetchStreams=!0),this.jo(_.initMessageHeaders,i,r),_.encodeInitMessageHeaders=!0;const A=c.join("");ut(un,`Creating RPC '${t}' stream ${l}: ${A}`,_);const S=d.createWebChannel(A,_);this.I_(S);let x=!1,Q=!1;const W=new sC({Yo:tt=>{Q?ut(un,`Not sending because RPC '${t}' stream ${l} is closed:`,tt):(x||(ut(un,`Opening RPC '${t}' stream ${l} transport.`),S.open(),x=!0),ut(un,`RPC '${t}' stream ${l} sending:`,tt),S.send(tt))},Zo:()=>S.close()}),at=(tt,_t,St)=>{tt.listen(_t,(Et=>{try{St(Et)}catch(Yt){setTimeout((()=>{throw Yt}),0)}}))};return at(S,Vl.EventType.OPEN,(()=>{Q||(ut(un,`RPC '${t}' stream ${l} transport opened.`),W.o_())})),at(S,Vl.EventType.CLOSE,(()=>{Q||(Q=!0,ut(un,`RPC '${t}' stream ${l} transport closed`),W.a_(),this.E_(S))})),at(S,Vl.EventType.ERROR,(tt=>{Q||(Q=!0,fo(un,`RPC '${t}' stream ${l} transport errored. Name:`,tt.name,"Message:",tt.message),W.a_(new rt(Y.UNAVAILABLE,"The operation could not be completed")))})),at(S,Vl.EventType.MESSAGE,(tt=>{if(!Q){const _t=tt.data[0];Qt(!!_t,16349);const St=_t,Et=St?.error||St[0]?.error;if(Et){ut(un,`RPC '${t}' stream ${l} received error:`,Et);const Yt=Et.status;let te=(function(w){const I=Be[w];if(I!==void 0)return CT(I)})(Yt),Ht=Et.message;te===void 0&&(te=Y.INTERNAL,Ht="Unknown error status: "+Yt+" with message "+Et.message),Q=!0,W.a_(new rt(te,Ht)),S.close()}else ut(un,`RPC '${t}' stream ${l} received:`,_t),W.u_(_t)}})),at(p,qE.STAT_EVENT,(tt=>{tt.stat===_m.PROXY?ut(un,`RPC '${t}' stream ${l} detected buffering proxy`):tt.stat===_m.NOPROXY&&ut(un,`RPC '${t}' stream ${l} detected no buffering proxy`)})),setTimeout((()=>{W.__()}),0),W}terminate(){this.c_.forEach((t=>t.close())),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter((i=>i===t))}}function rm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kh(s){return new uI(s,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hg{constructor(t,i,r=1e3,l=1.5,c=6e4){this.Mi=t,this.timerId=i,this.d_=r,this.A_=l,this.R_=c,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const i=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),l=Math.max(0,i-r);l>0&&ut("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.V_} ms, delay with jitter: ${i} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,l,(()=>(this.f_=Date.now(),t()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C0="PersistentStream";class HT{constructor(t,i,r,l,c,d,p,_){this.Mi=t,this.S_=r,this.b_=l,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=p,this.listener=_,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new hg(t,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(t){this.Q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,i){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():i&&i.code===Y.RESOURCE_EXHAUSTED?(ps(i.toString()),ps("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===Y.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.r_(i)}K_(){}auth(){this.state=1;const t=this.W_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,l])=>{this.D_===i&&this.G_(r,l)}),(r=>{t((()=>{const l=new rt(Y.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(l)}))}))}G_(t,i){const r=this.W_(this.D_);this.stream=this.j_(t,i),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((l=>{r((()=>this.z_(l)))})),this.stream.onMessage((l=>{r((()=>++this.F_==1?this.J_(l):this.onNext(l)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return ut(C0,`close with error: ${t}`),this.stream=null,this.close(4,t)}W_(t){return i=>{this.Mi.enqueueAndForget((()=>this.D_===t?i():(ut(C0,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class aC extends HT{constructor(t,i,r,l,c,d){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,r,l,d),this.serializer=c}j_(t,i){return this.connection.T_("Listen",t,i)}J_(t){return this.onNext(t)}onNext(t){this.M_.reset();const i=dI(this.serializer,t),r=(function(c){if(!("targetChange"in c))return At.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?At.min():d.readTime?kn(d.readTime):At.min()})(t);return this.listener.H_(i,r)}Y_(t){const i={};i.database=Cm(this.serializer),i.addTarget=(function(c,d){let p;const _=d.target;if(p=Sm(_)?{documents:gI(c,_)}:{query:pI(c,_).ft},p.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){p.resumeToken=DT(c,d.resumeToken);const y=Rm(c,d.expectedCount);y!==null&&(p.expectedCount=y)}else if(d.snapshotVersion.compareTo(At.min())>0){p.readTime=yh(c,d.snapshotVersion.toTimestamp());const y=Rm(c,d.expectedCount);y!==null&&(p.expectedCount=y)}return p})(this.serializer,t);const r=_I(this.serializer,t);r&&(i.labels=r),this.q_(i)}Z_(t){const i={};i.database=Cm(this.serializer),i.removeTarget=t,this.q_(i)}}class oC extends HT{constructor(t,i,r,l,c,d){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,r,l,d),this.serializer=c}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(t,i){return this.connection.T_("Write",t,i)}J_(t){return Qt(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Qt(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){Qt(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const i=mI(t.writeResults,t.commitTime),r=kn(t.commitTime);return this.listener.na(r,i)}ra(){const t={};t.database=Cm(this.serializer),this.q_(t)}ea(t){const i={streamToken:this.lastStreamToken,writes:t.map((r=>UT(this.serializer,r)))};this.q_(i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lC{}class uC extends lC{constructor(t,i,r,l){super(),this.authCredentials=t,this.appCheckCredentials=i,this.connection=r,this.serializer=l,this.ia=!1}sa(){if(this.ia)throw new rt(Y.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,i,r,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Go(t,Im(i,r),l,c,d))).catch((c=>{throw c.name==="FirebaseError"?(c.code===Y.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new rt(Y.UNKNOWN,c.toString())}))}Ho(t,i,r,l,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,p])=>this.connection.Ho(t,Im(i,r),l,d,p,c))).catch((d=>{throw d.name==="FirebaseError"?(d.code===Y.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new rt(Y.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class cC{constructor(t,i){this.asyncQueue=t,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const i=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(ps(i),this.aa=!1):ut("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oa="RemoteStore";class hC{constructor(t,i,r,l,c){this.localStore=t,this.datastore=i,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=c,this.Aa.Oo((d=>{r.enqueueAndForget((async()=>{ua(this)&&(ut(oa,"Restarting streams for network reachability change."),await(async function(_){const y=Rt(_);y.Ea.add(4),await hu(y),y.Ra.set("Unknown"),y.Ea.delete(4),await zh(y)})(this))}))})),this.Ra=new cC(r,l)}}async function zh(s){if(ua(s))for(const t of s.da)await t(!0)}async function hu(s){for(const t of s.da)await t(!1)}function FT(s,t){const i=Rt(s);i.Ia.has(t.targetId)||(i.Ia.set(t.targetId,t),gg(i)?mg(i):Io(i).O_()&&dg(i,t))}function fg(s,t){const i=Rt(s),r=Io(i);i.Ia.delete(t),r.O_()&&GT(i,t),i.Ia.size===0&&(r.O_()?r.L_():ua(i)&&i.Ra.set("Unknown"))}function dg(s,t){if(s.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(At.min())>0){const i=s.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(i)}Io(s).Y_(t)}function GT(s,t){s.Va.Ue(t),Io(s).Z_(t)}function mg(s){s.Va=new rI({getRemoteKeysForTarget:t=>s.remoteSyncer.getRemoteKeysForTarget(t),At:t=>s.Ia.get(t)||null,ht:()=>s.datastore.serializer.databaseId}),Io(s).start(),s.Ra.ua()}function gg(s){return ua(s)&&!Io(s).x_()&&s.Ia.size>0}function ua(s){return Rt(s).Ea.size===0}function QT(s){s.Va=void 0}async function fC(s){s.Ra.set("Online")}async function dC(s){s.Ia.forEach(((t,i)=>{dg(s,t)}))}async function mC(s,t){QT(s),gg(s)?(s.Ra.ha(t),mg(s)):s.Ra.set("Unknown")}async function gC(s,t,i){if(s.Ra.set("Online"),t instanceof xT&&t.state===2&&t.cause)try{await(async function(l,c){const d=c.cause;for(const p of c.targetIds)l.Ia.has(p)&&(await l.remoteSyncer.rejectListen(p,d),l.Ia.delete(p),l.Va.removeTarget(p))})(s,t)}catch(r){ut(oa,"Failed to remove targets %s: %s ",t.targetIds.join(","),r),await Eh(s,r)}else if(t instanceof ih?s.Va.Ze(t):t instanceof NT?s.Va.st(t):s.Va.tt(t),!i.isEqual(At.min()))try{const r=await qT(s.localStore);i.compareTo(r)>=0&&await(function(c,d){const p=c.Va.Tt(d);return p.targetChanges.forEach(((_,y)=>{if(_.resumeToken.approximateByteSize()>0){const A=c.Ia.get(y);A&&c.Ia.set(y,A.withResumeToken(_.resumeToken,d))}})),p.targetMismatches.forEach(((_,y)=>{const A=c.Ia.get(_);if(!A)return;c.Ia.set(_,A.withResumeToken(on.EMPTY_BYTE_STRING,A.snapshotVersion)),GT(c,_);const S=new rr(A.target,_,y,A.sequenceNumber);dg(c,S)})),c.remoteSyncer.applyRemoteEvent(p)})(s,i)}catch(r){ut(oa,"Failed to raise snapshot:",r),await Eh(s,r)}}async function Eh(s,t,i){if(!wo(t))throw t;s.Ea.add(1),await hu(s),s.Ra.set("Offline"),i||(i=()=>qT(s.localStore)),s.asyncQueue.enqueueRetryable((async()=>{ut(oa,"Retrying IndexedDB access"),await i(),s.Ea.delete(1),await zh(s)}))}function YT(s,t){return t().catch((i=>Eh(s,i,t)))}async function jh(s){const t=Rt(s),i=pr(t);let r=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:Zm;for(;pC(t);)try{const l=await ZI(t.localStore,r);if(l===null){t.Ta.length===0&&i.L_();break}r=l.batchId,yC(t,l)}catch(l){await Eh(t,l)}KT(t)&&XT(t)}function pC(s){return ua(s)&&s.Ta.length<10}function yC(s,t){s.Ta.push(t);const i=pr(s);i.O_()&&i.X_&&i.ea(t.mutations)}function KT(s){return ua(s)&&!pr(s).x_()&&s.Ta.length>0}function XT(s){pr(s).start()}async function _C(s){pr(s).ra()}async function vC(s){const t=pr(s);for(const i of s.Ta)t.ea(i.mutations)}async function EC(s,t,i){const r=s.Ta.shift(),l=sg.from(r,t,i);await YT(s,(()=>s.remoteSyncer.applySuccessfulWrite(l))),await jh(s)}async function TC(s,t){t&&pr(s).X_&&await(async function(r,l){if((function(d){return IT(d)&&d!==Y.ABORTED})(l.code)){const c=r.Ta.shift();pr(r).B_(),await YT(r,(()=>r.remoteSyncer.rejectFailedWrite(c.batchId,l))),await jh(r)}})(s,t),KT(s)&&XT(s)}async function N0(s,t){const i=Rt(s);i.asyncQueue.verifyOperationInProgress(),ut(oa,"RemoteStore received new credentials");const r=ua(i);i.Ea.add(3),await hu(i),r&&i.Ra.set("Unknown"),await i.remoteSyncer.handleCredentialChange(t),i.Ea.delete(3),await zh(i)}async function AC(s,t){const i=Rt(s);t?(i.Ea.delete(2),await zh(i)):t||(i.Ea.add(2),await hu(i),i.Ra.set("Unknown"))}function Io(s){return s.ma||(s.ma=(function(i,r,l){const c=Rt(i);return c.sa(),new aC(r,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(s.datastore,s.asyncQueue,{Xo:fC.bind(null,s),t_:dC.bind(null,s),r_:mC.bind(null,s),H_:gC.bind(null,s)}),s.da.push((async t=>{t?(s.ma.B_(),gg(s)?mg(s):s.Ra.set("Unknown")):(await s.ma.stop(),QT(s))}))),s.ma}function pr(s){return s.fa||(s.fa=(function(i,r,l){const c=Rt(i);return c.sa(),new oC(r,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(s.datastore,s.asyncQueue,{Xo:()=>Promise.resolve(),t_:_C.bind(null,s),r_:TC.bind(null,s),ta:vC.bind(null,s),na:EC.bind(null,s)}),s.da.push((async t=>{t?(s.fa.B_(),await jh(s)):(await s.fa.stop(),s.Ta.length>0&&(ut(oa,`Stopping write stream with ${s.Ta.length} pending writes`),s.Ta=[]))}))),s.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pg{constructor(t,i,r,l,c){this.asyncQueue=t,this.timerId=i,this.targetTimeMs=r,this.op=l,this.removalCallback=c,this.deferred=new ki,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,i,r,l,c){const d=Date.now()+r,p=new pg(t,i,d,l,c);return p.start(r),p}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new rt(Y.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function yg(s,t){if(ps("AsyncQueue",`${t}: ${s}`),wo(s))return new rt(Y.UNAVAILABLE,`${t}: ${s}`);throw s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uo{static emptySet(t){return new uo(t.comparator)}constructor(t){this.comparator=t?(i,r)=>t(i,r)||mt.comparator(i.key,r.key):(i,r)=>mt.comparator(i.key,r.key),this.keyedMap=Ul(),this.sortedSet=new be(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const i=this.keyedMap.get(t);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((i,r)=>(t(i),!1)))}add(t){const i=this.delete(t.key);return i.copy(i.keyedMap.insert(t.key,t),i.sortedSet.insert(t,null))}delete(t){const i=this.get(t);return i?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(i)):this}isEqual(t){if(!(t instanceof uo)||this.size!==t.size)return!1;const i=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=r.getNext().key;if(!l.isEqual(c))return!1}return!0}toString(){const t=[];return this.forEach((i=>{t.push(i.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,i){const r=new uo;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=i,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x0{constructor(){this.ga=new be(mt.comparator)}track(t){const i=t.doc.key,r=this.ga.get(i);r?t.type!==0&&r.type===3?this.ga=this.ga.insert(i,t):t.type===3&&r.type!==1?this.ga=this.ga.insert(i,{type:r.type,doc:t.doc}):t.type===2&&r.type===2?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):t.type===2&&r.type===0?this.ga=this.ga.insert(i,{type:0,doc:t.doc}):t.type===1&&r.type===0?this.ga=this.ga.remove(i):t.type===1&&r.type===2?this.ga=this.ga.insert(i,{type:1,doc:r.doc}):t.type===0&&r.type===1?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):yt(63341,{Rt:t,pa:r}):this.ga=this.ga.insert(i,t)}ya(){const t=[];return this.ga.inorderTraversal(((i,r)=>{t.push(r)})),t}}class _o{constructor(t,i,r,l,c,d,p,_,y){this.query=t,this.docs=i,this.oldDocs=r,this.docChanges=l,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=p,this.excludesMetadataChanges=_,this.hasCachedResults=y}static fromInitialDocuments(t,i,r,l,c){const d=[];return i.forEach((p=>{d.push({type:0,doc:p})})),new _o(t,i,uo.emptySet(i),d,r,l,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Mh(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const i=this.docChanges,r=t.docChanges;if(i.length!==r.length)return!1;for(let l=0;l<i.length;l++)if(i[l].type!==r[l].type||!i[l].doc.isEqual(r[l].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SC{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((t=>t.Da()))}}class bC{constructor(){this.queries=D0(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,r){const l=Rt(i),c=l.queries;l.queries=D0(),c.forEach(((d,p)=>{for(const _ of p.Sa)_.onError(r)}))})(this,new rt(Y.ABORTED,"Firestore shutting down"))}}function D0(){return new la((s=>fT(s)),Mh)}async function _g(s,t){const i=Rt(s);let r=3;const l=t.query;let c=i.queries.get(l);c?!c.ba()&&t.Da()&&(r=2):(c=new SC,r=t.Da()?0:1);try{switch(r){case 0:c.wa=await i.onListen(l,!0);break;case 1:c.wa=await i.onListen(l,!1);break;case 2:await i.onFirstRemoteStoreListen(l)}}catch(d){const p=yg(d,`Initialization of query '${no(t.query)}' failed`);return void t.onError(p)}i.queries.set(l,c),c.Sa.push(t),t.va(i.onlineState),c.wa&&t.Fa(c.wa)&&Eg(i)}async function vg(s,t){const i=Rt(s),r=t.query;let l=3;const c=i.queries.get(r);if(c){const d=c.Sa.indexOf(t);d>=0&&(c.Sa.splice(d,1),c.Sa.length===0?l=t.Da()?0:1:!c.ba()&&t.Da()&&(l=2))}switch(l){case 0:return i.queries.delete(r),i.onUnlisten(r,!0);case 1:return i.queries.delete(r),i.onUnlisten(r,!1);case 2:return i.onLastRemoteStoreUnlisten(r);default:return}}function wC(s,t){const i=Rt(s);let r=!1;for(const l of t){const c=l.query,d=i.queries.get(c);if(d){for(const p of d.Sa)p.Fa(l)&&(r=!0);d.wa=l}}r&&Eg(i)}function RC(s,t,i){const r=Rt(s),l=r.queries.get(t);if(l)for(const c of l.Sa)c.onError(i);r.queries.delete(t)}function Eg(s){s.Ca.forEach((t=>{t.next()}))}var Dm,O0;(O0=Dm||(Dm={})).Ma="default",O0.Cache="cache";class Tg{constructor(t,i,r){this.query=t,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(t){if(!this.options.includeMetadataChanges){const r=[];for(const l of t.docChanges)l.type!==3&&r.push(l);t=new _o(t.query,t.docs,t.oldDocs,r,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let i=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),i=!0):this.La(t,this.onlineState)&&(this.ka(t),i=!0),this.Na=t,i}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),i=!0),i}La(t,i){if(!t.fromCache||!this.Da())return!0;const r=i!=="Offline";return(!this.options.qa||!r)&&(!t.docs.isEmpty()||t.hasCachedResults||i==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(t){t=_o.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==Dm.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $T{constructor(t){this.key=t}}class ZT{constructor(t){this.key=t}}class IC{constructor(t,i){this.query=t,this.Ya=i,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=qt(),this.mutatedKeys=qt(),this.eu=dT(t),this.tu=new uo(this.eu)}get nu(){return this.Ya}ru(t,i){const r=i?i.iu:new x0,l=i?i.tu:this.tu;let c=i?i.mutatedKeys:this.mutatedKeys,d=l,p=!1;const _=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,y=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(t.inorderTraversal(((A,S)=>{const x=l.get(A),Q=Vh(this.query,S)?S:null,W=!!x&&this.mutatedKeys.has(x.key),at=!!Q&&(Q.hasLocalMutations||this.mutatedKeys.has(Q.key)&&Q.hasCommittedMutations);let tt=!1;x&&Q?x.data.isEqual(Q.data)?W!==at&&(r.track({type:3,doc:Q}),tt=!0):this.su(x,Q)||(r.track({type:2,doc:Q}),tt=!0,(_&&this.eu(Q,_)>0||y&&this.eu(Q,y)<0)&&(p=!0)):!x&&Q?(r.track({type:0,doc:Q}),tt=!0):x&&!Q&&(r.track({type:1,doc:x}),tt=!0,(_||y)&&(p=!0)),tt&&(Q?(d=d.add(Q),c=at?c.add(A):c.delete(A)):(d=d.delete(A),c=c.delete(A)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const A=this.query.limitType==="F"?d.last():d.first();d=d.delete(A.key),c=c.delete(A.key),r.track({type:1,doc:A})}return{tu:d,iu:r,Cs:p,mutatedKeys:c}}su(t,i){return t.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(t,i,r,l){const c=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const d=t.iu.ya();d.sort(((A,S)=>(function(Q,W){const at=tt=>{switch(tt){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return yt(20277,{Rt:tt})}};return at(Q)-at(W)})(A.type,S.type)||this.eu(A.doc,S.doc))),this.ou(r),l=l??!1;const p=i&&!l?this._u():[],_=this.Xa.size===0&&this.current&&!l?1:0,y=_!==this.Za;return this.Za=_,d.length!==0||y?{snapshot:new _o(this.query,t.tu,c,d,t.mutatedKeys,_===0,y,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:p}:{au:p}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new x0,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(t){return!this.Ya.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((i=>this.Ya=this.Ya.add(i))),t.modifiedDocuments.forEach((i=>{})),t.removedDocuments.forEach((i=>this.Ya=this.Ya.delete(i))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Xa;this.Xa=qt(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const i=[];return t.forEach((r=>{this.Xa.has(r)||i.push(new ZT(r))})),this.Xa.forEach((r=>{t.has(r)||i.push(new $T(r))})),i}cu(t){this.Ya=t.Qs,this.Xa=qt();const i=this.ru(t.documents);return this.applyChanges(i,!0)}lu(){return _o.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Ag="SyncEngine";class CC{constructor(t,i,r){this.query=t,this.targetId=i,this.view=r}}class NC{constructor(t){this.key=t,this.hu=!1}}class xC{constructor(t,i,r,l,c,d){this.localStore=t,this.remoteStore=i,this.eventManager=r,this.sharedClientState=l,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new la((p=>fT(p)),Mh),this.Iu=new Map,this.Eu=new Set,this.du=new be(mt.comparator),this.Au=new Map,this.Ru=new og,this.Vu={},this.mu=new Map,this.fu=yo.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function DC(s,t,i=!0){const r=iA(s);let l;const c=r.Tu.get(t);return c?(r.sharedClientState.addLocalQueryTarget(c.targetId),l=c.view.lu()):l=await JT(r,t,i,!0),l}async function OC(s,t){const i=iA(s);await JT(i,t,!0,!1)}async function JT(s,t,i,r){const l=await JI(s.localStore,zi(t)),c=l.targetId,d=s.sharedClientState.addLocalQueryTarget(c,i);let p;return r&&(p=await MC(s,t,c,d==="current",l.resumeToken)),s.isPrimaryClient&&i&&FT(s.remoteStore,l),p}async function MC(s,t,i,r,l){s.pu=(S,x,Q)=>(async function(at,tt,_t,St){let Et=tt.view.ru(_t);Et.Cs&&(Et=await b0(at.localStore,tt.query,!1).then((({documents:N})=>tt.view.ru(N,Et))));const Yt=St&&St.targetChanges.get(tt.targetId),te=St&&St.targetMismatches.get(tt.targetId)!=null,Ht=tt.view.applyChanges(Et,at.isPrimaryClient,Yt,te);return V0(at,tt.targetId,Ht.au),Ht.snapshot})(s,S,x,Q);const c=await b0(s.localStore,t,!0),d=new IC(t,c.Qs),p=d.ru(c.documents),_=cu.createSynthesizedTargetChangeForCurrentChange(i,r&&s.onlineState!=="Offline",l),y=d.applyChanges(p,s.isPrimaryClient,_);V0(s,i,y.au);const A=new CC(t,i,d);return s.Tu.set(t,A),s.Iu.has(i)?s.Iu.get(i).push(t):s.Iu.set(i,[t]),y.snapshot}async function VC(s,t,i){const r=Rt(s),l=r.Tu.get(t),c=r.Iu.get(l.targetId);if(c.length>1)return r.Iu.set(l.targetId,c.filter((d=>!Mh(d,t)))),void r.Tu.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(l.targetId),r.sharedClientState.isActiveQueryTarget(l.targetId)||await Nm(r.localStore,l.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(l.targetId),i&&fg(r.remoteStore,l.targetId),Om(r,l.targetId)})).catch(bo)):(Om(r,l.targetId),await Nm(r.localStore,l.targetId,!0))}async function UC(s,t){const i=Rt(s),r=i.Tu.get(t),l=i.Iu.get(r.targetId);i.isPrimaryClient&&l.length===1&&(i.sharedClientState.removeLocalQueryTarget(r.targetId),fg(i.remoteStore,r.targetId))}async function LC(s,t,i){const r=HC(s);try{const l=await(function(d,p){const _=Rt(d),y=ve.now(),A=p.reduce(((Q,W)=>Q.add(W.key)),qt());let S,x;return _.persistence.runTransaction("Locally write mutations","readwrite",(Q=>{let W=ys(),at=qt();return _.Ns.getEntries(Q,A).next((tt=>{W=tt,W.forEach(((_t,St)=>{St.isValidDocument()||(at=at.add(_t))}))})).next((()=>_.localDocuments.getOverlayedDocuments(Q,W))).next((tt=>{S=tt;const _t=[];for(const St of p){const Et=W2(St,S.get(St.key).overlayedDocument);Et!=null&&_t.push(new vr(St.key,Et,sT(Et.value.mapValue),fn.exists(!0)))}return _.mutationQueue.addMutationBatch(Q,y,_t,p)})).next((tt=>{x=tt;const _t=tt.applyToLocalDocumentSet(S,at);return _.documentOverlayCache.saveOverlays(Q,tt.batchId,_t)}))})).then((()=>({batchId:x.batchId,changes:gT(S)})))})(r.localStore,t);r.sharedClientState.addPendingMutation(l.batchId),(function(d,p,_){let y=d.Vu[d.currentUser.toKey()];y||(y=new be(Bt)),y=y.insert(p,_),d.Vu[d.currentUser.toKey()]=y})(r,l.batchId,i),await fu(r,l.changes),await jh(r.remoteStore)}catch(l){const c=yg(l,"Failed to persist write");i.reject(c)}}async function WT(s,t){const i=Rt(s);try{const r=await XI(i.localStore,t);t.targetChanges.forEach(((l,c)=>{const d=i.Au.get(c);d&&(Qt(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1,22616),l.addedDocuments.size>0?d.hu=!0:l.modifiedDocuments.size>0?Qt(d.hu,14607):l.removedDocuments.size>0&&(Qt(d.hu,42227),d.hu=!1))})),await fu(i,r,t)}catch(r){await bo(r)}}function M0(s,t,i){const r=Rt(s);if(r.isPrimaryClient&&i===0||!r.isPrimaryClient&&i===1){const l=[];r.Tu.forEach(((c,d)=>{const p=d.view.va(t);p.snapshot&&l.push(p.snapshot)})),(function(d,p){const _=Rt(d);_.onlineState=p;let y=!1;_.queries.forEach(((A,S)=>{for(const x of S.Sa)x.va(p)&&(y=!0)})),y&&Eg(_)})(r.eventManager,t),l.length&&r.Pu.H_(l),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function PC(s,t,i){const r=Rt(s);r.sharedClientState.updateQueryState(t,"rejected",i);const l=r.Au.get(t),c=l&&l.key;if(c){let d=new be(mt.comparator);d=d.insert(c,Je.newNoDocument(c,At.min()));const p=qt().add(c),_=new Ph(At.min(),new Map,new be(Bt),d,p);await WT(r,_),r.du=r.du.remove(c),r.Au.delete(t),Sg(r)}else await Nm(r.localStore,t,!1).then((()=>Om(r,t,i))).catch(bo)}async function kC(s,t){const i=Rt(s),r=t.batch.batchId;try{const l=await KI(i.localStore,t);eA(i,r,null),tA(i,r),i.sharedClientState.updateMutationState(r,"acknowledged"),await fu(i,l)}catch(l){await bo(l)}}async function zC(s,t,i){const r=Rt(s);try{const l=await(function(d,p){const _=Rt(d);return _.persistence.runTransaction("Reject batch","readwrite-primary",(y=>{let A;return _.mutationQueue.lookupMutationBatch(y,p).next((S=>(Qt(S!==null,37113),A=S.keys(),_.mutationQueue.removeMutationBatch(y,S)))).next((()=>_.mutationQueue.performConsistencyCheck(y))).next((()=>_.documentOverlayCache.removeOverlaysForBatchId(y,A,p))).next((()=>_.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,A))).next((()=>_.localDocuments.getDocuments(y,A)))}))})(r.localStore,t);eA(r,t,i),tA(r,t),r.sharedClientState.updateMutationState(t,"rejected",i),await fu(r,l)}catch(l){await bo(l)}}function tA(s,t){(s.mu.get(t)||[]).forEach((i=>{i.resolve()})),s.mu.delete(t)}function eA(s,t,i){const r=Rt(s);let l=r.Vu[r.currentUser.toKey()];if(l){const c=l.get(t);c&&(i?c.reject(i):c.resolve(),l=l.remove(t)),r.Vu[r.currentUser.toKey()]=l}}function Om(s,t,i=null){s.sharedClientState.removeLocalQueryTarget(t);for(const r of s.Iu.get(t))s.Tu.delete(r),i&&s.Pu.yu(r,i);s.Iu.delete(t),s.isPrimaryClient&&s.Ru.jr(t).forEach((r=>{s.Ru.containsKey(r)||nA(s,r)}))}function nA(s,t){s.Eu.delete(t.path.canonicalString());const i=s.du.get(t);i!==null&&(fg(s.remoteStore,i),s.du=s.du.remove(t),s.Au.delete(i),Sg(s))}function V0(s,t,i){for(const r of i)r instanceof $T?(s.Ru.addReference(r.key,t),jC(s,r)):r instanceof ZT?(ut(Ag,"Document no longer in limbo: "+r.key),s.Ru.removeReference(r.key,t),s.Ru.containsKey(r.key)||nA(s,r.key)):yt(19791,{wu:r})}function jC(s,t){const i=t.key,r=i.path.canonicalString();s.du.get(i)||s.Eu.has(r)||(ut(Ag,"New document in limbo: "+i),s.Eu.add(r),Sg(s))}function Sg(s){for(;s.Eu.size>0&&s.du.size<s.maxConcurrentLimboResolutions;){const t=s.Eu.values().next().value;s.Eu.delete(t);const i=new mt(he.fromString(t)),r=s.fu.next();s.Au.set(r,new NC(i)),s.du=s.du.insert(i,r),FT(s.remoteStore,new rr(zi(Oh(i.path)),r,"TargetPurposeLimboResolution",xh.ce))}}async function fu(s,t,i){const r=Rt(s),l=[],c=[],d=[];r.Tu.isEmpty()||(r.Tu.forEach(((p,_)=>{d.push(r.pu(_,t,i).then((y=>{if((y||i)&&r.isPrimaryClient){const A=y?!y.fromCache:i?.targetChanges.get(_.targetId)?.current;r.sharedClientState.updateQueryState(_.targetId,A?"current":"not-current")}if(y){l.push(y);const A=ug.As(_.targetId,y);c.push(A)}})))})),await Promise.all(d),r.Pu.H_(l),await(async function(_,y){const A=Rt(_);try{await A.persistence.runTransaction("notifyLocalViewChanges","readwrite",(S=>Z.forEach(y,(x=>Z.forEach(x.Es,(Q=>A.persistence.referenceDelegate.addReference(S,x.targetId,Q))).next((()=>Z.forEach(x.ds,(Q=>A.persistence.referenceDelegate.removeReference(S,x.targetId,Q)))))))))}catch(S){if(!wo(S))throw S;ut(cg,"Failed to update sequence numbers: "+S)}for(const S of y){const x=S.targetId;if(!S.fromCache){const Q=A.Ms.get(x),W=Q.snapshotVersion,at=Q.withLastLimboFreeSnapshotVersion(W);A.Ms=A.Ms.insert(x,at)}}})(r.localStore,c))}async function BC(s,t){const i=Rt(s);if(!i.currentUser.isEqual(t)){ut(Ag,"User change. New user:",t.toKey());const r=await BT(i.localStore,t);i.currentUser=t,(function(c,d){c.mu.forEach((p=>{p.forEach((_=>{_.reject(new rt(Y.CANCELLED,d))}))})),c.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(t,r.removedBatchIds,r.addedBatchIds),await fu(i,r.Ls)}}function qC(s,t){const i=Rt(s),r=i.Au.get(t);if(r&&r.hu)return qt().add(r.key);{let l=qt();const c=i.Iu.get(t);if(!c)return l;for(const d of c){const p=i.Tu.get(d);l=l.unionWith(p.view.nu)}return l}}function iA(s){const t=Rt(s);return t.remoteStore.remoteSyncer.applyRemoteEvent=WT.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=qC.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=PC.bind(null,t),t.Pu.H_=wC.bind(null,t.eventManager),t.Pu.yu=RC.bind(null,t.eventManager),t}function HC(s){const t=Rt(s);return t.remoteStore.remoteSyncer.applySuccessfulWrite=kC.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=zC.bind(null,t),t}class Th{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=kh(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,i){return null}Mu(t,i){return null}vu(t){return YI(this.persistence,new FI,t.initialUser,this.serializer)}Cu(t){return new jT(lg.mi,this.serializer)}Du(t){return new tC}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Th.provider={build:()=>new Th};class FC extends Th{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,i){Qt(this.persistence.referenceDelegate instanceof vh,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new NI(r,t.asyncQueue,i)}Cu(t){const i=this.cacheSizeBytes!==void 0?wn.withCacheSize(this.cacheSizeBytes):wn.DEFAULT;return new jT((r=>vh.mi(r,i)),this.serializer)}}class Mm{async initialize(t,i){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>M0(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=BC.bind(null,this.syncEngine),await AC(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new bC})()}createDatastore(t){const i=kh(t.databaseInfo.databaseId),r=(function(c){return new rC(c)})(t.databaseInfo);return(function(c,d,p,_){return new uC(c,d,p,_)})(t.authCredentials,t.appCheckCredentials,r,i)}createRemoteStore(t){return(function(r,l,c,d,p){return new hC(r,l,c,d,p)})(this.localStore,this.datastore,t.asyncQueue,(i=>M0(this.syncEngine,i,0)),(function(){return I0.v()?new I0:new eC})())}createSyncEngine(t,i){return(function(l,c,d,p,_,y,A){const S=new xC(l,c,d,p,_,y);return A&&(S.gu=!0),S})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const r=Rt(i);ut(oa,"RemoteStore shutting down."),r.Ea.add(5),await hu(r),r.Aa.shutdown(),r.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Mm.provider={build:()=>new Mm};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bg{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):ps("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,i){setTimeout((()=>{this.muted||t(i)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GC{constructor(t){this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}async lookup(t){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw this.lastTransactionError=new rt(Y.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),this.lastTransactionError;const i=await(async function(l,c){const d=Rt(l),p={documents:c.map((S=>_h(d.serializer,S)))},_=await d.Ho("BatchGetDocuments",d.serializer.databaseId,he.emptyPath(),p,c.length),y=new Map;_.forEach((S=>{const x=fI(d.serializer,S);y.set(x.key.toString(),x)}));const A=[];return c.forEach((S=>{const x=y.get(S.toString());Qt(!!x,55234,{key:S}),A.push(x)})),A})(this.datastore,t);return i.forEach((r=>this.recordVersion(r))),i}set(t,i){this.write(i.toMutation(t,this.precondition(t))),this.writtenDocs.add(t.toString())}update(t,i){try{this.write(i.toMutation(t,this.preconditionForUpdate(t)))}catch(r){this.lastTransactionError=r}this.writtenDocs.add(t.toString())}delete(t){this.write(new ig(t,this.precondition(t))),this.writtenDocs.add(t.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastTransactionError)throw this.lastTransactionError;const t=this.readVersions;this.mutations.forEach((i=>{t.delete(i.key.toString())})),t.forEach(((i,r)=>{const l=mt.fromPath(r);this.mutations.push(new RT(l,this.precondition(l)))})),await(async function(r,l){const c=Rt(r),d={writes:l.map((p=>UT(c.serializer,p)))};await c.Go("Commit",c.serializer.databaseId,he.emptyPath(),d)})(this.datastore,this.mutations),this.committed=!0}recordVersion(t){let i;if(t.isFoundDocument())i=t.version;else{if(!t.isNoDocument())throw yt(50498,{Gu:t.constructor.name});i=At.min()}const r=this.readVersions.get(t.key.toString());if(r){if(!i.isEqual(r))throw new rt(Y.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(t.key.toString(),i)}precondition(t){const i=this.readVersions.get(t.toString());return!this.writtenDocs.has(t.toString())&&i?i.isEqual(At.min())?fn.exists(!1):fn.updateTime(i):fn.none()}preconditionForUpdate(t){const i=this.readVersions.get(t.toString());if(!this.writtenDocs.has(t.toString())&&i){if(i.isEqual(At.min()))throw new rt(Y.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return fn.updateTime(i)}return fn.exists(!0)}write(t){this.ensureCommitNotCalled(),this.mutations.push(t)}ensureCommitNotCalled(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QC{constructor(t,i,r,l,c){this.asyncQueue=t,this.datastore=i,this.options=r,this.updateFunction=l,this.deferred=c,this.zu=r.maxAttempts,this.M_=new hg(this.asyncQueue,"transaction_retry")}ju(){this.zu-=1,this.Ju()}Ju(){this.M_.p_((async()=>{const t=new GC(this.datastore),i=this.Hu(t);i&&i.then((r=>{this.asyncQueue.enqueueAndForget((()=>t.commit().then((()=>{this.deferred.resolve(r)})).catch((l=>{this.Yu(l)}))))})).catch((r=>{this.Yu(r)}))}))}Hu(t){try{const i=this.updateFunction(t);return!lu(i)&&i.catch&&i.then?i:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(i){return this.deferred.reject(i),null}}Yu(t){this.zu>0&&this.Zu(t)?(this.zu-=1,this.asyncQueue.enqueueAndForget((()=>(this.Ju(),Promise.resolve())))):this.deferred.reject(t)}Zu(t){if(t?.name==="FirebaseError"){const i=t.code;return i==="aborted"||i==="failed-precondition"||i==="already-exists"||!IT(i)}return!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yr="FirestoreClient";class YC{constructor(t,i,r,l,c){this.authCredentials=t,this.appCheckCredentials=i,this.asyncQueue=r,this.databaseInfo=l,this.user=hn.UNAUTHENTICATED,this.clientId=$m.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(r,(async d=>{ut(yr,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(r,(d=>(ut(yr,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new ki;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(i){const r=yg(i,"Failed to shutdown persistence");t.reject(r)}})),t.promise}}async function am(s,t){s.asyncQueue.verifyOperationInProgress(),ut(yr,"Initializing OfflineComponentProvider");const i=s.configuration;await t.initialize(i);let r=i.initialUser;s.setCredentialChangeListener((async l=>{r.isEqual(l)||(await BT(t.localStore,l),r=l)})),t.persistence.setDatabaseDeletedListener((()=>s.terminate())),s._offlineComponents=t}async function U0(s,t){s.asyncQueue.verifyOperationInProgress();const i=await KC(s);ut(yr,"Initializing OnlineComponentProvider"),await t.initialize(i,s.configuration),s.setCredentialChangeListener((r=>N0(t.remoteStore,r))),s.setAppCheckTokenChangeListener(((r,l)=>N0(t.remoteStore,l))),s._onlineComponents=t}async function KC(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){ut(yr,"Using user provided OfflineComponentProvider");try{await am(s,s._uninitializedComponentsProvider._offline)}catch(t){const i=t;if(!(function(l){return l.name==="FirebaseError"?l.code===Y.FAILED_PRECONDITION||l.code===Y.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11})(i))throw i;fo("Error using user provided cache. Falling back to memory cache: "+i),await am(s,new Th)}}else ut(yr,"Using default OfflineComponentProvider"),await am(s,new FC(void 0));return s._offlineComponents}async function wg(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(ut(yr,"Using user provided OnlineComponentProvider"),await U0(s,s._uninitializedComponentsProvider._online)):(ut(yr,"Using default OnlineComponentProvider"),await U0(s,new Mm))),s._onlineComponents}function XC(s){return wg(s).then((t=>t.syncEngine))}function $C(s){return wg(s).then((t=>t.datastore))}async function Ah(s){const t=await wg(s),i=t.eventManager;return i.onListen=DC.bind(null,t.syncEngine),i.onUnlisten=VC.bind(null,t.syncEngine),i.onFirstRemoteStoreListen=OC.bind(null,t.syncEngine),i.onLastRemoteStoreUnlisten=UC.bind(null,t.syncEngine),i}function ZC(s,t,i={}){const r=new ki;return s.asyncQueue.enqueueAndForget((async()=>(function(c,d,p,_,y){const A=new bg({next:x=>{A.Nu(),d.enqueueAndForget((()=>vg(c,S)));const Q=x.docs.has(p);!Q&&x.fromCache?y.reject(new rt(Y.UNAVAILABLE,"Failed to get document because the client is offline.")):Q&&x.fromCache&&_&&_.source==="server"?y.reject(new rt(Y.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(x)},error:x=>y.reject(x)}),S=new Tg(Oh(p.path),A,{includeMetadataChanges:!0,qa:!0});return _g(c,S)})(await Ah(s),s.asyncQueue,t,i,r))),r.promise}function JC(s,t,i={}){const r=new ki;return s.asyncQueue.enqueueAndForget((async()=>(function(c,d,p,_,y){const A=new bg({next:x=>{A.Nu(),d.enqueueAndForget((()=>vg(c,S))),x.fromCache&&_.source==="server"?y.reject(new rt(Y.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):y.resolve(x)},error:x=>y.reject(x)}),S=new Tg(p,A,{includeMetadataChanges:!0,qa:!0});return _g(c,S)})(await Ah(s),s.asyncQueue,t,i,r))),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sA(s){const t={};return s.timeoutSeconds!==void 0&&(t.timeoutSeconds=s.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L0=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rA="firestore.googleapis.com",P0=!0;class k0{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new rt(Y.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=rA,this.ssl=P0}else this.host=t.host,this.ssl=t.ssl??P0;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=zT;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<II)throw new rt(Y.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}m2("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=sA(t.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new rt(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new rt(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new rt(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(r,l){return r.timeoutSeconds===l.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Bh{constructor(t,i,r,l){this._authCredentials=t,this._appCheckCredentials=i,this._databaseId=r,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new k0({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new rt(Y.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new rt(Y.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new k0(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new s2;switch(r.type){case"firstParty":return new l2(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new rt(Y.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const r=L0.get(i);r&&(ut("ComponentProvider","Removing Datastore"),L0.delete(i),r.terminate())})(this),Promise.resolve()}}function WC(s,t,i,r={}){s=Rn(s,Bh);const l=Eo(t),c=s._getSettings(),d={...c,emulatorOptions:s._getEmulatorOptions()},p=`${t}:${i}`;l&&(eE(`https://${p}`),nE("Firestore",!0)),c.host!==rA&&c.host!==p&&fo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const _={...c,host:p,ssl:l,emulatorOptions:r};if(!ia(_,d)&&(s._setSettings(_),r.mockUserToken)){let y,A;if(typeof r.mockUserToken=="string")y=r.mockUserToken,A=hn.MOCK_USER;else{y=Cb(r.mockUserToken,s._app?.options.projectId);const S=r.mockUserToken.sub||r.mockUserToken.user_id;if(!S)throw new rt(Y.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");A=new hn(S)}s._authCredentials=new r2(new QE(y,A))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Er{constructor(t,i,r){this.converter=i,this._query=r,this.type="query",this.firestore=t}withConverter(t){return new Er(this.firestore,t,this._query)}}class Se{constructor(t,i,r){this.converter=i,this._key=r,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new cr(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Se(this.firestore,t,this._key)}toJSON(){return{type:Se._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,i,r){if(ou(i,Se._jsonSchema))return new Se(t,r||null,new mt(he.fromString(i.referencePath)))}}Se._jsonSchemaVersion="firestore/documentReference/1.0",Se._jsonSchema={type:He("string",Se._jsonSchemaVersion),referencePath:He("string")};class cr extends Er{constructor(t,i,r){super(t,i,Oh(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Se(this.firestore,null,new mt(t))}withConverter(t){return new cr(this.firestore,t,this._path)}}function Zr(s,t,...i){if(s=Fe(s),YE("collection","path",t),s instanceof Bh){const r=he.fromString(t,...i);return Zv(r),new cr(s,null,r)}{if(!(s instanceof Se||s instanceof cr))throw new rt(Y.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=s._path.child(he.fromString(t,...i));return Zv(r),new cr(s.firestore,null,r)}}function cn(s,t,...i){if(s=Fe(s),arguments.length===1&&(t=$m.newId()),YE("doc","path",t),s instanceof Bh){const r=he.fromString(t,...i);return $v(r),new Se(s,null,new mt(r))}{if(!(s instanceof Se||s instanceof cr))throw new rt(Y.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=s._path.child(he.fromString(t,...i));return $v(r),new Se(s.firestore,s instanceof cr?s.converter:null,new mt(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z0="AsyncQueue";class j0{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new hg(this,"async_queue_retry"),this._c=()=>{const r=rm();r&&ut(z0,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=t;const i=rm();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const i=rm();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new ki;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Xu.push(t),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!wo(t))throw t;ut(z0,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const i=this.ac.then((()=>(this.rc=!0,t().catch((r=>{throw this.nc=r,this.rc=!1,ps("INTERNAL UNHANDLED ERROR: ",B0(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=i,i}enqueueAfterDelay(t,i,r){this.uc(),this.oc.indexOf(t)>-1&&(i=0);const l=pg.createAndSchedule(this,t,i,r,(c=>this.hc(c)));return this.tc.push(l),l}uc(){this.nc&&yt(47125,{Pc:B0(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const i of this.tc)if(i.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((i,r)=>i.targetTimeMs-r.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),t!=="all"&&i.timerId===t)break;return this.Tc()}))}dc(t){this.oc.push(t)}hc(t){const i=this.tc.indexOf(t);this.tc.splice(i,1)}}function B0(s){let t=s.message||"";return s.stack&&(t=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q0(s){return(function(i,r){if(typeof i!="object"||i===null)return!1;const l=i;for(const c of r)if(c in l&&typeof l[c]=="function")return!0;return!1})(s,["next","error","complete"])}class _s extends Bh{constructor(t,i,r,l){super(t,i,r,l),this.type="firestore",this._queue=new j0,this._persistenceKey=l?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new j0(t),this._firestoreClient=void 0,await t}}}function tN(s,t){const i=typeof s=="object"?s:aE(),r=typeof s=="string"?s:mh,l=km(i,"firestore").getImmediate({identifier:r});if(!l._initialized){const c=Rb("firestore");c&&WC(l,...c)}return l}function du(s){if(s._terminated)throw new rt(Y.FAILED_PRECONDITION,"The client has already been terminated.");return s._firestoreClient||eN(s),s._firestoreClient}function eN(s){const t=s._freezeSettings(),i=(function(l,c,d,p){return new w2(l,c,d,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,sA(p.experimentalLongPollingOptions),p.useFetchStreams,p.isUsingEmulator)})(s._databaseId,s._app?.options.appId||"",s._persistenceKey,t);s._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(s._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),s._firestoreClient=new YC(s._authCredentials,s._appCheckCredentials,s._queue,i,s._componentsProvider&&(function(l){const c=l?._online.build();return{_offline:l?._offline.build(c),_online:c}})(s._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ln{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Ln(on.fromBase64String(t))}catch(i){throw new rt(Y.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(t){return new Ln(on.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:Ln._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(ou(t,Ln._jsonSchema))return Ln.fromBase64String(t.bytes)}}Ln._jsonSchemaVersion="firestore/bytes/1.0",Ln._jsonSchema={type:He("string",Ln._jsonSchemaVersion),bytes:He("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mu{constructor(...t){for(let i=0;i<t.length;++i)if(t[i].length===0)throw new rt(Y.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new an(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gu{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ji{constructor(t,i){if(!isFinite(t)||t<-90||t>90)throw new rt(Y.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(i)||i<-180||i>180)throw new rt(Y.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=t,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return Bt(this._lat,t._lat)||Bt(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:ji._jsonSchemaVersion}}static fromJSON(t){if(ou(t,ji._jsonSchema))return new ji(t.latitude,t.longitude)}}ji._jsonSchemaVersion="firestore/geoPoint/1.0",ji._jsonSchema={type:He("string",ji._jsonSchemaVersion),latitude:He("number"),longitude:He("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bi{constructor(t){this._values=(t||[]).map((i=>i))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(r,l){if(r.length!==l.length)return!1;for(let c=0;c<r.length;++c)if(r[c]!==l[c])return!1;return!0})(this._values,t._values)}toJSON(){return{type:Bi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(ou(t,Bi._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((i=>typeof i=="number")))return new Bi(t.vectorValues);throw new rt(Y.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Bi._jsonSchemaVersion="firestore/vectorValue/1.0",Bi._jsonSchema={type:He("string",Bi._jsonSchemaVersion),vectorValues:He("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nN=/^__.*__$/;class iN{constructor(t,i,r){this.data=t,this.fieldMask=i,this.fieldTransforms=r}toMutation(t,i){return this.fieldMask!==null?new vr(t,this.data,this.fieldMask,i,this.fieldTransforms):new uu(t,this.data,i,this.fieldTransforms)}}class aA{constructor(t,i,r){this.data=t,this.fieldMask=i,this.fieldTransforms=r}toMutation(t,i){return new vr(t,this.data,this.fieldMask,i,this.fieldTransforms)}}function oA(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw yt(40011,{Ac:s})}}class Rg{constructor(t,i,r,l,c,d){this.settings=t,this.databaseId=i,this.serializer=r,this.ignoreUndefinedProperties=l,c===void 0&&this.Rc(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(t){return new Rg({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(t){const i=this.path?.child(t),r=this.Vc({path:i,fc:!1});return r.gc(t),r}yc(t){const i=this.path?.child(t),r=this.Vc({path:i,fc:!1});return r.Rc(),r}wc(t){return this.Vc({path:void 0,fc:!0})}Sc(t){return Sh(t,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(t){return this.fieldMask.find((i=>t.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>t.isPrefixOf(i.field)))!==void 0}Rc(){if(this.path)for(let t=0;t<this.path.length;t++)this.gc(this.path.get(t))}gc(t){if(t.length===0)throw this.Sc("Document fields must not be empty");if(oA(this.Ac)&&nN.test(t))throw this.Sc('Document fields cannot begin and end with "__"')}}class sN{constructor(t,i,r){this.databaseId=t,this.ignoreUndefinedProperties=i,this.serializer=r||kh(t)}Cc(t,i,r,l=!1){return new Rg({Ac:t,methodName:i,Dc:r,path:an.emptyPath(),fc:!1,bc:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function pu(s){const t=s._freezeSettings(),i=kh(s._databaseId);return new sN(s._databaseId,!!t.ignoreUndefinedProperties,i)}function Ig(s,t,i,r,l,c={}){const d=s.Cc(c.merge||c.mergeFields?2:0,t,i,l);xg("Data must be an object, but it was:",d,r);const p=cA(r,d);let _,y;if(c.merge)_=new Pn(d.fieldMask),y=d.fieldTransforms;else if(c.mergeFields){const A=[];for(const S of c.mergeFields){const x=Vm(t,S,i);if(!d.contains(x))throw new rt(Y.INVALID_ARGUMENT,`Field '${x}' is specified in your field mask but missing from your input data.`);fA(A,x)||A.push(x)}_=new Pn(A),y=d.fieldTransforms.filter((S=>_.covers(S.field)))}else _=null,y=d.fieldTransforms;return new iN(new pn(p),_,y)}class qh extends gu{_toFieldTransform(t){if(t.Ac!==2)throw t.Ac===1?t.Sc(`${this._methodName}() can only appear at the top level of your update data`):t.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof qh}}class Cg extends gu{_toFieldTransform(t){return new ST(t.path,new Jl)}isEqual(t){return t instanceof Cg}}class Ng extends gu{constructor(t,i){super(t),this.Fc=i}_toFieldTransform(t){const i=new eu(t.serializer,_T(t.serializer,this.Fc));return new ST(t.path,i)}isEqual(t){return t instanceof Ng&&this.Fc===t.Fc}}function lA(s,t,i,r){const l=s.Cc(1,t,i);xg("Data must be an object, but it was:",l,r);const c=[],d=pn.empty();_r(r,((_,y)=>{const A=Dg(t,_,i);y=Fe(y);const S=l.yc(A);if(y instanceof qh)c.push(A);else{const x=yu(y,S);x!=null&&(c.push(A),d.set(A,x))}}));const p=new Pn(c);return new aA(d,p,l.fieldTransforms)}function uA(s,t,i,r,l,c){const d=s.Cc(1,t,i),p=[Vm(t,r,i)],_=[l];if(c.length%2!=0)throw new rt(Y.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let x=0;x<c.length;x+=2)p.push(Vm(t,c[x])),_.push(c[x+1]);const y=[],A=pn.empty();for(let x=p.length-1;x>=0;--x)if(!fA(y,p[x])){const Q=p[x];let W=_[x];W=Fe(W);const at=d.yc(Q);if(W instanceof qh)y.push(Q);else{const tt=yu(W,at);tt!=null&&(y.push(Q),A.set(Q,tt))}}const S=new Pn(y);return new aA(A,S,d.fieldTransforms)}function rN(s,t,i,r=!1){return yu(i,s.Cc(r?4:3,t))}function yu(s,t){if(hA(s=Fe(s)))return xg("Unsupported field value:",t,s),cA(s,t);if(s instanceof gu)return(function(r,l){if(!oA(l.Ac))throw l.Sc(`${r._methodName}() can only be used with update() and set()`);if(!l.path)throw l.Sc(`${r._methodName}() is not currently supported inside arrays`);const c=r._toFieldTransform(l);c&&l.fieldTransforms.push(c)})(s,t),null;if(s===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),s instanceof Array){if(t.settings.fc&&t.Ac!==4)throw t.Sc("Nested arrays are not supported");return(function(r,l){const c=[];let d=0;for(const p of r){let _=yu(p,l.wc(d));_==null&&(_={nullValue:"NULL_VALUE"}),c.push(_),d++}return{arrayValue:{values:c}}})(s,t)}return(function(r,l){if((r=Fe(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return _T(l.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const c=ve.fromDate(r);return{timestampValue:yh(l.serializer,c)}}if(r instanceof ve){const c=new ve(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:yh(l.serializer,c)}}if(r instanceof ji)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Ln)return{bytesValue:DT(l.serializer,r._byteString)};if(r instanceof Se){const c=l.databaseId,d=r.firestore._databaseId;if(!d.isEqual(c))throw l.Sc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:ag(r.firestore._databaseId||l.databaseId,r._key.path)}}if(r instanceof Bi)return(function(d,p){return{mapValue:{fields:{[nT]:{stringValue:iT},[gh]:{arrayValue:{values:d.toArray().map((y=>{if(typeof y!="number")throw p.Sc("VectorValues must only contain numeric values.");return ng(p.serializer,y)}))}}}}}})(r,l);throw l.Sc(`Unsupported field value: ${Nh(r)}`)})(s,t)}function cA(s,t){const i={};return $E(s)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):_r(s,((r,l)=>{const c=yu(l,t.mc(r));c!=null&&(i[r]=c)})),{mapValue:{fields:i}}}function hA(s){return!(typeof s!="object"||s===null||s instanceof Array||s instanceof Date||s instanceof ve||s instanceof ji||s instanceof Ln||s instanceof Se||s instanceof gu||s instanceof Bi)}function xg(s,t,i){if(!hA(i)||!KE(i)){const r=Nh(i);throw r==="an object"?t.Sc(s+" a custom object"):t.Sc(s+" "+r)}}function Vm(s,t,i){if((t=Fe(t))instanceof mu)return t._internalPath;if(typeof t=="string")return Dg(s,t);throw Sh("Field path arguments must be of type string or ",s,!1,void 0,i)}const aN=new RegExp("[~\\*/\\[\\]]");function Dg(s,t,i){if(t.search(aN)>=0)throw Sh(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,i);try{return new mu(...t.split("."))._internalPath}catch{throw Sh(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,i)}}function Sh(s,t,i,r,l){const c=r&&!r.isEmpty(),d=l!==void 0;let p=`Function ${t}() called with invalid data`;i&&(p+=" (via `toFirestore()`)"),p+=". ";let _="";return(c||d)&&(_+=" (found",c&&(_+=` in field ${r}`),d&&(_+=` in document ${l}`),_+=")"),new rt(Y.INVALID_ARGUMENT,p+s+_)}function fA(s,t){return s.some((i=>i.isEqual(t)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bh{constructor(t,i,r,l,c){this._firestore=t,this._userDataWriter=i,this._key=r,this._document=l,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new Se(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new oN(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const i=this._document.data.field(Hh("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i)}}}class oN extends bh{data(){return super.data()}}function Hh(s,t){return typeof t=="string"?Dg(s,t):t instanceof mu?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dA(s){if(s.limitType==="L"&&s.explicitOrderBy.length===0)throw new rt(Y.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Og{}class mA extends Og{}function xl(s,t,...i){let r=[];t instanceof Og&&r.push(t),r=r.concat(i),(function(c){const d=c.filter((_=>_ instanceof Mg)).length,p=c.filter((_=>_ instanceof Fh)).length;if(d>1||d>0&&p>0)throw new rt(Y.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const l of r)s=l._apply(s);return s}class Fh extends mA{constructor(t,i,r){super(),this._field=t,this._op=i,this._value=r,this.type="where"}static _create(t,i,r){return new Fh(t,i,r)}_apply(t){const i=this._parse(t);return gA(t._query,i),new Er(t.firestore,t.converter,bm(t._query,i))}_parse(t){const i=pu(t.firestore);return(function(c,d,p,_,y,A,S){let x;if(y.isKeyField()){if(A==="array-contains"||A==="array-contains-any")throw new rt(Y.INVALID_ARGUMENT,`Invalid Query. You can't perform '${A}' queries on documentId().`);if(A==="in"||A==="not-in"){F0(S,A);const W=[];for(const at of S)W.push(H0(_,c,at));x={arrayValue:{values:W}}}else x=H0(_,c,S)}else A!=="in"&&A!=="not-in"&&A!=="array-contains-any"||F0(S,A),x=rN(p,d,S,A==="in"||A==="not-in");return qe.create(y,A,x)})(t._query,"where",i,t.firestore._databaseId,this._field,this._op,this._value)}}function om(s,t,i){const r=t,l=Hh("where",s);return Fh._create(l,r,i)}class Mg extends Og{constructor(t,i){super(),this.type=t,this._queryConstraints=i}static _create(t,i){return new Mg(t,i)}_parse(t){const i=this._queryConstraints.map((r=>r._parse(t))).filter((r=>r.getFilters().length>0));return i.length===1?i[0]:di.create(i,this._getOperator())}_apply(t){const i=this._parse(t);return i.getFilters().length===0?t:((function(l,c){let d=l;const p=c.getFlattenedFilters();for(const _ of p)gA(d,_),d=bm(d,_)})(t._query,i),new Er(t.firestore,t.converter,bm(t._query,i)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Vg extends mA{constructor(t,i){super(),this._field=t,this._direction=i,this.type="orderBy"}static _create(t,i){return new Vg(t,i)}_apply(t){const i=(function(l,c,d){if(l.startAt!==null)throw new rt(Y.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(l.endAt!==null)throw new rt(Y.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Zl(c,d)})(t._query,this._field,this._direction);return new Er(t.firestore,t.converter,(function(l,c){const d=l.explicitOrderBy.concat([c]);return new Ro(l.path,l.collectionGroup,d,l.filters.slice(),l.limit,l.limitType,l.startAt,l.endAt)})(t._query,i))}}function Yc(s,t="asc"){const i=t,r=Hh("orderBy",s);return Vg._create(r,i)}function H0(s,t,i){if(typeof(i=Fe(i))=="string"){if(i==="")throw new rt(Y.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!hT(t)&&i.indexOf("/")!==-1)throw new rt(Y.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${i}' contains a '/' character.`);const r=t.path.child(he.fromString(i));if(!mt.isDocumentKey(r))throw new rt(Y.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return r0(s,new mt(r))}if(i instanceof Se)return r0(s,i._key);throw new rt(Y.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Nh(i)}.`)}function F0(s,t){if(!Array.isArray(s)||s.length===0)throw new rt(Y.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function gA(s,t){const i=(function(l,c){for(const d of l)for(const p of d.getFlattenedFilters())if(c.indexOf(p.op)>=0)return p.op;return null})(s.filters,(function(l){switch(l){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(t.op));if(i!==null)throw i===t.op?new rt(Y.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new rt(Y.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${i.toString()}' filters.`)}class pA{convertValue(t,i="none"){switch(gr(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Me(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,i);case 5:return t.stringValue;case 6:return this.convertBytes(mr(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,i);case 11:return this.convertObject(t.mapValue,i);case 10:return this.convertVectorValue(t.mapValue);default:throw yt(62114,{value:t})}}convertObject(t,i){return this.convertObjectMap(t.fields,i)}convertObjectMap(t,i="none"){const r={};return _r(t,((l,c)=>{r[l]=this.convertValue(c,i)})),r}convertVectorValue(t){const i=t.fields?.[gh].arrayValue?.values?.map((r=>Me(r.doubleValue)));return new Bi(i)}convertGeoPoint(t){return new ji(Me(t.latitude),Me(t.longitude))}convertArray(t,i){return(t.values||[]).map((r=>this.convertValue(r,i)))}convertServerTimestamp(t,i){switch(i){case"previous":const r=Dh(t);return r==null?null:this.convertValue(r,i);case"estimate":return this.convertTimestamp(Kl(t));default:return null}}convertTimestamp(t){const i=dr(t);return new ve(i.seconds,i.nanos)}convertDocumentKey(t,i){const r=he.fromString(t);Qt(kT(r),9688,{name:t});const l=new Xl(r.get(1),r.get(3)),c=new mt(r.popFirst(5));return l.isEqual(i)||ps(`Document ${c} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ug(s,t,i){let r;return r=s?i&&(i.merge||i.mergeFields)?s.toFirestore(t,i):s.toFirestore(t):t,r}class lN extends pA{constructor(t){super(),this.firestore=t}convertBytes(t){return new Ln(t)}convertReference(t){const i=this.convertDocumentKey(t,this.firestore._databaseId);return new Se(this.firestore,null,i)}}class ro{constructor(t,i){this.hasPendingWrites=t,this.fromCache=i}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class hr extends bh{constructor(t,i,r,l,c,d){super(t,i,r,l,d),this._firestore=t,this._firestoreImpl=t,this.metadata=c}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const i=new sh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,i={}){if(this._document){const r=this._document.data.field(Hh("DocumentSnapshot.get",t));if(r!==null)return this._userDataWriter.convertValue(r,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new rt(Y.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,i={};return i.type=hr._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}hr._jsonSchemaVersion="firestore/documentSnapshot/1.0",hr._jsonSchema={type:He("string",hr._jsonSchemaVersion),bundleSource:He("string","DocumentSnapshot"),bundleName:He("string"),bundle:He("string")};class sh extends hr{data(t={}){return super.data(t)}}class na{constructor(t,i,r,l){this._firestore=t,this._userDataWriter=i,this._snapshot=l,this.metadata=new ro(l.hasPendingWrites,l.fromCache),this.query=r}get docs(){const t=[];return this.forEach((i=>t.push(i))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,i){this._snapshot.docs.forEach((r=>{t.call(i,new sh(this._firestore,this._userDataWriter,r.key,r,new ro(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const i=!!t.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new rt(Y.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(l,c){if(l._snapshot.oldDocs.isEmpty()){let d=0;return l._snapshot.docChanges.map((p=>{const _=new sh(l._firestore,l._userDataWriter,p.doc.key,p.doc,new ro(l._snapshot.mutatedKeys.has(p.doc.key),l._snapshot.fromCache),l.query.converter);return p.doc,{type:"added",doc:_,oldIndex:-1,newIndex:d++}}))}{let d=l._snapshot.oldDocs;return l._snapshot.docChanges.filter((p=>c||p.type!==3)).map((p=>{const _=new sh(l._firestore,l._userDataWriter,p.doc.key,p.doc,new ro(l._snapshot.mutatedKeys.has(p.doc.key),l._snapshot.fromCache),l.query.converter);let y=-1,A=-1;return p.type!==0&&(y=d.indexOf(p.doc.key),d=d.delete(p.doc.key)),p.type!==1&&(d=d.add(p.doc),A=d.indexOf(p.doc.key)),{type:uN(p.type),doc:_,oldIndex:y,newIndex:A}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new rt(Y.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=na._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=$m.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],r=[],l=[];return this.docs.forEach((c=>{c._document!==null&&(i.push(c._document),r.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),l.push(c.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function uN(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return yt(61501,{type:s})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dl(s){s=Rn(s,Se);const t=Rn(s.firestore,_s);return ZC(du(t),s._key).then((i=>yA(t,s,i)))}na._jsonSchemaVersion="firestore/querySnapshot/1.0",na._jsonSchema={type:He("string",na._jsonSchemaVersion),bundleSource:He("string","QuerySnapshot"),bundleName:He("string"),bundle:He("string")};class Gh extends pA{constructor(t){super(),this.firestore=t}convertBytes(t){return new Ln(t)}convertReference(t){const i=this.convertDocumentKey(t,this.firestore._databaseId);return new Se(this.firestore,null,i)}}function Kc(s){s=Rn(s,Er);const t=Rn(s.firestore,_s),i=du(t),r=new Gh(t);return dA(s._query),JC(i,s._query).then((l=>new na(t,r,s,l)))}function to(s,t,i){s=Rn(s,Se);const r=Rn(s.firestore,_s),l=Ug(s.converter,t,i);return Lg(r,[Ig(pu(r),"setDoc",s._key,l,s.converter!==null,i).toMutation(s._key,fn.none())])}function G0(s,t,i,...r){s=Rn(s,Se);const l=Rn(s.firestore,_s),c=pu(l);let d;return d=typeof(t=Fe(t))=="string"||t instanceof mu?uA(c,"updateDoc",s._key,t,i,r):lA(c,"updateDoc",s._key,t),Lg(l,[d.toMutation(s._key,fn.exists(!0))])}function Q0(s,t){const i=Rn(s.firestore,_s),r=cn(s),l=Ug(s.converter,t);return Lg(i,[Ig(pu(s.firestore),"addDoc",r._key,l,s.converter!==null,{}).toMutation(r._key,fn.exists(!1))]).then((()=>r))}function Y0(s,...t){s=Fe(s);let i={includeMetadataChanges:!1,source:"default"},r=0;typeof t[r]!="object"||q0(t[r])||(i=t[r++]);const l={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(q0(t[r])){const _=t[r];t[r]=_.next?.bind(_),t[r+1]=_.error?.bind(_),t[r+2]=_.complete?.bind(_)}let c,d,p;if(s instanceof Se)d=Rn(s.firestore,_s),p=Oh(s._key.path),c={next:_=>{t[r]&&t[r](yA(d,s,_))},error:t[r+1],complete:t[r+2]};else{const _=Rn(s,Er);d=Rn(_.firestore,_s),p=_._query;const y=new Gh(d);c={next:A=>{t[r]&&t[r](new na(d,y,_,A))},error:t[r+1],complete:t[r+2]},dA(s._query)}return(function(y,A,S,x){const Q=new bg(x),W=new Tg(A,Q,S);return y.asyncQueue.enqueueAndForget((async()=>_g(await Ah(y),W))),()=>{Q.Nu(),y.asyncQueue.enqueueAndForget((async()=>vg(await Ah(y),W)))}})(du(d),p,l,c)}function Lg(s,t){return(function(r,l){const c=new ki;return r.asyncQueue.enqueueAndForget((async()=>LC(await XC(r),l,c))),c.promise})(du(s),t)}function yA(s,t,i){const r=i.docs.get(t._key),l=new Gh(s);return new hr(s,l,t._key,r,new ro(i.hasPendingWrites,i.fromCache),t.converter)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cN={maxAttempts:5};function Pl(s,t){if((s=Fe(s)).firestore!==t)throw new rt(Y.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hN{constructor(t,i){this._firestore=t,this._transaction=i,this._dataReader=pu(t)}get(t){const i=Pl(t,this._firestore),r=new lN(this._firestore);return this._transaction.lookup([i._key]).then((l=>{if(!l||l.length!==1)return yt(24041);const c=l[0];if(c.isFoundDocument())return new bh(this._firestore,r,c.key,c,i.converter);if(c.isNoDocument())return new bh(this._firestore,r,i._key,null,i.converter);throw yt(18433,{doc:c})}))}set(t,i,r){const l=Pl(t,this._firestore),c=Ug(l.converter,i,r),d=Ig(this._dataReader,"Transaction.set",l._key,c,l.converter!==null,r);return this._transaction.set(l._key,d),this}update(t,i,r,...l){const c=Pl(t,this._firestore);let d;return d=typeof(i=Fe(i))=="string"||i instanceof mu?uA(this._dataReader,"Transaction.update",c._key,i,r,l):lA(this._dataReader,"Transaction.update",c._key,i),this._transaction.update(c._key,d),this}delete(t){const i=Pl(t,this._firestore);return this._transaction.delete(i._key),this}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fN extends hN{constructor(t,i){super(t,i),this._firestore=t}get(t){const i=Pl(t,this._firestore),r=new Gh(this._firestore);return super.get(t).then((l=>new hr(this._firestore,r,i._key,l._document,new ro(!1,!1),i.converter)))}}function Ol(s,t,i){s=Rn(s,_s);const r={...cN,...i};return(function(c){if(c.maxAttempts<1)throw new rt(Y.INVALID_ARGUMENT,"Max attempts must be at least 1")})(r),(function(c,d,p){const _=new ki;return c.asyncQueue.enqueueAndForget((async()=>{const y=await $C(c);new QC(c.asyncQueue,y,p,d,_).ju()})),_.promise})(du(s),(l=>t(new fN(s,l))),r)}function ui(){return new Cg("serverTimestamp")}function Ml(s){return new Ng("increment",s)}(function(t,i=!0){(function(l){So=l})(To),co(new sa("firestore",((r,{instanceIdentifier:l,options:c})=>{const d=r.getProvider("app").getImmediate(),p=new _s(new a2(r.getProvider("auth-internal")),new u2(d,r.getProvider("app-check-internal")),(function(y,A){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new rt(Y.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Xl(y.options.projectId,A)})(d,l),d);return c={useFetchStreams:i,...c},p._setSettings(c),p}),"PUBLIC").setMultipleInstances(!0)),lr(Qv,Yv,t),lr(Qv,Yv,"esm2020")})();const dN={apiKey:"AIzaSyD9Q8xysodbNwRxv_YshLDo5pG9-CvdTQE",authDomain:"pallavolo-67515986-17130.firebaseapp.com",projectId:"pallavolo-67515986-17130",storageBucket:"pallavolo-67515986-17130.firebasestorage.app",messagingSenderId:"462112859333",appId:"1:462112859333:web:059bb7a96b44dca9e33cac"},_A=rE(dN),lm=n2(_A),me=tN(_A),mN=new hs,um=14,ce={NO_MATCHES:"no_matches",MATCH_LIST:"match_list",MATCH_DETAIL:"match_detail",MATCH_HISTORY:"match_history"};function gN(){const[s,t]=ee.useState(null),[i,r]=ee.useState(!1),[l,c]=ee.useState(!1),[d,p]=ee.useState([]),[_,y]=ee.useState([]),[A,S]=ee.useState(null),[x,Q]=ee.useState([]),[W,at]=ee.useState(""),[tt,_t]=ee.useState(!1),[St,Et]=ee.useState(null),[Yt,te]=ee.useState(""),[Ht,N]=ee.useState(!1),[w,I]=ee.useState(""),[V,D]=ee.useState(!1),[U,R]=ee.useState(null),[Ct,re]=ee.useState(ce.NO_MATCHES),[j,st]=ee.useState(null),[ft,Pt]=ee.useState([]),[Xt,M]=ee.useState([]),K=ee.useMemo(()=>cn(me,"state","currentSession"),[]),J=s?.email==="tidolamiamail@gmail.com";ee.useEffect(()=>{const F=Fw(lm,async it=>{if(it){t(it),r(!0);const et=cn(me,"users",it.uid),ot=await Dl(et);if(ot.exists()){const dt=ot.data();te(dt.customDisplayName||it.displayName)}else te(it.displayName);await to(et,{email:it.email,displayName:it.displayName,photoURL:it.photoURL,lastLogin:ui()},{merge:!0}),yn(it.uid)}else t(null),r(!1),_t(!1),Et(null),te(""),N(!1)});return()=>F()},[]),ee.useEffect(()=>{let F;return(async()=>((await Dl(K)).exists()||await to(K,{participants:[],reserves:[],lastUpdated:ui()}),F=Y0(K,et=>{const ot=et.data();p(Array.isArray(ot?.participants)?ot.participants:[]),y(Array.isArray(ot?.reserves)?ot.reserves:[]),S(ot?.date||null),Ct!==ce.MATCH_HISTORY&&Ct!==ce.MATCH_DETAIL&&(ot?.date?(re(ce.MATCH_LIST),st(ot)):re(ce.NO_MATCHES))})))(),()=>{typeof F=="function"&&F()}},[K]),ee.useEffect(()=>{const it=(async()=>{try{const et=xl(Zr(me,"activeMatches"),Yc("date","asc"));return Y0(et,dt=>{const Kt=dt.docs.map(Mt=>({id:Mt.id,...Mt.data()}));M(Kt),Ct===ce.NO_MATCHES&&Kt.length>0?re(ce.MATCH_LIST):Ct===ce.MATCH_LIST&&Kt.length===0&&re(ce.NO_MATCHES)})}catch(et){console.error("Error loading active matches:",et),M([])}})();return()=>{typeof it=="function"&&it.then(et=>et())}},[Ct]);function lt(){const F=new Date,et=(9-F.getDay())%7||7,ot=new Date(F);ot.setDate(F.getDate()+et),ot.setHours(20,30,0,0);const dt=Kt=>Kt.toString().padStart(2,"0");return`${ot.getFullYear()}-${dt(ot.getMonth()+1)}-${dt(ot.getDate())}T${dt(ot.getHours())}:${dt(ot.getMinutes())}`}const[pt,wt]=ee.useState(lt()),Vt=async()=>{if(J)try{const F=xl(Zr(me,"activeMatches"),om("date","==",pt));if(!(await Kc(F)).empty){alert("Esiste già una partita per questo giorno e orario!");return}const et=await Q0(Zr(me,"activeMatches"),{participants:[],reserves:[],date:pt,createdAt:ui(),lastUpdated:ui(),createdBy:s.uid,status:"active"});console.log("Partita creata con ID:",et.id)}catch(F){console.error("Errore nella creazione della partita:",F),alert("Errore nella creazione della partita")}},Ae=async()=>{c(!0);try{const it=(await hR(lm,mN)).user;await to(cn(me,"users",it.uid),{email:it.email,displayName:it.displayName,photoURL:it.photoURL,lastLogin:ui()},{merge:!0}),t(it),r(!0),yn(it.uid)}catch(F){alert(`Errore durante il login: ${F.message||F}`),console.error("Login error:",F)}finally{c(!1)}},ge=async()=>{await Gw(lm),r(!1),t(null)},Fi=()=>{I(Yt),N(!0)},Es=async()=>{if(!(!s||!w.trim()))try{await to(cn(me,"users",s.uid),{customDisplayName:w.trim()},{merge:!0}),te(w.trim()),N(!1)}catch(F){console.error("Errore nel salvataggio del nome:",F),alert("Errore nel salvataggio del nome")}},Ts=()=>{I(""),N(!1)},Gi=async(F,it)=>{try{const et=await Dl(cn(me,"users",F)),ot=et.exists()?et.data():{},dt=xl(Zr(me,"sessions"),om("participantUids","array-contains",F),Yc("date","desc")),Mt=(await Kc(dt)).docs.map(Nt=>({id:Nt.id,...Nt.data()}));R({uid:F,displayName:ot.customDisplayName||it,totalSessions:ot?.stats?.totalSessions||0,asParticipant:ot?.stats?.asParticipant||0,asReserve:ot?.stats?.asReserve||0,friendsBrought:ot?.stats?.friendsBrought||0,sessionsHistory:Mt}),D(!0)}catch(et){console.error("Errore nel caricamento delle statistiche:",et),alert("Errore nel caricamento delle statistiche")}},zn=async F=>{if(!(!J||!confirm("Sei sicuro di voler resettare tutte le statistiche di questo utente?")))try{await to(cn(me,"users",F),{stats:{totalSessions:0,asParticipant:0,asReserve:0,friendsBrought:0}},{merge:!0}),alert("Statistiche resettate con successo"),U&&U.uid===F&&R({...U,totalSessions:0,asParticipant:0,asReserve:0,friendsBrought:0}),s&&s.uid===F&&yn(F)}catch(et){console.error("Errore nel reset delle statistiche:",et),alert("Errore nel reset delle statistiche")}},Tr=async F=>{if(!(!J||!confirm("Sei sicuro di voler eliminare questa sessione dalle statistiche?")))try{await Ol(me,async et=>{const ot=cn(me,"sessions",F),dt=await et.get(ot);if(!dt.exists())throw new Error("Sessione non trovata");const Kt=dt.data(),Mt=[...(Kt.participantUids||[]).map(Nt=>({uid:Nt,participant:!0})),...(Kt.reserveUids||[]).map(Nt=>({uid:Nt,participant:!1}))];for(const Nt of Mt){const Tt=cn(me,"users",Nt.uid),pe=await et.get(Tt);if(pe.exists()){const Ne=pe.data().stats||{};et.update(Tt,{stats:{...Ne,totalSessions:Math.max(0,(Ne.totalSessions||1)-1),asParticipant:Nt.participant?Math.max(0,(Ne.asParticipant||1)-1):Ne.asParticipant||0,asReserve:Nt.participant?Ne.asReserve||0:Math.max(0,(Ne.asReserve||1)-1)}})}}et.delete(ot)}),alert("Sessione eliminata con successo"),As(),s&&yn(s.uid)}catch(et){console.error("Errore nell'eliminazione della sessione:",et),alert("Errore nell'eliminazione della sessione")}},yn=async F=>{const it=await Dl(cn(me,"users",F)),et=it.exists()?it.data():{},ot=xl(Zr(me,"sessions"),om("participantUids","array-contains",F),Yc("date","desc")),Kt=(await Kc(ot)).docs.map(Mt=>({id:Mt.id,...Mt.data()}));Et({totalSessions:et?.stats?.totalSessions||0,asParticipant:et?.stats?.asParticipant||0,asReserve:et?.stats?.asReserve||0,friendsBrought:et?.stats?.friendsBrought||0,sessionsHistory:Kt})},As=async()=>{try{const F=xl(Zr(me,"sessions"),Yc("date","desc")),et=(await Kc(F)).docs.map(ot=>({id:ot.id,...ot.data()}));Pt(et)}catch(F){console.error("Error loading match history:",F),Pt([])}},Ss=()=>j?j.participants?.some(F=>F.uid===s?.uid)||j.reserves?.some(F=>F.uid===s?.uid):!1,we=!!j,Ce=()=>{if(!j)return 0;let F=j.participants?.length||0;for(const it of j.participants||[])F+=it.friends?.length||0;return F},mi=()=>{if(!j)return 0;let F=j.reserves?.length||0;for(const it of j.reserves||[])F+=it.friends?.length||0;return F},ca=async(F=!1)=>{if(!(!i||!s||!j))try{const it=cn(me,"activeMatches",j.id);await Ol(me,async et=>{const dt=(await et.get(it)).data()||{participants:[],reserves:[]},Kt=dt.participants?.some(pe=>pe.uid===s.uid),Mt=dt.reserves?.some(pe=>pe.uid===s.uid);if(Kt||Mt)throw new Error("Sei già iscritto!");const Nt={uid:s.uid,name:Yt||s.displayName,photoURL:s.photoURL,friends:x,timestamp:new Date().toLocaleString("it-IT")},Tt={...dt};Tt.participants=Array.isArray(Tt.participants)?Tt.participants:[],Tt.reserves=Array.isArray(Tt.reserves)?Tt.reserves:[],F?Tt.reserves=[...Tt.reserves,Nt]:Tt.participants.length<um?Tt.participants=[...Tt.participants,Nt]:Tt.reserves=[...Tt.reserves,Nt],et.update(it,{participants:Tt.participants,reserves:Tt.reserves,lastUpdated:ui()})}),Q([]),await yn(s.uid),!F&&(j.participants?.length||0)>=um&&alert("Lista partecipanti piena! Sei stato aggiunto alle riserve.")}catch(it){alert(it.message||"Errore durante l'iscrizione")}},ha=async()=>{if(!(!i||!s||!j))try{const F=cn(me,"activeMatches",j.id);await Ol(me,async it=>{const ot=(await it.get(F)).data()||{participants:[],reserves:[]},dt=ot.participants?.findIndex(Tt=>Tt.uid===s.uid),Kt=ot.reserves?.findIndex(Tt=>Tt.uid===s.uid);if((dt===void 0||dt===-1)&&(Kt===void 0||Kt===-1))throw new Error("Non sei iscritto a questa partita.");const Mt=[...ot.participants||[]];let Nt=[...ot.reserves||[]];if(dt!==void 0&&dt!==-1){if(Mt.splice(dt,1),Nt.length>0){const Tt=Nt[0];Nt=Nt.slice(1),Mt.push(Tt)}}else Kt!==void 0&&Kt!==-1&&(Nt=Nt.filter(Tt=>Tt.uid!==s.uid));it.update(F,{participants:Mt,reserves:Nt,lastUpdated:ui()})})}catch(F){alert(F.message||"Errore durante la disiscrizione")}},Ye=async(F,it=!1)=>{if(!(!J||!j))try{const et=cn(me,"activeMatches",j.id);await Ol(me,async ot=>{const Kt=(await ot.get(et)).data()||{participants:[],reserves:[]};let Mt=[...Kt.participants||[]],Nt=[...Kt.reserves||[]];if(it)Nt=Nt.filter(Tt=>Tt.uid!==F);else if(Mt=Mt.filter(Tt=>Tt.uid!==F),Nt.length>0){const Tt=Nt[0];Nt=Nt.slice(1),Mt.push(Tt)}ot.update(et,{participants:Mt,reserves:Nt,lastUpdated:ui()})})}catch(et){alert(et.message||"Errore durante la rimozione")}},gi=async(F,it,et=!1)=>{if(!(!J||!j))try{const ot=cn(me,"activeMatches",j.id);await Ol(me,async dt=>{const Mt=(await dt.get(ot)).data()||{participants:[],reserves:[]};let Nt=[...Mt.participants||[]],Tt=[...Mt.reserves||[]];if(et){const pe=Tt.findIndex(fe=>fe.uid===F);pe!==-1&&Tt[pe].friends&&(Tt[pe]={...Tt[pe],friends:Tt[pe].friends.filter((fe,Ne)=>Ne!==it)})}else{const pe=Nt.findIndex(fe=>fe.uid===F);pe!==-1&&Nt[pe].friends&&(Nt[pe]={...Nt[pe],friends:Nt[pe].friends.filter((fe,Ne)=>Ne!==it)})}dt.update(ot,{participants:Nt,reserves:Tt,lastUpdated:ui()})})}catch(ot){alert(ot.message||"Errore durante la rimozione dell'amico")}},Ar=async()=>{try{const it=(await Dl(K)).data()||{participants:[],reserves:[]};if(!it.participants||it.participants.length===0){alert("Non ci sono partecipanti da salvare!");return}const et={date:ui(),participants:it.participants,reserves:it.reserves||[],participantUids:(it.participants||[]).map(Mt=>Mt.uid),reserveUids:(it.reserves||[]).map(Mt=>Mt.uid)},ot=await Q0(Zr(me,"sessions"),et),dt=(it.participants||[]).map(Mt=>G0(cn(me,"users",Mt.uid),{"stats.totalSessions":Ml(1),"stats.asParticipant":Ml(1),"stats.friendsBrought":Ml(Mt.friends?.length||0)})),Kt=(it.reserves||[]).map(Mt=>G0(cn(me,"users",Mt.uid),{"stats.asReserve":Ml(1),"stats.friendsBrought":Ml(Mt.friends?.length||0)}));await Promise.allSettled([...dt,...Kt]),await to(K,{participants:[],reserves:[],lastUpdated:ui(),lastSessionId:ot.id},{merge:!0}),alert("Sessione salvata! Le statistiche sono state aggiornate."),s&&await yn(s.uid)}catch{alert("Errore durante la chiusura della sessione")}},Sr=()=>b.jsx("div",{className:"bg-gray-800 rounded-xl shadow-2xl p-8 mb-6 border border-gray-700",children:b.jsxs("div",{className:"flex items-center justify-between mb-6",children:[b.jsxs("div",{className:"flex items-center gap-3",children:[b.jsx("div",{className:"bg-indigo-600 p-3 rounded-lg",children:b.jsx(Xd,{className:"w-8 h-8 text-white"})}),b.jsxs("div",{children:[b.jsx("h1",{className:"text-3xl font-bold text-gray-100",children:Ct===ce.MATCH_HISTORY?"Storico Partite":"Iscrizioni pallavolo"}),i&&(Ct===ce.MATCH_DETAIL&&A?b.jsxs("div",{className:"mt-2 text-lg text-indigo-300 font-semibold",children:["Partita del ",new Date(A).toLocaleString("it-IT",{dateStyle:"full",timeStyle:"short"})]}):Ct===ce.MATCH_HISTORY?b.jsx("div",{className:"mt-2 text-lg text-indigo-300 font-semibold",children:"Partite già giocate"}):Ct===ce.MATCH_LIST&&A?b.jsx("div",{className:"mt-2 text-lg text-indigo-300 font-semibold",children:"Seleziona una partita per iscriverti"}):b.jsx("div",{className:"mt-2 text-lg text-indigo-300 font-semibold",children:"Nessuna partita attiva"}))]})]}),i&&b.jsxs("div",{className:"flex items-center gap-2 mr-4",children:[Ct===ce.MATCH_DETAIL&&b.jsx("button",{onClick:()=>re(A?ce.MATCH_LIST:ce.NO_MATCHES),className:"p-2 bg-gray-700 rounded-lg border border-gray-600 hover:bg-gray-600 transition",title:"Torna alla lista partite",children:b.jsx(pv,{className:"w-6 h-6 text-gray-300"})}),Ct===ce.MATCH_HISTORY&&b.jsx("button",{onClick:()=>re(A?ce.MATCH_LIST:ce.NO_MATCHES),className:"p-2 bg-gray-700 rounded-lg border border-gray-600 hover:bg-gray-600 transition",title:"Torna alla lista partite",children:b.jsx(pv,{className:"w-6 h-6 text-gray-300"})}),(Ct===ce.NO_MATCHES||Ct===ce.MATCH_LIST||Ct===ce.MATCH_DETAIL)&&b.jsx("button",{onClick:()=>{As(),re(ce.MATCH_HISTORY)},className:"p-2 bg-gray-700 rounded-lg border border-gray-600 hover:bg-gray-600 transition",title:"Visualizza storico partite",children:b.jsx(gv,{className:"w-6 h-6 text-gray-300"})})]}),i&&b.jsxs("div",{className:"relative ml-auto flex items-center gap-3",children:[b.jsx("span",{className:"text-gray-100 font-medium",children:Yt||s?.displayName}),b.jsx("button",{onClick:()=>_t(!tt),className:"p-2 bg-gray-700 rounded-full border border-gray-600 hover:bg-gray-600 transition",title:"Area personale",children:b.jsx("img",{src:s.photoURL||"",alt:s.displayName||"",className:"w-10 h-10 rounded-full border-2 border-indigo-500"})}),tt&&St&&b.jsxs("div",{className:"absolute right-0 mt-2 w-96 bg-gray-800 rounded-lg shadow-xl border border-gray-700 z-10 p-6",children:[b.jsxs("h3",{className:"text-lg font-bold text-gray-100 mb-4 flex items-center gap-2",children:[b.jsx(mv,{className:"w-5 h-5 text-yellow-500"}),"Le tue statistiche"]}),b.jsxs("div",{className:"mb-4 p-3 bg-gray-700/30 rounded-lg border border-gray-600/50",children:[b.jsx("div",{className:"text-xs text-gray-400 mb-1",children:"Nome visualizzato"}),Ht?b.jsxs("div",{className:"space-y-2",children:[b.jsx("input",{type:"text",value:w,onChange:F=>I(F.target.value),className:"w-full px-2 py-1 bg-gray-600 text-gray-100 rounded border border-gray-500 text-sm",placeholder:"Inserisci il tuo nome",autoFocus:!0}),b.jsxs("div",{className:"flex gap-2",children:[b.jsx("button",{onClick:Es,className:"flex-1 px-2 py-1 bg-green-600 text-white rounded text-xs hover:bg-green-700 transition",children:"Salva"}),b.jsx("button",{onClick:Ts,className:"flex-1 px-2 py-1 bg-gray-600 text-gray-100 rounded text-xs hover:bg-gray-700 transition",children:"Annulla"})]})]}):b.jsxs("div",{className:"flex items-center justify-between",children:[b.jsx("span",{className:"text-sm text-gray-100 font-medium",children:Yt}),b.jsx("button",{onClick:Fi,className:"px-2 py-1 bg-indigo-600 text-white rounded text-xs hover:bg-indigo-700 transition",children:"Modifica"})]})]}),b.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[b.jsxs("div",{className:"bg-gray-700/50 rounded-lg p-3 border border-gray-600/50",children:[b.jsx("div",{className:"text-xl font-bold text-indigo-400",children:St.totalSessions||0}),b.jsx("div",{className:"text-xs text-gray-400",children:"Sessioni totali"})]}),b.jsxs("div",{className:"bg-gray-700/50 rounded-lg p-3 border border-gray-600/50",children:[b.jsx("div",{className:"text-xl font-bold text-green-400",children:St.asParticipant||0}),b.jsx("div",{className:"text-xs text-gray-400",children:"Come partecipante"})]}),b.jsxs("div",{className:"bg-gray-700/50 rounded-lg p-3 border border-gray-600/50",children:[b.jsx("div",{className:"text-xl font-bold text-amber-400",children:St.asReserve||0}),b.jsx("div",{className:"text-xs text-gray-400",children:"Come riserva"})]}),b.jsxs("div",{className:"bg-gray-700/50 rounded-lg p-3 border border-gray-600/50",children:[b.jsx("div",{className:"text-xl font-bold text-purple-400",children:St.friendsBrought||0}),b.jsx("div",{className:"text-xs text-gray-400",children:"Amici portati"})]})]}),b.jsx("button",{onClick:ge,className:"mt-4 w-full px-4 py-2 bg-gray-700 text-gray-100 rounded-lg hover:bg-gray-600 transition border border-gray-600 text-sm",children:"Esci"})]})]})]})}),pi=()=>b.jsx("div",{className:"flex flex-col items-center justify-center",children:b.jsxs("div",{className:"bg-gray-800 rounded-xl shadow-2xl p-8 border border-gray-700 w-full max-w-md text-center",children:[b.jsx("div",{className:"text-lg text-yellow-200 mb-6",children:"Nessuna partita attiva, attendere che venga creata"}),!i&&b.jsxs("div",{className:"mb-6",children:[b.jsx("p",{className:"text-gray-400 text-sm mb-4",children:"Effettua il login per partecipare alle partite"}),b.jsx("button",{onClick:Ae,disabled:l,className:"w-full px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition font-medium flex items-center justify-center gap-2",children:l?b.jsxs(b.Fragment,{children:[b.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white"}),"Accesso..."]}):b.jsxs(b.Fragment,{children:[b.jsx(Xd,{className:"w-5 h-5"}),"Accedi con Google"]})})]}),J&&b.jsxs("div",{className:"space-y-4",children:[b.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[b.jsx("label",{htmlFor:"nextSessionDate",className:"text-sm text-gray-300 font-medium",children:"Data prossima partita:"}),b.jsx("input",{id:"nextSessionDate",type:"datetime-local",value:pt,onChange:F=>wt(F.target.value),className:"px-3 py-2 rounded-lg bg-gray-700 text-gray-100 border border-gray-600 focus:ring-2 focus:ring-blue-500"})]}),b.jsx("button",{onClick:Vt,className:"px-8 py-4 bg-green-600 text-white rounded-lg hover:bg-green-700 transition font-medium",children:"Crea nuova partita"})]})]})}),Co=()=>b.jsx("div",{className:"space-y-6",children:b.jsxs("div",{className:"bg-gray-800 rounded-xl shadow-2xl p-6 border border-gray-700",children:[b.jsx("h2",{className:"text-2xl font-bold text-gray-100 mb-4",children:"Partite Attive"}),Xt.length>0?b.jsxs("div",{className:"space-y-4",children:[Xt.map(F=>b.jsx("div",{onClick:()=>{st(F),re(ce.MATCH_DETAIL)},className:"bg-gray-700 rounded-lg p-4 border border-gray-600 hover:border-indigo-500 cursor-pointer transition group",children:b.jsxs("div",{className:"flex items-center justify-between",children:[b.jsxs("div",{children:[b.jsx("h3",{className:"text-lg font-semibold text-gray-100 group-hover:text-indigo-300",children:"Partita di Pallavolo"}),b.jsx("p",{className:"text-gray-400 mt-1",children:new Date(F.date).toLocaleString("it-IT",{dateStyle:"full",timeStyle:"short"})})]}),b.jsxs("div",{className:"flex items-center gap-4",children:[b.jsxs("div",{className:"text-center",children:[b.jsx("div",{className:"text-2xl font-bold text-green-400",children:(F.participants?.length||0)+(F.participants?.reduce((it,et)=>it+(et.friends?.length||0),0)||0)}),b.jsx("div",{className:"text-xs text-gray-400",children:"Partecipanti"})]}),b.jsxs("div",{className:"text-center",children:[b.jsx("div",{className:"text-2xl font-bold text-amber-400",children:(F.reserves?.length||0)+(F.reserves?.reduce((it,et)=>it+(et.friends?.length||0),0)||0)}),b.jsx("div",{className:"text-xs text-gray-400",children:"Riserve"})]}),b.jsx("div",{className:"text-indigo-400",children:b.jsx("span",{className:"text-sm",children:"Clicca per iscriverti →"})})]})]})},F.id)),J&&b.jsxs("div",{className:"border-t border-gray-600 pt-4 space-y-4",children:[b.jsx("h3",{className:"text-lg font-semibold text-gray-100",children:"Controlli Admin"}),b.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[b.jsx("label",{htmlFor:"nextSessionDate",className:"text-sm text-gray-300 font-medium",children:"Data prossima partita:"}),b.jsx("input",{id:"nextSessionDate",type:"datetime-local",value:pt,onChange:F=>wt(F.target.value),className:"px-3 py-2 rounded-lg bg-gray-700 text-gray-100 border border-gray-600 focus:ring-2 focus:ring-blue-500"})]}),b.jsx("div",{className:"flex gap-3",children:b.jsx("button",{onClick:Vt,className:"px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition font-medium",children:"Crea Nuova Partita"})})]})]}):b.jsxs("div",{className:"text-center py-8",children:[b.jsx("p",{className:"text-gray-400 mb-4",children:"Nessuna partita attiva al momento"}),J&&b.jsxs("div",{className:"space-y-4",children:[b.jsxs("div",{className:"flex items-center gap-3 mb-2 justify-center",children:[b.jsx("label",{htmlFor:"nextSessionDate",className:"text-sm text-gray-300 font-medium",children:"Data partita:"}),b.jsx("input",{id:"nextSessionDate",type:"datetime-local",value:pt,onChange:F=>wt(F.target.value),className:"px-3 py-2 rounded-lg bg-gray-700 text-gray-100 border border-gray-600 focus:ring-2 focus:ring-blue-500"})]}),b.jsx("button",{onClick:Vt,className:"px-8 py-4 bg-green-600 text-white rounded-lg hover:bg-green-700 transition font-medium",children:"Crea Prima Partita"})]})]})]})}),fa=()=>i?b.jsx("div",{className:"space-y-6",children:we&&b.jsxs(b.Fragment,{children:[!Ss()&&b.jsxs("div",{className:"space-y-4",children:[b.jsxs("div",{className:"flex gap-3",children:[b.jsxs("button",{onClick:()=>ca(!1),className:"flex-1 px-6 py-3 bg-green-600 text-white rounded-lg hover:bg-green-700 transition font-medium flex items-center justify-center gap-2",children:[b.jsx(pb,{className:"w-5 h-5"}),"Iscriviti come Partecipante"]}),b.jsxs("button",{onClick:()=>ca(!0),className:"flex-1 px-6 py-3 bg-amber-600 text-white rounded-lg hover:bg-amber-700 transition font-medium flex items-center justify-center gap-2",children:[b.jsx(mb,{className:"w-5 h-5"}),"Iscriviti come Riserva"]})]}),b.jsxs("div",{className:"space-y-4",children:[b.jsxs("div",{className:"text-xs text-gray-400 mb-2",children:["* Puoi aggiungere fino a ",b.jsx("span",{className:"font-bold text-indigo-300",children:"3 amici"})," per sessione"]}),b.jsxs("div",{className:"flex gap-2 items-center",children:[b.jsx("input",{type:"text",value:W||"",onChange:F=>at(F.target.value),className:"px-4 py-2 rounded-lg bg-gray-700 text-gray-100 border border-gray-600 focus:ring-2 focus:ring-indigo-500",placeholder:"Nome amico",disabled:x.length>=3}),b.jsx("button",{type:"button",onClick:()=>{W&&x.length<3&&(Q([...x,W]),at(""))},className:"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition font-medium",disabled:!W||x.length>=3,children:"Aggiungi amico"})]}),x.length>0&&b.jsxs("div",{className:"mt-2",children:[b.jsx("div",{className:"text-sm text-gray-300 mb-2",children:"Amici aggiunti:"}),b.jsx("ul",{className:"space-y-2",children:x.map((F,it)=>b.jsxs("li",{className:"flex items-center gap-2",children:[b.jsx("span",{className:"bg-indigo-900 text-indigo-100 px-3 py-1 rounded-full",children:F}),b.jsx("button",{type:"button",onClick:()=>Q(x.filter((et,ot)=>ot!==it)),className:"text-red-400 hover:text-red-600 text-xs",children:"Rimuovi"})]},it))})]})]})]}),Ss()&&b.jsx("button",{onClick:ha,className:"w-full px-6 py-3 bg-red-600 text-white rounded-lg hover:bg-red-700 transition font-medium",children:"Disiscriviti"}),b.jsxs("div",{className:"grid md:grid-cols-2 gap-6 mt-8",children:[b.jsxs("div",{className:"bg-gray-800 rounded-xl shadow-2xl p-6 border border-gray-700",children:[b.jsxs("div",{className:"flex items-center justify-between mb-4",children:[b.jsx("h2",{className:"text-xl font-bold text-gray-100",children:"Partecipanti"}),b.jsxs("span",{className:"bg-green-900 text-green-200 px-3 py-1 rounded-full font-semibold text-sm border border-green-700",children:[Ce()," / ",um]})]}),b.jsx("div",{className:"space-y-3 max-h-96 overflow-y-auto",children:!j||!j.participants||j.participants.length===0?b.jsx("p",{className:"text-gray-500 text-center py-4",children:"Nessun partecipante"}):j.participants.map((F,it)=>b.jsx("div",{className:"bg-green-900 rounded-lg p-3 border border-green-700",children:b.jsxs("div",{className:"flex items-center gap-3",children:[b.jsx("img",{src:F.photoURL,alt:F.name,className:"w-10 h-10 rounded-full border-2 border-green-500"}),b.jsxs("div",{className:"flex-1",children:[b.jsxs("div",{className:"flex items-center justify-between",children:[b.jsx("span",{className:"font-medium text-gray-100",children:F.name}),b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsx("span",{className:"text-xs text-gray-400",children:F.timestamp}),b.jsx("button",{onClick:()=>Gi(F.uid,F.name),className:"text-blue-400 hover:text-blue-300 text-xs px-2 py-1 rounded bg-blue-900/30 hover:bg-blue-900/50 transition",title:"Visualizza statistiche",children:"📊"}),J&&b.jsx("button",{onClick:()=>Ye(F.uid,!1),className:"text-red-400 hover:text-red-600 text-xs px-2 py-1 rounded bg-red-900/30 hover:bg-red-900/50 transition",title:"Rimuovi utente",children:"✕"})]})]}),F.friends?.length>0&&b.jsx("div",{className:"mt-2 space-y-1",children:F.friends.map((et,ot)=>b.jsxs("div",{className:"text-sm text-gray-300 flex items-center gap-2 justify-between",children:[b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsx("span",{className:"text-green-400",children:"+"}),et]}),J&&b.jsx("button",{onClick:()=>gi(F.uid,ot,!1),className:"text-red-400 hover:text-red-600 text-xs px-1 py-0.5 rounded bg-red-900/30 hover:bg-red-900/50 transition ml-2",title:"Rimuovi amico",children:"✕"})]},ot))})]})]})},F.uid+"_"+it))})]}),b.jsxs("div",{className:"bg-gray-800 rounded-xl shadow-2xl p-6 border border-gray-700",children:[b.jsxs("div",{className:"flex items-center justify-between mb-4",children:[b.jsx("h2",{className:"text-xl font-bold text-gray-100",children:"Riserve"}),b.jsx("span",{className:"bg-amber-900 text-amber-200 px-3 py-1 rounded-full font-semibold text-sm border border-amber-700",children:mi()})]}),b.jsx("div",{className:"space-y-3 max-h-96 overflow-y-auto",children:!j||!j.reserves||j.reserves.length===0?b.jsx("p",{className:"text-gray-500 text-center py-4",children:"Nessuna riserva"}):j.reserves.map((F,it)=>b.jsx("div",{className:"bg-amber-900 rounded-lg p-3 border border-amber-700",children:b.jsxs("div",{className:"flex items-center gap-3",children:[b.jsx("img",{src:F.photoURL,alt:F.name,className:"w-10 h-10 rounded-full border-2 border-amber-500"}),b.jsxs("div",{className:"flex-1",children:[b.jsxs("div",{className:"flex items-center justify-between",children:[b.jsxs("span",{className:"font-medium text-gray-100",children:[it+1,". ",F.name]}),b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsx("span",{className:"text-xs text-gray-400",children:F.timestamp}),b.jsx("button",{onClick:()=>Gi(F.uid,F.name),className:"text-blue-400 hover:text-blue-300 text-xs px-2 py-1 rounded bg-blue-900/30 hover:bg-blue-900/50 transition",title:"Visualizza statistiche",children:"📊"}),J&&b.jsx("button",{onClick:()=>Ye(F.uid,!0),className:"text-red-400 hover:text-red-600 text-xs px-2 py-1 rounded bg-red-900/30 hover:bg-red-900/50 transition",title:"Rimuovi utente",children:"✕"})]})]}),F.friends?.length>0&&b.jsx("div",{className:"mt-2 space-y-1",children:F.friends.map((et,ot)=>b.jsxs("div",{className:"text-sm text-gray-300 flex items-center gap-2 justify-between",children:[b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsx("span",{className:"text-amber-400",children:"+"}),et]}),J&&b.jsx("button",{onClick:()=>gi(F.uid,ot,!0),className:"text-red-400 hover:text-red-600 text-xs px-1 py-0.5 rounded bg-red-900/30 hover:bg-red-900/50 transition ml-2",title:"Rimuovi amico",children:"✕"})]},ot))})]})]})},F.uid+"_"+it))})]})]}),J&&b.jsxs("div",{className:"space-y-4 mt-6",children:[b.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[b.jsx("label",{htmlFor:"nextSessionDate",className:"text-sm text-gray-300 font-medium",children:"Data prossima partita:"}),b.jsx("input",{id:"nextSessionDate",type:"datetime-local",value:pt,onChange:F=>wt(F.target.value),className:"px-3 py-2 rounded-lg bg-gray-700 text-gray-100 border border-gray-600 focus:ring-2 focus:ring-blue-500"})]}),b.jsxs("button",{onClick:Vt,className:"w-full px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition font-medium flex items-center justify-center gap-2",children:[b.jsx(gv,{className:"w-5 h-5"}),"Nuova partita"]}),b.jsx("button",{onClick:Ar,className:"w-full px-6 py-3 bg-red-600 text-white rounded-lg hover:bg-red-700 transition font-medium",children:"Chiudi sessione"})]})]})}):b.jsxs("div",{className:"space-y-4 text-center py-8",children:[b.jsx("p",{className:"text-gray-300 mb-6",children:"Accedi con Google per iscriverti agli allenamenti"}),b.jsxs("button",{onClick:Ae,disabled:l,className:"inline-flex items-center gap-3 px-8 py-4 bg-white text-gray-800 rounded-lg hover:bg-gray-100 transition font-medium shadow-lg disabled:opacity-50",children:[b.jsxs("svg",{className:"w-6 h-6",viewBox:"0 0 24 24",children:[b.jsx("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),b.jsx("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),b.jsx("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),b.jsx("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),l?"Accesso in corso...":"Accedi con Google"]}),b.jsx("p",{className:"text-xs text-gray-500 mt-4",children:"* Login con Firebase/Google OAuth"})]}),da=()=>b.jsx("div",{className:"space-y-6",children:ft.length===0?b.jsx("div",{className:"bg-gray-800 rounded-xl shadow-2xl p-8 border border-gray-700 text-center",children:b.jsx("p",{className:"text-gray-400",children:"Nessuna partita nel database"})}):b.jsx("div",{className:"space-y-4",children:ft.map((F,it)=>b.jsxs("div",{className:"bg-gray-800 rounded-xl shadow-2xl p-6 border border-gray-700",children:[b.jsxs("div",{className:"flex items-center justify-between mb-4",children:[b.jsxs("h3",{className:"text-xl font-bold text-gray-100",children:["Partita #",ft.length-it]}),b.jsxs("div",{className:"flex items-center gap-3",children:[b.jsx("span",{className:"text-sm text-gray-400",children:F.date?.toDate?F.date.toDate().toLocaleString("it-IT"):"Data non disponibile"}),J&&b.jsx("button",{onClick:()=>Tr(F.id),className:"text-red-400 hover:text-red-300 text-xs px-2 py-1 rounded bg-red-900/30 hover:bg-red-900/50 transition",title:"Elimina sessione",children:"🗑️"})]})]}),b.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[b.jsxs("div",{children:[b.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[b.jsx("h4",{className:"text-lg font-semibold text-gray-100",children:"Partecipanti"}),b.jsx("span",{className:"bg-green-900 text-green-200 px-2 py-1 rounded-full text-sm border border-green-700",children:F.participants?.length||0})]}),b.jsx("div",{className:"space-y-2 max-h-48 overflow-y-auto",children:F.participants?.length>0?F.participants.map((et,ot)=>b.jsxs("div",{className:"bg-green-900/50 rounded-lg p-3 border border-green-700",children:[b.jsx("div",{className:"font-medium text-gray-100",children:et.name}),et.friends?.length>0&&b.jsx("div",{className:"mt-1",children:et.friends.map((dt,Kt)=>b.jsxs("div",{className:"text-sm text-gray-300 flex items-center gap-1",children:[b.jsx("span",{className:"text-green-400",children:"+"}),dt]},Kt))})]},ot)):b.jsx("p",{className:"text-gray-500 text-center py-2",children:"Nessun partecipante"})})]}),b.jsxs("div",{children:[b.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[b.jsx("h4",{className:"text-lg font-semibold text-gray-100",children:"Riserve"}),b.jsx("span",{className:"bg-amber-900 text-amber-200 px-2 py-1 rounded-full text-sm border border-amber-700",children:F.reserves?.length||0})]}),b.jsx("div",{className:"space-y-2 max-h-48 overflow-y-auto",children:F.reserves?.length>0?F.reserves.map((et,ot)=>b.jsxs("div",{className:"bg-amber-900/50 rounded-lg p-3 border border-amber-700",children:[b.jsx("div",{className:"font-medium text-gray-100",children:et.name}),et.friends?.length>0&&b.jsx("div",{className:"mt-1",children:et.friends.map((dt,Kt)=>b.jsxs("div",{className:"text-sm text-gray-300 flex items-center gap-1",children:[b.jsx("span",{className:"text-amber-400",children:"+"}),dt]},Kt))})]},ot)):b.jsx("p",{className:"text-gray-500 text-center py-2",children:"Nessuna riserva"})})]})]})]},F.id))})});return b.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 to-gray-800 p-6",children:b.jsxs("div",{className:"max-w-6xl mx-auto",children:[Sr(),i?b.jsxs(b.Fragment,{children:[Ct===ce.NO_MATCHES&&pi(),Ct===ce.MATCH_LIST&&Co(),Ct===ce.MATCH_DETAIL&&fa(),Ct===ce.MATCH_HISTORY&&da()]}):b.jsx("div",{className:"flex flex-col items-center justify-center",children:b.jsxs("div",{className:"bg-gray-800 rounded-xl shadow-2xl p-8 border border-gray-700 w-full max-w-md text-center",children:[b.jsx("div",{className:"text-lg text-yellow-200 mb-6",children:"Benvenuto! Effettua il login per accedere alle partite di pallavolo"}),b.jsx("button",{onClick:Ae,disabled:l,className:"w-full px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition font-medium flex items-center justify-center gap-2",children:l?b.jsxs(b.Fragment,{children:[b.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white"}),"Accesso..."]}):b.jsxs(b.Fragment,{children:[b.jsx(Xd,{className:"w-5 h-5"}),"Accedi con Google"]})})]})}),V&&U&&b.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:b.jsxs("div",{className:"bg-gray-800 rounded-xl shadow-2xl border border-gray-700 w-full max-w-md p-6",children:[b.jsxs("div",{className:"flex items-center justify-between mb-4",children:[b.jsxs("h3",{className:"text-lg font-bold text-gray-100 flex items-center gap-2",children:[b.jsx(mv,{className:"w-5 h-5 text-yellow-500"}),"Statistiche di ",U.displayName]}),b.jsx("button",{onClick:()=>D(!1),className:"text-gray-400 hover:text-gray-200 transition",children:"✕"})]}),b.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[b.jsxs("div",{className:"bg-gray-700/50 rounded-lg p-3 border border-gray-600/50",children:[b.jsx("div",{className:"text-xl font-bold text-indigo-400",children:U.totalSessions||0}),b.jsx("div",{className:"text-xs text-gray-400",children:"Sessioni totali"})]}),b.jsxs("div",{className:"bg-gray-700/50 rounded-lg p-3 border border-gray-600/50",children:[b.jsx("div",{className:"text-xl font-bold text-green-400",children:U.asParticipant||0}),b.jsx("div",{className:"text-xs text-gray-400",children:"Come partecipante"})]}),b.jsxs("div",{className:"bg-gray-700/50 rounded-lg p-3 border border-gray-600/50",children:[b.jsx("div",{className:"text-xl font-bold text-amber-400",children:U.asReserve||0}),b.jsx("div",{className:"text-xs text-gray-400",children:"Come riserva"})]}),b.jsxs("div",{className:"bg-gray-700/50 rounded-lg p-3 border border-gray-600/50",children:[b.jsx("div",{className:"text-xl font-bold text-purple-400",children:U.friendsBrought||0}),b.jsx("div",{className:"text-xs text-gray-400",children:"Amici portati"})]})]}),J&&b.jsx("button",{onClick:()=>zn(U.uid),className:"mt-4 w-full px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition border border-red-500 text-sm",children:"🗑️ Reset statistiche utente"}),b.jsx("button",{onClick:()=>D(!1),className:"mt-2 w-full px-4 py-2 bg-gray-700 text-gray-100 rounded-lg hover:bg-gray-600 transition border border-gray-600 text-sm",children:"Chiudi"})]})})]})})}function pN(){return b.jsx("div",{className:"App",children:b.jsx(gN,{})})}sb.createRoot(document.getElementById("root")).render(b.jsx(ee.StrictMode,{children:b.jsx(pN,{})}));
