(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))r(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&r(d)}).observe(document,{childList:!0,subtree:!0});function i(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function r(l){if(l.ep)return;l.ep=!0;const c=i(l);fetch(l.href,c)}})();var kd={exports:{}},El={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $_;function kS(){if($_)return El;$_=1;var s=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function i(r,l,c){var d=null;if(c!==void 0&&(d=""+c),l.key!==void 0&&(d=""+l.key),"key"in l){c={};for(var p in l)p!=="key"&&(c[p]=l[p])}else c=l;return l=c.ref,{$$typeof:s,type:r,key:d,ref:l!==void 0?l:null,props:c}}return El.Fragment=t,El.jsx=i,El.jsxs=i,El}var Z_;function zS(){return Z_||(Z_=1,kd.exports=kS()),kd.exports}var K=zS(),zd={exports:{}},St={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var J_;function jS(){if(J_)return St;J_=1;var s=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),S=Symbol.for("react.activity"),N=Symbol.iterator;function F(V){return V===null||typeof V!="object"?null:(V=N&&V[N]||V["@@iterator"],typeof V=="function"?V:null)}var Z={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},st=Object.assign,W={};function mt(V,Y,et){this.props=V,this.context=Y,this.refs=W,this.updater=et||Z}mt.prototype.isReactComponent={},mt.prototype.setState=function(V,Y){if(typeof V!="object"&&typeof V!="function"&&V!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,V,Y,"setState")},mt.prototype.forceUpdate=function(V){this.updater.enqueueForceUpdate(this,V,"forceUpdate")};function _t(){}_t.prototype=mt.prototype;function pt(V,Y,et){this.props=V,this.context=Y,this.refs=W,this.updater=et||Z}var Pt=pt.prototype=new _t;Pt.constructor=pt,st(Pt,mt.prototype),Pt.isPureReactComponent=!0;var Xt=Array.isArray;function zt(){}var C={H:null,A:null,T:null,S:null},b=Object.prototype.hasOwnProperty;function I(V,Y,et){var rt=et.ref;return{$$typeof:s,type:V,key:Y,ref:rt!==void 0?rt:null,props:et}}function M(V,Y){return I(V.type,Y,V.props)}function D(V){return typeof V=="object"&&V!==null&&V.$$typeof===s}function U(V){var Y={"=":"=0",":":"=2"};return"$"+V.replace(/[=:]/g,function(et){return Y[et]})}var w=/\/+/g;function se(V,Y){return typeof V=="object"&&V!==null&&V.key!=null?U(""+V.key):Y.toString(36)}function ge(V){switch(V.status){case"fulfilled":return V.value;case"rejected":throw V.reason;default:switch(typeof V.status=="string"?V.then(zt,zt):(V.status="pending",V.then(function(Y){V.status==="pending"&&(V.status="fulfilled",V.value=Y)},function(Y){V.status==="pending"&&(V.status="rejected",V.reason=Y)})),V.status){case"fulfilled":return V.value;case"rejected":throw V.reason}}throw V}function q(V,Y,et,rt,vt){var bt=typeof V;(bt==="undefined"||bt==="boolean")&&(V=null);var Ot=!1;if(V===null)Ot=!0;else switch(bt){case"bigint":case"string":case"number":Ot=!0;break;case"object":switch(V.$$typeof){case s:case t:Ot=!0;break;case A:return Ot=V._init,q(Ot(V._payload),Y,et,rt,vt)}}if(Ot)return vt=vt(V),Ot=rt===""?"."+se(V,0):rt,Xt(vt)?(et="",Ot!=null&&(et=Ot.replace(w,"$&/")+"/"),q(vt,Y,et,"",function(ct){return ct})):vt!=null&&(D(vt)&&(vt=M(vt,et+(vt.key==null||V&&V.key===vt.key?"":(""+vt.key).replace(w,"$&/")+"/")+Ot)),Y.push(vt)),1;Ot=0;var _e=rt===""?".":rt+":";if(Xt(V))for(var J=0;J<V.length;J++)rt=V[J],bt=_e+se(rt,J),Ot+=q(rt,Y,et,bt,vt);else if(J=F(V),typeof J=="function")for(V=J.call(V),J=0;!(rt=V.next()).done;)rt=rt.value,bt=_e+se(rt,J++),Ot+=q(rt,Y,et,bt,vt);else if(bt==="object"){if(typeof V.then=="function")return q(ge(V),Y,et,rt,vt);throw Y=String(V),Error("Objects are not valid as a React child (found: "+(Y==="[object Object]"?"object with keys {"+Object.keys(V).join(", ")+"}":Y)+"). If you meant to render a collection of children, use an array instead.")}return Ot}function nt(V,Y,et){if(V==null)return V;var rt=[],vt=0;return q(V,rt,"","",function(bt){return Y.call(et,bt,vt++)}),rt}function ut(V){if(V._status===-1){var Y=V._result;Y=Y(),Y.then(function(et){(V._status===0||V._status===-1)&&(V._status=1,V._result=et)},function(et){(V._status===0||V._status===-1)&&(V._status=2,V._result=et)}),V._status===-1&&(V._status=0,V._result=Y)}if(V._status===1)return V._result.default;throw V._result}var Dt=typeof reportError=="function"?reportError:function(V){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Y=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof V=="object"&&V!==null&&typeof V.message=="string"?String(V.message):String(V),error:V});if(!window.dispatchEvent(Y))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",V);return}console.error(V)},Gt={map:nt,forEach:function(V,Y,et){nt(V,function(){Y.apply(this,arguments)},et)},count:function(V){var Y=0;return nt(V,function(){Y++}),Y},toArray:function(V){return nt(V,function(Y){return Y})||[]},only:function(V){if(!D(V))throw Error("React.Children.only expected to receive a single React element child.");return V}};return St.Activity=S,St.Children=Gt,St.Component=mt,St.Fragment=i,St.Profiler=l,St.PureComponent=pt,St.StrictMode=r,St.Suspense=y,St.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=C,St.__COMPILER_RUNTIME={__proto__:null,c:function(V){return C.H.useMemoCache(V)}},St.cache=function(V){return function(){return V.apply(null,arguments)}},St.cacheSignal=function(){return null},St.cloneElement=function(V,Y,et){if(V==null)throw Error("The argument must be a React element, but you passed "+V+".");var rt=st({},V.props),vt=V.key;if(Y!=null)for(bt in Y.key!==void 0&&(vt=""+Y.key),Y)!b.call(Y,bt)||bt==="key"||bt==="__self"||bt==="__source"||bt==="ref"&&Y.ref===void 0||(rt[bt]=Y[bt]);var bt=arguments.length-2;if(bt===1)rt.children=et;else if(1<bt){for(var Ot=Array(bt),_e=0;_e<bt;_e++)Ot[_e]=arguments[_e+2];rt.children=Ot}return I(V.type,vt,rt)},St.createContext=function(V){return V={$$typeof:d,_currentValue:V,_currentValue2:V,_threadCount:0,Provider:null,Consumer:null},V.Provider=V,V.Consumer={$$typeof:c,_context:V},V},St.createElement=function(V,Y,et){var rt,vt={},bt=null;if(Y!=null)for(rt in Y.key!==void 0&&(bt=""+Y.key),Y)b.call(Y,rt)&&rt!=="key"&&rt!=="__self"&&rt!=="__source"&&(vt[rt]=Y[rt]);var Ot=arguments.length-2;if(Ot===1)vt.children=et;else if(1<Ot){for(var _e=Array(Ot),J=0;J<Ot;J++)_e[J]=arguments[J+2];vt.children=_e}if(V&&V.defaultProps)for(rt in Ot=V.defaultProps,Ot)vt[rt]===void 0&&(vt[rt]=Ot[rt]);return I(V,bt,vt)},St.createRef=function(){return{current:null}},St.forwardRef=function(V){return{$$typeof:p,render:V}},St.isValidElement=D,St.lazy=function(V){return{$$typeof:A,_payload:{_status:-1,_result:V},_init:ut}},St.memo=function(V,Y){return{$$typeof:_,type:V,compare:Y===void 0?null:Y}},St.startTransition=function(V){var Y=C.T,et={};C.T=et;try{var rt=V(),vt=C.S;vt!==null&&vt(et,rt),typeof rt=="object"&&rt!==null&&typeof rt.then=="function"&&rt.then(zt,Dt)}catch(bt){Dt(bt)}finally{Y!==null&&et.types!==null&&(Y.types=et.types),C.T=Y}},St.unstable_useCacheRefresh=function(){return C.H.useCacheRefresh()},St.use=function(V){return C.H.use(V)},St.useActionState=function(V,Y,et){return C.H.useActionState(V,Y,et)},St.useCallback=function(V,Y){return C.H.useCallback(V,Y)},St.useContext=function(V){return C.H.useContext(V)},St.useDebugValue=function(){},St.useDeferredValue=function(V,Y){return C.H.useDeferredValue(V,Y)},St.useEffect=function(V,Y){return C.H.useEffect(V,Y)},St.useEffectEvent=function(V){return C.H.useEffectEvent(V)},St.useId=function(){return C.H.useId()},St.useImperativeHandle=function(V,Y,et){return C.H.useImperativeHandle(V,Y,et)},St.useInsertionEffect=function(V,Y){return C.H.useInsertionEffect(V,Y)},St.useLayoutEffect=function(V,Y){return C.H.useLayoutEffect(V,Y)},St.useMemo=function(V,Y){return C.H.useMemo(V,Y)},St.useOptimistic=function(V,Y){return C.H.useOptimistic(V,Y)},St.useReducer=function(V,Y,et){return C.H.useReducer(V,Y,et)},St.useRef=function(V){return C.H.useRef(V)},St.useState=function(V){return C.H.useState(V)},St.useSyncExternalStore=function(V,Y,et){return C.H.useSyncExternalStore(V,Y,et)},St.useTransition=function(){return C.H.useTransition()},St.version="19.2.0",St}var W_;function Cm(){return W_||(W_=1,zd.exports=jS()),zd.exports}var fe=Cm(),jd={exports:{}},Tl={},Bd={exports:{}},qd={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tv;function BS(){return tv||(tv=1,(function(s){function t(q,nt){var ut=q.length;q.push(nt);t:for(;0<ut;){var Dt=ut-1>>>1,Gt=q[Dt];if(0<l(Gt,nt))q[Dt]=nt,q[ut]=Gt,ut=Dt;else break t}}function i(q){return q.length===0?null:q[0]}function r(q){if(q.length===0)return null;var nt=q[0],ut=q.pop();if(ut!==nt){q[0]=ut;t:for(var Dt=0,Gt=q.length,V=Gt>>>1;Dt<V;){var Y=2*(Dt+1)-1,et=q[Y],rt=Y+1,vt=q[rt];if(0>l(et,ut))rt<Gt&&0>l(vt,et)?(q[Dt]=vt,q[rt]=ut,Dt=rt):(q[Dt]=et,q[Y]=ut,Dt=Y);else if(rt<Gt&&0>l(vt,ut))q[Dt]=vt,q[rt]=ut,Dt=rt;else break t}}return nt}function l(q,nt){var ut=q.sortIndex-nt.sortIndex;return ut!==0?ut:q.id-nt.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;s.unstable_now=function(){return c.now()}}else{var d=Date,p=d.now();s.unstable_now=function(){return d.now()-p}}var y=[],_=[],A=1,S=null,N=3,F=!1,Z=!1,st=!1,W=!1,mt=typeof setTimeout=="function"?setTimeout:null,_t=typeof clearTimeout=="function"?clearTimeout:null,pt=typeof setImmediate<"u"?setImmediate:null;function Pt(q){for(var nt=i(_);nt!==null;){if(nt.callback===null)r(_);else if(nt.startTime<=q)r(_),nt.sortIndex=nt.expirationTime,t(y,nt);else break;nt=i(_)}}function Xt(q){if(st=!1,Pt(q),!Z)if(i(y)!==null)Z=!0,zt||(zt=!0,U());else{var nt=i(_);nt!==null&&ge(Xt,nt.startTime-q)}}var zt=!1,C=-1,b=5,I=-1;function M(){return W?!0:!(s.unstable_now()-I<b)}function D(){if(W=!1,zt){var q=s.unstable_now();I=q;var nt=!0;try{t:{Z=!1,st&&(st=!1,_t(C),C=-1),F=!0;var ut=N;try{e:{for(Pt(q),S=i(y);S!==null&&!(S.expirationTime>q&&M());){var Dt=S.callback;if(typeof Dt=="function"){S.callback=null,N=S.priorityLevel;var Gt=Dt(S.expirationTime<=q);if(q=s.unstable_now(),typeof Gt=="function"){S.callback=Gt,Pt(q),nt=!0;break e}S===i(y)&&r(y),Pt(q)}else r(y);S=i(y)}if(S!==null)nt=!0;else{var V=i(_);V!==null&&ge(Xt,V.startTime-q),nt=!1}}break t}finally{S=null,N=ut,F=!1}nt=void 0}}finally{nt?U():zt=!1}}}var U;if(typeof pt=="function")U=function(){pt(D)};else if(typeof MessageChannel<"u"){var w=new MessageChannel,se=w.port2;w.port1.onmessage=D,U=function(){se.postMessage(null)}}else U=function(){mt(D,0)};function ge(q,nt){C=mt(function(){q(s.unstable_now())},nt)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(q){q.callback=null},s.unstable_forceFrameRate=function(q){0>q||125<q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):b=0<q?Math.floor(1e3/q):5},s.unstable_getCurrentPriorityLevel=function(){return N},s.unstable_next=function(q){switch(N){case 1:case 2:case 3:var nt=3;break;default:nt=N}var ut=N;N=nt;try{return q()}finally{N=ut}},s.unstable_requestPaint=function(){W=!0},s.unstable_runWithPriority=function(q,nt){switch(q){case 1:case 2:case 3:case 4:case 5:break;default:q=3}var ut=N;N=q;try{return nt()}finally{N=ut}},s.unstable_scheduleCallback=function(q,nt,ut){var Dt=s.unstable_now();switch(typeof ut=="object"&&ut!==null?(ut=ut.delay,ut=typeof ut=="number"&&0<ut?Dt+ut:Dt):ut=Dt,q){case 1:var Gt=-1;break;case 2:Gt=250;break;case 5:Gt=1073741823;break;case 4:Gt=1e4;break;default:Gt=5e3}return Gt=ut+Gt,q={id:A++,callback:nt,priorityLevel:q,startTime:ut,expirationTime:Gt,sortIndex:-1},ut>Dt?(q.sortIndex=ut,t(_,q),i(y)===null&&q===i(_)&&(st?(_t(C),C=-1):st=!0,ge(Xt,ut-Dt))):(q.sortIndex=Gt,t(y,q),Z||F||(Z=!0,zt||(zt=!0,U()))),q},s.unstable_shouldYield=M,s.unstable_wrapCallback=function(q){var nt=N;return function(){var ut=N;N=nt;try{return q.apply(this,arguments)}finally{N=ut}}}})(qd)),qd}var ev;function qS(){return ev||(ev=1,Bd.exports=BS()),Bd.exports}var Hd={exports:{}},nn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nv;function HS(){if(nv)return nn;nv=1;var s=Cm();function t(y){var _="https://react.dev/errors/"+y;if(1<arguments.length){_+="?args[]="+encodeURIComponent(arguments[1]);for(var A=2;A<arguments.length;A++)_+="&args[]="+encodeURIComponent(arguments[A])}return"Minified React error #"+y+"; visit "+_+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var r={d:{f:i,r:function(){throw Error(t(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},l=Symbol.for("react.portal");function c(y,_,A){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:S==null?null:""+S,children:y,containerInfo:_,implementation:A}}var d=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(y,_){if(y==="font")return"";if(typeof _=="string")return _==="use-credentials"?_:""}return nn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,nn.createPortal=function(y,_){var A=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_||_.nodeType!==1&&_.nodeType!==9&&_.nodeType!==11)throw Error(t(299));return c(y,_,null,A)},nn.flushSync=function(y){var _=d.T,A=r.p;try{if(d.T=null,r.p=2,y)return y()}finally{d.T=_,r.p=A,r.d.f()}},nn.preconnect=function(y,_){typeof y=="string"&&(_?(_=_.crossOrigin,_=typeof _=="string"?_==="use-credentials"?_:"":void 0):_=null,r.d.C(y,_))},nn.prefetchDNS=function(y){typeof y=="string"&&r.d.D(y)},nn.preinit=function(y,_){if(typeof y=="string"&&_&&typeof _.as=="string"){var A=_.as,S=p(A,_.crossOrigin),N=typeof _.integrity=="string"?_.integrity:void 0,F=typeof _.fetchPriority=="string"?_.fetchPriority:void 0;A==="style"?r.d.S(y,typeof _.precedence=="string"?_.precedence:void 0,{crossOrigin:S,integrity:N,fetchPriority:F}):A==="script"&&r.d.X(y,{crossOrigin:S,integrity:N,fetchPriority:F,nonce:typeof _.nonce=="string"?_.nonce:void 0})}},nn.preinitModule=function(y,_){if(typeof y=="string")if(typeof _=="object"&&_!==null){if(_.as==null||_.as==="script"){var A=p(_.as,_.crossOrigin);r.d.M(y,{crossOrigin:A,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0})}}else _==null&&r.d.M(y)},nn.preload=function(y,_){if(typeof y=="string"&&typeof _=="object"&&_!==null&&typeof _.as=="string"){var A=_.as,S=p(A,_.crossOrigin);r.d.L(y,A,{crossOrigin:S,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0,type:typeof _.type=="string"?_.type:void 0,fetchPriority:typeof _.fetchPriority=="string"?_.fetchPriority:void 0,referrerPolicy:typeof _.referrerPolicy=="string"?_.referrerPolicy:void 0,imageSrcSet:typeof _.imageSrcSet=="string"?_.imageSrcSet:void 0,imageSizes:typeof _.imageSizes=="string"?_.imageSizes:void 0,media:typeof _.media=="string"?_.media:void 0})}},nn.preloadModule=function(y,_){if(typeof y=="string")if(_){var A=p(_.as,_.crossOrigin);r.d.m(y,{as:typeof _.as=="string"&&_.as!=="script"?_.as:void 0,crossOrigin:A,integrity:typeof _.integrity=="string"?_.integrity:void 0})}else r.d.m(y)},nn.requestFormReset=function(y){r.d.r(y)},nn.unstable_batchedUpdates=function(y,_){return y(_)},nn.useFormState=function(y,_,A){return d.H.useFormState(y,_,A)},nn.useFormStatus=function(){return d.H.useHostTransitionStatus()},nn.version="19.2.0",nn}var iv;function FS(){if(iv)return Hd.exports;iv=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(t){console.error(t)}}return s(),Hd.exports=HS(),Hd.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sv;function GS(){if(sv)return Tl;sv=1;var s=qS(),t=Cm(),i=FS();function r(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)n+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function c(e){var n=e,a=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(a=n.return),e=n.return;while(e)}return n.tag===3?a:null}function d(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function p(e){if(e.tag===31){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function y(e){if(c(e)!==e)throw Error(r(188))}function _(e){var n=e.alternate;if(!n){if(n=c(e),n===null)throw Error(r(188));return n!==e?null:e}for(var a=e,o=n;;){var h=a.return;if(h===null)break;var f=h.alternate;if(f===null){if(o=h.return,o!==null){a=o;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===a)return y(h),e;if(f===o)return y(h),n;f=f.sibling}throw Error(r(188))}if(a.return!==o.return)a=h,o=f;else{for(var g=!1,E=h.child;E;){if(E===a){g=!0,a=h,o=f;break}if(E===o){g=!0,o=h,a=f;break}E=E.sibling}if(!g){for(E=f.child;E;){if(E===a){g=!0,a=f,o=h;break}if(E===o){g=!0,o=f,a=h;break}E=E.sibling}if(!g)throw Error(r(189))}}if(a.alternate!==o)throw Error(r(190))}if(a.tag!==3)throw Error(r(188));return a.stateNode.current===a?e:n}function A(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=A(e),n!==null)return n;e=e.sibling}return null}var S=Object.assign,N=Symbol.for("react.element"),F=Symbol.for("react.transitional.element"),Z=Symbol.for("react.portal"),st=Symbol.for("react.fragment"),W=Symbol.for("react.strict_mode"),mt=Symbol.for("react.profiler"),_t=Symbol.for("react.consumer"),pt=Symbol.for("react.context"),Pt=Symbol.for("react.forward_ref"),Xt=Symbol.for("react.suspense"),zt=Symbol.for("react.suspense_list"),C=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),M=Symbol.for("react.memo_cache_sentinel"),D=Symbol.iterator;function U(e){return e===null||typeof e!="object"?null:(e=D&&e[D]||e["@@iterator"],typeof e=="function"?e:null)}var w=Symbol.for("react.client.reference");function se(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===w?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case st:return"Fragment";case mt:return"Profiler";case W:return"StrictMode";case Xt:return"Suspense";case zt:return"SuspenseList";case I:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case Z:return"Portal";case pt:return e.displayName||"Context";case _t:return(e._context.displayName||"Context")+".Consumer";case Pt:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case C:return n=e.displayName||null,n!==null?n:se(e.type)||"Memo";case b:n=e._payload,e=e._init;try{return se(e(n))}catch{}}return null}var ge=Array.isArray,q=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,nt=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ut={pending:!1,data:null,method:null,action:null},Dt=[],Gt=-1;function V(e){return{current:e}}function Y(e){0>Gt||(e.current=Dt[Gt],Dt[Gt]=null,Gt--)}function et(e,n){Gt++,Dt[Gt]=e.current,e.current=n}var rt=V(null),vt=V(null),bt=V(null),Ot=V(null);function _e(e,n){switch(et(bt,n),et(vt,e),et(rt,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?v_(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=v_(n),e=E_(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}Y(rt),et(rt,e)}function J(){Y(rt),Y(vt),Y(bt)}function ct(e){e.memoizedState!==null&&et(Ot,e);var n=rt.current,a=E_(n,e.type);n!==a&&(et(vt,e),et(rt,a))}function qt(e){vt.current===e&&(Y(rt),Y(vt)),Ot.current===e&&(Y(Ot),pl._currentValue=ut)}var At,ke;function ae(e){if(At===void 0)try{throw Error()}catch(a){var n=a.stack.trim().match(/\n( *(at )?)/);At=n&&n[1]||"",ke=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+At+e+ke}var be=!1;function Qt(e,n){if(!e||be)return"";be=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(n){var X=function(){throw Error()};if(Object.defineProperty(X.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(X,[])}catch(B){var z=B}Reflect.construct(e,[],X)}else{try{X.call()}catch(B){z=B}e.call(X.prototype)}}else{try{throw Error()}catch(B){z=B}(X=e())&&typeof X.catch=="function"&&X.catch(function(){})}}catch(B){if(B&&z&&typeof B.stack=="string")return[B.stack,z.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=o.DetermineComponentFrameRoot(),g=f[0],E=f[1];if(g&&E){var R=g.split(`
`),k=E.split(`
`);for(h=o=0;o<R.length&&!R[o].includes("DetermineComponentFrameRoot");)o++;for(;h<k.length&&!k[h].includes("DetermineComponentFrameRoot");)h++;if(o===R.length||h===k.length)for(o=R.length-1,h=k.length-1;1<=o&&0<=h&&R[o]!==k[h];)h--;for(;1<=o&&0<=h;o--,h--)if(R[o]!==k[h]){if(o!==1||h!==1)do if(o--,h--,0>h||R[o]!==k[h]){var H=`
`+R[o].replace(" at new "," at ");return e.displayName&&H.includes("<anonymous>")&&(H=H.replace("<anonymous>",e.displayName)),H}while(1<=o&&0<=h);break}}}finally{be=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?ae(a):""}function ki(e,n){switch(e.tag){case 26:case 27:case 5:return ae(e.type);case 16:return ae("Lazy");case 13:return e.child!==n&&n!==null?ae("Suspense Fallback"):ae("Suspense");case 19:return ae("SuspenseList");case 0:case 15:return Qt(e.type,!1);case 11:return Qt(e.type.render,!1);case 1:return Qt(e.type,!0);case 31:return ae("Activity");default:return""}}function _o(e){try{var n="",a=null;do n+=ki(e,a),a=e,e=e.return;while(e);return n}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}var we=Object.prototype.hasOwnProperty,ze=s.unstable_scheduleCallback,ms=s.unstable_cancelCallback,zh=s.unstable_shouldYield,au=s.unstable_requestPaint,ln=s.unstable_now,mr=s.unstable_getCurrentPriorityLevel,vo=s.unstable_ImmediatePriority,Eo=s.unstable_UserBlockingPriority,gs=s.unstable_NormalPriority,jh=s.unstable_LowPriority,ou=s.unstable_IdlePriority,lu=s.log,uu=s.unstable_setDisableYieldValue,Qn=null,Ye=null;function Mn(e){if(typeof lu=="function"&&uu(e),Ye&&typeof Ye.setStrictMode=="function")try{Ye.setStrictMode(Qn,e)}catch{}}var ve=Math.clz32?Math.clz32:hu,cu=Math.log,ia=Math.LN2;function hu(e){return e>>>=0,e===0?32:31-(cu(e)/ia|0)|0}var li=256,gr=262144,Re=4194304;function ui(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function ci(e,n,a){var o=e.pendingLanes;if(o===0)return 0;var h=0,f=e.suspendedLanes,g=e.pingedLanes;e=e.warmLanes;var E=o&134217727;return E!==0?(o=E&~f,o!==0?h=ui(o):(g&=E,g!==0?h=ui(g):a||(a=E&~e,a!==0&&(h=ui(a))))):(E=o&~f,E!==0?h=ui(E):g!==0?h=ui(g):a||(a=o&~e,a!==0&&(h=ui(a)))),h===0?0:n!==0&&n!==h&&(n&f)===0&&(f=h&-h,a=n&-n,f>=a||f===32&&(a&4194048)!==0)?n:h}function Yn(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function Bh(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function fu(){var e=Re;return Re<<=1,(Re&62914560)===0&&(Re=4194304),e}function hi(e){for(var n=[],a=0;31>a;a++)n.push(e);return n}function pr(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function qh(e,n,a,o,h,f){var g=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var E=e.entanglements,R=e.expirationTimes,k=e.hiddenUpdates;for(a=g&~a;0<a;){var H=31-ve(a),X=1<<H;E[H]=0,R[H]=-1;var z=k[H];if(z!==null)for(k[H]=null,H=0;H<z.length;H++){var B=z[H];B!==null&&(B.lane&=-536870913)}a&=~X}o!==0&&yr(e,o,0),f!==0&&h===0&&e.tag!==0&&(e.suspendedLanes|=f&~(g&~n))}function yr(e,n,a){e.pendingLanes|=n,e.suspendedLanes&=~n;var o=31-ve(n);e.entangledLanes|=n,e.entanglements[o]=e.entanglements[o]|1073741824|a&261930}function To(e,n){var a=e.entangledLanes|=n;for(e=e.entanglements;a;){var o=31-ve(a),h=1<<o;h&n|e[o]&n&&(e[o]|=n),a&=~h}}function Ao(e,n){var a=n&-n;return a=(a&42)!==0?1:_r(a),(a&(e.suspendedLanes|n))!==0?0:a}function _r(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function zi(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function du(){var e=nt.p;return e!==0?e:(e=window.event,e===void 0?32:H_(e.type))}function Kn(e,n){var a=nt.p;try{return nt.p=e,n()}finally{nt.p=a}}var Xn=Math.random().toString(36).slice(2),Ie="__reactFiber$"+Xn,qe="__reactProps$"+Xn,fi="__reactContainer$"+Xn,sa="__reactEvents$"+Xn,Hh="__reactListeners$"+Xn,mu="__reactHandles$"+Xn,gu="__reactResources$"+Xn,di="__reactMarker$"+Xn;function ra(e){delete e[Ie],delete e[qe],delete e[sa],delete e[Hh],delete e[mu]}function mi(e){var n=e[Ie];if(n)return n;for(var a=e.parentNode;a;){if(n=a[fi]||a[Ie]){if(a=n.alternate,n.child!==null||a!==null&&a.child!==null)for(e=I_(e);e!==null;){if(a=e[Ie])return a;e=I_(e)}return n}e=a,a=e.parentNode}return null}function xn(e){if(e=e[Ie]||e[fi]){var n=e.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return e}return null}function Tn(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(r(33))}function gi(e){var n=e[gu];return n||(n=e[gu]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function Ce(e){e[di]=!0}var So=new Set,bo={};function pi(e,n){yi(e,n),yi(e+"Capture",n)}function yi(e,n){for(bo[e]=n,e=0;e<n.length;e++)So.add(n[e])}var wo=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ro={},Io={};function pu(e){return we.call(Io,e)?!0:we.call(Ro,e)?!1:wo.test(e)?Io[e]=!0:(Ro[e]=!0,!1)}function aa(e,n,a){if(pu(n))if(a===null)e.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var o=n.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+a)}}function An(e,n,a){if(a===null)e.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+a)}}function Ne(e,n,a,o){if(o===null)e.removeAttribute(a);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(n,a,""+o)}}function He(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function ps(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Co(e,n,a){var o=Object.getOwnPropertyDescriptor(e.constructor.prototype,n);if(!e.hasOwnProperty(n)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var h=o.get,f=o.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return h.call(this)},set:function(g){a=""+g,f.call(this,g)}}),Object.defineProperty(e,n,{enumerable:o.enumerable}),{getValue:function(){return a},setValue:function(g){a=""+g},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function $t(e){if(!e._valueTracker){var n=ps(e)?"checked":"value";e._valueTracker=Co(e,n,""+e[n])}}function vr(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var a=n.getValue(),o="";return e&&(o=ps(e)?e.checked?"true":"false":e.value),e=o,e!==a?(n.setValue(e),!0):!1}function _i(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Er=/[\n"\\]/g;function fn(e){return e.replace(Er,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function oa(e,n,a,o,h,f,g,E){e.name="",g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"?e.type=g:e.removeAttribute("type"),n!=null?g==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+He(n)):e.value!==""+He(n)&&(e.value=""+He(n)):g!=="submit"&&g!=="reset"||e.removeAttribute("value"),n!=null?No(e,g,He(n)):a!=null?No(e,g,He(a)):o!=null&&e.removeAttribute("value"),h==null&&f!=null&&(e.defaultChecked=!!f),h!=null&&(e.checked=h&&typeof h!="function"&&typeof h!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?e.name=""+He(E):e.removeAttribute("name")}function yu(e,n,a,o,h,f,g,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(e.type=f),n!=null||a!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){$t(e);return}a=a!=null?""+He(a):"",n=n!=null?""+He(n):a,E||n===e.value||(e.value=n),e.defaultValue=n}o=o??h,o=typeof o!="function"&&typeof o!="symbol"&&!!o,e.checked=E?e.checked:!!o,e.defaultChecked=!!o,g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(e.name=g),$t(e)}function No(e,n,a){n==="number"&&_i(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function ys(e,n,a,o){if(e=e.options,n){n={};for(var h=0;h<a.length;h++)n["$"+a[h]]=!0;for(a=0;a<e.length;a++)h=n.hasOwnProperty("$"+e[a].value),e[a].selected!==h&&(e[a].selected=h),h&&o&&(e[a].defaultSelected=!0)}else{for(a=""+He(a),n=null,h=0;h<e.length;h++){if(e[h].value===a){e[h].selected=!0,o&&(e[h].defaultSelected=!0);return}n!==null||e[h].disabled||(n=e[h])}n!==null&&(n.selected=!0)}}function _u(e,n,a){if(n!=null&&(n=""+He(n),n!==e.value&&(e.value=n),a==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=a!=null?""+He(a):""}function _s(e,n,a,o){if(n==null){if(o!=null){if(a!=null)throw Error(r(92));if(ge(o)){if(1<o.length)throw Error(r(93));o=o[0]}a=o}a==null&&(a=""),n=a}a=He(n),e.defaultValue=a,o=e.textContent,o===a&&o!==""&&o!==null&&(e.value=o),$t(e)}function dn(e,n){if(n){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=n;return}}e.textContent=n}var vu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Do(e,n,a){var o=n.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?o?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":o?e.setProperty(n,a):typeof a!="number"||a===0||vu.has(n)?n==="float"?e.cssFloat=a:e[n]=(""+a).trim():e[n]=a+"px"}function Oo(e,n,a){if(n!=null&&typeof n!="object")throw Error(r(62));if(e=e.style,a!=null){for(var o in a)!a.hasOwnProperty(o)||n!=null&&n.hasOwnProperty(o)||(o.indexOf("--")===0?e.setProperty(o,""):o==="float"?e.cssFloat="":e[o]="");for(var h in n)o=n[h],n.hasOwnProperty(h)&&a[h]!==o&&Do(e,h,o)}else for(var f in n)n.hasOwnProperty(f)&&Do(e,f,n[f])}function la(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Eu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),vs=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ua(e){return vs.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function $n(){}var Vo=null;function Un(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Es=null,vi=null;function Tr(e){var n=xn(e);if(n&&(e=n.stateNode)){var a=e[qe]||null;t:switch(e=n.stateNode,n.type){case"input":if(oa(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),n=a.name,a.type==="radio"&&n!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+fn(""+n)+'"][type="radio"]'),n=0;n<a.length;n++){var o=a[n];if(o!==e&&o.form===e.form){var h=o[qe]||null;if(!h)throw Error(r(90));oa(o,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<a.length;n++)o=a[n],o.form===e.form&&vr(o)}break t;case"textarea":_u(e,a.value,a.defaultValue);break t;case"select":n=a.value,n!=null&&ys(e,!!a.multiple,n,!1)}}}var ca=!1;function Ts(e,n,a){if(ca)return e(n,a);ca=!0;try{var o=e(n);return o}finally{if(ca=!1,(Es!==null||vi!==null)&&(dc(),Es&&(n=Es,e=vi,vi=Es=null,Tr(n),e)))for(n=0;n<e.length;n++)Tr(e[n])}}function Zn(e,n){var a=e.stateNode;if(a===null)return null;var o=a[qe]||null;if(o===null)return null;a=o[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(e=e.type,o=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!o;break t;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(r(231,n,typeof a));return a}var Ln=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ar=!1;if(Ln)try{var Wt={};Object.defineProperty(Wt,"passive",{get:function(){Ar=!0}}),window.addEventListener("test",Wt,Wt),window.removeEventListener("test",Wt,Wt)}catch{Ar=!1}var Ei=null,Mo=null,Sr=null;function xo(){if(Sr)return Sr;var e,n=Mo,a=n.length,o,h="value"in Ei?Ei.value:Ei.textContent,f=h.length;for(e=0;e<a&&n[e]===h[e];e++);var g=a-e;for(o=1;o<=g&&n[a-o]===h[f-o];o++);return Sr=h.slice(e,1<o?1-o:void 0)}function br(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function ji(){return!0}function Jn(){return!1}function Ke(e){function n(a,o,h,f,g){this._reactName=a,this._targetInst=h,this.type=o,this.nativeEvent=f,this.target=g,this.currentTarget=null;for(var E in e)e.hasOwnProperty(E)&&(a=e[E],this[E]=a?a(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?ji:Jn,this.isPropagationStopped=Jn,this}return S(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=ji)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=ji)},persist:function(){},isPersistent:ji}),n}var Bi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ti=Ke(Bi),As=S({},Bi,{view:0,detail:0}),Uo=Ke(As),Ss,ha,Ai,fa=S({},As,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:bs,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ai&&(Ai&&e.type==="mousemove"?(Ss=e.screenX-Ai.screenX,ha=e.screenY-Ai.screenY):ha=Ss=0,Ai=e),Ss)},movementY:function(e){return"movementY"in e?e.movementY:ha}}),Lo=Ke(fa),wr=S({},fa,{dataTransfer:0}),Tu=Ke(wr),Au=S({},As,{relatedTarget:0}),Rr=Ke(Au),Po=S({},Bi,{animationName:0,elapsedTime:0,pseudoElement:0}),Su=Ke(Po),da=S({},Bi,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),bu=Ke(da),wu=S({},Bi,{data:0}),Si=Ke(wu),Ru={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Iu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Cu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Nu(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=Cu[e])?!!n[e]:!1}function bs(){return Nu}var un=S({},As,{key:function(e){if(e.key){var n=Ru[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=br(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Iu[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:bs,charCode:function(e){return e.type==="keypress"?br(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?br(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Du=Ke(un),Ou=S({},fa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),qi=Ke(Ou),u=S({},As,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:bs}),m=Ke(u),v=S({},Bi,{propertyName:0,elapsedTime:0,pseudoElement:0}),T=Ke(v),L=S({},fa,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),j=Ke(L),tt=S({},Bi,{newState:0,oldState:0}),wt=Ke(tt),Ee=[9,13,27,32],Yt=Ln&&"CompositionEvent"in window,ce=null;Ln&&"documentMode"in document&&(ce=document.documentMode);var Pn=Ln&&"TextEvent"in window&&!ce,bi=Ln&&(!Yt||ce&&8<ce&&11>=ce),Wn=" ",ti=!1;function Ir(e,n){switch(e){case"keyup":return Ee.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ma(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ga=!1;function lA(e,n){switch(e){case"compositionend":return ma(n);case"keypress":return n.which!==32?null:(ti=!0,Wn);case"textInput":return e=n.data,e===Wn&&ti?null:e;default:return null}}function uA(e,n){if(ga)return e==="compositionend"||!Yt&&Ir(e,n)?(e=xo(),Sr=Mo=Ei=null,ga=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return bi&&n.locale!=="ko"?null:n.data;default:return null}}var cA={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Dg(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!cA[e.type]:n==="textarea"}function Og(e,n,a,o){Es?vi?vi.push(o):vi=[o]:Es=o,n=Ec(n,"onChange"),0<n.length&&(a=new Ti("onChange","change",null,a,o),e.push({event:a,listeners:n}))}var ko=null,zo=null;function hA(e){d_(e,0)}function Vu(e){var n=Tn(e);if(vr(n))return e}function Vg(e,n){if(e==="change")return n}var Mg=!1;if(Ln){var Fh;if(Ln){var Gh="oninput"in document;if(!Gh){var xg=document.createElement("div");xg.setAttribute("oninput","return;"),Gh=typeof xg.oninput=="function"}Fh=Gh}else Fh=!1;Mg=Fh&&(!document.documentMode||9<document.documentMode)}function Ug(){ko&&(ko.detachEvent("onpropertychange",Lg),zo=ko=null)}function Lg(e){if(e.propertyName==="value"&&Vu(zo)){var n=[];Og(n,zo,e,Un(e)),Ts(hA,n)}}function fA(e,n,a){e==="focusin"?(Ug(),ko=n,zo=a,ko.attachEvent("onpropertychange",Lg)):e==="focusout"&&Ug()}function dA(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Vu(zo)}function mA(e,n){if(e==="click")return Vu(n)}function gA(e,n){if(e==="input"||e==="change")return Vu(n)}function pA(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var Sn=typeof Object.is=="function"?Object.is:pA;function jo(e,n){if(Sn(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var a=Object.keys(e),o=Object.keys(n);if(a.length!==o.length)return!1;for(o=0;o<a.length;o++){var h=a[o];if(!we.call(n,h)||!Sn(e[h],n[h]))return!1}return!0}function Pg(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function kg(e,n){var a=Pg(e);e=0;for(var o;a;){if(a.nodeType===3){if(o=e+a.textContent.length,e<=n&&o>=n)return{node:a,offset:n-e};e=o}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=Pg(a)}}function zg(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?zg(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function jg(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=_i(e.document);n instanceof e.HTMLIFrameElement;){try{var a=typeof n.contentWindow.location.href=="string"}catch{a=!1}if(a)e=n.contentWindow;else break;n=_i(e.document)}return n}function Qh(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var yA=Ln&&"documentMode"in document&&11>=document.documentMode,pa=null,Yh=null,Bo=null,Kh=!1;function Bg(e,n,a){var o=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Kh||pa==null||pa!==_i(o)||(o=pa,"selectionStart"in o&&Qh(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),Bo&&jo(Bo,o)||(Bo=o,o=Ec(Yh,"onSelect"),0<o.length&&(n=new Ti("onSelect","select",null,n,a),e.push({event:n,listeners:o}),n.target=pa)))}function Cr(e,n){var a={};return a[e.toLowerCase()]=n.toLowerCase(),a["Webkit"+e]="webkit"+n,a["Moz"+e]="moz"+n,a}var ya={animationend:Cr("Animation","AnimationEnd"),animationiteration:Cr("Animation","AnimationIteration"),animationstart:Cr("Animation","AnimationStart"),transitionrun:Cr("Transition","TransitionRun"),transitionstart:Cr("Transition","TransitionStart"),transitioncancel:Cr("Transition","TransitionCancel"),transitionend:Cr("Transition","TransitionEnd")},Xh={},qg={};Ln&&(qg=document.createElement("div").style,"AnimationEvent"in window||(delete ya.animationend.animation,delete ya.animationiteration.animation,delete ya.animationstart.animation),"TransitionEvent"in window||delete ya.transitionend.transition);function Nr(e){if(Xh[e])return Xh[e];if(!ya[e])return e;var n=ya[e],a;for(a in n)if(n.hasOwnProperty(a)&&a in qg)return Xh[e]=n[a];return e}var Hg=Nr("animationend"),Fg=Nr("animationiteration"),Gg=Nr("animationstart"),_A=Nr("transitionrun"),vA=Nr("transitionstart"),EA=Nr("transitioncancel"),Qg=Nr("transitionend"),Yg=new Map,$h="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");$h.push("scrollEnd");function ei(e,n){Yg.set(e,n),pi(n,[e])}var Mu=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},kn=[],_a=0,Zh=0;function xu(){for(var e=_a,n=Zh=_a=0;n<e;){var a=kn[n];kn[n++]=null;var o=kn[n];kn[n++]=null;var h=kn[n];kn[n++]=null;var f=kn[n];if(kn[n++]=null,o!==null&&h!==null){var g=o.pending;g===null?h.next=h:(h.next=g.next,g.next=h),o.pending=h}f!==0&&Kg(a,h,f)}}function Uu(e,n,a,o){kn[_a++]=e,kn[_a++]=n,kn[_a++]=a,kn[_a++]=o,Zh|=o,e.lanes|=o,e=e.alternate,e!==null&&(e.lanes|=o)}function Jh(e,n,a,o){return Uu(e,n,a,o),Lu(e)}function Dr(e,n){return Uu(e,null,null,n),Lu(e)}function Kg(e,n,a){e.lanes|=a;var o=e.alternate;o!==null&&(o.lanes|=a);for(var h=!1,f=e.return;f!==null;)f.childLanes|=a,o=f.alternate,o!==null&&(o.childLanes|=a),f.tag===22&&(e=f.stateNode,e===null||e._visibility&1||(h=!0)),e=f,f=f.return;return e.tag===3?(f=e.stateNode,h&&n!==null&&(h=31-ve(a),e=f.hiddenUpdates,o=e[h],o===null?e[h]=[n]:o.push(n),n.lane=a|536870912),f):null}function Lu(e){if(50<ul)throw ul=0,ld=null,Error(r(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var va={};function TA(e,n,a,o){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function bn(e,n,a,o){return new TA(e,n,a,o)}function Wh(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Hi(e,n){var a=e.alternate;return a===null?(a=bn(e.tag,n,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=n,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,n=e.dependencies,a.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function Xg(e,n){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,n=a.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function Pu(e,n,a,o,h,f){var g=0;if(o=e,typeof e=="function")Wh(e)&&(g=1);else if(typeof e=="string")g=RS(e,a,rt.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case I:return e=bn(31,a,n,h),e.elementType=I,e.lanes=f,e;case st:return Or(a.children,h,f,n);case W:g=8,h|=24;break;case mt:return e=bn(12,a,n,h|2),e.elementType=mt,e.lanes=f,e;case Xt:return e=bn(13,a,n,h),e.elementType=Xt,e.lanes=f,e;case zt:return e=bn(19,a,n,h),e.elementType=zt,e.lanes=f,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case pt:g=10;break t;case _t:g=9;break t;case Pt:g=11;break t;case C:g=14;break t;case b:g=16,o=null;break t}g=29,a=Error(r(130,e===null?"null":typeof e,"")),o=null}return n=bn(g,a,n,h),n.elementType=e,n.type=o,n.lanes=f,n}function Or(e,n,a,o){return e=bn(7,e,o,n),e.lanes=a,e}function tf(e,n,a){return e=bn(6,e,null,n),e.lanes=a,e}function $g(e){var n=bn(18,null,null,0);return n.stateNode=e,n}function ef(e,n,a){return n=bn(4,e.children!==null?e.children:[],e.key,n),n.lanes=a,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var Zg=new WeakMap;function zn(e,n){if(typeof e=="object"&&e!==null){var a=Zg.get(e);return a!==void 0?a:(n={value:e,source:n,stack:_o(n)},Zg.set(e,n),n)}return{value:e,source:n,stack:_o(n)}}var Ea=[],Ta=0,ku=null,qo=0,jn=[],Bn=0,ws=null,wi=1,Ri="";function Fi(e,n){Ea[Ta++]=qo,Ea[Ta++]=ku,ku=e,qo=n}function Jg(e,n,a){jn[Bn++]=wi,jn[Bn++]=Ri,jn[Bn++]=ws,ws=e;var o=wi;e=Ri;var h=32-ve(o)-1;o&=~(1<<h),a+=1;var f=32-ve(n)+h;if(30<f){var g=h-h%5;f=(o&(1<<g)-1).toString(32),o>>=g,h-=g,wi=1<<32-ve(n)+h|a<<h|o,Ri=f+e}else wi=1<<f|a<<h|o,Ri=e}function nf(e){e.return!==null&&(Fi(e,1),Jg(e,1,0))}function sf(e){for(;e===ku;)ku=Ea[--Ta],Ea[Ta]=null,qo=Ea[--Ta],Ea[Ta]=null;for(;e===ws;)ws=jn[--Bn],jn[Bn]=null,Ri=jn[--Bn],jn[Bn]=null,wi=jn[--Bn],jn[Bn]=null}function Wg(e,n){jn[Bn++]=wi,jn[Bn++]=Ri,jn[Bn++]=ws,wi=n.id,Ri=n.overflow,ws=e}var Xe=null,oe=null,kt=!1,Rs=null,qn=!1,rf=Error(r(519));function Is(e){var n=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Ho(zn(n,e)),rf}function tp(e){var n=e.stateNode,a=e.type,o=e.memoizedProps;switch(n[Ie]=e,n[qe]=o,a){case"dialog":Nt("cancel",n),Nt("close",n);break;case"iframe":case"object":case"embed":Nt("load",n);break;case"video":case"audio":for(a=0;a<hl.length;a++)Nt(hl[a],n);break;case"source":Nt("error",n);break;case"img":case"image":case"link":Nt("error",n),Nt("load",n);break;case"details":Nt("toggle",n);break;case"input":Nt("invalid",n),yu(n,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0);break;case"select":Nt("invalid",n);break;case"textarea":Nt("invalid",n),_s(n,o.value,o.defaultValue,o.children)}a=o.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||n.textContent===""+a||o.suppressHydrationWarning===!0||y_(n.textContent,a)?(o.popover!=null&&(Nt("beforetoggle",n),Nt("toggle",n)),o.onScroll!=null&&Nt("scroll",n),o.onScrollEnd!=null&&Nt("scrollend",n),o.onClick!=null&&(n.onclick=$n),n=!0):n=!1,n||Is(e,!0)}function ep(e){for(Xe=e.return;Xe;)switch(Xe.tag){case 5:case 31:case 13:qn=!1;return;case 27:case 3:qn=!0;return;default:Xe=Xe.return}}function Aa(e){if(e!==Xe)return!1;if(!kt)return ep(e),kt=!0,!1;var n=e.tag,a;if((a=n!==3&&n!==27)&&((a=n===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||Sd(e.type,e.memoizedProps)),a=!a),a&&oe&&Is(e),ep(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));oe=R_(e)}else if(n===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));oe=R_(e)}else n===27?(n=oe,Bs(e.type)?(e=Cd,Cd=null,oe=e):oe=n):oe=Xe?Fn(e.stateNode.nextSibling):null;return!0}function Vr(){oe=Xe=null,kt=!1}function af(){var e=Rs;return e!==null&&(yn===null?yn=e:yn.push.apply(yn,e),Rs=null),e}function Ho(e){Rs===null?Rs=[e]:Rs.push(e)}var of=V(null),Mr=null,Gi=null;function Cs(e,n,a){et(of,n._currentValue),n._currentValue=a}function Qi(e){e._currentValue=of.current,Y(of)}function lf(e,n,a){for(;e!==null;){var o=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,o!==null&&(o.childLanes|=n)):o!==null&&(o.childLanes&n)!==n&&(o.childLanes|=n),e===a)break;e=e.return}}function uf(e,n,a,o){var h=e.child;for(h!==null&&(h.return=e);h!==null;){var f=h.dependencies;if(f!==null){var g=h.child;f=f.firstContext;t:for(;f!==null;){var E=f;f=h;for(var R=0;R<n.length;R++)if(E.context===n[R]){f.lanes|=a,E=f.alternate,E!==null&&(E.lanes|=a),lf(f.return,a,e),o||(g=null);break t}f=E.next}}else if(h.tag===18){if(g=h.return,g===null)throw Error(r(341));g.lanes|=a,f=g.alternate,f!==null&&(f.lanes|=a),lf(g,a,e),g=null}else g=h.child;if(g!==null)g.return=h;else for(g=h;g!==null;){if(g===e){g=null;break}if(h=g.sibling,h!==null){h.return=g.return,g=h;break}g=g.return}h=g}}function Sa(e,n,a,o){e=null;for(var h=n,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var g=h.alternate;if(g===null)throw Error(r(387));if(g=g.memoizedProps,g!==null){var E=h.type;Sn(h.pendingProps.value,g.value)||(e!==null?e.push(E):e=[E])}}else if(h===Ot.current){if(g=h.alternate,g===null)throw Error(r(387));g.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(e!==null?e.push(pl):e=[pl])}h=h.return}e!==null&&uf(n,e,a,o),n.flags|=262144}function zu(e){for(e=e.firstContext;e!==null;){if(!Sn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function xr(e){Mr=e,Gi=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function $e(e){return np(Mr,e)}function ju(e,n){return Mr===null&&xr(e),np(e,n)}function np(e,n){var a=n._currentValue;if(n={context:n,memoizedValue:a,next:null},Gi===null){if(e===null)throw Error(r(308));Gi=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else Gi=Gi.next=n;return a}var AA=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(a,o){e.push(o)}};this.abort=function(){n.aborted=!0,e.forEach(function(a){return a()})}},SA=s.unstable_scheduleCallback,bA=s.unstable_NormalPriority,De={$$typeof:pt,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function cf(){return{controller:new AA,data:new Map,refCount:0}}function Fo(e){e.refCount--,e.refCount===0&&SA(bA,function(){e.controller.abort()})}var Go=null,hf=0,ba=0,wa=null;function wA(e,n){if(Go===null){var a=Go=[];hf=0,ba=md(),wa={status:"pending",value:void 0,then:function(o){a.push(o)}}}return hf++,n.then(ip,ip),n}function ip(){if(--hf===0&&Go!==null){wa!==null&&(wa.status="fulfilled");var e=Go;Go=null,ba=0,wa=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function RA(e,n){var a=[],o={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return e.then(function(){o.status="fulfilled",o.value=n;for(var h=0;h<a.length;h++)(0,a[h])(n)},function(h){for(o.status="rejected",o.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),o}var sp=q.S;q.S=function(e,n){By=ln(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&wA(e,n),sp!==null&&sp(e,n)};var Ur=V(null);function ff(){var e=Ur.current;return e!==null?e:re.pooledCache}function Bu(e,n){n===null?et(Ur,Ur.current):et(Ur,n.pool)}function rp(){var e=ff();return e===null?null:{parent:De._currentValue,pool:e}}var Ra=Error(r(460)),df=Error(r(474)),qu=Error(r(542)),Hu={then:function(){}};function ap(e){return e=e.status,e==="fulfilled"||e==="rejected"}function op(e,n,a){switch(a=e[a],a===void 0?e.push(n):a!==n&&(n.then($n,$n),n=a),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,up(e),e;default:if(typeof n.status=="string")n.then($n,$n);else{if(e=re,e!==null&&100<e.shellSuspendCounter)throw Error(r(482));e=n,e.status="pending",e.then(function(o){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=o}},function(o){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=o}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,up(e),e}throw Pr=n,Ra}}function Lr(e){try{var n=e._init;return n(e._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(Pr=a,Ra):a}}var Pr=null;function lp(){if(Pr===null)throw Error(r(459));var e=Pr;return Pr=null,e}function up(e){if(e===Ra||e===qu)throw Error(r(483))}var Ia=null,Qo=0;function Fu(e){var n=Qo;return Qo+=1,Ia===null&&(Ia=[]),op(Ia,e,n)}function Yo(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function Gu(e,n){throw n.$$typeof===N?Error(r(525)):(e=Object.prototype.toString.call(n),Error(r(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function cp(e){function n(x,O){if(e){var P=x.deletions;P===null?(x.deletions=[O],x.flags|=16):P.push(O)}}function a(x,O){if(!e)return null;for(;O!==null;)n(x,O),O=O.sibling;return null}function o(x){for(var O=new Map;x!==null;)x.key!==null?O.set(x.key,x):O.set(x.index,x),x=x.sibling;return O}function h(x,O){return x=Hi(x,O),x.index=0,x.sibling=null,x}function f(x,O,P){return x.index=P,e?(P=x.alternate,P!==null?(P=P.index,P<O?(x.flags|=67108866,O):P):(x.flags|=67108866,O)):(x.flags|=1048576,O)}function g(x){return e&&x.alternate===null&&(x.flags|=67108866),x}function E(x,O,P,Q){return O===null||O.tag!==6?(O=tf(P,x.mode,Q),O.return=x,O):(O=h(O,P),O.return=x,O)}function R(x,O,P,Q){var ft=P.type;return ft===st?H(x,O,P.props.children,Q,P.key):O!==null&&(O.elementType===ft||typeof ft=="object"&&ft!==null&&ft.$$typeof===b&&Lr(ft)===O.type)?(O=h(O,P.props),Yo(O,P),O.return=x,O):(O=Pu(P.type,P.key,P.props,null,x.mode,Q),Yo(O,P),O.return=x,O)}function k(x,O,P,Q){return O===null||O.tag!==4||O.stateNode.containerInfo!==P.containerInfo||O.stateNode.implementation!==P.implementation?(O=ef(P,x.mode,Q),O.return=x,O):(O=h(O,P.children||[]),O.return=x,O)}function H(x,O,P,Q,ft){return O===null||O.tag!==7?(O=Or(P,x.mode,Q,ft),O.return=x,O):(O=h(O,P),O.return=x,O)}function X(x,O,P){if(typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint")return O=tf(""+O,x.mode,P),O.return=x,O;if(typeof O=="object"&&O!==null){switch(O.$$typeof){case F:return P=Pu(O.type,O.key,O.props,null,x.mode,P),Yo(P,O),P.return=x,P;case Z:return O=ef(O,x.mode,P),O.return=x,O;case b:return O=Lr(O),X(x,O,P)}if(ge(O)||U(O))return O=Or(O,x.mode,P,null),O.return=x,O;if(typeof O.then=="function")return X(x,Fu(O),P);if(O.$$typeof===pt)return X(x,ju(x,O),P);Gu(x,O)}return null}function z(x,O,P,Q){var ft=O!==null?O.key:null;if(typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint")return ft!==null?null:E(x,O,""+P,Q);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case F:return P.key===ft?R(x,O,P,Q):null;case Z:return P.key===ft?k(x,O,P,Q):null;case b:return P=Lr(P),z(x,O,P,Q)}if(ge(P)||U(P))return ft!==null?null:H(x,O,P,Q,null);if(typeof P.then=="function")return z(x,O,Fu(P),Q);if(P.$$typeof===pt)return z(x,O,ju(x,P),Q);Gu(x,P)}return null}function B(x,O,P,Q,ft){if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return x=x.get(P)||null,E(O,x,""+Q,ft);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case F:return x=x.get(Q.key===null?P:Q.key)||null,R(O,x,Q,ft);case Z:return x=x.get(Q.key===null?P:Q.key)||null,k(O,x,Q,ft);case b:return Q=Lr(Q),B(x,O,P,Q,ft)}if(ge(Q)||U(Q))return x=x.get(P)||null,H(O,x,Q,ft,null);if(typeof Q.then=="function")return B(x,O,P,Fu(Q),ft);if(Q.$$typeof===pt)return B(x,O,P,ju(O,Q),ft);Gu(O,Q)}return null}function ot(x,O,P,Q){for(var ft=null,Ht=null,lt=O,It=O=0,Mt=null;lt!==null&&It<P.length;It++){lt.index>It?(Mt=lt,lt=null):Mt=lt.sibling;var Ft=z(x,lt,P[It],Q);if(Ft===null){lt===null&&(lt=Mt);break}e&&lt&&Ft.alternate===null&&n(x,lt),O=f(Ft,O,It),Ht===null?ft=Ft:Ht.sibling=Ft,Ht=Ft,lt=Mt}if(It===P.length)return a(x,lt),kt&&Fi(x,It),ft;if(lt===null){for(;It<P.length;It++)lt=X(x,P[It],Q),lt!==null&&(O=f(lt,O,It),Ht===null?ft=lt:Ht.sibling=lt,Ht=lt);return kt&&Fi(x,It),ft}for(lt=o(lt);It<P.length;It++)Mt=B(lt,x,It,P[It],Q),Mt!==null&&(e&&Mt.alternate!==null&&lt.delete(Mt.key===null?It:Mt.key),O=f(Mt,O,It),Ht===null?ft=Mt:Ht.sibling=Mt,Ht=Mt);return e&&lt.forEach(function(Qs){return n(x,Qs)}),kt&&Fi(x,It),ft}function gt(x,O,P,Q){if(P==null)throw Error(r(151));for(var ft=null,Ht=null,lt=O,It=O=0,Mt=null,Ft=P.next();lt!==null&&!Ft.done;It++,Ft=P.next()){lt.index>It?(Mt=lt,lt=null):Mt=lt.sibling;var Qs=z(x,lt,Ft.value,Q);if(Qs===null){lt===null&&(lt=Mt);break}e&&lt&&Qs.alternate===null&&n(x,lt),O=f(Qs,O,It),Ht===null?ft=Qs:Ht.sibling=Qs,Ht=Qs,lt=Mt}if(Ft.done)return a(x,lt),kt&&Fi(x,It),ft;if(lt===null){for(;!Ft.done;It++,Ft=P.next())Ft=X(x,Ft.value,Q),Ft!==null&&(O=f(Ft,O,It),Ht===null?ft=Ft:Ht.sibling=Ft,Ht=Ft);return kt&&Fi(x,It),ft}for(lt=o(lt);!Ft.done;It++,Ft=P.next())Ft=B(lt,x,It,Ft.value,Q),Ft!==null&&(e&&Ft.alternate!==null&&lt.delete(Ft.key===null?It:Ft.key),O=f(Ft,O,It),Ht===null?ft=Ft:Ht.sibling=Ft,Ht=Ft);return e&&lt.forEach(function(PS){return n(x,PS)}),kt&&Fi(x,It),ft}function ne(x,O,P,Q){if(typeof P=="object"&&P!==null&&P.type===st&&P.key===null&&(P=P.props.children),typeof P=="object"&&P!==null){switch(P.$$typeof){case F:t:{for(var ft=P.key;O!==null;){if(O.key===ft){if(ft=P.type,ft===st){if(O.tag===7){a(x,O.sibling),Q=h(O,P.props.children),Q.return=x,x=Q;break t}}else if(O.elementType===ft||typeof ft=="object"&&ft!==null&&ft.$$typeof===b&&Lr(ft)===O.type){a(x,O.sibling),Q=h(O,P.props),Yo(Q,P),Q.return=x,x=Q;break t}a(x,O);break}else n(x,O);O=O.sibling}P.type===st?(Q=Or(P.props.children,x.mode,Q,P.key),Q.return=x,x=Q):(Q=Pu(P.type,P.key,P.props,null,x.mode,Q),Yo(Q,P),Q.return=x,x=Q)}return g(x);case Z:t:{for(ft=P.key;O!==null;){if(O.key===ft)if(O.tag===4&&O.stateNode.containerInfo===P.containerInfo&&O.stateNode.implementation===P.implementation){a(x,O.sibling),Q=h(O,P.children||[]),Q.return=x,x=Q;break t}else{a(x,O);break}else n(x,O);O=O.sibling}Q=ef(P,x.mode,Q),Q.return=x,x=Q}return g(x);case b:return P=Lr(P),ne(x,O,P,Q)}if(ge(P))return ot(x,O,P,Q);if(U(P)){if(ft=U(P),typeof ft!="function")throw Error(r(150));return P=ft.call(P),gt(x,O,P,Q)}if(typeof P.then=="function")return ne(x,O,Fu(P),Q);if(P.$$typeof===pt)return ne(x,O,ju(x,P),Q);Gu(x,P)}return typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint"?(P=""+P,O!==null&&O.tag===6?(a(x,O.sibling),Q=h(O,P),Q.return=x,x=Q):(a(x,O),Q=tf(P,x.mode,Q),Q.return=x,x=Q),g(x)):a(x,O)}return function(x,O,P,Q){try{Qo=0;var ft=ne(x,O,P,Q);return Ia=null,ft}catch(lt){if(lt===Ra||lt===qu)throw lt;var Ht=bn(29,lt,null,x.mode);return Ht.lanes=Q,Ht.return=x,Ht}finally{}}}var kr=cp(!0),hp=cp(!1),Ns=!1;function mf(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function gf(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Ds(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Os(e,n,a){var o=e.updateQueue;if(o===null)return null;if(o=o.shared,(Kt&2)!==0){var h=o.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),o.pending=n,n=Lu(e),Kg(e,null,a),n}return Uu(e,o,n,a),Lu(e)}function Ko(e,n,a){if(n=n.updateQueue,n!==null&&(n=n.shared,(a&4194048)!==0)){var o=n.lanes;o&=e.pendingLanes,a|=o,n.lanes=a,To(e,a)}}function pf(e,n){var a=e.updateQueue,o=e.alternate;if(o!==null&&(o=o.updateQueue,a===o)){var h=null,f=null;if(a=a.firstBaseUpdate,a!==null){do{var g={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};f===null?h=f=g:f=f.next=g,a=a.next}while(a!==null);f===null?h=f=n:f=f.next=n}else h=f=n;a={baseState:o.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:o.shared,callbacks:o.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=n:e.next=n,a.lastBaseUpdate=n}var yf=!1;function Xo(){if(yf){var e=wa;if(e!==null)throw e}}function $o(e,n,a,o){yf=!1;var h=e.updateQueue;Ns=!1;var f=h.firstBaseUpdate,g=h.lastBaseUpdate,E=h.shared.pending;if(E!==null){h.shared.pending=null;var R=E,k=R.next;R.next=null,g===null?f=k:g.next=k,g=R;var H=e.alternate;H!==null&&(H=H.updateQueue,E=H.lastBaseUpdate,E!==g&&(E===null?H.firstBaseUpdate=k:E.next=k,H.lastBaseUpdate=R))}if(f!==null){var X=h.baseState;g=0,H=k=R=null,E=f;do{var z=E.lane&-536870913,B=z!==E.lane;if(B?(Vt&z)===z:(o&z)===z){z!==0&&z===ba&&(yf=!0),H!==null&&(H=H.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var ot=e,gt=E;z=n;var ne=a;switch(gt.tag){case 1:if(ot=gt.payload,typeof ot=="function"){X=ot.call(ne,X,z);break t}X=ot;break t;case 3:ot.flags=ot.flags&-65537|128;case 0:if(ot=gt.payload,z=typeof ot=="function"?ot.call(ne,X,z):ot,z==null)break t;X=S({},X,z);break t;case 2:Ns=!0}}z=E.callback,z!==null&&(e.flags|=64,B&&(e.flags|=8192),B=h.callbacks,B===null?h.callbacks=[z]:B.push(z))}else B={lane:z,tag:E.tag,payload:E.payload,callback:E.callback,next:null},H===null?(k=H=B,R=X):H=H.next=B,g|=z;if(E=E.next,E===null){if(E=h.shared.pending,E===null)break;B=E,E=B.next,B.next=null,h.lastBaseUpdate=B,h.shared.pending=null}}while(!0);H===null&&(R=X),h.baseState=R,h.firstBaseUpdate=k,h.lastBaseUpdate=H,f===null&&(h.shared.lanes=0),Ls|=g,e.lanes=g,e.memoizedState=X}}function fp(e,n){if(typeof e!="function")throw Error(r(191,e));e.call(n)}function dp(e,n){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)fp(a[e],n)}var Ca=V(null),Qu=V(0);function mp(e,n){e=es,et(Qu,e),et(Ca,n),es=e|n.baseLanes}function _f(){et(Qu,es),et(Ca,Ca.current)}function vf(){es=Qu.current,Y(Ca),Y(Qu)}var wn=V(null),Hn=null;function Vs(e){var n=e.alternate;et(Te,Te.current&1),et(wn,e),Hn===null&&(n===null||Ca.current!==null||n.memoizedState!==null)&&(Hn=e)}function Ef(e){et(Te,Te.current),et(wn,e),Hn===null&&(Hn=e)}function gp(e){e.tag===22?(et(Te,Te.current),et(wn,e),Hn===null&&(Hn=e)):Ms()}function Ms(){et(Te,Te.current),et(wn,wn.current)}function Rn(e){Y(wn),Hn===e&&(Hn=null),Y(Te)}var Te=V(0);function Yu(e){for(var n=e;n!==null;){if(n.tag===13){var a=n.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||Rd(a)||Id(a)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var Yi=0,Rt=null,te=null,Oe=null,Ku=!1,Na=!1,zr=!1,Xu=0,Zo=0,Da=null,IA=0;function pe(){throw Error(r(321))}function Tf(e,n){if(n===null)return!1;for(var a=0;a<n.length&&a<e.length;a++)if(!Sn(e[a],n[a]))return!1;return!0}function Af(e,n,a,o,h,f){return Yi=f,Rt=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,q.H=e===null||e.memoizedState===null?Jp:Pf,zr=!1,f=a(o,h),zr=!1,Na&&(f=yp(n,a,o,h)),pp(e),f}function pp(e){q.H=tl;var n=te!==null&&te.next!==null;if(Yi=0,Oe=te=Rt=null,Ku=!1,Zo=0,Da=null,n)throw Error(r(300));e===null||Ve||(e=e.dependencies,e!==null&&zu(e)&&(Ve=!0))}function yp(e,n,a,o){Rt=e;var h=0;do{if(Na&&(Da=null),Zo=0,Na=!1,25<=h)throw Error(r(301));if(h+=1,Oe=te=null,e.updateQueue!=null){var f=e.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}q.H=Wp,f=n(a,o)}while(Na);return f}function CA(){var e=q.H,n=e.useState()[0];return n=typeof n.then=="function"?Jo(n):n,e=e.useState()[0],(te!==null?te.memoizedState:null)!==e&&(Rt.flags|=1024),n}function Sf(){var e=Xu!==0;return Xu=0,e}function bf(e,n,a){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~a}function wf(e){if(Ku){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}Ku=!1}Yi=0,Oe=te=Rt=null,Na=!1,Zo=Xu=0,Da=null}function cn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Oe===null?Rt.memoizedState=Oe=e:Oe=Oe.next=e,Oe}function Ae(){if(te===null){var e=Rt.alternate;e=e!==null?e.memoizedState:null}else e=te.next;var n=Oe===null?Rt.memoizedState:Oe.next;if(n!==null)Oe=n,te=e;else{if(e===null)throw Rt.alternate===null?Error(r(467)):Error(r(310));te=e,e={memoizedState:te.memoizedState,baseState:te.baseState,baseQueue:te.baseQueue,queue:te.queue,next:null},Oe===null?Rt.memoizedState=Oe=e:Oe=Oe.next=e}return Oe}function $u(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Jo(e){var n=Zo;return Zo+=1,Da===null&&(Da=[]),e=op(Da,e,n),n=Rt,(Oe===null?n.memoizedState:Oe.next)===null&&(n=n.alternate,q.H=n===null||n.memoizedState===null?Jp:Pf),e}function Zu(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Jo(e);if(e.$$typeof===pt)return $e(e)}throw Error(r(438,String(e)))}function Rf(e){var n=null,a=Rt.updateQueue;if(a!==null&&(n=a.memoCache),n==null){var o=Rt.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(n={data:o.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),a===null&&(a=$u(),Rt.updateQueue=a),a.memoCache=n,a=n.data[n.index],a===void 0)for(a=n.data[n.index]=Array(e),o=0;o<e;o++)a[o]=M;return n.index++,a}function Ki(e,n){return typeof n=="function"?n(e):n}function Ju(e){var n=Ae();return If(n,te,e)}function If(e,n,a){var o=e.queue;if(o===null)throw Error(r(311));o.lastRenderedReducer=a;var h=e.baseQueue,f=o.pending;if(f!==null){if(h!==null){var g=h.next;h.next=f.next,f.next=g}n.baseQueue=h=f,o.pending=null}if(f=e.baseState,h===null)e.memoizedState=f;else{n=h.next;var E=g=null,R=null,k=n,H=!1;do{var X=k.lane&-536870913;if(X!==k.lane?(Vt&X)===X:(Yi&X)===X){var z=k.revertLane;if(z===0)R!==null&&(R=R.next={lane:0,revertLane:0,gesture:null,action:k.action,hasEagerState:k.hasEagerState,eagerState:k.eagerState,next:null}),X===ba&&(H=!0);else if((Yi&z)===z){k=k.next,z===ba&&(H=!0);continue}else X={lane:0,revertLane:k.revertLane,gesture:null,action:k.action,hasEagerState:k.hasEagerState,eagerState:k.eagerState,next:null},R===null?(E=R=X,g=f):R=R.next=X,Rt.lanes|=z,Ls|=z;X=k.action,zr&&a(f,X),f=k.hasEagerState?k.eagerState:a(f,X)}else z={lane:X,revertLane:k.revertLane,gesture:k.gesture,action:k.action,hasEagerState:k.hasEagerState,eagerState:k.eagerState,next:null},R===null?(E=R=z,g=f):R=R.next=z,Rt.lanes|=X,Ls|=X;k=k.next}while(k!==null&&k!==n);if(R===null?g=f:R.next=E,!Sn(f,e.memoizedState)&&(Ve=!0,H&&(a=wa,a!==null)))throw a;e.memoizedState=f,e.baseState=g,e.baseQueue=R,o.lastRenderedState=f}return h===null&&(o.lanes=0),[e.memoizedState,o.dispatch]}function Cf(e){var n=Ae(),a=n.queue;if(a===null)throw Error(r(311));a.lastRenderedReducer=e;var o=a.dispatch,h=a.pending,f=n.memoizedState;if(h!==null){a.pending=null;var g=h=h.next;do f=e(f,g.action),g=g.next;while(g!==h);Sn(f,n.memoizedState)||(Ve=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),a.lastRenderedState=f}return[f,o]}function _p(e,n,a){var o=Rt,h=Ae(),f=kt;if(f){if(a===void 0)throw Error(r(407));a=a()}else a=n();var g=!Sn((te||h).memoizedState,a);if(g&&(h.memoizedState=a,Ve=!0),h=h.queue,Of(Tp.bind(null,o,h,e),[e]),h.getSnapshot!==n||g||Oe!==null&&Oe.memoizedState.tag&1){if(o.flags|=2048,Oa(9,{destroy:void 0},Ep.bind(null,o,h,a,n),null),re===null)throw Error(r(349));f||(Yi&127)!==0||vp(o,n,a)}return a}function vp(e,n,a){e.flags|=16384,e={getSnapshot:n,value:a},n=Rt.updateQueue,n===null?(n=$u(),Rt.updateQueue=n,n.stores=[e]):(a=n.stores,a===null?n.stores=[e]:a.push(e))}function Ep(e,n,a,o){n.value=a,n.getSnapshot=o,Ap(n)&&Sp(e)}function Tp(e,n,a){return a(function(){Ap(n)&&Sp(e)})}function Ap(e){var n=e.getSnapshot;e=e.value;try{var a=n();return!Sn(e,a)}catch{return!0}}function Sp(e){var n=Dr(e,2);n!==null&&_n(n,e,2)}function Nf(e){var n=cn();if(typeof e=="function"){var a=e;if(e=a(),zr){Mn(!0);try{a()}finally{Mn(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ki,lastRenderedState:e},n}function bp(e,n,a,o){return e.baseState=a,If(e,te,typeof o=="function"?o:Ki)}function NA(e,n,a,o,h){if(ec(e))throw Error(r(485));if(e=n.action,e!==null){var f={payload:h,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(g){f.listeners.push(g)}};q.T!==null?a(!0):f.isTransition=!1,o(f),a=n.pending,a===null?(f.next=n.pending=f,wp(n,f)):(f.next=a.next,n.pending=a.next=f)}}function wp(e,n){var a=n.action,o=n.payload,h=e.state;if(n.isTransition){var f=q.T,g={};q.T=g;try{var E=a(h,o),R=q.S;R!==null&&R(g,E),Rp(e,n,E)}catch(k){Df(e,n,k)}finally{f!==null&&g.types!==null&&(f.types=g.types),q.T=f}}else try{f=a(h,o),Rp(e,n,f)}catch(k){Df(e,n,k)}}function Rp(e,n,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(o){Ip(e,n,o)},function(o){return Df(e,n,o)}):Ip(e,n,a)}function Ip(e,n,a){n.status="fulfilled",n.value=a,Cp(n),e.state=a,n=e.pending,n!==null&&(a=n.next,a===n?e.pending=null:(a=a.next,n.next=a,wp(e,a)))}function Df(e,n,a){var o=e.pending;if(e.pending=null,o!==null){o=o.next;do n.status="rejected",n.reason=a,Cp(n),n=n.next;while(n!==o)}e.action=null}function Cp(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function Np(e,n){return n}function Dp(e,n){if(kt){var a=re.formState;if(a!==null){t:{var o=Rt;if(kt){if(oe){e:{for(var h=oe,f=qn;h.nodeType!==8;){if(!f){h=null;break e}if(h=Fn(h.nextSibling),h===null){h=null;break e}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){oe=Fn(h.nextSibling),o=h.data==="F!";break t}}Is(o)}o=!1}o&&(n=a[0])}}return a=cn(),a.memoizedState=a.baseState=n,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Np,lastRenderedState:n},a.queue=o,a=Xp.bind(null,Rt,o),o.dispatch=a,o=Nf(!1),f=Lf.bind(null,Rt,!1,o.queue),o=cn(),h={state:n,dispatch:null,action:e,pending:null},o.queue=h,a=NA.bind(null,Rt,h,f,a),h.dispatch=a,o.memoizedState=e,[n,a,!1]}function Op(e){var n=Ae();return Vp(n,te,e)}function Vp(e,n,a){if(n=If(e,n,Np)[0],e=Ju(Ki)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var o=Jo(n)}catch(g){throw g===Ra?qu:g}else o=n;n=Ae();var h=n.queue,f=h.dispatch;return a!==n.memoizedState&&(Rt.flags|=2048,Oa(9,{destroy:void 0},DA.bind(null,h,a),null)),[o,f,e]}function DA(e,n){e.action=n}function Mp(e){var n=Ae(),a=te;if(a!==null)return Vp(n,a,e);Ae(),n=n.memoizedState,a=Ae();var o=a.queue.dispatch;return a.memoizedState=e,[n,o,!1]}function Oa(e,n,a,o){return e={tag:e,create:a,deps:o,inst:n,next:null},n=Rt.updateQueue,n===null&&(n=$u(),Rt.updateQueue=n),a=n.lastEffect,a===null?n.lastEffect=e.next=e:(o=a.next,a.next=e,e.next=o,n.lastEffect=e),e}function xp(){return Ae().memoizedState}function Wu(e,n,a,o){var h=cn();Rt.flags|=e,h.memoizedState=Oa(1|n,{destroy:void 0},a,o===void 0?null:o)}function tc(e,n,a,o){var h=Ae();o=o===void 0?null:o;var f=h.memoizedState.inst;te!==null&&o!==null&&Tf(o,te.memoizedState.deps)?h.memoizedState=Oa(n,f,a,o):(Rt.flags|=e,h.memoizedState=Oa(1|n,f,a,o))}function Up(e,n){Wu(8390656,8,e,n)}function Of(e,n){tc(2048,8,e,n)}function OA(e){Rt.flags|=4;var n=Rt.updateQueue;if(n===null)n=$u(),Rt.updateQueue=n,n.events=[e];else{var a=n.events;a===null?n.events=[e]:a.push(e)}}function Lp(e){var n=Ae().memoizedState;return OA({ref:n,nextImpl:e}),function(){if((Kt&2)!==0)throw Error(r(440));return n.impl.apply(void 0,arguments)}}function Pp(e,n){return tc(4,2,e,n)}function kp(e,n){return tc(4,4,e,n)}function zp(e,n){if(typeof n=="function"){e=e();var a=n(e);return function(){typeof a=="function"?a():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function jp(e,n,a){a=a!=null?a.concat([e]):null,tc(4,4,zp.bind(null,n,e),a)}function Vf(){}function Bp(e,n){var a=Ae();n=n===void 0?null:n;var o=a.memoizedState;return n!==null&&Tf(n,o[1])?o[0]:(a.memoizedState=[e,n],e)}function qp(e,n){var a=Ae();n=n===void 0?null:n;var o=a.memoizedState;if(n!==null&&Tf(n,o[1]))return o[0];if(o=e(),zr){Mn(!0);try{e()}finally{Mn(!1)}}return a.memoizedState=[o,n],o}function Mf(e,n,a){return a===void 0||(Yi&1073741824)!==0&&(Vt&261930)===0?e.memoizedState=n:(e.memoizedState=a,e=Hy(),Rt.lanes|=e,Ls|=e,a)}function Hp(e,n,a,o){return Sn(a,n)?a:Ca.current!==null?(e=Mf(e,a,o),Sn(e,n)||(Ve=!0),e):(Yi&42)===0||(Yi&1073741824)!==0&&(Vt&261930)===0?(Ve=!0,e.memoizedState=a):(e=Hy(),Rt.lanes|=e,Ls|=e,n)}function Fp(e,n,a,o,h){var f=nt.p;nt.p=f!==0&&8>f?f:8;var g=q.T,E={};q.T=E,Lf(e,!1,n,a);try{var R=h(),k=q.S;if(k!==null&&k(E,R),R!==null&&typeof R=="object"&&typeof R.then=="function"){var H=RA(R,o);Wo(e,n,H,Nn(e))}else Wo(e,n,o,Nn(e))}catch(X){Wo(e,n,{then:function(){},status:"rejected",reason:X},Nn())}finally{nt.p=f,g!==null&&E.types!==null&&(g.types=E.types),q.T=g}}function VA(){}function xf(e,n,a,o){if(e.tag!==5)throw Error(r(476));var h=Gp(e).queue;Fp(e,h,n,ut,a===null?VA:function(){return Qp(e),a(o)})}function Gp(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:ut,baseState:ut,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ki,lastRenderedState:ut},next:null};var a={};return n.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ki,lastRenderedState:a},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function Qp(e){var n=Gp(e);n.next===null&&(n=e.alternate.memoizedState),Wo(e,n.next.queue,{},Nn())}function Uf(){return $e(pl)}function Yp(){return Ae().memoizedState}function Kp(){return Ae().memoizedState}function MA(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var a=Nn();e=Ds(a);var o=Os(n,e,a);o!==null&&(_n(o,n,a),Ko(o,n,a)),n={cache:cf()},e.payload=n;return}n=n.return}}function xA(e,n,a){var o=Nn();a={lane:o,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},ec(e)?$p(n,a):(a=Jh(e,n,a,o),a!==null&&(_n(a,e,o),Zp(a,n,o)))}function Xp(e,n,a){var o=Nn();Wo(e,n,a,o)}function Wo(e,n,a,o){var h={lane:o,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(ec(e))$p(n,h);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var g=n.lastRenderedState,E=f(g,a);if(h.hasEagerState=!0,h.eagerState=E,Sn(E,g))return Uu(e,n,h,0),re===null&&xu(),!1}catch{}finally{}if(a=Jh(e,n,h,o),a!==null)return _n(a,e,o),Zp(a,n,o),!0}return!1}function Lf(e,n,a,o){if(o={lane:2,revertLane:md(),gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},ec(e)){if(n)throw Error(r(479))}else n=Jh(e,a,o,2),n!==null&&_n(n,e,2)}function ec(e){var n=e.alternate;return e===Rt||n!==null&&n===Rt}function $p(e,n){Na=Ku=!0;var a=e.pending;a===null?n.next=n:(n.next=a.next,a.next=n),e.pending=n}function Zp(e,n,a){if((a&4194048)!==0){var o=n.lanes;o&=e.pendingLanes,a|=o,n.lanes=a,To(e,a)}}var tl={readContext:$e,use:Zu,useCallback:pe,useContext:pe,useEffect:pe,useImperativeHandle:pe,useLayoutEffect:pe,useInsertionEffect:pe,useMemo:pe,useReducer:pe,useRef:pe,useState:pe,useDebugValue:pe,useDeferredValue:pe,useTransition:pe,useSyncExternalStore:pe,useId:pe,useHostTransitionStatus:pe,useFormState:pe,useActionState:pe,useOptimistic:pe,useMemoCache:pe,useCacheRefresh:pe};tl.useEffectEvent=pe;var Jp={readContext:$e,use:Zu,useCallback:function(e,n){return cn().memoizedState=[e,n===void 0?null:n],e},useContext:$e,useEffect:Up,useImperativeHandle:function(e,n,a){a=a!=null?a.concat([e]):null,Wu(4194308,4,zp.bind(null,n,e),a)},useLayoutEffect:function(e,n){return Wu(4194308,4,e,n)},useInsertionEffect:function(e,n){Wu(4,2,e,n)},useMemo:function(e,n){var a=cn();n=n===void 0?null:n;var o=e();if(zr){Mn(!0);try{e()}finally{Mn(!1)}}return a.memoizedState=[o,n],o},useReducer:function(e,n,a){var o=cn();if(a!==void 0){var h=a(n);if(zr){Mn(!0);try{a(n)}finally{Mn(!1)}}}else h=n;return o.memoizedState=o.baseState=h,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:h},o.queue=e,e=e.dispatch=xA.bind(null,Rt,e),[o.memoizedState,e]},useRef:function(e){var n=cn();return e={current:e},n.memoizedState=e},useState:function(e){e=Nf(e);var n=e.queue,a=Xp.bind(null,Rt,n);return n.dispatch=a,[e.memoizedState,a]},useDebugValue:Vf,useDeferredValue:function(e,n){var a=cn();return Mf(a,e,n)},useTransition:function(){var e=Nf(!1);return e=Fp.bind(null,Rt,e.queue,!0,!1),cn().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,a){var o=Rt,h=cn();if(kt){if(a===void 0)throw Error(r(407));a=a()}else{if(a=n(),re===null)throw Error(r(349));(Vt&127)!==0||vp(o,n,a)}h.memoizedState=a;var f={value:a,getSnapshot:n};return h.queue=f,Up(Tp.bind(null,o,f,e),[e]),o.flags|=2048,Oa(9,{destroy:void 0},Ep.bind(null,o,f,a,n),null),a},useId:function(){var e=cn(),n=re.identifierPrefix;if(kt){var a=Ri,o=wi;a=(o&~(1<<32-ve(o)-1)).toString(32)+a,n="_"+n+"R_"+a,a=Xu++,0<a&&(n+="H"+a.toString(32)),n+="_"}else a=IA++,n="_"+n+"r_"+a.toString(32)+"_";return e.memoizedState=n},useHostTransitionStatus:Uf,useFormState:Dp,useActionState:Dp,useOptimistic:function(e){var n=cn();n.memoizedState=n.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=a,n=Lf.bind(null,Rt,!0,a),a.dispatch=n,[e,n]},useMemoCache:Rf,useCacheRefresh:function(){return cn().memoizedState=MA.bind(null,Rt)},useEffectEvent:function(e){var n=cn(),a={impl:e};return n.memoizedState=a,function(){if((Kt&2)!==0)throw Error(r(440));return a.impl.apply(void 0,arguments)}}},Pf={readContext:$e,use:Zu,useCallback:Bp,useContext:$e,useEffect:Of,useImperativeHandle:jp,useInsertionEffect:Pp,useLayoutEffect:kp,useMemo:qp,useReducer:Ju,useRef:xp,useState:function(){return Ju(Ki)},useDebugValue:Vf,useDeferredValue:function(e,n){var a=Ae();return Hp(a,te.memoizedState,e,n)},useTransition:function(){var e=Ju(Ki)[0],n=Ae().memoizedState;return[typeof e=="boolean"?e:Jo(e),n]},useSyncExternalStore:_p,useId:Yp,useHostTransitionStatus:Uf,useFormState:Op,useActionState:Op,useOptimistic:function(e,n){var a=Ae();return bp(a,te,e,n)},useMemoCache:Rf,useCacheRefresh:Kp};Pf.useEffectEvent=Lp;var Wp={readContext:$e,use:Zu,useCallback:Bp,useContext:$e,useEffect:Of,useImperativeHandle:jp,useInsertionEffect:Pp,useLayoutEffect:kp,useMemo:qp,useReducer:Cf,useRef:xp,useState:function(){return Cf(Ki)},useDebugValue:Vf,useDeferredValue:function(e,n){var a=Ae();return te===null?Mf(a,e,n):Hp(a,te.memoizedState,e,n)},useTransition:function(){var e=Cf(Ki)[0],n=Ae().memoizedState;return[typeof e=="boolean"?e:Jo(e),n]},useSyncExternalStore:_p,useId:Yp,useHostTransitionStatus:Uf,useFormState:Mp,useActionState:Mp,useOptimistic:function(e,n){var a=Ae();return te!==null?bp(a,te,e,n):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:Rf,useCacheRefresh:Kp};Wp.useEffectEvent=Lp;function kf(e,n,a,o){n=e.memoizedState,a=a(o,n),a=a==null?n:S({},n,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var zf={enqueueSetState:function(e,n,a){e=e._reactInternals;var o=Nn(),h=Ds(o);h.payload=n,a!=null&&(h.callback=a),n=Os(e,h,o),n!==null&&(_n(n,e,o),Ko(n,e,o))},enqueueReplaceState:function(e,n,a){e=e._reactInternals;var o=Nn(),h=Ds(o);h.tag=1,h.payload=n,a!=null&&(h.callback=a),n=Os(e,h,o),n!==null&&(_n(n,e,o),Ko(n,e,o))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var a=Nn(),o=Ds(a);o.tag=2,n!=null&&(o.callback=n),n=Os(e,o,a),n!==null&&(_n(n,e,a),Ko(n,e,a))}};function ty(e,n,a,o,h,f,g){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(o,f,g):n.prototype&&n.prototype.isPureReactComponent?!jo(a,o)||!jo(h,f):!0}function ey(e,n,a,o){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(a,o),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(a,o),n.state!==e&&zf.enqueueReplaceState(n,n.state,null)}function jr(e,n){var a=n;if("ref"in n){a={};for(var o in n)o!=="ref"&&(a[o]=n[o])}if(e=e.defaultProps){a===n&&(a=S({},a));for(var h in e)a[h]===void 0&&(a[h]=e[h])}return a}function ny(e){Mu(e)}function iy(e){console.error(e)}function sy(e){Mu(e)}function nc(e,n){try{var a=e.onUncaughtError;a(n.value,{componentStack:n.stack})}catch(o){setTimeout(function(){throw o})}}function ry(e,n,a){try{var o=e.onCaughtError;o(a.value,{componentStack:a.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function jf(e,n,a){return a=Ds(a),a.tag=3,a.payload={element:null},a.callback=function(){nc(e,n)},a}function ay(e){return e=Ds(e),e.tag=3,e}function oy(e,n,a,o){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var f=o.value;e.payload=function(){return h(f)},e.callback=function(){ry(n,a,o)}}var g=a.stateNode;g!==null&&typeof g.componentDidCatch=="function"&&(e.callback=function(){ry(n,a,o),typeof h!="function"&&(Ps===null?Ps=new Set([this]):Ps.add(this));var E=o.stack;this.componentDidCatch(o.value,{componentStack:E!==null?E:""})})}function UA(e,n,a,o,h){if(a.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(n=a.alternate,n!==null&&Sa(n,a,h,!0),a=wn.current,a!==null){switch(a.tag){case 31:case 13:return Hn===null?mc():a.alternate===null&&ye===0&&(ye=3),a.flags&=-257,a.flags|=65536,a.lanes=h,o===Hu?a.flags|=16384:(n=a.updateQueue,n===null?a.updateQueue=new Set([o]):n.add(o),hd(e,o,h)),!1;case 22:return a.flags|=65536,o===Hu?a.flags|=16384:(n=a.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([o])},a.updateQueue=n):(a=n.retryQueue,a===null?n.retryQueue=new Set([o]):a.add(o)),hd(e,o,h)),!1}throw Error(r(435,a.tag))}return hd(e,o,h),mc(),!1}if(kt)return n=wn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,o!==rf&&(e=Error(r(422),{cause:o}),Ho(zn(e,a)))):(o!==rf&&(n=Error(r(423),{cause:o}),Ho(zn(n,a))),e=e.current.alternate,e.flags|=65536,h&=-h,e.lanes|=h,o=zn(o,a),h=jf(e.stateNode,o,h),pf(e,h),ye!==4&&(ye=2)),!1;var f=Error(r(520),{cause:o});if(f=zn(f,a),ll===null?ll=[f]:ll.push(f),ye!==4&&(ye=2),n===null)return!0;o=zn(o,a),a=n;do{switch(a.tag){case 3:return a.flags|=65536,e=h&-h,a.lanes|=e,e=jf(a.stateNode,o,e),pf(a,e),!1;case 1:if(n=a.type,f=a.stateNode,(a.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Ps===null||!Ps.has(f))))return a.flags|=65536,h&=-h,a.lanes|=h,h=ay(h),oy(h,e,a,o),pf(a,h),!1}a=a.return}while(a!==null);return!1}var Bf=Error(r(461)),Ve=!1;function Ze(e,n,a,o){n.child=e===null?hp(n,null,a,o):kr(n,e.child,a,o)}function ly(e,n,a,o,h){a=a.render;var f=n.ref;if("ref"in o){var g={};for(var E in o)E!=="ref"&&(g[E]=o[E])}else g=o;return xr(n),o=Af(e,n,a,g,f,h),E=Sf(),e!==null&&!Ve?(bf(e,n,h),Xi(e,n,h)):(kt&&E&&nf(n),n.flags|=1,Ze(e,n,o,h),n.child)}function uy(e,n,a,o,h){if(e===null){var f=a.type;return typeof f=="function"&&!Wh(f)&&f.defaultProps===void 0&&a.compare===null?(n.tag=15,n.type=f,cy(e,n,f,o,h)):(e=Pu(a.type,null,o,n,n.mode,h),e.ref=n.ref,e.return=n,n.child=e)}if(f=e.child,!Xf(e,h)){var g=f.memoizedProps;if(a=a.compare,a=a!==null?a:jo,a(g,o)&&e.ref===n.ref)return Xi(e,n,h)}return n.flags|=1,e=Hi(f,o),e.ref=n.ref,e.return=n,n.child=e}function cy(e,n,a,o,h){if(e!==null){var f=e.memoizedProps;if(jo(f,o)&&e.ref===n.ref)if(Ve=!1,n.pendingProps=o=f,Xf(e,h))(e.flags&131072)!==0&&(Ve=!0);else return n.lanes=e.lanes,Xi(e,n,h)}return qf(e,n,a,o,h)}function hy(e,n,a,o){var h=o.children,f=e!==null?e.memoizedState:null;if(e===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|a:a,e!==null){for(o=n.child=e.child,h=0;o!==null;)h=h|o.lanes|o.childLanes,o=o.sibling;o=h&~f}else o=0,n.child=null;return fy(e,n,f,a,o)}if((a&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&Bu(n,f!==null?f.cachePool:null),f!==null?mp(n,f):_f(),gp(n);else return o=n.lanes=536870912,fy(e,n,f!==null?f.baseLanes|a:a,a,o)}else f!==null?(Bu(n,f.cachePool),mp(n,f),Ms(),n.memoizedState=null):(e!==null&&Bu(n,null),_f(),Ms());return Ze(e,n,h,a),n.child}function el(e,n){return e!==null&&e.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function fy(e,n,a,o,h){var f=ff();return f=f===null?null:{parent:De._currentValue,pool:f},n.memoizedState={baseLanes:a,cachePool:f},e!==null&&Bu(n,null),_f(),gp(n),e!==null&&Sa(e,n,o,!0),n.childLanes=h,null}function ic(e,n){return n=rc({mode:n.mode,children:n.children},e.mode),n.ref=e.ref,e.child=n,n.return=e,n}function dy(e,n,a){return kr(n,e.child,null,a),e=ic(n,n.pendingProps),e.flags|=2,Rn(n),n.memoizedState=null,e}function LA(e,n,a){var o=n.pendingProps,h=(n.flags&128)!==0;if(n.flags&=-129,e===null){if(kt){if(o.mode==="hidden")return e=ic(n,o),n.lanes=536870912,el(null,e);if(Ef(n),(e=oe)?(e=w_(e,qn),e=e!==null&&e.data==="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:ws!==null?{id:wi,overflow:Ri}:null,retryLane:536870912,hydrationErrors:null},a=$g(e),a.return=n,n.child=a,Xe=n,oe=null)):e=null,e===null)throw Is(n);return n.lanes=536870912,null}return ic(n,o)}var f=e.memoizedState;if(f!==null){var g=f.dehydrated;if(Ef(n),h)if(n.flags&256)n.flags&=-257,n=dy(e,n,a);else if(n.memoizedState!==null)n.child=e.child,n.flags|=128,n=null;else throw Error(r(558));else if(Ve||Sa(e,n,a,!1),h=(a&e.childLanes)!==0,Ve||h){if(o=re,o!==null&&(g=Ao(o,a),g!==0&&g!==f.retryLane))throw f.retryLane=g,Dr(e,g),_n(o,e,g),Bf;mc(),n=dy(e,n,a)}else e=f.treeContext,oe=Fn(g.nextSibling),Xe=n,kt=!0,Rs=null,qn=!1,e!==null&&Wg(n,e),n=ic(n,o),n.flags|=4096;return n}return e=Hi(e.child,{mode:o.mode,children:o.children}),e.ref=n.ref,n.child=e,e.return=n,e}function sc(e,n){var a=n.ref;if(a===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(r(284));(e===null||e.ref!==a)&&(n.flags|=4194816)}}function qf(e,n,a,o,h){return xr(n),a=Af(e,n,a,o,void 0,h),o=Sf(),e!==null&&!Ve?(bf(e,n,h),Xi(e,n,h)):(kt&&o&&nf(n),n.flags|=1,Ze(e,n,a,h),n.child)}function my(e,n,a,o,h,f){return xr(n),n.updateQueue=null,a=yp(n,o,a,h),pp(e),o=Sf(),e!==null&&!Ve?(bf(e,n,f),Xi(e,n,f)):(kt&&o&&nf(n),n.flags|=1,Ze(e,n,a,f),n.child)}function gy(e,n,a,o,h){if(xr(n),n.stateNode===null){var f=va,g=a.contextType;typeof g=="object"&&g!==null&&(f=$e(g)),f=new a(o,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=zf,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=o,f.state=n.memoizedState,f.refs={},mf(n),g=a.contextType,f.context=typeof g=="object"&&g!==null?$e(g):va,f.state=n.memoizedState,g=a.getDerivedStateFromProps,typeof g=="function"&&(kf(n,a,g,o),f.state=n.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(g=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),g!==f.state&&zf.enqueueReplaceState(f,f.state,null),$o(n,o,f,h),Xo(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!0}else if(e===null){f=n.stateNode;var E=n.memoizedProps,R=jr(a,E);f.props=R;var k=f.context,H=a.contextType;g=va,typeof H=="object"&&H!==null&&(g=$e(H));var X=a.getDerivedStateFromProps;H=typeof X=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,H||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||k!==g)&&ey(n,f,o,g),Ns=!1;var z=n.memoizedState;f.state=z,$o(n,o,f,h),Xo(),k=n.memoizedState,E||z!==k||Ns?(typeof X=="function"&&(kf(n,a,X,o),k=n.memoizedState),(R=Ns||ty(n,a,R,o,z,k,g))?(H||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=o,n.memoizedState=k),f.props=o,f.state=k,f.context=g,o=R):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!1)}else{f=n.stateNode,gf(e,n),g=n.memoizedProps,H=jr(a,g),f.props=H,X=n.pendingProps,z=f.context,k=a.contextType,R=va,typeof k=="object"&&k!==null&&(R=$e(k)),E=a.getDerivedStateFromProps,(k=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(g!==X||z!==R)&&ey(n,f,o,R),Ns=!1,z=n.memoizedState,f.state=z,$o(n,o,f,h),Xo();var B=n.memoizedState;g!==X||z!==B||Ns||e!==null&&e.dependencies!==null&&zu(e.dependencies)?(typeof E=="function"&&(kf(n,a,E,o),B=n.memoizedState),(H=Ns||ty(n,a,H,o,z,B,R)||e!==null&&e.dependencies!==null&&zu(e.dependencies))?(k||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(o,B,R),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(o,B,R)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||g===e.memoizedProps&&z===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&z===e.memoizedState||(n.flags|=1024),n.memoizedProps=o,n.memoizedState=B),f.props=o,f.state=B,f.context=R,o=H):(typeof f.componentDidUpdate!="function"||g===e.memoizedProps&&z===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&z===e.memoizedState||(n.flags|=1024),o=!1)}return f=o,sc(e,n),o=(n.flags&128)!==0,f||o?(f=n.stateNode,a=o&&typeof a.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,e!==null&&o?(n.child=kr(n,e.child,null,h),n.child=kr(n,null,a,h)):Ze(e,n,a,h),n.memoizedState=f.state,e=n.child):e=Xi(e,n,h),e}function py(e,n,a,o){return Vr(),n.flags|=256,Ze(e,n,a,o),n.child}var Hf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Ff(e){return{baseLanes:e,cachePool:rp()}}function Gf(e,n,a){return e=e!==null?e.childLanes&~a:0,n&&(e|=Cn),e}function yy(e,n,a){var o=n.pendingProps,h=!1,f=(n.flags&128)!==0,g;if((g=f)||(g=e!==null&&e.memoizedState===null?!1:(Te.current&2)!==0),g&&(h=!0,n.flags&=-129),g=(n.flags&32)!==0,n.flags&=-33,e===null){if(kt){if(h?Vs(n):Ms(),(e=oe)?(e=w_(e,qn),e=e!==null&&e.data!=="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:ws!==null?{id:wi,overflow:Ri}:null,retryLane:536870912,hydrationErrors:null},a=$g(e),a.return=n,n.child=a,Xe=n,oe=null)):e=null,e===null)throw Is(n);return Id(e)?n.lanes=32:n.lanes=536870912,null}var E=o.children;return o=o.fallback,h?(Ms(),h=n.mode,E=rc({mode:"hidden",children:E},h),o=Or(o,h,a,null),E.return=n,o.return=n,E.sibling=o,n.child=E,o=n.child,o.memoizedState=Ff(a),o.childLanes=Gf(e,g,a),n.memoizedState=Hf,el(null,o)):(Vs(n),Qf(n,E))}var R=e.memoizedState;if(R!==null&&(E=R.dehydrated,E!==null)){if(f)n.flags&256?(Vs(n),n.flags&=-257,n=Yf(e,n,a)):n.memoizedState!==null?(Ms(),n.child=e.child,n.flags|=128,n=null):(Ms(),E=o.fallback,h=n.mode,o=rc({mode:"visible",children:o.children},h),E=Or(E,h,a,null),E.flags|=2,o.return=n,E.return=n,o.sibling=E,n.child=o,kr(n,e.child,null,a),o=n.child,o.memoizedState=Ff(a),o.childLanes=Gf(e,g,a),n.memoizedState=Hf,n=el(null,o));else if(Vs(n),Id(E)){if(g=E.nextSibling&&E.nextSibling.dataset,g)var k=g.dgst;g=k,o=Error(r(419)),o.stack="",o.digest=g,Ho({value:o,source:null,stack:null}),n=Yf(e,n,a)}else if(Ve||Sa(e,n,a,!1),g=(a&e.childLanes)!==0,Ve||g){if(g=re,g!==null&&(o=Ao(g,a),o!==0&&o!==R.retryLane))throw R.retryLane=o,Dr(e,o),_n(g,e,o),Bf;Rd(E)||mc(),n=Yf(e,n,a)}else Rd(E)?(n.flags|=192,n.child=e.child,n=null):(e=R.treeContext,oe=Fn(E.nextSibling),Xe=n,kt=!0,Rs=null,qn=!1,e!==null&&Wg(n,e),n=Qf(n,o.children),n.flags|=4096);return n}return h?(Ms(),E=o.fallback,h=n.mode,R=e.child,k=R.sibling,o=Hi(R,{mode:"hidden",children:o.children}),o.subtreeFlags=R.subtreeFlags&65011712,k!==null?E=Hi(k,E):(E=Or(E,h,a,null),E.flags|=2),E.return=n,o.return=n,o.sibling=E,n.child=o,el(null,o),o=n.child,E=e.child.memoizedState,E===null?E=Ff(a):(h=E.cachePool,h!==null?(R=De._currentValue,h=h.parent!==R?{parent:R,pool:R}:h):h=rp(),E={baseLanes:E.baseLanes|a,cachePool:h}),o.memoizedState=E,o.childLanes=Gf(e,g,a),n.memoizedState=Hf,el(e.child,o)):(Vs(n),a=e.child,e=a.sibling,a=Hi(a,{mode:"visible",children:o.children}),a.return=n,a.sibling=null,e!==null&&(g=n.deletions,g===null?(n.deletions=[e],n.flags|=16):g.push(e)),n.child=a,n.memoizedState=null,a)}function Qf(e,n){return n=rc({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function rc(e,n){return e=bn(22,e,null,n),e.lanes=0,e}function Yf(e,n,a){return kr(n,e.child,null,a),e=Qf(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function _y(e,n,a){e.lanes|=n;var o=e.alternate;o!==null&&(o.lanes|=n),lf(e.return,n,a)}function Kf(e,n,a,o,h,f){var g=e.memoizedState;g===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:o,tail:a,tailMode:h,treeForkCount:f}:(g.isBackwards=n,g.rendering=null,g.renderingStartTime=0,g.last=o,g.tail=a,g.tailMode=h,g.treeForkCount=f)}function vy(e,n,a){var o=n.pendingProps,h=o.revealOrder,f=o.tail;o=o.children;var g=Te.current,E=(g&2)!==0;if(E?(g=g&1|2,n.flags|=128):g&=1,et(Te,g),Ze(e,n,o,a),o=kt?qo:0,!E&&e!==null&&(e.flags&128)!==0)t:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&_y(e,a,n);else if(e.tag===19)_y(e,a,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break t;for(;e.sibling===null;){if(e.return===null||e.return===n)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(h){case"forwards":for(a=n.child,h=null;a!==null;)e=a.alternate,e!==null&&Yu(e)===null&&(h=a),a=a.sibling;a=h,a===null?(h=n.child,n.child=null):(h=a.sibling,a.sibling=null),Kf(n,!1,h,a,f,o);break;case"backwards":case"unstable_legacy-backwards":for(a=null,h=n.child,n.child=null;h!==null;){if(e=h.alternate,e!==null&&Yu(e)===null){n.child=h;break}e=h.sibling,h.sibling=a,a=h,h=e}Kf(n,!0,a,null,f,o);break;case"together":Kf(n,!1,null,null,void 0,o);break;default:n.memoizedState=null}return n.child}function Xi(e,n,a){if(e!==null&&(n.dependencies=e.dependencies),Ls|=n.lanes,(a&n.childLanes)===0)if(e!==null){if(Sa(e,n,a,!1),(a&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(r(153));if(n.child!==null){for(e=n.child,a=Hi(e,e.pendingProps),n.child=a,a.return=n;e.sibling!==null;)e=e.sibling,a=a.sibling=Hi(e,e.pendingProps),a.return=n;a.sibling=null}return n.child}function Xf(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&zu(e)))}function PA(e,n,a){switch(n.tag){case 3:_e(n,n.stateNode.containerInfo),Cs(n,De,e.memoizedState.cache),Vr();break;case 27:case 5:ct(n);break;case 4:_e(n,n.stateNode.containerInfo);break;case 10:Cs(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,Ef(n),null;break;case 13:var o=n.memoizedState;if(o!==null)return o.dehydrated!==null?(Vs(n),n.flags|=128,null):(a&n.child.childLanes)!==0?yy(e,n,a):(Vs(n),e=Xi(e,n,a),e!==null?e.sibling:null);Vs(n);break;case 19:var h=(e.flags&128)!==0;if(o=(a&n.childLanes)!==0,o||(Sa(e,n,a,!1),o=(a&n.childLanes)!==0),h){if(o)return vy(e,n,a);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),et(Te,Te.current),o)break;return null;case 22:return n.lanes=0,hy(e,n,a,n.pendingProps);case 24:Cs(n,De,e.memoizedState.cache)}return Xi(e,n,a)}function Ey(e,n,a){if(e!==null)if(e.memoizedProps!==n.pendingProps)Ve=!0;else{if(!Xf(e,a)&&(n.flags&128)===0)return Ve=!1,PA(e,n,a);Ve=(e.flags&131072)!==0}else Ve=!1,kt&&(n.flags&1048576)!==0&&Jg(n,qo,n.index);switch(n.lanes=0,n.tag){case 16:t:{var o=n.pendingProps;if(e=Lr(n.elementType),n.type=e,typeof e=="function")Wh(e)?(o=jr(e,o),n.tag=1,n=gy(null,n,e,o,a)):(n.tag=0,n=qf(null,n,e,o,a));else{if(e!=null){var h=e.$$typeof;if(h===Pt){n.tag=11,n=ly(null,n,e,o,a);break t}else if(h===C){n.tag=14,n=uy(null,n,e,o,a);break t}}throw n=se(e)||e,Error(r(306,n,""))}}return n;case 0:return qf(e,n,n.type,n.pendingProps,a);case 1:return o=n.type,h=jr(o,n.pendingProps),gy(e,n,o,h,a);case 3:t:{if(_e(n,n.stateNode.containerInfo),e===null)throw Error(r(387));o=n.pendingProps;var f=n.memoizedState;h=f.element,gf(e,n),$o(n,o,null,a);var g=n.memoizedState;if(o=g.cache,Cs(n,De,o),o!==f.cache&&uf(n,[De],a,!0),Xo(),o=g.element,f.isDehydrated)if(f={element:o,isDehydrated:!1,cache:g.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=py(e,n,o,a);break t}else if(o!==h){h=zn(Error(r(424)),n),Ho(h),n=py(e,n,o,a);break t}else{switch(e=n.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(oe=Fn(e.firstChild),Xe=n,kt=!0,Rs=null,qn=!0,a=hp(n,null,o,a),n.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Vr(),o===h){n=Xi(e,n,a);break t}Ze(e,n,o,a)}n=n.child}return n;case 26:return sc(e,n),e===null?(a=O_(n.type,null,n.pendingProps,null))?n.memoizedState=a:kt||(a=n.type,e=n.pendingProps,o=Tc(bt.current).createElement(a),o[Ie]=n,o[qe]=e,Je(o,a,e),Ce(o),n.stateNode=o):n.memoizedState=O_(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return ct(n),e===null&&kt&&(o=n.stateNode=C_(n.type,n.pendingProps,bt.current),Xe=n,qn=!0,h=oe,Bs(n.type)?(Cd=h,oe=Fn(o.firstChild)):oe=h),Ze(e,n,n.pendingProps.children,a),sc(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&kt&&((h=o=oe)&&(o=dS(o,n.type,n.pendingProps,qn),o!==null?(n.stateNode=o,Xe=n,oe=Fn(o.firstChild),qn=!1,h=!0):h=!1),h||Is(n)),ct(n),h=n.type,f=n.pendingProps,g=e!==null?e.memoizedProps:null,o=f.children,Sd(h,f)?o=null:g!==null&&Sd(h,g)&&(n.flags|=32),n.memoizedState!==null&&(h=Af(e,n,CA,null,null,a),pl._currentValue=h),sc(e,n),Ze(e,n,o,a),n.child;case 6:return e===null&&kt&&((e=a=oe)&&(a=mS(a,n.pendingProps,qn),a!==null?(n.stateNode=a,Xe=n,oe=null,e=!0):e=!1),e||Is(n)),null;case 13:return yy(e,n,a);case 4:return _e(n,n.stateNode.containerInfo),o=n.pendingProps,e===null?n.child=kr(n,null,o,a):Ze(e,n,o,a),n.child;case 11:return ly(e,n,n.type,n.pendingProps,a);case 7:return Ze(e,n,n.pendingProps,a),n.child;case 8:return Ze(e,n,n.pendingProps.children,a),n.child;case 12:return Ze(e,n,n.pendingProps.children,a),n.child;case 10:return o=n.pendingProps,Cs(n,n.type,o.value),Ze(e,n,o.children,a),n.child;case 9:return h=n.type._context,o=n.pendingProps.children,xr(n),h=$e(h),o=o(h),n.flags|=1,Ze(e,n,o,a),n.child;case 14:return uy(e,n,n.type,n.pendingProps,a);case 15:return cy(e,n,n.type,n.pendingProps,a);case 19:return vy(e,n,a);case 31:return LA(e,n,a);case 22:return hy(e,n,a,n.pendingProps);case 24:return xr(n),o=$e(De),e===null?(h=ff(),h===null&&(h=re,f=cf(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=a),h=f),n.memoizedState={parent:o,cache:h},mf(n),Cs(n,De,h)):((e.lanes&a)!==0&&(gf(e,n),$o(n,null,null,a),Xo()),h=e.memoizedState,f=n.memoizedState,h.parent!==o?(h={parent:o,cache:o},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),Cs(n,De,o)):(o=f.cache,Cs(n,De,o),o!==h.cache&&uf(n,[De],a,!0))),Ze(e,n,n.pendingProps.children,a),n.child;case 29:throw n.pendingProps}throw Error(r(156,n.tag))}function $i(e){e.flags|=4}function $f(e,n,a,o,h){if((n=(e.mode&32)!==0)&&(n=!1),n){if(e.flags|=16777216,(h&335544128)===h)if(e.stateNode.complete)e.flags|=8192;else if(Yy())e.flags|=8192;else throw Pr=Hu,df}else e.flags&=-16777217}function Ty(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!L_(n))if(Yy())e.flags|=8192;else throw Pr=Hu,df}function ac(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?fu():536870912,e.lanes|=n,Ua|=n)}function nl(e,n){if(!kt)switch(e.tailMode){case"hidden":n=e.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var o=null;a!==null;)a.alternate!==null&&(o=a),a=a.sibling;o===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:o.sibling=null}}function le(e){var n=e.alternate!==null&&e.alternate.child===e.child,a=0,o=0;if(n)for(var h=e.child;h!==null;)a|=h.lanes|h.childLanes,o|=h.subtreeFlags&65011712,o|=h.flags&65011712,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)a|=h.lanes|h.childLanes,o|=h.subtreeFlags,o|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=o,e.childLanes=a,n}function kA(e,n,a){var o=n.pendingProps;switch(sf(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return le(n),null;case 1:return le(n),null;case 3:return a=n.stateNode,o=null,e!==null&&(o=e.memoizedState.cache),n.memoizedState.cache!==o&&(n.flags|=2048),Qi(De),J(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(Aa(n)?$i(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,af())),le(n),null;case 26:var h=n.type,f=n.memoizedState;return e===null?($i(n),f!==null?(le(n),Ty(n,f)):(le(n),$f(n,h,null,o,a))):f?f!==e.memoizedState?($i(n),le(n),Ty(n,f)):(le(n),n.flags&=-16777217):(e=e.memoizedProps,e!==o&&$i(n),le(n),$f(n,h,e,o,a)),null;case 27:if(qt(n),a=bt.current,h=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&$i(n);else{if(!o){if(n.stateNode===null)throw Error(r(166));return le(n),null}e=rt.current,Aa(n)?tp(n):(e=C_(h,o,a),n.stateNode=e,$i(n))}return le(n),null;case 5:if(qt(n),h=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&$i(n);else{if(!o){if(n.stateNode===null)throw Error(r(166));return le(n),null}if(f=rt.current,Aa(n))tp(n);else{var g=Tc(bt.current);switch(f){case 1:f=g.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:f=g.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":f=g.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":f=g.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":f=g.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof o.is=="string"?g.createElement("select",{is:o.is}):g.createElement("select"),o.multiple?f.multiple=!0:o.size&&(f.size=o.size);break;default:f=typeof o.is=="string"?g.createElement(h,{is:o.is}):g.createElement(h)}}f[Ie]=n,f[qe]=o;t:for(g=n.child;g!==null;){if(g.tag===5||g.tag===6)f.appendChild(g.stateNode);else if(g.tag!==4&&g.tag!==27&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===n)break t;for(;g.sibling===null;){if(g.return===null||g.return===n)break t;g=g.return}g.sibling.return=g.return,g=g.sibling}n.stateNode=f;t:switch(Je(f,h,o),h){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break t;case"img":o=!0;break t;default:o=!1}o&&$i(n)}}return le(n),$f(n,n.type,e===null?null:e.memoizedProps,n.pendingProps,a),null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==o&&$i(n);else{if(typeof o!="string"&&n.stateNode===null)throw Error(r(166));if(e=bt.current,Aa(n)){if(e=n.stateNode,a=n.memoizedProps,o=null,h=Xe,h!==null)switch(h.tag){case 27:case 5:o=h.memoizedProps}e[Ie]=n,e=!!(e.nodeValue===a||o!==null&&o.suppressHydrationWarning===!0||y_(e.nodeValue,a)),e||Is(n,!0)}else e=Tc(e).createTextNode(o),e[Ie]=n,n.stateNode=e}return le(n),null;case 31:if(a=n.memoizedState,e===null||e.memoizedState!==null){if(o=Aa(n),a!==null){if(e===null){if(!o)throw Error(r(318));if(e=n.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(557));e[Ie]=n}else Vr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;le(n),e=!1}else a=af(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=a),e=!0;if(!e)return n.flags&256?(Rn(n),n):(Rn(n),null);if((n.flags&128)!==0)throw Error(r(558))}return le(n),null;case 13:if(o=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(h=Aa(n),o!==null&&o.dehydrated!==null){if(e===null){if(!h)throw Error(r(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(r(317));h[Ie]=n}else Vr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;le(n),h=!1}else h=af(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(Rn(n),n):(Rn(n),null)}return Rn(n),(n.flags&128)!==0?(n.lanes=a,n):(a=o!==null,e=e!==null&&e.memoizedState!==null,a&&(o=n.child,h=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(h=o.alternate.memoizedState.cachePool.pool),f=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),f!==h&&(o.flags|=2048)),a!==e&&a&&(n.child.flags|=8192),ac(n,n.updateQueue),le(n),null);case 4:return J(),e===null&&_d(n.stateNode.containerInfo),le(n),null;case 10:return Qi(n.type),le(n),null;case 19:if(Y(Te),o=n.memoizedState,o===null)return le(n),null;if(h=(n.flags&128)!==0,f=o.rendering,f===null)if(h)nl(o,!1);else{if(ye!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(f=Yu(e),f!==null){for(n.flags|=128,nl(o,!1),e=f.updateQueue,n.updateQueue=e,ac(n,e),n.subtreeFlags=0,e=a,a=n.child;a!==null;)Xg(a,e),a=a.sibling;return et(Te,Te.current&1|2),kt&&Fi(n,o.treeForkCount),n.child}e=e.sibling}o.tail!==null&&ln()>hc&&(n.flags|=128,h=!0,nl(o,!1),n.lanes=4194304)}else{if(!h)if(e=Yu(f),e!==null){if(n.flags|=128,h=!0,e=e.updateQueue,n.updateQueue=e,ac(n,e),nl(o,!0),o.tail===null&&o.tailMode==="hidden"&&!f.alternate&&!kt)return le(n),null}else 2*ln()-o.renderingStartTime>hc&&a!==536870912&&(n.flags|=128,h=!0,nl(o,!1),n.lanes=4194304);o.isBackwards?(f.sibling=n.child,n.child=f):(e=o.last,e!==null?e.sibling=f:n.child=f,o.last=f)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=ln(),e.sibling=null,a=Te.current,et(Te,h?a&1|2:a&1),kt&&Fi(n,o.treeForkCount),e):(le(n),null);case 22:case 23:return Rn(n),vf(),o=n.memoizedState!==null,e!==null?e.memoizedState!==null!==o&&(n.flags|=8192):o&&(n.flags|=8192),o?(a&536870912)!==0&&(n.flags&128)===0&&(le(n),n.subtreeFlags&6&&(n.flags|=8192)):le(n),a=n.updateQueue,a!==null&&ac(n,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),o=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),o!==a&&(n.flags|=2048),e!==null&&Y(Ur),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),n.memoizedState.cache!==a&&(n.flags|=2048),Qi(De),le(n),null;case 25:return null;case 30:return null}throw Error(r(156,n.tag))}function zA(e,n){switch(sf(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return Qi(De),J(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return qt(n),null;case 31:if(n.memoizedState!==null){if(Rn(n),n.alternate===null)throw Error(r(340));Vr()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 13:if(Rn(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(r(340));Vr()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return Y(Te),null;case 4:return J(),null;case 10:return Qi(n.type),null;case 22:case 23:return Rn(n),vf(),e!==null&&Y(Ur),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return Qi(De),null;case 25:return null;default:return null}}function Ay(e,n){switch(sf(n),n.tag){case 3:Qi(De),J();break;case 26:case 27:case 5:qt(n);break;case 4:J();break;case 31:n.memoizedState!==null&&Rn(n);break;case 13:Rn(n);break;case 19:Y(Te);break;case 10:Qi(n.type);break;case 22:case 23:Rn(n),vf(),e!==null&&Y(Ur);break;case 24:Qi(De)}}function il(e,n){try{var a=n.updateQueue,o=a!==null?a.lastEffect:null;if(o!==null){var h=o.next;a=h;do{if((a.tag&e)===e){o=void 0;var f=a.create,g=a.inst;o=f(),g.destroy=o}a=a.next}while(a!==h)}}catch(E){Jt(n,n.return,E)}}function xs(e,n,a){try{var o=n.updateQueue,h=o!==null?o.lastEffect:null;if(h!==null){var f=h.next;o=f;do{if((o.tag&e)===e){var g=o.inst,E=g.destroy;if(E!==void 0){g.destroy=void 0,h=n;var R=a,k=E;try{k()}catch(H){Jt(h,R,H)}}}o=o.next}while(o!==f)}}catch(H){Jt(n,n.return,H)}}function Sy(e){var n=e.updateQueue;if(n!==null){var a=e.stateNode;try{dp(n,a)}catch(o){Jt(e,e.return,o)}}}function by(e,n,a){a.props=jr(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(o){Jt(e,n,o)}}function sl(e,n){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var o=e.stateNode;break;case 30:o=e.stateNode;break;default:o=e.stateNode}typeof a=="function"?e.refCleanup=a(o):a.current=o}}catch(h){Jt(e,n,h)}}function Ii(e,n){var a=e.ref,o=e.refCleanup;if(a!==null)if(typeof o=="function")try{o()}catch(h){Jt(e,n,h)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){Jt(e,n,h)}else a.current=null}function wy(e){var n=e.type,a=e.memoizedProps,o=e.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":a.autoFocus&&o.focus();break t;case"img":a.src?o.src=a.src:a.srcSet&&(o.srcset=a.srcSet)}}catch(h){Jt(e,e.return,h)}}function Zf(e,n,a){try{var o=e.stateNode;oS(o,e.type,a,n),o[qe]=n}catch(h){Jt(e,e.return,h)}}function Ry(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Bs(e.type)||e.tag===4}function Jf(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||Ry(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Bs(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Wf(e,n,a){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,n):(n=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,n.appendChild(e),a=a._reactRootContainer,a!=null||n.onclick!==null||(n.onclick=$n));else if(o!==4&&(o===27&&Bs(e.type)&&(a=e.stateNode,n=null),e=e.child,e!==null))for(Wf(e,n,a),e=e.sibling;e!==null;)Wf(e,n,a),e=e.sibling}function oc(e,n,a){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?a.insertBefore(e,n):a.appendChild(e);else if(o!==4&&(o===27&&Bs(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(oc(e,n,a),e=e.sibling;e!==null;)oc(e,n,a),e=e.sibling}function Iy(e){var n=e.stateNode,a=e.memoizedProps;try{for(var o=e.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);Je(n,o,a),n[Ie]=e,n[qe]=a}catch(f){Jt(e,e.return,f)}}var Zi=!1,Me=!1,td=!1,Cy=typeof WeakSet=="function"?WeakSet:Set,Fe=null;function jA(e,n){if(e=e.containerInfo,Td=Cc,e=jg(e),Qh(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else t:{a=(a=e.ownerDocument)&&a.defaultView||window;var o=a.getSelection&&a.getSelection();if(o&&o.rangeCount!==0){a=o.anchorNode;var h=o.anchorOffset,f=o.focusNode;o=o.focusOffset;try{a.nodeType,f.nodeType}catch{a=null;break t}var g=0,E=-1,R=-1,k=0,H=0,X=e,z=null;e:for(;;){for(var B;X!==a||h!==0&&X.nodeType!==3||(E=g+h),X!==f||o!==0&&X.nodeType!==3||(R=g+o),X.nodeType===3&&(g+=X.nodeValue.length),(B=X.firstChild)!==null;)z=X,X=B;for(;;){if(X===e)break e;if(z===a&&++k===h&&(E=g),z===f&&++H===o&&(R=g),(B=X.nextSibling)!==null)break;X=z,z=X.parentNode}X=B}a=E===-1||R===-1?null:{start:E,end:R}}else a=null}a=a||{start:0,end:0}}else a=null;for(Ad={focusedElem:e,selectionRange:a},Cc=!1,Fe=n;Fe!==null;)if(n=Fe,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,Fe=e;else for(;Fe!==null;){switch(n=Fe,f=n.alternate,e=n.flags,n.tag){case 0:if((e&4)!==0&&(e=n.updateQueue,e=e!==null?e.events:null,e!==null))for(a=0;a<e.length;a++)h=e[a],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&f!==null){e=void 0,a=n,h=f.memoizedProps,f=f.memoizedState,o=a.stateNode;try{var ot=jr(a.type,h);e=o.getSnapshotBeforeUpdate(ot,f),o.__reactInternalSnapshotBeforeUpdate=e}catch(gt){Jt(a,a.return,gt)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,a=e.nodeType,a===9)wd(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":wd(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(r(163))}if(e=n.sibling,e!==null){e.return=n.return,Fe=e;break}Fe=n.return}}function Ny(e,n,a){var o=a.flags;switch(a.tag){case 0:case 11:case 15:Wi(e,a),o&4&&il(5,a);break;case 1:if(Wi(e,a),o&4)if(e=a.stateNode,n===null)try{e.componentDidMount()}catch(g){Jt(a,a.return,g)}else{var h=jr(a.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(h,n,e.__reactInternalSnapshotBeforeUpdate)}catch(g){Jt(a,a.return,g)}}o&64&&Sy(a),o&512&&sl(a,a.return);break;case 3:if(Wi(e,a),o&64&&(e=a.updateQueue,e!==null)){if(n=null,a.child!==null)switch(a.child.tag){case 27:case 5:n=a.child.stateNode;break;case 1:n=a.child.stateNode}try{dp(e,n)}catch(g){Jt(a,a.return,g)}}break;case 27:n===null&&o&4&&Iy(a);case 26:case 5:Wi(e,a),n===null&&o&4&&wy(a),o&512&&sl(a,a.return);break;case 12:Wi(e,a);break;case 31:Wi(e,a),o&4&&Vy(e,a);break;case 13:Wi(e,a),o&4&&My(e,a),o&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=XA.bind(null,a),gS(e,a))));break;case 22:if(o=a.memoizedState!==null||Zi,!o){n=n!==null&&n.memoizedState!==null||Me,h=Zi;var f=Me;Zi=o,(Me=n)&&!f?ts(e,a,(a.subtreeFlags&8772)!==0):Wi(e,a),Zi=h,Me=f}break;case 30:break;default:Wi(e,a)}}function Dy(e){var n=e.alternate;n!==null&&(e.alternate=null,Dy(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&ra(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var he=null,mn=!1;function Ji(e,n,a){for(a=a.child;a!==null;)Oy(e,n,a),a=a.sibling}function Oy(e,n,a){if(Ye&&typeof Ye.onCommitFiberUnmount=="function")try{Ye.onCommitFiberUnmount(Qn,a)}catch{}switch(a.tag){case 26:Me||Ii(a,n),Ji(e,n,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Me||Ii(a,n);var o=he,h=mn;Bs(a.type)&&(he=a.stateNode,mn=!1),Ji(e,n,a),dl(a.stateNode),he=o,mn=h;break;case 5:Me||Ii(a,n);case 6:if(o=he,h=mn,he=null,Ji(e,n,a),he=o,mn=h,he!==null)if(mn)try{(he.nodeType===9?he.body:he.nodeName==="HTML"?he.ownerDocument.body:he).removeChild(a.stateNode)}catch(f){Jt(a,n,f)}else try{he.removeChild(a.stateNode)}catch(f){Jt(a,n,f)}break;case 18:he!==null&&(mn?(e=he,S_(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),Ha(e)):S_(he,a.stateNode));break;case 4:o=he,h=mn,he=a.stateNode.containerInfo,mn=!0,Ji(e,n,a),he=o,mn=h;break;case 0:case 11:case 14:case 15:xs(2,a,n),Me||xs(4,a,n),Ji(e,n,a);break;case 1:Me||(Ii(a,n),o=a.stateNode,typeof o.componentWillUnmount=="function"&&by(a,n,o)),Ji(e,n,a);break;case 21:Ji(e,n,a);break;case 22:Me=(o=Me)||a.memoizedState!==null,Ji(e,n,a),Me=o;break;default:Ji(e,n,a)}}function Vy(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Ha(e)}catch(a){Jt(n,n.return,a)}}}function My(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Ha(e)}catch(a){Jt(n,n.return,a)}}function BA(e){switch(e.tag){case 31:case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new Cy),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new Cy),n;default:throw Error(r(435,e.tag))}}function lc(e,n){var a=BA(e);n.forEach(function(o){if(!a.has(o)){a.add(o);var h=$A.bind(null,e,o);o.then(h,h)}})}function gn(e,n){var a=n.deletions;if(a!==null)for(var o=0;o<a.length;o++){var h=a[o],f=e,g=n,E=g;t:for(;E!==null;){switch(E.tag){case 27:if(Bs(E.type)){he=E.stateNode,mn=!1;break t}break;case 5:he=E.stateNode,mn=!1;break t;case 3:case 4:he=E.stateNode.containerInfo,mn=!0;break t}E=E.return}if(he===null)throw Error(r(160));Oy(f,g,h),he=null,mn=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)xy(n,e),n=n.sibling}var ni=null;function xy(e,n){var a=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:gn(n,e),pn(e),o&4&&(xs(3,e,e.return),il(3,e),xs(5,e,e.return));break;case 1:gn(n,e),pn(e),o&512&&(Me||a===null||Ii(a,a.return)),o&64&&Zi&&(e=e.updateQueue,e!==null&&(o=e.callbacks,o!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?o:a.concat(o))));break;case 26:var h=ni;if(gn(n,e),pn(e),o&512&&(Me||a===null||Ii(a,a.return)),o&4){var f=a!==null?a.memoizedState:null;if(o=e.memoizedState,a===null)if(o===null)if(e.stateNode===null){t:{o=e.type,a=e.memoizedProps,h=h.ownerDocument||h;e:switch(o){case"title":f=h.getElementsByTagName("title")[0],(!f||f[di]||f[Ie]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(o),h.head.insertBefore(f,h.querySelector("head > title"))),Je(f,o,a),f[Ie]=e,Ce(f),o=f;break t;case"link":var g=x_("link","href",h).get(o+(a.href||""));if(g){for(var E=0;E<g.length;E++)if(f=g[E],f.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&f.getAttribute("rel")===(a.rel==null?null:a.rel)&&f.getAttribute("title")===(a.title==null?null:a.title)&&f.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){g.splice(E,1);break e}}f=h.createElement(o),Je(f,o,a),h.head.appendChild(f);break;case"meta":if(g=x_("meta","content",h).get(o+(a.content||""))){for(E=0;E<g.length;E++)if(f=g[E],f.getAttribute("content")===(a.content==null?null:""+a.content)&&f.getAttribute("name")===(a.name==null?null:a.name)&&f.getAttribute("property")===(a.property==null?null:a.property)&&f.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&f.getAttribute("charset")===(a.charSet==null?null:a.charSet)){g.splice(E,1);break e}}f=h.createElement(o),Je(f,o,a),h.head.appendChild(f);break;default:throw Error(r(468,o))}f[Ie]=e,Ce(f),o=f}e.stateNode=o}else U_(h,e.type,e.stateNode);else e.stateNode=M_(h,o,e.memoizedProps);else f!==o?(f===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):f.count--,o===null?U_(h,e.type,e.stateNode):M_(h,o,e.memoizedProps)):o===null&&e.stateNode!==null&&Zf(e,e.memoizedProps,a.memoizedProps)}break;case 27:gn(n,e),pn(e),o&512&&(Me||a===null||Ii(a,a.return)),a!==null&&o&4&&Zf(e,e.memoizedProps,a.memoizedProps);break;case 5:if(gn(n,e),pn(e),o&512&&(Me||a===null||Ii(a,a.return)),e.flags&32){h=e.stateNode;try{dn(h,"")}catch(ot){Jt(e,e.return,ot)}}o&4&&e.stateNode!=null&&(h=e.memoizedProps,Zf(e,h,a!==null?a.memoizedProps:h)),o&1024&&(td=!0);break;case 6:if(gn(n,e),pn(e),o&4){if(e.stateNode===null)throw Error(r(162));o=e.memoizedProps,a=e.stateNode;try{a.nodeValue=o}catch(ot){Jt(e,e.return,ot)}}break;case 3:if(bc=null,h=ni,ni=Ac(n.containerInfo),gn(n,e),ni=h,pn(e),o&4&&a!==null&&a.memoizedState.isDehydrated)try{Ha(n.containerInfo)}catch(ot){Jt(e,e.return,ot)}td&&(td=!1,Uy(e));break;case 4:o=ni,ni=Ac(e.stateNode.containerInfo),gn(n,e),pn(e),ni=o;break;case 12:gn(n,e),pn(e);break;case 31:gn(n,e),pn(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,lc(e,o)));break;case 13:gn(n,e),pn(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(cc=ln()),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,lc(e,o)));break;case 22:h=e.memoizedState!==null;var R=a!==null&&a.memoizedState!==null,k=Zi,H=Me;if(Zi=k||h,Me=H||R,gn(n,e),Me=H,Zi=k,pn(e),o&8192)t:for(n=e.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(a===null||R||Zi||Me||Br(e)),a=null,n=e;;){if(n.tag===5||n.tag===26){if(a===null){R=a=n;try{if(f=R.stateNode,h)g=f.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none";else{E=R.stateNode;var X=R.memoizedProps.style,z=X!=null&&X.hasOwnProperty("display")?X.display:null;E.style.display=z==null||typeof z=="boolean"?"":(""+z).trim()}}catch(ot){Jt(R,R.return,ot)}}}else if(n.tag===6){if(a===null){R=n;try{R.stateNode.nodeValue=h?"":R.memoizedProps}catch(ot){Jt(R,R.return,ot)}}}else if(n.tag===18){if(a===null){R=n;try{var B=R.stateNode;h?b_(B,!0):b_(R.stateNode,!1)}catch(ot){Jt(R,R.return,ot)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break t;for(;n.sibling===null;){if(n.return===null||n.return===e)break t;a===n&&(a=null),n=n.return}a===n&&(a=null),n.sibling.return=n.return,n=n.sibling}o&4&&(o=e.updateQueue,o!==null&&(a=o.retryQueue,a!==null&&(o.retryQueue=null,lc(e,a))));break;case 19:gn(n,e),pn(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,lc(e,o)));break;case 30:break;case 21:break;default:gn(n,e),pn(e)}}function pn(e){var n=e.flags;if(n&2){try{for(var a,o=e.return;o!==null;){if(Ry(o)){a=o;break}o=o.return}if(a==null)throw Error(r(160));switch(a.tag){case 27:var h=a.stateNode,f=Jf(e);oc(e,f,h);break;case 5:var g=a.stateNode;a.flags&32&&(dn(g,""),a.flags&=-33);var E=Jf(e);oc(e,E,g);break;case 3:case 4:var R=a.stateNode.containerInfo,k=Jf(e);Wf(e,k,R);break;default:throw Error(r(161))}}catch(H){Jt(e,e.return,H)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function Uy(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;Uy(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function Wi(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)Ny(e,n.alternate,n),n=n.sibling}function Br(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:xs(4,n,n.return),Br(n);break;case 1:Ii(n,n.return);var a=n.stateNode;typeof a.componentWillUnmount=="function"&&by(n,n.return,a),Br(n);break;case 27:dl(n.stateNode);case 26:case 5:Ii(n,n.return),Br(n);break;case 22:n.memoizedState===null&&Br(n);break;case 30:Br(n);break;default:Br(n)}e=e.sibling}}function ts(e,n,a){for(a=a&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var o=n.alternate,h=e,f=n,g=f.flags;switch(f.tag){case 0:case 11:case 15:ts(h,f,a),il(4,f);break;case 1:if(ts(h,f,a),o=f,h=o.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(k){Jt(o,o.return,k)}if(o=f,h=o.updateQueue,h!==null){var E=o.stateNode;try{var R=h.shared.hiddenCallbacks;if(R!==null)for(h.shared.hiddenCallbacks=null,h=0;h<R.length;h++)fp(R[h],E)}catch(k){Jt(o,o.return,k)}}a&&g&64&&Sy(f),sl(f,f.return);break;case 27:Iy(f);case 26:case 5:ts(h,f,a),a&&o===null&&g&4&&wy(f),sl(f,f.return);break;case 12:ts(h,f,a);break;case 31:ts(h,f,a),a&&g&4&&Vy(h,f);break;case 13:ts(h,f,a),a&&g&4&&My(h,f);break;case 22:f.memoizedState===null&&ts(h,f,a),sl(f,f.return);break;case 30:break;default:ts(h,f,a)}n=n.sibling}}function ed(e,n){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&Fo(a))}function nd(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Fo(e))}function ii(e,n,a,o){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Ly(e,n,a,o),n=n.sibling}function Ly(e,n,a,o){var h=n.flags;switch(n.tag){case 0:case 11:case 15:ii(e,n,a,o),h&2048&&il(9,n);break;case 1:ii(e,n,a,o);break;case 3:ii(e,n,a,o),h&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Fo(e)));break;case 12:if(h&2048){ii(e,n,a,o),e=n.stateNode;try{var f=n.memoizedProps,g=f.id,E=f.onPostCommit;typeof E=="function"&&E(g,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(R){Jt(n,n.return,R)}}else ii(e,n,a,o);break;case 31:ii(e,n,a,o);break;case 13:ii(e,n,a,o);break;case 23:break;case 22:f=n.stateNode,g=n.alternate,n.memoizedState!==null?f._visibility&2?ii(e,n,a,o):rl(e,n):f._visibility&2?ii(e,n,a,o):(f._visibility|=2,Va(e,n,a,o,(n.subtreeFlags&10256)!==0||!1)),h&2048&&ed(g,n);break;case 24:ii(e,n,a,o),h&2048&&nd(n.alternate,n);break;default:ii(e,n,a,o)}}function Va(e,n,a,o,h){for(h=h&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=e,g=n,E=a,R=o,k=g.flags;switch(g.tag){case 0:case 11:case 15:Va(f,g,E,R,h),il(8,g);break;case 23:break;case 22:var H=g.stateNode;g.memoizedState!==null?H._visibility&2?Va(f,g,E,R,h):rl(f,g):(H._visibility|=2,Va(f,g,E,R,h)),h&&k&2048&&ed(g.alternate,g);break;case 24:Va(f,g,E,R,h),h&&k&2048&&nd(g.alternate,g);break;default:Va(f,g,E,R,h)}n=n.sibling}}function rl(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var a=e,o=n,h=o.flags;switch(o.tag){case 22:rl(a,o),h&2048&&ed(o.alternate,o);break;case 24:rl(a,o),h&2048&&nd(o.alternate,o);break;default:rl(a,o)}n=n.sibling}}var al=8192;function Ma(e,n,a){if(e.subtreeFlags&al)for(e=e.child;e!==null;)Py(e,n,a),e=e.sibling}function Py(e,n,a){switch(e.tag){case 26:Ma(e,n,a),e.flags&al&&e.memoizedState!==null&&IS(a,ni,e.memoizedState,e.memoizedProps);break;case 5:Ma(e,n,a);break;case 3:case 4:var o=ni;ni=Ac(e.stateNode.containerInfo),Ma(e,n,a),ni=o;break;case 22:e.memoizedState===null&&(o=e.alternate,o!==null&&o.memoizedState!==null?(o=al,al=16777216,Ma(e,n,a),al=o):Ma(e,n,a));break;default:Ma(e,n,a)}}function ky(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function ol(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var o=n[a];Fe=o,jy(o,e)}ky(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)zy(e),e=e.sibling}function zy(e){switch(e.tag){case 0:case 11:case 15:ol(e),e.flags&2048&&xs(9,e,e.return);break;case 3:ol(e);break;case 12:ol(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,uc(e)):ol(e);break;default:ol(e)}}function uc(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var o=n[a];Fe=o,jy(o,e)}ky(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:xs(8,n,n.return),uc(n);break;case 22:a=n.stateNode,a._visibility&2&&(a._visibility&=-3,uc(n));break;default:uc(n)}e=e.sibling}}function jy(e,n){for(;Fe!==null;){var a=Fe;switch(a.tag){case 0:case 11:case 15:xs(8,a,n);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var o=a.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:Fo(a.memoizedState.cache)}if(o=a.child,o!==null)o.return=a,Fe=o;else t:for(a=e;Fe!==null;){o=Fe;var h=o.sibling,f=o.return;if(Dy(o),o===a){Fe=null;break t}if(h!==null){h.return=f,Fe=h;break t}Fe=f}}}var qA={getCacheForType:function(e){var n=$e(De),a=n.data.get(e);return a===void 0&&(a=e(),n.data.set(e,a)),a},cacheSignal:function(){return $e(De).controller.signal}},HA=typeof WeakMap=="function"?WeakMap:Map,Kt=0,re=null,Ct=null,Vt=0,Zt=0,In=null,Us=!1,xa=!1,id=!1,es=0,ye=0,Ls=0,qr=0,sd=0,Cn=0,Ua=0,ll=null,yn=null,rd=!1,cc=0,By=0,hc=1/0,fc=null,Ps=null,je=0,ks=null,La=null,ns=0,ad=0,od=null,qy=null,ul=0,ld=null;function Nn(){return(Kt&2)!==0&&Vt!==0?Vt&-Vt:q.T!==null?md():du()}function Hy(){if(Cn===0)if((Vt&536870912)===0||kt){var e=gr;gr<<=1,(gr&3932160)===0&&(gr=262144),Cn=e}else Cn=536870912;return e=wn.current,e!==null&&(e.flags|=32),Cn}function _n(e,n,a){(e===re&&(Zt===2||Zt===9)||e.cancelPendingCommit!==null)&&(Pa(e,0),zs(e,Vt,Cn,!1)),pr(e,a),((Kt&2)===0||e!==re)&&(e===re&&((Kt&2)===0&&(qr|=a),ye===4&&zs(e,Vt,Cn,!1)),Ci(e))}function Fy(e,n,a){if((Kt&6)!==0)throw Error(r(327));var o=!a&&(n&127)===0&&(n&e.expiredLanes)===0||Yn(e,n),h=o?QA(e,n):cd(e,n,!0),f=o;do{if(h===0){xa&&!o&&zs(e,n,0,!1);break}else{if(a=e.current.alternate,f&&!FA(a)){h=cd(e,n,!1),f=!1;continue}if(h===2){if(f=n,e.errorRecoveryDisabledLanes&f)var g=0;else g=e.pendingLanes&-536870913,g=g!==0?g:g&536870912?536870912:0;if(g!==0){n=g;t:{var E=e;h=ll;var R=E.current.memoizedState.isDehydrated;if(R&&(Pa(E,g).flags|=256),g=cd(E,g,!1),g!==2){if(id&&!R){E.errorRecoveryDisabledLanes|=f,qr|=f,h=4;break t}f=yn,yn=h,f!==null&&(yn===null?yn=f:yn.push.apply(yn,f))}h=g}if(f=!1,h!==2)continue}}if(h===1){Pa(e,0),zs(e,n,0,!0);break}t:{switch(o=e,f=h,f){case 0:case 1:throw Error(r(345));case 4:if((n&4194048)!==n)break;case 6:zs(o,n,Cn,!Us);break t;case 2:yn=null;break;case 3:case 5:break;default:throw Error(r(329))}if((n&62914560)===n&&(h=cc+300-ln(),10<h)){if(zs(o,n,Cn,!Us),ci(o,0,!0)!==0)break t;ns=n,o.timeoutHandle=T_(Gy.bind(null,o,a,yn,fc,rd,n,Cn,qr,Ua,Us,f,"Throttled",-0,0),h);break t}Gy(o,a,yn,fc,rd,n,Cn,qr,Ua,Us,f,null,-0,0)}}break}while(!0);Ci(e)}function Gy(e,n,a,o,h,f,g,E,R,k,H,X,z,B){if(e.timeoutHandle=-1,X=n.subtreeFlags,X&8192||(X&16785408)===16785408){X={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:$n},Py(n,f,X);var ot=(f&62914560)===f?cc-ln():(f&4194048)===f?By-ln():0;if(ot=CS(X,ot),ot!==null){ns=f,e.cancelPendingCommit=ot(Wy.bind(null,e,n,f,a,o,h,g,E,R,H,X,null,z,B)),zs(e,f,g,!k);return}}Wy(e,n,f,a,o,h,g,E,R)}function FA(e){for(var n=e;;){var a=n.tag;if((a===0||a===11||a===15)&&n.flags&16384&&(a=n.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var o=0;o<a.length;o++){var h=a[o],f=h.getSnapshot;h=h.value;try{if(!Sn(f(),h))return!1}catch{return!1}}if(a=n.child,n.subtreeFlags&16384&&a!==null)a.return=n,n=a;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function zs(e,n,a,o){n&=~sd,n&=~qr,e.suspendedLanes|=n,e.pingedLanes&=~n,o&&(e.warmLanes|=n),o=e.expirationTimes;for(var h=n;0<h;){var f=31-ve(h),g=1<<f;o[f]=-1,h&=~g}a!==0&&yr(e,a,n)}function dc(){return(Kt&6)===0?(cl(0),!1):!0}function ud(){if(Ct!==null){if(Zt===0)var e=Ct.return;else e=Ct,Gi=Mr=null,wf(e),Ia=null,Qo=0,e=Ct;for(;e!==null;)Ay(e.alternate,e),e=e.return;Ct=null}}function Pa(e,n){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,cS(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),ns=0,ud(),re=e,Ct=a=Hi(e.current,null),Vt=n,Zt=0,In=null,Us=!1,xa=Yn(e,n),id=!1,Ua=Cn=sd=qr=Ls=ye=0,yn=ll=null,rd=!1,(n&8)!==0&&(n|=n&32);var o=e.entangledLanes;if(o!==0)for(e=e.entanglements,o&=n;0<o;){var h=31-ve(o),f=1<<h;n|=e[h],o&=~f}return es=n,xu(),a}function Qy(e,n){Rt=null,q.H=tl,n===Ra||n===qu?(n=lp(),Zt=3):n===df?(n=lp(),Zt=4):Zt=n===Bf?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,In=n,Ct===null&&(ye=1,nc(e,zn(n,e.current)))}function Yy(){var e=wn.current;return e===null?!0:(Vt&4194048)===Vt?Hn===null:(Vt&62914560)===Vt||(Vt&536870912)!==0?e===Hn:!1}function Ky(){var e=q.H;return q.H=tl,e===null?tl:e}function Xy(){var e=q.A;return q.A=qA,e}function mc(){ye=4,Us||(Vt&4194048)!==Vt&&wn.current!==null||(xa=!0),(Ls&134217727)===0&&(qr&134217727)===0||re===null||zs(re,Vt,Cn,!1)}function cd(e,n,a){var o=Kt;Kt|=2;var h=Ky(),f=Xy();(re!==e||Vt!==n)&&(fc=null,Pa(e,n)),n=!1;var g=ye;t:do try{if(Zt!==0&&Ct!==null){var E=Ct,R=In;switch(Zt){case 8:ud(),g=6;break t;case 3:case 2:case 9:case 6:wn.current===null&&(n=!0);var k=Zt;if(Zt=0,In=null,ka(e,E,R,k),a&&xa){g=0;break t}break;default:k=Zt,Zt=0,In=null,ka(e,E,R,k)}}GA(),g=ye;break}catch(H){Qy(e,H)}while(!0);return n&&e.shellSuspendCounter++,Gi=Mr=null,Kt=o,q.H=h,q.A=f,Ct===null&&(re=null,Vt=0,xu()),g}function GA(){for(;Ct!==null;)$y(Ct)}function QA(e,n){var a=Kt;Kt|=2;var o=Ky(),h=Xy();re!==e||Vt!==n?(fc=null,hc=ln()+500,Pa(e,n)):xa=Yn(e,n);t:do try{if(Zt!==0&&Ct!==null){n=Ct;var f=In;e:switch(Zt){case 1:Zt=0,In=null,ka(e,n,f,1);break;case 2:case 9:if(ap(f)){Zt=0,In=null,Zy(n);break}n=function(){Zt!==2&&Zt!==9||re!==e||(Zt=7),Ci(e)},f.then(n,n);break t;case 3:Zt=7;break t;case 4:Zt=5;break t;case 7:ap(f)?(Zt=0,In=null,Zy(n)):(Zt=0,In=null,ka(e,n,f,7));break;case 5:var g=null;switch(Ct.tag){case 26:g=Ct.memoizedState;case 5:case 27:var E=Ct;if(g?L_(g):E.stateNode.complete){Zt=0,In=null;var R=E.sibling;if(R!==null)Ct=R;else{var k=E.return;k!==null?(Ct=k,gc(k)):Ct=null}break e}}Zt=0,In=null,ka(e,n,f,5);break;case 6:Zt=0,In=null,ka(e,n,f,6);break;case 8:ud(),ye=6;break t;default:throw Error(r(462))}}YA();break}catch(H){Qy(e,H)}while(!0);return Gi=Mr=null,q.H=o,q.A=h,Kt=a,Ct!==null?0:(re=null,Vt=0,xu(),ye)}function YA(){for(;Ct!==null&&!zh();)$y(Ct)}function $y(e){var n=Ey(e.alternate,e,es);e.memoizedProps=e.pendingProps,n===null?gc(e):Ct=n}function Zy(e){var n=e,a=n.alternate;switch(n.tag){case 15:case 0:n=my(a,n,n.pendingProps,n.type,void 0,Vt);break;case 11:n=my(a,n,n.pendingProps,n.type.render,n.ref,Vt);break;case 5:wf(n);default:Ay(a,n),n=Ct=Xg(n,es),n=Ey(a,n,es)}e.memoizedProps=e.pendingProps,n===null?gc(e):Ct=n}function ka(e,n,a,o){Gi=Mr=null,wf(n),Ia=null,Qo=0;var h=n.return;try{if(UA(e,h,n,a,Vt)){ye=1,nc(e,zn(a,e.current)),Ct=null;return}}catch(f){if(h!==null)throw Ct=h,f;ye=1,nc(e,zn(a,e.current)),Ct=null;return}n.flags&32768?(kt||o===1?e=!0:xa||(Vt&536870912)!==0?e=!1:(Us=e=!0,(o===2||o===9||o===3||o===6)&&(o=wn.current,o!==null&&o.tag===13&&(o.flags|=16384))),Jy(n,e)):gc(n)}function gc(e){var n=e;do{if((n.flags&32768)!==0){Jy(n,Us);return}e=n.return;var a=kA(n.alternate,n,es);if(a!==null){Ct=a;return}if(n=n.sibling,n!==null){Ct=n;return}Ct=n=e}while(n!==null);ye===0&&(ye=5)}function Jy(e,n){do{var a=zA(e.alternate,e);if(a!==null){a.flags&=32767,Ct=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!n&&(e=e.sibling,e!==null)){Ct=e;return}Ct=e=a}while(e!==null);ye=6,Ct=null}function Wy(e,n,a,o,h,f,g,E,R){e.cancelPendingCommit=null;do pc();while(je!==0);if((Kt&6)!==0)throw Error(r(327));if(n!==null){if(n===e.current)throw Error(r(177));if(f=n.lanes|n.childLanes,f|=Zh,qh(e,a,f,g,E,R),e===re&&(Ct=re=null,Vt=0),La=n,ks=e,ns=a,ad=f,od=h,qy=o,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,ZA(gs,function(){return s_(),null})):(e.callbackNode=null,e.callbackPriority=0),o=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||o){o=q.T,q.T=null,h=nt.p,nt.p=2,g=Kt,Kt|=4;try{jA(e,n,a)}finally{Kt=g,nt.p=h,q.T=o}}je=1,t_(),e_(),n_()}}function t_(){if(je===1){je=0;var e=ks,n=La,a=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||a){a=q.T,q.T=null;var o=nt.p;nt.p=2;var h=Kt;Kt|=4;try{xy(n,e);var f=Ad,g=jg(e.containerInfo),E=f.focusedElem,R=f.selectionRange;if(g!==E&&E&&E.ownerDocument&&zg(E.ownerDocument.documentElement,E)){if(R!==null&&Qh(E)){var k=R.start,H=R.end;if(H===void 0&&(H=k),"selectionStart"in E)E.selectionStart=k,E.selectionEnd=Math.min(H,E.value.length);else{var X=E.ownerDocument||document,z=X&&X.defaultView||window;if(z.getSelection){var B=z.getSelection(),ot=E.textContent.length,gt=Math.min(R.start,ot),ne=R.end===void 0?gt:Math.min(R.end,ot);!B.extend&&gt>ne&&(g=ne,ne=gt,gt=g);var x=kg(E,gt),O=kg(E,ne);if(x&&O&&(B.rangeCount!==1||B.anchorNode!==x.node||B.anchorOffset!==x.offset||B.focusNode!==O.node||B.focusOffset!==O.offset)){var P=X.createRange();P.setStart(x.node,x.offset),B.removeAllRanges(),gt>ne?(B.addRange(P),B.extend(O.node,O.offset)):(P.setEnd(O.node,O.offset),B.addRange(P))}}}}for(X=[],B=E;B=B.parentNode;)B.nodeType===1&&X.push({element:B,left:B.scrollLeft,top:B.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<X.length;E++){var Q=X[E];Q.element.scrollLeft=Q.left,Q.element.scrollTop=Q.top}}Cc=!!Td,Ad=Td=null}finally{Kt=h,nt.p=o,q.T=a}}e.current=n,je=2}}function e_(){if(je===2){je=0;var e=ks,n=La,a=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||a){a=q.T,q.T=null;var o=nt.p;nt.p=2;var h=Kt;Kt|=4;try{Ny(e,n.alternate,n)}finally{Kt=h,nt.p=o,q.T=a}}je=3}}function n_(){if(je===4||je===3){je=0,au();var e=ks,n=La,a=ns,o=qy;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?je=5:(je=0,La=ks=null,i_(e,e.pendingLanes));var h=e.pendingLanes;if(h===0&&(Ps=null),zi(a),n=n.stateNode,Ye&&typeof Ye.onCommitFiberRoot=="function")try{Ye.onCommitFiberRoot(Qn,n,void 0,(n.current.flags&128)===128)}catch{}if(o!==null){n=q.T,h=nt.p,nt.p=2,q.T=null;try{for(var f=e.onRecoverableError,g=0;g<o.length;g++){var E=o[g];f(E.value,{componentStack:E.stack})}}finally{q.T=n,nt.p=h}}(ns&3)!==0&&pc(),Ci(e),h=e.pendingLanes,(a&261930)!==0&&(h&42)!==0?e===ld?ul++:(ul=0,ld=e):ul=0,cl(0)}}function i_(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,Fo(n)))}function pc(){return t_(),e_(),n_(),s_()}function s_(){if(je!==5)return!1;var e=ks,n=ad;ad=0;var a=zi(ns),o=q.T,h=nt.p;try{nt.p=32>a?32:a,q.T=null,a=od,od=null;var f=ks,g=ns;if(je=0,La=ks=null,ns=0,(Kt&6)!==0)throw Error(r(331));var E=Kt;if(Kt|=4,zy(f.current),Ly(f,f.current,g,a),Kt=E,cl(0,!1),Ye&&typeof Ye.onPostCommitFiberRoot=="function")try{Ye.onPostCommitFiberRoot(Qn,f)}catch{}return!0}finally{nt.p=h,q.T=o,i_(e,n)}}function r_(e,n,a){n=zn(a,n),n=jf(e.stateNode,n,2),e=Os(e,n,2),e!==null&&(pr(e,2),Ci(e))}function Jt(e,n,a){if(e.tag===3)r_(e,e,a);else for(;n!==null;){if(n.tag===3){r_(n,e,a);break}else if(n.tag===1){var o=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(Ps===null||!Ps.has(o))){e=zn(a,e),a=ay(2),o=Os(n,a,2),o!==null&&(oy(a,o,n,e),pr(o,2),Ci(o));break}}n=n.return}}function hd(e,n,a){var o=e.pingCache;if(o===null){o=e.pingCache=new HA;var h=new Set;o.set(n,h)}else h=o.get(n),h===void 0&&(h=new Set,o.set(n,h));h.has(a)||(id=!0,h.add(a),e=KA.bind(null,e,n,a),n.then(e,e))}function KA(e,n,a){var o=e.pingCache;o!==null&&o.delete(n),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,re===e&&(Vt&a)===a&&(ye===4||ye===3&&(Vt&62914560)===Vt&&300>ln()-cc?(Kt&2)===0&&Pa(e,0):sd|=a,Ua===Vt&&(Ua=0)),Ci(e)}function a_(e,n){n===0&&(n=fu()),e=Dr(e,n),e!==null&&(pr(e,n),Ci(e))}function XA(e){var n=e.memoizedState,a=0;n!==null&&(a=n.retryLane),a_(e,a)}function $A(e,n){var a=0;switch(e.tag){case 31:case 13:var o=e.stateNode,h=e.memoizedState;h!==null&&(a=h.retryLane);break;case 19:o=e.stateNode;break;case 22:o=e.stateNode._retryCache;break;default:throw Error(r(314))}o!==null&&o.delete(n),a_(e,a)}function ZA(e,n){return ze(e,n)}var yc=null,za=null,fd=!1,_c=!1,dd=!1,js=0;function Ci(e){e!==za&&e.next===null&&(za===null?yc=za=e:za=za.next=e),_c=!0,fd||(fd=!0,WA())}function cl(e,n){if(!dd&&_c){dd=!0;do for(var a=!1,o=yc;o!==null;){if(e!==0){var h=o.pendingLanes;if(h===0)var f=0;else{var g=o.suspendedLanes,E=o.pingedLanes;f=(1<<31-ve(42|e)+1)-1,f&=h&~(g&~E),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(a=!0,c_(o,f))}else f=Vt,f=ci(o,o===re?f:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(f&3)===0||Yn(o,f)||(a=!0,c_(o,f));o=o.next}while(a);dd=!1}}function JA(){o_()}function o_(){_c=fd=!1;var e=0;js!==0&&uS()&&(e=js);for(var n=ln(),a=null,o=yc;o!==null;){var h=o.next,f=l_(o,n);f===0?(o.next=null,a===null?yc=h:a.next=h,h===null&&(za=a)):(a=o,(e!==0||(f&3)!==0)&&(_c=!0)),o=h}je!==0&&je!==5||cl(e),js!==0&&(js=0)}function l_(e,n){for(var a=e.suspendedLanes,o=e.pingedLanes,h=e.expirationTimes,f=e.pendingLanes&-62914561;0<f;){var g=31-ve(f),E=1<<g,R=h[g];R===-1?((E&a)===0||(E&o)!==0)&&(h[g]=Bh(E,n)):R<=n&&(e.expiredLanes|=E),f&=~E}if(n=re,a=Vt,a=ci(e,e===n?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o=e.callbackNode,a===0||e===n&&(Zt===2||Zt===9)||e.cancelPendingCommit!==null)return o!==null&&o!==null&&ms(o),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||Yn(e,a)){if(n=a&-a,n===e.callbackPriority)return n;switch(o!==null&&ms(o),zi(a)){case 2:case 8:a=Eo;break;case 32:a=gs;break;case 268435456:a=ou;break;default:a=gs}return o=u_.bind(null,e),a=ze(a,o),e.callbackPriority=n,e.callbackNode=a,n}return o!==null&&o!==null&&ms(o),e.callbackPriority=2,e.callbackNode=null,2}function u_(e,n){if(je!==0&&je!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(pc()&&e.callbackNode!==a)return null;var o=Vt;return o=ci(e,e===re?o:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o===0?null:(Fy(e,o,n),l_(e,ln()),e.callbackNode!=null&&e.callbackNode===a?u_.bind(null,e):null)}function c_(e,n){if(pc())return null;Fy(e,n,!0)}function WA(){hS(function(){(Kt&6)!==0?ze(vo,JA):o_()})}function md(){if(js===0){var e=ba;e===0&&(e=li,li<<=1,(li&261888)===0&&(li=256)),js=e}return js}function h_(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:ua(""+e)}function f_(e,n){var a=n.ownerDocument.createElement("input");return a.name=n.name,a.value=n.value,e.id&&a.setAttribute("form",e.id),n.parentNode.insertBefore(a,n),e=new FormData(e),a.parentNode.removeChild(a),e}function tS(e,n,a,o,h){if(n==="submit"&&a&&a.stateNode===h){var f=h_((h[qe]||null).action),g=o.submitter;g&&(n=(n=g[qe]||null)?h_(n.formAction):g.getAttribute("formAction"),n!==null&&(f=n,g=null));var E=new Ti("action","action",null,o,h);e.push({event:E,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(js!==0){var R=g?f_(h,g):new FormData(h);xf(a,{pending:!0,data:R,method:h.method,action:f},null,R)}}else typeof f=="function"&&(E.preventDefault(),R=g?f_(h,g):new FormData(h),xf(a,{pending:!0,data:R,method:h.method,action:f},f,R))},currentTarget:h}]})}}for(var gd=0;gd<$h.length;gd++){var pd=$h[gd],eS=pd.toLowerCase(),nS=pd[0].toUpperCase()+pd.slice(1);ei(eS,"on"+nS)}ei(Hg,"onAnimationEnd"),ei(Fg,"onAnimationIteration"),ei(Gg,"onAnimationStart"),ei("dblclick","onDoubleClick"),ei("focusin","onFocus"),ei("focusout","onBlur"),ei(_A,"onTransitionRun"),ei(vA,"onTransitionStart"),ei(EA,"onTransitionCancel"),ei(Qg,"onTransitionEnd"),yi("onMouseEnter",["mouseout","mouseover"]),yi("onMouseLeave",["mouseout","mouseover"]),yi("onPointerEnter",["pointerout","pointerover"]),yi("onPointerLeave",["pointerout","pointerover"]),pi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),pi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),pi("onBeforeInput",["compositionend","keypress","textInput","paste"]),pi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),pi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),pi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var hl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),iS=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(hl));function d_(e,n){n=(n&4)!==0;for(var a=0;a<e.length;a++){var o=e[a],h=o.event;o=o.listeners;t:{var f=void 0;if(n)for(var g=o.length-1;0<=g;g--){var E=o[g],R=E.instance,k=E.currentTarget;if(E=E.listener,R!==f&&h.isPropagationStopped())break t;f=E,h.currentTarget=k;try{f(h)}catch(H){Mu(H)}h.currentTarget=null,f=R}else for(g=0;g<o.length;g++){if(E=o[g],R=E.instance,k=E.currentTarget,E=E.listener,R!==f&&h.isPropagationStopped())break t;f=E,h.currentTarget=k;try{f(h)}catch(H){Mu(H)}h.currentTarget=null,f=R}}}}function Nt(e,n){var a=n[sa];a===void 0&&(a=n[sa]=new Set);var o=e+"__bubble";a.has(o)||(m_(n,e,2,!1),a.add(o))}function yd(e,n,a){var o=0;n&&(o|=4),m_(a,e,o,n)}var vc="_reactListening"+Math.random().toString(36).slice(2);function _d(e){if(!e[vc]){e[vc]=!0,So.forEach(function(a){a!=="selectionchange"&&(iS.has(a)||yd(a,!1,e),yd(a,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[vc]||(n[vc]=!0,yd("selectionchange",!1,n))}}function m_(e,n,a,o){switch(H_(n)){case 2:var h=OS;break;case 8:h=VS;break;default:h=Md}a=h.bind(null,n,a,e),h=void 0,!Ar||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),o?h!==void 0?e.addEventListener(n,a,{capture:!0,passive:h}):e.addEventListener(n,a,!0):h!==void 0?e.addEventListener(n,a,{passive:h}):e.addEventListener(n,a,!1)}function vd(e,n,a,o,h){var f=o;if((n&1)===0&&(n&2)===0&&o!==null)t:for(;;){if(o===null)return;var g=o.tag;if(g===3||g===4){var E=o.stateNode.containerInfo;if(E===h)break;if(g===4)for(g=o.return;g!==null;){var R=g.tag;if((R===3||R===4)&&g.stateNode.containerInfo===h)return;g=g.return}for(;E!==null;){if(g=mi(E),g===null)return;if(R=g.tag,R===5||R===6||R===26||R===27){o=f=g;continue t}E=E.parentNode}}o=o.return}Ts(function(){var k=f,H=Un(a),X=[];t:{var z=Yg.get(e);if(z!==void 0){var B=Ti,ot=e;switch(e){case"keypress":if(br(a)===0)break t;case"keydown":case"keyup":B=Du;break;case"focusin":ot="focus",B=Rr;break;case"focusout":ot="blur",B=Rr;break;case"beforeblur":case"afterblur":B=Rr;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":B=Lo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":B=Tu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":B=m;break;case Hg:case Fg:case Gg:B=Su;break;case Qg:B=T;break;case"scroll":case"scrollend":B=Uo;break;case"wheel":B=j;break;case"copy":case"cut":case"paste":B=bu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":B=qi;break;case"toggle":case"beforetoggle":B=wt}var gt=(n&4)!==0,ne=!gt&&(e==="scroll"||e==="scrollend"),x=gt?z!==null?z+"Capture":null:z;gt=[];for(var O=k,P;O!==null;){var Q=O;if(P=Q.stateNode,Q=Q.tag,Q!==5&&Q!==26&&Q!==27||P===null||x===null||(Q=Zn(O,x),Q!=null&&gt.push(fl(O,Q,P))),ne)break;O=O.return}0<gt.length&&(z=new B(z,ot,null,a,H),X.push({event:z,listeners:gt}))}}if((n&7)===0){t:{if(z=e==="mouseover"||e==="pointerover",B=e==="mouseout"||e==="pointerout",z&&a!==Vo&&(ot=a.relatedTarget||a.fromElement)&&(mi(ot)||ot[fi]))break t;if((B||z)&&(z=H.window===H?H:(z=H.ownerDocument)?z.defaultView||z.parentWindow:window,B?(ot=a.relatedTarget||a.toElement,B=k,ot=ot?mi(ot):null,ot!==null&&(ne=c(ot),gt=ot.tag,ot!==ne||gt!==5&&gt!==27&&gt!==6)&&(ot=null)):(B=null,ot=k),B!==ot)){if(gt=Lo,Q="onMouseLeave",x="onMouseEnter",O="mouse",(e==="pointerout"||e==="pointerover")&&(gt=qi,Q="onPointerLeave",x="onPointerEnter",O="pointer"),ne=B==null?z:Tn(B),P=ot==null?z:Tn(ot),z=new gt(Q,O+"leave",B,a,H),z.target=ne,z.relatedTarget=P,Q=null,mi(H)===k&&(gt=new gt(x,O+"enter",ot,a,H),gt.target=P,gt.relatedTarget=ne,Q=gt),ne=Q,B&&ot)e:{for(gt=sS,x=B,O=ot,P=0,Q=x;Q;Q=gt(Q))P++;Q=0;for(var ft=O;ft;ft=gt(ft))Q++;for(;0<P-Q;)x=gt(x),P--;for(;0<Q-P;)O=gt(O),Q--;for(;P--;){if(x===O||O!==null&&x===O.alternate){gt=x;break e}x=gt(x),O=gt(O)}gt=null}else gt=null;B!==null&&g_(X,z,B,gt,!1),ot!==null&&ne!==null&&g_(X,ne,ot,gt,!0)}}t:{if(z=k?Tn(k):window,B=z.nodeName&&z.nodeName.toLowerCase(),B==="select"||B==="input"&&z.type==="file")var Ht=Vg;else if(Dg(z))if(Mg)Ht=gA;else{Ht=dA;var lt=fA}else B=z.nodeName,!B||B.toLowerCase()!=="input"||z.type!=="checkbox"&&z.type!=="radio"?k&&la(k.elementType)&&(Ht=Vg):Ht=mA;if(Ht&&(Ht=Ht(e,k))){Og(X,Ht,a,H);break t}lt&&lt(e,z,k),e==="focusout"&&k&&z.type==="number"&&k.memoizedProps.value!=null&&No(z,"number",z.value)}switch(lt=k?Tn(k):window,e){case"focusin":(Dg(lt)||lt.contentEditable==="true")&&(pa=lt,Yh=k,Bo=null);break;case"focusout":Bo=Yh=pa=null;break;case"mousedown":Kh=!0;break;case"contextmenu":case"mouseup":case"dragend":Kh=!1,Bg(X,a,H);break;case"selectionchange":if(yA)break;case"keydown":case"keyup":Bg(X,a,H)}var It;if(Yt)t:{switch(e){case"compositionstart":var Mt="onCompositionStart";break t;case"compositionend":Mt="onCompositionEnd";break t;case"compositionupdate":Mt="onCompositionUpdate";break t}Mt=void 0}else ga?Ir(e,a)&&(Mt="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(Mt="onCompositionStart");Mt&&(bi&&a.locale!=="ko"&&(ga||Mt!=="onCompositionStart"?Mt==="onCompositionEnd"&&ga&&(It=xo()):(Ei=H,Mo="value"in Ei?Ei.value:Ei.textContent,ga=!0)),lt=Ec(k,Mt),0<lt.length&&(Mt=new Si(Mt,e,null,a,H),X.push({event:Mt,listeners:lt}),It?Mt.data=It:(It=ma(a),It!==null&&(Mt.data=It)))),(It=Pn?lA(e,a):uA(e,a))&&(Mt=Ec(k,"onBeforeInput"),0<Mt.length&&(lt=new Si("onBeforeInput","beforeinput",null,a,H),X.push({event:lt,listeners:Mt}),lt.data=It)),tS(X,e,k,a,H)}d_(X,n)})}function fl(e,n,a){return{instance:e,listener:n,currentTarget:a}}function Ec(e,n){for(var a=n+"Capture",o=[];e!==null;){var h=e,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=Zn(e,a),h!=null&&o.unshift(fl(e,h,f)),h=Zn(e,n),h!=null&&o.push(fl(e,h,f))),e.tag===3)return o;e=e.return}return[]}function sS(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function g_(e,n,a,o,h){for(var f=n._reactName,g=[];a!==null&&a!==o;){var E=a,R=E.alternate,k=E.stateNode;if(E=E.tag,R!==null&&R===o)break;E!==5&&E!==26&&E!==27||k===null||(R=k,h?(k=Zn(a,f),k!=null&&g.unshift(fl(a,k,R))):h||(k=Zn(a,f),k!=null&&g.push(fl(a,k,R)))),a=a.return}g.length!==0&&e.push({event:n,listeners:g})}var rS=/\r\n?/g,aS=/\u0000|\uFFFD/g;function p_(e){return(typeof e=="string"?e:""+e).replace(rS,`
`).replace(aS,"")}function y_(e,n){return n=p_(n),p_(e)===n}function ee(e,n,a,o,h,f){switch(a){case"children":typeof o=="string"?n==="body"||n==="textarea"&&o===""||dn(e,o):(typeof o=="number"||typeof o=="bigint")&&n!=="body"&&dn(e,""+o);break;case"className":An(e,"class",o);break;case"tabIndex":An(e,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":An(e,a,o);break;case"style":Oo(e,o,f);break;case"data":if(n!=="object"){An(e,"data",o);break}case"src":case"href":if(o===""&&(n!=="a"||a!=="href")){e.removeAttribute(a);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(a);break}o=ua(""+o),e.setAttribute(a,o);break;case"action":case"formAction":if(typeof o=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(a==="formAction"?(n!=="input"&&ee(e,n,"name",h.name,h,null),ee(e,n,"formEncType",h.formEncType,h,null),ee(e,n,"formMethod",h.formMethod,h,null),ee(e,n,"formTarget",h.formTarget,h,null)):(ee(e,n,"encType",h.encType,h,null),ee(e,n,"method",h.method,h,null),ee(e,n,"target",h.target,h,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(a);break}o=ua(""+o),e.setAttribute(a,o);break;case"onClick":o!=null&&(e.onclick=$n);break;case"onScroll":o!=null&&Nt("scroll",e);break;case"onScrollEnd":o!=null&&Nt("scrollend",e);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(r(61));if(a=o.__html,a!=null){if(h.children!=null)throw Error(r(60));e.innerHTML=a}}break;case"multiple":e.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":e.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){e.removeAttribute("xlink:href");break}a=ua(""+o),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(a,""+o):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":o===!0?e.setAttribute(a,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(a,o):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?e.setAttribute(a,o):e.removeAttribute(a);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?e.removeAttribute(a):e.setAttribute(a,o);break;case"popover":Nt("beforetoggle",e),Nt("toggle",e),aa(e,"popover",o);break;case"xlinkActuate":Ne(e,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":Ne(e,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":Ne(e,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":Ne(e,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":Ne(e,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":Ne(e,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":Ne(e,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":Ne(e,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":Ne(e,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":aa(e,"is",o);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Eu.get(a)||a,aa(e,a,o))}}function Ed(e,n,a,o,h,f){switch(a){case"style":Oo(e,o,f);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(r(61));if(a=o.__html,a!=null){if(h.children!=null)throw Error(r(60));e.innerHTML=a}}break;case"children":typeof o=="string"?dn(e,o):(typeof o=="number"||typeof o=="bigint")&&dn(e,""+o);break;case"onScroll":o!=null&&Nt("scroll",e);break;case"onScrollEnd":o!=null&&Nt("scrollend",e);break;case"onClick":o!=null&&(e.onclick=$n);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!bo.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),n=a.slice(2,h?a.length-7:void 0),f=e[qe]||null,f=f!=null?f[a]:null,typeof f=="function"&&e.removeEventListener(n,f,h),typeof o=="function")){typeof f!="function"&&f!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(n,o,h);break t}a in e?e[a]=o:o===!0?e.setAttribute(a,""):aa(e,a,o)}}}function Je(e,n,a){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Nt("error",e),Nt("load",e);var o=!1,h=!1,f;for(f in a)if(a.hasOwnProperty(f)){var g=a[f];if(g!=null)switch(f){case"src":o=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,n));default:ee(e,n,f,g,a,null)}}h&&ee(e,n,"srcSet",a.srcSet,a,null),o&&ee(e,n,"src",a.src,a,null);return;case"input":Nt("invalid",e);var E=f=g=h=null,R=null,k=null;for(o in a)if(a.hasOwnProperty(o)){var H=a[o];if(H!=null)switch(o){case"name":h=H;break;case"type":g=H;break;case"checked":R=H;break;case"defaultChecked":k=H;break;case"value":f=H;break;case"defaultValue":E=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(r(137,n));break;default:ee(e,n,o,H,a,null)}}yu(e,f,E,R,k,g,h,!1);return;case"select":Nt("invalid",e),o=g=f=null;for(h in a)if(a.hasOwnProperty(h)&&(E=a[h],E!=null))switch(h){case"value":f=E;break;case"defaultValue":g=E;break;case"multiple":o=E;default:ee(e,n,h,E,a,null)}n=f,a=g,e.multiple=!!o,n!=null?ys(e,!!o,n,!1):a!=null&&ys(e,!!o,a,!0);return;case"textarea":Nt("invalid",e),f=h=o=null;for(g in a)if(a.hasOwnProperty(g)&&(E=a[g],E!=null))switch(g){case"value":o=E;break;case"defaultValue":h=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(r(91));break;default:ee(e,n,g,E,a,null)}_s(e,o,h,f);return;case"option":for(R in a)if(a.hasOwnProperty(R)&&(o=a[R],o!=null))switch(R){case"selected":e.selected=o&&typeof o!="function"&&typeof o!="symbol";break;default:ee(e,n,R,o,a,null)}return;case"dialog":Nt("beforetoggle",e),Nt("toggle",e),Nt("cancel",e),Nt("close",e);break;case"iframe":case"object":Nt("load",e);break;case"video":case"audio":for(o=0;o<hl.length;o++)Nt(hl[o],e);break;case"image":Nt("error",e),Nt("load",e);break;case"details":Nt("toggle",e);break;case"embed":case"source":case"link":Nt("error",e),Nt("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(k in a)if(a.hasOwnProperty(k)&&(o=a[k],o!=null))switch(k){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,n));default:ee(e,n,k,o,a,null)}return;default:if(la(n)){for(H in a)a.hasOwnProperty(H)&&(o=a[H],o!==void 0&&Ed(e,n,H,o,a,void 0));return}}for(E in a)a.hasOwnProperty(E)&&(o=a[E],o!=null&&ee(e,n,E,o,a,null))}function oS(e,n,a,o){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,g=null,E=null,R=null,k=null,H=null;for(B in a){var X=a[B];if(a.hasOwnProperty(B)&&X!=null)switch(B){case"checked":break;case"value":break;case"defaultValue":R=X;default:o.hasOwnProperty(B)||ee(e,n,B,null,o,X)}}for(var z in o){var B=o[z];if(X=a[z],o.hasOwnProperty(z)&&(B!=null||X!=null))switch(z){case"type":f=B;break;case"name":h=B;break;case"checked":k=B;break;case"defaultChecked":H=B;break;case"value":g=B;break;case"defaultValue":E=B;break;case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(r(137,n));break;default:B!==X&&ee(e,n,z,B,o,X)}}oa(e,g,E,R,k,H,f,h);return;case"select":B=g=E=z=null;for(f in a)if(R=a[f],a.hasOwnProperty(f)&&R!=null)switch(f){case"value":break;case"multiple":B=R;default:o.hasOwnProperty(f)||ee(e,n,f,null,o,R)}for(h in o)if(f=o[h],R=a[h],o.hasOwnProperty(h)&&(f!=null||R!=null))switch(h){case"value":z=f;break;case"defaultValue":E=f;break;case"multiple":g=f;default:f!==R&&ee(e,n,h,f,o,R)}n=E,a=g,o=B,z!=null?ys(e,!!a,z,!1):!!o!=!!a&&(n!=null?ys(e,!!a,n,!0):ys(e,!!a,a?[]:"",!1));return;case"textarea":B=z=null;for(E in a)if(h=a[E],a.hasOwnProperty(E)&&h!=null&&!o.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:ee(e,n,E,null,o,h)}for(g in o)if(h=o[g],f=a[g],o.hasOwnProperty(g)&&(h!=null||f!=null))switch(g){case"value":z=h;break;case"defaultValue":B=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(r(91));break;default:h!==f&&ee(e,n,g,h,o,f)}_u(e,z,B);return;case"option":for(var ot in a)if(z=a[ot],a.hasOwnProperty(ot)&&z!=null&&!o.hasOwnProperty(ot))switch(ot){case"selected":e.selected=!1;break;default:ee(e,n,ot,null,o,z)}for(R in o)if(z=o[R],B=a[R],o.hasOwnProperty(R)&&z!==B&&(z!=null||B!=null))switch(R){case"selected":e.selected=z&&typeof z!="function"&&typeof z!="symbol";break;default:ee(e,n,R,z,o,B)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var gt in a)z=a[gt],a.hasOwnProperty(gt)&&z!=null&&!o.hasOwnProperty(gt)&&ee(e,n,gt,null,o,z);for(k in o)if(z=o[k],B=a[k],o.hasOwnProperty(k)&&z!==B&&(z!=null||B!=null))switch(k){case"children":case"dangerouslySetInnerHTML":if(z!=null)throw Error(r(137,n));break;default:ee(e,n,k,z,o,B)}return;default:if(la(n)){for(var ne in a)z=a[ne],a.hasOwnProperty(ne)&&z!==void 0&&!o.hasOwnProperty(ne)&&Ed(e,n,ne,void 0,o,z);for(H in o)z=o[H],B=a[H],!o.hasOwnProperty(H)||z===B||z===void 0&&B===void 0||Ed(e,n,H,z,o,B);return}}for(var x in a)z=a[x],a.hasOwnProperty(x)&&z!=null&&!o.hasOwnProperty(x)&&ee(e,n,x,null,o,z);for(X in o)z=o[X],B=a[X],!o.hasOwnProperty(X)||z===B||z==null&&B==null||ee(e,n,X,z,o,B)}function __(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function lS(){if(typeof performance.getEntriesByType=="function"){for(var e=0,n=0,a=performance.getEntriesByType("resource"),o=0;o<a.length;o++){var h=a[o],f=h.transferSize,g=h.initiatorType,E=h.duration;if(f&&E&&__(g)){for(g=0,E=h.responseEnd,o+=1;o<a.length;o++){var R=a[o],k=R.startTime;if(k>E)break;var H=R.transferSize,X=R.initiatorType;H&&__(X)&&(R=R.responseEnd,g+=H*(R<E?1:(E-k)/(R-k)))}if(--o,n+=8*(f+g)/(h.duration/1e3),e++,10<e)break}}if(0<e)return n/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var Td=null,Ad=null;function Tc(e){return e.nodeType===9?e:e.ownerDocument}function v_(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function E_(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function Sd(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var bd=null;function uS(){var e=window.event;return e&&e.type==="popstate"?e===bd?!1:(bd=e,!0):(bd=null,!1)}var T_=typeof setTimeout=="function"?setTimeout:void 0,cS=typeof clearTimeout=="function"?clearTimeout:void 0,A_=typeof Promise=="function"?Promise:void 0,hS=typeof queueMicrotask=="function"?queueMicrotask:typeof A_<"u"?function(e){return A_.resolve(null).then(e).catch(fS)}:T_;function fS(e){setTimeout(function(){throw e})}function Bs(e){return e==="head"}function S_(e,n){var a=n,o=0;do{var h=a.nextSibling;if(e.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"||a==="/&"){if(o===0){e.removeChild(h),Ha(n);return}o--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")o++;else if(a==="html")dl(e.ownerDocument.documentElement);else if(a==="head"){a=e.ownerDocument.head,dl(a);for(var f=a.firstChild;f;){var g=f.nextSibling,E=f.nodeName;f[di]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&f.rel.toLowerCase()==="stylesheet"||a.removeChild(f),f=g}}else a==="body"&&dl(e.ownerDocument.body);a=h}while(a);Ha(n)}function b_(e,n){var a=e;e=0;do{var o=a.nextSibling;if(a.nodeType===1?n?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(n?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),o&&o.nodeType===8)if(a=o.data,a==="/$"){if(e===0)break;e--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||e++;a=o}while(a)}function wd(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var a=n;switch(n=n.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":wd(a),ra(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function dS(e,n,a,o){for(;e.nodeType===1;){var h=a;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!o&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(o){if(!e[di])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(f=e.getAttribute("rel"),f==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(f!==h.rel||e.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||e.getAttribute("title")!==(h.title==null?null:h.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(f=e.getAttribute("src"),(f!==(h.src==null?null:h.src)||e.getAttribute("type")!==(h.type==null?null:h.type)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&e.getAttribute("name")===f)return e}else return e;if(e=Fn(e.nextSibling),e===null)break}return null}function mS(e,n,a){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=Fn(e.nextSibling),e===null))return null;return e}function w_(e,n){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=Fn(e.nextSibling),e===null))return null;return e}function Rd(e){return e.data==="$?"||e.data==="$~"}function Id(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function gS(e,n){var a=e.ownerDocument;if(e.data==="$~")e._reactRetry=n;else if(e.data!=="$?"||a.readyState!=="loading")n();else{var o=function(){n(),a.removeEventListener("DOMContentLoaded",o)};a.addEventListener("DOMContentLoaded",o),e._reactRetry=o}}function Fn(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return e}var Cd=null;function R_(e){e=e.nextSibling;for(var n=0;e;){if(e.nodeType===8){var a=e.data;if(a==="/$"||a==="/&"){if(n===0)return Fn(e.nextSibling);n--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||n++}e=e.nextSibling}return null}function I_(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(n===0)return e;n--}else a!=="/$"&&a!=="/&"||n++}e=e.previousSibling}return null}function C_(e,n,a){switch(n=Tc(a),e){case"html":if(e=n.documentElement,!e)throw Error(r(452));return e;case"head":if(e=n.head,!e)throw Error(r(453));return e;case"body":if(e=n.body,!e)throw Error(r(454));return e;default:throw Error(r(451))}}function dl(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);ra(e)}var Gn=new Map,N_=new Set;function Ac(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var is=nt.d;nt.d={f:pS,r:yS,D:_S,C:vS,L:ES,m:TS,X:SS,S:AS,M:bS};function pS(){var e=is.f(),n=dc();return e||n}function yS(e){var n=xn(e);n!==null&&n.tag===5&&n.type==="form"?Qp(n):is.r(e)}var ja=typeof document>"u"?null:document;function D_(e,n,a){var o=ja;if(o&&typeof n=="string"&&n){var h=fn(n);h='link[rel="'+e+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),N_.has(h)||(N_.add(h),e={rel:e,crossOrigin:a,href:n},o.querySelector(h)===null&&(n=o.createElement("link"),Je(n,"link",e),Ce(n),o.head.appendChild(n)))}}function _S(e){is.D(e),D_("dns-prefetch",e,null)}function vS(e,n){is.C(e,n),D_("preconnect",e,n)}function ES(e,n,a){is.L(e,n,a);var o=ja;if(o&&e&&n){var h='link[rel="preload"][as="'+fn(n)+'"]';n==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+fn(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+fn(a.imageSizes)+'"]')):h+='[href="'+fn(e)+'"]';var f=h;switch(n){case"style":f=Ba(e);break;case"script":f=qa(e)}Gn.has(f)||(e=S({rel:"preload",href:n==="image"&&a&&a.imageSrcSet?void 0:e,as:n},a),Gn.set(f,e),o.querySelector(h)!==null||n==="style"&&o.querySelector(ml(f))||n==="script"&&o.querySelector(gl(f))||(n=o.createElement("link"),Je(n,"link",e),Ce(n),o.head.appendChild(n)))}}function TS(e,n){is.m(e,n);var a=ja;if(a&&e){var o=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+fn(o)+'"][href="'+fn(e)+'"]',f=h;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=qa(e)}if(!Gn.has(f)&&(e=S({rel:"modulepreload",href:e},n),Gn.set(f,e),a.querySelector(h)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(gl(f)))return}o=a.createElement("link"),Je(o,"link",e),Ce(o),a.head.appendChild(o)}}}function AS(e,n,a){is.S(e,n,a);var o=ja;if(o&&e){var h=gi(o).hoistableStyles,f=Ba(e);n=n||"default";var g=h.get(f);if(!g){var E={loading:0,preload:null};if(g=o.querySelector(ml(f)))E.loading=5;else{e=S({rel:"stylesheet",href:e,"data-precedence":n},a),(a=Gn.get(f))&&Nd(e,a);var R=g=o.createElement("link");Ce(R),Je(R,"link",e),R._p=new Promise(function(k,H){R.onload=k,R.onerror=H}),R.addEventListener("load",function(){E.loading|=1}),R.addEventListener("error",function(){E.loading|=2}),E.loading|=4,Sc(g,n,o)}g={type:"stylesheet",instance:g,count:1,state:E},h.set(f,g)}}}function SS(e,n){is.X(e,n);var a=ja;if(a&&e){var o=gi(a).hoistableScripts,h=qa(e),f=o.get(h);f||(f=a.querySelector(gl(h)),f||(e=S({src:e,async:!0},n),(n=Gn.get(h))&&Dd(e,n),f=a.createElement("script"),Ce(f),Je(f,"link",e),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function bS(e,n){is.M(e,n);var a=ja;if(a&&e){var o=gi(a).hoistableScripts,h=qa(e),f=o.get(h);f||(f=a.querySelector(gl(h)),f||(e=S({src:e,async:!0,type:"module"},n),(n=Gn.get(h))&&Dd(e,n),f=a.createElement("script"),Ce(f),Je(f,"link",e),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function O_(e,n,a,o){var h=(h=bt.current)?Ac(h):null;if(!h)throw Error(r(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(n=Ba(a.href),a=gi(h).hoistableStyles,o=a.get(n),o||(o={type:"style",instance:null,count:0,state:null},a.set(n,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=Ba(a.href);var f=gi(h).hoistableStyles,g=f.get(e);if(g||(h=h.ownerDocument||h,g={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(e,g),(f=h.querySelector(ml(e)))&&!f._p&&(g.instance=f,g.state.loading=5),Gn.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Gn.set(e,a),f||wS(h,e,a,g.state))),n&&o===null)throw Error(r(528,""));return g}if(n&&o!==null)throw Error(r(529,""));return null;case"script":return n=a.async,a=a.src,typeof a=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=qa(a),a=gi(h).hoistableScripts,o=a.get(n),o||(o={type:"script",instance:null,count:0,state:null},a.set(n,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,e))}}function Ba(e){return'href="'+fn(e)+'"'}function ml(e){return'link[rel="stylesheet"]['+e+"]"}function V_(e){return S({},e,{"data-precedence":e.precedence,precedence:null})}function wS(e,n,a,o){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?o.loading=1:(n=e.createElement("link"),o.preload=n,n.addEventListener("load",function(){return o.loading|=1}),n.addEventListener("error",function(){return o.loading|=2}),Je(n,"link",a),Ce(n),e.head.appendChild(n))}function qa(e){return'[src="'+fn(e)+'"]'}function gl(e){return"script[async]"+e}function M_(e,n,a){if(n.count++,n.instance===null)switch(n.type){case"style":var o=e.querySelector('style[data-href~="'+fn(a.href)+'"]');if(o)return n.instance=o,Ce(o),o;var h=S({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return o=(e.ownerDocument||e).createElement("style"),Ce(o),Je(o,"style",h),Sc(o,a.precedence,e),n.instance=o;case"stylesheet":h=Ba(a.href);var f=e.querySelector(ml(h));if(f)return n.state.loading|=4,n.instance=f,Ce(f),f;o=V_(a),(h=Gn.get(h))&&Nd(o,h),f=(e.ownerDocument||e).createElement("link"),Ce(f);var g=f;return g._p=new Promise(function(E,R){g.onload=E,g.onerror=R}),Je(f,"link",o),n.state.loading|=4,Sc(f,a.precedence,e),n.instance=f;case"script":return f=qa(a.src),(h=e.querySelector(gl(f)))?(n.instance=h,Ce(h),h):(o=a,(h=Gn.get(f))&&(o=S({},a),Dd(o,h)),e=e.ownerDocument||e,h=e.createElement("script"),Ce(h),Je(h,"link",o),e.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(r(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(o=n.instance,n.state.loading|=4,Sc(o,a.precedence,e));return n.instance}function Sc(e,n,a){for(var o=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=o.length?o[o.length-1]:null,f=h,g=0;g<o.length;g++){var E=o[g];if(E.dataset.precedence===n)f=E;else if(f!==h)break}f?f.parentNode.insertBefore(e,f.nextSibling):(n=a.nodeType===9?a.head:a,n.insertBefore(e,n.firstChild))}function Nd(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function Dd(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var bc=null;function x_(e,n,a){if(bc===null){var o=new Map,h=bc=new Map;h.set(a,o)}else h=bc,o=h.get(a),o||(o=new Map,h.set(a,o));if(o.has(e))return o;for(o.set(e,null),a=a.getElementsByTagName(e),h=0;h<a.length;h++){var f=a[h];if(!(f[di]||f[Ie]||e==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var g=f.getAttribute(n)||"";g=e+g;var E=o.get(g);E?E.push(f):o.set(g,[f])}}return o}function U_(e,n,a){e=e.ownerDocument||e,e.head.insertBefore(a,n==="title"?e.querySelector("head > title"):null)}function RS(e,n,a){if(a===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return e=n.disabled,typeof n.precedence=="string"&&e==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function L_(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function IS(e,n,a,o){if(a.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var h=Ba(o.href),f=n.querySelector(ml(h));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(e.count++,e=wc.bind(e),n.then(e,e)),a.state.loading|=4,a.instance=f,Ce(f);return}f=n.ownerDocument||n,o=V_(o),(h=Gn.get(h))&&Nd(o,h),f=f.createElement("link"),Ce(f);var g=f;g._p=new Promise(function(E,R){g.onload=E,g.onerror=R}),Je(f,"link",o),a.instance=f}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(a,n),(n=a.state.preload)&&(a.state.loading&3)===0&&(e.count++,a=wc.bind(e),n.addEventListener("load",a),n.addEventListener("error",a))}}var Od=0;function CS(e,n){return e.stylesheets&&e.count===0&&Ic(e,e.stylesheets),0<e.count||0<e.imgCount?function(a){var o=setTimeout(function(){if(e.stylesheets&&Ic(e,e.stylesheets),e.unsuspend){var f=e.unsuspend;e.unsuspend=null,f()}},6e4+n);0<e.imgBytes&&Od===0&&(Od=62500*lS());var h=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Ic(e,e.stylesheets),e.unsuspend)){var f=e.unsuspend;e.unsuspend=null,f()}},(e.imgBytes>Od?50:800)+n);return e.unsuspend=a,function(){e.unsuspend=null,clearTimeout(o),clearTimeout(h)}}:null}function wc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Ic(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Rc=null;function Ic(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Rc=new Map,n.forEach(NS,e),Rc=null,wc.call(e))}function NS(e,n){if(!(n.state.loading&4)){var a=Rc.get(e);if(a)var o=a.get(null);else{a=new Map,Rc.set(e,a);for(var h=e.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var g=h[f];(g.nodeName==="LINK"||g.getAttribute("media")!=="not all")&&(a.set(g.dataset.precedence,g),o=g)}o&&a.set(null,o)}h=n.instance,g=h.getAttribute("data-precedence"),f=a.get(g)||o,f===o&&a.set(null,h),a.set(g,h),this.count++,o=wc.bind(this),h.addEventListener("load",o),h.addEventListener("error",o),f?f.parentNode.insertBefore(h,f.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(h,e.firstChild)),n.state.loading|=4}}var pl={$$typeof:pt,Provider:null,Consumer:null,_currentValue:ut,_currentValue2:ut,_threadCount:0};function DS(e,n,a,o,h,f,g,E,R){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=hi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=hi(0),this.hiddenUpdates=hi(null),this.identifierPrefix=o,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=g,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=R,this.incompleteTransitions=new Map}function P_(e,n,a,o,h,f,g,E,R,k,H,X){return e=new DS(e,n,a,g,R,k,H,X,E),n=1,f===!0&&(n|=24),f=bn(3,null,null,n),e.current=f,f.stateNode=e,n=cf(),n.refCount++,e.pooledCache=n,n.refCount++,f.memoizedState={element:o,isDehydrated:a,cache:n},mf(f),e}function k_(e){return e?(e=va,e):va}function z_(e,n,a,o,h,f){h=k_(h),o.context===null?o.context=h:o.pendingContext=h,o=Ds(n),o.payload={element:a},f=f===void 0?null:f,f!==null&&(o.callback=f),a=Os(e,o,n),a!==null&&(_n(a,e,n),Ko(a,e,n))}function j_(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<n?a:n}}function Vd(e,n){j_(e,n),(e=e.alternate)&&j_(e,n)}function B_(e){if(e.tag===13||e.tag===31){var n=Dr(e,67108864);n!==null&&_n(n,e,67108864),Vd(e,67108864)}}function q_(e){if(e.tag===13||e.tag===31){var n=Nn();n=_r(n);var a=Dr(e,n);a!==null&&_n(a,e,n),Vd(e,n)}}var Cc=!0;function OS(e,n,a,o){var h=q.T;q.T=null;var f=nt.p;try{nt.p=2,Md(e,n,a,o)}finally{nt.p=f,q.T=h}}function VS(e,n,a,o){var h=q.T;q.T=null;var f=nt.p;try{nt.p=8,Md(e,n,a,o)}finally{nt.p=f,q.T=h}}function Md(e,n,a,o){if(Cc){var h=xd(o);if(h===null)vd(e,n,o,Nc,a),F_(e,o);else if(xS(h,e,n,a,o))o.stopPropagation();else if(F_(e,o),n&4&&-1<MS.indexOf(e)){for(;h!==null;){var f=xn(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var g=ui(f.pendingLanes);if(g!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;g;){var R=1<<31-ve(g);E.entanglements[1]|=R,g&=~R}Ci(f),(Kt&6)===0&&(hc=ln()+500,cl(0))}}break;case 31:case 13:E=Dr(f,2),E!==null&&_n(E,f,2),dc(),Vd(f,2)}if(f=xd(o),f===null&&vd(e,n,o,Nc,a),f===h)break;h=f}h!==null&&o.stopPropagation()}else vd(e,n,o,null,a)}}function xd(e){return e=Un(e),Ud(e)}var Nc=null;function Ud(e){if(Nc=null,e=mi(e),e!==null){var n=c(e);if(n===null)e=null;else{var a=n.tag;if(a===13){if(e=d(n),e!==null)return e;e=null}else if(a===31){if(e=p(n),e!==null)return e;e=null}else if(a===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return Nc=e,null}function H_(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(mr()){case vo:return 2;case Eo:return 8;case gs:case jh:return 32;case ou:return 268435456;default:return 32}default:return 32}}var Ld=!1,qs=null,Hs=null,Fs=null,yl=new Map,_l=new Map,Gs=[],MS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function F_(e,n){switch(e){case"focusin":case"focusout":qs=null;break;case"dragenter":case"dragleave":Hs=null;break;case"mouseover":case"mouseout":Fs=null;break;case"pointerover":case"pointerout":yl.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":_l.delete(n.pointerId)}}function vl(e,n,a,o,h,f){return e===null||e.nativeEvent!==f?(e={blockedOn:n,domEventName:a,eventSystemFlags:o,nativeEvent:f,targetContainers:[h]},n!==null&&(n=xn(n),n!==null&&B_(n)),e):(e.eventSystemFlags|=o,n=e.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),e)}function xS(e,n,a,o,h){switch(n){case"focusin":return qs=vl(qs,e,n,a,o,h),!0;case"dragenter":return Hs=vl(Hs,e,n,a,o,h),!0;case"mouseover":return Fs=vl(Fs,e,n,a,o,h),!0;case"pointerover":var f=h.pointerId;return yl.set(f,vl(yl.get(f)||null,e,n,a,o,h)),!0;case"gotpointercapture":return f=h.pointerId,_l.set(f,vl(_l.get(f)||null,e,n,a,o,h)),!0}return!1}function G_(e){var n=mi(e.target);if(n!==null){var a=c(n);if(a!==null){if(n=a.tag,n===13){if(n=d(a),n!==null){e.blockedOn=n,Kn(e.priority,function(){q_(a)});return}}else if(n===31){if(n=p(a),n!==null){e.blockedOn=n,Kn(e.priority,function(){q_(a)});return}}else if(n===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Dc(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var a=xd(e.nativeEvent);if(a===null){a=e.nativeEvent;var o=new a.constructor(a.type,a);Vo=o,a.target.dispatchEvent(o),Vo=null}else return n=xn(a),n!==null&&B_(n),e.blockedOn=a,!1;n.shift()}return!0}function Q_(e,n,a){Dc(e)&&a.delete(n)}function US(){Ld=!1,qs!==null&&Dc(qs)&&(qs=null),Hs!==null&&Dc(Hs)&&(Hs=null),Fs!==null&&Dc(Fs)&&(Fs=null),yl.forEach(Q_),_l.forEach(Q_)}function Oc(e,n){e.blockedOn===n&&(e.blockedOn=null,Ld||(Ld=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,US)))}var Vc=null;function Y_(e){Vc!==e&&(Vc=e,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){Vc===e&&(Vc=null);for(var n=0;n<e.length;n+=3){var a=e[n],o=e[n+1],h=e[n+2];if(typeof o!="function"){if(Ud(o||a)===null)continue;break}var f=xn(a);f!==null&&(e.splice(n,3),n-=3,xf(f,{pending:!0,data:h,method:a.method,action:o},o,h))}}))}function Ha(e){function n(R){return Oc(R,e)}qs!==null&&Oc(qs,e),Hs!==null&&Oc(Hs,e),Fs!==null&&Oc(Fs,e),yl.forEach(n),_l.forEach(n);for(var a=0;a<Gs.length;a++){var o=Gs[a];o.blockedOn===e&&(o.blockedOn=null)}for(;0<Gs.length&&(a=Gs[0],a.blockedOn===null);)G_(a),a.blockedOn===null&&Gs.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(o=0;o<a.length;o+=3){var h=a[o],f=a[o+1],g=h[qe]||null;if(typeof f=="function")g||Y_(a);else if(g){var E=null;if(f&&f.hasAttribute("formAction")){if(h=f,g=f[qe]||null)E=g.formAction;else if(Ud(h)!==null)continue}else E=g.action;typeof E=="function"?a[o+1]=E:(a.splice(o,3),o-=3),Y_(a)}}}function K_(){function e(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(g){return h=g})},focusReset:"manual",scroll:"manual"})}function n(){h!==null&&(h(),h=null),o||setTimeout(a,20)}function a(){if(!o&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var o=!1,h=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(a,100),function(){o=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),h!==null&&(h(),h=null)}}}function Pd(e){this._internalRoot=e}Mc.prototype.render=Pd.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(r(409));var a=n.current,o=Nn();z_(a,o,e,n,null,null)},Mc.prototype.unmount=Pd.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;z_(e.current,2,null,e,null,null),dc(),n[fi]=null}};function Mc(e){this._internalRoot=e}Mc.prototype.unstable_scheduleHydration=function(e){if(e){var n=du();e={blockedOn:null,target:e,priority:n};for(var a=0;a<Gs.length&&n!==0&&n<Gs[a].priority;a++);Gs.splice(a,0,e),a===0&&G_(e)}};var X_=t.version;if(X_!=="19.2.0")throw Error(r(527,X_,"19.2.0"));nt.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(r(188)):(e=Object.keys(e).join(","),Error(r(268,e)));return e=_(n),e=e!==null?A(e):null,e=e===null?null:e.stateNode,e};var LS={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:q,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var xc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!xc.isDisabled&&xc.supportsFiber)try{Qn=xc.inject(LS),Ye=xc}catch{}}return Tl.createRoot=function(e,n){if(!l(e))throw Error(r(299));var a=!1,o="",h=ny,f=iy,g=sy;return n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(g=n.onRecoverableError)),n=P_(e,1,!1,null,null,a,o,null,h,f,g,K_),e[fi]=n.current,_d(e),new Pd(n)},Tl.hydrateRoot=function(e,n,a){if(!l(e))throw Error(r(299));var o=!1,h="",f=ny,g=iy,E=sy,R=null;return a!=null&&(a.unstable_strictMode===!0&&(o=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(f=a.onUncaughtError),a.onCaughtError!==void 0&&(g=a.onCaughtError),a.onRecoverableError!==void 0&&(E=a.onRecoverableError),a.formState!==void 0&&(R=a.formState)),n=P_(e,1,!0,n,a??null,o,h,R,f,g,E,K_),n.context=k_(null),a=n.current,o=Nn(),o=_r(o),h=Ds(o),h.callback=null,Os(a,h,o),a=o,n.current.lanes=a,pr(n,a),Ci(n),e[fi]=n.current,_d(e),new Mc(n)},Tl.version="19.2.0",Tl}var rv;function QS(){if(rv)return jd.exports;rv=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(t){console.error(t)}}return s(),jd.exports=GS(),jd.exports}var YS=QS();/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KS=s=>s.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),XS=s=>s.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,i,r)=>r?r.toUpperCase():i.toLowerCase()),av=s=>{const t=XS(s);return t.charAt(0).toUpperCase()+t.slice(1)},PE=(...s)=>s.filter((t,i,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===i).join(" ").trim(),$S=s=>{for(const t in s)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var ZS={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JS=fe.forwardRef(({color:s="currentColor",size:t=24,strokeWidth:i=2,absoluteStrokeWidth:r,className:l="",children:c,iconNode:d,...p},y)=>fe.createElement("svg",{ref:y,...ZS,width:t,height:t,stroke:s,strokeWidth:r?Number(i)*24/Number(t):i,className:PE("lucide",l),...!c&&!$S(p)&&{"aria-hidden":"true"},...p},[...d.map(([_,A])=>fe.createElement(_,A)),...Array.isArray(c)?c:[c]]));/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lo=(s,t)=>{const i=fe.forwardRef(({className:r,...l},c)=>fe.createElement(JS,{ref:c,iconNode:t,className:PE(`lucide-${KS(av(s))}`,`lucide-${s}`,r),...l}));return i.displayName=av(s),i};/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WS=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],t1=lo("award",WS);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e1=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],n1=lo("calendar",e1);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i1=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],s1=lo("chevron-left",i1);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r1=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],a1=lo("clock",r1);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o1=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],l1=lo("user-plus",o1);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u1=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],c1=lo("users",u1),h1=()=>{};var ov={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kE=function(s){const t=[];let i=0;for(let r=0;r<s.length;r++){let l=s.charCodeAt(r);l<128?t[i++]=l:l<2048?(t[i++]=l>>6|192,t[i++]=l&63|128):(l&64512)===55296&&r+1<s.length&&(s.charCodeAt(r+1)&64512)===56320?(l=65536+((l&1023)<<10)+(s.charCodeAt(++r)&1023),t[i++]=l>>18|240,t[i++]=l>>12&63|128,t[i++]=l>>6&63|128,t[i++]=l&63|128):(t[i++]=l>>12|224,t[i++]=l>>6&63|128,t[i++]=l&63|128)}return t},f1=function(s){const t=[];let i=0,r=0;for(;i<s.length;){const l=s[i++];if(l<128)t[r++]=String.fromCharCode(l);else if(l>191&&l<224){const c=s[i++];t[r++]=String.fromCharCode((l&31)<<6|c&63)}else if(l>239&&l<365){const c=s[i++],d=s[i++],p=s[i++],y=((l&7)<<18|(c&63)<<12|(d&63)<<6|p&63)-65536;t[r++]=String.fromCharCode(55296+(y>>10)),t[r++]=String.fromCharCode(56320+(y&1023))}else{const c=s[i++],d=s[i++];t[r++]=String.fromCharCode((l&15)<<12|(c&63)<<6|d&63)}}return t.join("")},zE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,t){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let l=0;l<s.length;l+=3){const c=s[l],d=l+1<s.length,p=d?s[l+1]:0,y=l+2<s.length,_=y?s[l+2]:0,A=c>>2,S=(c&3)<<4|p>>4;let N=(p&15)<<2|_>>6,F=_&63;y||(F=64,d||(N=64)),r.push(i[A],i[S],i[N],i[F])}return r.join("")},encodeString(s,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(s):this.encodeByteArray(kE(s),t)},decodeString(s,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(s):f1(this.decodeStringToByteArray(s,t))},decodeStringToByteArray(s,t){this.init_();const i=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let l=0;l<s.length;){const c=i[s.charAt(l++)],p=l<s.length?i[s.charAt(l)]:0;++l;const _=l<s.length?i[s.charAt(l)]:64;++l;const S=l<s.length?i[s.charAt(l)]:64;if(++l,c==null||p==null||_==null||S==null)throw new d1;const N=c<<2|p>>4;if(r.push(N),_!==64){const F=p<<4&240|_>>2;if(r.push(F),S!==64){const Z=_<<6&192|S;r.push(Z)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class d1 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const m1=function(s){const t=kE(s);return zE.encodeByteArray(t,!0)},Jc=function(s){return m1(s).replace(/\./g,"")},jE=function(s){try{return zE.decodeString(s,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g1(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p1=()=>g1().__FIREBASE_DEFAULTS__,y1=()=>{if(typeof process>"u"||typeof ov>"u")return;const s=ov.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},_1=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=s&&jE(s[1]);return t&&JSON.parse(t)},_h=()=>{try{return h1()||p1()||y1()||_1()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},BE=s=>_h()?.emulatorHosts?.[s],v1=s=>{const t=BE(s);if(!t)return;const i=t.lastIndexOf(":");if(i<=0||i+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(i+1),10);return t[0]==="["?[t.substring(1,i-1),r]:[t.substring(0,i),r]},qE=()=>_h()?.config,HE=s=>_h()?.[`_${s}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E1{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,i)=>{this.resolve=t,this.reject=i})}wrapCallback(t){return(i,r)=>{i?this.reject(i):this.resolve(r),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(i):t(i,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uo(s){try{return(s.startsWith("http://")||s.startsWith("https://")?new URL(s).hostname:s).endsWith(".cloudworkstations.dev")}catch{return!1}}async function FE(s){return(await fetch(s,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T1(s,t){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},r=t||"demo-project",l=s.iat||0,c=s.sub||s.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${r}`,aud:r,iat:l,exp:l+3600,auth_time:l,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...s};return[Jc(JSON.stringify(i)),Jc(JSON.stringify(d)),""].join(".")}const Rl={};function A1(){const s={prod:[],emulator:[]};for(const t of Object.keys(Rl))Rl[t]?s.emulator.push(t):s.prod.push(t);return s}function S1(s){let t=document.getElementById(s),i=!1;return t||(t=document.createElement("div"),t.setAttribute("id",s),i=!0),{created:i,element:t}}let lv=!1;function GE(s,t){if(typeof window>"u"||typeof document>"u"||!uo(window.location.host)||Rl[s]===t||Rl[s]||lv)return;Rl[s]=t;function i(N){return`__firebase__banner__${N}`}const r="__firebase__banner",c=A1().prod.length>0;function d(){const N=document.getElementById(r);N&&N.remove()}function p(N){N.style.display="flex",N.style.background="#7faaf0",N.style.position="fixed",N.style.bottom="5px",N.style.left="5px",N.style.padding=".5em",N.style.borderRadius="5px",N.style.alignItems="center"}function y(N,F){N.setAttribute("width","24"),N.setAttribute("id",F),N.setAttribute("height","24"),N.setAttribute("viewBox","0 0 24 24"),N.setAttribute("fill","none"),N.style.marginLeft="-6px"}function _(){const N=document.createElement("span");return N.style.cursor="pointer",N.style.marginLeft="16px",N.style.fontSize="24px",N.innerHTML=" &times;",N.onclick=()=>{lv=!0,d()},N}function A(N,F){N.setAttribute("id",F),N.innerText="Learn more",N.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",N.setAttribute("target","__blank"),N.style.paddingLeft="5px",N.style.textDecoration="underline"}function S(){const N=S1(r),F=i("text"),Z=document.getElementById(F)||document.createElement("span"),st=i("learnmore"),W=document.getElementById(st)||document.createElement("a"),mt=i("preprendIcon"),_t=document.getElementById(mt)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(N.created){const pt=N.element;p(pt),A(W,st);const Pt=_();y(_t,mt),pt.append(_t,Z,W,Pt),document.body.appendChild(pt)}c?(Z.innerText="Preview backend disconnected.",_t.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(_t.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,Z.innerText="Preview backend running in this workspace."),Z.setAttribute("id",F)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",S):S()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function on(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function b1(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(on())}function w1(){const s=_h()?.forceEnvironment;if(s==="node")return!0;if(s==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function R1(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function I1(){const s=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof s=="object"&&s.id!==void 0}function C1(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function N1(){const s=on();return s.indexOf("MSIE ")>=0||s.indexOf("Trident/")>=0}function D1(){return!w1()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function O1(){try{return typeof indexedDB=="object"}catch{return!1}}function V1(){return new Promise((s,t)=>{try{let i=!0;const r="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(r);l.onsuccess=()=>{l.result.close(),i||self.indexedDB.deleteDatabase(r),s(!0)},l.onupgradeneeded=()=>{i=!1},l.onerror=()=>{t(l.error?.message||"")}}catch(i){t(i)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M1="FirebaseError";class ds extends Error{constructor(t,i,r){super(i),this.code=t,this.customData=r,this.name=M1,Object.setPrototypeOf(this,ds.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Fl.prototype.create)}}class Fl{constructor(t,i,r){this.service=t,this.serviceName=i,this.errors=r}create(t,...i){const r=i[0]||{},l=`${this.service}/${t}`,c=this.errors[t],d=c?x1(c,r):"Error",p=`${this.serviceName}: ${d} (${l}).`;return new ds(l,p,r)}}function x1(s,t){return s.replace(U1,(i,r)=>{const l=t[r];return l!=null?String(l):`<${r}?>`})}const U1=/\{\$([^}]+)}/g;function L1(s){for(const t in s)if(Object.prototype.hasOwnProperty.call(s,t))return!1;return!0}function $r(s,t){if(s===t)return!0;const i=Object.keys(s),r=Object.keys(t);for(const l of i){if(!r.includes(l))return!1;const c=s[l],d=t[l];if(uv(c)&&uv(d)){if(!$r(c,d))return!1}else if(c!==d)return!1}for(const l of r)if(!i.includes(l))return!1;return!0}function uv(s){return s!==null&&typeof s=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gl(s){const t=[];for(const[i,r]of Object.entries(s))Array.isArray(r)?r.forEach(l=>{t.push(encodeURIComponent(i)+"="+encodeURIComponent(l))}):t.push(encodeURIComponent(i)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function P1(s,t){const i=new k1(s,t);return i.subscribe.bind(i)}class k1{constructor(t,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{t(this)}).catch(r=>{this.error(r)})}next(t){this.forEachObserver(i=>{i.next(t)})}error(t){this.forEachObserver(i=>{i.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,i,r){let l;if(t===void 0&&i===void 0&&r===void 0)throw new Error("Missing Observer.");z1(t,["next","error","complete"])?l=t:l={next:t,error:i,complete:r},l.next===void 0&&(l.next=Fd),l.error===void 0&&(l.error=Fd),l.complete===void 0&&(l.complete=Fd);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),c}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,t)}sendOne(t,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{i(this.observers[t])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function z1(s,t){if(typeof s!="object"||s===null)return!1;for(const i of t)if(i in s&&typeof s[i]=="function")return!0;return!1}function Fd(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pe(s){return s&&s._delegate?s._delegate:s}class Zr{constructor(t,i,r){this.name=t,this.instanceFactory=i,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fr="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j1{constructor(t,i){this.name=t,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const i=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(i)){const r=new E1;if(this.instancesDeferred.set(i,r),this.isInitialized(i)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:i});l&&r.resolve(l)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(t){const i=this.normalizeInstanceIdentifier(t?.identifier),r=t?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(l){if(r)return null;throw l}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(q1(t))try{this.getOrInitializeService({instanceIdentifier:Fr})}catch{}for(const[i,r]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);try{const c=this.getOrInitializeService({instanceIdentifier:l});r.resolve(c)}catch{}}}}clearInstance(t=Fr){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...t.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Fr){return this.instances.has(t)}getOptions(t=Fr){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:i={}}=t,r=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:r,options:i});for(const[c,d]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(c);r===p&&d.resolve(l)}return l}onInit(t,i){const r=this.normalizeInstanceIdentifier(i),l=this.onInitCallbacks.get(r)??new Set;l.add(t),this.onInitCallbacks.set(r,l);const c=this.instances.get(r);return c&&t(c,r),()=>{l.delete(t)}}invokeOnInitCallbacks(t,i){const r=this.onInitCallbacks.get(i);if(r)for(const l of r)try{l(t,i)}catch{}}getOrInitializeService({instanceIdentifier:t,options:i={}}){let r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:B1(t),options:i}),this.instances.set(t,r),this.instancesOptions.set(t,i),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch{}return r||null}normalizeInstanceIdentifier(t=Fr){return this.component?this.component.multipleInstances?t:Fr:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function B1(s){return s===Fr?void 0:s}function q1(s){return s.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H1{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const i=this.getProvider(t.name);if(i.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);i.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const i=new j1(t,this);return this.providers.set(t,i),i}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var xt;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(xt||(xt={}));const F1={debug:xt.DEBUG,verbose:xt.VERBOSE,info:xt.INFO,warn:xt.WARN,error:xt.ERROR,silent:xt.SILENT},G1=xt.INFO,Q1={[xt.DEBUG]:"log",[xt.VERBOSE]:"log",[xt.INFO]:"info",[xt.WARN]:"warn",[xt.ERROR]:"error"},Y1=(s,t,...i)=>{if(t<s.logLevel)return;const r=new Date().toISOString(),l=Q1[t];if(l)console[l](`[${r}]  ${s.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class Nm{constructor(t){this.name=t,this._logLevel=G1,this._logHandler=Y1,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in xt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?F1[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,xt.DEBUG,...t),this._logHandler(this,xt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,xt.VERBOSE,...t),this._logHandler(this,xt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,xt.INFO,...t),this._logHandler(this,xt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,xt.WARN,...t),this._logHandler(this,xt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,xt.ERROR,...t),this._logHandler(this,xt.ERROR,...t)}}const K1=(s,t)=>t.some(i=>s instanceof i);let cv,hv;function X1(){return cv||(cv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function $1(){return hv||(hv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const QE=new WeakMap,im=new WeakMap,YE=new WeakMap,Gd=new WeakMap,Dm=new WeakMap;function Z1(s){const t=new Promise((i,r)=>{const l=()=>{s.removeEventListener("success",c),s.removeEventListener("error",d)},c=()=>{i(Ws(s.result)),l()},d=()=>{r(s.error),l()};s.addEventListener("success",c),s.addEventListener("error",d)});return t.then(i=>{i instanceof IDBCursor&&QE.set(i,s)}).catch(()=>{}),Dm.set(t,s),t}function J1(s){if(im.has(s))return;const t=new Promise((i,r)=>{const l=()=>{s.removeEventListener("complete",c),s.removeEventListener("error",d),s.removeEventListener("abort",d)},c=()=>{i(),l()},d=()=>{r(s.error||new DOMException("AbortError","AbortError")),l()};s.addEventListener("complete",c),s.addEventListener("error",d),s.addEventListener("abort",d)});im.set(s,t)}let sm={get(s,t,i){if(s instanceof IDBTransaction){if(t==="done")return im.get(s);if(t==="objectStoreNames")return s.objectStoreNames||YE.get(s);if(t==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return Ws(s[t])},set(s,t,i){return s[t]=i,!0},has(s,t){return s instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in s}};function W1(s){sm=s(sm)}function tb(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...i){const r=s.call(Qd(this),t,...i);return YE.set(r,t.sort?t.sort():[t]),Ws(r)}:$1().includes(s)?function(...t){return s.apply(Qd(this),t),Ws(QE.get(this))}:function(...t){return Ws(s.apply(Qd(this),t))}}function eb(s){return typeof s=="function"?tb(s):(s instanceof IDBTransaction&&J1(s),K1(s,X1())?new Proxy(s,sm):s)}function Ws(s){if(s instanceof IDBRequest)return Z1(s);if(Gd.has(s))return Gd.get(s);const t=eb(s);return t!==s&&(Gd.set(s,t),Dm.set(t,s)),t}const Qd=s=>Dm.get(s);function nb(s,t,{blocked:i,upgrade:r,blocking:l,terminated:c}={}){const d=indexedDB.open(s,t),p=Ws(d);return r&&d.addEventListener("upgradeneeded",y=>{r(Ws(d.result),y.oldVersion,y.newVersion,Ws(d.transaction),y)}),i&&d.addEventListener("blocked",y=>i(y.oldVersion,y.newVersion,y)),p.then(y=>{c&&y.addEventListener("close",()=>c()),l&&y.addEventListener("versionchange",_=>l(_.oldVersion,_.newVersion,_))}).catch(()=>{}),p}const ib=["get","getKey","getAll","getAllKeys","count"],sb=["put","add","delete","clear"],Yd=new Map;function fv(s,t){if(!(s instanceof IDBDatabase&&!(t in s)&&typeof t=="string"))return;if(Yd.get(t))return Yd.get(t);const i=t.replace(/FromIndex$/,""),r=t!==i,l=sb.includes(i);if(!(i in(r?IDBIndex:IDBObjectStore).prototype)||!(l||ib.includes(i)))return;const c=async function(d,...p){const y=this.transaction(d,l?"readwrite":"readonly");let _=y.store;return r&&(_=_.index(p.shift())),(await Promise.all([_[i](...p),l&&y.done]))[0]};return Yd.set(t,c),c}W1(s=>({...s,get:(t,i,r)=>fv(t,i)||s.get(t,i,r),has:(t,i)=>!!fv(t,i)||s.has(t,i)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rb{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(ab(i)){const r=i.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(i=>i).join(" ")}}function ab(s){return s.getComponent()?.type==="VERSION"}const rm="@firebase/app",dv="0.14.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ls=new Nm("@firebase/app"),ob="@firebase/app-compat",lb="@firebase/analytics-compat",ub="@firebase/analytics",cb="@firebase/app-check-compat",hb="@firebase/app-check",fb="@firebase/auth",db="@firebase/auth-compat",mb="@firebase/database",gb="@firebase/data-connect",pb="@firebase/database-compat",yb="@firebase/functions",_b="@firebase/functions-compat",vb="@firebase/installations",Eb="@firebase/installations-compat",Tb="@firebase/messaging",Ab="@firebase/messaging-compat",Sb="@firebase/performance",bb="@firebase/performance-compat",wb="@firebase/remote-config",Rb="@firebase/remote-config-compat",Ib="@firebase/storage",Cb="@firebase/storage-compat",Nb="@firebase/firestore",Db="@firebase/ai",Ob="@firebase/firestore-compat",Vb="firebase",Mb="12.3.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const am="[DEFAULT]",xb={[rm]:"fire-core",[ob]:"fire-core-compat",[ub]:"fire-analytics",[lb]:"fire-analytics-compat",[hb]:"fire-app-check",[cb]:"fire-app-check-compat",[fb]:"fire-auth",[db]:"fire-auth-compat",[mb]:"fire-rtdb",[gb]:"fire-data-connect",[pb]:"fire-rtdb-compat",[yb]:"fire-fn",[_b]:"fire-fn-compat",[vb]:"fire-iid",[Eb]:"fire-iid-compat",[Tb]:"fire-fcm",[Ab]:"fire-fcm-compat",[Sb]:"fire-perf",[bb]:"fire-perf-compat",[wb]:"fire-rc",[Rb]:"fire-rc-compat",[Ib]:"fire-gcs",[Cb]:"fire-gcs-compat",[Nb]:"fire-fst",[Ob]:"fire-fst-compat",[Db]:"fire-vertex","fire-js":"fire-js",[Vb]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wc=new Map,Ub=new Map,om=new Map;function mv(s,t){try{s.container.addComponent(t)}catch(i){ls.debug(`Component ${t.name} failed to register with FirebaseApp ${s.name}`,i)}}function to(s){const t=s.name;if(om.has(t))return ls.debug(`There were multiple attempts to register component ${t}.`),!1;om.set(t,s);for(const i of Wc.values())mv(i,s);for(const i of Ub.values())mv(i,s);return!0}function Om(s,t){const i=s.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),s.container.getProvider(t)}function si(s){return s==null?!1:s.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lb={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},tr=new Fl("app","Firebase",Lb);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pb{constructor(t,i,r){this._isDeleted=!1,this._options={...t},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Zr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw tr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const co=Mb;function KE(s,t={}){let i=s;typeof t!="object"&&(t={name:t});const r={name:am,automaticDataCollectionEnabled:!0,...t},l=r.name;if(typeof l!="string"||!l)throw tr.create("bad-app-name",{appName:String(l)});if(i||(i=qE()),!i)throw tr.create("no-options");const c=Wc.get(l);if(c){if($r(i,c.options)&&$r(r,c.config))return c;throw tr.create("duplicate-app",{appName:l})}const d=new H1(l);for(const y of om.values())d.addComponent(y);const p=new Pb(i,r,d);return Wc.set(l,p),p}function XE(s=am){const t=Wc.get(s);if(!t&&s===am&&qE())return KE();if(!t)throw tr.create("no-app",{appName:s});return t}function er(s,t,i){let r=xb[s]??s;i&&(r+=`-${i}`);const l=r.match(/\s|\//),c=t.match(/\s|\//);if(l||c){const d=[`Unable to register library "${r}" with version "${t}":`];l&&d.push(`library name "${r}" contains illegal characters (whitespace or "/")`),l&&c&&d.push("and"),c&&d.push(`version name "${t}" contains illegal characters (whitespace or "/")`),ls.warn(d.join(" "));return}to(new Zr(`${r}-version`,()=>({library:r,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kb="firebase-heartbeat-database",zb=1,Ml="firebase-heartbeat-store";let Kd=null;function $E(){return Kd||(Kd=nb(kb,zb,{upgrade:(s,t)=>{switch(t){case 0:try{s.createObjectStore(Ml)}catch(i){console.warn(i)}}}}).catch(s=>{throw tr.create("idb-open",{originalErrorMessage:s.message})})),Kd}async function jb(s){try{const i=(await $E()).transaction(Ml),r=await i.objectStore(Ml).get(ZE(s));return await i.done,r}catch(t){if(t instanceof ds)ls.warn(t.message);else{const i=tr.create("idb-get",{originalErrorMessage:t?.message});ls.warn(i.message)}}}async function gv(s,t){try{const r=(await $E()).transaction(Ml,"readwrite");await r.objectStore(Ml).put(t,ZE(s)),await r.done}catch(i){if(i instanceof ds)ls.warn(i.message);else{const r=tr.create("idb-set",{originalErrorMessage:i?.message});ls.warn(r.message)}}}function ZE(s){return`${s.name}!${s.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bb=1024,qb=30;class Hb{constructor(t){this.container=t,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new Gb(i),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=pv();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(l=>l.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:i}),this._heartbeatsCache.heartbeats.length>qb){const l=Qb(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){ls.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=pv(),{heartbeatsToSend:i,unsentEntries:r}=Fb(this._heartbeatsCache.heartbeats),l=Jc(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(t){return ls.warn(t),""}}}function pv(){return new Date().toISOString().substring(0,10)}function Fb(s,t=Bb){const i=[];let r=s.slice();for(const l of s){const c=i.find(d=>d.agent===l.agent);if(c){if(c.dates.push(l.date),yv(i)>t){c.dates.pop();break}}else if(i.push({agent:l.agent,dates:[l.date]}),yv(i)>t){i.pop();break}r=r.slice(1)}return{heartbeatsToSend:i,unsentEntries:r}}class Gb{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return O1()?V1().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await jb(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const r=await this.read();return gv(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const r=await this.read();return gv(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...t.heartbeats]})}else return}}function yv(s){return Jc(JSON.stringify({version:2,heartbeats:s})).length}function Qb(s){if(s.length===0)return-1;let t=0,i=s[0].date;for(let r=1;r<s.length;r++)s[r].date<i&&(i=s[r].date,t=r);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yb(s){to(new Zr("platform-logger",t=>new rb(t),"PRIVATE")),to(new Zr("heartbeat",t=>new Hb(t),"PRIVATE")),er(rm,dv,s),er(rm,dv,"esm2020"),er("fire-js","")}Yb("");var Kb="firebase",Xb="12.3.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */er(Kb,Xb,"app");function JE(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const $b=JE,WE=new Fl("auth","Firebase",JE());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const th=new Nm("@firebase/auth");function Zb(s,...t){th.logLevel<=xt.WARN&&th.warn(`Auth (${co}): ${s}`,...t)}function qc(s,...t){th.logLevel<=xt.ERROR&&th.error(`Auth (${co}): ${s}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Li(s,...t){throw Mm(s,...t)}function ai(s,...t){return Mm(s,...t)}function Vm(s,t,i){const r={...$b(),[t]:i};return new Fl("auth","Firebase",r).create(t,{appName:s.name})}function Kr(s){return Vm(s,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Jb(s,t,i){const r=i;if(!(t instanceof r))throw r.name!==t.constructor.name&&Li(s,"argument-error"),Vm(s,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Mm(s,...t){if(typeof s!="string"){const i=t[0],r=[...t.slice(1)];return r[0]&&(r[0].appName=s.name),s._errorFactory.create(i,...r)}return WE.create(s,...t)}function Et(s,t,...i){if(!s)throw Mm(t,...i)}function as(s){const t="INTERNAL ASSERTION FAILED: "+s;throw qc(t),new Error(t)}function us(s,t){s||as(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lm(){return typeof self<"u"&&self.location?.href||""}function Wb(){return _v()==="http:"||_v()==="https:"}function _v(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tw(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Wb()||I1()||"connection"in navigator)?navigator.onLine:!0}function ew(){if(typeof navigator>"u")return null;const s=navigator;return s.languages&&s.languages[0]||s.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ql{constructor(t,i){this.shortDelay=t,this.longDelay=i,us(i>t,"Short delay should be less than long delay!"),this.isMobile=b1()||C1()}get(){return tw()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xm(s,t){us(s.emulator,"Emulator should always be set here");const{url:i}=s.emulator;return t?`${i}${t.startsWith("/")?t.slice(1):t}`:i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t0{static initialize(t,i,r){this.fetchImpl=t,i&&(this.headersImpl=i),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;as("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;as("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;as("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nw={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iw=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],sw=new Ql(3e4,6e4);function Um(s,t){return s.tenantId&&!t.tenantId?{...t,tenantId:s.tenantId}:t}async function ho(s,t,i,r,l={}){return e0(s,l,async()=>{let c={},d={};r&&(t==="GET"?d=r:c={body:JSON.stringify(r)});const p=Gl({key:s.config.apiKey,...d}).slice(1),y=await s._getAdditionalHeaders();y["Content-Type"]="application/json",s.languageCode&&(y["X-Firebase-Locale"]=s.languageCode);const _={method:t,headers:y,...c};return R1()||(_.referrerPolicy="no-referrer"),s.emulatorConfig&&uo(s.emulatorConfig.host)&&(_.credentials="include"),t0.fetch()(await n0(s,s.config.apiHost,i,p),_)})}async function e0(s,t,i){s._canInitEmulator=!1;const r={...nw,...t};try{const l=new aw(s),c=await Promise.race([i(),l.promise]);l.clearNetworkTimeout();const d=await c.json();if("needConfirmation"in d)throw Uc(s,"account-exists-with-different-credential",d);if(c.ok&&!("errorMessage"in d))return d;{const p=c.ok?d.errorMessage:d.error.message,[y,_]=p.split(" : ");if(y==="FEDERATED_USER_ID_ALREADY_LINKED")throw Uc(s,"credential-already-in-use",d);if(y==="EMAIL_EXISTS")throw Uc(s,"email-already-in-use",d);if(y==="USER_DISABLED")throw Uc(s,"user-disabled",d);const A=r[y]||y.toLowerCase().replace(/[_\s]+/g,"-");if(_)throw Vm(s,A,_);Li(s,A)}}catch(l){if(l instanceof ds)throw l;Li(s,"network-request-failed",{message:String(l)})}}async function rw(s,t,i,r,l={}){const c=await ho(s,t,i,r,l);return"mfaPendingCredential"in c&&Li(s,"multi-factor-auth-required",{_serverResponse:c}),c}async function n0(s,t,i,r){const l=`${t}${i}?${r}`,c=s,d=c.config.emulator?xm(s.config,l):`${s.config.apiScheme}://${l}`;return iw.includes(i)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(d).toString():d}class aw{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((i,r)=>{this.timer=setTimeout(()=>r(ai(this.auth,"network-request-failed")),sw.get())})}}function Uc(s,t,i){const r={appName:s.name};i.email&&(r.email=i.email),i.phoneNumber&&(r.phoneNumber=i.phoneNumber);const l=ai(s,t,r);return l.customData._tokenResponse=i,l}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ow(s,t){return ho(s,"POST","/v1/accounts:delete",t)}async function eh(s,t){return ho(s,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Il(s){if(s)try{const t=new Date(Number(s));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function lw(s,t=!1){const i=Pe(s),r=await i.getIdToken(t),l=Lm(r);Et(l&&l.exp&&l.auth_time&&l.iat,i.auth,"internal-error");const c=typeof l.firebase=="object"?l.firebase:void 0,d=c?.sign_in_provider;return{claims:l,token:r,authTime:Il(Xd(l.auth_time)),issuedAtTime:Il(Xd(l.iat)),expirationTime:Il(Xd(l.exp)),signInProvider:d||null,signInSecondFactor:c?.sign_in_second_factor||null}}function Xd(s){return Number(s)*1e3}function Lm(s){const[t,i,r]=s.split(".");if(t===void 0||i===void 0||r===void 0)return qc("JWT malformed, contained fewer than 3 sections"),null;try{const l=jE(i);return l?JSON.parse(l):(qc("Failed to decode base64 JWT payload"),null)}catch(l){return qc("Caught error parsing JWT payload as JSON",l?.toString()),null}}function vv(s){const t=Lm(s);return Et(t,"internal-error"),Et(typeof t.exp<"u","internal-error"),Et(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xl(s,t,i=!1){if(i)return t;try{return await t}catch(r){throw r instanceof ds&&uw(r)&&s.auth.currentUser===s&&await s.auth.signOut(),r}}function uw({code:s}){return s==="auth/user-disabled"||s==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cw{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(t=!1){if(!this.isRunning)return;const i=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class um{constructor(t,i){this.createdAt=t,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=Il(this.lastLoginAt),this.creationTime=Il(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nh(s){const t=s.auth,i=await s.getIdToken(),r=await xl(s,eh(t,{idToken:i}));Et(r?.users.length,t,"internal-error");const l=r.users[0];s._notifyReloadListener(l);const c=l.providerUserInfo?.length?i0(l.providerUserInfo):[],d=fw(s.providerData,c),p=s.isAnonymous,y=!(s.email&&l.passwordHash)&&!d?.length,_=p?y:!1,A={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:d,metadata:new um(l.createdAt,l.lastLoginAt),isAnonymous:_};Object.assign(s,A)}async function hw(s){const t=Pe(s);await nh(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function fw(s,t){return[...s.filter(r=>!t.some(l=>l.providerId===r.providerId)),...t]}function i0(s){return s.map(({providerId:t,...i})=>({providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dw(s,t){const i=await e0(s,{},async()=>{const r=Gl({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:l,apiKey:c}=s.config,d=await n0(s,l,"/v1/token",`key=${c}`),p=await s._getAdditionalHeaders();p["Content-Type"]="application/x-www-form-urlencoded";const y={method:"POST",headers:p,body:r};return s.emulatorConfig&&uo(s.emulatorConfig.host)&&(y.credentials="include"),t0.fetch()(d,y)});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function mw(s,t){return ho(s,"POST","/v2/accounts:revokeToken",Um(s,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $a{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){Et(t.idToken,"internal-error"),Et(typeof t.idToken<"u","internal-error"),Et(typeof t.refreshToken<"u","internal-error");const i="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):vv(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,i)}updateFromIdToken(t){Et(t.length!==0,"internal-error");const i=vv(t);this.updateTokensAndExpiration(t,null,i)}async getToken(t,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(Et(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,i){const{accessToken:r,refreshToken:l,expiresIn:c}=await dw(t,i);this.updateTokensAndExpiration(r,l,Number(c))}updateTokensAndExpiration(t,i,r){this.refreshToken=i||null,this.accessToken=t||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(t,i){const{refreshToken:r,accessToken:l,expirationTime:c}=i,d=new $a;return r&&(Et(typeof r=="string","internal-error",{appName:t}),d.refreshToken=r),l&&(Et(typeof l=="string","internal-error",{appName:t}),d.accessToken=l),c&&(Et(typeof c=="number","internal-error",{appName:t}),d.expirationTime=c),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new $a,this.toJSON())}_performRefresh(){return as("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ys(s,t){Et(typeof s=="string"||typeof s>"u","internal-error",{appName:t})}class ri{constructor({uid:t,auth:i,stsTokenManager:r,...l}){this.providerId="firebase",this.proactiveRefresh=new cw(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new um(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(t){const i=await xl(this,this.stsTokenManager.getToken(this.auth,t));return Et(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(t){return lw(this,t)}reload(){return hw(this)}_assign(t){this!==t&&(Et(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(i=>({...i})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const i=new ri({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return i.metadata._copy(this.metadata),i}_onReload(t){Et(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,i=!1){let r=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),i&&await nh(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(si(this.auth.app))return Promise.reject(Kr(this.auth));const t=await this.getIdToken();return await xl(this,ow(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,i){const r=i.displayName??void 0,l=i.email??void 0,c=i.phoneNumber??void 0,d=i.photoURL??void 0,p=i.tenantId??void 0,y=i._redirectEventId??void 0,_=i.createdAt??void 0,A=i.lastLoginAt??void 0,{uid:S,emailVerified:N,isAnonymous:F,providerData:Z,stsTokenManager:st}=i;Et(S&&st,t,"internal-error");const W=$a.fromJSON(this.name,st);Et(typeof S=="string",t,"internal-error"),Ys(r,t.name),Ys(l,t.name),Et(typeof N=="boolean",t,"internal-error"),Et(typeof F=="boolean",t,"internal-error"),Ys(c,t.name),Ys(d,t.name),Ys(p,t.name),Ys(y,t.name),Ys(_,t.name),Ys(A,t.name);const mt=new ri({uid:S,auth:t,email:l,emailVerified:N,displayName:r,isAnonymous:F,photoURL:d,phoneNumber:c,tenantId:p,stsTokenManager:W,createdAt:_,lastLoginAt:A});return Z&&Array.isArray(Z)&&(mt.providerData=Z.map(_t=>({..._t}))),y&&(mt._redirectEventId=y),mt}static async _fromIdTokenResponse(t,i,r=!1){const l=new $a;l.updateFromServerResponse(i);const c=new ri({uid:i.localId,auth:t,stsTokenManager:l,isAnonymous:r});return await nh(c),c}static async _fromGetAccountInfoResponse(t,i,r){const l=i.users[0];Et(l.localId!==void 0,"internal-error");const c=l.providerUserInfo!==void 0?i0(l.providerUserInfo):[],d=!(l.email&&l.passwordHash)&&!c?.length,p=new $a;p.updateFromIdToken(r);const y=new ri({uid:l.localId,auth:t,stsTokenManager:p,isAnonymous:d}),_={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:c,metadata:new um(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!c?.length};return Object.assign(y,_),y}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ev=new Map;function os(s){us(s instanceof Function,"Expected a class definition");let t=Ev.get(s);return t?(us(t instanceof s,"Instance stored in cache mismatched with class"),t):(t=new s,Ev.set(s,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s0{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,i){this.storage[t]=i}async _get(t){const i=this.storage[t];return i===void 0?null:i}async _remove(t){delete this.storage[t]}_addListener(t,i){}_removeListener(t,i){}}s0.type="NONE";const Tv=s0;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hc(s,t,i){return`firebase:${s}:${t}:${i}`}class Za{constructor(t,i,r){this.persistence=t,this.auth=i,this.userKey=r;const{config:l,name:c}=this.auth;this.fullUserKey=Hc(this.userKey,l.apiKey,c),this.fullPersistenceKey=Hc("persistence",l.apiKey,c),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const i=await eh(this.auth,{idToken:t}).catch(()=>{});return i?ri._fromGetAccountInfoResponse(this.auth,i,t):null}return ri._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,i,r="authUser"){if(!i.length)return new Za(os(Tv),t,r);const l=(await Promise.all(i.map(async _=>{if(await _._isAvailable())return _}))).filter(_=>_);let c=l[0]||os(Tv);const d=Hc(r,t.config.apiKey,t.name);let p=null;for(const _ of i)try{const A=await _._get(d);if(A){let S;if(typeof A=="string"){const N=await eh(t,{idToken:A}).catch(()=>{});if(!N)break;S=await ri._fromGetAccountInfoResponse(t,N,A)}else S=ri._fromJSON(t,A);_!==c&&(p=S),c=_;break}}catch{}const y=l.filter(_=>_._shouldAllowMigration);return!c._shouldAllowMigration||!y.length?new Za(c,t,r):(c=y[0],p&&await c._set(d,p.toJSON()),await Promise.all(i.map(async _=>{if(_!==c)try{await _._remove(d)}catch{}})),new Za(c,t,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Av(s){const t=s.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(l0(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(r0(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(c0(t))return"Blackberry";if(h0(t))return"Webos";if(a0(t))return"Safari";if((t.includes("chrome/")||o0(t))&&!t.includes("edge/"))return"Chrome";if(u0(t))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=s.match(i);if(r?.length===2)return r[1]}return"Other"}function r0(s=on()){return/firefox\//i.test(s)}function a0(s=on()){const t=s.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function o0(s=on()){return/crios\//i.test(s)}function l0(s=on()){return/iemobile/i.test(s)}function u0(s=on()){return/android/i.test(s)}function c0(s=on()){return/blackberry/i.test(s)}function h0(s=on()){return/webos/i.test(s)}function Pm(s=on()){return/iphone|ipad|ipod/i.test(s)||/macintosh/i.test(s)&&/mobile/i.test(s)}function gw(s=on()){return Pm(s)&&!!window.navigator?.standalone}function pw(){return N1()&&document.documentMode===10}function f0(s=on()){return Pm(s)||u0(s)||h0(s)||c0(s)||/windows phone/i.test(s)||l0(s)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d0(s,t=[]){let i;switch(s){case"Browser":i=Av(on());break;case"Worker":i=`${Av(on())}-${s}`;break;default:i=s}const r=t.length?t.join(","):"FirebaseCore-web";return`${i}/JsCore/${co}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yw{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,i){const r=c=>new Promise((d,p)=>{try{const y=t(c);d(y)}catch(y){p(y)}});r.onAbort=i,this.queue.push(r);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const i=[];try{for(const r of this.queue)await r(t),r.onAbort&&i.push(r.onAbort)}catch(r){i.reverse();for(const l of i)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _w(s,t={}){return ho(s,"GET","/v2/passwordPolicy",Um(s,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vw=6;class Ew{constructor(t){const i=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=i.minPasswordLength??vw,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),i.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),i.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),i.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),i.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const i={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,i),this.validatePasswordCharacterOptions(t,i),i.isValid&&(i.isValid=i.meetsMinPasswordLength??!0),i.isValid&&(i.isValid=i.meetsMaxPasswordLength??!0),i.isValid&&(i.isValid=i.containsLowercaseLetter??!0),i.isValid&&(i.isValid=i.containsUppercaseLetter??!0),i.isValid&&(i.isValid=i.containsNumericCharacter??!0),i.isValid&&(i.isValid=i.containsNonAlphanumericCharacter??!0),i}validatePasswordLengthOptions(t,i){const r=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;r&&(i.meetsMinPasswordLength=t.length>=r),l&&(i.meetsMaxPasswordLength=t.length<=l)}validatePasswordCharacterOptions(t,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let r;for(let l=0;l<t.length;l++)r=t.charAt(l),this.updatePasswordCharacterOptionsStatuses(i,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(t,i,r,l,c){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tw{constructor(t,i,r,l){this.app=t,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=r,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Sv(this),this.idTokenSubscription=new Sv(this),this.beforeStateQueue=new yw(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=WE,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=l.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(t,i){return i&&(this._popupRedirectResolver=os(i)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Za.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const i=await eh(this,{idToken:t}),r=await ri._fromGetAccountInfoResponse(this,i,t);await this.directlySetCurrentUser(r)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(si(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let r=i,l=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,d=r?._redirectEventId,p=await this.tryRedirectSignIn(t);(!c||c===d)&&p?.user&&(r=p.user,l=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(r)}catch(c){r=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Et(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(t){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(t){try{await nh(t)}catch(i){if(i?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=ew()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(si(this.app))return Promise.reject(Kr(this));const i=t?Pe(t):null;return i&&Et(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(t,i=!1){if(!this._deleted)return t&&Et(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return si(this.app)?Promise.reject(Kr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return si(this.app)?Promise.reject(Kr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(os(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await _w(this),i=new Ew(t);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new Fl("auth","Firebase",t())}onAuthStateChanged(t,i,r){return this.registerStateListener(this.authStateSubscription,t,i,r)}beforeAuthStateChanged(t,i){return this.beforeStateQueue.pushCallback(t,i)}onIdTokenChanged(t,i,r){return this.registerStateListener(this.idTokenSubscription,t,i,r)}authStateReady(){return new Promise((t,i)=>{if(this.currentUser)t();else{const r=this.onAuthStateChanged(()=>{r(),t()},i)}})}async revokeAccessToken(t){if(this.currentUser){const i=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:i};this.tenantId!=null&&(r.tenantId=this.tenantId),await mw(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,i){const r=await this.getOrInitRedirectPersistenceManager(i);return t===null?r.removeCurrentUser():r.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const i=t&&os(t)||this._popupRedirectResolver;Et(i,this,"argument-error"),this.redirectPersistenceManager=await Za.create(this,[os(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,i,r,l){if(this._deleted)return()=>{};const c=typeof i=="function"?i:i.next.bind(i);let d=!1;const p=this._isInitialized?Promise.resolve():this._initializationPromise;if(Et(p,this,"internal-error"),p.then(()=>{d||c(this.currentUser)}),typeof i=="function"){const y=t.addObserver(i,r,l);return()=>{d=!0,y()}}else{const y=t.addObserver(i);return()=>{d=!0,y()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return Et(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=d0(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const i=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();i&&(t["X-Firebase-Client"]=i);const r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){if(si(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&Zb(`Error while retrieving App Check token: ${t.error}`),t?.token}}function vh(s){return Pe(s)}class Sv{constructor(t){this.auth=t,this.observer=null,this.addObserver=P1(i=>this.observer=i)}get next(){return Et(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let km={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Aw(s){km=s}function Sw(s){return km.loadJS(s)}function bw(){return km.gapiScript}function ww(s){return`__${s}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rw(s,t){const i=Om(s,"auth");if(i.isInitialized()){const l=i.getImmediate(),c=i.getOptions();if($r(c,t??{}))return l;Li(l,"already-initialized")}return i.initialize({options:t})}function Iw(s,t){const i=t?.persistence||[],r=(Array.isArray(i)?i:[i]).map(os);t?.errorMap&&s._updateErrorMap(t.errorMap),s._initializeWithPersistence(r,t?.popupRedirectResolver)}function Cw(s,t,i){const r=vh(s);Et(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const l=!1,c=m0(t),{host:d,port:p}=Nw(t),y=p===null?"":`:${p}`,_={url:`${c}//${d}${y}/`},A=Object.freeze({host:d,port:p,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!r._canInitEmulator){Et(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Et($r(_,r.config.emulator)&&$r(A,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=_,r.emulatorConfig=A,r.settings.appVerificationDisabledForTesting=!0,uo(d)?(FE(`${c}//${d}${y}`),GE("Auth",!0)):Dw()}function m0(s){const t=s.indexOf(":");return t<0?"":s.substr(0,t+1)}function Nw(s){const t=m0(s),i=/(\/\/)?([^?#/]+)/.exec(s.substr(t.length));if(!i)return{host:"",port:null};const r=i[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(r);if(l){const c=l[1];return{host:c,port:bv(r.substr(c.length+1))}}else{const[c,d]=r.split(":");return{host:c,port:bv(d)}}}function bv(s){if(!s)return null;const t=Number(s);return isNaN(t)?null:t}function Dw(){function s(){const t=document.createElement("p"),i=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",s):s())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g0{constructor(t,i){this.providerId=t,this.signInMethod=i}toJSON(){return as("not implemented")}_getIdTokenResponse(t){return as("not implemented")}_linkToIdToken(t,i){return as("not implemented")}_getReauthenticationResolver(t){return as("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ja(s,t){return rw(s,"POST","/v1/accounts:signInWithIdp",Um(s,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ow="http://localhost";class Jr extends g0{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const i=new Jr(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(i.idToken=t.idToken),t.accessToken&&(i.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(i.nonce=t.nonce),t.pendingToken&&(i.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(i.accessToken=t.oauthToken,i.secret=t.oauthTokenSecret):Li("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const i=typeof t=="string"?JSON.parse(t):t,{providerId:r,signInMethod:l,...c}=i;if(!r||!l)return null;const d=new Jr(r,l);return d.idToken=c.idToken||void 0,d.accessToken=c.accessToken||void 0,d.secret=c.secret,d.nonce=c.nonce,d.pendingToken=c.pendingToken||null,d}_getIdTokenResponse(t){const i=this.buildRequest();return Ja(t,i)}_linkToIdToken(t,i){const r=this.buildRequest();return r.idToken=i,Ja(t,r)}_getReauthenticationResolver(t){const i=this.buildRequest();return i.autoCreate=!1,Ja(t,i)}buildRequest(){const t={requestUri:Ow,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),t.postBody=Gl(i)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zm{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yl extends zm{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xs extends Yl{constructor(){super("facebook.com")}static credential(t){return Jr._fromParams({providerId:Xs.PROVIDER_ID,signInMethod:Xs.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Xs.credentialFromTaggedObject(t)}static credentialFromError(t){return Xs.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Xs.credential(t.oauthAccessToken)}catch{return null}}}Xs.FACEBOOK_SIGN_IN_METHOD="facebook.com";Xs.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rs extends Yl{constructor(){super("google.com"),this.addScope("profile")}static credential(t,i){return Jr._fromParams({providerId:rs.PROVIDER_ID,signInMethod:rs.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:i})}static credentialFromResult(t){return rs.credentialFromTaggedObject(t)}static credentialFromError(t){return rs.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:i,oauthAccessToken:r}=t;if(!i&&!r)return null;try{return rs.credential(i,r)}catch{return null}}}rs.GOOGLE_SIGN_IN_METHOD="google.com";rs.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $s extends Yl{constructor(){super("github.com")}static credential(t){return Jr._fromParams({providerId:$s.PROVIDER_ID,signInMethod:$s.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return $s.credentialFromTaggedObject(t)}static credentialFromError(t){return $s.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return $s.credential(t.oauthAccessToken)}catch{return null}}}$s.GITHUB_SIGN_IN_METHOD="github.com";$s.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zs extends Yl{constructor(){super("twitter.com")}static credential(t,i){return Jr._fromParams({providerId:Zs.PROVIDER_ID,signInMethod:Zs.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:i})}static credentialFromResult(t){return Zs.credentialFromTaggedObject(t)}static credentialFromError(t){return Zs.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:i,oauthTokenSecret:r}=t;if(!i||!r)return null;try{return Zs.credential(i,r)}catch{return null}}}Zs.TWITTER_SIGN_IN_METHOD="twitter.com";Zs.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eo{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,i,r,l=!1){const c=await ri._fromIdTokenResponse(t,r,l),d=wv(r);return new eo({user:c,providerId:d,_tokenResponse:r,operationType:i})}static async _forOperation(t,i,r){await t._updateTokensIfNecessary(r,!0);const l=wv(r);return new eo({user:t,providerId:l,_tokenResponse:r,operationType:i})}}function wv(s){return s.providerId?s.providerId:"phoneNumber"in s?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ih extends ds{constructor(t,i,r,l){super(i.code,i.message),this.operationType=r,this.user=l,Object.setPrototypeOf(this,ih.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:i.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(t,i,r,l){return new ih(t,i,r,l)}}function p0(s,t,i,r){return(t==="reauthenticate"?i._getReauthenticationResolver(s):i._getIdTokenResponse(s)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?ih._fromErrorAndOperation(s,c,t,r):c})}async function Vw(s,t,i=!1){const r=await xl(s,t._linkToIdToken(s.auth,await s.getIdToken()),i);return eo._forOperation(s,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Mw(s,t,i=!1){const{auth:r}=s;if(si(r.app))return Promise.reject(Kr(r));const l="reauthenticate";try{const c=await xl(s,p0(r,l,t,s),i);Et(c.idToken,r,"internal-error");const d=Lm(c.idToken);Et(d,r,"internal-error");const{sub:p}=d;return Et(s.uid===p,r,"user-mismatch"),eo._forOperation(s,l,c)}catch(c){throw c?.code==="auth/user-not-found"&&Li(r,"user-mismatch"),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xw(s,t,i=!1){if(si(s.app))return Promise.reject(Kr(s));const r="signIn",l=await p0(s,r,t),c=await eo._fromIdTokenResponse(s,r,l);return i||await s._updateCurrentUser(c.user),c}function Uw(s,t,i,r){return Pe(s).onIdTokenChanged(t,i,r)}function Lw(s,t,i){return Pe(s).beforeAuthStateChanged(t,i)}function Pw(s,t,i,r){return Pe(s).onAuthStateChanged(t,i,r)}function kw(s){return Pe(s).signOut()}const sh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y0{constructor(t,i){this.storageRetriever=t,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(sh,"1"),this.storage.removeItem(sh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,i){return this.storage.setItem(t,JSON.stringify(i)),Promise.resolve()}_get(t){const i=this.storage.getItem(t);return Promise.resolve(i?JSON.parse(i):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zw=1e3,jw=10;class _0 extends y0{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,i)=>this.onStorageEvent(t,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=f0(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const i of Object.keys(this.listeners)){const r=this.storage.getItem(i),l=this.localCache[i];r!==l&&t(i,l,r)}}onStorageEvent(t,i=!1){if(!t.key){this.forAllChangedKeys((d,p,y)=>{this.notifyListeners(d,y)});return}const r=t.key;i?this.detachListener():this.stopPolling();const l=()=>{const d=this.storage.getItem(r);!i&&this.localCache[r]===d||this.notifyListeners(r,d)},c=this.storage.getItem(r);pw()&&c!==t.newValue&&t.newValue!==t.oldValue?setTimeout(l,jw):l()}notifyListeners(t,i){this.localCache[t]=i;const r=this.listeners[t];if(r)for(const l of Array.from(r))l(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,i,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:i,newValue:r}),!0)})},zw)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,i){await super._set(t,i),this.localCache[t]=JSON.stringify(i)}async _get(t){const i=await super._get(t);return this.localCache[t]=JSON.stringify(i),i}async _remove(t){await super._remove(t),delete this.localCache[t]}}_0.type="LOCAL";const Bw=_0;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v0 extends y0{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,i){}_removeListener(t,i){}}v0.type="SESSION";const E0=v0;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qw(s){return Promise.all(s.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(i){return{fulfilled:!1,reason:i}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eh{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const i=this.receivers.find(l=>l.isListeningto(t));if(i)return i;const r=new Eh(t);return this.receivers.push(r),r}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const i=t,{eventId:r,eventType:l,data:c}=i.data,d=this.handlersMap[l];if(!d?.size)return;i.ports[0].postMessage({status:"ack",eventId:r,eventType:l});const p=Array.from(d).map(async _=>_(i.origin,c)),y=await qw(p);i.ports[0].postMessage({status:"done",eventId:r,eventType:l,response:y})}_subscribe(t,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(i)}_unsubscribe(t,i){this.handlersMap[t]&&i&&this.handlersMap[t].delete(i),(!i||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Eh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jm(s="",t=10){let i="";for(let r=0;r<t;r++)i+=Math.floor(Math.random()*10);return s+i}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hw{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,i,r=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let c,d;return new Promise((p,y)=>{const _=jm("",20);l.port1.start();const A=setTimeout(()=>{y(new Error("unsupported_event"))},r);d={messageChannel:l,onMessage(S){const N=S;if(N.data.eventId===_)switch(N.data.status){case"ack":clearTimeout(A),c=setTimeout(()=>{y(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),p(N.data.response);break;default:clearTimeout(A),clearTimeout(c),y(new Error("invalid_response"));break}}},this.handlers.add(d),l.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:t,eventId:_,data:i},[l.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oi(){return window}function Fw(s){Oi().location.href=s}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T0(){return typeof Oi().WorkerGlobalScope<"u"&&typeof Oi().importScripts=="function"}async function Gw(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Qw(){return navigator?.serviceWorker?.controller||null}function Yw(){return T0()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A0="firebaseLocalStorageDb",Kw=1,rh="firebaseLocalStorage",S0="fbase_key";class Kl{constructor(t){this.request=t}toPromise(){return new Promise((t,i)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function Th(s,t){return s.transaction([rh],t?"readwrite":"readonly").objectStore(rh)}function Xw(){const s=indexedDB.deleteDatabase(A0);return new Kl(s).toPromise()}function cm(){const s=indexedDB.open(A0,Kw);return new Promise((t,i)=>{s.addEventListener("error",()=>{i(s.error)}),s.addEventListener("upgradeneeded",()=>{const r=s.result;try{r.createObjectStore(rh,{keyPath:S0})}catch(l){i(l)}}),s.addEventListener("success",async()=>{const r=s.result;r.objectStoreNames.contains(rh)?t(r):(r.close(),await Xw(),t(await cm()))})})}async function Rv(s,t,i){const r=Th(s,!0).put({[S0]:t,value:i});return new Kl(r).toPromise()}async function $w(s,t){const i=Th(s,!1).get(t),r=await new Kl(i).toPromise();return r===void 0?null:r.value}function Iv(s,t){const i=Th(s,!0).delete(t);return new Kl(i).toPromise()}const Zw=800,Jw=3;class b0{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await cm(),this.db)}async _withRetries(t){let i=0;for(;;)try{const r=await this._openDb();return await t(r)}catch(r){if(i++>Jw)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return T0()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Eh._getInstance(Yw()),this.receiver._subscribe("keyChanged",async(t,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(t,i)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await Gw(),!this.activeServiceWorker)return;this.sender=new Hw(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||Qw()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await cm();return await Rv(t,sh,"1"),await Iv(t,sh),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,i){return this._withPendingWrite(async()=>(await this._withRetries(r=>Rv(r,t,i)),this.localCache[t]=i,this.notifyServiceWorker(t)))}async _get(t){const i=await this._withRetries(r=>$w(r,t));return this.localCache[t]=i,i}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(i=>Iv(i,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(l=>{const c=Th(l,!1).getAll();return new Kl(c).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const i=[],r=new Set;if(t.length!==0)for(const{fbase_key:l,value:c}of t)r.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(c)&&(this.notifyListeners(l,c),i.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!r.has(l)&&(this.notifyListeners(l,null),i.push(l));return i}notifyListeners(t,i){this.localCache[t]=i;const r=this.listeners[t];if(r)for(const l of Array.from(r))l(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Zw)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}b0.type="LOCAL";const Ww=b0;new Ql(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w0(s,t){return t?os(t):(Et(s._popupRedirectResolver,s,"argument-error"),s._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bm extends g0{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Ja(t,this._buildIdpRequest())}_linkToIdToken(t,i){return Ja(t,this._buildIdpRequest(i))}_getReauthenticationResolver(t){return Ja(t,this._buildIdpRequest())}_buildIdpRequest(t){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(i.idToken=t),i}}function tR(s){return xw(s.auth,new Bm(s),s.bypassAuthState)}function eR(s){const{auth:t,user:i}=s;return Et(i,t,"internal-error"),Mw(i,new Bm(s),s.bypassAuthState)}async function nR(s){const{auth:t,user:i}=s;return Et(i,t,"internal-error"),Vw(i,new Bm(s),s.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R0{constructor(t,i,r,l,c=!1){this.auth=t,this.resolver=r,this.user=l,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(t,i)=>{this.pendingPromise={resolve:t,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(t){const{urlResponse:i,sessionId:r,postBody:l,tenantId:c,error:d,type:p}=t;if(d){this.reject(d);return}const y={auth:this.auth,requestUri:i,sessionId:r,tenantId:c||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(p)(y))}catch(_){this.reject(_)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return tR;case"linkViaPopup":case"linkViaRedirect":return nR;case"reauthViaPopup":case"reauthViaRedirect":return eR;default:Li(this.auth,"internal-error")}}resolve(t){us(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){us(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iR=new Ql(2e3,1e4);async function sR(s,t,i){if(si(s.app))return Promise.reject(ai(s,"operation-not-supported-in-this-environment"));const r=vh(s);Jb(s,t,zm);const l=w0(r,i);return new Qr(r,"signInViaPopup",t,l).executeNotNull()}class Qr extends R0{constructor(t,i,r,l,c){super(t,i,l,c),this.provider=r,this.authWindow=null,this.pollId=null,Qr.currentPopupAction&&Qr.currentPopupAction.cancel(),Qr.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return Et(t,this.auth,"internal-error"),t}async onExecution(){us(this.filter.length===1,"Popup operations only handle one event");const t=jm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(ai(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(ai(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Qr.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ai(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,iR.get())};t()}}Qr.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rR="pendingRedirect",Fc=new Map;class aR extends R0{constructor(t,i,r=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,r),this.eventId=null}async execute(){let t=Fc.get(this.auth._key());if(!t){try{const r=await oR(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(r)}catch(i){t=()=>Promise.reject(i)}Fc.set(this.auth._key(),t)}return this.bypassAuthState||Fc.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const i=await this.auth._redirectUserForId(t.eventId);if(i)return this.user=i,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function oR(s,t){const i=cR(t),r=uR(s);if(!await r._isAvailable())return!1;const l=await r._get(i)==="true";return await r._remove(i),l}function lR(s,t){Fc.set(s._key(),t)}function uR(s){return os(s._redirectPersistence)}function cR(s){return Hc(rR,s.config.apiKey,s.name)}async function hR(s,t,i=!1){if(si(s.app))return Promise.reject(Kr(s));const r=vh(s),l=w0(r,t),d=await new aR(r,l,i).execute();return d&&!i&&(delete d.user._redirectEventId,await r._persistUserIfCurrent(d.user),await r._setRedirectUser(null,t)),d}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fR=600*1e3;class dR{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let i=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(t,r)&&(i=!0,this.sendToConsumer(t,r),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!mR(t)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=t,i=!0)),i}sendToConsumer(t,i){if(t.error&&!I0(t)){const r=t.error.code?.split("auth/")[1]||"internal-error";i.onError(ai(this.auth,r))}else i.onAuthEvent(t)}isEventForConsumer(t,i){const r=i.eventId===null||!!t.eventId&&t.eventId===i.eventId;return i.filter.includes(t.type)&&r}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=fR&&this.cachedEventUids.clear(),this.cachedEventUids.has(Cv(t))}saveEventToCache(t){this.cachedEventUids.add(Cv(t)),this.lastProcessedEventTime=Date.now()}}function Cv(s){return[s.type,s.eventId,s.sessionId,s.tenantId].filter(t=>t).join("-")}function I0({type:s,error:t}){return s==="unknown"&&t?.code==="auth/no-auth-event"}function mR(s){switch(s.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return I0(s);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gR(s,t={}){return ho(s,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pR=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,yR=/^https?/;async function _R(s){if(s.config.emulator)return;const{authorizedDomains:t}=await gR(s);for(const i of t)try{if(vR(i))return}catch{}Li(s,"unauthorized-domain")}function vR(s){const t=lm(),{protocol:i,hostname:r}=new URL(t);if(s.startsWith("chrome-extension://")){const d=new URL(s);return d.hostname===""&&r===""?i==="chrome-extension:"&&s.replace("chrome-extension://","")===t.replace("chrome-extension://",""):i==="chrome-extension:"&&d.hostname===r}if(!yR.test(i))return!1;if(pR.test(s))return r===s;const l=s.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ER=new Ql(3e4,6e4);function Nv(){const s=Oi().___jsl;if(s?.H){for(const t of Object.keys(s.H))if(s.H[t].r=s.H[t].r||[],s.H[t].L=s.H[t].L||[],s.H[t].r=[...s.H[t].L],s.CP)for(let i=0;i<s.CP.length;i++)s.CP[i]=null}}function TR(s){return new Promise((t,i)=>{function r(){Nv(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{Nv(),i(ai(s,"network-request-failed"))},timeout:ER.get()})}if(Oi().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(Oi().gapi?.load)r();else{const l=ww("iframefcb");return Oi()[l]=()=>{gapi.load?r():i(ai(s,"network-request-failed"))},Sw(`${bw()}?onload=${l}`).catch(c=>i(c))}}).catch(t=>{throw Gc=null,t})}let Gc=null;function AR(s){return Gc=Gc||TR(s),Gc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SR=new Ql(5e3,15e3),bR="__/auth/iframe",wR="emulator/auth/iframe",RR={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},IR=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function CR(s){const t=s.config;Et(t.authDomain,s,"auth-domain-config-required");const i=t.emulator?xm(t,wR):`https://${s.config.authDomain}/${bR}`,r={apiKey:t.apiKey,appName:s.name,v:co},l=IR.get(s.config.apiHost);l&&(r.eid=l);const c=s._getFrameworks();return c.length&&(r.fw=c.join(",")),`${i}?${Gl(r).slice(1)}`}async function NR(s){const t=await AR(s),i=Oi().gapi;return Et(i,s,"internal-error"),t.open({where:document.body,url:CR(s),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:RR,dontclear:!0},r=>new Promise(async(l,c)=>{await r.restyle({setHideOnLeave:!1});const d=ai(s,"network-request-failed"),p=Oi().setTimeout(()=>{c(d)},SR.get());function y(){Oi().clearTimeout(p),l(r)}r.ping(y).then(y,()=>{c(d)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DR={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},OR=500,VR=600,MR="_blank",xR="http://localhost";class Dv{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function UR(s,t,i,r=OR,l=VR){const c=Math.max((window.screen.availHeight-l)/2,0).toString(),d=Math.max((window.screen.availWidth-r)/2,0).toString();let p="";const y={...DR,width:r.toString(),height:l.toString(),top:c,left:d},_=on().toLowerCase();i&&(p=o0(_)?MR:i),r0(_)&&(t=t||xR,y.scrollbars="yes");const A=Object.entries(y).reduce((N,[F,Z])=>`${N}${F}=${Z},`,"");if(gw(_)&&p!=="_self")return LR(t||"",p),new Dv(null);const S=window.open(t||"",p,A);Et(S,s,"popup-blocked");try{S.focus()}catch{}return new Dv(S)}function LR(s,t){const i=document.createElement("a");i.href=s,i.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PR="__/auth/handler",kR="emulator/auth/handler",zR=encodeURIComponent("fac");async function Ov(s,t,i,r,l,c){Et(s.config.authDomain,s,"auth-domain-config-required"),Et(s.config.apiKey,s,"invalid-api-key");const d={apiKey:s.config.apiKey,appName:s.name,authType:i,redirectUrl:r,v:co,eventId:l};if(t instanceof zm){t.setDefaultLanguage(s.languageCode),d.providerId=t.providerId||"",L1(t.getCustomParameters())||(d.customParameters=JSON.stringify(t.getCustomParameters()));for(const[A,S]of Object.entries({}))d[A]=S}if(t instanceof Yl){const A=t.getScopes().filter(S=>S!=="");A.length>0&&(d.scopes=A.join(","))}s.tenantId&&(d.tid=s.tenantId);const p=d;for(const A of Object.keys(p))p[A]===void 0&&delete p[A];const y=await s._getAppCheckToken(),_=y?`#${zR}=${encodeURIComponent(y)}`:"";return`${jR(s)}?${Gl(p).slice(1)}${_}`}function jR({config:s}){return s.emulator?xm(s,kR):`https://${s.authDomain}/${PR}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $d="webStorageSupport";class BR{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=E0,this._completeRedirectFn=hR,this._overrideRedirectResult=lR}async _openPopup(t,i,r,l){us(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const c=await Ov(t,i,r,lm(),l);return UR(t,c,jm())}async _openRedirect(t,i,r,l){await this._originValidation(t);const c=await Ov(t,i,r,lm(),l);return Fw(c),new Promise(()=>{})}_initialize(t){const i=t._key();if(this.eventManagers[i]){const{manager:l,promise:c}=this.eventManagers[i];return l?Promise.resolve(l):(us(c,"If manager is not set, promise should be"),c)}const r=this.initAndGetManager(t);return this.eventManagers[i]={promise:r},r.catch(()=>{delete this.eventManagers[i]}),r}async initAndGetManager(t){const i=await NR(t),r=new dR(t);return i.register("authEvent",l=>(Et(l?.authEvent,t,"invalid-auth-event"),{status:r.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=i,r}_isIframeWebStorageSupported(t,i){this.iframes[t._key()].send($d,{type:$d},l=>{const c=l?.[0]?.[$d];c!==void 0&&i(!!c),Li(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const i=t._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=_R(t)),this.originValidationPromises[i]}get _shouldInitProactively(){return f0()||a0()||Pm()}}const qR=BR;var Vv="@firebase/auth",Mv="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HR{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const i=this.auth.onIdTokenChanged(r=>{t(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,i),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const i=this.internalListeners.get(t);i&&(this.internalListeners.delete(t),i(),this.updateProactiveRefresh())}assertAuthConfigured(){Et(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FR(s){switch(s){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function GR(s){to(new Zr("auth",(t,{options:i})=>{const r=t.getProvider("app").getImmediate(),l=t.getProvider("heartbeat"),c=t.getProvider("app-check-internal"),{apiKey:d,authDomain:p}=r.options;Et(d&&!d.includes(":"),"invalid-api-key",{appName:r.name});const y={apiKey:d,authDomain:p,clientPlatform:s,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:d0(s)},_=new Tw(r,l,c,y);return Iw(_,i),_},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,i,r)=>{t.getProvider("auth-internal").initialize()})),to(new Zr("auth-internal",t=>{const i=vh(t.getProvider("auth").getImmediate());return(r=>new HR(r))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),er(Vv,Mv,FR(s)),er(Vv,Mv,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QR=300,YR=HE("authIdTokenMaxAge")||QR;let xv=null;const KR=s=>async t=>{const i=t&&await t.getIdTokenResult(),r=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(r&&r>YR)return;const l=i?.token;xv!==l&&(xv=l,await fetch(s,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function XR(s=XE()){const t=Om(s,"auth");if(t.isInitialized())return t.getImmediate();const i=Rw(s,{popupRedirectResolver:qR,persistence:[Ww,Bw,E0]}),r=HE("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(r,location.origin);if(location.origin===c.origin){const d=KR(c.toString());Lw(i,d,()=>d(i.currentUser)),Uw(i,p=>d(p))}}const l=BE("auth");return l&&Cw(i,`http://${l}`),i}function $R(){return document.getElementsByTagName("head")?.[0]??document}Aw({loadJS(s){return new Promise((t,i)=>{const r=document.createElement("script");r.setAttribute("src",s),r.onload=t,r.onerror=l=>{const c=ai("internal-error");c.customData=l,i(c)},r.type="text/javascript",r.charset="UTF-8",$R().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});GR("Browser");var Uv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var nr,C0;(function(){var s;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(C,b){function I(){}I.prototype=b.prototype,C.F=b.prototype,C.prototype=new I,C.prototype.constructor=C,C.D=function(M,D,U){for(var w=Array(arguments.length-2),se=2;se<arguments.length;se++)w[se-2]=arguments[se];return b.prototype[D].apply(M,w)}}function i(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(r,i),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(C,b,I){I||(I=0);const M=Array(16);if(typeof b=="string")for(var D=0;D<16;++D)M[D]=b.charCodeAt(I++)|b.charCodeAt(I++)<<8|b.charCodeAt(I++)<<16|b.charCodeAt(I++)<<24;else for(D=0;D<16;++D)M[D]=b[I++]|b[I++]<<8|b[I++]<<16|b[I++]<<24;b=C.g[0],I=C.g[1],D=C.g[2];let U=C.g[3],w;w=b+(U^I&(D^U))+M[0]+3614090360&4294967295,b=I+(w<<7&4294967295|w>>>25),w=U+(D^b&(I^D))+M[1]+3905402710&4294967295,U=b+(w<<12&4294967295|w>>>20),w=D+(I^U&(b^I))+M[2]+606105819&4294967295,D=U+(w<<17&4294967295|w>>>15),w=I+(b^D&(U^b))+M[3]+3250441966&4294967295,I=D+(w<<22&4294967295|w>>>10),w=b+(U^I&(D^U))+M[4]+4118548399&4294967295,b=I+(w<<7&4294967295|w>>>25),w=U+(D^b&(I^D))+M[5]+1200080426&4294967295,U=b+(w<<12&4294967295|w>>>20),w=D+(I^U&(b^I))+M[6]+2821735955&4294967295,D=U+(w<<17&4294967295|w>>>15),w=I+(b^D&(U^b))+M[7]+4249261313&4294967295,I=D+(w<<22&4294967295|w>>>10),w=b+(U^I&(D^U))+M[8]+1770035416&4294967295,b=I+(w<<7&4294967295|w>>>25),w=U+(D^b&(I^D))+M[9]+2336552879&4294967295,U=b+(w<<12&4294967295|w>>>20),w=D+(I^U&(b^I))+M[10]+4294925233&4294967295,D=U+(w<<17&4294967295|w>>>15),w=I+(b^D&(U^b))+M[11]+2304563134&4294967295,I=D+(w<<22&4294967295|w>>>10),w=b+(U^I&(D^U))+M[12]+1804603682&4294967295,b=I+(w<<7&4294967295|w>>>25),w=U+(D^b&(I^D))+M[13]+4254626195&4294967295,U=b+(w<<12&4294967295|w>>>20),w=D+(I^U&(b^I))+M[14]+2792965006&4294967295,D=U+(w<<17&4294967295|w>>>15),w=I+(b^D&(U^b))+M[15]+1236535329&4294967295,I=D+(w<<22&4294967295|w>>>10),w=b+(D^U&(I^D))+M[1]+4129170786&4294967295,b=I+(w<<5&4294967295|w>>>27),w=U+(I^D&(b^I))+M[6]+3225465664&4294967295,U=b+(w<<9&4294967295|w>>>23),w=D+(b^I&(U^b))+M[11]+643717713&4294967295,D=U+(w<<14&4294967295|w>>>18),w=I+(U^b&(D^U))+M[0]+3921069994&4294967295,I=D+(w<<20&4294967295|w>>>12),w=b+(D^U&(I^D))+M[5]+3593408605&4294967295,b=I+(w<<5&4294967295|w>>>27),w=U+(I^D&(b^I))+M[10]+38016083&4294967295,U=b+(w<<9&4294967295|w>>>23),w=D+(b^I&(U^b))+M[15]+3634488961&4294967295,D=U+(w<<14&4294967295|w>>>18),w=I+(U^b&(D^U))+M[4]+3889429448&4294967295,I=D+(w<<20&4294967295|w>>>12),w=b+(D^U&(I^D))+M[9]+568446438&4294967295,b=I+(w<<5&4294967295|w>>>27),w=U+(I^D&(b^I))+M[14]+3275163606&4294967295,U=b+(w<<9&4294967295|w>>>23),w=D+(b^I&(U^b))+M[3]+4107603335&4294967295,D=U+(w<<14&4294967295|w>>>18),w=I+(U^b&(D^U))+M[8]+1163531501&4294967295,I=D+(w<<20&4294967295|w>>>12),w=b+(D^U&(I^D))+M[13]+2850285829&4294967295,b=I+(w<<5&4294967295|w>>>27),w=U+(I^D&(b^I))+M[2]+4243563512&4294967295,U=b+(w<<9&4294967295|w>>>23),w=D+(b^I&(U^b))+M[7]+1735328473&4294967295,D=U+(w<<14&4294967295|w>>>18),w=I+(U^b&(D^U))+M[12]+2368359562&4294967295,I=D+(w<<20&4294967295|w>>>12),w=b+(I^D^U)+M[5]+4294588738&4294967295,b=I+(w<<4&4294967295|w>>>28),w=U+(b^I^D)+M[8]+2272392833&4294967295,U=b+(w<<11&4294967295|w>>>21),w=D+(U^b^I)+M[11]+1839030562&4294967295,D=U+(w<<16&4294967295|w>>>16),w=I+(D^U^b)+M[14]+4259657740&4294967295,I=D+(w<<23&4294967295|w>>>9),w=b+(I^D^U)+M[1]+2763975236&4294967295,b=I+(w<<4&4294967295|w>>>28),w=U+(b^I^D)+M[4]+1272893353&4294967295,U=b+(w<<11&4294967295|w>>>21),w=D+(U^b^I)+M[7]+4139469664&4294967295,D=U+(w<<16&4294967295|w>>>16),w=I+(D^U^b)+M[10]+3200236656&4294967295,I=D+(w<<23&4294967295|w>>>9),w=b+(I^D^U)+M[13]+681279174&4294967295,b=I+(w<<4&4294967295|w>>>28),w=U+(b^I^D)+M[0]+3936430074&4294967295,U=b+(w<<11&4294967295|w>>>21),w=D+(U^b^I)+M[3]+3572445317&4294967295,D=U+(w<<16&4294967295|w>>>16),w=I+(D^U^b)+M[6]+76029189&4294967295,I=D+(w<<23&4294967295|w>>>9),w=b+(I^D^U)+M[9]+3654602809&4294967295,b=I+(w<<4&4294967295|w>>>28),w=U+(b^I^D)+M[12]+3873151461&4294967295,U=b+(w<<11&4294967295|w>>>21),w=D+(U^b^I)+M[15]+530742520&4294967295,D=U+(w<<16&4294967295|w>>>16),w=I+(D^U^b)+M[2]+3299628645&4294967295,I=D+(w<<23&4294967295|w>>>9),w=b+(D^(I|~U))+M[0]+4096336452&4294967295,b=I+(w<<6&4294967295|w>>>26),w=U+(I^(b|~D))+M[7]+1126891415&4294967295,U=b+(w<<10&4294967295|w>>>22),w=D+(b^(U|~I))+M[14]+2878612391&4294967295,D=U+(w<<15&4294967295|w>>>17),w=I+(U^(D|~b))+M[5]+4237533241&4294967295,I=D+(w<<21&4294967295|w>>>11),w=b+(D^(I|~U))+M[12]+1700485571&4294967295,b=I+(w<<6&4294967295|w>>>26),w=U+(I^(b|~D))+M[3]+2399980690&4294967295,U=b+(w<<10&4294967295|w>>>22),w=D+(b^(U|~I))+M[10]+4293915773&4294967295,D=U+(w<<15&4294967295|w>>>17),w=I+(U^(D|~b))+M[1]+2240044497&4294967295,I=D+(w<<21&4294967295|w>>>11),w=b+(D^(I|~U))+M[8]+1873313359&4294967295,b=I+(w<<6&4294967295|w>>>26),w=U+(I^(b|~D))+M[15]+4264355552&4294967295,U=b+(w<<10&4294967295|w>>>22),w=D+(b^(U|~I))+M[6]+2734768916&4294967295,D=U+(w<<15&4294967295|w>>>17),w=I+(U^(D|~b))+M[13]+1309151649&4294967295,I=D+(w<<21&4294967295|w>>>11),w=b+(D^(I|~U))+M[4]+4149444226&4294967295,b=I+(w<<6&4294967295|w>>>26),w=U+(I^(b|~D))+M[11]+3174756917&4294967295,U=b+(w<<10&4294967295|w>>>22),w=D+(b^(U|~I))+M[2]+718787259&4294967295,D=U+(w<<15&4294967295|w>>>17),w=I+(U^(D|~b))+M[9]+3951481745&4294967295,C.g[0]=C.g[0]+b&4294967295,C.g[1]=C.g[1]+(D+(w<<21&4294967295|w>>>11))&4294967295,C.g[2]=C.g[2]+D&4294967295,C.g[3]=C.g[3]+U&4294967295}r.prototype.v=function(C,b){b===void 0&&(b=C.length);const I=b-this.blockSize,M=this.C;let D=this.h,U=0;for(;U<b;){if(D==0)for(;U<=I;)l(this,C,U),U+=this.blockSize;if(typeof C=="string"){for(;U<b;)if(M[D++]=C.charCodeAt(U++),D==this.blockSize){l(this,M),D=0;break}}else for(;U<b;)if(M[D++]=C[U++],D==this.blockSize){l(this,M),D=0;break}}this.h=D,this.o+=b},r.prototype.A=function(){var C=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);C[0]=128;for(var b=1;b<C.length-8;++b)C[b]=0;b=this.o*8;for(var I=C.length-8;I<C.length;++I)C[I]=b&255,b/=256;for(this.v(C),C=Array(16),b=0,I=0;I<4;++I)for(let M=0;M<32;M+=8)C[b++]=this.g[I]>>>M&255;return C};function c(C,b){var I=p;return Object.prototype.hasOwnProperty.call(I,C)?I[C]:I[C]=b(C)}function d(C,b){this.h=b;const I=[];let M=!0;for(let D=C.length-1;D>=0;D--){const U=C[D]|0;M&&U==b||(I[D]=U,M=!1)}this.g=I}var p={};function y(C){return-128<=C&&C<128?c(C,function(b){return new d([b|0],b<0?-1:0)}):new d([C|0],C<0?-1:0)}function _(C){if(isNaN(C)||!isFinite(C))return S;if(C<0)return W(_(-C));const b=[];let I=1;for(let M=0;C>=I;M++)b[M]=C/I|0,I*=4294967296;return new d(b,0)}function A(C,b){if(C.length==0)throw Error("number format error: empty string");if(b=b||10,b<2||36<b)throw Error("radix out of range: "+b);if(C.charAt(0)=="-")return W(A(C.substring(1),b));if(C.indexOf("-")>=0)throw Error('number format error: interior "-" character');const I=_(Math.pow(b,8));let M=S;for(let U=0;U<C.length;U+=8){var D=Math.min(8,C.length-U);const w=parseInt(C.substring(U,U+D),b);D<8?(D=_(Math.pow(b,D)),M=M.j(D).add(_(w))):(M=M.j(I),M=M.add(_(w)))}return M}var S=y(0),N=y(1),F=y(16777216);s=d.prototype,s.m=function(){if(st(this))return-W(this).m();let C=0,b=1;for(let I=0;I<this.g.length;I++){const M=this.i(I);C+=(M>=0?M:4294967296+M)*b,b*=4294967296}return C},s.toString=function(C){if(C=C||10,C<2||36<C)throw Error("radix out of range: "+C);if(Z(this))return"0";if(st(this))return"-"+W(this).toString(C);const b=_(Math.pow(C,6));var I=this;let M="";for(;;){const D=Pt(I,b).g;I=mt(I,D.j(b));let U=((I.g.length>0?I.g[0]:I.h)>>>0).toString(C);if(I=D,Z(I))return U+M;for(;U.length<6;)U="0"+U;M=U+M}},s.i=function(C){return C<0?0:C<this.g.length?this.g[C]:this.h};function Z(C){if(C.h!=0)return!1;for(let b=0;b<C.g.length;b++)if(C.g[b]!=0)return!1;return!0}function st(C){return C.h==-1}s.l=function(C){return C=mt(this,C),st(C)?-1:Z(C)?0:1};function W(C){const b=C.g.length,I=[];for(let M=0;M<b;M++)I[M]=~C.g[M];return new d(I,~C.h).add(N)}s.abs=function(){return st(this)?W(this):this},s.add=function(C){const b=Math.max(this.g.length,C.g.length),I=[];let M=0;for(let D=0;D<=b;D++){let U=M+(this.i(D)&65535)+(C.i(D)&65535),w=(U>>>16)+(this.i(D)>>>16)+(C.i(D)>>>16);M=w>>>16,U&=65535,w&=65535,I[D]=w<<16|U}return new d(I,I[I.length-1]&-2147483648?-1:0)};function mt(C,b){return C.add(W(b))}s.j=function(C){if(Z(this)||Z(C))return S;if(st(this))return st(C)?W(this).j(W(C)):W(W(this).j(C));if(st(C))return W(this.j(W(C)));if(this.l(F)<0&&C.l(F)<0)return _(this.m()*C.m());const b=this.g.length+C.g.length,I=[];for(var M=0;M<2*b;M++)I[M]=0;for(M=0;M<this.g.length;M++)for(let D=0;D<C.g.length;D++){const U=this.i(M)>>>16,w=this.i(M)&65535,se=C.i(D)>>>16,ge=C.i(D)&65535;I[2*M+2*D]+=w*ge,_t(I,2*M+2*D),I[2*M+2*D+1]+=U*ge,_t(I,2*M+2*D+1),I[2*M+2*D+1]+=w*se,_t(I,2*M+2*D+1),I[2*M+2*D+2]+=U*se,_t(I,2*M+2*D+2)}for(C=0;C<b;C++)I[C]=I[2*C+1]<<16|I[2*C];for(C=b;C<2*b;C++)I[C]=0;return new d(I,0)};function _t(C,b){for(;(C[b]&65535)!=C[b];)C[b+1]+=C[b]>>>16,C[b]&=65535,b++}function pt(C,b){this.g=C,this.h=b}function Pt(C,b){if(Z(b))throw Error("division by zero");if(Z(C))return new pt(S,S);if(st(C))return b=Pt(W(C),b),new pt(W(b.g),W(b.h));if(st(b))return b=Pt(C,W(b)),new pt(W(b.g),b.h);if(C.g.length>30){if(st(C)||st(b))throw Error("slowDivide_ only works with positive integers.");for(var I=N,M=b;M.l(C)<=0;)I=Xt(I),M=Xt(M);var D=zt(I,1),U=zt(M,1);for(M=zt(M,2),I=zt(I,2);!Z(M);){var w=U.add(M);w.l(C)<=0&&(D=D.add(I),U=w),M=zt(M,1),I=zt(I,1)}return b=mt(C,D.j(b)),new pt(D,b)}for(D=S;C.l(b)>=0;){for(I=Math.max(1,Math.floor(C.m()/b.m())),M=Math.ceil(Math.log(I)/Math.LN2),M=M<=48?1:Math.pow(2,M-48),U=_(I),w=U.j(b);st(w)||w.l(C)>0;)I-=M,U=_(I),w=U.j(b);Z(U)&&(U=N),D=D.add(U),C=mt(C,w)}return new pt(D,C)}s.B=function(C){return Pt(this,C).h},s.and=function(C){const b=Math.max(this.g.length,C.g.length),I=[];for(let M=0;M<b;M++)I[M]=this.i(M)&C.i(M);return new d(I,this.h&C.h)},s.or=function(C){const b=Math.max(this.g.length,C.g.length),I=[];for(let M=0;M<b;M++)I[M]=this.i(M)|C.i(M);return new d(I,this.h|C.h)},s.xor=function(C){const b=Math.max(this.g.length,C.g.length),I=[];for(let M=0;M<b;M++)I[M]=this.i(M)^C.i(M);return new d(I,this.h^C.h)};function Xt(C){const b=C.g.length+1,I=[];for(let M=0;M<b;M++)I[M]=C.i(M)<<1|C.i(M-1)>>>31;return new d(I,C.h)}function zt(C,b){const I=b>>5;b%=32;const M=C.g.length-I,D=[];for(let U=0;U<M;U++)D[U]=b>0?C.i(U+I)>>>b|C.i(U+I+1)<<32-b:C.i(U+I);return new d(D,C.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,C0=r,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=_,d.fromString=A,nr=d}).apply(typeof Uv<"u"?Uv:typeof self<"u"?self:typeof window<"u"?window:{});var Lc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var N0,Al,D0,Qc,hm,O0,V0,M0;(function(){var s,t=Object.defineProperty;function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Lc=="object"&&Lc];for(var m=0;m<u.length;++m){var v=u[m];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var r=i(this);function l(u,m){if(m)t:{var v=r;u=u.split(".");for(var T=0;T<u.length-1;T++){var L=u[T];if(!(L in v))break t;v=v[L]}u=u[u.length-1],T=v[u],m=m(T),m!=T&&m!=null&&t(v,u,{configurable:!0,writable:!0,value:m})}}l("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),l("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),l("Object.entries",function(u){return u||function(m){var v=[],T;for(T in m)Object.prototype.hasOwnProperty.call(m,T)&&v.push([T,m[T]]);return v}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var c=c||{},d=this||self;function p(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function y(u,m,v){return u.call.apply(u.bind,arguments)}function _(u,m,v){return _=y,_.apply(null,arguments)}function A(u,m){var v=Array.prototype.slice.call(arguments,1);return function(){var T=v.slice();return T.push.apply(T,arguments),u.apply(this,T)}}function S(u,m){function v(){}v.prototype=m.prototype,u.Z=m.prototype,u.prototype=new v,u.prototype.constructor=u,u.Ob=function(T,L,j){for(var tt=Array(arguments.length-2),wt=2;wt<arguments.length;wt++)tt[wt-2]=arguments[wt];return m.prototype[L].apply(T,tt)}}var N=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function F(u){const m=u.length;if(m>0){const v=Array(m);for(let T=0;T<m;T++)v[T]=u[T];return v}return[]}function Z(u,m){for(let T=1;T<arguments.length;T++){const L=arguments[T];var v=typeof L;if(v=v!="object"?v:L?Array.isArray(L)?"array":v:"null",v=="array"||v=="object"&&typeof L.length=="number"){v=u.length||0;const j=L.length||0;u.length=v+j;for(let tt=0;tt<j;tt++)u[v+tt]=L[tt]}else u.push(L)}}class st{constructor(m,v){this.i=m,this.j=v,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function W(u){d.setTimeout(()=>{throw u},0)}function mt(){var u=C;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class _t{constructor(){this.h=this.g=null}add(m,v){const T=pt.get();T.set(m,v),this.h?this.h.next=T:this.g=T,this.h=T}}var pt=new st(()=>new Pt,u=>u.reset());class Pt{constructor(){this.next=this.g=this.h=null}set(m,v){this.h=m,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let Xt,zt=!1,C=new _t,b=()=>{const u=Promise.resolve(void 0);Xt=()=>{u.then(I)}};function I(){for(var u;u=mt();){try{u.h.call(u.g)}catch(v){W(v)}var m=pt;m.j(u),m.h<100&&(m.h++,u.next=m.g,m.g=u)}zt=!1}function M(){this.u=this.u,this.C=this.C}M.prototype.u=!1,M.prototype.dispose=function(){this.u||(this.u=!0,this.N())},M.prototype[Symbol.dispose]=function(){this.dispose()},M.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function D(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}D.prototype.h=function(){this.defaultPrevented=!0};var U=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const v=()=>{};d.addEventListener("test",v,m),d.removeEventListener("test",v,m)}catch{}return u})();function w(u){return/^[\s\xa0]*$/.test(u)}function se(u,m){D.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,m)}S(se,D),se.prototype.init=function(u,m){const v=this.type=u.type,T=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget,m||(v=="mouseover"?m=u.fromElement:v=="mouseout"&&(m=u.toElement)),this.relatedTarget=m,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&se.Z.h.call(this)},se.prototype.h=function(){se.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var ge="closure_listenable_"+(Math.random()*1e6|0),q=0;function nt(u,m,v,T,L){this.listener=u,this.proxy=null,this.src=m,this.type=v,this.capture=!!T,this.ha=L,this.key=++q,this.da=this.fa=!1}function ut(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Dt(u,m,v){for(const T in u)m.call(v,u[T],T,u)}function Gt(u,m){for(const v in u)m.call(void 0,u[v],v,u)}function V(u){const m={};for(const v in u)m[v]=u[v];return m}const Y="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function et(u,m){let v,T;for(let L=1;L<arguments.length;L++){T=arguments[L];for(v in T)u[v]=T[v];for(let j=0;j<Y.length;j++)v=Y[j],Object.prototype.hasOwnProperty.call(T,v)&&(u[v]=T[v])}}function rt(u){this.src=u,this.g={},this.h=0}rt.prototype.add=function(u,m,v,T,L){const j=u.toString();u=this.g[j],u||(u=this.g[j]=[],this.h++);const tt=bt(u,m,T,L);return tt>-1?(m=u[tt],v||(m.fa=!1)):(m=new nt(m,this.src,j,!!T,L),m.fa=v,u.push(m)),m};function vt(u,m){const v=m.type;if(v in u.g){var T=u.g[v],L=Array.prototype.indexOf.call(T,m,void 0),j;(j=L>=0)&&Array.prototype.splice.call(T,L,1),j&&(ut(m),u.g[v].length==0&&(delete u.g[v],u.h--))}}function bt(u,m,v,T){for(let L=0;L<u.length;++L){const j=u[L];if(!j.da&&j.listener==m&&j.capture==!!v&&j.ha==T)return L}return-1}var Ot="closure_lm_"+(Math.random()*1e6|0),_e={};function J(u,m,v,T,L){if(Array.isArray(m)){for(let j=0;j<m.length;j++)J(u,m[j],v,T,L);return null}return v=_o(v),u&&u[ge]?u.J(m,v,p(T)?!!T.capture:!1,L):ct(u,m,v,!1,T,L)}function ct(u,m,v,T,L,j){if(!m)throw Error("Invalid event type");const tt=p(L)?!!L.capture:!!L;let wt=Qt(u);if(wt||(u[Ot]=wt=new rt(u)),v=wt.add(m,v,T,tt,j),v.proxy)return v;if(T=qt(),v.proxy=T,T.src=u,T.listener=v,u.addEventListener)U||(L=tt),L===void 0&&(L=!1),u.addEventListener(m.toString(),T,L);else if(u.attachEvent)u.attachEvent(ae(m.toString()),T);else if(u.addListener&&u.removeListener)u.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return v}function qt(){function u(v){return m.call(u.src,u.listener,v)}const m=be;return u}function At(u,m,v,T,L){if(Array.isArray(m))for(var j=0;j<m.length;j++)At(u,m[j],v,T,L);else T=p(T)?!!T.capture:!!T,v=_o(v),u&&u[ge]?(u=u.i,j=String(m).toString(),j in u.g&&(m=u.g[j],v=bt(m,v,T,L),v>-1&&(ut(m[v]),Array.prototype.splice.call(m,v,1),m.length==0&&(delete u.g[j],u.h--)))):u&&(u=Qt(u))&&(m=u.g[m.toString()],u=-1,m&&(u=bt(m,v,T,L)),(v=u>-1?m[u]:null)&&ke(v))}function ke(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[ge])vt(m.i,u);else{var v=u.type,T=u.proxy;m.removeEventListener?m.removeEventListener(v,T,u.capture):m.detachEvent?m.detachEvent(ae(v),T):m.addListener&&m.removeListener&&m.removeListener(T),(v=Qt(m))?(vt(v,u),v.h==0&&(v.src=null,m[Ot]=null)):ut(u)}}}function ae(u){return u in _e?_e[u]:_e[u]="on"+u}function be(u,m){if(u.da)u=!0;else{m=new se(m,this);const v=u.listener,T=u.ha||u.src;u.fa&&ke(u),u=v.call(T,m)}return u}function Qt(u){return u=u[Ot],u instanceof rt?u:null}var ki="__closure_events_fn_"+(Math.random()*1e9>>>0);function _o(u){return typeof u=="function"?u:(u[ki]||(u[ki]=function(m){return u.handleEvent(m)}),u[ki])}function we(){M.call(this),this.i=new rt(this),this.M=this,this.G=null}S(we,M),we.prototype[ge]=!0,we.prototype.removeEventListener=function(u,m,v,T){At(this,u,m,v,T)};function ze(u,m){var v,T=u.G;if(T)for(v=[];T;T=T.G)v.push(T);if(u=u.M,T=m.type||m,typeof m=="string")m=new D(m,u);else if(m instanceof D)m.target=m.target||u;else{var L=m;m=new D(T,u),et(m,L)}L=!0;let j,tt;if(v)for(tt=v.length-1;tt>=0;tt--)j=m.g=v[tt],L=ms(j,T,!0,m)&&L;if(j=m.g=u,L=ms(j,T,!0,m)&&L,L=ms(j,T,!1,m)&&L,v)for(tt=0;tt<v.length;tt++)j=m.g=v[tt],L=ms(j,T,!1,m)&&L}we.prototype.N=function(){if(we.Z.N.call(this),this.i){var u=this.i;for(const m in u.g){const v=u.g[m];for(let T=0;T<v.length;T++)ut(v[T]);delete u.g[m],u.h--}}this.G=null},we.prototype.J=function(u,m,v,T){return this.i.add(String(u),m,!1,v,T)},we.prototype.K=function(u,m,v,T){return this.i.add(String(u),m,!0,v,T)};function ms(u,m,v,T){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();let L=!0;for(let j=0;j<m.length;++j){const tt=m[j];if(tt&&!tt.da&&tt.capture==v){const wt=tt.listener,Ee=tt.ha||tt.src;tt.fa&&vt(u.i,tt),L=wt.call(Ee,T)!==!1&&L}}return L&&!T.defaultPrevented}function zh(u,m){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=_(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(u,m||0)}function au(u){u.g=zh(()=>{u.g=null,u.i&&(u.i=!1,au(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class ln extends M{constructor(m,v){super(),this.m=m,this.l=v,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:au(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function mr(u){M.call(this),this.h=u,this.g={}}S(mr,M);var vo=[];function Eo(u){Dt(u.g,function(m,v){this.g.hasOwnProperty(v)&&ke(m)},u),u.g={}}mr.prototype.N=function(){mr.Z.N.call(this),Eo(this)},mr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var gs=d.JSON.stringify,jh=d.JSON.parse,ou=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function lu(){}function uu(){}var Qn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Ye(){D.call(this,"d")}S(Ye,D);function Mn(){D.call(this,"c")}S(Mn,D);var ve={},cu=null;function ia(){return cu=cu||new we}ve.Ia="serverreachability";function hu(u){D.call(this,ve.Ia,u)}S(hu,D);function li(u){const m=ia();ze(m,new hu(m))}ve.STAT_EVENT="statevent";function gr(u,m){D.call(this,ve.STAT_EVENT,u),this.stat=m}S(gr,D);function Re(u){const m=ia();ze(m,new gr(m,u))}ve.Ja="timingevent";function ui(u,m){D.call(this,ve.Ja,u),this.size=m}S(ui,D);function ci(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},m)}function Yn(){this.g=!0}Yn.prototype.ua=function(){this.g=!1};function Bh(u,m,v,T,L,j){u.info(function(){if(u.g)if(j){var tt="",wt=j.split("&");for(let Yt=0;Yt<wt.length;Yt++){var Ee=wt[Yt].split("=");if(Ee.length>1){const ce=Ee[0];Ee=Ee[1];const Pn=ce.split("_");tt=Pn.length>=2&&Pn[1]=="type"?tt+(ce+"="+Ee+"&"):tt+(ce+"=redacted&")}}}else tt=null;else tt=j;return"XMLHTTP REQ ("+T+") [attempt "+L+"]: "+m+`
`+v+`
`+tt})}function fu(u,m,v,T,L,j,tt){u.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+L+"]: "+m+`
`+v+`
`+j+" "+tt})}function hi(u,m,v,T){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+qh(u,v)+(T?" "+T:"")})}function pr(u,m){u.info(function(){return"TIMEOUT: "+m})}Yn.prototype.info=function(){};function qh(u,m){if(!u.g)return m;if(!m)return null;try{const j=JSON.parse(m);if(j){for(u=0;u<j.length;u++)if(Array.isArray(j[u])){var v=j[u];if(!(v.length<2)){var T=v[1];if(Array.isArray(T)&&!(T.length<1)){var L=T[0];if(L!="noop"&&L!="stop"&&L!="close")for(let tt=1;tt<T.length;tt++)T[tt]=""}}}}return gs(j)}catch{return m}}var yr={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},To={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Ao;function _r(){}S(_r,lu),_r.prototype.g=function(){return new XMLHttpRequest},Ao=new _r;function zi(u){return encodeURIComponent(String(u))}function du(u){var m=1;u=u.split(":");const v=[];for(;m>0&&u.length;)v.push(u.shift()),m--;return u.length&&v.push(u.join(":")),v}function Kn(u,m,v,T){this.j=u,this.i=m,this.l=v,this.S=T||1,this.V=new mr(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Xn}function Xn(){this.i=null,this.g="",this.h=!1}var Ie={},qe={};function fi(u,m,v){u.M=1,u.A=vr(Ne(m)),u.u=v,u.R=!0,sa(u,null)}function sa(u,m){u.F=Date.now(),di(u),u.B=Ne(u.A);var v=u.B,T=u.S;Array.isArray(T)||(T=[String(T)]),la(v.i,"t",T),u.C=0,v=u.j.L,u.h=new Xn,u.g=Cu(u.j,v?m:null,!u.u),u.P>0&&(u.O=new ln(_(u.Y,u,u.g),u.P)),m=u.V,v=u.g,T=u.ba;var L="readystatechange";Array.isArray(L)||(L&&(vo[0]=L.toString()),L=vo);for(let j=0;j<L.length;j++){const tt=J(v,L[j],T||m.handleEvent,!1,m.h||m);if(!tt)break;m.g[tt.key]=tt}m=u.J?V(u.J):{},u.u?(u.v||(u.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,m)):(u.v="GET",u.g.ea(u.B,u.v,null,m)),li(),Bh(u.i,u.v,u.B,u.l,u.S,u.u)}Kn.prototype.ba=function(u){u=u.target;const m=this.O;m&&Jn(u)==3?m.j():this.Y(u)},Kn.prototype.Y=function(u){try{if(u==this.g)t:{const wt=Jn(this.g),Ee=this.g.ya(),Yt=this.g.ca();if(!(wt<3)&&(wt!=3||this.g&&(this.h.h||this.g.la()||Ke(this.g)))){this.K||wt!=4||Ee==7||(Ee==8||Yt<=0?li(3):li(2)),mi(this);var m=this.g.ca();this.X=m;var v=Hh(this);if(this.o=m==200,fu(this.i,this.v,this.B,this.l,this.S,wt,m),this.o){if(this.U&&!this.L){e:{if(this.g){var T,L=this.g;if((T=L.g?L.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!w(T)){var j=T;break e}}j=null}if(u=j)hi(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,gi(this,u);else{this.o=!1,this.m=3,Re(12),Tn(this),xn(this);break t}}if(this.R){u=!0;let ce;for(;!this.K&&this.C<v.length;)if(ce=gu(this,v),ce==qe){wt==4&&(this.m=4,Re(14),u=!1),hi(this.i,this.l,null,"[Incomplete Response]");break}else if(ce==Ie){this.m=4,Re(15),hi(this.i,this.l,v,"[Invalid Chunk]"),u=!1;break}else hi(this.i,this.l,ce,null),gi(this,ce);if(mu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),wt!=4||v.length!=0||this.h.h||(this.m=1,Re(16),u=!1),this.o=this.o&&u,!u)hi(this.i,this.l,v,"[Invalid Chunked Response]"),Tn(this),xn(this);else if(v.length>0&&!this.W){this.W=!0;var tt=this.j;tt.g==this&&tt.aa&&!tt.P&&(tt.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),Po(tt),tt.P=!0,Re(11))}}else hi(this.i,this.l,v,null),gi(this,v);wt==4&&Tn(this),this.o&&!this.K&&(wt==4?bu(this.j,this):(this.o=!1,di(this)))}else Bi(this.g),m==400&&v.indexOf("Unknown SID")>0?(this.m=3,Re(12)):(this.m=0,Re(13)),Tn(this),xn(this)}}}catch{}finally{}};function Hh(u){if(!mu(u))return u.g.la();const m=Ke(u.g);if(m==="")return"";let v="";const T=m.length,L=Jn(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return Tn(u),xn(u),"";u.h.i=new d.TextDecoder}for(let j=0;j<T;j++)u.h.h=!0,v+=u.h.i.decode(m[j],{stream:!(L&&j==T-1)});return m.length=0,u.h.g+=v,u.C=0,u.h.g}function mu(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function gu(u,m){var v=u.C,T=m.indexOf(`
`,v);return T==-1?qe:(v=Number(m.substring(v,T)),isNaN(v)?Ie:(T+=1,T+v>m.length?qe:(m=m.slice(T,T+v),u.C=T+v,m)))}Kn.prototype.cancel=function(){this.K=!0,Tn(this)};function di(u){u.T=Date.now()+u.H,ra(u,u.H)}function ra(u,m){if(u.D!=null)throw Error("WatchDog timer not null");u.D=ci(_(u.aa,u),m)}function mi(u){u.D&&(d.clearTimeout(u.D),u.D=null)}Kn.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(pr(this.i,this.B),this.M!=2&&(li(),Re(17)),Tn(this),this.m=2,xn(this)):ra(this,this.T-u)};function xn(u){u.j.I==0||u.K||bu(u.j,u)}function Tn(u){mi(u);var m=u.O;m&&typeof m.dispose=="function"&&m.dispose(),u.O=null,Eo(u.V),u.g&&(m=u.g,u.g=null,m.abort(),m.dispose())}function gi(u,m){try{var v=u.j;if(v.I!=0&&(v.g==u||yi(v.h,u))){if(!u.L&&yi(v.h,u)&&v.I==3){try{var T=v.Ba.g.parse(m)}catch{T=null}if(Array.isArray(T)&&T.length==3){var L=T;if(L[0]==0){t:if(!v.v){if(v.g)if(v.g.F+3e3<u.F)da(v),Ss(v);else break t;Rr(v),Re(18)}}else v.xa=L[1],0<v.xa-v.K&&L[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=ci(_(v.Va,v),6e3));pi(v.h)<=1&&v.ta&&(v.ta=void 0)}else Si(v,11)}else if((u.L||v.g==u)&&da(v),!w(m))for(L=v.Ba.g.parse(m),m=0;m<L.length;m++){let Yt=L[m];const ce=Yt[0];if(!(ce<=v.K))if(v.K=ce,Yt=Yt[1],v.I==2)if(Yt[0]=="c"){v.M=Yt[1],v.ba=Yt[2];const Pn=Yt[3];Pn!=null&&(v.ka=Pn,v.j.info("VER="+v.ka));const bi=Yt[4];bi!=null&&(v.za=bi,v.j.info("SVER="+v.za));const Wn=Yt[5];Wn!=null&&typeof Wn=="number"&&Wn>0&&(T=1.5*Wn,v.O=T,v.j.info("backChannelRequestTimeoutMs_="+T)),T=v;const ti=u.g;if(ti){const Ir=ti.g?ti.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ir){var j=T.h;j.g||Ir.indexOf("spdy")==-1&&Ir.indexOf("quic")==-1&&Ir.indexOf("h2")==-1||(j.j=j.l,j.g=new Set,j.h&&(wo(j,j.h),j.h=null))}if(T.G){const ma=ti.g?ti.g.getResponseHeader("X-HTTP-Session-Id"):null;ma&&(T.wa=ma,$t(T.J,T.G,ma))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-u.F,v.j.info("Handshake RTT: "+v.T+"ms")),T=v;var tt=u;if(T.na=Iu(T,T.L?T.ba:null,T.W),tt.L){Ro(T.h,tt);var wt=tt,Ee=T.O;Ee&&(wt.H=Ee),wt.D&&(mi(wt),di(wt)),T.g=tt}else Au(T);v.i.length>0&&Ai(v)}else Yt[0]!="stop"&&Yt[0]!="close"||Si(v,7);else v.I==3&&(Yt[0]=="stop"||Yt[0]=="close"?Yt[0]=="stop"?Si(v,7):Uo(v):Yt[0]!="noop"&&v.l&&v.l.qa(Yt),v.A=0)}}li(4)}catch{}}var Ce=class{constructor(u,m){this.g=u,this.map=m}};function So(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function bo(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function pi(u){return u.h?1:u.g?u.g.size:0}function yi(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function wo(u,m){u.g?u.g.add(m):u.h=m}function Ro(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}So.prototype.cancel=function(){if(this.i=Io(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Io(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const v of u.g.values())m=m.concat(v.G);return m}return F(u.i)}var pu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function aa(u,m){if(u){u=u.split("&");for(let v=0;v<u.length;v++){const T=u[v].indexOf("=");let L,j=null;T>=0?(L=u[v].substring(0,T),j=u[v].substring(T+1)):L=u[v],m(L,j?decodeURIComponent(j.replace(/\+/g," ")):"")}}}function An(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;u instanceof An?(this.l=u.l,He(this,u.j),this.o=u.o,this.g=u.g,ps(this,u.u),this.h=u.h,Co(this,Eu(u.i)),this.m=u.m):u&&(m=String(u).match(pu))?(this.l=!1,He(this,m[1]||"",!0),this.o=_i(m[2]||""),this.g=_i(m[3]||"",!0),ps(this,m[4]),this.h=_i(m[5]||"",!0),Co(this,m[6]||"",!0),this.m=_i(m[7]||"")):(this.l=!1,this.i=new _s(null,this.l))}An.prototype.toString=function(){const u=[];var m=this.j;m&&u.push(Er(m,oa,!0),":");var v=this.g;return(v||m=="file")&&(u.push("//"),(m=this.o)&&u.push(Er(m,oa,!0),"@"),u.push(zi(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&u.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&u.push("/"),u.push(Er(v,v.charAt(0)=="/"?No:yu,!0))),(v=this.i.toString())&&u.push("?",v),(v=this.m)&&u.push("#",Er(v,_u)),u.join("")},An.prototype.resolve=function(u){const m=Ne(this);let v=!!u.j;v?He(m,u.j):v=!!u.o,v?m.o=u.o:v=!!u.g,v?m.g=u.g:v=u.u!=null;var T=u.h;if(v)ps(m,u.u);else if(v=!!u.h){if(T.charAt(0)!="/")if(this.g&&!this.h)T="/"+T;else{var L=m.h.lastIndexOf("/");L!=-1&&(T=m.h.slice(0,L+1)+T)}if(L=T,L==".."||L==".")T="";else if(L.indexOf("./")!=-1||L.indexOf("/.")!=-1){T=L.lastIndexOf("/",0)==0,L=L.split("/");const j=[];for(let tt=0;tt<L.length;){const wt=L[tt++];wt=="."?T&&tt==L.length&&j.push(""):wt==".."?((j.length>1||j.length==1&&j[0]!="")&&j.pop(),T&&tt==L.length&&j.push("")):(j.push(wt),T=!0)}T=j.join("/")}else T=L}return v?m.h=T:v=u.i.toString()!=="",v?Co(m,Eu(u.i)):v=!!u.m,v&&(m.m=u.m),m};function Ne(u){return new An(u)}function He(u,m,v){u.j=v?_i(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function ps(u,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);u.u=m}else u.u=null}function Co(u,m,v){m instanceof _s?(u.i=m,ua(u.i,u.l)):(v||(m=Er(m,ys)),u.i=new _s(m,u.l))}function $t(u,m,v){u.i.set(m,v)}function vr(u){return $t(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function _i(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Er(u,m,v){return typeof u=="string"?(u=encodeURI(u).replace(m,fn),v&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function fn(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var oa=/[#\/\?@]/g,yu=/[#\?:]/g,No=/[#\?]/g,ys=/[#\?@]/g,_u=/#/g;function _s(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function dn(u){u.g||(u.g=new Map,u.h=0,u.i&&aa(u.i,function(m,v){u.add(decodeURIComponent(m.replace(/\+/g," ")),v)}))}s=_s.prototype,s.add=function(u,m){dn(this),this.i=null,u=vs(this,u);let v=this.g.get(u);return v||this.g.set(u,v=[]),v.push(m),this.h+=1,this};function vu(u,m){dn(u),m=vs(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function Do(u,m){return dn(u),m=vs(u,m),u.g.has(m)}s.forEach=function(u,m){dn(this),this.g.forEach(function(v,T){v.forEach(function(L){u.call(m,L,T,this)},this)},this)};function Oo(u,m){dn(u);let v=[];if(typeof m=="string")Do(u,m)&&(v=v.concat(u.g.get(vs(u,m))));else for(u=Array.from(u.g.values()),m=0;m<u.length;m++)v=v.concat(u[m]);return v}s.set=function(u,m){return dn(this),this.i=null,u=vs(this,u),Do(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},s.get=function(u,m){return u?(u=Oo(this,u),u.length>0?String(u[0]):m):m};function la(u,m,v){vu(u,m),v.length>0&&(u.i=null,u.g.set(vs(u,m),F(v)),u.h+=v.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(let T=0;T<m.length;T++){var v=m[T];const L=zi(v);v=Oo(this,v);for(let j=0;j<v.length;j++){let tt=L;v[j]!==""&&(tt+="="+zi(v[j])),u.push(tt)}}return this.i=u.join("&")};function Eu(u){const m=new _s;return m.i=u.i,u.g&&(m.g=new Map(u.g),m.h=u.h),m}function vs(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function ua(u,m){m&&!u.j&&(dn(u),u.i=null,u.g.forEach(function(v,T){const L=T.toLowerCase();T!=L&&(vu(this,T),la(this,L,v))},u)),u.j=m}function $n(u,m){const v=new Yn;if(d.Image){const T=new Image;T.onload=A(Un,v,"TestLoadImage: loaded",!0,m,T),T.onerror=A(Un,v,"TestLoadImage: error",!1,m,T),T.onabort=A(Un,v,"TestLoadImage: abort",!1,m,T),T.ontimeout=A(Un,v,"TestLoadImage: timeout",!1,m,T),d.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=u}else m(!1)}function Vo(u,m){const v=new Yn,T=new AbortController,L=setTimeout(()=>{T.abort(),Un(v,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:T.signal}).then(j=>{clearTimeout(L),j.ok?Un(v,"TestPingServer: ok",!0,m):Un(v,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(L),Un(v,"TestPingServer: error",!1,m)})}function Un(u,m,v,T,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),T(v)}catch{}}function Es(){this.g=new ou}function vi(u){this.i=u.Sb||null,this.h=u.ab||!1}S(vi,lu),vi.prototype.g=function(){return new Tr(this.i,this.h)};function Tr(u,m){we.call(this),this.H=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}S(Tr,we),s=Tr.prototype,s.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=m,this.readyState=1,Zn(this)},s.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(m.body=u),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Ts(this)),this.readyState=0},s.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Zn(this)),this.g&&(this.readyState=3,Zn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;ca(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function ca(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}s.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?Ts(this):Zn(this),this.readyState==3&&ca(this)}},s.Oa=function(u){this.g&&(this.response=this.responseText=u,Ts(this))},s.Na=function(u){this.g&&(this.response=u,Ts(this))},s.ga=function(){this.g&&Ts(this)};function Ts(u){u.readyState=4,u.l=null,u.j=null,u.B=null,Zn(u)}s.setRequestHeader=function(u,m){this.A.append(u,m)},s.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var v=m.next();!v.done;)v=v.value,u.push(v[0]+": "+v[1]),v=m.next();return u.join(`\r
`)};function Zn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Tr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Ln(u){let m="";return Dt(u,function(v,T){m+=T,m+=":",m+=v,m+=`\r
`}),m}function Ar(u,m,v){t:{for(T in v){var T=!1;break t}T=!0}T||(v=Ln(v),typeof u=="string"?v!=null&&zi(v):$t(u,m,v))}function Wt(u){we.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}S(Wt,we);var Ei=/^https?$/i,Mo=["POST","PUT"];s=Wt.prototype,s.Fa=function(u){this.H=u},s.ea=function(u,m,v,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Ao.g(),this.g.onreadystatechange=N(_(this.Ca,this));try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(j){Sr(this,j);return}if(u=v||"",v=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var L in T)v.set(L,T[L]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const j of T.keys())v.set(j,T.get(j));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(v.keys()).find(j=>j.toLowerCase()=="content-type"),L=d.FormData&&u instanceof d.FormData,!(Array.prototype.indexOf.call(Mo,m,void 0)>=0)||T||L||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[j,tt]of v)this.g.setRequestHeader(j,tt);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(j){Sr(this,j)}};function Sr(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.o=5,xo(u),ji(u)}function xo(u){u.A||(u.A=!0,ze(u,"complete"),ze(u,"error"))}s.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,ze(this,"complete"),ze(this,"abort"),ji(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ji(this,!0)),Wt.Z.N.call(this)},s.Ca=function(){this.u||(this.B||this.v||this.j?br(this):this.Xa())},s.Xa=function(){br(this)};function br(u){if(u.h&&typeof c<"u"){if(u.v&&Jn(u)==4)setTimeout(u.Ca.bind(u),0);else if(ze(u,"readystatechange"),Jn(u)==4){u.h=!1;try{const j=u.ca();t:switch(j){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var v;if(!(v=m)){var T;if(T=j===0){let tt=String(u.D).match(pu)[1]||null;!tt&&d.self&&d.self.location&&(tt=d.self.location.protocol.slice(0,-1)),T=!Ei.test(tt?tt.toLowerCase():"")}v=T}if(v)ze(u,"complete"),ze(u,"success");else{u.o=6;try{var L=Jn(u)>2?u.g.statusText:""}catch{L=""}u.l=L+" ["+u.ca()+"]",xo(u)}}finally{ji(u)}}}}function ji(u,m){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const v=u.g;u.g=null,m||ze(u,"ready");try{v.onreadystatechange=null}catch{}}}s.isActive=function(){return!!this.g};function Jn(u){return u.g?u.g.readyState:0}s.ca=function(){try{return Jn(this)>2?this.g.status:-1}catch{return-1}},s.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.La=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),jh(m)}};function Ke(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Bi(u){const m={};u=(u.g&&Jn(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<u.length;T++){if(w(u[T]))continue;var v=du(u[T]);const L=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const j=m[L]||[];m[L]=j,j.push(v)}Gt(m,function(T){return T.join(", ")})}s.ya=function(){return this.o},s.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ti(u,m,v){return v&&v.internalChannelParams&&v.internalChannelParams[u]||m}function As(u){this.za=0,this.i=[],this.j=new Yn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Ti("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Ti("baseRetryDelayMs",5e3,u),this.Za=Ti("retryDelaySeedMs",1e4,u),this.Ta=Ti("forwardChannelMaxRetries",2,u),this.va=Ti("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new So(u&&u.concurrentRequestLimit),this.Ba=new Es,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}s=As.prototype,s.ka=8,s.I=1,s.connect=function(u,m,v,T){Re(0),this.W=u,this.H=m||{},v&&T!==void 0&&(this.H.OSID=v,this.H.OAID=T),this.F=this.X,this.J=Iu(this,null,this.W),Ai(this)};function Uo(u){if(ha(u),u.I==3){var m=u.V++,v=Ne(u.J);if($t(v,"SID",u.M),$t(v,"RID",m),$t(v,"TYPE","terminate"),wr(u,v),m=new Kn(u,u.j,m),m.M=2,m.A=vr(Ne(v)),v=!1,d.navigator&&d.navigator.sendBeacon)try{v=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!v&&d.Image&&(new Image().src=m.A,v=!0),v||(m.g=Cu(m.j,null),m.g.ea(m.A)),m.F=Date.now(),di(m)}Ru(u)}function Ss(u){u.g&&(Po(u),u.g.cancel(),u.g=null)}function ha(u){Ss(u),u.v&&(d.clearTimeout(u.v),u.v=null),da(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&d.clearTimeout(u.m),u.m=null)}function Ai(u){if(!bo(u.h)&&!u.m){u.m=!0;var m=u.Ea;Xt||b(),zt||(Xt(),zt=!0),C.add(m,u),u.D=0}}function fa(u,m){return pi(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=m.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=ci(_(u.Ea,u,m),wu(u,u.D)),u.D++,!0)}s.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const L=new Kn(this,this.j,u);let j=this.o;if(this.U&&(j?(j=V(j),et(j,this.U)):j=this.U),this.u!==null||this.R||(L.J=j,j=null),this.S)t:{for(var m=0,v=0;v<this.i.length;v++){e:{var T=this.i[v];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break e}T=void 0}if(T===void 0)break;if(m+=T,m>4096){m=v;break t}if(m===4096||v===this.i.length-1){m=v+1;break t}}m=1e3}else m=1e3;m=Tu(this,L,m),v=Ne(this.J),$t(v,"RID",u),$t(v,"CVER",22),this.G&&$t(v,"X-HTTP-Session-Id",this.G),wr(this,v),j&&(this.R?m="headers="+zi(Ln(j))+"&"+m:this.u&&Ar(v,this.u,j)),wo(this.h,L),this.Ra&&$t(v,"TYPE","init"),this.S?($t(v,"$req",m),$t(v,"SID","null"),L.U=!0,fi(L,v,null)):fi(L,v,m),this.I=2}}else this.I==3&&(u?Lo(this,u):this.i.length==0||bo(this.h)||Lo(this))};function Lo(u,m){var v;m?v=m.l:v=u.V++;const T=Ne(u.J);$t(T,"SID",u.M),$t(T,"RID",v),$t(T,"AID",u.K),wr(u,T),u.u&&u.o&&Ar(T,u.u,u.o),v=new Kn(u,u.j,v,u.D+1),u.u===null&&(v.J=u.o),m&&(u.i=m.G.concat(u.i)),m=Tu(u,v,1e3),v.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),wo(u.h,v),fi(v,T,m)}function wr(u,m){u.H&&Dt(u.H,function(v,T){$t(m,T,v)}),u.l&&Dt({},function(v,T){$t(m,T,v)})}function Tu(u,m,v){v=Math.min(u.i.length,v);const T=u.l?_(u.l.Ka,u.l,u):null;t:{var L=u.i;let wt=-1;for(;;){const Ee=["count="+v];wt==-1?v>0?(wt=L[0].g,Ee.push("ofs="+wt)):wt=0:Ee.push("ofs="+wt);let Yt=!0;for(let ce=0;ce<v;ce++){var j=L[ce].g;const Pn=L[ce].map;if(j-=wt,j<0)wt=Math.max(0,L[ce].g-100),Yt=!1;else try{j="req"+j+"_"||"";try{var tt=Pn instanceof Map?Pn:Object.entries(Pn);for(const[bi,Wn]of tt){let ti=Wn;p(Wn)&&(ti=gs(Wn)),Ee.push(j+bi+"="+encodeURIComponent(ti))}}catch(bi){throw Ee.push(j+"type="+encodeURIComponent("_badmap")),bi}}catch{T&&T(Pn)}}if(Yt){tt=Ee.join("&");break t}}tt=void 0}return u=u.i.splice(0,v),m.G=u,tt}function Au(u){if(!u.g&&!u.v){u.Y=1;var m=u.Da;Xt||b(),zt||(Xt(),zt=!0),C.add(m,u),u.A=0}}function Rr(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=ci(_(u.Da,u),wu(u,u.A)),u.A++,!0)}s.Da=function(){if(this.v=null,Su(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=ci(_(this.Wa,this),u)}},s.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Re(10),Ss(this),Su(this))};function Po(u){u.B!=null&&(d.clearTimeout(u.B),u.B=null)}function Su(u){u.g=new Kn(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var m=Ne(u.na);$t(m,"RID","rpc"),$t(m,"SID",u.M),$t(m,"AID",u.K),$t(m,"CI",u.F?"0":"1"),!u.F&&u.ia&&$t(m,"TO",u.ia),$t(m,"TYPE","xmlhttp"),wr(u,m),u.u&&u.o&&Ar(m,u.u,u.o),u.O&&(u.g.H=u.O);var v=u.g;u=u.ba,v.M=1,v.A=vr(Ne(m)),v.u=null,v.R=!0,sa(v,u)}s.Va=function(){this.C!=null&&(this.C=null,Ss(this),Rr(this),Re(19))};function da(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function bu(u,m){var v=null;if(u.g==m){da(u),Po(u),u.g=null;var T=2}else if(yi(u.h,m))v=m.G,Ro(u.h,m),T=1;else return;if(u.I!=0){if(m.o)if(T==1){v=m.u?m.u.length:0,m=Date.now()-m.F;var L=u.D;T=ia(),ze(T,new ui(T,v)),Ai(u)}else Au(u);else if(L=m.m,L==3||L==0&&m.X>0||!(T==1&&fa(u,m)||T==2&&Rr(u)))switch(v&&v.length>0&&(m=u.h,m.i=m.i.concat(v)),L){case 1:Si(u,5);break;case 4:Si(u,10);break;case 3:Si(u,6);break;default:Si(u,2)}}}function wu(u,m){let v=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(v*=2),v*m}function Si(u,m){if(u.j.info("Error code "+m),m==2){var v=_(u.bb,u),T=u.Ua;const L=!T;T=new An(T||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||He(T,"https"),vr(T),L?$n(T.toString(),v):Vo(T.toString(),v)}else Re(2);u.I=0,u.l&&u.l.pa(m),Ru(u),ha(u)}s.bb=function(u){u?(this.j.info("Successfully pinged google.com"),Re(2)):(this.j.info("Failed to ping google.com"),Re(1))};function Ru(u){if(u.I=0,u.ja=[],u.l){const m=Io(u.h);(m.length!=0||u.i.length!=0)&&(Z(u.ja,m),Z(u.ja,u.i),u.h.i.length=0,F(u.i),u.i.length=0),u.l.oa()}}function Iu(u,m,v){var T=v instanceof An?Ne(v):new An(v);if(T.g!="")m&&(T.g=m+"."+T.g),ps(T,T.u);else{var L=d.location;T=L.protocol,m=m?m+"."+L.hostname:L.hostname,L=+L.port;const j=new An(null);T&&He(j,T),m&&(j.g=m),L&&ps(j,L),v&&(j.h=v),T=j}return v=u.G,m=u.wa,v&&m&&$t(T,v,m),$t(T,"VER",u.ka),wr(u,T),T}function Cu(u,m,v){if(m&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Aa&&!u.ma?new Wt(new vi({ab:v})):new Wt(u.ma),m.Fa(u.L),m}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function Nu(){}s=Nu.prototype,s.ra=function(){},s.qa=function(){},s.pa=function(){},s.oa=function(){},s.isActive=function(){return!0},s.Ka=function(){};function bs(){}bs.prototype.g=function(u,m){return new un(u,m)};function un(u,m){we.call(this),this.g=new As(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(u?u["X-WebChannel-Client-Profile"]=m.sa:u={"X-WebChannel-Client-Profile":m.sa}),this.g.U=u,(u=m&&m.Qb)&&!w(u)&&(this.g.u=u),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!w(m)&&(this.g.G=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new qi(this)}S(un,we),un.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},un.prototype.close=function(){Uo(this.g)},un.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var v={};v.__data__=u,u=v}else this.v&&(v={},v.__data__=gs(u),u=v);m.i.push(new Ce(m.Ya++,u)),m.I==3&&Ai(m)},un.prototype.N=function(){this.g.l=null,delete this.j,Uo(this.g),delete this.g,un.Z.N.call(this)};function Du(u){Ye.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){t:{for(const v in m){u=v;break t}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}S(Du,Ye);function Ou(){Mn.call(this),this.status=1}S(Ou,Mn);function qi(u){this.g=u}S(qi,Nu),qi.prototype.ra=function(){ze(this.g,"a")},qi.prototype.qa=function(u){ze(this.g,new Du(u))},qi.prototype.pa=function(u){ze(this.g,new Ou)},qi.prototype.oa=function(){ze(this.g,"b")},bs.prototype.createWebChannel=bs.prototype.g,un.prototype.send=un.prototype.o,un.prototype.open=un.prototype.m,un.prototype.close=un.prototype.close,M0=function(){return new bs},V0=function(){return ia()},O0=ve,hm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},yr.NO_ERROR=0,yr.TIMEOUT=8,yr.HTTP_ERROR=6,Qc=yr,To.COMPLETE="complete",D0=To,uu.EventType=Qn,Qn.OPEN="a",Qn.CLOSE="b",Qn.ERROR="c",Qn.MESSAGE="d",we.prototype.listen=we.prototype.J,Al=uu,Wt.prototype.listenOnce=Wt.prototype.K,Wt.prototype.getLastError=Wt.prototype.Ha,Wt.prototype.getLastErrorCode=Wt.prototype.ya,Wt.prototype.getStatus=Wt.prototype.ca,Wt.prototype.getResponseJson=Wt.prototype.La,Wt.prototype.getResponseText=Wt.prototype.la,Wt.prototype.send=Wt.prototype.ea,Wt.prototype.setWithCredentials=Wt.prototype.Fa,N0=Wt}).apply(typeof Lc<"u"?Lc:typeof self<"u"?self:typeof window<"u"?window:{});const Lv="@firebase/firestore",Pv="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rn{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}rn.UNAUTHENTICATED=new rn(null),rn.GOOGLE_CREDENTIALS=new rn("google-credentials-uid"),rn.FIRST_PARTY=new rn("first-party-uid"),rn.MOCK_USER=new rn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let fo="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wr=new Nm("@firebase/firestore");function Ga(){return Wr.logLevel}function at(s,...t){if(Wr.logLevel<=xt.DEBUG){const i=t.map(qm);Wr.debug(`Firestore (${fo}): ${s}`,...i)}}function cs(s,...t){if(Wr.logLevel<=xt.ERROR){const i=t.map(qm);Wr.error(`Firestore (${fo}): ${s}`,...i)}}function no(s,...t){if(Wr.logLevel<=xt.WARN){const i=t.map(qm);Wr.warn(`Firestore (${fo}): ${s}`,...i)}}function qm(s){if(typeof s=="string")return s;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(i){return JSON.stringify(i)})(s)}catch{return s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dt(s,t,i){let r="Unexpected state";typeof t=="string"?r=t:i=t,x0(s,r,i)}function x0(s,t,i){let r=`FIRESTORE (${fo}) INTERNAL ASSERTION FAILED: ${t} (ID: ${s.toString(16)})`;if(i!==void 0)try{r+=" CONTEXT: "+JSON.stringify(i)}catch{r+=" CONTEXT: "+i}throw cs(r),new Error(r)}function Bt(s,t,i,r){let l="Unexpected state";typeof i=="string"?l=i:r=i,s||x0(t,l,r)}function Tt(s,t){return s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class it extends ds{constructor(t,i){super(t,i),this.code=t,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vi{constructor(){this.promise=new Promise(((t,i)=>{this.resolve=t,this.reject=i}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U0{constructor(t,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class ZR{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,i){t.enqueueRetryable((()=>i(rn.UNAUTHENTICATED)))}shutdown(){}}class JR{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,i){this.changeListener=i,t.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class WR{constructor(t){this.t=t,this.currentUser=rn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,i){Bt(this.o===void 0,42304);let r=this.i;const l=y=>this.i!==r?(r=this.i,i(y)):Promise.resolve();let c=new Vi;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new Vi,t.enqueueRetryable((()=>l(this.currentUser)))};const d=()=>{const y=c;t.enqueueRetryable((async()=>{await y.promise,await l(this.currentUser)}))},p=y=>{at("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=y,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((y=>p(y))),setTimeout((()=>{if(!this.auth){const y=this.t.getImmediate({optional:!0});y?p(y):(at("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new Vi)}}),0),d()}getToken(){const t=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((r=>this.i!==t?(at("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Bt(typeof r.accessToken=="string",31837,{l:r}),new U0(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Bt(t===null||typeof t=="string",2055,{h:t}),new rn(t)}}class tI{constructor(t,i,r){this.P=t,this.T=i,this.I=r,this.type="FirstParty",this.user=rn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class eI{constructor(t,i,r){this.P=t,this.T=i,this.I=r}getToken(){return Promise.resolve(new tI(this.P,this.T,this.I))}start(t,i){t.enqueueRetryable((()=>i(rn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class kv{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class nI{constructor(t,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,si(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,i){Bt(this.o===void 0,3512);const r=c=>{c.error!=null&&at("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.m;return this.m=c.token,at("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(c.token):Promise.resolve()};this.o=c=>{t.enqueueRetryable((()=>r(c)))};const l=c=>{at("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>l(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?l(c):at("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new kv(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((i=>i?(Bt(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new kv(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iI(s){const t=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(s);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(i);else for(let r=0;r<s;r++)i[r]=Math.floor(256*Math.random());return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hm{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const l=iI(40);for(let c=0;c<l.length;++c)r.length<20&&l[c]<i&&(r+=t.charAt(l[c]%62))}return r}}function Ut(s,t){return s<t?-1:s>t?1:0}function fm(s,t){const i=Math.min(s.length,t.length);for(let r=0;r<i;r++){const l=s.charAt(r),c=t.charAt(r);if(l!==c)return Zd(l)===Zd(c)?Ut(l,c):Zd(l)?1:-1}return Ut(s.length,t.length)}const sI=55296,rI=57343;function Zd(s){const t=s.charCodeAt(0);return t>=sI&&t<=rI}function io(s,t,i){return s.length===t.length&&s.every(((r,l)=>i(r,t[l])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zv="__name__";class Di{constructor(t,i,r){i===void 0?i=0:i>t.length&&dt(637,{offset:i,range:t.length}),r===void 0?r=t.length-i:r>t.length-i&&dt(1746,{length:r,range:t.length-i}),this.segments=t,this.offset=i,this.len=r}get length(){return this.len}isEqual(t){return Di.comparator(this,t)===0}child(t){const i=this.segments.slice(this.offset,this.limit());return t instanceof Di?t.forEach((r=>{i.push(r)})):i.push(t),this.construct(i)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}forEach(t){for(let i=this.offset,r=this.limit();i<r;i++)t(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,i){const r=Math.min(t.length,i.length);for(let l=0;l<r;l++){const c=Di.compareSegments(t.get(l),i.get(l));if(c!==0)return c}return Ut(t.length,i.length)}static compareSegments(t,i){const r=Di.isNumericId(t),l=Di.isNumericId(i);return r&&!l?-1:!r&&l?1:r&&l?Di.extractNumericId(t).compare(Di.extractNumericId(i)):fm(t,i)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return nr.fromString(t.substring(4,t.length-2))}}class ie extends Di{construct(t,i,r){return new ie(t,i,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const i=[];for(const r of t){if(r.indexOf("//")>=0)throw new it(G.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);i.push(...r.split("/").filter((l=>l.length>0)))}return new ie(i)}static emptyPath(){return new ie([])}}const aI=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class tn extends Di{construct(t,i,r){return new tn(t,i,r)}static isValidIdentifier(t){return aI.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),tn.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===zv}static keyField(){return new tn([zv])}static fromServerFormat(t){const i=[];let r="",l=0;const c=()=>{if(r.length===0)throw new it(G.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(r),r=""};let d=!1;for(;l<t.length;){const p=t[l];if(p==="\\"){if(l+1===t.length)throw new it(G.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const y=t[l+1];if(y!=="\\"&&y!=="."&&y!=="`")throw new it(G.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=y,l+=2}else p==="`"?(d=!d,l++):p!=="."||d?(r+=p,l++):(c(),l++)}if(c(),d)throw new it(G.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new tn(i)}static emptyPath(){return new tn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ht{constructor(t){this.path=t}static fromPath(t){return new ht(ie.fromString(t))}static fromName(t){return new ht(ie.fromString(t).popFirst(5))}static empty(){return new ht(ie.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&ie.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,i){return ie.comparator(t.path,i.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new ht(new ie(t.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L0(s,t,i){if(!i)throw new it(G.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${t}.`)}function oI(s,t,i,r){if(t===!0&&r===!0)throw new it(G.INVALID_ARGUMENT,`${s} and ${i} cannot be used together.`)}function jv(s){if(!ht.isDocumentKey(s))throw new it(G.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function Bv(s){if(ht.isDocumentKey(s))throw new it(G.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${s} has ${s.length}.`)}function P0(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}function Ah(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const t=(function(r){return r.constructor?r.constructor.name:null})(s);return t?`a custom ${t} object`:"an object"}}return typeof s=="function"?"a function":dt(12329,{type:typeof s})}function En(s,t){if("_delegate"in s&&(s=s._delegate),!(s instanceof t)){if(t.name===s.constructor.name)throw new it(G.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=Ah(s);throw new it(G.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${i}`)}}return s}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Le(s,t){const i={typeString:s};return t&&(i.value=t),i}function Xl(s,t){if(!P0(s))throw new it(G.INVALID_ARGUMENT,"JSON must be an object");let i;for(const r in t)if(t[r]){const l=t[r].typeString,c="value"in t[r]?{value:t[r].value}:void 0;if(!(r in s)){i=`JSON missing required field: '${r}'`;break}const d=s[r];if(l&&typeof d!==l){i=`JSON field '${r}' must be a ${l}.`;break}if(c!==void 0&&d!==c.value){i=`Expected '${r}' field to equal '${c.value}'`;break}}if(i)throw new it(G.INVALID_ARGUMENT,i);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qv=-62135596800,Hv=1e6;class ue{static now(){return ue.fromMillis(Date.now())}static fromDate(t){return ue.fromMillis(t.getTime())}static fromMillis(t){const i=Math.floor(t/1e3),r=Math.floor((t-1e3*i)*Hv);return new ue(i,r)}constructor(t,i){if(this.seconds=t,this.nanoseconds=i,i<0)throw new it(G.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new it(G.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(t<qv)throw new it(G.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new it(G.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Hv}_compareTo(t){return this.seconds===t.seconds?Ut(this.nanoseconds,t.nanoseconds):Ut(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ue._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(Xl(t,ue._jsonSchema))return new ue(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-qv;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ue._jsonSchemaVersion="firestore/timestamp/1.0",ue._jsonSchema={type:Le("string",ue._jsonSchemaVersion),seconds:Le("number"),nanoseconds:Le("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yt{static fromTimestamp(t){return new yt(t)}static min(){return new yt(new ue(0,0))}static max(){return new yt(new ue(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ul=-1;function lI(s,t){const i=s.toTimestamp().seconds,r=s.toTimestamp().nanoseconds+1,l=yt.fromTimestamp(r===1e9?new ue(i+1,0):new ue(i,r));return new rr(l,ht.empty(),t)}function uI(s){return new rr(s.readTime,s.key,Ul)}class rr{constructor(t,i,r){this.readTime=t,this.documentKey=i,this.largestBatchId=r}static min(){return new rr(yt.min(),ht.empty(),Ul)}static max(){return new rr(yt.max(),ht.empty(),Ul)}}function cI(s,t){let i=s.readTime.compareTo(t.readTime);return i!==0?i:(i=ht.comparator(s.documentKey,t.documentKey),i!==0?i:Ut(s.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hI="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class fI{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mo(s){if(s.code!==G.FAILED_PRECONDITION||s.message!==hI)throw s;at("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ${constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(t){return this.next(void 0,t)}next(t,i){return this.callbackAttached&&dt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(t,this.result):new $(((r,l)=>{this.nextCallback=c=>{this.wrapSuccess(t,c).next(r,l)},this.catchCallback=c=>{this.wrapFailure(i,c).next(r,l)}}))}toPromise(){return new Promise(((t,i)=>{this.next(t,i)}))}wrapUserFunction(t){try{const i=t();return i instanceof $?i:$.resolve(i)}catch(i){return $.reject(i)}}wrapSuccess(t,i){return t?this.wrapUserFunction((()=>t(i))):$.resolve(i)}wrapFailure(t,i){return t?this.wrapUserFunction((()=>t(i))):$.reject(i)}static resolve(t){return new $(((i,r)=>{i(t)}))}static reject(t){return new $(((i,r)=>{r(t)}))}static waitFor(t){return new $(((i,r)=>{let l=0,c=0,d=!1;t.forEach((p=>{++l,p.next((()=>{++c,d&&c===l&&i()}),(y=>r(y)))})),d=!0,c===l&&i()}))}static or(t){let i=$.resolve(!1);for(const r of t)i=i.next((l=>l?$.resolve(l):r()));return i}static forEach(t,i){const r=[];return t.forEach(((l,c)=>{r.push(i.call(this,l,c))})),this.waitFor(r)}static mapArray(t,i){return new $(((r,l)=>{const c=t.length,d=new Array(c);let p=0;for(let y=0;y<c;y++){const _=y;i(t[_]).next((A=>{d[_]=A,++p,p===c&&r(d)}),(A=>l(A)))}}))}static doWhile(t,i){return new $(((r,l)=>{const c=()=>{t()===!0?i().next((()=>{c()}),l):r()};c()}))}}function dI(s){const t=s.match(/Android ([\d.]+)/i),i=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function go(s){return s.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sh{constructor(t,i){this.previousValue=t,i&&(i.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>i.writeSequenceNumber(r))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}Sh.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fm=-1;function $l(s){return s==null}function ah(s){return s===0&&1/s==-1/0}function mI(s){return typeof s=="number"&&Number.isInteger(s)&&!ah(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k0="";function gI(s){let t="";for(let i=0;i<s.length;i++)t.length>0&&(t=Fv(t)),t=pI(s.get(i),t);return Fv(t)}function pI(s,t){let i=t;const r=s.length;for(let l=0;l<r;l++){const c=s.charAt(l);switch(c){case"\0":i+="";break;case k0:i+="";break;default:i+=c}}return i}function Fv(s){return s+k0+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gv(s){let t=0;for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&t++;return t}function hr(s,t){for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&t(i,s[i])}function z0(s){for(const t in s)if(Object.prototype.hasOwnProperty.call(s,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class me{constructor(t,i){this.comparator=t,this.root=i||We.EMPTY}insert(t,i){return new me(this.comparator,this.root.insert(t,i,this.comparator).copy(null,null,We.BLACK,null,null))}remove(t){return new me(this.comparator,this.root.remove(t,this.comparator).copy(null,null,We.BLACK,null,null))}get(t){let i=this.root;for(;!i.isEmpty();){const r=this.comparator(t,i.key);if(r===0)return i.value;r<0?i=i.left:r>0&&(i=i.right)}return null}indexOf(t){let i=0,r=this.root;for(;!r.isEmpty();){const l=this.comparator(t,r.key);if(l===0)return i+r.left.size;l<0?r=r.left:(i+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((i,r)=>(t(i,r),!1)))}toString(){const t=[];return this.inorderTraversal(((i,r)=>(t.push(`${i}:${r}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Pc(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Pc(this.root,t,this.comparator,!1)}getReverseIterator(){return new Pc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Pc(this.root,t,this.comparator,!0)}}class Pc{constructor(t,i,r,l){this.isReverse=l,this.nodeStack=[];let c=1;for(;!t.isEmpty();)if(c=i?r(t.key,i):1,i&&l&&(c*=-1),c<0)t=this.isReverse?t.left:t.right;else{if(c===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const i={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class We{constructor(t,i,r,l,c){this.key=t,this.value=i,this.color=r??We.RED,this.left=l??We.EMPTY,this.right=c??We.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,i,r,l,c){return new We(t??this.key,i??this.value,r??this.color,l??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,i,r){let l=this;const c=r(t,l.key);return l=c<0?l.copy(null,null,null,l.left.insert(t,i,r),null):c===0?l.copy(null,i,null,null,null):l.copy(null,null,null,null,l.right.insert(t,i,r)),l.fixUp()}removeMin(){if(this.left.isEmpty())return We.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,i){let r,l=this;if(i(t,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(t,i),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),i(t,l.key)===0){if(l.right.isEmpty())return We.EMPTY;r=l.right.min(),l=l.copy(r.key,r.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(t,i))}return l.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,We.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,We.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,i)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw dt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw dt(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw dt(27949);return t+(this.isRed()?0:1)}}We.EMPTY=null,We.RED=!0,We.BLACK=!1;We.EMPTY=new class{constructor(){this.size=0}get key(){throw dt(57766)}get value(){throw dt(16141)}get color(){throw dt(16727)}get left(){throw dt(29726)}get right(){throw dt(36894)}copy(t,i,r,l,c){return this}insert(t,i,r){return new We(t,i)}remove(t,i){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Be{constructor(t){this.comparator=t,this.data=new me(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((i,r)=>(t(i),!1)))}forEachInRange(t,i){const r=this.data.getIteratorFrom(t[0]);for(;r.hasNext();){const l=r.getNext();if(this.comparator(l.key,t[1])>=0)return;i(l.key)}}forEachWhile(t,i){let r;for(r=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();r.hasNext();)if(!t(r.getNext().key))return}firstAfterOrEqual(t){const i=this.data.getIteratorFrom(t);return i.hasNext()?i.getNext().key:null}getIterator(){return new Qv(this.data.getIterator())}getIteratorFrom(t){return new Qv(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let i=this;return i.size<t.size&&(i=t,t=this),t.forEach((r=>{i=i.add(r)})),i}isEqual(t){if(!(t instanceof Be)||this.size!==t.size)return!1;const i=this.data.getIterator(),r=t.data.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=r.getNext().key;if(this.comparator(l,c)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((i=>{t.push(i)})),t}toString(){const t=[];return this.forEach((i=>t.push(i))),"SortedSet("+t.toString()+")"}copy(t){const i=new Be(this.comparator);return i.data=t,i}}class Qv{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class On{constructor(t){this.fields=t,t.sort(tn.comparator)}static empty(){return new On([])}unionWith(t){let i=new Be(tn.comparator);for(const r of this.fields)i=i.add(r);for(const r of t)i=i.add(r);return new On(i.toArray())}covers(t){for(const i of this.fields)if(i.isPrefixOf(t))return!0;return!1}isEqual(t){return io(this.fields,t.fields,((i,r)=>i.isEqual(r)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j0 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class en{constructor(t){this.binaryString=t}static fromBase64String(t){const i=(function(l){try{return atob(l)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new j0("Invalid base64 string: "+c):c}})(t);return new en(i)}static fromUint8Array(t){const i=(function(l){let c="";for(let d=0;d<l.length;++d)c+=String.fromCharCode(l[d]);return c})(t);return new en(i)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const r=new Uint8Array(i.length);for(let l=0;l<i.length;l++)r[l]=i.charCodeAt(l);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Ut(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}en.EMPTY_BYTE_STRING=new en("");const yI=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ar(s){if(Bt(!!s,39018),typeof s=="string"){let t=0;const i=yI.exec(s);if(Bt(!!i,46558,{timestamp:s}),i[1]){let l=i[1];l=(l+"000000000").substr(0,9),t=Number(l)}const r=new Date(s);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:Se(s.seconds),nanos:Se(s.nanos)}}function Se(s){return typeof s=="number"?s:typeof s=="string"?Number(s):0}function or(s){return typeof s=="string"?en.fromBase64String(s):en.fromUint8Array(s)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B0="server_timestamp",q0="__type__",H0="__previous_value__",F0="__local_write_time__";function Gm(s){return(s?.mapValue?.fields||{})[q0]?.stringValue===B0}function bh(s){const t=s.mapValue.fields[H0];return Gm(t)?bh(t):t}function Ll(s){const t=ar(s.mapValue.fields[F0].timestampValue);return new ue(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _I{constructor(t,i,r,l,c,d,p,y,_,A){this.databaseId=t,this.appId=i,this.persistenceKey=r,this.host=l,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=p,this.longPollingOptions=y,this.useFetchStreams=_,this.isUsingEmulator=A}}const oh="(default)";class Pl{constructor(t,i){this.projectId=t,this.database=i||oh}static empty(){return new Pl("","")}get isDefaultDatabase(){return this.database===oh}isEqual(t){return t instanceof Pl&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G0="__type__",vI="__max__",kc={mapValue:{}},Q0="__vector__",lh="value";function lr(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?Gm(s)?4:TI(s)?9007199254740991:EI(s)?10:11:dt(28295,{value:s})}function Pi(s,t){if(s===t)return!0;const i=lr(s);if(i!==lr(t))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===t.booleanValue;case 4:return Ll(s).isEqual(Ll(t));case 3:return(function(l,c){if(typeof l.timestampValue=="string"&&typeof c.timestampValue=="string"&&l.timestampValue.length===c.timestampValue.length)return l.timestampValue===c.timestampValue;const d=ar(l.timestampValue),p=ar(c.timestampValue);return d.seconds===p.seconds&&d.nanos===p.nanos})(s,t);case 5:return s.stringValue===t.stringValue;case 6:return(function(l,c){return or(l.bytesValue).isEqual(or(c.bytesValue))})(s,t);case 7:return s.referenceValue===t.referenceValue;case 8:return(function(l,c){return Se(l.geoPointValue.latitude)===Se(c.geoPointValue.latitude)&&Se(l.geoPointValue.longitude)===Se(c.geoPointValue.longitude)})(s,t);case 2:return(function(l,c){if("integerValue"in l&&"integerValue"in c)return Se(l.integerValue)===Se(c.integerValue);if("doubleValue"in l&&"doubleValue"in c){const d=Se(l.doubleValue),p=Se(c.doubleValue);return d===p?ah(d)===ah(p):isNaN(d)&&isNaN(p)}return!1})(s,t);case 9:return io(s.arrayValue.values||[],t.arrayValue.values||[],Pi);case 10:case 11:return(function(l,c){const d=l.mapValue.fields||{},p=c.mapValue.fields||{};if(Gv(d)!==Gv(p))return!1;for(const y in d)if(d.hasOwnProperty(y)&&(p[y]===void 0||!Pi(d[y],p[y])))return!1;return!0})(s,t);default:return dt(52216,{left:s})}}function kl(s,t){return(s.values||[]).find((i=>Pi(i,t)))!==void 0}function so(s,t){if(s===t)return 0;const i=lr(s),r=lr(t);if(i!==r)return Ut(i,r);switch(i){case 0:case 9007199254740991:return 0;case 1:return Ut(s.booleanValue,t.booleanValue);case 2:return(function(c,d){const p=Se(c.integerValue||c.doubleValue),y=Se(d.integerValue||d.doubleValue);return p<y?-1:p>y?1:p===y?0:isNaN(p)?isNaN(y)?0:-1:1})(s,t);case 3:return Yv(s.timestampValue,t.timestampValue);case 4:return Yv(Ll(s),Ll(t));case 5:return fm(s.stringValue,t.stringValue);case 6:return(function(c,d){const p=or(c),y=or(d);return p.compareTo(y)})(s.bytesValue,t.bytesValue);case 7:return(function(c,d){const p=c.split("/"),y=d.split("/");for(let _=0;_<p.length&&_<y.length;_++){const A=Ut(p[_],y[_]);if(A!==0)return A}return Ut(p.length,y.length)})(s.referenceValue,t.referenceValue);case 8:return(function(c,d){const p=Ut(Se(c.latitude),Se(d.latitude));return p!==0?p:Ut(Se(c.longitude),Se(d.longitude))})(s.geoPointValue,t.geoPointValue);case 9:return Kv(s.arrayValue,t.arrayValue);case 10:return(function(c,d){const p=c.fields||{},y=d.fields||{},_=p[lh]?.arrayValue,A=y[lh]?.arrayValue,S=Ut(_?.values?.length||0,A?.values?.length||0);return S!==0?S:Kv(_,A)})(s.mapValue,t.mapValue);case 11:return(function(c,d){if(c===kc.mapValue&&d===kc.mapValue)return 0;if(c===kc.mapValue)return 1;if(d===kc.mapValue)return-1;const p=c.fields||{},y=Object.keys(p),_=d.fields||{},A=Object.keys(_);y.sort(),A.sort();for(let S=0;S<y.length&&S<A.length;++S){const N=fm(y[S],A[S]);if(N!==0)return N;const F=so(p[y[S]],_[A[S]]);if(F!==0)return F}return Ut(y.length,A.length)})(s.mapValue,t.mapValue);default:throw dt(23264,{he:i})}}function Yv(s,t){if(typeof s=="string"&&typeof t=="string"&&s.length===t.length)return Ut(s,t);const i=ar(s),r=ar(t),l=Ut(i.seconds,r.seconds);return l!==0?l:Ut(i.nanos,r.nanos)}function Kv(s,t){const i=s.values||[],r=t.values||[];for(let l=0;l<i.length&&l<r.length;++l){const c=so(i[l],r[l]);if(c)return c}return Ut(i.length,r.length)}function ro(s){return dm(s)}function dm(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?(function(i){const r=ar(i);return`time(${r.seconds},${r.nanos})`})(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?(function(i){return or(i).toBase64()})(s.bytesValue):"referenceValue"in s?(function(i){return ht.fromName(i).toString()})(s.referenceValue):"geoPointValue"in s?(function(i){return`geo(${i.latitude},${i.longitude})`})(s.geoPointValue):"arrayValue"in s?(function(i){let r="[",l=!0;for(const c of i.values||[])l?l=!1:r+=",",r+=dm(c);return r+"]"})(s.arrayValue):"mapValue"in s?(function(i){const r=Object.keys(i.fields||{}).sort();let l="{",c=!0;for(const d of r)c?c=!1:l+=",",l+=`${d}:${dm(i.fields[d])}`;return l+"}"})(s.mapValue):dt(61005,{value:s})}function Yc(s){switch(lr(s)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=bh(s);return t?16+Yc(t):16;case 5:return 2*s.stringValue.length;case 6:return or(s.bytesValue).approximateByteSize();case 7:return s.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((l,c)=>l+Yc(c)),0)})(s.arrayValue);case 10:case 11:return(function(r){let l=0;return hr(r.fields,((c,d)=>{l+=c.length+Yc(d)})),l})(s.mapValue);default:throw dt(13486,{value:s})}}function Xv(s,t){return{referenceValue:`projects/${s.projectId}/databases/${s.database}/documents/${t.path.canonicalString()}`}}function mm(s){return!!s&&"integerValue"in s}function Qm(s){return!!s&&"arrayValue"in s}function $v(s){return!!s&&"nullValue"in s}function Zv(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function Kc(s){return!!s&&"mapValue"in s}function EI(s){return(s?.mapValue?.fields||{})[G0]?.stringValue===Q0}function Cl(s){if(s.geoPointValue)return{geoPointValue:{...s.geoPointValue}};if(s.timestampValue&&typeof s.timestampValue=="object")return{timestampValue:{...s.timestampValue}};if(s.mapValue){const t={mapValue:{fields:{}}};return hr(s.mapValue.fields,((i,r)=>t.mapValue.fields[i]=Cl(r))),t}if(s.arrayValue){const t={arrayValue:{values:[]}};for(let i=0;i<(s.arrayValue.values||[]).length;++i)t.arrayValue.values[i]=Cl(s.arrayValue.values[i]);return t}return{...s}}function TI(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue===vI}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hn{constructor(t){this.value=t}static empty(){return new hn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let i=this.value;for(let r=0;r<t.length-1;++r)if(i=(i.mapValue.fields||{})[t.get(r)],!Kc(i))return null;return i=(i.mapValue.fields||{})[t.lastSegment()],i||null}}set(t,i){this.getFieldsMap(t.popLast())[t.lastSegment()]=Cl(i)}setAll(t){let i=tn.emptyPath(),r={},l=[];t.forEach(((d,p)=>{if(!i.isImmediateParentOf(p)){const y=this.getFieldsMap(i);this.applyChanges(y,r,l),r={},l=[],i=p.popLast()}d?r[p.lastSegment()]=Cl(d):l.push(p.lastSegment())}));const c=this.getFieldsMap(i);this.applyChanges(c,r,l)}delete(t){const i=this.field(t.popLast());Kc(i)&&i.mapValue.fields&&delete i.mapValue.fields[t.lastSegment()]}isEqual(t){return Pi(this.value,t.value)}getFieldsMap(t){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let r=0;r<t.length;++r){let l=i.mapValue.fields[t.get(r)];Kc(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},i.mapValue.fields[t.get(r)]=l),i=l}return i.mapValue.fields}applyChanges(t,i,r){hr(i,((l,c)=>t[l]=c));for(const l of r)delete t[l]}clone(){return new hn(Cl(this.value))}}function Y0(s){const t=[];return hr(s.fields,((i,r)=>{const l=new tn([i]);if(Kc(r)){const c=Y0(r.mapValue).fields;if(c.length===0)t.push(l);else for(const d of c)t.push(l.child(d))}else t.push(l)})),new On(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qe{constructor(t,i,r,l,c,d,p){this.key=t,this.documentType=i,this.version=r,this.readTime=l,this.createTime=c,this.data=d,this.documentState=p}static newInvalidDocument(t){return new Qe(t,0,yt.min(),yt.min(),yt.min(),hn.empty(),0)}static newFoundDocument(t,i,r,l){return new Qe(t,1,i,yt.min(),r,l,0)}static newNoDocument(t,i){return new Qe(t,2,i,yt.min(),yt.min(),hn.empty(),0)}static newUnknownDocument(t,i){return new Qe(t,3,i,yt.min(),yt.min(),hn.empty(),2)}convertToFoundDocument(t,i){return!this.createTime.isEqual(yt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=hn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=hn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=yt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof Qe&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Qe(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uh{constructor(t,i){this.position=t,this.inclusive=i}}function Jv(s,t,i){let r=0;for(let l=0;l<s.position.length;l++){const c=t[l],d=s.position[l];if(c.field.isKeyField()?r=ht.comparator(ht.fromName(d.referenceValue),i.key):r=so(d,i.data.field(c.field)),c.dir==="desc"&&(r*=-1),r!==0)break}return r}function Wv(s,t){if(s===null)return t===null;if(t===null||s.inclusive!==t.inclusive||s.position.length!==t.position.length)return!1;for(let i=0;i<s.position.length;i++)if(!Pi(s.position[i],t.position[i]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zl{constructor(t,i="asc"){this.field=t,this.dir=i}}function AI(s,t){return s.dir===t.dir&&s.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K0{}class Ue extends K0{constructor(t,i,r){super(),this.field=t,this.op=i,this.value=r}static create(t,i,r){return t.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(t,i,r):new bI(t,i,r):i==="array-contains"?new II(t,r):i==="in"?new CI(t,r):i==="not-in"?new NI(t,r):i==="array-contains-any"?new DI(t,r):new Ue(t,i,r)}static createKeyFieldInFilter(t,i,r){return i==="in"?new wI(t,r):new RI(t,r)}matches(t){const i=t.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(so(i,this.value)):i!==null&&lr(this.value)===lr(i)&&this.matchesComparison(so(i,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return dt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class oi extends K0{constructor(t,i){super(),this.filters=t,this.op=i,this.Pe=null}static create(t,i){return new oi(t,i)}matches(t){return X0(this)?this.filters.find((i=>!i.matches(t)))===void 0:this.filters.find((i=>i.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,i)=>t.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function X0(s){return s.op==="and"}function $0(s){return SI(s)&&X0(s)}function SI(s){for(const t of s.filters)if(t instanceof oi)return!1;return!0}function gm(s){if(s instanceof Ue)return s.field.canonicalString()+s.op.toString()+ro(s.value);if($0(s))return s.filters.map((t=>gm(t))).join(",");{const t=s.filters.map((i=>gm(i))).join(",");return`${s.op}(${t})`}}function Z0(s,t){return s instanceof Ue?(function(r,l){return l instanceof Ue&&r.op===l.op&&r.field.isEqual(l.field)&&Pi(r.value,l.value)})(s,t):s instanceof oi?(function(r,l){return l instanceof oi&&r.op===l.op&&r.filters.length===l.filters.length?r.filters.reduce(((c,d,p)=>c&&Z0(d,l.filters[p])),!0):!1})(s,t):void dt(19439)}function J0(s){return s instanceof Ue?(function(i){return`${i.field.canonicalString()} ${i.op} ${ro(i.value)}`})(s):s instanceof oi?(function(i){return i.op.toString()+" {"+i.getFilters().map(J0).join(" ,")+"}"})(s):"Filter"}class bI extends Ue{constructor(t,i,r){super(t,i,r),this.key=ht.fromName(r.referenceValue)}matches(t){const i=ht.comparator(t.key,this.key);return this.matchesComparison(i)}}class wI extends Ue{constructor(t,i){super(t,"in",i),this.keys=W0("in",i)}matches(t){return this.keys.some((i=>i.isEqual(t.key)))}}class RI extends Ue{constructor(t,i){super(t,"not-in",i),this.keys=W0("not-in",i)}matches(t){return!this.keys.some((i=>i.isEqual(t.key)))}}function W0(s,t){return(t.arrayValue?.values||[]).map((i=>ht.fromName(i.referenceValue)))}class II extends Ue{constructor(t,i){super(t,"array-contains",i)}matches(t){const i=t.data.field(this.field);return Qm(i)&&kl(i.arrayValue,this.value)}}class CI extends Ue{constructor(t,i){super(t,"in",i)}matches(t){const i=t.data.field(this.field);return i!==null&&kl(this.value.arrayValue,i)}}class NI extends Ue{constructor(t,i){super(t,"not-in",i)}matches(t){if(kl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=t.data.field(this.field);return i!==null&&i.nullValue===void 0&&!kl(this.value.arrayValue,i)}}class DI extends Ue{constructor(t,i){super(t,"array-contains-any",i)}matches(t){const i=t.data.field(this.field);return!(!Qm(i)||!i.arrayValue.values)&&i.arrayValue.values.some((r=>kl(this.value.arrayValue,r)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OI{constructor(t,i=null,r=[],l=[],c=null,d=null,p=null){this.path=t,this.collectionGroup=i,this.orderBy=r,this.filters=l,this.limit=c,this.startAt=d,this.endAt=p,this.Te=null}}function tE(s,t=null,i=[],r=[],l=null,c=null,d=null){return new OI(s,t,i,r,l,c,d)}function Ym(s){const t=Tt(s);if(t.Te===null){let i=t.path.canonicalString();t.collectionGroup!==null&&(i+="|cg:"+t.collectionGroup),i+="|f:",i+=t.filters.map((r=>gm(r))).join(","),i+="|ob:",i+=t.orderBy.map((r=>(function(c){return c.field.canonicalString()+c.dir})(r))).join(","),$l(t.limit)||(i+="|l:",i+=t.limit),t.startAt&&(i+="|lb:",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map((r=>ro(r))).join(",")),t.endAt&&(i+="|ub:",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map((r=>ro(r))).join(",")),t.Te=i}return t.Te}function Km(s,t){if(s.limit!==t.limit||s.orderBy.length!==t.orderBy.length)return!1;for(let i=0;i<s.orderBy.length;i++)if(!AI(s.orderBy[i],t.orderBy[i]))return!1;if(s.filters.length!==t.filters.length)return!1;for(let i=0;i<s.filters.length;i++)if(!Z0(s.filters[i],t.filters[i]))return!1;return s.collectionGroup===t.collectionGroup&&!!s.path.isEqual(t.path)&&!!Wv(s.startAt,t.startAt)&&Wv(s.endAt,t.endAt)}function pm(s){return ht.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class po{constructor(t,i=null,r=[],l=[],c=null,d="F",p=null,y=null){this.path=t,this.collectionGroup=i,this.explicitOrderBy=r,this.filters=l,this.limit=c,this.limitType=d,this.startAt=p,this.endAt=y,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function VI(s,t,i,r,l,c,d,p){return new po(s,t,i,r,l,c,d,p)}function wh(s){return new po(s)}function eE(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}function tT(s){return s.collectionGroup!==null}function Nl(s){const t=Tt(s);if(t.Ie===null){t.Ie=[];const i=new Set;for(const c of t.explicitOrderBy)t.Ie.push(c),i.add(c.field.canonicalString());const r=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(d){let p=new Be(tn.comparator);return d.filters.forEach((y=>{y.getFlattenedFilters().forEach((_=>{_.isInequality()&&(p=p.add(_.field))}))})),p})(t).forEach((c=>{i.has(c.canonicalString())||c.isKeyField()||t.Ie.push(new zl(c,r))})),i.has(tn.keyField().canonicalString())||t.Ie.push(new zl(tn.keyField(),r))}return t.Ie}function Mi(s){const t=Tt(s);return t.Ee||(t.Ee=MI(t,Nl(s))),t.Ee}function MI(s,t){if(s.limitType==="F")return tE(s.path,s.collectionGroup,t,s.filters,s.limit,s.startAt,s.endAt);{t=t.map((l=>{const c=l.dir==="desc"?"asc":"desc";return new zl(l.field,c)}));const i=s.endAt?new uh(s.endAt.position,s.endAt.inclusive):null,r=s.startAt?new uh(s.startAt.position,s.startAt.inclusive):null;return tE(s.path,s.collectionGroup,t,s.filters,s.limit,i,r)}}function ym(s,t){const i=s.filters.concat([t]);return new po(s.path,s.collectionGroup,s.explicitOrderBy.slice(),i,s.limit,s.limitType,s.startAt,s.endAt)}function _m(s,t,i){return new po(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),t,i,s.startAt,s.endAt)}function Rh(s,t){return Km(Mi(s),Mi(t))&&s.limitType===t.limitType}function eT(s){return`${Ym(Mi(s))}|lt:${s.limitType}`}function Qa(s){return`Query(target=${(function(i){let r=i.path.canonicalString();return i.collectionGroup!==null&&(r+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(r+=`, filters: [${i.filters.map((l=>J0(l))).join(", ")}]`),$l(i.limit)||(r+=", limit: "+i.limit),i.orderBy.length>0&&(r+=`, orderBy: [${i.orderBy.map((l=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(l))).join(", ")}]`),i.startAt&&(r+=", startAt: ",r+=i.startAt.inclusive?"b:":"a:",r+=i.startAt.position.map((l=>ro(l))).join(",")),i.endAt&&(r+=", endAt: ",r+=i.endAt.inclusive?"a:":"b:",r+=i.endAt.position.map((l=>ro(l))).join(",")),`Target(${r})`})(Mi(s))}; limitType=${s.limitType})`}function Ih(s,t){return t.isFoundDocument()&&(function(r,l){const c=l.key.path;return r.collectionGroup!==null?l.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(c):ht.isDocumentKey(r.path)?r.path.isEqual(c):r.path.isImmediateParentOf(c)})(s,t)&&(function(r,l){for(const c of Nl(r))if(!c.field.isKeyField()&&l.data.field(c.field)===null)return!1;return!0})(s,t)&&(function(r,l){for(const c of r.filters)if(!c.matches(l))return!1;return!0})(s,t)&&(function(r,l){return!(r.startAt&&!(function(d,p,y){const _=Jv(d,p,y);return d.inclusive?_<=0:_<0})(r.startAt,Nl(r),l)||r.endAt&&!(function(d,p,y){const _=Jv(d,p,y);return d.inclusive?_>=0:_>0})(r.endAt,Nl(r),l))})(s,t)}function xI(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function nT(s){return(t,i)=>{let r=!1;for(const l of Nl(s)){const c=UI(l,t,i);if(c!==0)return c;r=r||l.field.isKeyField()}return 0}}function UI(s,t,i){const r=s.field.isKeyField()?ht.comparator(t.key,i.key):(function(c,d,p){const y=d.data.field(c),_=p.data.field(c);return y!==null&&_!==null?so(y,_):dt(42886)})(s.field,t,i);switch(s.dir){case"asc":return r;case"desc":return-1*r;default:return dt(19790,{direction:s.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ea{constructor(t,i){this.mapKeyFn=t,this.equalsFn=i,this.inner={},this.innerSize=0}get(t){const i=this.mapKeyFn(t),r=this.inner[i];if(r!==void 0){for(const[l,c]of r)if(this.equalsFn(l,t))return c}}has(t){return this.get(t)!==void 0}set(t,i){const r=this.mapKeyFn(t),l=this.inner[r];if(l===void 0)return this.inner[r]=[[t,i]],void this.innerSize++;for(let c=0;c<l.length;c++)if(this.equalsFn(l[c][0],t))return void(l[c]=[t,i]);l.push([t,i]),this.innerSize++}delete(t){const i=this.mapKeyFn(t),r=this.inner[i];if(r===void 0)return!1;for(let l=0;l<r.length;l++)if(this.equalsFn(r[l][0],t))return r.length===1?delete this.inner[i]:r.splice(l,1),this.innerSize--,!0;return!1}forEach(t){hr(this.inner,((i,r)=>{for(const[l,c]of r)t(l,c)}))}isEmpty(){return z0(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LI=new me(ht.comparator);function hs(){return LI}const iT=new me(ht.comparator);function Sl(...s){let t=iT;for(const i of s)t=t.insert(i.key,i);return t}function sT(s){let t=iT;return s.forEach(((i,r)=>t=t.insert(i,r.overlayedDocument))),t}function Yr(){return Dl()}function rT(){return Dl()}function Dl(){return new ea((s=>s.toString()),((s,t)=>s.isEqual(t)))}const PI=new me(ht.comparator),kI=new Be(ht.comparator);function Lt(...s){let t=kI;for(const i of s)t=t.add(i);return t}const zI=new Be(Ut);function jI(){return zI}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xm(s,t){if(s.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ah(t)?"-0":t}}function aT(s){return{integerValue:""+s}}function oT(s,t){return mI(t)?aT(t):Xm(s,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ch{constructor(){this._=void 0}}function BI(s,t,i){return s instanceof jl?(function(l,c){const d={fields:{[q0]:{stringValue:B0},[F0]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return c&&Gm(c)&&(c=bh(c)),c&&(d.fields[H0]=c),{mapValue:d}})(i,t):s instanceof Bl?uT(s,t):s instanceof ql?cT(s,t):(function(l,c){const d=lT(l,c),p=nE(d)+nE(l.Ae);return mm(d)&&mm(l.Ae)?aT(p):Xm(l.serializer,p)})(s,t)}function qI(s,t,i){return s instanceof Bl?uT(s,t):s instanceof ql?cT(s,t):i}function lT(s,t){return s instanceof Hl?(function(r){return mm(r)||(function(c){return!!c&&"doubleValue"in c})(r)})(t)?t:{integerValue:0}:null}class jl extends Ch{}class Bl extends Ch{constructor(t){super(),this.elements=t}}function uT(s,t){const i=hT(t);for(const r of s.elements)i.some((l=>Pi(l,r)))||i.push(r);return{arrayValue:{values:i}}}class ql extends Ch{constructor(t){super(),this.elements=t}}function cT(s,t){let i=hT(t);for(const r of s.elements)i=i.filter((l=>!Pi(l,r)));return{arrayValue:{values:i}}}class Hl extends Ch{constructor(t,i){super(),this.serializer=t,this.Ae=i}}function nE(s){return Se(s.integerValue||s.doubleValue)}function hT(s){return Qm(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fT{constructor(t,i){this.field=t,this.transform=i}}function HI(s,t){return s.field.isEqual(t.field)&&(function(r,l){return r instanceof Bl&&l instanceof Bl||r instanceof ql&&l instanceof ql?io(r.elements,l.elements,Pi):r instanceof Hl&&l instanceof Hl?Pi(r.Ae,l.Ae):r instanceof jl&&l instanceof jl})(s.transform,t.transform)}class FI{constructor(t,i){this.version=t,this.transformResults=i}}class an{constructor(t,i){this.updateTime=t,this.exists=i}static none(){return new an}static exists(t){return new an(void 0,t)}static updateTime(t){return new an(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Xc(s,t){return s.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(s.updateTime):s.exists===void 0||s.exists===t.isFoundDocument()}class Nh{}function dT(s,t){if(!s.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return s.isNoDocument()?new $m(s.key,an.none()):new Zl(s.key,s.data,an.none());{const i=s.data,r=hn.empty();let l=new Be(tn.comparator);for(let c of t.fields)if(!l.has(c)){let d=i.field(c);d===null&&c.length>1&&(c=c.popLast(),d=i.field(c)),d===null?r.delete(c):r.set(c,d),l=l.add(c)}return new fr(s.key,r,new On(l.toArray()),an.none())}}function GI(s,t,i){s instanceof Zl?(function(l,c,d){const p=l.value.clone(),y=sE(l.fieldTransforms,c,d.transformResults);p.setAll(y),c.convertToFoundDocument(d.version,p).setHasCommittedMutations()})(s,t,i):s instanceof fr?(function(l,c,d){if(!Xc(l.precondition,c))return void c.convertToUnknownDocument(d.version);const p=sE(l.fieldTransforms,c,d.transformResults),y=c.data;y.setAll(mT(l)),y.setAll(p),c.convertToFoundDocument(d.version,y).setHasCommittedMutations()})(s,t,i):(function(l,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()})(0,t,i)}function Ol(s,t,i,r){return s instanceof Zl?(function(c,d,p,y){if(!Xc(c.precondition,d))return p;const _=c.value.clone(),A=rE(c.fieldTransforms,y,d);return _.setAll(A),d.convertToFoundDocument(d.version,_).setHasLocalMutations(),null})(s,t,i,r):s instanceof fr?(function(c,d,p,y){if(!Xc(c.precondition,d))return p;const _=rE(c.fieldTransforms,y,d),A=d.data;return A.setAll(mT(c)),A.setAll(_),d.convertToFoundDocument(d.version,A).setHasLocalMutations(),p===null?null:p.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((S=>S.field)))})(s,t,i,r):(function(c,d,p){return Xc(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):p})(s,t,i)}function QI(s,t){let i=null;for(const r of s.fieldTransforms){const l=t.data.field(r.field),c=lT(r.transform,l||null);c!=null&&(i===null&&(i=hn.empty()),i.set(r.field,c))}return i||null}function iE(s,t){return s.type===t.type&&!!s.key.isEqual(t.key)&&!!s.precondition.isEqual(t.precondition)&&!!(function(r,l){return r===void 0&&l===void 0||!(!r||!l)&&io(r,l,((c,d)=>HI(c,d)))})(s.fieldTransforms,t.fieldTransforms)&&(s.type===0?s.value.isEqual(t.value):s.type!==1||s.data.isEqual(t.data)&&s.fieldMask.isEqual(t.fieldMask))}class Zl extends Nh{constructor(t,i,r,l=[]){super(),this.key=t,this.value=i,this.precondition=r,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class fr extends Nh{constructor(t,i,r,l,c=[]){super(),this.key=t,this.data=i,this.fieldMask=r,this.precondition=l,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function mT(s){const t=new Map;return s.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const r=s.data.field(i);t.set(i,r)}})),t}function sE(s,t,i){const r=new Map;Bt(s.length===i.length,32656,{Re:i.length,Ve:s.length});for(let l=0;l<i.length;l++){const c=s[l],d=c.transform,p=t.data.field(c.field);r.set(c.field,qI(d,p,i[l]))}return r}function rE(s,t,i){const r=new Map;for(const l of s){const c=l.transform,d=i.data.field(l.field);r.set(l.field,BI(c,d,t))}return r}class $m extends Nh{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class gT extends Nh{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YI{constructor(t,i,r,l){this.batchId=t,this.localWriteTime=i,this.baseMutations=r,this.mutations=l}applyToRemoteDocument(t,i){const r=i.mutationResults;for(let l=0;l<this.mutations.length;l++){const c=this.mutations[l];c.key.isEqual(t.key)&&GI(c,t,r[l])}}applyToLocalView(t,i){for(const r of this.baseMutations)r.key.isEqual(t.key)&&(i=Ol(r,t,i,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(t.key)&&(i=Ol(r,t,i,this.localWriteTime));return i}applyToLocalDocumentSet(t,i){const r=rT();return this.mutations.forEach((l=>{const c=t.get(l.key),d=c.overlayedDocument;let p=this.applyToLocalView(d,c.mutatedFields);p=i.has(l.key)?null:p;const y=dT(d,p);y!==null&&r.set(l.key,y),d.isValidDocument()||d.convertToNoDocument(yt.min())})),r}keys(){return this.mutations.reduce(((t,i)=>t.add(i.key)),Lt())}isEqual(t){return this.batchId===t.batchId&&io(this.mutations,t.mutations,((i,r)=>iE(i,r)))&&io(this.baseMutations,t.baseMutations,((i,r)=>iE(i,r)))}}class Zm{constructor(t,i,r,l){this.batch=t,this.commitVersion=i,this.mutationResults=r,this.docVersions=l}static from(t,i,r){Bt(t.mutations.length===r.length,58842,{me:t.mutations.length,fe:r.length});let l=(function(){return PI})();const c=t.mutations;for(let d=0;d<c.length;d++)l=l.insert(c[d].key,r[d].version);return new Zm(t,i,r,l)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KI{constructor(t,i){this.largestBatchId=t,this.mutation=i}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XI{constructor(t,i){this.count=t,this.unchangedNames=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var xe,jt;function pT(s){switch(s){case G.OK:return dt(64938);case G.CANCELLED:case G.UNKNOWN:case G.DEADLINE_EXCEEDED:case G.RESOURCE_EXHAUSTED:case G.INTERNAL:case G.UNAVAILABLE:case G.UNAUTHENTICATED:return!1;case G.INVALID_ARGUMENT:case G.NOT_FOUND:case G.ALREADY_EXISTS:case G.PERMISSION_DENIED:case G.FAILED_PRECONDITION:case G.ABORTED:case G.OUT_OF_RANGE:case G.UNIMPLEMENTED:case G.DATA_LOSS:return!0;default:return dt(15467,{code:s})}}function yT(s){if(s===void 0)return cs("GRPC error has no .code"),G.UNKNOWN;switch(s){case xe.OK:return G.OK;case xe.CANCELLED:return G.CANCELLED;case xe.UNKNOWN:return G.UNKNOWN;case xe.DEADLINE_EXCEEDED:return G.DEADLINE_EXCEEDED;case xe.RESOURCE_EXHAUSTED:return G.RESOURCE_EXHAUSTED;case xe.INTERNAL:return G.INTERNAL;case xe.UNAVAILABLE:return G.UNAVAILABLE;case xe.UNAUTHENTICATED:return G.UNAUTHENTICATED;case xe.INVALID_ARGUMENT:return G.INVALID_ARGUMENT;case xe.NOT_FOUND:return G.NOT_FOUND;case xe.ALREADY_EXISTS:return G.ALREADY_EXISTS;case xe.PERMISSION_DENIED:return G.PERMISSION_DENIED;case xe.FAILED_PRECONDITION:return G.FAILED_PRECONDITION;case xe.ABORTED:return G.ABORTED;case xe.OUT_OF_RANGE:return G.OUT_OF_RANGE;case xe.UNIMPLEMENTED:return G.UNIMPLEMENTED;case xe.DATA_LOSS:return G.DATA_LOSS;default:return dt(39323,{code:s})}}(jt=xe||(xe={}))[jt.OK=0]="OK",jt[jt.CANCELLED=1]="CANCELLED",jt[jt.UNKNOWN=2]="UNKNOWN",jt[jt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",jt[jt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",jt[jt.NOT_FOUND=5]="NOT_FOUND",jt[jt.ALREADY_EXISTS=6]="ALREADY_EXISTS",jt[jt.PERMISSION_DENIED=7]="PERMISSION_DENIED",jt[jt.UNAUTHENTICATED=16]="UNAUTHENTICATED",jt[jt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",jt[jt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",jt[jt.ABORTED=10]="ABORTED",jt[jt.OUT_OF_RANGE=11]="OUT_OF_RANGE",jt[jt.UNIMPLEMENTED=12]="UNIMPLEMENTED",jt[jt.INTERNAL=13]="INTERNAL",jt[jt.UNAVAILABLE=14]="UNAVAILABLE",jt[jt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $I(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZI=new nr([4294967295,4294967295],0);function aE(s){const t=$I().encode(s),i=new C0;return i.update(t),new Uint8Array(i.digest())}function oE(s){const t=new DataView(s.buffer),i=t.getUint32(0,!0),r=t.getUint32(4,!0),l=t.getUint32(8,!0),c=t.getUint32(12,!0);return[new nr([i,r],0),new nr([l,c],0)]}class Jm{constructor(t,i,r){if(this.bitmap=t,this.padding=i,this.hashCount=r,i<0||i>=8)throw new bl(`Invalid padding: ${i}`);if(r<0)throw new bl(`Invalid hash count: ${r}`);if(t.length>0&&this.hashCount===0)throw new bl(`Invalid hash count: ${r}`);if(t.length===0&&i!==0)throw new bl(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*t.length-i,this.pe=nr.fromNumber(this.ge)}ye(t,i,r){let l=t.add(i.multiply(nr.fromNumber(r)));return l.compare(ZI)===1&&(l=new nr([l.getBits(0),l.getBits(1)],0)),l.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const i=aE(t),[r,l]=oE(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(r,l,c);if(!this.we(d))return!1}return!0}static create(t,i,r){const l=t%8==0?0:8-t%8,c=new Uint8Array(Math.ceil(t/8)),d=new Jm(c,l,i);return r.forEach((p=>d.insert(p))),d}insert(t){if(this.ge===0)return;const i=aE(t),[r,l]=oE(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(r,l,c);this.Se(d)}}Se(t){const i=Math.floor(t/8),r=t%8;this.bitmap[i]|=1<<r}}class bl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dh{constructor(t,i,r,l,c){this.snapshotVersion=t,this.targetChanges=i,this.targetMismatches=r,this.documentUpdates=l,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(t,i,r){const l=new Map;return l.set(t,Jl.createSynthesizedTargetChangeForCurrentChange(t,i,r)),new Dh(yt.min(),l,new me(Ut),hs(),Lt())}}class Jl{constructor(t,i,r,l,c){this.resumeToken=t,this.current=i,this.addedDocuments=r,this.modifiedDocuments=l,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(t,i,r){return new Jl(r,i,Lt(),Lt(),Lt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $c{constructor(t,i,r,l){this.be=t,this.removedTargetIds=i,this.key=r,this.De=l}}class _T{constructor(t,i){this.targetId=t,this.Ce=i}}class vT{constructor(t,i,r=en.EMPTY_BYTE_STRING,l=null){this.state=t,this.targetIds=i,this.resumeToken=r,this.cause=l}}class lE{constructor(){this.ve=0,this.Fe=uE(),this.Me=en.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=Lt(),i=Lt(),r=Lt();return this.Fe.forEach(((l,c)=>{switch(c){case 0:t=t.add(l);break;case 2:i=i.add(l);break;case 1:r=r.add(l);break;default:dt(38017,{changeType:c})}})),new Jl(this.Me,this.xe,t,i,r)}qe(){this.Oe=!1,this.Fe=uE()}Qe(t,i){this.Oe=!0,this.Fe=this.Fe.insert(t,i)}$e(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}Ue(){this.ve+=1}Ke(){this.ve-=1,Bt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class JI{constructor(t){this.Ge=t,this.ze=new Map,this.je=hs(),this.Je=zc(),this.He=zc(),this.Ye=new me(Ut)}Ze(t){for(const i of t.be)t.De&&t.De.isFoundDocument()?this.Xe(i,t.De):this.et(i,t.key,t.De);for(const i of t.removedTargetIds)this.et(i,t.key,t.De)}tt(t){this.forEachTarget(t,(i=>{const r=this.nt(i);switch(t.state){case 0:this.rt(i)&&r.Le(t.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(t.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(r.We(),r.Le(t.resumeToken));break;case 4:this.rt(i)&&(this.it(i),r.Le(t.resumeToken));break;default:dt(56790,{state:t.state})}}))}forEachTarget(t,i){t.targetIds.length>0?t.targetIds.forEach(i):this.ze.forEach(((r,l)=>{this.rt(l)&&i(l)}))}st(t){const i=t.targetId,r=t.Ce.count,l=this.ot(i);if(l){const c=l.target;if(pm(c))if(r===0){const d=new ht(c.path);this.et(i,d,Qe.newNoDocument(d,yt.min()))}else Bt(r===1,20013,{expectedCount:r});else{const d=this._t(i);if(d!==r){const p=this.ut(t),y=p?this.ct(p,t,d):1;if(y!==0){this.it(i);const _=y===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(i,_)}}}}}ut(t){const i=t.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:r="",padding:l=0},hashCount:c=0}=i;let d,p;try{d=or(r).toUint8Array()}catch(y){if(y instanceof j0)return no("Decoding the base64 bloom filter in existence filter failed ("+y.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw y}try{p=new Jm(d,l,c)}catch(y){return no(y instanceof bl?"BloomFilter error: ":"Applying bloom filter failed: ",y),null}return p.ge===0?null:p}ct(t,i,r){return i.Ce.count===r-this.Pt(t,i.targetId)?0:2}Pt(t,i){const r=this.Ge.getRemoteKeysForTarget(i);let l=0;return r.forEach((c=>{const d=this.Ge.ht(),p=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;t.mightContain(p)||(this.et(i,c,null),l++)})),l}Tt(t){const i=new Map;this.ze.forEach(((c,d)=>{const p=this.ot(d);if(p){if(c.current&&pm(p.target)){const y=new ht(p.target.path);this.It(y).has(d)||this.Et(d,y)||this.et(d,y,Qe.newNoDocument(y,t))}c.Be&&(i.set(d,c.ke()),c.qe())}}));let r=Lt();this.He.forEach(((c,d)=>{let p=!0;d.forEachWhile((y=>{const _=this.ot(y);return!_||_.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)})),p&&(r=r.add(c))})),this.je.forEach(((c,d)=>d.setReadTime(t)));const l=new Dh(t,i,this.Ye,this.je,r);return this.je=hs(),this.Je=zc(),this.He=zc(),this.Ye=new me(Ut),l}Xe(t,i){if(!this.rt(t))return;const r=this.Et(t,i.key)?2:0;this.nt(t).Qe(i.key,r),this.je=this.je.insert(i.key,i),this.Je=this.Je.insert(i.key,this.It(i.key).add(t)),this.He=this.He.insert(i.key,this.dt(i.key).add(t))}et(t,i,r){if(!this.rt(t))return;const l=this.nt(t);this.Et(t,i)?l.Qe(i,1):l.$e(i),this.He=this.He.insert(i,this.dt(i).delete(t)),this.He=this.He.insert(i,this.dt(i).add(t)),r&&(this.je=this.je.insert(i,r))}removeTarget(t){this.ze.delete(t)}_t(t){const i=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+i.addedDocuments.size-i.removedDocuments.size}Ue(t){this.nt(t).Ue()}nt(t){let i=this.ze.get(t);return i||(i=new lE,this.ze.set(t,i)),i}dt(t){let i=this.He.get(t);return i||(i=new Be(Ut),this.He=this.He.insert(t,i)),i}It(t){let i=this.Je.get(t);return i||(i=new Be(Ut),this.Je=this.Je.insert(t,i)),i}rt(t){const i=this.ot(t)!==null;return i||at("WatchChangeAggregator","Detected inactive target",t),i}ot(t){const i=this.ze.get(t);return i&&i.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new lE),this.Ge.getRemoteKeysForTarget(t).forEach((i=>{this.et(t,i,null)}))}Et(t,i){return this.Ge.getRemoteKeysForTarget(t).has(i)}}function zc(){return new me(ht.comparator)}function uE(){return new me(ht.comparator)}const WI={asc:"ASCENDING",desc:"DESCENDING"},t2={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},e2={and:"AND",or:"OR"};class n2{constructor(t,i){this.databaseId=t,this.useProto3Json=i}}function vm(s,t){return s.useProto3Json||$l(t)?t:{value:t}}function ch(s,t){return s.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function ET(s,t){return s.useProto3Json?t.toBase64():t.toUint8Array()}function i2(s,t){return ch(s,t.toTimestamp())}function Vn(s){return Bt(!!s,49232),yt.fromTimestamp((function(i){const r=ar(i);return new ue(r.seconds,r.nanos)})(s))}function Wm(s,t){return Em(s,t).canonicalString()}function Em(s,t){const i=(function(l){return new ie(["projects",l.projectId,"databases",l.database])})(s).child("documents");return t===void 0?i:i.child(t)}function TT(s){const t=ie.fromString(s);return Bt(IT(t),10190,{key:t.toString()}),t}function hh(s,t){return Wm(s.databaseId,t.path)}function Vl(s,t){const i=TT(t);if(i.get(1)!==s.databaseId.projectId)throw new it(G.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+s.databaseId.projectId);if(i.get(3)!==s.databaseId.database)throw new it(G.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+s.databaseId.database);return new ht(ST(i))}function AT(s,t){return Wm(s.databaseId,t)}function s2(s){const t=TT(s);return t.length===4?ie.emptyPath():ST(t)}function Tm(s){return new ie(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function ST(s){return Bt(s.length>4&&s.get(4)==="documents",29091,{key:s.toString()}),s.popFirst(5)}function cE(s,t,i){return{name:hh(s,t),fields:i.value.mapValue.fields}}function r2(s,t){return"found"in t?(function(r,l){Bt(!!l.found,43571),l.found.name,l.found.updateTime;const c=Vl(r,l.found.name),d=Vn(l.found.updateTime),p=l.found.createTime?Vn(l.found.createTime):yt.min(),y=new hn({mapValue:{fields:l.found.fields}});return Qe.newFoundDocument(c,d,p,y)})(s,t):"missing"in t?(function(r,l){Bt(!!l.missing,3894),Bt(!!l.readTime,22933);const c=Vl(r,l.missing),d=Vn(l.readTime);return Qe.newNoDocument(c,d)})(s,t):dt(7234,{result:t})}function a2(s,t){let i;if("targetChange"in t){t.targetChange;const r=(function(_){return _==="NO_CHANGE"?0:_==="ADD"?1:_==="REMOVE"?2:_==="CURRENT"?3:_==="RESET"?4:dt(39313,{state:_})})(t.targetChange.targetChangeType||"NO_CHANGE"),l=t.targetChange.targetIds||[],c=(function(_,A){return _.useProto3Json?(Bt(A===void 0||typeof A=="string",58123),en.fromBase64String(A||"")):(Bt(A===void 0||A instanceof Buffer||A instanceof Uint8Array,16193),en.fromUint8Array(A||new Uint8Array))})(s,t.targetChange.resumeToken),d=t.targetChange.cause,p=d&&(function(_){const A=_.code===void 0?G.UNKNOWN:yT(_.code);return new it(A,_.message||"")})(d);i=new vT(r,l,c,p||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const l=Vl(s,r.document.name),c=Vn(r.document.updateTime),d=r.document.createTime?Vn(r.document.createTime):yt.min(),p=new hn({mapValue:{fields:r.document.fields}}),y=Qe.newFoundDocument(l,c,d,p),_=r.targetIds||[],A=r.removedTargetIds||[];i=new $c(_,A,y.key,y)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const l=Vl(s,r.document),c=r.readTime?Vn(r.readTime):yt.min(),d=Qe.newNoDocument(l,c),p=r.removedTargetIds||[];i=new $c([],p,d.key,d)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const l=Vl(s,r.document),c=r.removedTargetIds||[];i=new $c([],c,l,null)}else{if(!("filter"in t))return dt(11601,{Rt:t});{t.filter;const r=t.filter;r.targetId;const{count:l=0,unchangedNames:c}=r,d=new XI(l,c),p=r.targetId;i=new _T(p,d)}}return i}function bT(s,t){let i;if(t instanceof Zl)i={update:cE(s,t.key,t.value)};else if(t instanceof $m)i={delete:hh(s,t.key)};else if(t instanceof fr)i={update:cE(s,t.key,t.data),updateMask:g2(t.fieldMask)};else{if(!(t instanceof gT))return dt(16599,{Vt:t.type});i={verify:hh(s,t.key)}}return t.fieldTransforms.length>0&&(i.updateTransforms=t.fieldTransforms.map((r=>(function(c,d){const p=d.transform;if(p instanceof jl)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof Bl)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof ql)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof Hl)return{fieldPath:d.field.canonicalString(),increment:p.Ae};throw dt(20930,{transform:d.transform})})(0,r)))),t.precondition.isNone||(i.currentDocument=(function(l,c){return c.updateTime!==void 0?{updateTime:i2(l,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:dt(27497)})(s,t.precondition)),i}function o2(s,t){return s&&s.length>0?(Bt(t!==void 0,14353),s.map((i=>(function(l,c){let d=l.updateTime?Vn(l.updateTime):Vn(c);return d.isEqual(yt.min())&&(d=Vn(c)),new FI(d,l.transformResults||[])})(i,t)))):[]}function l2(s,t){return{documents:[AT(s,t.path)]}}function u2(s,t){const i={structuredQuery:{}},r=t.path;let l;t.collectionGroup!==null?(l=r,i.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(l=r.popLast(),i.structuredQuery.from=[{collectionId:r.lastSegment()}]),i.parent=AT(s,l);const c=(function(_){if(_.length!==0)return RT(oi.create(_,"and"))})(t.filters);c&&(i.structuredQuery.where=c);const d=(function(_){if(_.length!==0)return _.map((A=>(function(N){return{field:Ya(N.field),direction:f2(N.dir)}})(A)))})(t.orderBy);d&&(i.structuredQuery.orderBy=d);const p=vm(s,t.limit);return p!==null&&(i.structuredQuery.limit=p),t.startAt&&(i.structuredQuery.startAt=(function(_){return{before:_.inclusive,values:_.position}})(t.startAt)),t.endAt&&(i.structuredQuery.endAt=(function(_){return{before:!_.inclusive,values:_.position}})(t.endAt)),{ft:i,parent:l}}function c2(s){let t=s2(s.parent);const i=s.structuredQuery,r=i.from?i.from.length:0;let l=null;if(r>0){Bt(r===1,65062);const A=i.from[0];A.allDescendants?l=A.collectionId:t=t.child(A.collectionId)}let c=[];i.where&&(c=(function(S){const N=wT(S);return N instanceof oi&&$0(N)?N.getFilters():[N]})(i.where));let d=[];i.orderBy&&(d=(function(S){return S.map((N=>(function(Z){return new zl(Ka(Z.field),(function(W){switch(W){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(Z.direction))})(N)))})(i.orderBy));let p=null;i.limit&&(p=(function(S){let N;return N=typeof S=="object"?S.value:S,$l(N)?null:N})(i.limit));let y=null;i.startAt&&(y=(function(S){const N=!!S.before,F=S.values||[];return new uh(F,N)})(i.startAt));let _=null;return i.endAt&&(_=(function(S){const N=!S.before,F=S.values||[];return new uh(F,N)})(i.endAt)),VI(t,l,d,c,p,"F",y,_)}function h2(s,t){const i=(function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return dt(28987,{purpose:l})}})(t.purpose);return i==null?null:{"goog-listen-tags":i}}function wT(s){return s.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const r=Ka(i.unaryFilter.field);return Ue.create(r,"==",{doubleValue:NaN});case"IS_NULL":const l=Ka(i.unaryFilter.field);return Ue.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=Ka(i.unaryFilter.field);return Ue.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=Ka(i.unaryFilter.field);return Ue.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return dt(61313);default:return dt(60726)}})(s):s.fieldFilter!==void 0?(function(i){return Ue.create(Ka(i.fieldFilter.field),(function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return dt(58110);default:return dt(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(s):s.compositeFilter!==void 0?(function(i){return oi.create(i.compositeFilter.filters.map((r=>wT(r))),(function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return dt(1026)}})(i.compositeFilter.op))})(s):dt(30097,{filter:s})}function f2(s){return WI[s]}function d2(s){return t2[s]}function m2(s){return e2[s]}function Ya(s){return{fieldPath:s.canonicalString()}}function Ka(s){return tn.fromServerFormat(s.fieldPath)}function RT(s){return s instanceof Ue?(function(i){if(i.op==="=="){if(Zv(i.value))return{unaryFilter:{field:Ya(i.field),op:"IS_NAN"}};if($v(i.value))return{unaryFilter:{field:Ya(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(Zv(i.value))return{unaryFilter:{field:Ya(i.field),op:"IS_NOT_NAN"}};if($v(i.value))return{unaryFilter:{field:Ya(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ya(i.field),op:d2(i.op),value:i.value}}})(s):s instanceof oi?(function(i){const r=i.getFilters().map((l=>RT(l)));return r.length===1?r[0]:{compositeFilter:{op:m2(i.op),filters:r}}})(s):dt(54877,{filter:s})}function g2(s){const t=[];return s.fields.forEach((i=>t.push(i.canonicalString()))),{fieldPaths:t}}function IT(s){return s.length>=4&&s.get(0)==="projects"&&s.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Js{constructor(t,i,r,l,c=yt.min(),d=yt.min(),p=en.EMPTY_BYTE_STRING,y=null){this.target=t,this.targetId=i,this.purpose=r,this.sequenceNumber=l,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=p,this.expectedCount=y}withSequenceNumber(t){return new Js(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,i){return new Js(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Js(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Js(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p2{constructor(t){this.yt=t}}function y2(s){const t=c2({parent:s.parent,structuredQuery:s.structuredQuery});return s.limitType==="LAST"?_m(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _2{constructor(){this.Cn=new v2}addToCollectionParentIndex(t,i){return this.Cn.add(i),$.resolve()}getCollectionParents(t,i){return $.resolve(this.Cn.getEntries(i))}addFieldIndex(t,i){return $.resolve()}deleteFieldIndex(t,i){return $.resolve()}deleteAllFieldIndexes(t){return $.resolve()}createTargetIndexes(t,i){return $.resolve()}getDocumentsMatchingTarget(t,i){return $.resolve(null)}getIndexType(t,i){return $.resolve(0)}getFieldIndexes(t,i){return $.resolve([])}getNextCollectionGroupToUpdate(t){return $.resolve(null)}getMinOffset(t,i){return $.resolve(rr.min())}getMinOffsetFromCollectionGroup(t,i){return $.resolve(rr.min())}updateCollectionGroup(t,i,r){return $.resolve()}updateIndexEntries(t,i){return $.resolve()}}class v2{constructor(){this.index={}}add(t){const i=t.lastSegment(),r=t.popLast(),l=this.index[i]||new Be(ie.comparator),c=!l.has(r);return this.index[i]=l.add(r),c}has(t){const i=t.lastSegment(),r=t.popLast(),l=this.index[i];return l&&l.has(r)}getEntries(t){return(this.index[t]||new Be(ie.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},CT=41943040;class vn{static withCacheSize(t){return new vn(t,vn.DEFAULT_COLLECTION_PERCENTILE,vn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,i,r){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */vn.DEFAULT_COLLECTION_PERCENTILE=10,vn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,vn.DEFAULT=new vn(CT,vn.DEFAULT_COLLECTION_PERCENTILE,vn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),vn.DISABLED=new vn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ao{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new ao(0)}static cr(){return new ao(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fE="LruGarbageCollector",E2=1048576;function dE([s,t],[i,r]){const l=Ut(s,i);return l===0?Ut(t,r):l}class T2{constructor(t){this.Ir=t,this.buffer=new Be(dE),this.Er=0}dr(){return++this.Er}Ar(t){const i=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(i);else{const r=this.buffer.last();dE(i,r)<0&&(this.buffer=this.buffer.delete(r).add(i))}}get maxValue(){return this.buffer.last()[0]}}class A2{constructor(t,i,r){this.garbageCollector=t,this.asyncQueue=i,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(t){at(fE,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){go(i)?at(fE,"Ignoring IndexedDB error during garbage collection: ",i):await mo(i)}await this.Vr(3e5)}))}}class S2{constructor(t,i){this.mr=t,this.params=i}calculateTargetCount(t,i){return this.mr.gr(t).next((r=>Math.floor(i/100*r)))}nthSequenceNumber(t,i){if(i===0)return $.resolve(Sh.ce);const r=new T2(i);return this.mr.forEachTarget(t,(l=>r.Ar(l.sequenceNumber))).next((()=>this.mr.pr(t,(l=>r.Ar(l))))).next((()=>r.maxValue))}removeTargets(t,i,r){return this.mr.removeTargets(t,i,r)}removeOrphanedDocuments(t,i){return this.mr.removeOrphanedDocuments(t,i)}collect(t,i){return this.params.cacheSizeCollectionThreshold===-1?(at("LruGarbageCollector","Garbage collection skipped; disabled"),$.resolve(hE)):this.getCacheSize(t).next((r=>r<this.params.cacheSizeCollectionThreshold?(at("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),hE):this.yr(t,i)))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,i){let r,l,c,d,p,y,_;const A=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((S=>(S>this.params.maximumSequenceNumbersToCollect?(at("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${S}`),l=this.params.maximumSequenceNumbersToCollect):l=S,d=Date.now(),this.nthSequenceNumber(t,l)))).next((S=>(r=S,p=Date.now(),this.removeTargets(t,r,i)))).next((S=>(c=S,y=Date.now(),this.removeOrphanedDocuments(t,r)))).next((S=>(_=Date.now(),Ga()<=xt.DEBUG&&at("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-A}ms
	Determined least recently used ${l} in `+(p-d)+`ms
	Removed ${c} targets in `+(y-p)+`ms
	Removed ${S} documents in `+(_-y)+`ms
Total Duration: ${_-A}ms`),$.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:c,documentsRemoved:S}))))}}function b2(s,t){return new S2(s,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w2{constructor(){this.changes=new ea((t=>t.toString()),((t,i)=>t.isEqual(i))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,i){this.assertNotApplied(),this.changes.set(t,Qe.newInvalidDocument(t).setReadTime(i))}getEntry(t,i){this.assertNotApplied();const r=this.changes.get(i);return r!==void 0?$.resolve(r):this.getFromCache(t,i)}getEntries(t,i){return this.getAllFromCache(t,i)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R2{constructor(t,i){this.overlayedDocument=t,this.mutatedFields=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I2{constructor(t,i,r,l){this.remoteDocumentCache=t,this.mutationQueue=i,this.documentOverlayCache=r,this.indexManager=l}getDocument(t,i){let r=null;return this.documentOverlayCache.getOverlay(t,i).next((l=>(r=l,this.remoteDocumentCache.getEntry(t,i)))).next((l=>(r!==null&&Ol(r.mutation,l,On.empty(),ue.now()),l)))}getDocuments(t,i){return this.remoteDocumentCache.getEntries(t,i).next((r=>this.getLocalViewOfDocuments(t,r,Lt()).next((()=>r))))}getLocalViewOfDocuments(t,i,r=Lt()){const l=Yr();return this.populateOverlays(t,l,i).next((()=>this.computeViews(t,i,l,r).next((c=>{let d=Sl();return c.forEach(((p,y)=>{d=d.insert(p,y.overlayedDocument)})),d}))))}getOverlayedDocuments(t,i){const r=Yr();return this.populateOverlays(t,r,i).next((()=>this.computeViews(t,i,r,Lt())))}populateOverlays(t,i,r){const l=[];return r.forEach((c=>{i.has(c)||l.push(c)})),this.documentOverlayCache.getOverlays(t,l).next((c=>{c.forEach(((d,p)=>{i.set(d,p)}))}))}computeViews(t,i,r,l){let c=hs();const d=Dl(),p=(function(){return Dl()})();return i.forEach(((y,_)=>{const A=r.get(_.key);l.has(_.key)&&(A===void 0||A.mutation instanceof fr)?c=c.insert(_.key,_):A!==void 0?(d.set(_.key,A.mutation.getFieldMask()),Ol(A.mutation,_,A.mutation.getFieldMask(),ue.now())):d.set(_.key,On.empty())})),this.recalculateAndSaveOverlays(t,c).next((y=>(y.forEach(((_,A)=>d.set(_,A))),i.forEach(((_,A)=>p.set(_,new R2(A,d.get(_)??null)))),p)))}recalculateAndSaveOverlays(t,i){const r=Dl();let l=new me(((d,p)=>d-p)),c=Lt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,i).next((d=>{for(const p of d)p.keys().forEach((y=>{const _=i.get(y);if(_===null)return;let A=r.get(y)||On.empty();A=p.applyToLocalView(_,A),r.set(y,A);const S=(l.get(p.batchId)||Lt()).add(y);l=l.insert(p.batchId,S)}))})).next((()=>{const d=[],p=l.getReverseIterator();for(;p.hasNext();){const y=p.getNext(),_=y.key,A=y.value,S=rT();A.forEach((N=>{if(!c.has(N)){const F=dT(i.get(N),r.get(N));F!==null&&S.set(N,F),c=c.add(N)}})),d.push(this.documentOverlayCache.saveOverlays(t,_,S))}return $.waitFor(d)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(t,i){return this.remoteDocumentCache.getEntries(t,i).next((r=>this.recalculateAndSaveOverlays(t,r)))}getDocumentsMatchingQuery(t,i,r,l){return(function(d){return ht.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0})(i)?this.getDocumentsMatchingDocumentQuery(t,i.path):tT(i)?this.getDocumentsMatchingCollectionGroupQuery(t,i,r,l):this.getDocumentsMatchingCollectionQuery(t,i,r,l)}getNextDocuments(t,i,r,l){return this.remoteDocumentCache.getAllFromCollectionGroup(t,i,r,l).next((c=>{const d=l-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,i,r.largestBatchId,l-c.size):$.resolve(Yr());let p=Ul,y=c;return d.next((_=>$.forEach(_,((A,S)=>(p<S.largestBatchId&&(p=S.largestBatchId),c.get(A)?$.resolve():this.remoteDocumentCache.getEntry(t,A).next((N=>{y=y.insert(A,N)}))))).next((()=>this.populateOverlays(t,_,c))).next((()=>this.computeViews(t,y,_,Lt()))).next((A=>({batchId:p,changes:sT(A)})))))}))}getDocumentsMatchingDocumentQuery(t,i){return this.getDocument(t,new ht(i)).next((r=>{let l=Sl();return r.isFoundDocument()&&(l=l.insert(r.key,r)),l}))}getDocumentsMatchingCollectionGroupQuery(t,i,r,l){const c=i.collectionGroup;let d=Sl();return this.indexManager.getCollectionParents(t,c).next((p=>$.forEach(p,(y=>{const _=(function(S,N){return new po(N,null,S.explicitOrderBy.slice(),S.filters.slice(),S.limit,S.limitType,S.startAt,S.endAt)})(i,y.child(c));return this.getDocumentsMatchingCollectionQuery(t,_,r,l).next((A=>{A.forEach(((S,N)=>{d=d.insert(S,N)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(t,i,r,l){let c;return this.documentOverlayCache.getOverlaysForCollection(t,i.path,r.largestBatchId).next((d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(t,i,r,c,l)))).next((d=>{c.forEach(((y,_)=>{const A=_.getKey();d.get(A)===null&&(d=d.insert(A,Qe.newInvalidDocument(A)))}));let p=Sl();return d.forEach(((y,_)=>{const A=c.get(y);A!==void 0&&Ol(A.mutation,_,On.empty(),ue.now()),Ih(i,_)&&(p=p.insert(y,_))})),p}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C2{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,i){return $.resolve(this.Lr.get(i))}saveBundleMetadata(t,i){return this.Lr.set(i.id,(function(l){return{id:l.id,version:l.version,createTime:Vn(l.createTime)}})(i)),$.resolve()}getNamedQuery(t,i){return $.resolve(this.kr.get(i))}saveNamedQuery(t,i){return this.kr.set(i.name,(function(l){return{name:l.name,query:y2(l.bundledQuery),readTime:Vn(l.readTime)}})(i)),$.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N2{constructor(){this.overlays=new me(ht.comparator),this.qr=new Map}getOverlay(t,i){return $.resolve(this.overlays.get(i))}getOverlays(t,i){const r=Yr();return $.forEach(i,(l=>this.getOverlay(t,l).next((c=>{c!==null&&r.set(l,c)})))).next((()=>r))}saveOverlays(t,i,r){return r.forEach(((l,c)=>{this.St(t,i,c)})),$.resolve()}removeOverlaysForBatchId(t,i,r){const l=this.qr.get(r);return l!==void 0&&(l.forEach((c=>this.overlays=this.overlays.remove(c))),this.qr.delete(r)),$.resolve()}getOverlaysForCollection(t,i,r){const l=Yr(),c=i.length+1,d=new ht(i.child("")),p=this.overlays.getIteratorFrom(d);for(;p.hasNext();){const y=p.getNext().value,_=y.getKey();if(!i.isPrefixOf(_.path))break;_.path.length===c&&y.largestBatchId>r&&l.set(y.getKey(),y)}return $.resolve(l)}getOverlaysForCollectionGroup(t,i,r,l){let c=new me(((_,A)=>_-A));const d=this.overlays.getIterator();for(;d.hasNext();){const _=d.getNext().value;if(_.getKey().getCollectionGroup()===i&&_.largestBatchId>r){let A=c.get(_.largestBatchId);A===null&&(A=Yr(),c=c.insert(_.largestBatchId,A)),A.set(_.getKey(),_)}}const p=Yr(),y=c.getIterator();for(;y.hasNext()&&(y.getNext().value.forEach(((_,A)=>p.set(_,A))),!(p.size()>=l)););return $.resolve(p)}St(t,i,r){const l=this.overlays.get(r.key);if(l!==null){const d=this.qr.get(l.largestBatchId).delete(r.key);this.qr.set(l.largestBatchId,d)}this.overlays=this.overlays.insert(r.key,new KI(i,r));let c=this.qr.get(i);c===void 0&&(c=Lt(),this.qr.set(i,c)),this.qr.set(i,c.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D2{constructor(){this.sessionToken=en.EMPTY_BYTE_STRING}getSessionToken(t){return $.resolve(this.sessionToken)}setSessionToken(t,i){return this.sessionToken=i,$.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tg{constructor(){this.Qr=new Be(Ge.$r),this.Ur=new Be(Ge.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,i){const r=new Ge(t,i);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(t,i){t.forEach((r=>this.addReference(r,i)))}removeReference(t,i){this.Gr(new Ge(t,i))}zr(t,i){t.forEach((r=>this.removeReference(r,i)))}jr(t){const i=new ht(new ie([])),r=new Ge(i,t),l=new Ge(i,t+1),c=[];return this.Ur.forEachInRange([r,l],(d=>{this.Gr(d),c.push(d.key)})),c}Jr(){this.Qr.forEach((t=>this.Gr(t)))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){const i=new ht(new ie([])),r=new Ge(i,t),l=new Ge(i,t+1);let c=Lt();return this.Ur.forEachInRange([r,l],(d=>{c=c.add(d.key)})),c}containsKey(t){const i=new Ge(t,0),r=this.Qr.firstAfterOrEqual(i);return r!==null&&t.isEqual(r.key)}}class Ge{constructor(t,i){this.key=t,this.Yr=i}static $r(t,i){return ht.comparator(t.key,i.key)||Ut(t.Yr,i.Yr)}static Kr(t,i){return Ut(t.Yr,i.Yr)||ht.comparator(t.key,i.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O2{constructor(t,i){this.indexManager=t,this.referenceDelegate=i,this.mutationQueue=[],this.tr=1,this.Zr=new Be(Ge.$r)}checkEmpty(t){return $.resolve(this.mutationQueue.length===0)}addMutationBatch(t,i,r,l){const c=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new YI(c,i,r,l);this.mutationQueue.push(d);for(const p of l)this.Zr=this.Zr.add(new Ge(p.key,c)),this.indexManager.addToCollectionParentIndex(t,p.key.path.popLast());return $.resolve(d)}lookupMutationBatch(t,i){return $.resolve(this.Xr(i))}getNextMutationBatchAfterBatchId(t,i){const r=i+1,l=this.ei(r),c=l<0?0:l;return $.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return $.resolve(this.mutationQueue.length===0?Fm:this.tr-1)}getAllMutationBatches(t){return $.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,i){const r=new Ge(i,0),l=new Ge(i,Number.POSITIVE_INFINITY),c=[];return this.Zr.forEachInRange([r,l],(d=>{const p=this.Xr(d.Yr);c.push(p)})),$.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(t,i){let r=new Be(Ut);return i.forEach((l=>{const c=new Ge(l,0),d=new Ge(l,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([c,d],(p=>{r=r.add(p.Yr)}))})),$.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(t,i){const r=i.path,l=r.length+1;let c=r;ht.isDocumentKey(c)||(c=c.child(""));const d=new Ge(new ht(c),0);let p=new Be(Ut);return this.Zr.forEachWhile((y=>{const _=y.key.path;return!!r.isPrefixOf(_)&&(_.length===l&&(p=p.add(y.Yr)),!0)}),d),$.resolve(this.ti(p))}ti(t){const i=[];return t.forEach((r=>{const l=this.Xr(r);l!==null&&i.push(l)})),i}removeMutationBatch(t,i){Bt(this.ni(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return $.forEach(i.mutations,(l=>{const c=new Ge(l.key,i.batchId);return r=r.delete(c),this.referenceDelegate.markPotentiallyOrphaned(t,l.key)})).next((()=>{this.Zr=r}))}ir(t){}containsKey(t,i){const r=new Ge(i,0),l=this.Zr.firstAfterOrEqual(r);return $.resolve(i.isEqual(l&&l.key))}performConsistencyCheck(t){return this.mutationQueue.length,$.resolve()}ni(t,i){return this.ei(t)}ei(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Xr(t){const i=this.ei(t);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V2{constructor(t){this.ri=t,this.docs=(function(){return new me(ht.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,i){const r=i.key,l=this.docs.get(r),c=l?l.size:0,d=this.ri(i);return this.docs=this.docs.insert(r,{document:i.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(t,r.path.popLast())}removeEntry(t){const i=this.docs.get(t);i&&(this.docs=this.docs.remove(t),this.size-=i.size)}getEntry(t,i){const r=this.docs.get(i);return $.resolve(r?r.document.mutableCopy():Qe.newInvalidDocument(i))}getEntries(t,i){let r=hs();return i.forEach((l=>{const c=this.docs.get(l);r=r.insert(l,c?c.document.mutableCopy():Qe.newInvalidDocument(l))})),$.resolve(r)}getDocumentsMatchingQuery(t,i,r,l){let c=hs();const d=i.path,p=new ht(d.child("__id-9223372036854775808__")),y=this.docs.getIteratorFrom(p);for(;y.hasNext();){const{key:_,value:{document:A}}=y.getNext();if(!d.isPrefixOf(_.path))break;_.path.length>d.length+1||cI(uI(A),r)<=0||(l.has(A.key)||Ih(i,A))&&(c=c.insert(A.key,A.mutableCopy()))}return $.resolve(c)}getAllFromCollectionGroup(t,i,r,l){dt(9500)}ii(t,i){return $.forEach(this.docs,(r=>i(r)))}newChangeBuffer(t){return new M2(this)}getSize(t){return $.resolve(this.size)}}class M2 extends w2{constructor(t){super(),this.Nr=t}applyChanges(t){const i=[];return this.changes.forEach(((r,l)=>{l.isValidDocument()?i.push(this.Nr.addEntry(t,l)):this.Nr.removeEntry(r)})),$.waitFor(i)}getFromCache(t,i){return this.Nr.getEntry(t,i)}getAllFromCache(t,i){return this.Nr.getEntries(t,i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x2{constructor(t){this.persistence=t,this.si=new ea((i=>Ym(i)),Km),this.lastRemoteSnapshotVersion=yt.min(),this.highestTargetId=0,this.oi=0,this._i=new tg,this.targetCount=0,this.ai=ao.ur()}forEachTarget(t,i){return this.si.forEach(((r,l)=>i(l))),$.resolve()}getLastRemoteSnapshotVersion(t){return $.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return $.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),$.resolve(this.highestTargetId)}setTargetsMetadata(t,i,r){return r&&(this.lastRemoteSnapshotVersion=r),i>this.oi&&(this.oi=i),$.resolve()}Pr(t){this.si.set(t.target,t);const i=t.targetId;i>this.highestTargetId&&(this.ai=new ao(i),this.highestTargetId=i),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,i){return this.Pr(i),this.targetCount+=1,$.resolve()}updateTargetData(t,i){return this.Pr(i),$.resolve()}removeTargetData(t,i){return this.si.delete(i.target),this._i.jr(i.targetId),this.targetCount-=1,$.resolve()}removeTargets(t,i,r){let l=0;const c=[];return this.si.forEach(((d,p)=>{p.sequenceNumber<=i&&r.get(p.targetId)===null&&(this.si.delete(d),c.push(this.removeMatchingKeysForTargetId(t,p.targetId)),l++)})),$.waitFor(c).next((()=>l))}getTargetCount(t){return $.resolve(this.targetCount)}getTargetData(t,i){const r=this.si.get(i)||null;return $.resolve(r)}addMatchingKeys(t,i,r){return this._i.Wr(i,r),$.resolve()}removeMatchingKeys(t,i,r){this._i.zr(i,r);const l=this.persistence.referenceDelegate,c=[];return l&&i.forEach((d=>{c.push(l.markPotentiallyOrphaned(t,d))})),$.waitFor(c)}removeMatchingKeysForTargetId(t,i){return this._i.jr(i),$.resolve()}getMatchingKeysForTargetId(t,i){const r=this._i.Hr(i);return $.resolve(r)}containsKey(t,i){return $.resolve(this._i.containsKey(i))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NT{constructor(t,i){this.ui={},this.overlays={},this.ci=new Sh(0),this.li=!1,this.li=!0,this.hi=new D2,this.referenceDelegate=t(this),this.Pi=new x2(this),this.indexManager=new _2,this.remoteDocumentCache=(function(l){return new V2(l)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new p2(i),this.Ii=new C2(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let i=this.overlays[t.toKey()];return i||(i=new N2,this.overlays[t.toKey()]=i),i}getMutationQueue(t,i){let r=this.ui[t.toKey()];return r||(r=new O2(i,this.referenceDelegate),this.ui[t.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,i,r){at("MemoryPersistence","Starting transaction:",t);const l=new U2(this.ci.next());return this.referenceDelegate.Ei(),r(l).next((c=>this.referenceDelegate.di(l).next((()=>c)))).toPromise().then((c=>(l.raiseOnCommittedEvent(),c)))}Ai(t,i){return $.or(Object.values(this.ui).map((r=>()=>r.containsKey(t,i))))}}class U2 extends fI{constructor(t){super(),this.currentSequenceNumber=t}}class eg{constructor(t){this.persistence=t,this.Ri=new tg,this.Vi=null}static mi(t){return new eg(t)}get fi(){if(this.Vi)return this.Vi;throw dt(60996)}addReference(t,i,r){return this.Ri.addReference(r,i),this.fi.delete(r.toString()),$.resolve()}removeReference(t,i,r){return this.Ri.removeReference(r,i),this.fi.add(r.toString()),$.resolve()}markPotentiallyOrphaned(t,i){return this.fi.add(i.toString()),$.resolve()}removeTarget(t,i){this.Ri.jr(i.targetId).forEach((l=>this.fi.add(l.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,i.targetId).next((l=>{l.forEach((c=>this.fi.add(c.toString())))})).next((()=>r.removeTargetData(t,i)))}Ei(){this.Vi=new Set}di(t){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return $.forEach(this.fi,(r=>{const l=ht.fromPath(r);return this.gi(t,l).next((c=>{c||i.removeEntry(l,yt.min())}))})).next((()=>(this.Vi=null,i.apply(t))))}updateLimboDocument(t,i){return this.gi(t,i).next((r=>{r?this.fi.delete(i.toString()):this.fi.add(i.toString())}))}Ti(t){return 0}gi(t,i){return $.or([()=>$.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(t,i),()=>this.persistence.Ai(t,i)])}}class fh{constructor(t,i){this.persistence=t,this.pi=new ea((r=>gI(r.path)),((r,l)=>r.isEqual(l))),this.garbageCollector=b2(this,i)}static mi(t,i){return new fh(t,i)}Ei(){}di(t){return $.resolve()}forEachTarget(t,i){return this.persistence.getTargetCache().forEachTarget(t,i)}gr(t){const i=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next((r=>i.next((l=>r+l))))}wr(t){let i=0;return this.pr(t,(r=>{i++})).next((()=>i))}pr(t,i){return $.forEach(this.pi,((r,l)=>this.br(t,r,l).next((c=>c?$.resolve():i(l)))))}removeTargets(t,i,r){return this.persistence.getTargetCache().removeTargets(t,i,r)}removeOrphanedDocuments(t,i){let r=0;const l=this.persistence.getRemoteDocumentCache(),c=l.newChangeBuffer();return l.ii(t,(d=>this.br(t,d,i).next((p=>{p||(r++,c.removeEntry(d,yt.min()))})))).next((()=>c.apply(t))).next((()=>r))}markPotentiallyOrphaned(t,i){return this.pi.set(i,t.currentSequenceNumber),$.resolve()}removeTarget(t,i){const r=i.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,r)}addReference(t,i,r){return this.pi.set(r,t.currentSequenceNumber),$.resolve()}removeReference(t,i,r){return this.pi.set(r,t.currentSequenceNumber),$.resolve()}updateLimboDocument(t,i){return this.pi.set(i,t.currentSequenceNumber),$.resolve()}Ti(t){let i=t.key.toString().length;return t.isFoundDocument()&&(i+=Yc(t.data.value)),i}br(t,i,r){return $.or([()=>this.persistence.Ai(t,i),()=>this.persistence.getTargetCache().containsKey(t,i),()=>{const l=this.pi.get(i);return $.resolve(l!==void 0&&l>r)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ng{constructor(t,i,r,l){this.targetId=t,this.fromCache=i,this.Es=r,this.ds=l}static As(t,i){let r=Lt(),l=Lt();for(const c of i.docChanges)switch(c.type){case 0:r=r.add(c.doc.key);break;case 1:l=l.add(c.doc.key)}return new ng(t,i.fromCache,r,l)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L2{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P2{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return D1()?8:dI(on())>0?6:4})()}initialize(t,i){this.ps=t,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(t,i,r,l){const c={result:null};return this.ys(t,i).next((d=>{c.result=d})).next((()=>{if(!c.result)return this.ws(t,i,l,r).next((d=>{c.result=d}))})).next((()=>{if(c.result)return;const d=new L2;return this.Ss(t,i,d).next((p=>{if(c.result=p,this.Vs)return this.bs(t,i,d,p.size)}))})).next((()=>c.result))}bs(t,i,r,l){return r.documentReadCount<this.fs?(Ga()<=xt.DEBUG&&at("QueryEngine","SDK will not create cache indexes for query:",Qa(i),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),$.resolve()):(Ga()<=xt.DEBUG&&at("QueryEngine","Query:",Qa(i),"scans",r.documentReadCount,"local documents and returns",l,"documents as results."),r.documentReadCount>this.gs*l?(Ga()<=xt.DEBUG&&at("QueryEngine","The SDK decides to create cache indexes for query:",Qa(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Mi(i))):$.resolve())}ys(t,i){if(eE(i))return $.resolve(null);let r=Mi(i);return this.indexManager.getIndexType(t,r).next((l=>l===0?null:(i.limit!==null&&l===1&&(i=_m(i,null,"F"),r=Mi(i)),this.indexManager.getDocumentsMatchingTarget(t,r).next((c=>{const d=Lt(...c);return this.ps.getDocuments(t,d).next((p=>this.indexManager.getMinOffset(t,r).next((y=>{const _=this.Ds(i,p);return this.Cs(i,_,d,y.readTime)?this.ys(t,_m(i,null,"F")):this.vs(t,_,i,y)}))))})))))}ws(t,i,r,l){return eE(i)||l.isEqual(yt.min())?$.resolve(null):this.ps.getDocuments(t,r).next((c=>{const d=this.Ds(i,c);return this.Cs(i,d,r,l)?$.resolve(null):(Ga()<=xt.DEBUG&&at("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),Qa(i)),this.vs(t,d,i,lI(l,Ul)).next((p=>p)))}))}Ds(t,i){let r=new Be(nT(t));return i.forEach(((l,c)=>{Ih(t,c)&&(r=r.add(c))})),r}Cs(t,i,r,l){if(t.limit===null)return!1;if(r.size!==i.size)return!0;const c=t.limitType==="F"?i.last():i.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(l)>0)}Ss(t,i,r){return Ga()<=xt.DEBUG&&at("QueryEngine","Using full collection scan to execute query:",Qa(i)),this.ps.getDocumentsMatchingQuery(t,i,rr.min(),r)}vs(t,i,r,l){return this.ps.getDocumentsMatchingQuery(t,r,l).next((c=>(i.forEach((d=>{c=c.insert(d.key,d)})),c)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ig="LocalStore",k2=3e8;class z2{constructor(t,i,r,l){this.persistence=t,this.Fs=i,this.serializer=l,this.Ms=new me(Ut),this.xs=new ea((c=>Ym(c)),Km),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(r)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new I2(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>t.collect(i,this.Ms)))}}function j2(s,t,i,r){return new z2(s,t,i,r)}async function DT(s,t){const i=Tt(s);return await i.persistence.runTransaction("Handle user change","readonly",(r=>{let l;return i.mutationQueue.getAllMutationBatches(r).next((c=>(l=c,i.Bs(t),i.mutationQueue.getAllMutationBatches(r)))).next((c=>{const d=[],p=[];let y=Lt();for(const _ of l){d.push(_.batchId);for(const A of _.mutations)y=y.add(A.key)}for(const _ of c){p.push(_.batchId);for(const A of _.mutations)y=y.add(A.key)}return i.localDocuments.getDocuments(r,y).next((_=>({Ls:_,removedBatchIds:d,addedBatchIds:p})))}))}))}function B2(s,t){const i=Tt(s);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const l=t.batch.keys(),c=i.Ns.newChangeBuffer({trackRemovals:!0});return(function(p,y,_,A){const S=_.batch,N=S.keys();let F=$.resolve();return N.forEach((Z=>{F=F.next((()=>A.getEntry(y,Z))).next((st=>{const W=_.docVersions.get(Z);Bt(W!==null,48541),st.version.compareTo(W)<0&&(S.applyToRemoteDocument(st,_),st.isValidDocument()&&(st.setReadTime(_.commitVersion),A.addEntry(st)))}))})),F.next((()=>p.mutationQueue.removeMutationBatch(y,S)))})(i,r,t,c).next((()=>c.apply(r))).next((()=>i.mutationQueue.performConsistencyCheck(r))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(r,l,t.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(p){let y=Lt();for(let _=0;_<p.mutationResults.length;++_)p.mutationResults[_].transformResults.length>0&&(y=y.add(p.batch.mutations[_].key));return y})(t)))).next((()=>i.localDocuments.getDocuments(r,l)))}))}function OT(s){const t=Tt(s);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>t.Pi.getLastRemoteSnapshotVersion(i)))}function q2(s,t){const i=Tt(s),r=t.snapshotVersion;let l=i.Ms;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const d=i.Ns.newChangeBuffer({trackRemovals:!0});l=i.Ms;const p=[];t.targetChanges.forEach(((A,S)=>{const N=l.get(S);if(!N)return;p.push(i.Pi.removeMatchingKeys(c,A.removedDocuments,S).next((()=>i.Pi.addMatchingKeys(c,A.addedDocuments,S))));let F=N.withSequenceNumber(c.currentSequenceNumber);t.targetMismatches.get(S)!==null?F=F.withResumeToken(en.EMPTY_BYTE_STRING,yt.min()).withLastLimboFreeSnapshotVersion(yt.min()):A.resumeToken.approximateByteSize()>0&&(F=F.withResumeToken(A.resumeToken,r)),l=l.insert(S,F),(function(st,W,mt){return st.resumeToken.approximateByteSize()===0||W.snapshotVersion.toMicroseconds()-st.snapshotVersion.toMicroseconds()>=k2?!0:mt.addedDocuments.size+mt.modifiedDocuments.size+mt.removedDocuments.size>0})(N,F,A)&&p.push(i.Pi.updateTargetData(c,F))}));let y=hs(),_=Lt();if(t.documentUpdates.forEach((A=>{t.resolvedLimboDocuments.has(A)&&p.push(i.persistence.referenceDelegate.updateLimboDocument(c,A))})),p.push(H2(c,d,t.documentUpdates).next((A=>{y=A.ks,_=A.qs}))),!r.isEqual(yt.min())){const A=i.Pi.getLastRemoteSnapshotVersion(c).next((S=>i.Pi.setTargetsMetadata(c,c.currentSequenceNumber,r)));p.push(A)}return $.waitFor(p).next((()=>d.apply(c))).next((()=>i.localDocuments.getLocalViewOfDocuments(c,y,_))).next((()=>y))})).then((c=>(i.Ms=l,c)))}function H2(s,t,i){let r=Lt(),l=Lt();return i.forEach((c=>r=r.add(c))),t.getEntries(s,r).next((c=>{let d=hs();return i.forEach(((p,y)=>{const _=c.get(p);y.isFoundDocument()!==_.isFoundDocument()&&(l=l.add(p)),y.isNoDocument()&&y.version.isEqual(yt.min())?(t.removeEntry(p,y.readTime),d=d.insert(p,y)):!_.isValidDocument()||y.version.compareTo(_.version)>0||y.version.compareTo(_.version)===0&&_.hasPendingWrites?(t.addEntry(y),d=d.insert(p,y)):at(ig,"Ignoring outdated watch update for ",p,". Current version:",_.version," Watch version:",y.version)})),{ks:d,qs:l}}))}function F2(s,t){const i=Tt(s);return i.persistence.runTransaction("Get next mutation batch","readonly",(r=>(t===void 0&&(t=Fm),i.mutationQueue.getNextMutationBatchAfterBatchId(r,t))))}function G2(s,t){const i=Tt(s);return i.persistence.runTransaction("Allocate target","readwrite",(r=>{let l;return i.Pi.getTargetData(r,t).next((c=>c?(l=c,$.resolve(l)):i.Pi.allocateTargetId(r).next((d=>(l=new Js(t,d,"TargetPurposeListen",r.currentSequenceNumber),i.Pi.addTargetData(r,l).next((()=>l)))))))})).then((r=>{const l=i.Ms.get(r.targetId);return(l===null||r.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(i.Ms=i.Ms.insert(r.targetId,r),i.xs.set(t,r.targetId)),r}))}async function Am(s,t,i){const r=Tt(s),l=r.Ms.get(t),c=i?"readwrite":"readwrite-primary";try{i||await r.persistence.runTransaction("Release target",c,(d=>r.persistence.referenceDelegate.removeTarget(d,l)))}catch(d){if(!go(d))throw d;at(ig,`Failed to update sequence numbers for target ${t}: ${d}`)}r.Ms=r.Ms.remove(t),r.xs.delete(l.target)}function mE(s,t,i){const r=Tt(s);let l=yt.min(),c=Lt();return r.persistence.runTransaction("Execute query","readwrite",(d=>(function(y,_,A){const S=Tt(y),N=S.xs.get(A);return N!==void 0?$.resolve(S.Ms.get(N)):S.Pi.getTargetData(_,A)})(r,d,Mi(t)).next((p=>{if(p)return l=p.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(d,p.targetId).next((y=>{c=y}))})).next((()=>r.Fs.getDocumentsMatchingQuery(d,t,i?l:yt.min(),i?c:Lt()))).next((p=>(Q2(r,xI(t),p),{documents:p,Qs:c})))))}function Q2(s,t,i){let r=s.Os.get(t)||yt.min();i.forEach(((l,c)=>{c.readTime.compareTo(r)>0&&(r=c.readTime)})),s.Os.set(t,r)}class gE{constructor(){this.activeTargetIds=jI()}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class Y2{constructor(){this.Mo=new gE,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,i,r){}addLocalQueryTarget(t,i=!0){return i&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,i,r){this.xo[t]=i}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new gE,Promise.resolve()}handleUserChange(t,i,r){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K2{Oo(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pE="ConnectivityMonitor";class yE{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){at(pE,"Network connectivity changed: AVAILABLE");for(const t of this.qo)t(0)}ko(){at(pE,"Network connectivity changed: UNAVAILABLE");for(const t of this.qo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let jc=null;function Sm(){return jc===null?jc=(function(){return 268435456+Math.round(2147483648*Math.random())})():jc++,"0x"+jc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jd="RestConnection",X2={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class $2{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const i=t.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.Uo=i+"://"+t.host,this.Ko=`projects/${r}/databases/${l}`,this.Wo=this.databaseId.database===oh?`project_id=${r}`:`project_id=${r}&database_id=${l}`}Go(t,i,r,l,c){const d=Sm(),p=this.zo(t,i.toUriEncodedString());at(Jd,`Sending RPC '${t}' ${d}:`,p,r);const y={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(y,l,c);const{host:_}=new URL(p),A=uo(_);return this.Jo(t,p,y,r,A).then((S=>(at(Jd,`Received RPC '${t}' ${d}: `,S),S)),(S=>{throw no(Jd,`RPC '${t}' ${d} failed with error: `,S,"url: ",p,"request:",r),S}))}Ho(t,i,r,l,c,d){return this.Go(t,i,r,l,c)}jo(t,i,r){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+fo})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((l,c)=>t[c]=l)),r&&r.headers.forEach(((l,c)=>t[c]=l))}zo(t,i){const r=X2[t];return`${this.Uo}/v1/${i}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z2{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sn="WebChannelConnection";class J2 extends $2{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,i,r,l,c){const d=Sm();return new Promise(((p,y)=>{const _=new N0;_.setWithCredentials(!0),_.listenOnce(D0.COMPLETE,(()=>{try{switch(_.getLastErrorCode()){case Qc.NO_ERROR:const S=_.getResponseJson();at(sn,`XHR for RPC '${t}' ${d} received:`,JSON.stringify(S)),p(S);break;case Qc.TIMEOUT:at(sn,`RPC '${t}' ${d} timed out`),y(new it(G.DEADLINE_EXCEEDED,"Request time out"));break;case Qc.HTTP_ERROR:const N=_.getStatus();if(at(sn,`RPC '${t}' ${d} failed with status:`,N,"response text:",_.getResponseText()),N>0){let F=_.getResponseJson();Array.isArray(F)&&(F=F[0]);const Z=F?.error;if(Z&&Z.status&&Z.message){const st=(function(mt){const _t=mt.toLowerCase().replace(/_/g,"-");return Object.values(G).indexOf(_t)>=0?_t:G.UNKNOWN})(Z.status);y(new it(st,Z.message))}else y(new it(G.UNKNOWN,"Server responded with status "+_.getStatus()))}else y(new it(G.UNAVAILABLE,"Connection failed."));break;default:dt(9055,{l_:t,streamId:d,h_:_.getLastErrorCode(),P_:_.getLastError()})}}finally{at(sn,`RPC '${t}' ${d} completed.`)}}));const A=JSON.stringify(l);at(sn,`RPC '${t}' ${d} sending request:`,l),_.send(i,"POST",A,r,15)}))}T_(t,i,r){const l=Sm(),c=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],d=M0(),p=V0(),y={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},_=this.longPollingOptions.timeoutSeconds;_!==void 0&&(y.longPollingTimeout=Math.round(1e3*_)),this.useFetchStreams&&(y.useFetchStreams=!0),this.jo(y.initMessageHeaders,i,r),y.encodeInitMessageHeaders=!0;const A=c.join("");at(sn,`Creating RPC '${t}' stream ${l}: ${A}`,y);const S=d.createWebChannel(A,y);this.I_(S);let N=!1,F=!1;const Z=new Z2({Yo:W=>{F?at(sn,`Not sending because RPC '${t}' stream ${l} is closed:`,W):(N||(at(sn,`Opening RPC '${t}' stream ${l} transport.`),S.open(),N=!0),at(sn,`RPC '${t}' stream ${l} sending:`,W),S.send(W))},Zo:()=>S.close()}),st=(W,mt,_t)=>{W.listen(mt,(pt=>{try{_t(pt)}catch(Pt){setTimeout((()=>{throw Pt}),0)}}))};return st(S,Al.EventType.OPEN,(()=>{F||(at(sn,`RPC '${t}' stream ${l} transport opened.`),Z.o_())})),st(S,Al.EventType.CLOSE,(()=>{F||(F=!0,at(sn,`RPC '${t}' stream ${l} transport closed`),Z.a_(),this.E_(S))})),st(S,Al.EventType.ERROR,(W=>{F||(F=!0,no(sn,`RPC '${t}' stream ${l} transport errored. Name:`,W.name,"Message:",W.message),Z.a_(new it(G.UNAVAILABLE,"The operation could not be completed")))})),st(S,Al.EventType.MESSAGE,(W=>{if(!F){const mt=W.data[0];Bt(!!mt,16349);const _t=mt,pt=_t?.error||_t[0]?.error;if(pt){at(sn,`RPC '${t}' stream ${l} received error:`,pt);const Pt=pt.status;let Xt=(function(b){const I=xe[b];if(I!==void 0)return yT(I)})(Pt),zt=pt.message;Xt===void 0&&(Xt=G.INTERNAL,zt="Unknown error status: "+Pt+" with message "+pt.message),F=!0,Z.a_(new it(Xt,zt)),S.close()}else at(sn,`RPC '${t}' stream ${l} received:`,mt),Z.u_(mt)}})),st(p,O0.STAT_EVENT,(W=>{W.stat===hm.PROXY?at(sn,`RPC '${t}' stream ${l} detected buffering proxy`):W.stat===hm.NOPROXY&&at(sn,`RPC '${t}' stream ${l} detected no buffering proxy`)})),setTimeout((()=>{Z.__()}),0),Z}terminate(){this.c_.forEach((t=>t.close())),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter((i=>i===t))}}function Wd(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oh(s){return new n2(s,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sg{constructor(t,i,r=1e3,l=1.5,c=6e4){this.Mi=t,this.timerId=i,this.d_=r,this.A_=l,this.R_=c,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const i=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),l=Math.max(0,i-r);l>0&&at("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.V_} ms, delay with jitter: ${i} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,l,(()=>(this.f_=Date.now(),t()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _E="PersistentStream";class VT{constructor(t,i,r,l,c,d,p,y){this.Mi=t,this.S_=r,this.b_=l,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=p,this.listener=y,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new sg(t,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(t){this.Q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,i){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():i&&i.code===G.RESOURCE_EXHAUSTED?(cs(i.toString()),cs("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===G.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.r_(i)}K_(){}auth(){this.state=1;const t=this.W_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,l])=>{this.D_===i&&this.G_(r,l)}),(r=>{t((()=>{const l=new it(G.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(l)}))}))}G_(t,i){const r=this.W_(this.D_);this.stream=this.j_(t,i),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((l=>{r((()=>this.z_(l)))})),this.stream.onMessage((l=>{r((()=>++this.F_==1?this.J_(l):this.onNext(l)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return at(_E,`close with error: ${t}`),this.stream=null,this.close(4,t)}W_(t){return i=>{this.Mi.enqueueAndForget((()=>this.D_===t?i():(at(_E,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class W2 extends VT{constructor(t,i,r,l,c,d){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,r,l,d),this.serializer=c}j_(t,i){return this.connection.T_("Listen",t,i)}J_(t){return this.onNext(t)}onNext(t){this.M_.reset();const i=a2(this.serializer,t),r=(function(c){if(!("targetChange"in c))return yt.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?yt.min():d.readTime?Vn(d.readTime):yt.min()})(t);return this.listener.H_(i,r)}Y_(t){const i={};i.database=Tm(this.serializer),i.addTarget=(function(c,d){let p;const y=d.target;if(p=pm(y)?{documents:l2(c,y)}:{query:u2(c,y).ft},p.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){p.resumeToken=ET(c,d.resumeToken);const _=vm(c,d.expectedCount);_!==null&&(p.expectedCount=_)}else if(d.snapshotVersion.compareTo(yt.min())>0){p.readTime=ch(c,d.snapshotVersion.toTimestamp());const _=vm(c,d.expectedCount);_!==null&&(p.expectedCount=_)}return p})(this.serializer,t);const r=h2(this.serializer,t);r&&(i.labels=r),this.q_(i)}Z_(t){const i={};i.database=Tm(this.serializer),i.removeTarget=t,this.q_(i)}}class tC extends VT{constructor(t,i,r,l,c,d){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,r,l,d),this.serializer=c}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(t,i){return this.connection.T_("Write",t,i)}J_(t){return Bt(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Bt(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){Bt(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const i=o2(t.writeResults,t.commitTime),r=Vn(t.commitTime);return this.listener.na(r,i)}ra(){const t={};t.database=Tm(this.serializer),this.q_(t)}ea(t){const i={streamToken:this.lastStreamToken,writes:t.map((r=>bT(this.serializer,r)))};this.q_(i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eC{}class nC extends eC{constructor(t,i,r,l){super(),this.authCredentials=t,this.appCheckCredentials=i,this.connection=r,this.serializer=l,this.ia=!1}sa(){if(this.ia)throw new it(G.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,i,r,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Go(t,Em(i,r),l,c,d))).catch((c=>{throw c.name==="FirebaseError"?(c.code===G.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new it(G.UNKNOWN,c.toString())}))}Ho(t,i,r,l,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,p])=>this.connection.Ho(t,Em(i,r),l,d,p,c))).catch((d=>{throw d.name==="FirebaseError"?(d.code===G.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new it(G.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class iC{constructor(t,i){this.asyncQueue=t,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const i=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(cs(i),this.aa=!1):at("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ta="RemoteStore";class sC{constructor(t,i,r,l,c){this.localStore=t,this.datastore=i,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=c,this.Aa.Oo((d=>{r.enqueueAndForget((async()=>{na(this)&&(at(ta,"Restarting streams for network reachability change."),await(async function(y){const _=Tt(y);_.Ea.add(4),await Wl(_),_.Ra.set("Unknown"),_.Ea.delete(4),await Vh(_)})(this))}))})),this.Ra=new iC(r,l)}}async function Vh(s){if(na(s))for(const t of s.da)await t(!0)}async function Wl(s){for(const t of s.da)await t(!1)}function MT(s,t){const i=Tt(s);i.Ia.has(t.targetId)||(i.Ia.set(t.targetId,t),lg(i)?og(i):yo(i).O_()&&ag(i,t))}function rg(s,t){const i=Tt(s),r=yo(i);i.Ia.delete(t),r.O_()&&xT(i,t),i.Ia.size===0&&(r.O_()?r.L_():na(i)&&i.Ra.set("Unknown"))}function ag(s,t){if(s.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(yt.min())>0){const i=s.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(i)}yo(s).Y_(t)}function xT(s,t){s.Va.Ue(t),yo(s).Z_(t)}function og(s){s.Va=new JI({getRemoteKeysForTarget:t=>s.remoteSyncer.getRemoteKeysForTarget(t),At:t=>s.Ia.get(t)||null,ht:()=>s.datastore.serializer.databaseId}),yo(s).start(),s.Ra.ua()}function lg(s){return na(s)&&!yo(s).x_()&&s.Ia.size>0}function na(s){return Tt(s).Ea.size===0}function UT(s){s.Va=void 0}async function rC(s){s.Ra.set("Online")}async function aC(s){s.Ia.forEach(((t,i)=>{ag(s,t)}))}async function oC(s,t){UT(s),lg(s)?(s.Ra.ha(t),og(s)):s.Ra.set("Unknown")}async function lC(s,t,i){if(s.Ra.set("Online"),t instanceof vT&&t.state===2&&t.cause)try{await(async function(l,c){const d=c.cause;for(const p of c.targetIds)l.Ia.has(p)&&(await l.remoteSyncer.rejectListen(p,d),l.Ia.delete(p),l.Va.removeTarget(p))})(s,t)}catch(r){at(ta,"Failed to remove targets %s: %s ",t.targetIds.join(","),r),await dh(s,r)}else if(t instanceof $c?s.Va.Ze(t):t instanceof _T?s.Va.st(t):s.Va.tt(t),!i.isEqual(yt.min()))try{const r=await OT(s.localStore);i.compareTo(r)>=0&&await(function(c,d){const p=c.Va.Tt(d);return p.targetChanges.forEach(((y,_)=>{if(y.resumeToken.approximateByteSize()>0){const A=c.Ia.get(_);A&&c.Ia.set(_,A.withResumeToken(y.resumeToken,d))}})),p.targetMismatches.forEach(((y,_)=>{const A=c.Ia.get(y);if(!A)return;c.Ia.set(y,A.withResumeToken(en.EMPTY_BYTE_STRING,A.snapshotVersion)),xT(c,y);const S=new Js(A.target,y,_,A.sequenceNumber);ag(c,S)})),c.remoteSyncer.applyRemoteEvent(p)})(s,i)}catch(r){at(ta,"Failed to raise snapshot:",r),await dh(s,r)}}async function dh(s,t,i){if(!go(t))throw t;s.Ea.add(1),await Wl(s),s.Ra.set("Offline"),i||(i=()=>OT(s.localStore)),s.asyncQueue.enqueueRetryable((async()=>{at(ta,"Retrying IndexedDB access"),await i(),s.Ea.delete(1),await Vh(s)}))}function LT(s,t){return t().catch((i=>dh(s,i,t)))}async function Mh(s){const t=Tt(s),i=ur(t);let r=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:Fm;for(;uC(t);)try{const l=await F2(t.localStore,r);if(l===null){t.Ta.length===0&&i.L_();break}r=l.batchId,cC(t,l)}catch(l){await dh(t,l)}PT(t)&&kT(t)}function uC(s){return na(s)&&s.Ta.length<10}function cC(s,t){s.Ta.push(t);const i=ur(s);i.O_()&&i.X_&&i.ea(t.mutations)}function PT(s){return na(s)&&!ur(s).x_()&&s.Ta.length>0}function kT(s){ur(s).start()}async function hC(s){ur(s).ra()}async function fC(s){const t=ur(s);for(const i of s.Ta)t.ea(i.mutations)}async function dC(s,t,i){const r=s.Ta.shift(),l=Zm.from(r,t,i);await LT(s,(()=>s.remoteSyncer.applySuccessfulWrite(l))),await Mh(s)}async function mC(s,t){t&&ur(s).X_&&await(async function(r,l){if((function(d){return pT(d)&&d!==G.ABORTED})(l.code)){const c=r.Ta.shift();ur(r).B_(),await LT(r,(()=>r.remoteSyncer.rejectFailedWrite(c.batchId,l))),await Mh(r)}})(s,t),PT(s)&&kT(s)}async function vE(s,t){const i=Tt(s);i.asyncQueue.verifyOperationInProgress(),at(ta,"RemoteStore received new credentials");const r=na(i);i.Ea.add(3),await Wl(i),r&&i.Ra.set("Unknown"),await i.remoteSyncer.handleCredentialChange(t),i.Ea.delete(3),await Vh(i)}async function gC(s,t){const i=Tt(s);t?(i.Ea.delete(2),await Vh(i)):t||(i.Ea.add(2),await Wl(i),i.Ra.set("Unknown"))}function yo(s){return s.ma||(s.ma=(function(i,r,l){const c=Tt(i);return c.sa(),new W2(r,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(s.datastore,s.asyncQueue,{Xo:rC.bind(null,s),t_:aC.bind(null,s),r_:oC.bind(null,s),H_:lC.bind(null,s)}),s.da.push((async t=>{t?(s.ma.B_(),lg(s)?og(s):s.Ra.set("Unknown")):(await s.ma.stop(),UT(s))}))),s.ma}function ur(s){return s.fa||(s.fa=(function(i,r,l){const c=Tt(i);return c.sa(),new tC(r,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(s.datastore,s.asyncQueue,{Xo:()=>Promise.resolve(),t_:hC.bind(null,s),r_:mC.bind(null,s),ta:fC.bind(null,s),na:dC.bind(null,s)}),s.da.push((async t=>{t?(s.fa.B_(),await Mh(s)):(await s.fa.stop(),s.Ta.length>0&&(at(ta,`Stopping write stream with ${s.Ta.length} pending writes`),s.Ta=[]))}))),s.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ug{constructor(t,i,r,l,c){this.asyncQueue=t,this.timerId=i,this.targetTimeMs=r,this.op=l,this.removalCallback=c,this.deferred=new Vi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,i,r,l,c){const d=Date.now()+r,p=new ug(t,i,d,l,c);return p.start(r),p}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new it(G.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function cg(s,t){if(cs("AsyncQueue",`${t}: ${s}`),go(s))return new it(G.UNAVAILABLE,`${t}: ${s}`);throw s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wa{static emptySet(t){return new Wa(t.comparator)}constructor(t){this.comparator=t?(i,r)=>t(i,r)||ht.comparator(i.key,r.key):(i,r)=>ht.comparator(i.key,r.key),this.keyedMap=Sl(),this.sortedSet=new me(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const i=this.keyedMap.get(t);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((i,r)=>(t(i),!1)))}add(t){const i=this.delete(t.key);return i.copy(i.keyedMap.insert(t.key,t),i.sortedSet.insert(t,null))}delete(t){const i=this.get(t);return i?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(i)):this}isEqual(t){if(!(t instanceof Wa)||this.size!==t.size)return!1;const i=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=r.getNext().key;if(!l.isEqual(c))return!1}return!0}toString(){const t=[];return this.forEach((i=>{t.push(i.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,i){const r=new Wa;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=i,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EE{constructor(){this.ga=new me(ht.comparator)}track(t){const i=t.doc.key,r=this.ga.get(i);r?t.type!==0&&r.type===3?this.ga=this.ga.insert(i,t):t.type===3&&r.type!==1?this.ga=this.ga.insert(i,{type:r.type,doc:t.doc}):t.type===2&&r.type===2?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):t.type===2&&r.type===0?this.ga=this.ga.insert(i,{type:0,doc:t.doc}):t.type===1&&r.type===0?this.ga=this.ga.remove(i):t.type===1&&r.type===2?this.ga=this.ga.insert(i,{type:1,doc:r.doc}):t.type===0&&r.type===1?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):dt(63341,{Rt:t,pa:r}):this.ga=this.ga.insert(i,t)}ya(){const t=[];return this.ga.inorderTraversal(((i,r)=>{t.push(r)})),t}}class oo{constructor(t,i,r,l,c,d,p,y,_){this.query=t,this.docs=i,this.oldDocs=r,this.docChanges=l,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=p,this.excludesMetadataChanges=y,this.hasCachedResults=_}static fromInitialDocuments(t,i,r,l,c){const d=[];return i.forEach((p=>{d.push({type:0,doc:p})})),new oo(t,i,Wa.emptySet(i),d,r,l,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Rh(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const i=this.docChanges,r=t.docChanges;if(i.length!==r.length)return!1;for(let l=0;l<i.length;l++)if(i[l].type!==r[l].type||!i[l].doc.isEqual(r[l].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pC{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((t=>t.Da()))}}class yC{constructor(){this.queries=TE(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,r){const l=Tt(i),c=l.queries;l.queries=TE(),c.forEach(((d,p)=>{for(const y of p.Sa)y.onError(r)}))})(this,new it(G.ABORTED,"Firestore shutting down"))}}function TE(){return new ea((s=>eT(s)),Rh)}async function hg(s,t){const i=Tt(s);let r=3;const l=t.query;let c=i.queries.get(l);c?!c.ba()&&t.Da()&&(r=2):(c=new pC,r=t.Da()?0:1);try{switch(r){case 0:c.wa=await i.onListen(l,!0);break;case 1:c.wa=await i.onListen(l,!1);break;case 2:await i.onFirstRemoteStoreListen(l)}}catch(d){const p=cg(d,`Initialization of query '${Qa(t.query)}' failed`);return void t.onError(p)}i.queries.set(l,c),c.Sa.push(t),t.va(i.onlineState),c.wa&&t.Fa(c.wa)&&dg(i)}async function fg(s,t){const i=Tt(s),r=t.query;let l=3;const c=i.queries.get(r);if(c){const d=c.Sa.indexOf(t);d>=0&&(c.Sa.splice(d,1),c.Sa.length===0?l=t.Da()?0:1:!c.ba()&&t.Da()&&(l=2))}switch(l){case 0:return i.queries.delete(r),i.onUnlisten(r,!0);case 1:return i.queries.delete(r),i.onUnlisten(r,!1);case 2:return i.onLastRemoteStoreUnlisten(r);default:return}}function _C(s,t){const i=Tt(s);let r=!1;for(const l of t){const c=l.query,d=i.queries.get(c);if(d){for(const p of d.Sa)p.Fa(l)&&(r=!0);d.wa=l}}r&&dg(i)}function vC(s,t,i){const r=Tt(s),l=r.queries.get(t);if(l)for(const c of l.Sa)c.onError(i);r.queries.delete(t)}function dg(s){s.Ca.forEach((t=>{t.next()}))}var bm,AE;(AE=bm||(bm={})).Ma="default",AE.Cache="cache";class mg{constructor(t,i,r){this.query=t,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(t){if(!this.options.includeMetadataChanges){const r=[];for(const l of t.docChanges)l.type!==3&&r.push(l);t=new oo(t.query,t.docs,t.oldDocs,r,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let i=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),i=!0):this.La(t,this.onlineState)&&(this.ka(t),i=!0),this.Na=t,i}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),i=!0),i}La(t,i){if(!t.fromCache||!this.Da())return!0;const r=i!=="Offline";return(!this.options.qa||!r)&&(!t.docs.isEmpty()||t.hasCachedResults||i==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(t){t=oo.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==bm.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zT{constructor(t){this.key=t}}class jT{constructor(t){this.key=t}}class EC{constructor(t,i){this.query=t,this.Ya=i,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Lt(),this.mutatedKeys=Lt(),this.eu=nT(t),this.tu=new Wa(this.eu)}get nu(){return this.Ya}ru(t,i){const r=i?i.iu:new EE,l=i?i.tu:this.tu;let c=i?i.mutatedKeys:this.mutatedKeys,d=l,p=!1;const y=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,_=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(t.inorderTraversal(((A,S)=>{const N=l.get(A),F=Ih(this.query,S)?S:null,Z=!!N&&this.mutatedKeys.has(N.key),st=!!F&&(F.hasLocalMutations||this.mutatedKeys.has(F.key)&&F.hasCommittedMutations);let W=!1;N&&F?N.data.isEqual(F.data)?Z!==st&&(r.track({type:3,doc:F}),W=!0):this.su(N,F)||(r.track({type:2,doc:F}),W=!0,(y&&this.eu(F,y)>0||_&&this.eu(F,_)<0)&&(p=!0)):!N&&F?(r.track({type:0,doc:F}),W=!0):N&&!F&&(r.track({type:1,doc:N}),W=!0,(y||_)&&(p=!0)),W&&(F?(d=d.add(F),c=st?c.add(A):c.delete(A)):(d=d.delete(A),c=c.delete(A)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const A=this.query.limitType==="F"?d.last():d.first();d=d.delete(A.key),c=c.delete(A.key),r.track({type:1,doc:A})}return{tu:d,iu:r,Cs:p,mutatedKeys:c}}su(t,i){return t.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(t,i,r,l){const c=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const d=t.iu.ya();d.sort(((A,S)=>(function(F,Z){const st=W=>{switch(W){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return dt(20277,{Rt:W})}};return st(F)-st(Z)})(A.type,S.type)||this.eu(A.doc,S.doc))),this.ou(r),l=l??!1;const p=i&&!l?this._u():[],y=this.Xa.size===0&&this.current&&!l?1:0,_=y!==this.Za;return this.Za=y,d.length!==0||_?{snapshot:new oo(this.query,t.tu,c,d,t.mutatedKeys,y===0,_,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:p}:{au:p}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new EE,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(t){return!this.Ya.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((i=>this.Ya=this.Ya.add(i))),t.modifiedDocuments.forEach((i=>{})),t.removedDocuments.forEach((i=>this.Ya=this.Ya.delete(i))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Xa;this.Xa=Lt(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const i=[];return t.forEach((r=>{this.Xa.has(r)||i.push(new jT(r))})),this.Xa.forEach((r=>{t.has(r)||i.push(new zT(r))})),i}cu(t){this.Ya=t.Qs,this.Xa=Lt();const i=this.ru(t.documents);return this.applyChanges(i,!0)}lu(){return oo.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const gg="SyncEngine";class TC{constructor(t,i,r){this.query=t,this.targetId=i,this.view=r}}class AC{constructor(t){this.key=t,this.hu=!1}}class SC{constructor(t,i,r,l,c,d){this.localStore=t,this.remoteStore=i,this.eventManager=r,this.sharedClientState=l,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new ea((p=>eT(p)),Rh),this.Iu=new Map,this.Eu=new Set,this.du=new me(ht.comparator),this.Au=new Map,this.Ru=new tg,this.Vu={},this.mu=new Map,this.fu=ao.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function bC(s,t,i=!0){const r=QT(s);let l;const c=r.Tu.get(t);return c?(r.sharedClientState.addLocalQueryTarget(c.targetId),l=c.view.lu()):l=await BT(r,t,i,!0),l}async function wC(s,t){const i=QT(s);await BT(i,t,!0,!1)}async function BT(s,t,i,r){const l=await G2(s.localStore,Mi(t)),c=l.targetId,d=s.sharedClientState.addLocalQueryTarget(c,i);let p;return r&&(p=await RC(s,t,c,d==="current",l.resumeToken)),s.isPrimaryClient&&i&&MT(s.remoteStore,l),p}async function RC(s,t,i,r,l){s.pu=(S,N,F)=>(async function(st,W,mt,_t){let pt=W.view.ru(mt);pt.Cs&&(pt=await mE(st.localStore,W.query,!1).then((({documents:C})=>W.view.ru(C,pt))));const Pt=_t&&_t.targetChanges.get(W.targetId),Xt=_t&&_t.targetMismatches.get(W.targetId)!=null,zt=W.view.applyChanges(pt,st.isPrimaryClient,Pt,Xt);return bE(st,W.targetId,zt.au),zt.snapshot})(s,S,N,F);const c=await mE(s.localStore,t,!0),d=new EC(t,c.Qs),p=d.ru(c.documents),y=Jl.createSynthesizedTargetChangeForCurrentChange(i,r&&s.onlineState!=="Offline",l),_=d.applyChanges(p,s.isPrimaryClient,y);bE(s,i,_.au);const A=new TC(t,i,d);return s.Tu.set(t,A),s.Iu.has(i)?s.Iu.get(i).push(t):s.Iu.set(i,[t]),_.snapshot}async function IC(s,t,i){const r=Tt(s),l=r.Tu.get(t),c=r.Iu.get(l.targetId);if(c.length>1)return r.Iu.set(l.targetId,c.filter((d=>!Rh(d,t)))),void r.Tu.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(l.targetId),r.sharedClientState.isActiveQueryTarget(l.targetId)||await Am(r.localStore,l.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(l.targetId),i&&rg(r.remoteStore,l.targetId),wm(r,l.targetId)})).catch(mo)):(wm(r,l.targetId),await Am(r.localStore,l.targetId,!0))}async function CC(s,t){const i=Tt(s),r=i.Tu.get(t),l=i.Iu.get(r.targetId);i.isPrimaryClient&&l.length===1&&(i.sharedClientState.removeLocalQueryTarget(r.targetId),rg(i.remoteStore,r.targetId))}async function NC(s,t,i){const r=LC(s);try{const l=await(function(d,p){const y=Tt(d),_=ue.now(),A=p.reduce(((F,Z)=>F.add(Z.key)),Lt());let S,N;return y.persistence.runTransaction("Locally write mutations","readwrite",(F=>{let Z=hs(),st=Lt();return y.Ns.getEntries(F,A).next((W=>{Z=W,Z.forEach(((mt,_t)=>{_t.isValidDocument()||(st=st.add(mt))}))})).next((()=>y.localDocuments.getOverlayedDocuments(F,Z))).next((W=>{S=W;const mt=[];for(const _t of p){const pt=QI(_t,S.get(_t.key).overlayedDocument);pt!=null&&mt.push(new fr(_t.key,pt,Y0(pt.value.mapValue),an.exists(!0)))}return y.mutationQueue.addMutationBatch(F,_,mt,p)})).next((W=>{N=W;const mt=W.applyToLocalDocumentSet(S,st);return y.documentOverlayCache.saveOverlays(F,W.batchId,mt)}))})).then((()=>({batchId:N.batchId,changes:sT(S)})))})(r.localStore,t);r.sharedClientState.addPendingMutation(l.batchId),(function(d,p,y){let _=d.Vu[d.currentUser.toKey()];_||(_=new me(Ut)),_=_.insert(p,y),d.Vu[d.currentUser.toKey()]=_})(r,l.batchId,i),await tu(r,l.changes),await Mh(r.remoteStore)}catch(l){const c=cg(l,"Failed to persist write");i.reject(c)}}async function qT(s,t){const i=Tt(s);try{const r=await q2(i.localStore,t);t.targetChanges.forEach(((l,c)=>{const d=i.Au.get(c);d&&(Bt(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1,22616),l.addedDocuments.size>0?d.hu=!0:l.modifiedDocuments.size>0?Bt(d.hu,14607):l.removedDocuments.size>0&&(Bt(d.hu,42227),d.hu=!1))})),await tu(i,r,t)}catch(r){await mo(r)}}function SE(s,t,i){const r=Tt(s);if(r.isPrimaryClient&&i===0||!r.isPrimaryClient&&i===1){const l=[];r.Tu.forEach(((c,d)=>{const p=d.view.va(t);p.snapshot&&l.push(p.snapshot)})),(function(d,p){const y=Tt(d);y.onlineState=p;let _=!1;y.queries.forEach(((A,S)=>{for(const N of S.Sa)N.va(p)&&(_=!0)})),_&&dg(y)})(r.eventManager,t),l.length&&r.Pu.H_(l),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function DC(s,t,i){const r=Tt(s);r.sharedClientState.updateQueryState(t,"rejected",i);const l=r.Au.get(t),c=l&&l.key;if(c){let d=new me(ht.comparator);d=d.insert(c,Qe.newNoDocument(c,yt.min()));const p=Lt().add(c),y=new Dh(yt.min(),new Map,new me(Ut),d,p);await qT(r,y),r.du=r.du.remove(c),r.Au.delete(t),pg(r)}else await Am(r.localStore,t,!1).then((()=>wm(r,t,i))).catch(mo)}async function OC(s,t){const i=Tt(s),r=t.batch.batchId;try{const l=await B2(i.localStore,t);FT(i,r,null),HT(i,r),i.sharedClientState.updateMutationState(r,"acknowledged"),await tu(i,l)}catch(l){await mo(l)}}async function VC(s,t,i){const r=Tt(s);try{const l=await(function(d,p){const y=Tt(d);return y.persistence.runTransaction("Reject batch","readwrite-primary",(_=>{let A;return y.mutationQueue.lookupMutationBatch(_,p).next((S=>(Bt(S!==null,37113),A=S.keys(),y.mutationQueue.removeMutationBatch(_,S)))).next((()=>y.mutationQueue.performConsistencyCheck(_))).next((()=>y.documentOverlayCache.removeOverlaysForBatchId(_,A,p))).next((()=>y.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,A))).next((()=>y.localDocuments.getDocuments(_,A)))}))})(r.localStore,t);FT(r,t,i),HT(r,t),r.sharedClientState.updateMutationState(t,"rejected",i),await tu(r,l)}catch(l){await mo(l)}}function HT(s,t){(s.mu.get(t)||[]).forEach((i=>{i.resolve()})),s.mu.delete(t)}function FT(s,t,i){const r=Tt(s);let l=r.Vu[r.currentUser.toKey()];if(l){const c=l.get(t);c&&(i?c.reject(i):c.resolve(),l=l.remove(t)),r.Vu[r.currentUser.toKey()]=l}}function wm(s,t,i=null){s.sharedClientState.removeLocalQueryTarget(t);for(const r of s.Iu.get(t))s.Tu.delete(r),i&&s.Pu.yu(r,i);s.Iu.delete(t),s.isPrimaryClient&&s.Ru.jr(t).forEach((r=>{s.Ru.containsKey(r)||GT(s,r)}))}function GT(s,t){s.Eu.delete(t.path.canonicalString());const i=s.du.get(t);i!==null&&(rg(s.remoteStore,i),s.du=s.du.remove(t),s.Au.delete(i),pg(s))}function bE(s,t,i){for(const r of i)r instanceof zT?(s.Ru.addReference(r.key,t),MC(s,r)):r instanceof jT?(at(gg,"Document no longer in limbo: "+r.key),s.Ru.removeReference(r.key,t),s.Ru.containsKey(r.key)||GT(s,r.key)):dt(19791,{wu:r})}function MC(s,t){const i=t.key,r=i.path.canonicalString();s.du.get(i)||s.Eu.has(r)||(at(gg,"New document in limbo: "+i),s.Eu.add(r),pg(s))}function pg(s){for(;s.Eu.size>0&&s.du.size<s.maxConcurrentLimboResolutions;){const t=s.Eu.values().next().value;s.Eu.delete(t);const i=new ht(ie.fromString(t)),r=s.fu.next();s.Au.set(r,new AC(i)),s.du=s.du.insert(i,r),MT(s.remoteStore,new Js(Mi(wh(i.path)),r,"TargetPurposeLimboResolution",Sh.ce))}}async function tu(s,t,i){const r=Tt(s),l=[],c=[],d=[];r.Tu.isEmpty()||(r.Tu.forEach(((p,y)=>{d.push(r.pu(y,t,i).then((_=>{if((_||i)&&r.isPrimaryClient){const A=_?!_.fromCache:i?.targetChanges.get(y.targetId)?.current;r.sharedClientState.updateQueryState(y.targetId,A?"current":"not-current")}if(_){l.push(_);const A=ng.As(y.targetId,_);c.push(A)}})))})),await Promise.all(d),r.Pu.H_(l),await(async function(y,_){const A=Tt(y);try{await A.persistence.runTransaction("notifyLocalViewChanges","readwrite",(S=>$.forEach(_,(N=>$.forEach(N.Es,(F=>A.persistence.referenceDelegate.addReference(S,N.targetId,F))).next((()=>$.forEach(N.ds,(F=>A.persistence.referenceDelegate.removeReference(S,N.targetId,F)))))))))}catch(S){if(!go(S))throw S;at(ig,"Failed to update sequence numbers: "+S)}for(const S of _){const N=S.targetId;if(!S.fromCache){const F=A.Ms.get(N),Z=F.snapshotVersion,st=F.withLastLimboFreeSnapshotVersion(Z);A.Ms=A.Ms.insert(N,st)}}})(r.localStore,c))}async function xC(s,t){const i=Tt(s);if(!i.currentUser.isEqual(t)){at(gg,"User change. New user:",t.toKey());const r=await DT(i.localStore,t);i.currentUser=t,(function(c,d){c.mu.forEach((p=>{p.forEach((y=>{y.reject(new it(G.CANCELLED,d))}))})),c.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(t,r.removedBatchIds,r.addedBatchIds),await tu(i,r.Ls)}}function UC(s,t){const i=Tt(s),r=i.Au.get(t);if(r&&r.hu)return Lt().add(r.key);{let l=Lt();const c=i.Iu.get(t);if(!c)return l;for(const d of c){const p=i.Tu.get(d);l=l.unionWith(p.view.nu)}return l}}function QT(s){const t=Tt(s);return t.remoteStore.remoteSyncer.applyRemoteEvent=qT.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=UC.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=DC.bind(null,t),t.Pu.H_=_C.bind(null,t.eventManager),t.Pu.yu=vC.bind(null,t.eventManager),t}function LC(s){const t=Tt(s);return t.remoteStore.remoteSyncer.applySuccessfulWrite=OC.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=VC.bind(null,t),t}class mh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=Oh(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,i){return null}Mu(t,i){return null}vu(t){return j2(this.persistence,new P2,t.initialUser,this.serializer)}Cu(t){return new NT(eg.mi,this.serializer)}Du(t){return new Y2}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}mh.provider={build:()=>new mh};class PC extends mh{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,i){Bt(this.persistence.referenceDelegate instanceof fh,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new A2(r,t.asyncQueue,i)}Cu(t){const i=this.cacheSizeBytes!==void 0?vn.withCacheSize(this.cacheSizeBytes):vn.DEFAULT;return new NT((r=>fh.mi(r,i)),this.serializer)}}class Rm{async initialize(t,i){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>SE(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=xC.bind(null,this.syncEngine),await gC(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new yC})()}createDatastore(t){const i=Oh(t.databaseInfo.databaseId),r=(function(c){return new J2(c)})(t.databaseInfo);return(function(c,d,p,y){return new nC(c,d,p,y)})(t.authCredentials,t.appCheckCredentials,r,i)}createRemoteStore(t){return(function(r,l,c,d,p){return new sC(r,l,c,d,p)})(this.localStore,this.datastore,t.asyncQueue,(i=>SE(this.syncEngine,i,0)),(function(){return yE.v()?new yE:new K2})())}createSyncEngine(t,i){return(function(l,c,d,p,y,_,A){const S=new SC(l,c,d,p,y,_);return A&&(S.gu=!0),S})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const r=Tt(i);at(ta,"RemoteStore shutting down."),r.Ea.add(5),await Wl(r),r.Aa.shutdown(),r.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Rm.provider={build:()=>new Rm};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yg{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):cs("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,i){setTimeout((()=>{this.muted||t(i)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kC{constructor(t){this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}async lookup(t){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw this.lastTransactionError=new it(G.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),this.lastTransactionError;const i=await(async function(l,c){const d=Tt(l),p={documents:c.map((S=>hh(d.serializer,S)))},y=await d.Ho("BatchGetDocuments",d.serializer.databaseId,ie.emptyPath(),p,c.length),_=new Map;y.forEach((S=>{const N=r2(d.serializer,S);_.set(N.key.toString(),N)}));const A=[];return c.forEach((S=>{const N=_.get(S.toString());Bt(!!N,55234,{key:S}),A.push(N)})),A})(this.datastore,t);return i.forEach((r=>this.recordVersion(r))),i}set(t,i){this.write(i.toMutation(t,this.precondition(t))),this.writtenDocs.add(t.toString())}update(t,i){try{this.write(i.toMutation(t,this.preconditionForUpdate(t)))}catch(r){this.lastTransactionError=r}this.writtenDocs.add(t.toString())}delete(t){this.write(new $m(t,this.precondition(t))),this.writtenDocs.add(t.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastTransactionError)throw this.lastTransactionError;const t=this.readVersions;this.mutations.forEach((i=>{t.delete(i.key.toString())})),t.forEach(((i,r)=>{const l=ht.fromPath(r);this.mutations.push(new gT(l,this.precondition(l)))})),await(async function(r,l){const c=Tt(r),d={writes:l.map((p=>bT(c.serializer,p)))};await c.Go("Commit",c.serializer.databaseId,ie.emptyPath(),d)})(this.datastore,this.mutations),this.committed=!0}recordVersion(t){let i;if(t.isFoundDocument())i=t.version;else{if(!t.isNoDocument())throw dt(50498,{Gu:t.constructor.name});i=yt.min()}const r=this.readVersions.get(t.key.toString());if(r){if(!i.isEqual(r))throw new it(G.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(t.key.toString(),i)}precondition(t){const i=this.readVersions.get(t.toString());return!this.writtenDocs.has(t.toString())&&i?i.isEqual(yt.min())?an.exists(!1):an.updateTime(i):an.none()}preconditionForUpdate(t){const i=this.readVersions.get(t.toString());if(!this.writtenDocs.has(t.toString())&&i){if(i.isEqual(yt.min()))throw new it(G.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return an.updateTime(i)}return an.exists(!0)}write(t){this.ensureCommitNotCalled(),this.mutations.push(t)}ensureCommitNotCalled(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zC{constructor(t,i,r,l,c){this.asyncQueue=t,this.datastore=i,this.options=r,this.updateFunction=l,this.deferred=c,this.zu=r.maxAttempts,this.M_=new sg(this.asyncQueue,"transaction_retry")}ju(){this.zu-=1,this.Ju()}Ju(){this.M_.p_((async()=>{const t=new kC(this.datastore),i=this.Hu(t);i&&i.then((r=>{this.asyncQueue.enqueueAndForget((()=>t.commit().then((()=>{this.deferred.resolve(r)})).catch((l=>{this.Yu(l)}))))})).catch((r=>{this.Yu(r)}))}))}Hu(t){try{const i=this.updateFunction(t);return!$l(i)&&i.catch&&i.then?i:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(i){return this.deferred.reject(i),null}}Yu(t){this.zu>0&&this.Zu(t)?(this.zu-=1,this.asyncQueue.enqueueAndForget((()=>(this.Ju(),Promise.resolve())))):this.deferred.reject(t)}Zu(t){if(t?.name==="FirebaseError"){const i=t.code;return i==="aborted"||i==="failed-precondition"||i==="already-exists"||!pT(i)}return!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cr="FirestoreClient";class jC{constructor(t,i,r,l,c){this.authCredentials=t,this.appCheckCredentials=i,this.asyncQueue=r,this.databaseInfo=l,this.user=rn.UNAUTHENTICATED,this.clientId=Hm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(r,(async d=>{at(cr,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(r,(d=>(at(cr,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Vi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(i){const r=cg(i,"Failed to shutdown persistence");t.reject(r)}})),t.promise}}async function tm(s,t){s.asyncQueue.verifyOperationInProgress(),at(cr,"Initializing OfflineComponentProvider");const i=s.configuration;await t.initialize(i);let r=i.initialUser;s.setCredentialChangeListener((async l=>{r.isEqual(l)||(await DT(t.localStore,l),r=l)})),t.persistence.setDatabaseDeletedListener((()=>s.terminate())),s._offlineComponents=t}async function wE(s,t){s.asyncQueue.verifyOperationInProgress();const i=await BC(s);at(cr,"Initializing OnlineComponentProvider"),await t.initialize(i,s.configuration),s.setCredentialChangeListener((r=>vE(t.remoteStore,r))),s.setAppCheckTokenChangeListener(((r,l)=>vE(t.remoteStore,l))),s._onlineComponents=t}async function BC(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){at(cr,"Using user provided OfflineComponentProvider");try{await tm(s,s._uninitializedComponentsProvider._offline)}catch(t){const i=t;if(!(function(l){return l.name==="FirebaseError"?l.code===G.FAILED_PRECONDITION||l.code===G.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11})(i))throw i;no("Error using user provided cache. Falling back to memory cache: "+i),await tm(s,new mh)}}else at(cr,"Using default OfflineComponentProvider"),await tm(s,new PC(void 0));return s._offlineComponents}async function _g(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(at(cr,"Using user provided OnlineComponentProvider"),await wE(s,s._uninitializedComponentsProvider._online)):(at(cr,"Using default OnlineComponentProvider"),await wE(s,new Rm))),s._onlineComponents}function qC(s){return _g(s).then((t=>t.syncEngine))}function HC(s){return _g(s).then((t=>t.datastore))}async function gh(s){const t=await _g(s),i=t.eventManager;return i.onListen=bC.bind(null,t.syncEngine),i.onUnlisten=IC.bind(null,t.syncEngine),i.onFirstRemoteStoreListen=wC.bind(null,t.syncEngine),i.onLastRemoteStoreUnlisten=CC.bind(null,t.syncEngine),i}function FC(s,t,i={}){const r=new Vi;return s.asyncQueue.enqueueAndForget((async()=>(function(c,d,p,y,_){const A=new yg({next:N=>{A.Nu(),d.enqueueAndForget((()=>fg(c,S)));const F=N.docs.has(p);!F&&N.fromCache?_.reject(new it(G.UNAVAILABLE,"Failed to get document because the client is offline.")):F&&N.fromCache&&y&&y.source==="server"?_.reject(new it(G.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):_.resolve(N)},error:N=>_.reject(N)}),S=new mg(wh(p.path),A,{includeMetadataChanges:!0,qa:!0});return hg(c,S)})(await gh(s),s.asyncQueue,t,i,r))),r.promise}function GC(s,t,i={}){const r=new Vi;return s.asyncQueue.enqueueAndForget((async()=>(function(c,d,p,y,_){const A=new yg({next:N=>{A.Nu(),d.enqueueAndForget((()=>fg(c,S))),N.fromCache&&y.source==="server"?_.reject(new it(G.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):_.resolve(N)},error:N=>_.reject(N)}),S=new mg(p,A,{includeMetadataChanges:!0,qa:!0});return hg(c,S)})(await gh(s),s.asyncQueue,t,i,r))),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YT(s){const t={};return s.timeoutSeconds!==void 0&&(t.timeoutSeconds=s.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RE=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KT="firestore.googleapis.com",IE=!0;class CE{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new it(G.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=KT,this.ssl=IE}else this.host=t.host,this.ssl=t.ssl??IE;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=CT;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<E2)throw new it(G.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}oI("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=YT(t.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new it(G.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new it(G.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new it(G.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(r,l){return r.timeoutSeconds===l.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class xh{constructor(t,i,r,l){this._authCredentials=t,this._appCheckCredentials=i,this._databaseId=r,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new CE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new it(G.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new it(G.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new CE(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new ZR;switch(r.type){case"firstParty":return new eI(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new it(G.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const r=RE.get(i);r&&(at("ComponentProvider","Removing Datastore"),RE.delete(i),r.terminate())})(this),Promise.resolve()}}function QC(s,t,i,r={}){s=En(s,xh);const l=uo(t),c=s._getSettings(),d={...c,emulatorOptions:s._getEmulatorOptions()},p=`${t}:${i}`;l&&(FE(`https://${p}`),GE("Firestore",!0)),c.host!==KT&&c.host!==p&&no("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const y={...c,host:p,ssl:l,emulatorOptions:r};if(!$r(y,d)&&(s._setSettings(y),r.mockUserToken)){let _,A;if(typeof r.mockUserToken=="string")_=r.mockUserToken,A=rn.MOCK_USER;else{_=T1(r.mockUserToken,s._app?.options.projectId);const S=r.mockUserToken.sub||r.mockUserToken.user_id;if(!S)throw new it(G.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");A=new rn(S)}s._authCredentials=new JR(new U0(_,A))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dr{constructor(t,i,r){this.converter=i,this._query=r,this.type="query",this.firestore=t}withConverter(t){return new dr(this.firestore,t,this._query)}}class de{constructor(t,i,r){this.converter=i,this._key=r,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ir(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new de(this.firestore,t,this._key)}toJSON(){return{type:de._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,i,r){if(Xl(i,de._jsonSchema))return new de(t,r||null,new ht(ie.fromString(i.referencePath)))}}de._jsonSchemaVersion="firestore/documentReference/1.0",de._jsonSchema={type:Le("string",de._jsonSchemaVersion),referencePath:Le("string")};class ir extends dr{constructor(t,i,r){super(t,i,wh(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new de(this.firestore,null,new ht(t))}withConverter(t){return new ir(this.firestore,t,this._path)}}function NE(s,t,...i){if(s=Pe(s),L0("collection","path",t),s instanceof xh){const r=ie.fromString(t,...i);return Bv(r),new ir(s,null,r)}{if(!(s instanceof de||s instanceof ir))throw new it(G.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=s._path.child(ie.fromString(t,...i));return Bv(r),new ir(s.firestore,null,r)}}function Gr(s,t,...i){if(s=Pe(s),arguments.length===1&&(t=Hm.newId()),L0("doc","path",t),s instanceof xh){const r=ie.fromString(t,...i);return jv(r),new de(s,null,new ht(r))}{if(!(s instanceof de||s instanceof ir))throw new it(G.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=s._path.child(ie.fromString(t,...i));return jv(r),new de(s.firestore,s instanceof ir?s.converter:null,new ht(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DE="AsyncQueue";class OE{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new sg(this,"async_queue_retry"),this._c=()=>{const r=Wd();r&&at(DE,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=t;const i=Wd();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const i=Wd();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new Vi;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Xu.push(t),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!go(t))throw t;at(DE,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const i=this.ac.then((()=>(this.rc=!0,t().catch((r=>{throw this.nc=r,this.rc=!1,cs("INTERNAL UNHANDLED ERROR: ",VE(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=i,i}enqueueAfterDelay(t,i,r){this.uc(),this.oc.indexOf(t)>-1&&(i=0);const l=ug.createAndSchedule(this,t,i,r,(c=>this.hc(c)));return this.tc.push(l),l}uc(){this.nc&&dt(47125,{Pc:VE(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const i of this.tc)if(i.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((i,r)=>i.targetTimeMs-r.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),t!=="all"&&i.timerId===t)break;return this.Tc()}))}dc(t){this.oc.push(t)}hc(t){const i=this.tc.indexOf(t);this.tc.splice(i,1)}}function VE(s){let t=s.message||"";return s.stack&&(t=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ME(s){return(function(i,r){if(typeof i!="object"||i===null)return!1;const l=i;for(const c of r)if(c in l&&typeof l[c]=="function")return!0;return!1})(s,["next","error","complete"])}class fs extends xh{constructor(t,i,r,l){super(t,i,r,l),this.type="firestore",this._queue=new OE,this._persistenceKey=l?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new OE(t),this._firestoreClient=void 0,await t}}}function YC(s,t){const i=typeof s=="object"?s:XE(),r=typeof s=="string"?s:oh,l=Om(i,"firestore").getImmediate({identifier:r});if(!l._initialized){const c=v1("firestore");c&&QC(l,...c)}return l}function eu(s){if(s._terminated)throw new it(G.FAILED_PRECONDITION,"The client has already been terminated.");return s._firestoreClient||KC(s),s._firestoreClient}function KC(s){const t=s._freezeSettings(),i=(function(l,c,d,p){return new _I(l,c,d,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,YT(p.experimentalLongPollingOptions),p.useFetchStreams,p.isUsingEmulator)})(s._databaseId,s._app?.options.appId||"",s._persistenceKey,t);s._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(s._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),s._firestoreClient=new jC(s._authCredentials,s._appCheckCredentials,s._queue,i,s._componentsProvider&&(function(l){const c=l?._online.build();return{_offline:l?._offline.build(c),_online:c}})(s._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dn{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Dn(en.fromBase64String(t))}catch(i){throw new it(G.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(t){return new Dn(en.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:Dn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(Xl(t,Dn._jsonSchema))return Dn.fromBase64String(t.bytes)}}Dn._jsonSchemaVersion="firestore/bytes/1.0",Dn._jsonSchema={type:Le("string",Dn._jsonSchemaVersion),bytes:Le("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nu{constructor(...t){for(let i=0;i<t.length;++i)if(t[i].length===0)throw new it(G.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new tn(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iu{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xi{constructor(t,i){if(!isFinite(t)||t<-90||t>90)throw new it(G.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(i)||i<-180||i>180)throw new it(G.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=t,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return Ut(this._lat,t._lat)||Ut(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:xi._jsonSchemaVersion}}static fromJSON(t){if(Xl(t,xi._jsonSchema))return new xi(t.latitude,t.longitude)}}xi._jsonSchemaVersion="firestore/geoPoint/1.0",xi._jsonSchema={type:Le("string",xi._jsonSchemaVersion),latitude:Le("number"),longitude:Le("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ui{constructor(t){this._values=(t||[]).map((i=>i))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(r,l){if(r.length!==l.length)return!1;for(let c=0;c<r.length;++c)if(r[c]!==l[c])return!1;return!0})(this._values,t._values)}toJSON(){return{type:Ui._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(Xl(t,Ui._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((i=>typeof i=="number")))return new Ui(t.vectorValues);throw new it(G.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Ui._jsonSchemaVersion="firestore/vectorValue/1.0",Ui._jsonSchema={type:Le("string",Ui._jsonSchemaVersion),vectorValues:Le("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XC=/^__.*__$/;class $C{constructor(t,i,r){this.data=t,this.fieldMask=i,this.fieldTransforms=r}toMutation(t,i){return this.fieldMask!==null?new fr(t,this.data,this.fieldMask,i,this.fieldTransforms):new Zl(t,this.data,i,this.fieldTransforms)}}class XT{constructor(t,i,r){this.data=t,this.fieldMask=i,this.fieldTransforms=r}toMutation(t,i){return new fr(t,this.data,this.fieldMask,i,this.fieldTransforms)}}function $T(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw dt(40011,{Ac:s})}}class vg{constructor(t,i,r,l,c,d){this.settings=t,this.databaseId=i,this.serializer=r,this.ignoreUndefinedProperties=l,c===void 0&&this.Rc(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(t){return new vg({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(t){const i=this.path?.child(t),r=this.Vc({path:i,fc:!1});return r.gc(t),r}yc(t){const i=this.path?.child(t),r=this.Vc({path:i,fc:!1});return r.Rc(),r}wc(t){return this.Vc({path:void 0,fc:!0})}Sc(t){return ph(t,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(t){return this.fieldMask.find((i=>t.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>t.isPrefixOf(i.field)))!==void 0}Rc(){if(this.path)for(let t=0;t<this.path.length;t++)this.gc(this.path.get(t))}gc(t){if(t.length===0)throw this.Sc("Document fields must not be empty");if($T(this.Ac)&&XC.test(t))throw this.Sc('Document fields cannot begin and end with "__"')}}class ZC{constructor(t,i,r){this.databaseId=t,this.ignoreUndefinedProperties=i,this.serializer=r||Oh(t)}Cc(t,i,r,l=!1){return new vg({Ac:t,methodName:i,Dc:r,path:tn.emptyPath(),fc:!1,bc:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function su(s){const t=s._freezeSettings(),i=Oh(s._databaseId);return new ZC(s._databaseId,!!t.ignoreUndefinedProperties,i)}function Eg(s,t,i,r,l,c={}){const d=s.Cc(c.merge||c.mergeFields?2:0,t,i,l);Sg("Data must be an object, but it was:",d,r);const p=WT(r,d);let y,_;if(c.merge)y=new On(d.fieldMask),_=d.fieldTransforms;else if(c.mergeFields){const A=[];for(const S of c.mergeFields){const N=Im(t,S,i);if(!d.contains(N))throw new it(G.INVALID_ARGUMENT,`Field '${N}' is specified in your field mask but missing from your input data.`);eA(A,N)||A.push(N)}y=new On(A),_=d.fieldTransforms.filter((S=>y.covers(S.field)))}else y=null,_=d.fieldTransforms;return new $C(new hn(p),y,_)}class Uh extends iu{_toFieldTransform(t){if(t.Ac!==2)throw t.Ac===1?t.Sc(`${this._methodName}() can only appear at the top level of your update data`):t.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof Uh}}class Tg extends iu{_toFieldTransform(t){return new fT(t.path,new jl)}isEqual(t){return t instanceof Tg}}class Ag extends iu{constructor(t,i){super(t),this.Fc=i}_toFieldTransform(t){const i=new Hl(t.serializer,oT(t.serializer,this.Fc));return new fT(t.path,i)}isEqual(t){return t instanceof Ag&&this.Fc===t.Fc}}function ZT(s,t,i,r){const l=s.Cc(1,t,i);Sg("Data must be an object, but it was:",l,r);const c=[],d=hn.empty();hr(r,((y,_)=>{const A=bg(t,y,i);_=Pe(_);const S=l.yc(A);if(_ instanceof Uh)c.push(A);else{const N=ru(_,S);N!=null&&(c.push(A),d.set(A,N))}}));const p=new On(c);return new XT(d,p,l.fieldTransforms)}function JT(s,t,i,r,l,c){const d=s.Cc(1,t,i),p=[Im(t,r,i)],y=[l];if(c.length%2!=0)throw new it(G.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let N=0;N<c.length;N+=2)p.push(Im(t,c[N])),y.push(c[N+1]);const _=[],A=hn.empty();for(let N=p.length-1;N>=0;--N)if(!eA(_,p[N])){const F=p[N];let Z=y[N];Z=Pe(Z);const st=d.yc(F);if(Z instanceof Uh)_.push(F);else{const W=ru(Z,st);W!=null&&(_.push(F),A.set(F,W))}}const S=new On(_);return new XT(A,S,d.fieldTransforms)}function JC(s,t,i,r=!1){return ru(i,s.Cc(r?4:3,t))}function ru(s,t){if(tA(s=Pe(s)))return Sg("Unsupported field value:",t,s),WT(s,t);if(s instanceof iu)return(function(r,l){if(!$T(l.Ac))throw l.Sc(`${r._methodName}() can only be used with update() and set()`);if(!l.path)throw l.Sc(`${r._methodName}() is not currently supported inside arrays`);const c=r._toFieldTransform(l);c&&l.fieldTransforms.push(c)})(s,t),null;if(s===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),s instanceof Array){if(t.settings.fc&&t.Ac!==4)throw t.Sc("Nested arrays are not supported");return(function(r,l){const c=[];let d=0;for(const p of r){let y=ru(p,l.wc(d));y==null&&(y={nullValue:"NULL_VALUE"}),c.push(y),d++}return{arrayValue:{values:c}}})(s,t)}return(function(r,l){if((r=Pe(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return oT(l.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const c=ue.fromDate(r);return{timestampValue:ch(l.serializer,c)}}if(r instanceof ue){const c=new ue(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:ch(l.serializer,c)}}if(r instanceof xi)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Dn)return{bytesValue:ET(l.serializer,r._byteString)};if(r instanceof de){const c=l.databaseId,d=r.firestore._databaseId;if(!d.isEqual(c))throw l.Sc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:Wm(r.firestore._databaseId||l.databaseId,r._key.path)}}if(r instanceof Ui)return(function(d,p){return{mapValue:{fields:{[G0]:{stringValue:Q0},[lh]:{arrayValue:{values:d.toArray().map((_=>{if(typeof _!="number")throw p.Sc("VectorValues must only contain numeric values.");return Xm(p.serializer,_)}))}}}}}})(r,l);throw l.Sc(`Unsupported field value: ${Ah(r)}`)})(s,t)}function WT(s,t){const i={};return z0(s)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):hr(s,((r,l)=>{const c=ru(l,t.mc(r));c!=null&&(i[r]=c)})),{mapValue:{fields:i}}}function tA(s){return!(typeof s!="object"||s===null||s instanceof Array||s instanceof Date||s instanceof ue||s instanceof xi||s instanceof Dn||s instanceof de||s instanceof iu||s instanceof Ui)}function Sg(s,t,i){if(!tA(i)||!P0(i)){const r=Ah(i);throw r==="an object"?t.Sc(s+" a custom object"):t.Sc(s+" "+r)}}function Im(s,t,i){if((t=Pe(t))instanceof nu)return t._internalPath;if(typeof t=="string")return bg(s,t);throw ph("Field path arguments must be of type string or ",s,!1,void 0,i)}const WC=new RegExp("[~\\*/\\[\\]]");function bg(s,t,i){if(t.search(WC)>=0)throw ph(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,i);try{return new nu(...t.split("."))._internalPath}catch{throw ph(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,i)}}function ph(s,t,i,r,l){const c=r&&!r.isEmpty(),d=l!==void 0;let p=`Function ${t}() called with invalid data`;i&&(p+=" (via `toFirestore()`)"),p+=". ";let y="";return(c||d)&&(y+=" (found",c&&(y+=` in field ${r}`),d&&(y+=` in document ${l}`),y+=")"),new it(G.INVALID_ARGUMENT,p+s+y)}function eA(s,t){return s.some((i=>i.isEqual(t)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yh{constructor(t,i,r,l,c){this._firestore=t,this._userDataWriter=i,this._key=r,this._document=l,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new de(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new tN(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const i=this._document.data.field(Lh("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i)}}}class tN extends yh{data(){return super.data()}}function Lh(s,t){return typeof t=="string"?bg(s,t):t instanceof nu?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nA(s){if(s.limitType==="L"&&s.explicitOrderBy.length===0)throw new it(G.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class wg{}class iA extends wg{}function eN(s,t,...i){let r=[];t instanceof wg&&r.push(t),r=r.concat(i),(function(c){const d=c.filter((y=>y instanceof Rg)).length,p=c.filter((y=>y instanceof Ph)).length;if(d>1||d>0&&p>0)throw new it(G.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const l of r)s=l._apply(s);return s}class Ph extends iA{constructor(t,i,r){super(),this._field=t,this._op=i,this._value=r,this.type="where"}static _create(t,i,r){return new Ph(t,i,r)}_apply(t){const i=this._parse(t);return sA(t._query,i),new dr(t.firestore,t.converter,ym(t._query,i))}_parse(t){const i=su(t.firestore);return(function(c,d,p,y,_,A,S){let N;if(_.isKeyField()){if(A==="array-contains"||A==="array-contains-any")throw new it(G.INVALID_ARGUMENT,`Invalid Query. You can't perform '${A}' queries on documentId().`);if(A==="in"||A==="not-in"){UE(S,A);const Z=[];for(const st of S)Z.push(xE(y,c,st));N={arrayValue:{values:Z}}}else N=xE(y,c,S)}else A!=="in"&&A!=="not-in"&&A!=="array-contains-any"||UE(S,A),N=JC(p,d,S,A==="in"||A==="not-in");return Ue.create(_,A,N)})(t._query,"where",i,t.firestore._databaseId,this._field,this._op,this._value)}}function nN(s,t,i){const r=t,l=Lh("where",s);return Ph._create(l,r,i)}class Rg extends wg{constructor(t,i){super(),this.type=t,this._queryConstraints=i}static _create(t,i){return new Rg(t,i)}_parse(t){const i=this._queryConstraints.map((r=>r._parse(t))).filter((r=>r.getFilters().length>0));return i.length===1?i[0]:oi.create(i,this._getOperator())}_apply(t){const i=this._parse(t);return i.getFilters().length===0?t:((function(l,c){let d=l;const p=c.getFlattenedFilters();for(const y of p)sA(d,y),d=ym(d,y)})(t._query,i),new dr(t.firestore,t.converter,ym(t._query,i)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Ig extends iA{constructor(t,i){super(),this._field=t,this._direction=i,this.type="orderBy"}static _create(t,i){return new Ig(t,i)}_apply(t){const i=(function(l,c,d){if(l.startAt!==null)throw new it(G.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(l.endAt!==null)throw new it(G.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new zl(c,d)})(t._query,this._field,this._direction);return new dr(t.firestore,t.converter,(function(l,c){const d=l.explicitOrderBy.concat([c]);return new po(l.path,l.collectionGroup,d,l.filters.slice(),l.limit,l.limitType,l.startAt,l.endAt)})(t._query,i))}}function iN(s,t="asc"){const i=t,r=Lh("orderBy",s);return Ig._create(r,i)}function xE(s,t,i){if(typeof(i=Pe(i))=="string"){if(i==="")throw new it(G.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!tT(t)&&i.indexOf("/")!==-1)throw new it(G.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${i}' contains a '/' character.`);const r=t.path.child(ie.fromString(i));if(!ht.isDocumentKey(r))throw new it(G.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Xv(s,new ht(r))}if(i instanceof de)return Xv(s,i._key);throw new it(G.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Ah(i)}.`)}function UE(s,t){if(!Array.isArray(s)||s.length===0)throw new it(G.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function sA(s,t){const i=(function(l,c){for(const d of l)for(const p of d.getFlattenedFilters())if(c.indexOf(p.op)>=0)return p.op;return null})(s.filters,(function(l){switch(l){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(t.op));if(i!==null)throw i===t.op?new it(G.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new it(G.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${i.toString()}' filters.`)}class rA{convertValue(t,i="none"){switch(lr(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Se(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,i);case 5:return t.stringValue;case 6:return this.convertBytes(or(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,i);case 11:return this.convertObject(t.mapValue,i);case 10:return this.convertVectorValue(t.mapValue);default:throw dt(62114,{value:t})}}convertObject(t,i){return this.convertObjectMap(t.fields,i)}convertObjectMap(t,i="none"){const r={};return hr(t,((l,c)=>{r[l]=this.convertValue(c,i)})),r}convertVectorValue(t){const i=t.fields?.[lh].arrayValue?.values?.map((r=>Se(r.doubleValue)));return new Ui(i)}convertGeoPoint(t){return new xi(Se(t.latitude),Se(t.longitude))}convertArray(t,i){return(t.values||[]).map((r=>this.convertValue(r,i)))}convertServerTimestamp(t,i){switch(i){case"previous":const r=bh(t);return r==null?null:this.convertValue(r,i);case"estimate":return this.convertTimestamp(Ll(t));default:return null}}convertTimestamp(t){const i=ar(t);return new ue(i.seconds,i.nanos)}convertDocumentKey(t,i){const r=ie.fromString(t);Bt(IT(r),9688,{name:t});const l=new Pl(r.get(1),r.get(3)),c=new ht(r.popFirst(5));return l.isEqual(i)||cs(`Document ${c} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cg(s,t,i){let r;return r=s?i&&(i.merge||i.mergeFields)?s.toFirestore(t,i):s.toFirestore(t):t,r}class sN extends rA{constructor(t){super(),this.firestore=t}convertBytes(t){return new Dn(t)}convertReference(t){const i=this.convertDocumentKey(t,this.firestore._databaseId);return new de(this.firestore,null,i)}}class Xa{constructor(t,i){this.hasPendingWrites=t,this.fromCache=i}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class sr extends yh{constructor(t,i,r,l,c,d){super(t,i,r,l,d),this._firestore=t,this._firestoreImpl=t,this.metadata=c}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const i=new Zc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,i={}){if(this._document){const r=this._document.data.field(Lh("DocumentSnapshot.get",t));if(r!==null)return this._userDataWriter.convertValue(r,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new it(G.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,i={};return i.type=sr._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}sr._jsonSchemaVersion="firestore/documentSnapshot/1.0",sr._jsonSchema={type:Le("string",sr._jsonSchemaVersion),bundleSource:Le("string","DocumentSnapshot"),bundleName:Le("string"),bundle:Le("string")};class Zc extends sr{data(t={}){return super.data(t)}}class Xr{constructor(t,i,r,l){this._firestore=t,this._userDataWriter=i,this._snapshot=l,this.metadata=new Xa(l.hasPendingWrites,l.fromCache),this.query=r}get docs(){const t=[];return this.forEach((i=>t.push(i))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,i){this._snapshot.docs.forEach((r=>{t.call(i,new Zc(this._firestore,this._userDataWriter,r.key,r,new Xa(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const i=!!t.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new it(G.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(l,c){if(l._snapshot.oldDocs.isEmpty()){let d=0;return l._snapshot.docChanges.map((p=>{const y=new Zc(l._firestore,l._userDataWriter,p.doc.key,p.doc,new Xa(l._snapshot.mutatedKeys.has(p.doc.key),l._snapshot.fromCache),l.query.converter);return p.doc,{type:"added",doc:y,oldIndex:-1,newIndex:d++}}))}{let d=l._snapshot.oldDocs;return l._snapshot.docChanges.filter((p=>c||p.type!==3)).map((p=>{const y=new Zc(l._firestore,l._userDataWriter,p.doc.key,p.doc,new Xa(l._snapshot.mutatedKeys.has(p.doc.key),l._snapshot.fromCache),l.query.converter);let _=-1,A=-1;return p.type!==0&&(_=d.indexOf(p.doc.key),d=d.delete(p.doc.key)),p.type!==1&&(d=d.add(p.doc),A=d.indexOf(p.doc.key)),{type:rN(p.type),doc:y,oldIndex:_,newIndex:A}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new it(G.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=Xr._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=Hm.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],r=[],l=[];return this.docs.forEach((c=>{c._document!==null&&(i.push(c._document),r.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),l.push(c.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function rN(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return dt(61501,{type:s})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bc(s){s=En(s,de);const t=En(s.firestore,fs);return FC(eu(t),s._key).then((i=>aA(t,s,i)))}Xr._jsonSchemaVersion="firestore/querySnapshot/1.0",Xr._jsonSchema={type:Le("string",Xr._jsonSchemaVersion),bundleSource:Le("string","QuerySnapshot"),bundleName:Le("string"),bundle:Le("string")};class kh extends rA{constructor(t){super(),this.firestore=t}convertBytes(t){return new Dn(t)}convertReference(t){const i=this.convertDocumentKey(t,this.firestore._databaseId);return new de(this.firestore,null,i)}}function aN(s){s=En(s,dr);const t=En(s.firestore,fs),i=eu(t),r=new kh(t);return nA(s._query),GC(i,s._query).then((l=>new Xr(t,r,s,l)))}function Fa(s,t,i){s=En(s,de);const r=En(s.firestore,fs),l=Cg(s.converter,t,i);return Ng(r,[Eg(su(r),"setDoc",s._key,l,s.converter!==null,i).toMutation(s._key,an.none())])}function oN(s,t,i,...r){s=En(s,de);const l=En(s.firestore,fs),c=su(l);let d;return d=typeof(t=Pe(t))=="string"||t instanceof nu?JT(c,"updateDoc",s._key,t,i,r):ZT(c,"updateDoc",s._key,t),Ng(l,[d.toMutation(s._key,an.exists(!0))])}function lN(s,t){const i=En(s.firestore,fs),r=Gr(s),l=Cg(s.converter,t);return Ng(i,[Eg(su(s.firestore),"addDoc",r._key,l,s.converter!==null,{}).toMutation(r._key,an.exists(!1))]).then((()=>r))}function uN(s,...t){s=Pe(s);let i={includeMetadataChanges:!1,source:"default"},r=0;typeof t[r]!="object"||ME(t[r])||(i=t[r++]);const l={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(ME(t[r])){const y=t[r];t[r]=y.next?.bind(y),t[r+1]=y.error?.bind(y),t[r+2]=y.complete?.bind(y)}let c,d,p;if(s instanceof de)d=En(s.firestore,fs),p=wh(s._key.path),c={next:y=>{t[r]&&t[r](aA(d,s,y))},error:t[r+1],complete:t[r+2]};else{const y=En(s,dr);d=En(y.firestore,fs),p=y._query;const _=new kh(d);c={next:A=>{t[r]&&t[r](new Xr(d,_,y,A))},error:t[r+1],complete:t[r+2]},nA(s._query)}return(function(_,A,S,N){const F=new yg(N),Z=new mg(A,F,S);return _.asyncQueue.enqueueAndForget((async()=>hg(await gh(_),Z))),()=>{F.Nu(),_.asyncQueue.enqueueAndForget((async()=>fg(await gh(_),Z)))}})(eu(d),p,l,c)}function Ng(s,t){return(function(r,l){const c=new Vi;return r.asyncQueue.enqueueAndForget((async()=>NC(await qC(r),l,c))),c.promise})(eu(s),t)}function aA(s,t,i){const r=i.docs.get(t._key),l=new kh(s);return new sr(s,l,t._key,r,new Xa(i.hasPendingWrites,i.fromCache),t.converter)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cN={maxAttempts:5};function wl(s,t){if((s=Pe(s)).firestore!==t)throw new it(G.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hN{constructor(t,i){this._firestore=t,this._transaction=i,this._dataReader=su(t)}get(t){const i=wl(t,this._firestore),r=new sN(this._firestore);return this._transaction.lookup([i._key]).then((l=>{if(!l||l.length!==1)return dt(24041);const c=l[0];if(c.isFoundDocument())return new yh(this._firestore,r,c.key,c,i.converter);if(c.isNoDocument())return new yh(this._firestore,r,i._key,null,i.converter);throw dt(18433,{doc:c})}))}set(t,i,r){const l=wl(t,this._firestore),c=Cg(l.converter,i,r),d=Eg(this._dataReader,"Transaction.set",l._key,c,l.converter!==null,r);return this._transaction.set(l._key,d),this}update(t,i,r,...l){const c=wl(t,this._firestore);let d;return d=typeof(i=Pe(i))=="string"||i instanceof nu?JT(this._dataReader,"Transaction.update",c._key,i,r,l):ZT(this._dataReader,"Transaction.update",c._key,i),this._transaction.update(c._key,d),this}delete(t){const i=wl(t,this._firestore);return this._transaction.delete(i._key),this}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fN extends hN{constructor(t,i){super(t,i),this._firestore=t}get(t){const i=wl(t,this._firestore),r=new kh(this._firestore);return super.get(t).then((l=>new sr(this._firestore,r,i._key,l._document,new Xa(!1,!1),i.converter)))}}function LE(s,t,i){s=En(s,fs);const r={...cN,...i};return(function(c){if(c.maxAttempts<1)throw new it(G.INVALID_ARGUMENT,"Max attempts must be at least 1")})(r),(function(c,d,p){const y=new Vi;return c.asyncQueue.enqueueAndForget((async()=>{const _=await HC(c);new zC(c.asyncQueue,_,p,d,y).ju()})),y.promise})(eu(s),(l=>t(new fN(s,l))),r)}function Ks(){return new Tg("serverTimestamp")}function Hr(s){return new Ag("increment",s)}(function(t,i=!0){(function(l){fo=l})(co),to(new Zr("firestore",((r,{instanceIdentifier:l,options:c})=>{const d=r.getProvider("app").getImmediate(),p=new fs(new WR(r.getProvider("auth-internal")),new nI(d,r.getProvider("app-check-internal")),(function(_,A){if(!Object.prototype.hasOwnProperty.apply(_.options,["projectId"]))throw new it(G.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Pl(_.options.projectId,A)})(d,l),d);return c={useFetchStreams:i,...c},p._setSettings(c),p}),"PUBLIC").setMultipleInstances(!0)),er(Lv,Pv,t),er(Lv,Pv,"esm2020")})();const dN={apiKey:"AIzaSyD9Q8xysodbNwRxv_YshLDo5pG9-CvdTQE",authDomain:"pallavolo-67515986-17130.firebaseapp.com",projectId:"pallavolo-67515986-17130",storageBucket:"pallavolo-67515986-17130.firebasestorage.app",messagingSenderId:"462112859333",appId:"1:462112859333:web:059bb7a96b44dca9e33cac"},oA=KE(dN),em=XR(oA),Ni=YC(oA),mN=new rs,nm=14,ss={NO_MATCHES:"no_matches",MATCH_DETAIL:"match_detail"};function gN(){const[s,t]=fe.useState(null),[i,r]=fe.useState(!1),[l,c]=fe.useState(!1),[d,p]=fe.useState([]),[y,_]=fe.useState([]),[A,S]=fe.useState(null),[N,F]=fe.useState([]),[Z,st]=fe.useState(""),[W,mt]=fe.useState(!1),[_t,pt]=fe.useState(null),[Pt,Xt]=fe.useState(ss.NO_MATCHES),[zt,C]=fe.useState([]),[b,I]=fe.useState(null),M=fe.useMemo(()=>Gr(Ni,"state","currentSession"),[]),D=s?.email==="tidolamiamail@gmail.com";fe.useEffect(()=>{const J=Pw(em,async ct=>{ct?(t(ct),r(!0),await Fa(Gr(Ni,"users",ct.uid),{email:ct.email,displayName:ct.displayName,photoURL:ct.photoURL,lastLogin:Ks()},{merge:!0}),ut(ct.uid)):(t(null),r(!1),mt(!1),pt(null))});return()=>J()},[]),fe.useEffect(()=>{let J;return(async()=>((await Bc(M)).exists()||await Fa(M,{participants:[],reserves:[],lastUpdated:Ks(),date:U()}),J=uN(M,qt=>{const At=qt.data();p(Array.isArray(At?.participants)?At.participants:[]),_(Array.isArray(At?.reserves)?At.reserves:[]),S(At?.date||null),At?.date?Pt===ss.NO_MATCHES&&(Xt(ss.MATCH_DETAIL),I(At)):Xt(ss.NO_MATCHES)})))(),()=>{typeof J=="function"&&J()}},[M,Pt]);function U(){const J=new Date,qt=(9-J.getDay())%7||7,At=new Date(J);At.setDate(J.getDate()+qt),At.setHours(20,30,0,0);const ke=ae=>ae.toString().padStart(2,"0");return`${At.getFullYear()}-${ke(At.getMonth()+1)}-${ke(At.getDate())}T${ke(At.getHours())}:${ke(At.getMinutes())}`}const[w,se]=fe.useState(U()),ge=async()=>{if(!D)return;const J=await Bc(M),ct=J.exists()?J.data():null;if(ct&&ct.date){const qt=new Date(ct.date),At=new Date(w);if(qt.getFullYear()===At.getFullYear()&&qt.getMonth()===At.getMonth()&&qt.getDate()===At.getDate()){alert("Esiste gi una partita per questo giorno!");return}}await Fa(M,{participants:[],reserves:[],lastUpdated:Ks(),date:w},{merge:!0}),alert("Nuova partita creata!")},q=async()=>{c(!0);try{const ct=(await sR(em,mN)).user;await Fa(Gr(Ni,"users",ct.uid),{email:ct.email,displayName:ct.displayName,photoURL:ct.photoURL,lastLogin:Ks()},{merge:!0}),t(ct),r(!0),ut(ct.uid)}catch(J){alert(`Errore durante il login: ${J.message||J}`),console.error("Login error:",J)}finally{c(!1)}},nt=async()=>{await kw(em),r(!1),t(null)},ut=async J=>{const ct=await Bc(Gr(Ni,"users",J)),qt=ct.exists()?ct.data():{},At=eN(NE(Ni,"sessions"),nN("participantUids","array-contains",J),iN("date","desc")),ae=(await aN(At)).docs.map(be=>({id:be.id,...be.data()}));pt({totalSessions:qt?.stats?.totalSessions||0,asParticipant:qt?.stats?.asParticipant||0,asReserve:qt?.stats?.asReserve||0,friendsBrought:qt?.stats?.friendsBrought||0,sessionsHistory:ae})},Dt=()=>d.some(J=>J.uid===s?.uid)||y.some(J=>J.uid===s?.uid),Gt=!!A,V=()=>{let J=d.length;for(const ct of d)J+=ct.friends?.length||0;return J},Y=()=>{let J=y.length;for(const ct of y)J+=ct.friends?.length||0;return J},et=async(J=!1)=>{if(!(!i||!s))try{await LE(Ni,async ct=>{const At=(await ct.get(M)).data()||{participants:[],reserves:[]},ke=At.participants?.some(ki=>ki.uid===s.uid),ae=At.reserves?.some(ki=>ki.uid===s.uid);if(ke||ae)throw new Error("Sei gi iscritto!");const be={uid:s.uid,name:s.displayName,photoURL:s.photoURL,friends:N,timestamp:new Date().toLocaleString("it-IT")},Qt={...At};Qt.participants=Array.isArray(Qt.participants)?Qt.participants:[],Qt.reserves=Array.isArray(Qt.reserves)?Qt.reserves:[],J?Qt.reserves=[...Qt.reserves,be]:Qt.participants.length<nm?Qt.participants=[...Qt.participants,be]:Qt.reserves=[...Qt.reserves,be],ct.set(M,{participants:Qt.participants,reserves:Qt.reserves,lastUpdated:Ks()})}),await Fa(Gr(Ni,"users",s.uid),{stats:{asParticipant:Hr(J?0:1),asReserve:Hr(J?1:0),friendsBrought:Hr(N.length||0),totalSessions:Hr(0)}},{merge:!0}),F([]),await ut(s.uid),!J&&d.length>=nm&&alert("Lista partecipanti piena! Sei stato aggiunto alle riserve.")}catch(ct){alert(ct.message||"Errore durante l'iscrizione")}},rt=async()=>{if(!(!i||!s))try{await LE(Ni,async J=>{const qt=(await J.get(M)).data()||{participants:[],reserves:[]},At=qt.participants.findIndex(Qt=>Qt.uid===s.uid),ke=qt.reserves.findIndex(Qt=>Qt.uid===s.uid);if(At===-1&&ke===-1)throw new Error("Non sei iscritto a questo allenamento.");const ae=[...qt.participants];let be=[...qt.reserves];if(At!==-1){if(ae.splice(At,1),be.length>0){const Qt=be[0];be=be.slice(1),ae.push(Qt)}}else ke!==-1&&(be=be.filter(Qt=>Qt.uid!==s.uid));J.set(M,{participants:ae,reserves:be,lastUpdated:Ks()})})}catch(J){alert(J.message||"Errore durante la disiscrizione")}},vt=async()=>{try{const ct=(await Bc(M)).data()||{participants:[],reserves:[]};if(!ct.participants||ct.participants.length===0){alert("Non ci sono partecipanti da salvare!");return}const qt={date:Ks(),participants:ct.participants,reserves:ct.reserves||[],participantUids:(ct.participants||[]).map(ae=>ae.uid),reserveUids:(ct.reserves||[]).map(ae=>ae.uid)},At=await lN(NE(Ni,"sessions"),qt),ke=(ct.participants||[]).map(ae=>oN(Gr(Ni,"users",ae.uid),{"stats.totalSessions":Hr(1)}));await Promise.allSettled(ke),await Fa(M,{participants:[],reserves:[],lastUpdated:Ks(),lastSessionId:At.id},{merge:!0}),alert("Sessione salvata! Le statistiche sono state aggiornate."),s&&await ut(s.uid)}catch{alert("Errore durante la chiusura della sessione")}},bt=()=>K.jsx("div",{className:"bg-gray-800 rounded-xl shadow-2xl p-8 mb-6 border border-gray-700",children:K.jsxs("div",{className:"flex items-center justify-between mb-6",children:[K.jsxs("div",{className:"flex items-center gap-3",children:[K.jsx("div",{className:"bg-indigo-600 p-3 rounded-lg",children:K.jsx(c1,{className:"w-8 h-8 text-white"})}),K.jsxs("div",{children:[K.jsx("h1",{className:"text-3xl font-bold text-gray-100",children:"Iscrizioni pallavolo"}),Pt===ss.MATCH_DETAIL&&A?K.jsxs("div",{className:"mt-2 text-lg text-indigo-300 font-semibold",children:["Partita del ",new Date(A).toLocaleString("it-IT",{dateStyle:"full",timeStyle:"short"})]}):K.jsx("div",{className:"mt-2 text-lg text-indigo-300 font-semibold",children:"Nessuna partita attiva"})]})]}),Pt===ss.MATCH_DETAIL&&K.jsx("button",{onClick:()=>Xt(ss.NO_MATCHES),className:"mr-4 p-2 bg-gray-700 rounded-lg border border-gray-600 hover:bg-gray-600 transition",title:"Torna indietro",children:K.jsx(s1,{className:"w-6 h-6 text-gray-300"})}),i&&K.jsxs("div",{className:"relative ml-auto",children:[K.jsx("button",{onClick:()=>mt(!W),className:"p-2 bg-gray-700 rounded-full border border-gray-600 hover:bg-gray-600 transition",title:"Area personale",children:K.jsx("img",{src:s.photoURL||"",alt:s.displayName||"",className:"w-10 h-10 rounded-full border-2 border-indigo-500"})}),W&&_t&&K.jsxs("div",{className:"absolute right-0 mt-2 w-80 bg-gray-800 rounded-lg shadow-lg border border-gray-700 z-10 p-6",children:[K.jsxs("h3",{className:"text-xl font-bold text-gray-100 mb-4 flex items-center gap-2",children:[K.jsx(t1,{className:"w-6 h-6 text-yellow-500"}),"Le tue statistiche"]}),K.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[K.jsxs("div",{className:"bg-gray-800 rounded-lg p-4 border border-gray-600",children:[K.jsx("div",{className:"text-3xl font-bold text-indigo-400",children:_t.totalSessions||0}),K.jsx("div",{className:"text-sm text-gray-400",children:"Sessioni totali"})]}),K.jsxs("div",{className:"bg-gray-800 rounded-lg p-4 border border-gray-600",children:[K.jsx("div",{className:"text-3xl font-bold text-green-400",children:_t.asParticipant||0}),K.jsx("div",{className:"text-sm text-gray-400",children:"Come partecipante"})]}),K.jsxs("div",{className:"bg-gray-800 rounded-lg p-4 border border-gray-600",children:[K.jsx("div",{className:"text-3xl font-bold text-amber-400",children:_t.asReserve||0}),K.jsx("div",{className:"text-sm text-gray-400",children:"Come riserva"})]}),K.jsxs("div",{className:"bg-gray-800 rounded-lg p-4 border border-gray-600",children:[K.jsx("div",{className:"text-3xl font-bold text-purple-400",children:_t.friendsBrought||0}),K.jsx("div",{className:"text-sm text-gray-400",children:"Amici portati"})]})]}),K.jsx("button",{onClick:nt,className:"mt-6 w-full px-4 py-2 bg-gray-700 text-gray-100 rounded-lg hover:bg-gray-600 transition border border-gray-600",children:"Esci"})]})]})]})}),Ot=()=>K.jsx("div",{className:"flex flex-col items-center justify-center",children:K.jsxs("div",{className:"bg-gray-800 rounded-xl shadow-2xl p-8 border border-gray-700 w-full max-w-md text-center",children:[K.jsx("div",{className:"text-lg text-yellow-200 mb-6",children:"Nessuna partita attiva, attendere che venga creata"}),D&&K.jsxs("div",{className:"space-y-4",children:[K.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[K.jsx("label",{htmlFor:"nextSessionDate",className:"text-sm text-gray-300 font-medium",children:"Data prossima partita:"}),K.jsx("input",{id:"nextSessionDate",type:"datetime-local",value:w,onChange:J=>se(J.target.value),className:"px-3 py-2 rounded-lg bg-gray-700 text-gray-100 border border-gray-600 focus:ring-2 focus:ring-blue-500"})]}),K.jsx("button",{onClick:ge,className:"px-8 py-4 bg-green-600 text-white rounded-lg hover:bg-green-700 transition font-medium",children:"Crea nuova partita"})]})]})}),_e=()=>i?K.jsx("div",{className:"space-y-6",children:Gt&&K.jsxs(K.Fragment,{children:[!Dt()&&K.jsxs("div",{className:"space-y-4",children:[K.jsxs("div",{className:"flex gap-3",children:[K.jsxs("button",{onClick:()=>et(!1),className:"flex-1 px-6 py-3 bg-green-600 text-white rounded-lg hover:bg-green-700 transition font-medium flex items-center justify-center gap-2",children:[K.jsx(l1,{className:"w-5 h-5"}),"Iscriviti come Partecipante"]}),K.jsxs("button",{onClick:()=>et(!0),className:"flex-1 px-6 py-3 bg-amber-600 text-white rounded-lg hover:bg-amber-700 transition font-medium flex items-center justify-center gap-2",children:[K.jsx(a1,{className:"w-5 h-5"}),"Iscriviti come Riserva"]})]}),K.jsxs("div",{className:"space-y-4",children:[K.jsxs("div",{className:"text-xs text-gray-400 mb-2",children:["* Puoi aggiungere fino a ",K.jsx("span",{className:"font-bold text-indigo-300",children:"3 amici"})," per sessione"]}),K.jsxs("div",{className:"flex gap-2 items-center",children:[K.jsx("input",{type:"text",value:Z||"",onChange:J=>st(J.target.value),className:"px-4 py-2 rounded-lg bg-gray-700 text-gray-100 border border-gray-600 focus:ring-2 focus:ring-indigo-500",placeholder:"Nome amico",disabled:N.length>=3}),K.jsx("button",{type:"button",onClick:()=>{Z&&N.length<3&&(F([...N,Z]),st(""))},className:"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition font-medium",disabled:!Z||N.length>=3,children:"Aggiungi amico"})]}),N.length>0&&K.jsxs("div",{className:"mt-2",children:[K.jsx("div",{className:"text-sm text-gray-300 mb-2",children:"Amici aggiunti:"}),K.jsx("ul",{className:"space-y-2",children:N.map((J,ct)=>K.jsxs("li",{className:"flex items-center gap-2",children:[K.jsx("span",{className:"bg-indigo-900 text-indigo-100 px-3 py-1 rounded-full",children:J}),K.jsx("button",{type:"button",onClick:()=>F(N.filter((qt,At)=>At!==ct)),className:"text-red-400 hover:text-red-600 text-xs",children:"Rimuovi"})]},ct))})]})]})]}),Dt()&&K.jsx("button",{onClick:rt,className:"w-full px-6 py-3 bg-red-600 text-white rounded-lg hover:bg-red-700 transition font-medium",children:"Disiscriviti"}),K.jsxs("div",{className:"grid md:grid-cols-2 gap-6 mt-8",children:[K.jsxs("div",{className:"bg-gray-800 rounded-xl shadow-2xl p-6 border border-gray-700",children:[K.jsxs("div",{className:"flex items-center justify-between mb-4",children:[K.jsx("h2",{className:"text-xl font-bold text-gray-100",children:"Partecipanti"}),K.jsxs("span",{className:"bg-green-900 text-green-200 px-3 py-1 rounded-full font-semibold text-sm border border-green-700",children:[V()," / ",nm]})]}),K.jsx("div",{className:"space-y-3 max-h-96 overflow-y-auto",children:d.length===0?K.jsx("p",{className:"text-gray-500 text-center py-4",children:"Nessun partecipante"}):d.map((J,ct)=>K.jsx("div",{className:"bg-green-900 rounded-lg p-3 border border-green-700",children:K.jsxs("div",{className:"flex items-center gap-3",children:[K.jsx("img",{src:J.photoURL,alt:J.name,className:"w-10 h-10 rounded-full border-2 border-green-500"}),K.jsxs("div",{className:"flex-1",children:[K.jsxs("div",{className:"flex items-center justify-between",children:[K.jsx("span",{className:"font-medium text-gray-100",children:J.name}),K.jsx("span",{className:"text-xs text-gray-400",children:J.timestamp})]}),J.friends?.length>0&&K.jsx("div",{className:"mt-2 space-y-1",children:J.friends.map((qt,At)=>K.jsxs("div",{className:"text-sm text-gray-300 flex items-center gap-2",children:[K.jsx("span",{className:"text-green-400",children:""}),qt]},At))})]})]})},J.uid+"_"+ct))})]}),K.jsxs("div",{className:"bg-gray-800 rounded-xl shadow-2xl p-6 border border-gray-700",children:[K.jsxs("div",{className:"flex items-center justify-between mb-4",children:[K.jsx("h2",{className:"text-xl font-bold text-gray-100",children:"Riserve"}),K.jsx("span",{className:"bg-amber-900 text-amber-200 px-3 py-1 rounded-full font-semibold text-sm border border-amber-700",children:Y()})]}),K.jsx("div",{className:"space-y-3 max-h-96 overflow-y-auto",children:y.length===0?K.jsx("p",{className:"text-gray-500 text-center py-4",children:"Nessuna riserva"}):y.map((J,ct)=>K.jsx("div",{className:"bg-amber-900 rounded-lg p-3 border border-amber-700",children:K.jsxs("div",{className:"flex items-center gap-3",children:[K.jsx("img",{src:J.photoURL,alt:J.name,className:"w-10 h-10 rounded-full border-2 border-amber-500"}),K.jsxs("div",{className:"flex-1",children:[K.jsxs("div",{className:"flex items-center justify-between",children:[K.jsxs("span",{className:"font-medium text-gray-100",children:[ct+1,". ",J.name]}),K.jsx("span",{className:"text-xs text-gray-400",children:J.timestamp})]}),J.friends?.length>0&&K.jsx("div",{className:"mt-2 space-y-1",children:J.friends.map((qt,At)=>K.jsxs("div",{className:"text-sm text-gray-300 flex items-center gap-2",children:[K.jsx("span",{className:"text-amber-400",children:""}),qt]},At))})]})]})},J.uid+"_"+ct))})]})]}),D&&K.jsxs("div",{className:"space-y-4 mt-6",children:[K.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[K.jsx("label",{htmlFor:"nextSessionDate",className:"text-sm text-gray-300 font-medium",children:"Data prossima partita:"}),K.jsx("input",{id:"nextSessionDate",type:"datetime-local",value:w,onChange:J=>se(J.target.value),className:"px-3 py-2 rounded-lg bg-gray-700 text-gray-100 border border-gray-600 focus:ring-2 focus:ring-blue-500"})]}),K.jsxs("button",{onClick:ge,className:"w-full px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition font-medium flex items-center justify-center gap-2",children:[K.jsx(n1,{className:"w-5 h-5"}),"Nuova partita"]}),K.jsx("button",{onClick:vt,className:"w-full px-6 py-3 bg-red-600 text-white rounded-lg hover:bg-red-700 transition font-medium",children:"Chiudi sessione"})]})]})}):K.jsxs("div",{className:"space-y-4 text-center py-8",children:[K.jsx("p",{className:"text-gray-300 mb-6",children:"Accedi con Google per iscriverti agli allenamenti"}),K.jsxs("button",{onClick:q,disabled:l,className:"inline-flex items-center gap-3 px-8 py-4 bg-white text-gray-800 rounded-lg hover:bg-gray-100 transition font-medium shadow-lg disabled:opacity-50",children:[K.jsxs("svg",{className:"w-6 h-6",viewBox:"0 0 24 24",children:[K.jsx("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),K.jsx("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),K.jsx("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),K.jsx("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),l?"Accesso in corso...":"Accedi con Google"]}),K.jsx("p",{className:"text-xs text-gray-500 mt-4",children:"* Login con Firebase/Google OAuth"})]});return K.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 to-gray-800 p-6",children:K.jsxs("div",{className:"max-w-6xl mx-auto",children:[bt(),Pt===ss.NO_MATCHES&&Ot(),Pt===ss.MATCH_DETAIL&&_e()]})})}function pN(){return K.jsx("div",{className:"App",children:K.jsx(gN,{})})}YS.createRoot(document.getElementById("root")).render(K.jsx(fe.StrictMode,{children:K.jsx(pN,{})}));
